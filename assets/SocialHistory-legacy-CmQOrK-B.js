System.register(["./HisStandardForm-legacy-CfaEhksJ.js","./EncounterMixin.vue_vue_type_script_lang-legacy-DgDsRgb3.js","./index-legacy-rttSvejT.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./social_history_service-legacy-CkMYWXvz.js","./TouchScreenForm-legacy-Bt9NJZEE.js","./ToolbarMediumCard-legacy-Bi2VVsZ_.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-BdWinx1S.js","./encounter_guidelines-legacy-Da880sWK.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,a){"use strict";var l,i,t,s,n,o,r,u,c,d,v;return{setters:[e=>{l=e.H},e=>{i=e._},e=>{t=e.d,s=e.t,n=e.V,o=e._,r=e.r,u=e.o,c=e.c},e=>{d=e.F},e=>{v=e.S},null,null,null,null,null,null],execute:function(){const a=t({components:{HisStandardForm:l},mixins:[i],data:()=>({socialService:{}}),watch:{ready:{async handler(e){e&&(this.socialService=new v(this.patient.getID(),this.providerID),this.fields=this.getFields())},immediate:!0,deep:!0}},methods:{async onSubmit(e,a){if(!(await this.socialService.createEncounter()))return s("Unable to create social history encounter");const l=await this.resolveObs({...a});if(!(await this.socialService.saveObservationList(l)))return s("Unable to save observations");this.nextTask()},getFields(){return[{id:"social_acitivites",helpText:"Social Activities",type:d.TT_MULTIPLE_YES_NO,validation:e=>this.validateSeries([()=>n.required(e),()=>n.anyEmpty(e)]),computedValue:e=>({obs:e.map((e=>this.socialService.buildValueCoded(e.label,e.value)))}),summaryMapValue:e=>({label:e.label,value:e.value}),options:()=>[{label:"Patient smokes",value:"",other:{values:this.yesNoOptions()}},{label:"Patient drinks alcohol",value:"",other:{values:this.yesNoOptions()}}]},{id:"marital_status",helpText:"Marital Status",type:d.TT_SELECT,validation:e=>n.required(e),computedValue:({value:e})=>({obs:this.socialService.buildValueText("Marital status",e)}),options:()=>[{label:"Single",value:"Single"},{label:"Engaged",value:"Engaged"},{label:"Married",value:"Married"},{label:"Separated",value:"Separated"},{label:"Widowed",value:"Widowed"},{label:"Other",value:"Other"}]},{id:"religion",helpText:"Religion",type:d.TT_SELECT,validation:e=>n.required(e),computedValue:({value:e})=>({obs:this.socialService.buildValueText("Religion",e)}),options:()=>[{label:"Catholic",value:"Catholic"},{label:"CCAP",value:"CCAP"},{label:"SDA",value:"SDA"},{label:"Angelican",value:"Angelican"},{label:"Muslim",value:"Muslim"},{label:"Pentecostalism",value:"Pentecostalism"},{label:"Jehovah witness",value:"Jehovah witness"},{label:"Other",value:"Other"}]}]}}});e("default",o(a,[["render",function(e,a,l,i,t,s){const n=r("his-standard-form");return u(),c(n,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}]]))}}}));
