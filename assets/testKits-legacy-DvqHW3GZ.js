System.register(["./index-legacy-Ck8hVlzC.js"],(function(e,t){"use strict";var i,s,r,o;return{setters:[e=>{i=e.K,s=e.ah,r=e.S,o=e.dH}],execute:function(){e("T",(function(){const e=i([]),{getUserProp:t,setUserProp:a}=o();return{kits:e,initKits:async()=>{const i=[{kitName:"Unigold",lotNo:"",expiryDate:"",testGroup:"profession_hiv_kit",visible:!0,userProp:"HIV Test"},{kitName:"Determine",lotNo:"",expiryDate:"",testGroup:"profession_hiv_kit",visible:!0,userProp:"HIV Test"},{kitName:"Bioline",lotNo:"",expiryDate:"",testGroup:"profession_hiv_kit",visible:!0,userProp:"HIV Test"},{kitName:"HIV self-kit",lotNo:"",expiryDate:"",visible:!0},{kitName:"Syphilis",lotNo:"",expiryDate:"",visible:!0,userProp:"Syphilis Test"},{kitName:"Hepatitis B",lotNo:"",expiryDate:"",visible:!0,userProp:"Hepatitis B Test"}];try{const r=await(async()=>{try{return`${await t("HTS_PROGRAMS")||""}`.split(",").map((e=>e.trim()))}catch(e){console.error(`${e}`)}return[]})(),o=await t("hts_user_assigned_kits"),a=JSON.parse(o||"");i.forEach((e=>{e.userProp&&!s.isEmpty(r)&&(e.visible=r.includes(e.userProp));const t=s.find(a,{kitName:e.kitName});t&&(e.lotNo=t.lotNo,e.expiryDate=t.expiryDate)})),e.value=i.filter((e=>e.visible))}catch(r){e.value=i,console.error(`${r}`)}},saveKits:()=>a("hts_user_assigned_kits",JSON.stringify(e.value)),getLotNo:t=>{const i=s.find(e.value,{kitName:t});return i?new Date(i.expiryDate)<=new Date(r.getSessionDate())?"":i.lotNo:""},getExpiryDate:t=>{const i=s.find(e.value,{kitName:t});return i?new Date(i.expiryDate)<=new Date(r.getSessionDate())?"":i.expiryDate:""}}}));var t=e("K",(e=>(e.TEST_KIT_USER_PROPERTY="hts_user_assigned_kits",e.HIV_SELF_KIT="HIV self-kit",e.SYPHILIS="Syphilis",e.HEPATITIS="Hepatitis B",e.BIOLINE="Bioline",e.DETERMINE="Determine",e.UNIGOLD="Unigold",e))(t||{}))}}}));
