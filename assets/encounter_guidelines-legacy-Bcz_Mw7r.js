System.register(["./index-legacy-CA6M7ipO.js"],(function(e,t){"use strict";var a,o,n;return{setters:[e=>{a=e.aW,o=e.aM,n=e.H}],execute:function(){var t=e("F",(e=>(e.SET_PROVIDER="SET_PROVIDER",e.CHANGE_SESSION_DATE="change_session_date",e.GO_TO_PATIENT_DASHBOARD="go_to_patient_dashboard",e.CHANGE_PATIENT_OUTCOME="change_outcome",e.CONTINUE="continue",e.EXIT="exit",e))(t||{}));const s=e=>n.toStandardHisDisplayFormat(e);e("E",{"Warn if attempting to create new encounters for a deceased patient":{priority:1,actions:{alert:async({outcomeStartDate:e})=>{const t=await a("Data Integrity Issue Found",`Patient died on ${s(e)}`,"Proceeding with this outcome might affect accuracy of some reports",[{name:"Cancel",slot:"end",color:"primary"},{name:"Change outcome",slot:"end",color:"primary"},{name:"Continue Anyway",slot:"end",color:"danger"}]);return"Cancel"===t?"go_to_patient_dashboard":"Change outcome"===t?"change_outcome":"continue"}},conditions:{outcome:e=>"Patient died"===e,outcomeStartDate:(e,{sessionDate:t})=>t>=e}},"A patient's date of birth must not be less than Session Date":{priority:2,actions:{alert:async({birthDate:e,sessionDate:t})=>"Change session date"===await a("Data integrity issue found","",`Session date ${s(t)} is less than birth date of ${s(e)}`,[{name:"Cancel",slot:"end",color:"danger"},{name:"Change session date",slot:"end",color:"success"}])?"change_session_date":"go_to_patient_dashboard"},conditions:{birthDate:(e,{sessionDate:t})=>t<e}},"Select Encounter provider when in back data entry":{priority:3,actions:{selection:async({providers:e,encounterName:t,sessionDate:a,apiDate:n})=>{const i=await o(`Please select a provider for ${t}`,`BDE: ${s(a)} | Current: ${s(n)}`,e,[{name:"Cancel",color:"danger",slot:"start",role:"default"},{name:"Confirm",slot:"end",role:"action"}],"","full-modal");return"Cancel"===i.action?{value:-1,flowState:"go_to_patient_dashboard"}:{value:i.selection,flowState:"SET_PROVIDER"}}},conditions:{isBdeMode:e=>e}}})}}}));
