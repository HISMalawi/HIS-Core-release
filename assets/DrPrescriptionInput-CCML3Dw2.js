import{d as B,a3 as N,bP as R,a2 as S,Z as z,_ as j,aV as A,a8 as E,ad as a,u as m,B as h,x as i,w as o,E as f,C as k,v as F,a1 as t,Y as l,b0 as C,z as x,a6 as P,a7 as Y}from"./index-CG6KEPsv.js";import{_ as G}from"./FieldMixin.vue_vue_type_script_lang-8lytXBXT.js";const L=B({mixins:[G],components:{IonButton:N,ViewPort:R,IonInput:S,IonRow:z,IonCol:j,IonGrid:A},data:()=>({listData:[]}),mounted(){this.init()},activated(){this.init()},computed:{drugChart(){return this.listData.reduce((s,n)=>[...s,...n.other],[])},composition(){return this.listData.map(s=>s.value).join("-")}},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.emitValue()},switchRegimen(s,n){var d,b,g;s.value=(b=(d=s.other)==null?void 0:d[n])==null?void 0:b.abbreviation,s.other.selected=(g=s.other)==null?void 0:g[n],this.emitValue()},emitValue(){this.$emit("onValue",this.listData.map(s=>{const n=s.other.find(d=>d.abbreviation===s.value);return{label:n.name,value:n.concept.concept_id,other:n.drug.weight_adjusted[0]}}))}}}),T=s=>(P("data-v-b27a36cc"),s=s(),Y(),s),W={class:"his-md-text"},Z={style:{width:"100%","text-align":"left"}},q=T(()=>t("thead",null,[t("th",{class:"his-sm-text"},"Weight band"),t("th",{class:"his-sm-text"},"Abbreviation"),t("th",{class:"his-sm-text"},"Side Effects"),t("th",{class:"his-sm-text"},"Resistant")],-1)),H={class:"his-floating-keyboard"},J={class:"his-floating-keyboard-content"},K={style:{width:"100%","text-align":"left"}},M={style:{width:"100%","text-align":"left"}},O={class:"ion-text-center"},Q={class:"his-lg-text"};function U(s,n,d,b,g,X){const y=a("ion-input"),v=a("ion-col"),I=a("ion-row"),V=a("ion-grid"),$=a("view-port"),w=a("ion-button");return m(),h(f,null,[i($,{showFull:!1},{default:o(()=>[i(y,{value:s.composition,class:"input_display",disabled:!0},null,8,["value"]),i(V,{class:"view-port-content"},{default:o(()=>[(m(!0),h(f,null,k(s.drugChart,(e,p)=>(m(),F(I,{key:p},{default:o(()=>[i(v,{size:"3"},{default:o(()=>[t("b",W,l(e.name),1)]),_:2},1024),i(v,{size:"9"},{default:o(()=>{var u,c,r,_;return[t("table",Z,[q,t("tbody",null,[t("tr",null,[t("td",null,l(((_=(r=(c=(u=e.drug)==null?void 0:u.weight_adjusted)==null?void 0:c[0])==null?void 0:r.drug)==null?void 0:_.name)||"N/A"),1),t("td",null,l(e==null?void 0:e.abbreviation),1),t("td",null,[t("span",{class:C({drug_danger:e==null?void 0:e.side_effects,drug_ok:!(e!=null&&e.side_effects)})},l(e!=null&&e.side_effects?"Yes":"No"),3)]),t("td",null,[t("span",{class:C({drug_danger:e==null?void 0:e.resistant,drug_ok:!(e!=null&&e.resistant)})},l(e.resistant?"Yes":"No"),3)])])])])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t("div",H,[t("div",J,[t("table",K,[(m(!0),h(f,null,k(s.listData,(e,p)=>{var u,c,r,_;return m(),h("td",{key:p},[t("table",M,[t("tr",null,[t("td",null,[i(w,{onClick:D=>s.switchRegimen(e,0),disabled:e.other.length<=1||((c=(u=e.other)==null?void 0:u[0])==null?void 0:c.abbreviation)===e.value,color:e.other.length>1?"success":"light",class:"w-button"},{default:o(()=>[x(" + ")]),_:2},1032,["onClick","disabled","color"])])]),t("tr",null,[t("td",O,[t("span",Q,l(e.value),1)])]),t("tr",null,[t("td",null,[i(w,{onClick:D=>s.switchRegimen(e,1),disabled:e.other.length<=1||((_=(r=e.other)==null?void 0:r[1])==null?void 0:_.abbreviation)===e.value,color:e.other.length>1?"success":"light",class:"w-button"},{default:o(()=>[x(" - ")]),_:2},1032,["onClick","disabled","color"])])])])])}),128))])])])],64)}const se=E(L,[["render",U],["__scopeId","data-v-b27a36cc"]]);export{se as default};
