import{d as D,bW as $,$ as V,_ as I,a1 as N,a0 as S,a3 as B,W as E,aN as H,ag as z,a6 as A,ab as s,u as o,v as d,w as n,G as e,x as l,B as i,E as _,C as h,z as f,Z as r,H as v}from"./index-CyYd6aWW.js";import{_ as F}from"./FieldMixin.vue_vue_type_script_lang-DVMlEpjU.js";const L=D({name:"HisSelect",components:{ViewPort:$,IonCol:V,IonRow:I,IonLabel:N,IonList:S,IonButton:B,IonItem:E},mixins:[F],data:()=>({listData:[],activeProgram:{}}),mounted(){this.init()},activated(){this.init()},computed:{states(){return H.isEmpty(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{clearValue(){this.activeProgram={},this.$emit("onClear")},async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata)},formatDate(t){return t?z.toStandardHisDisplayFormat(t):"N/A"},async onselect(t){if(this.activeProgram=t,this.onValue&&!await this.onValue(t,this)){this.activeProgram={};return}this.$emit("onValue",t)}}}),W={class:"view-port-content"},x={key:0,style:{textAlign:"center"}},G={key:1,class:"his-sm-text his-table"};function R(t,m,T,Z,j,q){const g=s("ion-label"),b=s("ion-item"),k=s("ion-list"),p=s("ion-col"),P=s("ion-button"),y=s("ion-row"),w=s("view-port");return o(),d(w,null,{default:n(()=>[e("div",W,[l(y,null,{default:n(()=>[l(p,{size:"4"},{default:n(()=>[l(k,null,{default:n(()=>[(o(!0),i(_,null,h(t.listData,(a,c)=>(o(),d(b,{class:"his-sm-text",color:a.label===t.activeProgram.label?"primary":"",key:c,onClick:u=>t.onselect(a),detail:""},{default:n(()=>[l(g,null,{default:n(()=>[f(r(a.label),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),l(p,{size:"8"},{default:n(()=>[t.activeProgram.label&&t.states.length<=0?(o(),i("h1",x," Program has no states ")):v("",!0),t.activeProgram.label&&t.states.length>0?(o(),i("table",G,[m[0]||(m[0]=e("tr",null,[e("th",null,"State"),e("th",null,"State Date"),e("th",null,"End Date"),e("th",null,"Actions")],-1)),(o(!0),i(_,null,h(t.states,(a,c)=>(o(),i("tr",{key:c},[e("td",null,r(a.name),1),e("td",null,r(a.startDate),1),e("td",null,r(a.endDate||"N/A"),1),e("td",null,[(o(!0),i(_,null,h(a.actions,(u,C)=>(o(),d(P,{key:C,color:u.color,onClick:J=>u.action(t.activeProgram,c)},{default:n(()=>[f(r(u.name),1)]),_:2},1032,["color","onClick"]))),128))])]))),128))])):v("",!0)]),_:1})]),_:1})])]),_:1})}const O=A(L,[["render",R],["__scopeId","data-v-4c2d8997"]]);export{O as default};
