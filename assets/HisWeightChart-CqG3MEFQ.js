import{d as v,dk as b,b_ as W,ag as x,af as C,ac as S,b7 as $,ak as A,ap as r,a as I,b as k,w as s,f as _,e as a,h as n,t as p,aL as B,cy as P,aN as D}from"./index-CJleCCtM.js";import{_ as F}from"./FieldMixin.vue_vue_type_script_lang-BmhYWVLG.js";const L=v({components:{ApexChart:b,ViewPort:W,IonCol:x,IonRow:C,IonItem:S,IonChip:$},mixins:[F],data:()=>({stats:{prevWeight:"-",curWeight:"-",curWeightChange:"-",weightState:"",age:"-",bmi:{}},type:"area",width:"100%",height:"560px",series:[],chartOptions:{chart:{id:"weight_chart"},title:{text:"Weight trail (2 year period)"},stroke:{curve:"smooth"},yaxis:{title:{text:"Weight Kg(s)"},min:0},xaxis:{categories:[]},dataLabels:{enabled:!0,textAnchor:"start",formatter:function(e,t){var o;const i=(o=t.w.config.series[0].data[t.dataPointIndex-1])==null?void 0:o.y;return i&&i>0?(e/i*100-100).toFixed(2)+" %":"0.0%"}}}}),mounted(){this.$emit("onFieldActivated",this)},activated(){this.$emit("onFieldActivated",this)},methods:{setStats(e){var o,l;const t=((o=e.values[e.values.length-2])==null?void 0:o.y)||0,i=((l=e.values[e.values.length-1])==null?void 0:l.y)||0;if(this.stats.curWeight=i||"-",this.stats.prevWeight=t||"-",this.stats.age=e.age,this.stats.bmi=e.bmi,i>0&&t>0){this.stats.curWeightChange=Math.abs(i/t*100-100).toFixed(2)+" %";const d="/assets/images/drop-up-arrow.svg",u="/assets/images/drop-down-arrow.svg";this.stats.weightState=i>t?d:u}}},async created(){const t=(await this.options(this.fdata))[0].other,i=t.values;this.series=[{name:"Weight",data:i.sort((o,l)=>{const d=new Date(o.x),u=new Date(l.x);return d-u}).map(o=>{const[l,d]=o.x.split("/");return{x:"".concat(l,".").concat(d),y:o.y}})}],this.type=t.type?t.type:"area",this.width=t.width?t.width:"100%",this.setStats(t)}}),N={class:"view-port-content"},V=["src"];function z(e,t,i,o,l,d){const u=r("ApexChart"),m=r("ion-col"),h=r("ion-label"),g=r("ion-chip"),c=r("ion-item"),f=r("ion-list"),w=r("ion-row"),y=r("view-port");return I(),k(y,null,{default:s(()=>[_("div",N,[a(w,{class:"parent-row"},{default:s(()=>[a(m,{size:"7"},{default:s(()=>[a(u,{width:e.width,height:e.height,type:e.type,options:e.chartOptions,series:e.series},null,8,["width","height","type","options","series"])]),_:1}),a(m,{size:"5"},{default:s(()=>[a(f,null,{default:s(()=>[a(c,null,{default:s(()=>[a(h,{class:"title"},{default:s(()=>t[0]||(t[0]=[n("Previous weight")])),_:1}),a(g,{slot:"end",color:"primary"},{default:s(()=>[n(p(e.stats.prevWeight),1)]),_:1})]),_:1}),a(c,null,{default:s(()=>[a(h,{class:"title"},{default:s(()=>t[1]||(t[1]=[n("Lastest weight")])),_:1}),a(g,{slot:"end",color:"primary"},{default:s(()=>[n(p(e.stats.curWeight),1)]),_:1})]),_:1}),a(c,null,{default:s(()=>[a(h,{class:"title"},{default:s(()=>t[2]||(t[2]=[n("Latest weight change")])),_:1}),B(_("img",{src:e.stats.weightState,width:"50"},null,8,V),[[P,e.stats.weightState]]),a(g,{slot:"end",color:"primary"},{default:s(()=>[n(p(e.stats.curWeightChange),1)]),_:1})]),_:1}),a(c,null,{default:s(()=>[a(h,{class:"title"},{default:s(()=>t[3]||(t[3]=[n("Patient Age")])),_:1}),a(g,{slot:"end",color:"primary"},{default:s(()=>[n(p(e.stats.age),1)]),_:1})]),_:1}),a(c,null,{default:s(()=>[a(h,{class:"title"},{default:s(()=>t[4]||(t[4]=[n("Patient BMI")])),_:1}),a(g,{slot:"end",color:"primary"},{default:s(()=>[n(p(e.stats.bmi.index),1)]),_:1})]),_:1}),a(c,null,{default:s(()=>[a(h,{style:D({"background-color":e.stats.bmi.color,color:"white",padding:"10px","text-align":"center"})},{default:s(()=>[n(p(e.stats.bmi.result),1)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}const H=A(L,[["render",z],["__scopeId","data-v-34225c2a"]]);export{H as default};
