System.register(["./dynamic-import-helper-legacy-DYK5bIOV.js","./HisStandardForm-legacy-DOc8dQFT.js","./index-legacy-HpoRL6sM.js","./KbLayouts-legacy-BKvPSxzZ.js","./TouchScreenForm-legacy-D3QVjNom.js","./ToolbarMediumCard-legacy-BjHrpWWd.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-u0ytW13O.js"],(function(e,t){"use strict";var s,o,a,i,r,n,l,c,d,u,g,h,p;return{setters:[e=>{s=e.F},e=>{o=e.H},e=>{a=e.d,i=e.be,r=e.aN,n=e.t,l=e.V,c=e.ad,d=e._,u=e.r,g=e.o,h=e.c},e=>{p=e.N},null,null,null,null],execute:function(){const t=a({components:{HisStandardForm:o},methods:{async onFinish(e){const t=e.protocol.value,s=e.ip_address.value,o=e.port.value;i.setLocalStorage(t,s,o);const a=await r.create({message:"Please wait...",backdropDismiss:!1});await a.present();const l=await i.healthCheck();r.dismiss(),l&&200===l.status&&l?this.$router.back():(n(`\n          Unable to connect to: ${t}://${s}: ${o}\n        `),this.clearLocalStorage())},getFields(){this.fields=[{id:"protocol",helpText:"Select Protocol",type:s.TT_SELECT,requireNext:!1,validation:e=>l.required(e),options:()=>[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}]},{id:"ip_address",helpText:"Enter IP Address",type:s.TT_IP_ADDRESS,validation:e=>l.required(e)||l.isIPAddress(e)},{id:"port",helpText:"Enter Port",validation:e=>l.required(e),type:s.TT_TEXT,config:{customKeyboard:[p,[["Delete"]]]}}]},async showConfigNotice(){this.isUsingLocalStorage()&&"Reset configurations"===await c("Config notice","The system is currently using user specified configurations.                 Do you wish to reset back to server configurations?","",[{name:"Reset configurations",slot:"start",color:"success"},{name:"New configurations",slot:"end"}])&&(this.clearLocalStorage(),this.$router.back())},isUsingLocalStorage:()=>"true"===localStorage.getItem("useLocalStorage"),clearLocalStorage(){i.removeOnly(["useLocalStorage","apiURL","apiPort","apiProtocol"])}},data:()=>({fields:[]}),async mounted(){await this.showConfigNotice(),this.getFields()}});e("default",d(t,[["render",function(e,t,s,o,a,i){const r=u("his-standard-form");return g(),h(r,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}]]))}}}));
