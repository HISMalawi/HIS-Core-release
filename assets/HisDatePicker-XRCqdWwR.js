import{d as V,bW as b,aW as g,$ as w,_ as $,a1 as k,a0 as y,W as C,d8 as x,ag as S,a6 as z,ab as s,u as l,v as f,w as a,G as i,x as n,b1 as B,Z as d,B as r,aH as H,H as P,E as F,C as L}from"./index-CyYd6aWW.js";import{D as N}from"./index-BHuSkgFR.js";import{_ as W}from"./FieldMixin.vue_vue_type_script_lang-DVMlEpjU.js";const A=V({components:{DatePicker:N,ViewPort:b,IonGrid:g,IonCol:w,IonRow:$,IonLabel:k,IonList:y,IonItem:C},mixins:[W],data:()=>({date:"",prevDate:"",minDate:void 0,maxDate:void 0,dateInfoItems:{},dateSupValues:{}}),async created(){!this.date&&typeof this.defaultValue=="function"&&this.select(await this.defaultValue(this.fdata)),typeof this.config.minDate=="function"&&(this.minDate=this.config.minDate(this.fdata)),typeof this.config.maxDate=="function"&&(this.maxDate=this.config.maxDate(this.fdata))},methods:{toOptionValue(t){return{label:x(t),value:t}},focusDate(t){this.$refs.calendar.move(t)},async select(t){if(this.prevDate=this.date,this.date=S.toStandardHisFormat(t),typeof this.onValue=="function"&&!await this.onValue(this.date,this)){this.prevDate?(this.date=this.prevDate,this.focusDate(this.date)):(this.date="",this.$emit("onValue",null));return}this.$emit("onValue",this.toOptionValue(this.date)),this.focusDate(this.date);const o=typeof this.config.persistInfoItems=="boolean"?this.config.persistInfoItems:!0;typeof this.config.infoItems=="function"&&(!o||!this.dateInfoItems[this.date])&&(this.dateInfoItems[this.date]=await this.config.infoItems(this.date,this.fdata)||[]),typeof this.config.supValue=="function"&&(this.dateSupValues[this.date]||(this.dateSupValues[this.date]=await this.config.supValue(this.date,this.fdata)))}},mounted(){this.$emit("onFieldActivated",this)},activated(){this.select(this.date),this.$emit("onFieldActivated",this)}}),E={class:"view-port-content-calendar"},G=["onClick"];function O(t,o,R,Z,j,q){const h=s("DatePicker"),c=s("ion-col"),m=s("ion-label"),p=s("ion-item"),_=s("ion-list"),D=s("ion-row"),I=s("ion-grid"),v=s("view-port");return l(),f(v,null,{default:a(()=>[i("div",E,[n(I,null,{default:a(()=>[n(D,null,{default:a(()=>[n(c,{"size-md":"8","size-sm":"12"},{default:a(()=>[n(h,{"is-expanded":"",color:"blue",ref:"calendar",modelValue:"","min-date":t.minDate,"max-date":t.maxDate,attributes:[{highlight:!0,dates:[t.date]}],"disable-page-swipe":"",class:"custom-calendar"},{"day-content":a(({day:e})=>[i("div",{class:B([{selected:e.id===t.date,"date-disabled":e.isDisabled},"his-lg-text"]),onClick:u=>!e.isDisabled&&t.select(e.id)},[i("span",null,[i("b",null,d(e.day),1)]),t.dateSupValues[e.id]?(l(),r("sup",{key:0,style:H("color: ".concat(e.id===t.date?"white":"#5eff7f")),class:"sup-value his-md-text"},[i("b",null,d(t.dateSupValues[e.id]),1)],4)):P("",!0)],10,G)]),_:1},8,["min-date","max-date","attributes"])]),_:1}),n(c,{"size-md":"4","size-sm":"12",class:"his-card-calendar"},{default:a(()=>[n(_,null,{default:a(()=>[(l(!0),r(F,null,L(t.dateInfoItems[t.date]||[],(e,u)=>(l(),f(p,{class:"his-sm-text",key:u},{default:a(()=>[n(m,{class:"ion-text-wrap"},{default:a(()=>[i("b",null,d(e.label),1),o[0]||(o[0]=i("p",null,null,-1)),i("span",null,d(e.value),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}const Q=z(A,[["render",O]]);export{Q as default};
