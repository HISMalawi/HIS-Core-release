import{d as v,b_ as g,b4 as w,ag as D,af as F,aj as $,z as b,cB as C,an as c,aR as E,ao as p,ak as k,ap as s,a as r,b as f,w as a,f as l,e as i,g as T,a5 as I,a4 as z,t as V}from"./index-CJleCCtM.js";import{_ as x}from"./FieldMixin.vue_vue_type_script_lang-BmhYWVLG.js";const B=v({components:{ViewPort:g,IonGrid:w,IonCol:D,IonRow:F,IonInput:$},mixins:[x],data:()=>({listData:[]}),watch:{clear:{handler(){this.listData=this.listData.filter(t=>(t.other.frequency="",t.other.quantity="",!0))},immediate:!0},listData:{handler(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata,this.cdata,this.listData)},async launchEditor(t,e){(await b.create({component:C,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:t,onFinish:e}})).present()},editFrequency(t){this.launchEditor({id:"edit_frequency",helpText:"Edit Frequency for ".concat(t.label),type:c.TT_SELECT,defaultValue:()=>t.other.frequency,options:()=>E.isEmpty(this.config.drugFrequencies)?[]:this.config.drugFrequencies,validation:e=>p.required(e)},e=>{t.other.frequency=e.value})},editQuantity(t){this.launchEditor({id:"edit_quantity",helpText:"Edit quantity for ".concat(t.label),type:c.TT_NUMBER,defaultValue:()=>t.other.quantity,validation:e=>p.required(e)},e=>{t.other.quantity=parseInt("".concat(e.value))})}}}),A={class:"view-port-content"},N={class:"his-card",style:{textAlign:"left"}};function Q(t,e,h,R,S,L){const n=s("ion-col"),u=s("ion-row"),d=s("ion-input"),_=s("ion-grid"),m=s("view-port");return r(),f(m,null,{default:a(()=>[l("div",A,[i(_,null,{default:a(()=>[i(u,null,{default:a(()=>[i(n,{size:"6"},{default:a(()=>e[0]||(e[0]=[l("b",null," Drugs ",-1)])),_:1}),i(n,{size:"3"},{default:a(()=>e[1]||(e[1]=[l("b",null," Quantity",-1)])),_:1}),i(n,{size:"3"},{default:a(()=>e[2]||(e[2]=[l("b",null," Frequency ",-1)])),_:1})]),_:1}),(r(!0),T(I,null,z(t.listData,(o,y)=>(r(),f(u,{key:y},{default:a(()=>[i(n,{size:"6"},{default:a(()=>[l("div",N,V(o.label),1)]),_:2},1024),i(n,{size:"3"},{default:a(()=>[i(d,{readonly:"",value:o.other.quantity,onClick:q=>t.editQuantity(o),class:"his-card"},null,8,["value","onClick"])]),_:2},1024),i(n,{size:"3"},{default:a(()=>[i(d,{readonly:"",value:o.other.frequency,onClick:q=>t.editFrequency(o),class:"his-card"},null,8,["value","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})}const G=k(B,[["render",Q],["__scopeId","data-v-37aa714b"]]);export{G as default};
