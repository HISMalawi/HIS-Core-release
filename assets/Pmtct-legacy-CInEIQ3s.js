System.register(["./EncounterMixin.vue_vue_type_script_lang-legacy-BmCg9KlZ.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./index-legacy-X--GYU37.js","./encounter_guidelines-legacy-wNYbMa3T.js","./GuidelineEngine-legacy-KsvQuFdF.js","./HisStandardForm-legacy-DMJkhfrq.js","./TouchScreenForm-legacy-C_f8Ho2H.js","./ToolbarMediumCard-legacy-CdhT4OJW.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-1het9QhE.js"],(function(e,t){"use strict";var i,n,s,a,l,o,r,c,u,d,h,m;return{setters:[e=>{i=e._},e=>{n=e.F},e=>{s=e.b4,a=e.d,l=e.I,o=e.V,r=e._,c=e.r,u=e.o,d=e.c,h=e.w,m=e.b},null,null,null,null,null,null,null],execute:function(){class t extends s{constructor(e,t){super(e,10,t)}}const g=a({components:{IonPage:l},mixins:[i],data:()=>({service:{},formFields:[]}),watch:{ready:{handler(e){e&&(this.service=new t(this.patientID,this.providerID),this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(t)),this.nextTask()},getFields(){return[{id:"pmct",helpText:"PMTCT",type:n.TT_YES_NO,computedValue:e=>this.service.buildValueCoded("PMTCT",e.match(/true/i)?"Yes":"No"),validation:e=>o.required(e),options:()=>[{label:"Proceed to PMTCT",values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]},{id:"reason_for_not_starting_art",helpText:"Reason for not starting ART",type:n.TT_SELECT,condition:e=>"false"===e.pmct,validation:e=>o.required(e),computedValue:e=>this.service.buildValueText("Reason for exiting care",e.value),options:()=>this.mapStrToOptions(["Already on ART at another facility","To be done in another room","Not willing"])}]}}});e("default",r(g,[["render",function(e,t,i,n,s,a){const l=c("his-standard-form"),o=c("ion-page");return u(),d(o,null,{default:h((()=>[m(l,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])])),_:1})}]]))}}}));
