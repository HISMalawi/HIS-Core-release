System.register(["./DataTableTemplate-legacy-BPylHDU6.js","./index-legacy-Ck8hVlzC.js","./Layout-legacy-Up7dx155.js"],(function(e,t){"use strict";var l,s,a,i,n,r,d,o,u,c,p;return{setters:[e=>{l=e.H},e=>{s=e.d,a=e.dE,i=e.L,n=e.P,r=e.ao,d=e.O,o=e._,u=e.r,c=e.o,p=e.c},null],execute:function(){const t=s({components:{HtsTemplate:l},setup(){const e=new a("HTS MONTHLY ACTIVITY LOG");return{params:{logo:"reports.png",title:"HTS MONTHLY ACTIVITY LOG",prefix:"Clinic",columns:[[{label:"Provider ID",value:e=>e.provider_code||"N/A"},{label:"Username",value:e=>e.username},{label:"HIV Rapid",columnType:"drilldown",value:e=>e.hiv_status},{label:"Syphilis Rapid",columnType:"drilldown",value:e=>e.syphilis_status},{label:"HepB Rapid",columnType:"drilldown",value:e=>e.hepb_status},{label:"DBS EID",value:e=>e.dbs_eid||"N/A"},{label:"DBS VL",value:e=>e.dbs_vl||"N/A"},{label:"DBS for inconclusives",value:e=>e.dbs_for_inconclusives||"N/A"},{label:"Self-Tests distributed",columnType:"customDrillDown",drillParams:(e,t)=>({title:"Self tests distributed",columns:[[i.thTxt("National ID"),i.thTxt("First name"),i.thTxt("Last name"),i.thTxt("Birthdate"),i.thTxt("Kits"),i.thTxt("Action")]],data:e.self_test_kits,generator:async e=>{const l=[];for(const a of e){const e=`${a.person_id}_kits_given`;if(t.drill[e])l.push(t.drill[e]);else try{const s=new n(await n.findByID(a.person_id));t.drill[e]=[i.td(s.getNationalID()),i.td(s.getGivenName()),i.td(s.getFamilyName()),i.tdDate(`${s.getBirthdate()}`),i.td(a.self_kits),i.tdBtn("Show",(()=>{r.push({path:`/patient/dashboard/${e}`}),d.dismiss({})}))],l.push(t.drill[e])}catch(s){console.error(s)}}return l}}),value:e=>e.self_test_kits,staticValue:e=>e.self_test_kits.reduce(((e,t)=>e+t.self_kits),0)},{label:"Recency",columnType:"drilldown",value:e=>e.recency}]],hasPeriodSelection:!0,data:async(t,l,s)=>(e.startDate=s.start_date,e.endDate=s.end_date,e.requestReport())}}}});e("default",o(t,[["render",function(e,t,l,s,a,i){const n=u("hts-template");return c(),p(n,{params:e.params},null,8,["params"])}]]))}}}));
