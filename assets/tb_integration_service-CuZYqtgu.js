var r=Object.defineProperty;var o=(a,i,t)=>i in a?r(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t;var e=(a,i,t)=>o(a,typeof i!="symbol"?i+"":i,t);import{be as s,dw as m,dx as c,B as u}from"./index-DrAzzURJ.js";class d extends s{constructor(t){super();e(this,"patientID");e(this,"isPositive",!1);e(this,"isEptbPositive",!1);e(this,"isOnTreatment",!1);e(this,"monthsOnTreatment",0);e(this,"outcomeDate","");e(this,"treatmentDate","");e(this,"maxPeriodOnTreatment",9);this.patientID=t}async loadTbProgram(){const t=await s.getProgramInformation(this.patientID,m);t&&(this.isPositive=t.tb_positive||!1,this.isEptbPositive=t.eptb||!1,c(t==null?void 0:t.current_outcome_date)&&(this.outcomeDate=t.current_outcome_date,this.monthsOnTreatment=u(s.getSessionDate()).diff(this.outcomeDate,"month"),this.isOnTreatment=(()=>{var n;return/currently in treatment/i.test("".concat((n=t==null?void 0:t.current_outcome)!=null?n:""))?this.monthsOnTreatment<=this.maxPeriodOnTreatment:!1})()))}}export{d as T};
