var c=Object.defineProperty;var m=(i,r,t)=>r in i?c(i,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[r]=t;var o=(i,r,t)=>m(i,typeof r!="symbol"?r+"":r,t);import{cd as n,d3 as l}from"./index-C_BWP2R5.js";class f extends n{constructor(){super();o(this,"org");o(this,"initializeArvRefillReportTables");this.org="pepfar",this.initializeArvRefillReportTables=!0}initArvRefillPeriod(t){this.initializeArvRefillReportTables=t}setOrg(t){this.org=t}getClinicTxRtt(){return this.getReport("programs/".concat(this.programID,"/reports/clinic_tx_rtt"))}getTxMMDClientLevelData(t){const e=l.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),a="tx_mmd_client_level_data?".concat(e);return n.postJson(a,{patient_ids:t})}remapTxClientLevelData(t){return t.map(e=>{let a=null;const p=[];for(const g in e)Object.values(e[g]).forEach(d=>{for(const u in d){const s=d[u];a||(a={id:s.arv_number,dob:s.birthdate,dispenseDate:s.start_date}),p.push({name:s.drug_name,quantity:s.quantity,dose:s.dose_per_day})}});return{...a,drugs:p}})}getTxCurrMMDReport(t=!1,e="pepfar"){return this.getReport("programs/".concat(this.programID,"/reports/tx_curr_mmd"),{definition:e,rebuild:t})}getTxMlReport(t=!1){return this.getReport("tx_ml",{rebuild:t})}getTxNewReport(t){return this.getReport("programs/".concat(this.programID,"/reports/tx_new"),{rebuild:"".concat(t)})}getTxRttReport(t=!1){return this.getReport("tx_rtt",{rebuild:t})}getMaternalStatus(t){const e={start_date:this.startDate,end_date:this.endDate,date:this.date,program_id:this.programID,report_definition:"pepfar"};this.occupation&&(e.occupation=this.occupation);const a=l.parameterizeObjToString(e);return n.postJson("vl_maternal_status?".concat(a),{patient_ids:t})}}export{f as T};
