import{F as n}from"./dynamic-import-helper-9HnG3Mif.js";import{d as l,G as r,b9 as t,R as a,a as i,T as _,V as p,_ as d,r as c,o as E,c as A,z as T}from"./index-LcKkVeBi.js";import{H as h}from"./HisStandardForm-EQOKz9NX.js";import"./TouchScreenForm-xHVNtrEx.js";import"./ToolbarMediumCard-8zGLRwn9.js";import"./Transformers-XlEF3tgP.js";import"./ViewPort-bfGE2-21.js";const m=l({components:{HisStandardForm:h},methods:{onFinish(e){r.set(this.property,e.preference).then(()=>{switch(this.property){case i.DDE_ENABLED:a.invalidate("IS_DDE_ENABLED");break;case t.DRUG_MANAGEMENT:a.invalidate("IS_ART_DRUG_MANAGEMENT_ENABLED");break;case i.MILITARY_SITE:a.invalidate("IS_MILITARY_SITE");break;case t.FAST_TRACK:a.invalidate("IS_ART_FAST_TRACK_ENABLED");break;case t.HTN_ENHANCEMENT:a.invalidate("IS_ART_HTN_ENABLED");break;case t.FILING_NUMBERS:a.invalidate("IS_ART_FILING_NUMBER_ENABLED");break;case t.PILLS_REMAINING:a.invalidate("ASK_HANGING_PILLS");break;case t.THREE_HP_AUTO_SELECT:a.invalidate("ART_AUTO_3HP_SELECTION");break}_("Property set")}).then(()=>this.$router.push("/"))},async getFields(){this.fields=[{id:"preference",helpText:this.label,type:n.TT_YES_NO,defaultValue:()=>this.val,validation:e=>p.required(e),options:()=>[{label:this.label,values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]}]}},data(){return{property:null,fields:[],label:null,val:""}},watch:{$route:{async handler({query:e}){if(e.label&&e.property){try{this.val=await r.get(e.property)}catch(s){console.log("fixed global property not found error")}this.property=e.property,this.label=e.label,this.getFields()}},deep:!0,immediate:!0}}});function N(e,s,f,u,S,b){const o=c("his-standard-form");return e.fields.length>0?(E(),A(o,{key:0,fields:e.fields,onOnSubmit:e.onSubmit,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnSubmit","onOnFinish"])):T("",!0)}const k=d(m,[["render",N]]);export{k as default};
