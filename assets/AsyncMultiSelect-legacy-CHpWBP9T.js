System.register(["./index-legacy-Dab_9-0G.js","./FieldMixin.vue_vue_type_script_lang-legacy-YXJEonBV.js","./ViewPort-legacy-kf7cSfpw.js","./KbHandler-legacy-De8o5nTq.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BaseTextInput-legacy-B_3TvUVu.js","./HisKeyboard-legacy-BXmQHvU9.js","./fuse-legacy-CQoBB3MK.js","./KbLayouts-legacy-BKvPSxzZ.js","./BaseKeyboard-legacy-DL8gpzKP.js"],(function(e,t){"use strict";var i,s,l,n,a,o,h,c,d,r,u,p,y,f,b,k,g,x,C,m,v,j,O;return{setters:[e=>{i=e.d,s=e.g,l=e.h,n=e.C,a=e.e,o=e._,h=e.r,c=e.o,d=e.c,r=e.w,u=e.b,p=e.x,y=e.F,f=e.y,b=e.A,k=e.v},e=>{g=e._},e=>{x=e.V},e=>{C=e.k},e=>{m=e.Q},e=>{v=e.default},e=>{j=e.H},e=>{O=e.F},null,null],execute:function(){const t=i({components:{ViewPort:x,IonList:s,IonItem:l,IonLabel:n,HisKeyboard:j,HisTextInput:v,IonCheckbox:a},mixins:[g],data:()=>({filter:"",keyboard:m,listOptions:[]}),mounted(){this.init()},activated(){this.init()},watch:{clear(){this.filter="",this.listOptions.forEach((e=>e.isChecked=!1)),this.updateValue()}},computed:{displayList(){return this.filter?new O(this.listOptions,{threshold:.4,keys:["label"],useExtendedSearch:!0}).search(this.filter).map((e=>e.item)):this.listOptions}},methods:{init(){this.$emit("onFieldActivated",this),this.options(this.fdata).then((e=>this.indexData(e)))},updateValue(){this.$nextTick((()=>{this.$emit("onValue",this.listOptions.filter((e=>e.isChecked)))}))},indexData(e){const t=this.listOptions.map((e=>e.label));e.forEach((e=>{t.includes(e.label)||this.listOptions.push(e)}))},onFilter(e){this.filter=e,this.options(this.fdata,this.filter).then(this.indexData)},onSelect(e){this.listOptions.forEach((t=>{t.label===e.label&&(t.isChecked=!t.isChecked)})),this.updateValue()},keypress(e){this.onFilter(C(e,this.filter))}}}),_={class:"his-md-text"};e("default",o(t,[["render",function(e,t,i,s,l,n){const a=h("his-text-input"),o=h("ion-checkbox"),g=h("ion-label"),x=h("ion-item"),C=h("ion-list"),m=h("his-keyboard"),v=h("view-port");return c(),d(v,{showFull:!1},{default:r((()=>[u(a,{value:e.filter,onOnValue:t[0]||(t[0]=t=>e.onFilter(t))},null,8,["value"]),u(C,{class:"view-port-content"},{default:r((()=>[(c(!0),p(y,null,f(e.displayList,((t,i)=>(c(),d(x,{key:i,onClick:i=>e.onSelect(t),color:t.isChecked?"lightblue":"",lines:t.isChecked?"none":void 0},{default:r((()=>[u(o,{slot:"start",checked:t.isChecked,disabled:t?.disabled},null,8,["checked","disabled"]),u(g,null,{default:r((()=>[b("span",_,k(t.label),1)])),_:2},1024)])),_:2},1032,["onClick","color","lines"])))),128))])),_:1}),u(m,{kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])])),_:1})}]]))}}}));
