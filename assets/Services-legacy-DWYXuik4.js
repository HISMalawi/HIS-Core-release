System.register(["./HisStandardForm-legacy-C7VqHmr3.js","./EncounterMixin.vue_vue_type_script_lang-legacy-BYNMg0KB.js","./index-legacy--hxN_V8z.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./TouchScreenForm-legacy-DxIQwsU4.js","./ToolbarMediumCard-legacy-CzmL2SiF.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-TUlObaz7.js","./encounter_guidelines-legacy-BZk5BWg2.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,t){"use strict";var i,n,s,a,r,c,l,o,u,d,h;return{setters:[e=>{i=e.H},e=>{n=e._},e=>{s=e.b2,a=e.d,r=e.t,c=e.V,l=e._,o=e.r,u=e.o,d=e.c},e=>{h=e.F},null,null,null,null,null,null],execute:function(){class t extends s{constructor(e,t){super(e,5,t)}}const v=a({components:{HisStandardForm:i},mixins:[n],data:()=>({patientServicesService:{}}),watch:{ready:{async handler(e){e&&(this.patientServicesService=new t(this.patient.getID(),this.providerID),this.fields=this.getFields())},immediate:!0,deep:!0}},methods:{async onSubmit(e,t){if(!(await this.patientServicesService.createEncounter()))return r("Unable to create registration encounter");const i=await this.resolveObs({...t});if(!(await this.patientServicesService.saveObservationList(i)))return r("Unable to save observations");this.nextTask()},getFields(){return[{id:"referral",helpText:"Select service",type:h.TT_SELECT,validation:e=>c.required(e),computedValue:e=>({obs:this.patientServicesService.buildValueText("Services ordered",e.value)}),options:()=>this.mapOptions(["Casualty","Dental","Eye","Family Planing","Medical","OB/Gyn","Orthopedics","Pediatrics","Skin","STI Clinic","Surgical","Other"])}]}}});e("default",l(v,[["render",function(e,t,i,n,s,a){const r=o("his-standard-form");return u(),d(r,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}]]))}}}));
