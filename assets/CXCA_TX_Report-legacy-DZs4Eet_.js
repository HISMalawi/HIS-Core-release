System.register(["./index-legacy-2OuOZQ1w.js","./TableView-legacy-qKxmf6r2.js","./cxca_report_service-legacy-J0R63HHh.js","./DrillPatientIds-legacy-CbUEohMw.js","./Export-legacy-D1zUexdI.js","./index-legacy-D_LoyUSC.js"],(function(e,t){"use strict";var a,r,o,l,n,s,c,i,p,u,d,_,g,m,f,v,y,h,b;return{setters:[e=>{a=e.d,r=e.v,o=e.m,l=e.o,n=e.D,s=e.r,c=e.z,i=e.q,p=e.y,u=e.cw,d=e.am,_=e.ar,g=e.a,m=e.b,f=e.w,v=e.e},e=>{y=e.v},e=>{h=e.C},e=>{b=e.D},null,null],execute:function(){const t=s([]),C=s(""),w=s(""),L=s(""),$=s(!1),P=s(""),D=a({components:{IonPage:o,IonLoading:r,v2Datatable:y},setup(){const e=async(e,t)=>{t.length<=0||(await c.create({component:b,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e,subtitle:L,patientIdentifiers:t,onFinish:()=>c.getTop().then((e=>e&&c.dismiss()))}})).present()},a=[[{label:"#",ref:"index",span:{thRowspan:2}},{label:"Age group",ref:"age_group",span:{thRowspan:2}},{label:"Gender",ref:"gender",exportable:!1,span:{thRowspan:2}},{label:"1st time screened",ref:"",span:{thColspan:3}},{label:"Rescreened after previous negative",ref:"",span:{thColspan:3}},{label:"Post-treatment follow-up",ref:"",span:{thColspan:3}}],[{label:"Cryotherapy",ref:"first_time_screened_cryotherapy",secondaryLabel:"1st screened (cryotherapy)",value:e=>e.first_time_screened.cryotherapy.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.cryotherapy)},{label:"Thermocoagulation",ref:"first_time_screened_thermocoagulation",secondaryLabel:"1st time screened (Thermocoagulation)",value:e=>e.first_time_screened.thermocoagulation.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.thermocoagulation)},{label:"LEEP",ref:"first_time_screened_leep",secondaryLabel:"1st screened(leep)",value:e=>e.first_time_screened.leep.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.first_time_screened.leep)},{label:"Cryotherapy",ref:"post_treatment_followup_cryotherapy",secondaryLabel:"Post-treatment followup(Cryotherapy)",value:e=>e.post_treatment_followup.cryotherapy.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.cryotherapy)},{label:"Thermocoagulation",ref:"post_treatment_followup_thermocoagulation",secondaryLabel:"Post-treatment followup (Thermocoagulation)",value:e=>e.post_treatment_followup.thermocoagulation.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.thermocoagulation)},{label:"LEEP",ref:"post_treatment_followup_leep",secondaryLabel:"Post-treatment followup (leep)",value:e=>e.post_treatment_followup.leep.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.post_treatment_followup.leep)},{label:"Cryotherapy",ref:"rescreened_after_prev_visit_cryotherapy",secondaryLabel:"Rescreen after prev visit (Cryotherapy)",value:e=>e.rescreened_after_prev_visit.cryotherapy.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.cryotherapy)},{label:"Thermocoagulation",ref:"rescreened_after_prev_visit_thermocoagulation",secondaryLabel:"Rescreen after prev visit (Thermocoagulation)",value:e=>e.rescreened_after_prev_visit.thermocoagulation.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.thermocoagulation)},{label:"LEEP",ref:"rescreened_after_prev_visit_leep",secondaryLabel:"Rescreen after prev visit (leep)",value:e=>e.rescreened_after_prev_visit.leep.length,tdClick:({column:t,data:a})=>e(`${a.age_group} ${t.secondaryLabel}`,a.rescreened_after_prev_visit.leep)}]],r=async()=>{if(!C.value||!w.value)return i("Start date and end date required!");$.value=!0,t.value=[];const e=new h;e.startDate=C.value,e.endDate=w.value;try{t.value=(await e.getClinicReport("CXCA TX")).slice(5).map(((e,t)=>(e.index=t+1,e.gender="Female",e)))}catch(a){p("Unable to generate report!")}$.value=!1},o=()=>n({onFinish:(e,t,a)=>{C.value=e,w.value=t,L.value=`Period (${a})`,P.value=`${u(C.value)} to ${u(w.value)}`,r()}});return l((()=>!t.value.length&&o())),{columns:a,isLoading:$,reportData:t,period:L,csvQuarter:P,generate:r,configure:o}}});e("default",d(D,[["render",function(e,t,a,r,o,l){const n=_("ion-loading"),s=_("v2Datatable"),c=_("ion-page");return m(),g(c,null,{default:f((()=>[v(n,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),v(s,{title:"CXCA TX Report",subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:25,onConfigure:e.configure,csvQuarter:e.csvQuarter,onRefresh:()=>e.generate()},null,8,["subtitle","columns","columnData","onConfigure","csvQuarter","onRefresh"])])),_:1})}]]))}}}));
