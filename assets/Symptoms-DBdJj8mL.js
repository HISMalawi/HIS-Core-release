import{F as a}from"./dynamic-import-helper-Bsjrd6Ro.js";import{H as n}from"./HisStandardForm-lonwENLb.js";import{d as o,b5 as r,aS as m,V as c,_ as p,r as l,o as d,c as h}from"./index-DTBWhHAq.js";import{_ as u}from"./EncounterMixin.vue_vue_type_script_lang-DZZc0yNk.js";import"./TouchScreenForm-BeJsJnwt.js";import"./ToolbarMediumCard-wr9sTFDK.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-DbAo6hHM.js";import"./encounter_guidelines-BDvVJmZ6.js";import"./GuidelineEngine-D6V1_Znr.js";const f=o({mixins:[u],components:{HisStandardForm:n},data:()=>({service:{}}),watch:{ready:{async handler(t){t&&(this.service=new r(this.patientID,200,this.providerID),this.fields=this.getFields())},immediate:!0}},methods:{async onFinish(t,e){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(e)),this.nextTask()},symptomsField(){let t=[];return{id:"symptom_screening",helpText:"Symptoms screening (select either 'Yes' or 'No')",type:a.TT_MULTIPLE_YES_NO,init:()=>(t=m.getConceptsByCategory("ahd_symptom",!0).filter(e=>!((this.patient.getAge()<5||this.patient.getAge()>14)&&["Altered consciousness","Unable to drink or feed"].includes(e.name))).map(e=>({label:e.name,value:"",other:{values:this.yesNoOptions()}})),!0),validation:e=>c.required(e),computedValue:e=>e.map(async i=>({...await this.service.buildValueCoded("AHD Symptom",i.label),child:[await this.service.buildValueCoded(i.label,i.value)]})),options:()=>t}},getFields(){return[this.symptomsField()]}}});function y(t,e,i,_,v,F){const s=l("his-standard-form");return d(),h(s,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}const $=p(f,[["render",y]]);export{$ as default};
