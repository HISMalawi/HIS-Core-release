System.register(["./index-legacy-Dab_9-0G.js","./SelectMixin-legacy-Dd6GMQ0S.js","./patient_radiology_service-legacy-Bh7Am30z.js","./HisKeyboard-legacy-BXmQHvU9.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./KbLayouts-legacy-BKvPSxzZ.js","./BaseKeyboard-legacy-DL8gpzKP.js","./KbHandler-legacy-De8o5nTq.js","./BaseTextInput-legacy-B_3TvUVu.js","./ViewPort-legacy-kf7cSfpw.js","./FieldMixin.vue_vue_type_script_lang-legacy-YXJEonBV.js"],(function(e,t){"use strict";var i,l,a,s,o,d,n,r,c,u,h,g,y,f,m,p,C,k,v,_;return{setters:[e=>{i=e.d,l=e.e,a=e.B,s=e.an,o=e.ab,d=e._,n=e.r,r=e.o,c=e.x,u=e.b,h=e.w,g=e.F,y=e.y,f=e.u,m=e.v,p=e.c,C=e.A,k=e.z},e=>{v=e.default},e=>{_=e.P},null,null,null,null,null,null,null,null],execute:function(){var t=document.createElement("style");t.textContent="ion-col[data-v-caf0d928]{padding:0;margin:0;border-right:1px solid lightgray}\n",document.head.appendChild(t);const b=i({components:{IonCheckbox:l,IonText:a,IonChip:s},name:"HisRadiologyPicker",mixins:[v],data:()=>({radiologyOrdersList:{},ActiveCategory:""}),methods:{async init(){this.$emit("onFieldActivated",this);const e=await _.getRadiologyList("Radiology Orders");this.listData=this.mapListToOptions(e),this.$emit("onValue",this.getChecked(this.radiologyOrdersList))},async onselect(e,t){this.$nextTick((async()=>{const i={...e};if(i.isChecked=t.target.checked,this.onValue&&i.isChecked&&!(await this.onValue(i)))return t.target.checked=!1;this.onValueUpdate&&(this.radiologyOrdersList=await this.onValueUpdate({...this.radiologyOrdersList},i)),this.$emit("onValue",this.getChecked(this.radiologyOrdersList))}))},async getSpecificRadiologyOrders(e){if(!(e in this.radiologyOrdersList)){const t=await _.getRadiologyList(e);this.radiologyOrdersList[e]=this.mapListToOptions(t,e)}this.ActiveCategory=e},mapListToOptions:(e,t="")=>o.isEmpty(e)?[]:e.map((e=>{const i={label:e.name,value:e.name,isChecked:!1,other:e};return t&&(i.other.parent=t),i})),uncheck(e){this.radiologyOrdersList[e.other.parent].forEach((t=>{t.label===e.label&&(t.isChecked=!1)}))},getChecked(e){const t=[];for(const i in e)t.push(...e[i].filter((e=>e.isChecked)));return t}},computed:{checkedItems(){return this.getChecked(this.radiologyOrdersList)},activeCategoryItems(){return this.radiologyOrdersList[this.ActiveCategory]}},watch:{clear(){for(const e in this.radiologyOrdersList)this.radiologyOrdersList[e]=this.radiologyOrdersList[e].map((e=>(e.isChecked=!1,e)))}},mounted(){this.init()},activated(){this.init()}}),O={style:{}};e("default",d(b,[["render",function(e,t,i,l,a,s){const o=n("ion-text"),d=n("ion-label"),v=n("ion-chip"),_=n("ion-col"),b=n("ion-row"),L=n("ion-item"),x=n("ion-list"),w=n("ion-checkbox"),j=n("ion-grid"),I=n("view-port");return r(),c("div",null,[u(I,{showFull:!e.showKeyboard,style:{padding:"0"}},{default:h((()=>[u(j,null,{default:h((()=>[u(b,null,{default:h((()=>[u(_,{size:"12"},{default:h((()=>[(r(!0),c(g,null,y(e.checkedItems,((t,i)=>(r(),c("span",{key:i},[u(v,{color:"danger",onClick:i=>e.uncheck(t)},{default:h((()=>[u(d,null,{default:h((()=>[u(o,{class:"his-md-text"},{default:h((()=>[f(m(t.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})])),_:1}),u(b,null,{default:h((()=>[u(_,{size:"4"},{default:h((()=>[u(x,{style:{overflowY:"auto",height:"80vh",margin:0}},{default:h((()=>[(r(!0),c(g,null,y(e.listData,((t,i)=>(r(),p(L,{key:i,onClick:i=>e.getSpecificRadiologyOrders(t.value),detail:!0,color:e.ActiveCategory===t.label?"lightblue":""},{default:h((()=>[u(d,null,{default:h((()=>[u(o,{class:"his-md-text"},{default:h((()=>[f(m(t.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","color"])))),128))])),_:1})])),_:1}),e.ActiveCategory?(r(),p(_,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:h((()=>[C("div",O,[u(x,{class:"view-port-content"},{default:h((()=>[(r(!0),c(g,null,y(e.activeCategoryItems,((t,i)=>(r(),p(L,{key:i,color:t.isChecked?"lightblue":""},{default:h((()=>[u(d,null,{default:h((()=>[u(o,{class:"his-md-text"},{default:h((()=>[f(m(t.label),1)])),_:2},1024)])),_:2},1024),u(w,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":e=>t.isChecked=e,onIonChange:i=>e.onselect(t,i),disabled:t?.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])])),_:2},1032,["color"])))),128))])),_:1})])])),_:1})):k("",!0)])),_:1})])),_:1})])),_:1},8,["showFull"])])}],["__scopeId","data-v-caf0d928"]]))}}}));
