System.register(["./dynamic-import-helper-legacy-DYK5bIOV.js","./index-legacy-D1EyWbyq.js","./MultiFieldDateHelper-legacy-CWf2uW0i.js","./PopupKeyboard-legacy-CRDw2Fsm.js"],(function(e,t){"use strict";var a,i,n,l,d,r,o,u,s,p,D;return{setters:[e=>{a=e.F},e=>{i=e.ca,n=e.O,l=e.cb,d=e.q,r=e.S,o=e.V,u=e.R,s=e.aJ},e=>{p=e.g},e=>{D=e.M}],execute:function(){e("D",(function(e){D([...p({id:"start_date",helpText:"Start",required:!0,minDate:()=>e?.minDate||"",maxDate:()=>e?.maxDate||r.getSessionDate(),condition:()=>"Multipage date fields"===t.datePeriodInputType,estimation:{allowUnknown:!1},computeValue:e=>e}),...p({id:"end_date",helpText:"End",required:!0,minDate:(e,t)=>t.start_date,maxDate:()=>e?.maxDate||r.getSessionDate(),condition:()=>"Multipage date fields"===t.datePeriodInputType,estimation:{allowUnknown:!1},computeValue:e=>e}),{id:"alt_start_date",proxyID:"start_date",helpText:"Start Date",type:a.TT_FULL_DATE,validation:t=>{if(!t)return["Date is required"];const a=e.maxDate||r.getSessionDate();return e.minDate&&new Date(t.value)<new Date(e.minDate)?[`${l(`${t.value}`)} is less than minimum date of ${l(e.minDate)}`]:a&&new Date(t.value)>new Date(a)?[`${l(`${t.value}`)} is greater than max date of ${l(a)}`]:null},computedValue:e=>e.value,condition:()=>"Single page date"===t.datePeriodInputType},{id:"alt_end_date",proxyID:"end_date",helpText:"End Date",type:a.TT_FULL_DATE,defaultValue:e=>e.start_date.value,validation:(t,a)=>{if(!t)return["Date is required"];const i=e.maxDate||r.getSessionDate();return a.start_date.value&&new Date(t.value)<new Date(a.start_date.value)?[`${l(`${t.value}`)} is less than minimum date of ${l(a.start_date.value)}`]:i&&new Date(t.value)>new Date(i)?[`${l(`${t.value}`)} is greater than max date of ${l(i)}`]:null},computedValue:e=>e.label,condition:()=>"Single page date"===t.datePeriodInputType},{id:"calendar_start_date",proxyID:"start_date",helpText:"Start Date",type:a.TT_DATE_PICKER,computedValue:e=>e,condition:()=>"Calendar"===t.datePeriodInputType,validation:e=>o.required(e),config:{minDate:()=>e.minDate||null,maxDate:()=>e.maxDate||r.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:l(e)||"-"},{label:"End Date",value:l(t.end_date)||"-"}],persistInfoItems:!1}},{id:"calendar_end_date",proxyID:"end_date",helpText:"End Date",type:a.TT_DATE_PICKER,validation:e=>o.required(e),defaultValue:e=>e.start_date.value,computedValue:e=>e,condition:()=>"Calendar"===t.datePeriodInputType,config:{minDate:e=>e.start_date.value,maxDate:()=>e.maxDate||r.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:l(t.start_date)||"-"},{label:"End Date",value:l(e)}],persistInfoItems:!1}},(()=>{let e=!1;return{id:"occupation",helpText:"Report Group",type:a.TT_SELECT,init:async()=>(e=await u.get("IS_MILITARY_SITE"),!0),computedValue:e=>e.value,condition:()=>"ART"===s.getActiveApp()?.applicationName&&e,validation:e=>o.required(e),options:()=>[{label:"All",value:"All"},{label:"Military",value:"Military"},{label:"Civilian",value:"Civilian"}]}})()],(async(t,a)=>{n.dismiss();try{const t=`${l(a.start_date)} to ${l(a.end_date)}`;e.onFinish(a.start_date,a.end_date,t,a.occupation)}catch(i){d("An error has occurred")}}))}));const t=i({datePeriodInputType:localStorage.getItem("hts_report_date_period_type")||"Multipage date fields"})}}}));
