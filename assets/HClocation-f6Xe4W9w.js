import{d as T,aZ as V,U as I,Q as N,a5 as $,S as K,R as x,a3 as B,a4 as E,a_ as H,aL as P,r as v,ap as h,a$ as w,aj as O,aU as R,O as L,b0 as U,b1 as z,b2 as A,a6 as M,v as d,w as a,ab as t,u as p,x as s,z as _,H as k}from"./index-ii3Qn3XY.js";const j=T({name:"HC location",components:{BarcodeInput:V,IonContent:I,IonHeader:N,IonPage:$,IonTitle:K,IonToolbar:x,IonButton:B,IonFooter:E,HisKeyboard:H},setup(){const{activePlatformProfile:n}=P(),o=v(""),r=v(""),f=h(()=>n.value.scanner===A.CAMERA_SCANNER);async function c(){o.value.includes("$")||(o.value+="$");const e=await O.getJson("locations/".concat(o.value));if(R.isEmpty(e))L("Invalid location");else{const u=e;sessionStorage.userLocation=u.name,U.push("/")}r.value=o.value,o.value=""}function b(e){o.value=e}function i(e){o.value=z(e,o.value),console.log("barcode",o.value)}async function l(e){o.value=e,await c()}return{onbarcodeText:b,onScan:l,onKbClick:i,searchLocation:c,useVirtualKeyboard:f,clearValue:r,barcodeText:o,NUMBERS:w}}});function F(n,o,r,f,c,b){const i=t("ion-title"),l=t("ion-toolbar"),e=t("ion-header"),u=t("barcode-input"),C=t("ion-content"),g=t("his-keyboard"),m=t("ion-button"),y=t("ion-footer"),S=t("ion-page");return p(),d(S,null,{default:a(()=>[s(e,{translucent:!0},{default:a(()=>[s(l,null,{default:a(()=>[s(i,null,{default:a(()=>o[0]||(o[0]=[_("Scan work-station location")])),_:1})]),_:1})]),_:1}),s(C,{class:"ion-padding-top"},{default:a(()=>[s(u,{class:"his-card",clearValue:n.clearValue,virtualText:n.barcodeText,onOnValue:n.onbarcodeText,onOnScan:n.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),n.useVirtualKeyboard?(p(),d(g,{key:0,kbConfig:n.NUMBERS,onKeyPress:n.onKbClick},null,8,["kbConfig","onKeyPress"])):k("",!0),s(y,null,{default:a(()=>[s(l,{color:"dark"},{default:a(()=>[s(m,{color:"danger",size:"large","router-link":"/login"},{default:a(()=>o[1]||(o[1]=[_(" Cancel ")])),_:1}),n.barcodeText?(p(),d(m,{key:0,slot:"end",color:"success",size:"large",onClick:n.searchLocation},{default:a(()=>o[2]||(o[2]=[_(" Next ")])),_:1},8,["onClick"])):k("",!0)]),_:1})]),_:1})]),_:1})}const Q=M(j,[["render",F],["__scopeId","data-v-7fd55847"]]);export{Q as default};
