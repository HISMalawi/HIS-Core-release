System.register(["./index-legacy-Dzpo3D2H.js","./HisStandardForm-legacy-B3YYLjG1.js","./EncounterMixin.vue_vue_type_script_lang-legacy-BeiTJa7w.js","./appointment_service-legacy-SKGkoK2F.js","./encounter_guidelines-legacy-C8KNQDY0.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(t,e){"use strict";var n,i,a,s,o,p,r,d,l,u,c;return{setters:[t=>{n=t.d,i=t.bu,a=t.a9,s=t.aa,o=t.a6,p=t.ab,r=t.u,d=t.v},t=>{l=t.H},t=>{u=t._},t=>{c=t.A},null,null],execute:function(){const e=n({mixins:[u],components:{HisStandardForm:l},data:()=>({appointmentDate:"",maxAppointmentDate:"",appointment:{}}),watch:{ready:{async handler(t){t&&(this.appointment=new c(this.patientID,this.providerID),this.init())},immediate:!0}},methods:{async onFinish(t,e){await this.appointment.createEncounter(),await this.appointment.saveObservationList(await this.resolveObs(e,"obs")),this.gotoPatientDashboard()},init(){this.appointmentDate=c.getSessionDate(),this.maxAppointmentDate=i(this.appointmentDate).add(100,"year").format("YYYY-MM-DD"),this.fields=this.getFields()},getFields(){return[{id:"set_appointment",helpText:"Appointments booking",type:a.TT_APPOINTMENTS_ENTRY,validation:t=>s.required(t),computedValue:t=>({tag:"obs",obs:[this.appointment.buildValueDate("Appointment date",t.value)]}),config:{patientAge:this.patient.getAge(),hideRunoutDate:!0,hiddenFooterBtns:["Clear"]},options:()=>[{label:"",value:"",other:{runOutDate:this.maxAppointmentDate,appointmentDate:this.appointmentDate}}]}]}}});t("default",o(e,[["render",function(t,e,n,i,a,s){const o=p("his-standard-form");return r(),d(o,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}]]))}}}));
