(function(){"use strict";self.onmessage=async a=>{var r,c,n,d,g,l,p,u;let s=(c=(r=a.data)==null?void 0:r.currentPage)!=null?c:1;const R=a.data.url,E=a.data.headers,t=(d=(n=a.data)==null?void 0:n.perPage)!=null?d:1e3,o=((l=(g=a.data)==null?void 0:g.totalRecords)!=null?l:2e4)/t;for(s;s<o||s===1;s++){const P="".concat(R,"?page=").concat(s,"&page_size=").concat(t,"&").concat((p=a.data.params)!=null?p:""),f=(u=await(await fetch(P,{headers:E})).json())!=null?u:[],e={progress:"".concat(Math.round(s/o*100)," %"),complete:!1,currentPage:s,out:f};if(f.length<=0){e.complete=!0,e.progress="Done",self.postMessage(e);return}self.postMessage(e)}}})();
