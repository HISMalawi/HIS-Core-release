import{_ as c}from"./EncounterMixin.vue_vue_type_script_lang-v2aYCq6R.js";import{bQ as l,d,I as p,ad as a,ae as o,aa as m,af as s,a as u,c as h,w as f,b as _}from"./index-CMZASHAR.js";import"./encounter_guidelines-CJXpBOk4.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-BCjM4-bc.js";class T extends l{constructor(t,i){super(t,10,i)}}const v=d({components:{IonPage:p},mixins:[c],data:()=>({service:{},formFields:[]}),watch:{ready:{handler(e){e&&(this.service=new T(this.patientID,this.providerID),this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(t)),this.nextTask()},getFields(){return[{id:"pmct",helpText:"PMTCT",type:a.TT_YES_NO,computedValue:e=>this.service.buildValueCoded("PMTCT",e.match(/true/i)?"Yes":"No"),validation:e=>o.required(e),options:()=>[{label:"Proceed to PMTCT",values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]},{id:"reason_for_not_starting_art",helpText:"Reason for not starting ART",type:a.TT_SELECT,condition:e=>e.pmct==="false",validation:e=>o.required(e),computedValue:e=>this.service.buildValueText("Reason for exiting care",e.value),options:()=>this.mapStrToOptions(["Already on ART at another facility","To be done in another room","Not willing"])}]}}});function F(e,t,i,b,g,w){const n=s("his-standard-form"),r=s("ion-page");return u(),h(r,null,{default:f(()=>[_(n,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const S=m(v,[["render",F]]);export{S as default};
