import{H as h}from"./HisStandardForm-lonwENLb.js";import{F as n}from"./dynamic-import-helper-Bsjrd6Ro.js";import{b5 as C,d as y,K as E,o as S,c as x,w as O,b as V,c4 as r,I as v}from"./index-DTBWhHAq.js";import{u as w}from"./useEncounter-eKl3gS5R.js";import{b as s,m as F,r as I}from"./commons-BCgFgo42.js";import{j as l}from"./isEmpty-BaQ44rii.js";import"./TouchScreenForm-BeJsJnwt.js";import"./ToolbarMediumCard-wr9sTFDK.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-DbAo6hHM.js";import"./_Set-btDj8MuP.js";import"./_setToArray-DlboZaJz.js";import"./encounter_guidelines-BDvVJmZ6.js";import"./GuidelineEngine-D6V1_Znr.js";class g extends C{constructor(o,i){super(o,58,i)}}const q=y({__name:"ChronicConditions",setup(d){const o=E([]);let i;const{goToNextTask:u,patientDashboardUrl:c}=w((e,t)=>{i=new g(t,e),o.value=[m(),f(),T(),b()]});async function p(e,t){await i.createEncounter();const _=await I(t);await i.saveObservationList(_),u()}function m(){return{id:"conditions",helpText:"Condition",type:n.TT_MULTIPLE_YES_NO,computedValue:e=>a(e),options:(e,t)=>s(["Cancer","Diabetes","HIV","Chronic Heart condition","Chronic liver disease"],t,!0)}}function f(){return{id:"additional_conditions",helpText:"Condition continued...",type:n.TT_MULTIPLE_YES_NO,options:(e,t)=>s(["TB","Asthma","Epilepsy","Kidney Disease"],t,!0),computedValue:e=>a(e)}}function T(){return{id:"bmi",helpText:"Select BMI range",type:n.TT_SELECT,computedValue:e=>({obs:i.buildValueText("BMI",e.label)}),options:()=>F(["< 18.5","18.5 - 24.9","25 - 29.9",">= 30"])}}function b(){return{id:"other",helpText:"Other (Specify)",type:n.TT_TEXT,computedValue:e=>l(e)?null:{obs:i.buildValueText("Other (specify)",e.label)}}}function a(e){return l(e)?null:{obs:e.map(async t=>({...await i.buildValueCoded("Condition",t.label),child:[await i.buildValueCoded(t.label,t.value)]}))}}return(e,t)=>(S(),x(r(v),null,{default:O(()=>[V(h,{cancelDestinationPath:r(c),fields:o.value,onFinishAction:p,skipSummary:!0},null,8,["cancelDestinationPath","fields"])]),_:1}))}});export{q as default};
