import{d as C,a7 as $,k as V,ag as I,ah as S,ac as N,ad as B,c0 as E,H,aZ as A,ak as F,ap as s,a as d,b as a,w as n,g as e,e as l,h as i,a9 as h,aa as _,j as f,t as r,a6 as v}from"./index-Ds0zDBhU.js";import{_ as L}from"./FieldMixin.vue_vue_type_script_lang-BdqzFknS.js";const z=C({name:"HisSelect",components:{ViewPort:E,IonCol:B,IonRow:N,IonLabel:S,IonList:I,IonButton:V,IonItem:$},mixins:[L],watch:{clear(t){t&&(this.activeProgram={},this.$emit("onClear"))}},data:()=>({listData:[],activeProgram:{}}),mounted(){this.init()},activated(){this.init()},computed:{states(){return A.isEmpty(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata)},formatDate(t){return t?H.toStandardHisDisplayFormat(t):"N/A"},async onselect(t){if(this.activeProgram=t,this.onValue&&!await this.onValue(t,this)){this.activeProgram={};return}this.$emit("onValue",t)}}}),j={class:"view-port-content"},R={key:0,style:{textAlign:"center"}},T={key:1,class:"his-sm-text his-table"};function Z(t,u,q,x,G,J){const g=s("ion-label"),k=s("ion-item"),b=s("ion-list"),p=s("ion-col"),P=s("ion-button"),w=s("ion-row"),y=s("view-port");return a(),d(y,null,{default:n(()=>[e("div",j,[l(w,null,{default:n(()=>[l(p,{size:"4"},{default:n(()=>[l(b,null,{default:n(()=>[(a(!0),i(h,null,_(t.listData,(o,c)=>(a(),d(k,{class:"his-sm-text",color:o.label===t.activeProgram.label?"primary":"",key:c,onClick:m=>t.onselect(o),detail:""},{default:n(()=>[l(g,null,{default:n(()=>[f(r(o.label),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),l(p,{size:"8"},{default:n(()=>[t.activeProgram.label&&t.states.length<=0?(a(),i("h1",R," Program has no states ")):v("",!0),t.activeProgram.label&&t.states.length>0?(a(),i("table",T,[u[0]||(u[0]=e("tr",null,[e("th",null,"State"),e("th",null,"State Date"),e("th",null,"End Date"),e("th",null,"Actions")],-1)),(a(!0),i(h,null,_(t.states,(o,c)=>(a(),i("tr",{key:c},[e("td",null,r(o.name),1),e("td",null,r(o.startDate),1),e("td",null,r(o.endDate||"N/A"),1),e("td",null,[(a(!0),i(h,null,_(o.actions,(m,D)=>(a(),d(P,{key:D,color:m.color,onClick:K=>m.action(t.activeProgram,c)},{default:n(()=>[f(r(m.name),1)]),_:2},1032,["color","onClick"]))),128))])]))),128))])):v("",!0)]),_:1})]),_:1})])]),_:1})}const Q=F(z,[["render",Z],["__scopeId","data-v-65d8d5f0"]]);export{Q as default};
