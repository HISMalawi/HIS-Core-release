System.register(["./EncounterMixin.vue_vue_type_script_lang-legacy-l7IlPNdY.js","./index-legacy-D2iCn0VZ.js","./htn_service-legacy-CEQ58u97.js","./RiskFactorModal-legacy-Ce8hUzuE.js","./encounter_guidelines-legacy-DtASQQT-.js","./GuidelineEngine-legacy-KsvQuFdF.js","./HisStandardForm-legacy-DWEtuKgE.js"],(function(t,s){"use strict";var e,a,i,n,o,r,l,c,d,h,u,p,g,y,B,m,P,f,w,b,k,v,_,D,x,T,F,R;return{setters:[t=>{e=t._},t=>{a=t.d,i=t.m,n=t.k,o=t.n,r=t.I,l=t.l,c=t.bq,d=t.dj,h=t.bl,u=t.bm,p=t.z,g=t.aY,y=t.ak,B=t.a,m=t.w,P=t.ap,f=t.b,w=t.e,b=t.g,k=t.h,v=t.a6,_=t.aL,D=t.cx,x=t.j,T=t.t},t=>{F=t.B},t=>{R=t.R},null,null,null],execute:function(){var s=document.createElement("style");s.textContent="div[data-v-acbdfaed]{color:gray}.bp[data-v-acbdfaed]{color:red;font-style:italic}.name[data-v-acbdfaed]{color:#00f;font-style:italic}.green[data-v-acbdfaed]{width:170px}\n/*$vite$:1*/",document.head.appendChild(s);const C=a({mixins:[e],components:{IonFooter:l,IonContent:r,IonPage:o,IonButton:n,IonToolbar:i},data:()=>({sysBp:0,dsBP:0,riskFactors:[],patientOnBpDrugs:!1,isPregnant:!1,systolicThreshold:145,diastolicTheshold:94}),methods:{async showRiskFactors(){const t=await p.create({component:R,backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}});t.present();const{data:s}=await t.onDidDismiss();g.isEmpty(s)||this.nextTask()},async getRiskFactors(){const t=h.getConceptsByCategory("risk factors").map((async t=>{const s=await u.getFirstValueCoded(this.patientID,t.name);return{concept:t.name,value:s}}));return Promise.all(t)},recaptureBp(){this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)}},watch:{ready:{async handler(t){if(!t)return;const s=await c.create({message:"Verifying Blood Pressure...",backdropDismiss:!1});await s.present();const e=new F(this.patientID,this.providerID);this.riskFactors=await this.getRiskFactors(),this.systolicThreshold=await d.systolicThreshold()||145,this.diastolicTheshold=await d.diastolicThreshold()||94,this.dsBP=await e.getDiastolicBp()||0,this.sysBp=await e.getSystolicBp()||0,this.patientOnBpDrugs=await e.onBpDrugs()||!1,this.isPregnant=this.patient.isChildBearing()&&await this.patient.isPregnant()||!1,c.dismiss()},immediate:!0}},computed:{patientName(){return this.ready?this.patient.getFullName():"Patient"},hasPressureReading(){return this.sysBp>0&&this.dsBP>0},highBP(){return(this.sysBp>=this.systolicThreshold&&this.dsBP>=this.diastolicTheshold||this.dsBP>=this.diastolicTheshold)&&!this.isPregnant}}}),I={key:0,class:"vertically-align ion-text-center"},j={style:{"font-weight":"bold"}},N={class:"name"},E={class:"bp"},$={key:1,class:"vertically-align ion-text-center"};t("default",y(C,[["render",function(t,s,e,a,i,n){const o=P("ion-content"),r=P("ion-button"),l=P("ion-toolbar"),c=P("ion-footer"),d=P("ion-page");return f(),B(d,null,{default:m((()=>[w(o,null,{default:m((()=>[s[6]||(s[6]=b("h1",{class:"ion-text-center"}," HTN Alert ",-1)),t.hasPressureReading?(f(),k("div",I,[_(b("h2",j," (Patient already on BP drugs) ",512),[[D,t.patientOnBpDrugs]]),b("h2",null,[b("span",N,T(t.patientName),1),s[1]||(s[1]=x(" has ",-1)),_(b("span",null," a high ",512),[[D,t.highBP]]),s[2]||(s[2]=x(" blood pressure of ",-1)),b("span",E,T(t.sysBp)+" / "+T(t.dsBP),1),s[3]||(s[3]=b("br",null,null,-1)),s[4]||(s[4]=b("span",null,[x(" Retesting BP is "),b("span",{style:{"font-weight":"bold",color:"#000000","text-decoration":"underline"}},"optional"),x(". "),b("br"),x(" Do you want to test BP? ")],-1))])])):v("",!0),t.hasPressureReading?v("",!0):(f(),k("div",$,[...s[5]||(s[5]=[x(" No BP Reading found ",-1),b("br",null,null,-1),b("h1",null," Do you want to test BP? ",-1)])]))])),_:1}),w(c,null,{default:m((()=>[w(l,{color:"dark"},{default:m((()=>[w(r,{onClick:s[0]||(s[0]=()=>t.hasPressureReading?t.showRiskFactors():t.nextTask()),size:"large",color:"danger",slot:"start"},{default:m((()=>[...s[7]||(s[7]=[x(" No ",-1)])])),_:1}),w(r,{onClick:t.recaptureBp,size:"large",color:"success",slot:"end"},{default:m((()=>[...s[8]||(s[8]=[x(" Yes ",-1)])])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-acbdfaed"]]))}}}));
