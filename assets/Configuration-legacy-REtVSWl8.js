System.register(["./index-legacy-BTF8LI8W.js","./HisStandardForm-legacy-CBgqFCJE.js"],(function(e,a){"use strict";var t,i,l,r,s,n,_,o,d,A,E,N,c,u;return{setters:[e=>{t=e.d,i=e.a9,l=e.aa,r=e.au,s=e.bS,n=e.J,_=e.ab,o=e.ac,d=e.a8,A=e.ad,E=e.u,N=e.v,c=e.G},e=>{u=e.H}],execute:function(){const a=t({components:{HisStandardForm:u},methods:{onFinish(e){i.set(this.property,e.preference).then((()=>{switch(this.property){case l.DDE_ENABLED:r.invalidate("IS_DDE_ENABLED");break;case s.DRUG_MANAGEMENT:r.invalidate("IS_ART_DRUG_MANAGEMENT_ENABLED");break;case l.MILITARY_SITE:r.invalidate("IS_MILITARY_SITE");break;case s.FAST_TRACK:r.invalidate("IS_ART_FAST_TRACK_ENABLED");break;case s.HTN_ENHANCEMENT:r.invalidate("IS_ART_HTN_ENABLED");break;case s.FILING_NUMBERS:r.invalidate("IS_ART_FILING_NUMBER_ENABLED");break;case s.PILLS_REMAINING:r.invalidate("ASK_HANGING_PILLS");break;case s.THREE_HP_AUTO_SELECT:r.invalidate("ART_AUTO_3HP_SELECTION");break;case l.MALAWI_NATIONAL_ID_SCANNER_ENABLED:r.invalidate("MALAWI_NATIONAL_ID_SCANNER_ENABLED")}n("Property set")})).then((()=>this.$router.push("/")))},async getFields(){this.fields=[{id:"preference",helpText:this.label,type:_.TT_YES_NO,defaultValue:()=>this.val,validation:e=>o.required(e),options:()=>[{label:this.label,values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]}]}},data:()=>({property:null,fields:[],label:null,val:""}),watch:{$route:{async handler({query:e}){if(e.label&&e.property){try{this.val=await i.get(e.property)}catch(a){console.log("fixed global property not found error")}this.property=e.property,this.label=e.label,this.getFields()}},deep:!0,immediate:!0}}});e("default",d(a,[["render",function(e,a,t,i,l,r){const s=A("his-standard-form");return e.fields.length>0?(E(),N(s,{key:0,fields:e.fields,onOnSubmit:e.onSubmit,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnSubmit","onOnFinish"])):c("",!0)}]]))}}}));
