function u(o,i){const t=[],s=[-1,"",null,void 0];for(const e in i){if(!(e in o))continue;const r=o[e];if(s.includes(r)){t.push(!1);continue}t.push(i[e](r,o))}return t.every(Boolean)}function p(o){return o.sort((i,t)=>i.priority&&t.priority&&i.priority<t.priority?-1:1)}function a(o){return o.sort((i,t)=>i.weight&&t.weight&&i.weight>t.weight?-1:1)}function l(o,i,t="",s="",e="priority"){const r=[];for(const c in i){const n=i[c];[n.target&&t&&n.target!=t,n.targetEvent&&s&&n.targetEvent!=s].some(Boolean)||u(o,n.conditions)&&(n.title=c,n.description&&(n.description.text=n.description.info(o)),r.push(n))}return e==="priority"?p(r):a(r)}export{l as m};
