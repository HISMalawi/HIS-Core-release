System.register(["./TaskCard-legacy-CEIrLfLC.js","./index-legacy-CDoD6Xcl.js"],(function(e,t){"use strict";var i,s,n,a,o,l,c,r,u,d,m,h,f,I,_,p,w,y;return{setters:[e=>{i=e.T},e=>{s=e.d,n=e.cc,a=e.ap,o=e.aq,l=e.ar,c=e.T,r=e.ae,u=e.ac,d=e._,m=e.r,h=e.o,f=e.c,I=e.w,_=e.b,p=e.x,w=e.B,y=e.y}],execute:function(){const t=s({emits:["onSublist"],setup:()=>({arrowBack:n}),components:{TaskCard:i,IonGrid:a,IonRow:o,IonCol:l},props:{resetList:{type:Number,required:!0},items:{type:Object,required:!0}},data:()=>({defaultIcon:"sys-setting.png",viewableItems:[]}),watch:{resetList:{handler(){c.set("ACTIVE_HOME_SUB_TAB_NAME",""),this.setItems(this.items)}},items:{async handler(e){if(e){const t=await this.filterViewable(e),i=await c.get("ACTIVE_HOME_SUB_TAB_NAME");if("string"==typeof i&&""!=i){const e=r.find(t,{name:i});e&&this.onClick(e)}else c.invalidate("ACTIVE_HOME_SUB_TAB_NAME"),this.viewableItems=t}},immediate:!0,deep:!0}},methods:{async setItems(e){this.viewableItems=await this.filterViewable(e)},async filterViewable(e){const t=e.map((async e=>{const t={...e};return t.canShow=!t.condition||await t.condition(),t}));return(await Promise.all(t)).filter((e=>e.canShow))},async onClick(e){e.pathUrl?this.$router.push(e.pathUrl):"function"==typeof e.action?e.action():e.pathName?this.$router.push({name:e.pathName}):e.files&&(c.set("ACTIVE_HOME_SUB_TAB_NAME",e.name),this.defaultIcon="sys-setting.png",e.defaultFilesIcon&&(this.defaultIcon=e.defaultFilesIcon),this.$emit("onSublist"),this.setItems(e.files))},itemIcon(e){return u(e.icon?e.icon:this.defaultIcon)}}});e("default",d(t,[["render",function(e,t,i,s,n,a){const o=m("task-card"),l=m("ion-col"),c=m("ion-row"),r=m("ion-grid");return h(),f(r,null,{default:I((()=>[_(c,null,{default:I((()=>[(h(!0),p(w,null,y(e.viewableItems,((t,i)=>(h(),f(l,{key:i,"size-lg":"4","size-sm":"12"},{default:I((()=>[_(o,{onClick:i=>e.onClick(t),title:t.name,icon:e.itemIcon(t)},null,8,["onClick","title","icon"])])),_:2},1024)))),128))])),_:1})])),_:1})}]]))}}}));
