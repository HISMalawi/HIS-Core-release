System.register(["./index-legacy-DJZIfc2x.js","./HisStandardForm-legacy-F3CBTdXZ.js","./useEncounter-legacy-Dc7CDNal.js","./commons-legacy-BRSAHAIS.js","./isEmpty-legacy-CrfQJRPm.js","./encounter_guidelines-legacy-B61hy_df.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,a){"use strict";var t,i,l,d,n,u,s,c,o,_,r,T,E,v,p,m,S;return{setters:[e=>{t=e.d,i=e.r,l=e.bI,d=e.bN,n=e.am,u=e.a9,s=e.aa,c=e.dR,o=e.u,_=e.v,r=e.w,T=e.x,E=e.y,v=e.a5},e=>{p=e.H},e=>{m=e.u},e=>{S=e.r},null,null,null],execute:function(){e("default",t({__name:"Lam",setup(e){const a=i([]),t=new l(-1,d.LAB_RESULTS),L=n(),{goToNextTask:y,patientDashboardUrl:A}=m(((e,i)=>{t.patientID=i,t.providerID=e,a.value=[{id:"sampleResult",helpText:"LAM Result:",type:u.TT_SELECT,validation:e=>s.required(e),computedValue:e=>[{concept_id:c("TB_STATUS"),value_coded:c(`${e.value}`),obs_datetime:t.date},{concept_id:c("BACTERIOLOGICALLY_DIAGNOSED"),value_coded:c("YES_ANSWER"),obs_datetime:t.date},{concept_id:c("PROCEDURE_TYPE"),value_coded:c("LAM"),obs_datetime:t.date},..."POSITIVE"===e.value?[{concept_id:c("TB_TYPE"),value_coded:c("EXTRA_PULMONARY_TB"),obs_datetime:t.date},{concept_id:c("TUBERCULOSIS_CLASS"),value_coded:c("LAM"),obs_datetime:t.date}]:[]],options:()=>[{value:"POSITIVE",label:"Positive"},{value:"NEGATIVE",label:"Negative"}]},{id:"resultDate",field_type:"date",helpText:"Sample Result Date:",type:u.TT_FULL_DATE,computedValue:e=>({concept_id:c("RESULT_DATE"),value_datetime:e.value,obs_datetime:t.date}),validation:e=>s.validateSeries([()=>s.required(e),()=>s.dateRangeOf(e,`${L.query.date}`,t.date)])}]}));async function R(e,a){await t.createEncounter(),await t.saveObservationList(await S(a)),y()}return(e,t)=>(o(),_(E(v),null,{default:r((()=>[T(p,{cancelDestinationPath:E(A),onFinishAction:R,fields:a.value,skipSummary:!0},null,8,["cancelDestinationPath","fields"])])),_:1}))}}))}}}));
