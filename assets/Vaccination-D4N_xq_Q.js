import{_ as o}from"./EncounterMixin.vue_vue_type_script_lang-BpuO2zuN.js";import{bQ as r,d as c,a5 as p,a9 as d,a6 as l,ab as n,u,v as m,w as h,x as f}from"./index-CyYd6aWW.js";import{A as _}from"./anc_treatment_service-DMvjV68D.js";import"./encounter_guidelines-Cq7m6ibV.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-CuX9K_Ib.js";import"./drug_order_service-CQs150n6.js";class v extends r{constructor(t,i){super(t,54,i)}saveNoDispensationObs(){return this.saveValueTextObs("Tetanus Diphtheria","Not dispensed")}}const D=c({components:{IonPage:p},mixins:[o],data:()=>({formFields:[],service:{}}),watch:{ready:{handler(e){e&&(this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await t.prescription.action(),this.nextTask()},getFields(){return[{id:"prescription",helpText:"Vaccination",type:d.TT_YES_NO,validation:e=>e?null:["Value is required"],finalComputedValue:e=>/true/i.test("".concat(e.value))?{action:async()=>{const t=new _(this.patientID,this.providerID);await t.createEncounter(),await t.updateVaccinationOrder()}}:{action:async()=>{const t=new v(this.patientID,this.providerID);await t.createEncounter(),await t.saveNoDispensationObs()}},options:()=>[{label:"TD given today?",values:this.yesNoOptions()}]}]}}});function w(e,t,i,F,y,T){const a=n("his-standard-form"),s=n("ion-page");return u(),m(s,null,{default:h(()=>[f(a,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const $=l(D,[["render",w]]);export{$ as default};
