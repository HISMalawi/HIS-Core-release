import{d as p,r as o,o as g,a as D,c as b,w as v,b as d,u as s,t as _,e as w,D as x,I as h,i as I,f as C}from"./index-4ZhJu3VE.js";import{v as E}from"./TableView-al7pPq3G.js";import{D as O}from"./data_verification_service-U3KB3kiM.js";import"./Export--AC_4hfU.js";import"./index-CoZ4oawq.js";const L=p({__name:"EncounterAtOddHours",setup(P){const i=o([]),l=o(""),n=o(!1),t=new O,f=[[{label:"#",ref:"index"},{label:"Username",ref:"username"},{label:"Date",ref:"date"},{label:"Time",ref:"time"},{label:"Encounter ID",ref:"encounter_id"}]],u=async()=>{if(!(t.startDate&&t.endDate))return _("Start date and end date required!");n.value=!0;try{const e=await t.getEncountersDoneInOddHours();i.value=Object.keys(e).reduce((a,r,m)=>[...a,{index:m+1,...e[r]}],[])}catch(e){console.error(e),w("Unable to generate report!")}n.value=!1},c=()=>x({onFinish:(e,a,r)=>{l.value=r,t.startDate=e,t.endDate=a,u()}});return g(()=>c()),(e,a)=>(D(),b(s(C),null,{default:v(()=>[d(s(h),{"is-open":n.value,message:"Please wait.."},null,8,["is-open"]),d(E,{"icon-url":s(I)("reports.png"),title:"Encounters at Odd Hours","report-prefix":"Clinic",subtitle:l.value,columns:f,columnData:i.value,rowsPerPage:100,onConfigure:c,onRefresh:u},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{L as default};
