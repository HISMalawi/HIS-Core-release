System.register(["./HisStandardForm-legacy-Dkat6O6u.js","./index-legacy-Lddj3iK3.js","./useEncounter-legacy-PvPkbKBN.js","./isEmpty-legacy-BaPpL5uh.js","./encounter_guidelines-legacy-Ds7YiRya.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,t){"use strict";var a,n,i,l,s,o,r,c,u,d,f,y,g,m,p,w,b;return{setters:[e=>{a=e.H},e=>{n=e.bU,i=e.d,l=e.r,s=e.a9,o=e.aa,r=e.aZ,c=e.O,u=e.ad,d=e.ah,f=e.u,y=e.v,g=e.w,m=e.x,p=e.y,w=e.a5},e=>{b=e.u},null,null,null],execute:function(){class t extends n{constructor(e,t){super(e,42,t)}}e("default",i({__name:"AdmitPatient",setup(e){const n=l([]);let i;const{goToNextTask:h,patientDashboardUrl:v}=b(((e,a)=>{i=new t(a,e),n.value.push({id:"internal_sections",helpText:"Select Ward/internal section",type:s.TT_SELECT,validation:e=>o.required(e),computedValue:e=>i.buildValueText("Admit to ward",e.label),options:()=>r.getInternalSections(),config:{showKeyboard:!0,footerBtns:[{name:"Add Section",slot:"end",color:"success",onClick:async(e,t,a)=>{if("string"!=typeof a.filter||a.filter.length<3)return c("Please enter a valid section name");if(a.filtered.some((e=>e.label.toLowerCase()===a.filter.toLowerCase())))return c("Section already existing");if(await u("Do you want to add internal section?")){const e=await r.createInternalSection(a.filter.toUpperCase());e?(a.filter=e.name,a.listData=[{label:e.name,value:e.id},...a.listData]):d(`Unable to add ${a.filter}`)}}}]}})}));async function x(e,t){const a=await Promise.all([t.internal_sections]);await i.createEncounter(),await i.saveObservationList(a),h()}return(e,t)=>(f(),y(p(w),null,{default:g((()=>[m(a,{cancelDestinationPath:p(v),fields:n.value,onFinishAction:x,skipSummary:!0},null,8,["cancelDestinationPath","fields"])])),_:1}))}}))}}}));
