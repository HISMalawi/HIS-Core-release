System.register(["./index-legacy-DtHsTz02.js","./FieldMixin.vue_vue_type_script_lang-legacy-WW1osjL0.js","./BaseTextInput-legacy-DA6xIRY2.js"],(function(e,t){"use strict";var i,s,l,n,a,o,h,d,c,r,u,p,f,k,b,y,x,m,C,v,O,_,g;return{setters:[e=>{i=e.d,s=e.bQ,l=e.a0,n=e.W,a=e.a1,o=e.aR,h=e.ac,d=e.d0,c=e.d1,r=e.aU,u=e.a6,p=e.ab,f=e.u,k=e.v,b=e.w,y=e.x,x=e.B,m=e.E,C=e.C,v=e.G,O=e.Z},e=>{_=e._},e=>{g=e.default}],execute:function(){const t=i({components:{ViewPort:s,IonList:l,IonItem:n,IonLabel:a,HisKeyboard:o,HisTextInput:g,IonCheckbox:h},mixins:[_],data:()=>({filter:"",keyboard:d,listOptions:[]}),mounted(){this.init()},activated(){this.init()},watch:{clear(){this.filter="",this.listOptions.forEach((e=>e.isChecked=!1)),this.updateValue()}},computed:{displayList(){return this.filter?new c(this.listOptions,{threshold:.4,keys:["label"],useExtendedSearch:!0}).search(this.filter).map((e=>e.item)):this.listOptions}},methods:{init(){this.$emit("onFieldActivated",this),this.options(this.fdata).then((e=>this.indexData(e)))},updateValue(){this.$nextTick((()=>{this.$emit("onValue",this.listOptions.filter((e=>e.isChecked)))}))},indexData(e){const t=this.listOptions.map((e=>e.label));e.forEach((e=>{t.includes(e.label)||this.listOptions.push(e)}))},onFilter(e){this.filter=e,this.options(this.fdata,this.filter).then(this.indexData)},onSelect(e){this.listOptions.forEach((t=>{t.label===e.label&&(t.isChecked=!t.isChecked)})),this.updateValue()},keypress(e){this.onFilter(r(e,this.filter))}}}),w={class:"his-md-text"};e("default",u(t,[["render",function(e,t,i,s,l,n){const a=p("his-text-input"),o=p("ion-checkbox"),h=p("ion-label"),d=p("ion-item"),c=p("ion-list"),r=p("his-keyboard"),u=p("view-port");return f(),k(u,{showFull:!1},{default:b((()=>[y(a,{value:e.filter,onOnValue:t[0]||(t[0]=t=>e.onFilter(t))},null,8,["value"]),y(c,{class:"view-port-content"},{default:b((()=>[(f(!0),x(m,null,C(e.displayList,((t,i)=>(f(),k(d,{key:i,onClick:i=>e.onSelect(t),color:t.isChecked?"lightblue":"",lines:t.isChecked?"none":void 0},{default:b((()=>[y(o,{slot:"start",checked:t.isChecked,disabled:t?.disabled},null,8,["checked","disabled"]),y(h,null,{default:b((()=>[v("span",w,O(t.label),1)])),_:2},1024)])),_:2},1032,["onClick","color","lines"])))),128))])),_:1}),y(r,{kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])])),_:1})}]]))}}}));
