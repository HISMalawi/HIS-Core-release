import{d,a5 as p,aq as s,aB as a,ai as r,a8 as l,v as c,w as u,ad as i,u as h,x as _}from"./index-CG6KEPsv.js";import{_ as f}from"./ReportMixin.vue_vue_type_script_lang-Da78yexD.js";import{R as g}from"./TableReportTemplate-B9gJG81F.js";import"./BasicReportTemplate-DH-zB7dh.js";import"./Export-ngX2Az_3.js";import"./index-bO2fy8Iw.js";import"./Pagination-BNbmZwZV.js";import"./HisStandardForm-CWpBcokh.js";import"./ReportErrors-CnbOzUh9.js";const w=d({mixins:[f],components:{ReportTemplate:g,IonPage:p},data:()=>({title:"User system usage",rows:[],columns:[[s.thTxt("First name"),s.thTxt("Last name"),s.thTxt("Role"),s.thDate("Registered on"),s.thDate("Encounters created")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async onPeriod(t,e){this.rows=[];const o=await a.getSystemUsageByUsers(e.start_date,e.end_date);this.period="".concat(r.toStandardHisDisplayFormat(e.start_date),"-").concat(r.toStandardHisDisplayFormat(e.end_date)),this.title="User system usage <b>".concat(this.period,"</b>"),this.customFileName="".concat(a.getLocationName()," User system usage ").concat(this.period),this.setRows(o)},async setRows(t){t.forEach(e=>{this.rows.push([s.td(e.given_name),s.td(e.family_name),s.td(e.role),s.tdDate(e.registered_on),s.td(e.encounters)])})}}});function y(t,e,o,$,D,F){const n=i("report-template"),m=i("ion-page");return h(),c(m,null,{default:u(()=>[_(n,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,showtitleOnly:!0,customFileName:t.customFileName,onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]),_:1})}const H=l(w,[["render",y]]);export{H as default};
