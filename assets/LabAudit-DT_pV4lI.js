import{d as m,r as c,t as b,u as g,v as _,w as v,x as D,y as i,cg as r,cU as h,a5 as w,aK as y,O as L}from"./index-BmYpiIZN.js";import{v as C}from"./TableView-B5NqTEaE.js";import{w as x}from"./v2utils-CAIxBHVv.js";import{L as V}from"./lab_report_service-CgaprCW8.js";import"./Export-ylc2T0WI.js";import"./index-BvXVjfY9.js";const R=m({__name:"LabAudit",setup($){const p=y("reports.png"),t=c([]),n=c(""),a=new V,d=[[{label:"Accession number",ref:"accession_number",encrypted:!0},{label:"Lab encounter",ref:"lab_encounter",encrypted:!0},{label:"Change date",ref:"change_date",toValue:e=>"".concat(r(e))},{label:"User",ref:"user",toValue:e=>"".concat(r(e))},{label:"Change type",ref:"change_type",toValue:e=>"".concat(r(e))}]],o=()=>x(async()=>{if(!(a.startDate&&a.endDate))return L("Start date and end date required!");t.value=[],t.value=await a.getLabTrail()}),s=()=>h({onFinish:(e,l,f,u)=>{u&&a.setOccupation(u),n.value="".concat(f),a.startDate=e,a.endDate=l,o()}});return b(()=>!t.value.length&&s()),(e,l)=>(g(),_(i(w),null,{default:v(()=>[D(C,{"default-sort-order":"asc","icon-url":i(p),title:"Lab Audit",subtitle:n.value,columns:d,columnData:t.value,rowsPerPage:50,onConfigure:s,onRefresh:o},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{R as default};
