import{_ as G}from"./FieldMixin.vue_vue_type_script_lang-CuBTVP2k.js";import{d as P,$ as x,a6 as R,a5 as S,Z as W,a7 as q,dk as z,dq as J,aX as K,a4 as X,a3 as Z,bR as j,c4 as O,c5 as Q,W as Y,at as I,cu as ee,aa as ae,af as i,a as s,c as r,w as a,b as n,E as c,J as p,G as k,M as y,K as w,C as le,a2 as U}from"./index-DOO_dFo7.js";const te=P({name:"HisSelect",mixins:[G],components:{IonItem:x,IonLabel:R,IonList:S,IonTitle:W,IonInput:q,IonRadioGroup:z,IonRadio:J,IonGrid:K,IonCol:X,IonRow:Z,ViewPort:j},setup(){return{arrowUp:O,arrowDown:Q}},data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){Y(e)},async launchModal(e,o){(await I.create({component:ee,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:o}})).present()},async editField(e,o){const b=d=>{var u;e.value=d,typeof((u=e==null?void 0:e.field)==null?void 0:u.onValueUpdate)=="function"&&e.field.onValueUpdate(d,o)};this.launchModal(e.field,d=>{var u,g;if(!Array.isArray(d)&&d.label.match(/unknown/i)&&typeof((g=(u=e.field)==null?void 0:u.config)==null?void 0:g.onUnknownEstimateField)=="function")return this.launchModal(e.field.config.onUnknownEstimateField(),v=>b(v));b(d)})}},watch:{listData:{handler(e){typeof this.onValue=="function"&&this.onValue([...e]),this.$emit("onValue",[...e])},deep:!0}}}),ne={key:0};function se(e,o,b,d,u,g){const v=i("ion-radio"),C=i("ion-label"),V=i("ion-item"),A=i("ion-radio-group"),H=i("ion-list"),_=i("ion-col"),N=i("ion-title"),D=i("ion-row"),T=i("ion-input"),$=i("ion-grid"),B=i("view-port");return s(),r(B,null,{default:a(()=>[n($,{class:"view-port-content"},{default:a(()=>[n(D,null,{default:a(()=>[n(_,{size:"4"},{default:a(()=>[n(H,null,{default:a(()=>[n(A,{modelValue:e.selected,"onUpdate:modelValue":o[0]||(o[0]=l=>e.selected=l)},{default:a(()=>[(s(!0),c(p,null,k(e.listData,(l,f)=>(s(),r(V,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:f},{default:a(()=>[n(v,{slot:"start",value:l.label},null,8,["value"]),n(C,{innerHTML:l.label},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(_,null,{default:a(()=>[(s(!0),c(p,null,k(e.listData,(l,f)=>(s(),c("div",{key:f},[e.selected===l.label?(s(),c("div",ne,[(s(!0),c(p,null,k(l.other.data,(E,F)=>(s(),r($,{style:{"margin-bottom":"10px"},class:"his-card",key:F},{default:a(()=>{var M;return[(M=l==null?void 0:l.other)!=null&&M.rowTitles?(s(),r(D,{key:0,style:{background:"#F8F8F8"}},{default:a(()=>[n(_,{class:"ion-text-center"},{default:a(()=>{var t,h;return[n(N,{class:"his-md-text",innerHTML:(t=l==null?void 0:l.other)!=null&&t.rowTitles&&((h=l==null?void 0:l.other)==null?void 0:h.rowTitles[F])||""},null,8,["innerHTML"])]}),_:2},1024)]),_:2},1024)):y("",!0),o[1]||(o[1]=w("p",null,null,-1)),(s(!0),c(p,null,k(E,(t,h)=>(s(),r(D,{key:h},{default:a(()=>[n(_,null,{default:a(()=>[t.disabled?(s(),r(V,{key:0,onClick:m=>e.warn("Cannot edit ".concat(t.label)),class:"his-sm-text"},{default:a(()=>[n(C,{slot:"start"},{default:a(()=>[le(U(t.label),1)]),_:2},1024),n(T,{placeholder:"N/A",slot:"end"})]),_:2},1032,["onClick"])):y("",!0),t.disabled?y("",!0):(s(),r(V,{key:1,class:"his-sm-text",onClick:m=>e.editField(t,e.listData[f].other.data[F])},{default:a(()=>{var m,L;return[n(C,{color:(m=t==null?void 0:t.value)!=null&&m.label?"":"danger"},{default:a(()=>[w("b",null,U(t.label),1)]),_:2},1032,["color"]),n(T,{class:"his-md-text",slot:"end",readonly:!0,value:(L=t==null?void 0:t.value)==null?void 0:L.label,placeholder:"Click to edit"},null,8,["value"])]}),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]}),_:2},1024))),128))])):y("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const de=ae(te,[["render",se],["__scopeId","data-v-41f94882"]]);export{de as default};
