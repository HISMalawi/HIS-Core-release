System.register(["./index-legacy-C29Eb2Qm.js"],(function(e,t){"use strict";var a,o,n,i,s,l,d,c,r,u,f,h,p,m,k,C,g,b,I,_,v,y,w,x,D,F,B,V,P;return{setters:[e=>{a=e.b5,o=e.d,n=e.O,i=e.aS,s=e.f,l=e.l,d=e.j,c=e.k,r=e.i,u=e.C,f=e.g,h=e.h,p=e.e,m=e.aj,k=e.m,C=e.ai,g=e.ak,b=e._,I=e.r,_=e.o,v=e.x,y=e.b,w=e.w,x=e.u,D=e.F,F=e.y,B=e.c,V=e.v,P=e.z}],execute:function(){var t=document.createElement("style");t.textContent="table[data-v-9ef7fdaa]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}ion-col[data-v-9ef7fdaa]{border-right:solid 1px #ccc}.side-title[data-v-9ef7fdaa]{width:100%;padding:.5em;text-align:center;background:#e9e8e8;font-size:1.2em}td[data-v-9ef7fdaa],th[data-v-9ef7fdaa]{border:1px solid #dddddd;text-align:left;padding:8px}tr[data-v-9ef7fdaa]:nth-child(2n){background-color:#ddd}\n",document.head.appendChild(t);class M extends a{constructor(e,t){super(e,30,t)}}const z=o({name:"Modal",props:{factors:{type:Object,required:!0},title:{type:String,default:""}},computed:{showManageBPButton(){return"bp_management"!=this.$route.name}},created(){this.patientID=parseInt(`${this.$route.params.patient_id}`)},methods:{async postActivities(){const e=new M(this.patientID,-1);if(await e.createEncounter()){const t=await this.buildObs();await e.saveObservationList(t),await this.closeModal()}},manageBP(){this.$router.push(`/art/encounters/bp_management/${this.patientID}`)},exit(){n.dismiss([])},async closeModal(){await n.dismiss(this.riskFactors)},async buildObs(){return this.riskFactors.map((e=>{const t=!0===e.isChecked?"Yes":"No",a=i.getConceptID(t,!0);return{concept_id:i.getConceptID(e.concept,!0),value_coded:a}}))}},data:()=>({patientID:-1,riskFactors:[{name:"Diabetes",isChecked:!1,concept:"Diabetes"},{name:"Cronic kidney disease",isChecked:!1,concept:"CKD"},{name:"Past history of IHD or CVD",isChecked:!1,concept:"history of CVD"},{name:"First degree relative with IHD or CVD <65",isChecked:!1,concept:"relative with CVD"},{name:"Patient currently smokes",isChecked:!1,concept:"patient smokes"}]}),mounted(){this.factors.forEach((e=>{if("Yes"===e.value){const t=this.riskFactors.findIndex((t=>t.concept===e.concept));this.riskFactors[t].isChecked=!0}}))},components:{IonButton:s,IonContent:l,IonHeader:d,IonTitle:c,IonToolbar:r,IonLabel:u,IonList:f,IonItem:h,IonCheckbox:p,IonRow:m,IonFooter:k,IonGrid:C,IonCol:g}});e("R",b(z,[["render",function(e,t,a,o,n,i){const s=I("ion-title"),l=I("ion-toolbar"),d=I("ion-header"),c=I("ion-label"),r=I("ion-checkbox"),u=I("ion-item"),f=I("ion-list"),h=I("ion-col"),p=I("ion-row"),m=I("ion-grid"),k=I("ion-content"),C=I("ion-button"),g=I("ion-footer");return _(),v(D,null,[y(d,null,{default:w((()=>[y(l,null,{default:w((()=>[y(s,null,{default:w((()=>[x("Risk Factors")])),_:1})])),_:1})])),_:1}),y(k,{style:{overflowY:"hidden",background:"grey"}},{default:w((()=>[y(m,null,{default:w((()=>[y(p,null,{default:w((()=>[y(h,null,{default:w((()=>[y(f,{style:{overflowY:"auto",height:"78vh"}},{default:w((()=>[(_(!0),v(D,null,F(e.riskFactors,(e=>(_(),B(u,{key:e},{default:w((()=>[y(c,null,{default:w((()=>[x(V(e.name),1)])),_:2},1024),y(r,{modelValue:e.isChecked,"onUpdate:modelValue":t=>e.isChecked=t,slot:"start"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),y(g,null,{default:w((()=>[y(l,null,{default:w((()=>[y(C,{size:"large",onClick:e.exit,slot:"start",color:"danger"},{default:w((()=>[x(" Close ")])),_:1},8,["onClick"]),e.showManageBPButton?(_(),B(C,{key:0,size:"large",onClick:e.manageBP,slot:"start"},{default:w((()=>[x(" Manage BP ")])),_:1},8,["onClick"])):P("",!0),y(C,{size:"large",color:"success",onClick:e.postActivities,slot:"end"},{default:w((()=>[x(" Save ")])),_:1},8,["onClick"])])),_:1})])),_:1})],64)}],["__scopeId","data-v-9ef7fdaa"]]))}}}));
