import{d as g,I as b,r,at as D,o as _,aw as v,D as C,cj as V,ci as d,W as w,aa as h,c as L,w as B,af as u,a as I,b as N}from"./index-CMZASHAR.js";import{v as R}from"./TableView-DhTjQT8r.js";import{V as S}from"./viral_load_report-C5l6NbYt.js";import{w as $,b as E,c as F}from"./v2utils-DPaBC-nQ.js";import"./Export-CpyT9Gk1.js";import"./index-_zuoFVCp.js";const G=g({components:{IonPage:b,v2Datatable:R},setup(){const e=r([]),l=r(""),i=r(!1),t=new S,s=r(!1),c=D(()=>[[s.value?{label:"Filing#",ref:"identifier"}:E("identifier"),{label:"First name",ref:"given_name",exportable:!1},{label:"Last name",ref:"family_name",exportable:!1},{label:"Gender",ref:"gender",toValue:a=>V(a)},{label:"DOB",ref:"birthdate",toValue:a=>d(a)},{label:"Date of VL Order",ref:"order_date",toValue:a=>d(a)},F()]]),o=()=>$(async()=>{if(!(t.startDate&&t.endDate))return w("Start date and end date required!");e.value=[],e.value=await t.getVlCollection()}),n=()=>C({onFinish:(a,m,p,f)=>{f&&t.setOccupation(f),l.value="".concat(p),t.startDate=a,t.endDate=m,o()}});return _(()=>{v.get("IS_ART_FILING_NUMBER_ENABLED").then(a=>s.value=a),!e.value.length&&n()}),{reportData:e,isLoading:i,configure:n,generate:o,columns:c,period:l}}});function P(e,l,i,t,s,c){const o=u("v2Datatable"),n=u("ion-page");return I(),L(n,null,{default:B(()=>[N(o,{title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:50,onConfigure:e.configure,onRefresh:()=>e.generate(),"report-prefix":"Clinic"},null,8,["subtitle","columns","columnData","onConfigure","onRefresh"])]),_:1})}const W=h(G,[["render",P]]);export{W as default};
