System.register(["./index-legacy-BTF8LI8W.js","./SelectMixin-legacy-CTkXp2v9.js","./patient_radiology_service-legacy--PblYdMD.js","./BaseTextInput-legacy-DEnLNV84.js","./FieldMixin.vue_vue_type_script_lang-legacy-Bdsgk7yq.js"],(function(e,t){"use strict";var i,a,l,o,s,d,n,r,c,h,u,g,y,m,f,p,k,C,v,_;return{setters:[e=>{i=e.d,a=e.ae,l=e.am,o=e.aX,s=e.aK,d=e.a8,n=e.ad,r=e.u,c=e.B,h=e.x,u=e.w,g=e.E,y=e.C,m=e.z,f=e.Y,p=e.v,k=e.a1,C=e.G},e=>{v=e.default},e=>{_=e.P},null,null],execute:function(){var t=document.createElement("style");t.textContent="ion-col[data-v-caf0d928]{padding:0;margin:0;border-right:1px solid lightgray}\n",document.head.appendChild(t);const O=i({components:{IonCheckbox:a,IonText:l,IonChip:o},name:"HisRadiologyPicker",mixins:[v],data:()=>({radiologyOrdersList:{},ActiveCategory:""}),methods:{async init(){this.$emit("onFieldActivated",this);const e=await _.getRadiologyList("Radiology Orders");this.listData=this.mapListToOptions(e),this.$emit("onValue",this.getChecked(this.radiologyOrdersList))},async onselect(e,t){this.$nextTick((async()=>{const i={...e};if(i.isChecked=t.target.checked,this.onValue&&i.isChecked&&!(await this.onValue(i)))return t.target.checked=!1;this.onValueUpdate&&(this.radiologyOrdersList=await this.onValueUpdate({...this.radiologyOrdersList},i)),this.$emit("onValue",this.getChecked(this.radiologyOrdersList))}))},async getSpecificRadiologyOrders(e){if(!(e in this.radiologyOrdersList)){const t=await _.getRadiologyList(e);this.radiologyOrdersList[e]=this.mapListToOptions(t,e)}this.ActiveCategory=e},mapListToOptions:(e,t="")=>s.isEmpty(e)?[]:e.map((e=>{const i={label:e.name,value:e.name,isChecked:!1,other:e};return t&&(i.other.parent=t),i})),uncheck(e){this.radiologyOrdersList[e.other.parent].forEach((t=>{t.label===e.label&&(t.isChecked=!1)}))},getChecked(e){const t=[];for(const i in e)t.push(...e[i].filter((e=>e.isChecked)));return t}},computed:{checkedItems(){return this.getChecked(this.radiologyOrdersList)},activeCategoryItems(){return this.radiologyOrdersList[this.ActiveCategory]}},watch:{clear(){for(const e in this.radiologyOrdersList)this.radiologyOrdersList[e]=this.radiologyOrdersList[e].map((e=>(e.isChecked=!1,e)))}},mounted(){this.init()},activated(){this.init()}}),L={style:{}};e("default",d(O,[["render",function(e,t,i,a,l,o){const s=n("ion-text"),d=n("ion-label"),v=n("ion-chip"),_=n("ion-col"),O=n("ion-row"),b=n("ion-item"),x=n("ion-list"),w=n("ion-checkbox"),I=n("ion-grid"),V=n("view-port");return r(),c("div",null,[h(V,{showFull:!e.showKeyboard,style:{padding:"0"}},{default:u((()=>[h(I,null,{default:u((()=>[h(O,null,{default:u((()=>[h(_,{size:"12"},{default:u((()=>[(r(!0),c(g,null,y(e.checkedItems,((t,i)=>(r(),c("span",{key:i},[h(v,{color:"danger",onClick:i=>e.uncheck(t)},{default:u((()=>[h(d,null,{default:u((()=>[h(s,{class:"his-md-text"},{default:u((()=>[m(f(t.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})])),_:1}),h(O,null,{default:u((()=>[h(_,{size:"4"},{default:u((()=>[h(x,{style:{overflowY:"auto",height:"80vh",margin:0}},{default:u((()=>[(r(!0),c(g,null,y(e.listData,((t,i)=>(r(),p(b,{key:i,onClick:i=>e.getSpecificRadiologyOrders(t.value),detail:!0,color:e.ActiveCategory===t.label?"lightblue":""},{default:u((()=>[h(d,null,{default:u((()=>[h(s,{class:"his-md-text"},{default:u((()=>[m(f(t.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","color"])))),128))])),_:1})])),_:1}),e.ActiveCategory?(r(),p(_,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:u((()=>[k("div",L,[h(x,{class:"view-port-content"},{default:u((()=>[(r(!0),c(g,null,y(e.activeCategoryItems,((t,i)=>(r(),p(b,{key:i,color:t.isChecked?"lightblue":""},{default:u((()=>[h(d,null,{default:u((()=>[h(s,{class:"his-md-text"},{default:u((()=>[m(f(t.label),1)])),_:2},1024)])),_:2},1024),h(w,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":e=>t.isChecked=e,onIonChange:i=>e.onselect(t,i),disabled:t?.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])])),_:2},1032,["color"])))),128))])),_:1})])])),_:1})):C("",!0)])),_:1})])),_:1})])),_:1},8,["showFull"])])}],["__scopeId","data-v-caf0d928"]]))}}}));
