import{d as V,I as B,aq as q,a5 as F,$ as L,a6 as M,bW as W,a8 as x,_ as G,X as P,b1 as j,a3 as H,a4 as J,Z as X,a9 as Y,Y as Z,ag as K,r as k,as as r,at as I,o as O,aN as v,aj as Q,W as U,aa as ee,af as n,a as _,c as b,w as e,b as t,C as i,E as oe,J as te,G as ne,a2 as ae,M as se}from"./index-CMZASHAR.js";import{A as y}from"./anc_drug_set-bCKHBq_x.js";const le=V({components:{IonPage:B,ReportDataTable:q,IonList:F,IonItem:L,IonLabel:M,ViewPort:W,IonButton:x,IonContent:G,IonHeader:P,IonGrid:j,IonRow:H,IonCol:J,IonTitle:X,IonFooter:Y,IonToolbar:Z},setup(){const a=K(),o=k({}),s=k([]),C=[[r.thTxt("Drug"),r.thTxt("Duration in days"),r.thTxt("Frequency")]],D=I(()=>!v.isEmpty(s.value)),w=I(()=>{var l,d;return((d=(l=o.value)==null?void 0:l.drugs)==null?void 0:d.map(u=>[r.td(u.drug_name||"N/A"),r.td(u.duration||"N/A"),r.td(u.frequency)]))||[]});O(async()=>{s.value=await y.getDrugSets(),v.isEmpty(s.value)||(o.value=s.value[0])});function p(){a.back()}function c(){a.push({name:"add anc drugset"})}async function m(){if(await Q("Are you sure you want to void this drug set?"))try{await y.voidDrugSet(o.value.id||-1),s.value=s.value.filter(l=>l.id!=o.value.id),v.isEmpty(s.value)?o.value={}:o.value=s.value[0]}catch(l){U("e")}}return{cancel:p,addDrugset:c,voidDrugset:m,drugSets:s,hasSelectedDrugSet:D,selectedDrugSet:o,drugSetColumns:C,drugSetRows:w}}});function re(a,o,s,C,D,w){const p=n("ion-title"),c=n("ion-toolbar"),m=n("ion-header"),l=n("ion-label"),d=n("ion-item"),u=n("ion-list"),S=n("ion-col"),h=n("report-data-table"),T=n("ion-row"),A=n("ion-grid"),E=n("view-port"),N=n("ion-content"),g=n("ion-button"),R=n("ion-footer"),$=n("ion-page");return _(),b($,null,{default:e(()=>[t(m,null,{default:e(()=>[t(c,null,{default:e(()=>[t(p,{class:"his-lg-text"},{default:e(()=>o[0]||(o[0]=[i(" Drug Set ")])),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(E,null,{default:e(()=>[t(A,{style:{"background-color":"white"},class:"view-port-content"},{default:e(()=>[t(T,null,{default:e(()=>[t(S,{size:"4"},{default:e(()=>[t(u,null,{default:e(()=>[(_(!0),oe(te,null,ne(a.drugSets,(f,z)=>(_(),b(d,{class:"his-sm-text",button:"",detail:"",color:a.selectedDrugSet.id===f.id?"lightblue":"",onClick:ue=>a.selectedDrugSet=f,key:z},{default:e(()=>[t(l,null,{default:e(()=>[i(ae(f.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),t(S,{size:"8"},{default:e(()=>[t(h,{columns:a.drugSetColumns,rows:a.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(R,null,{default:e(()=>[t(c,{color:"dark"},{default:e(()=>[t(g,{onClick:a.cancel,slot:"start",color:"danger",size:"large"},{default:e(()=>o[1]||(o[1]=[i(" Cancel ")])),_:1},8,["onClick"]),a.hasSelectedDrugSet?(_(),b(g,{key:0,onClick:a.voidDrugset,slot:"end",color:"danger",size:"large"},{default:e(()=>o[2]||(o[2]=[i(" Void Drug Set ")])),_:1},8,["onClick"])):se("",!0),t(g,{onClick:a.addDrugset,slot:"end",color:"success",size:"large"},{default:e(()=>o[3]||(o[3]=[i(" Add Drug Set ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const de=ee(le,[["render",re],["__scopeId","data-v-fe2c217d"]]);export{de as default};
