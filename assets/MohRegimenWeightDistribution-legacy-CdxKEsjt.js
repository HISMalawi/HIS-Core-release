System.register(["./ReportMixin.vue_vue_type_script_lang-legacy-B2AVJ_qe.js","./regimen_report_service-legacy-Yc86SrEU.js","./index-legacy-B-IGLekl.js","./TableReportTemplate-legacy-DQrxHl8p.js","./HisStandardForm-legacy-zrsmj5en.js","./ReportErrors-legacy-f37ZIf6a.js"],(function(e,t){"use strict";var r,s,o,n,i,a,d,l,c,u,p,h,g,m,w;return{setters:[e=>{r=e._},e=>{s=e.b,o=e.a,n=e.W},e=>{i=e.d,a=e.a5,d=e.ao,l=e.aN,c=e.a6,u=e.v,p=e.w,h=e.ab,g=e.u,m=e.x},e=>{w=e.R},null,null],execute:function(){const t=i({mixins:[r],components:{ReportTemplate:w,IonPage:a},data:()=>({rows:[],title:"Regimen distribution (Weight)",columns:[]}),created(){this.columns=[[d.thTxt("Weight band"),d.thTxt("Gender"),...s.map((e=>d.thNum(e))),d.thNum("Unknown"),d.thNum("Total (regimen)")]],this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t,r=!1){this.rows=[],this.report=new o,this.report.setOccupation(t.occupation),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod();const s=await this.report.getRegimensByWeight(r);await this.setRows(s)},async setRows(e){const t=e=>[...s,"N/A"].map((t=>{const r=e.filter((e=>!!e[t])).map((e=>Object.values(e)[0]));return d.td(l.isEmpty(r)?0:r[0])})),r=e=>e.reduce(((e,t)=>e+t.td),0);n.forEach((s=>{e.filter((e=>e.weight===s)).forEach((e=>{const o=t(e.males),n=t(e.females),i=[d.td(s),d.td("Male"),...o,d.td(r(o))],a=[d.td(s),d.td("Female"),...n,d.td(r(n))];if(this.rows.push(i),this.rows.push(a),!l.isEmpty(e.unknown_gender)){const o=t(e.unknown_gender),n=r(o);this.rows.push([d.td(s),d.td("Unknown Gender"),...o,d.td(n)])}}))}))}}});e("default",c(t,[["render",function(e,t,r,s,o,n){const i=h("report-template"),a=h("ion-page");return g(),u(a,null,{default:p((()=>[m(i,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod,hasServerSideCaching:!0},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
