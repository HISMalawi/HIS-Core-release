import{H as I}from"./HisKeyboard-eull0vVi.js";import{c as g}from"./KbLayouts-9dqmDWmG.js";import{V as w}from"./ViewPort-bfGE2-21.js";import{_ as P}from"./FieldMixin.vue_vue_type_script_lang-C7cK-G_9.js";import{k as A}from"./KbHandler-oqPdZ1-Q.js";import{d as C,b8 as V,aj as O,ak as j,ai as B,a7 as F,d6 as $,K as b,a8 as E,ab as H,_ as K,r as n,o as v,x as y,b as l,w as p,F as k,y as R,c as N,ar as D}from"./index-LcKkVeBi.js";import"./HisKbConfigurations-a7K7dizM.js";import"./BaseKeyboard-QLDFRK8q.js";const L=C({components:{IonInput:V,IonRow:O,IonCol:j,IonGrid:B,HisKeyboard:I,ViewPort:w},mixins:[P],watch:{clear(){this.addressInputs={first:"",second:"",third:"",fourth:""}}},setup(s,{emit:i}){const{activePlatformProfile:h}=F();$(()=>i("onFieldActivated",this));const t=b("first"),a=b({first:"",second:"",third:"",fourth:""}),u={first:"second",second:"third",third:"fourth",fourth:"third"},m=o=>t.value=o,c=()=>t.value=u[t.value]||t.value,f=()=>t.value=Object.keys(u).find(o=>u[o]===t.value)||t.value;function _(o){if(/→/i.test(o))return c();if(/←/i.test(o))return f();const r=t.value,e=A(o,a.value[r]);if(e.length>3)return c();a.value[r]=e.charAt(0)==="0"&&e.length>1?e.substring(1):e}return E(a,o=>{if(!o)return;if(Object.values(o).map(e=>!H.isEmpty(e)).every(Boolean)){const e=Object.values(o).map(d=>d).join(".");i("onValue",{label:e,value:e})}else i("onValue",null)},{deep:!0,immediate:!0}),{activePlatformProfile:h,keypress:_,activeIndex:t,onAddressClick:m,addressInputs:a,numbers:[g,[["Delete"],["Clear"]]]}}});function U(s,i,h,t,a,u){const m=n("ion-input"),c=n("ion-col"),f=n("ion-row"),_=n("ion-grid"),o=n("view-port"),r=n("his-keyboard");return v(),y(k,null,[l(o,{showFull:!1},{default:p(()=>[l(_,null,{default:p(()=>[l(f,null,{default:p(()=>[(v(!0),y(k,null,R(Object.keys(s.addressInputs),e=>(v(),N(c,{key:e},{default:p(()=>[l(m,{readonly:s.activePlatformProfile.keyboard==="HIS_KEYBOARD_ONLY",mode:"md",inputmode:"numeric",type:"number",max:255,class:D([{"highlighted-input":e===s.activeIndex},"input_display"]),modelValue:s.addressInputs[e],"onUpdate:modelValue":d=>s.addressInputs[e]=d,onIonFocus:d=>s.onAddressClick(e),style:{textAlign:"center"},placeholder:"0"},null,8,["readonly","class","modelValue","onUpdate:modelValue","onIonFocus"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),l(r,{onKeyPress:s.keypress,kbConfig:s.numbers},null,8,["onKeyPress","kbConfig"])],64)}const q=K(L,[["render",U],["__scopeId","data-v-ad8175b5"]]);export{q as default};
