System.register(["./index-legacy-D1EyWbyq.js","./HisKeyboard-legacy-y6nW788Z.js","./KbLayouts-legacy-BKvPSxzZ.js","./ViewPort-legacy-Dt6qML7b.js","./FieldMixin.vue_vue_type_script_lang-legacy-B6ceR29M.js","./KbHandler-legacy-De8o5nTq.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BaseKeyboard-legacy-DNjRE9bC.js"],(function(e,o){"use strict";var t,i,l,n,a,c,s,r,u,d,g,h,p,k,y,m,N,b,f,v,D,w,_,C,$,V;return{setters:[e=>{t=e.d,i=e.bb,l=e.aj,n=e.ak,a=e.ai,c=e.c_,s=e.M,r=e.a7,u=e.K,d=e.ca,g=e.a8,h=e._,p=e.r,k=e.o,y=e.x,m=e.b,N=e.w,b=e.ar,f=e.c,v=e.z,D=e.F},e=>{w=e.H},e=>{_=e.N},e=>{C=e.V},e=>{$=e._},e=>{V=e.k},null,null],execute:function(){var o=document.createElement("style");o.textContent="#view-port[data-v-8f7eef67]{height:53vh}.highlighted-input[data-v-8f7eef67]{color:#3880ff;border-bottom:3px solid #3880ff}\n",document.head.appendChild(o);const x={B:0,F:1,G:2,H:3,J:4,P:5,V:6,W:7,X:8,Z:9},K=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];function I(e,o){const t=o-`${e}`.length;return t<=0?`${e}`:`${Array.from({length:t}).map((()=>0)).join("")}${e}`}function M(e){const[o,t,i,l]=e.split("-");if(!(o&&t&&i&&l))return!1;const n=I(parseInt(t),3),a=I(parseInt(i),2),c=x[l.toUpperCase()];return function(e){e.match(/^\d+$/)||(e=e.replace(/\D/g,""));let o=0;for(let t=0;t<e.length;t++){const i=e.charAt(t);o=K[o][i]}return`${o}`}(`${o}-${n}-${a}`)===`${c}`}const L=t({components:{IonInput:i,IonRow:l,IonCol:n,IonGrid:a,HisKeyboard:w,ViewPort:C},mixins:[$],watch:{clear(){this.checkDigit.bookNo="",this.checkDigit.pageNo="",this.checkDigit.rowNo="",this.checkDigit.checkDigit="",this.activeMask="bookNo",this.showKeyboard=!0}},setup(e,{emit:o}){c((()=>o("onFieldActivated",this)));const t={bookNo:5,checkDigit:1,pageNo:3,rowNo:2},i=s((()=>"HIS_KEYBOARD_ONLY"===r().activePlatformProfile.value.keyboard)),l=u("bookNo"),n=u(!0),a=s((()=>{const e=[_,[["Delete"],["Clear"]]];return{bookNo:e,pageNo:e,rowNo:e,checkDigit:[[["B","F","G"],["H","J","P"],["V","W","X"],["","Z",""]],[["Delete"],["Clear"]]]}[l.value]})),h=d({bookNo:"",pageNo:"",rowNo:"",checkDigit:""});return g(h,(e=>{const t=`${e.bookNo}-${e.pageNo}-${e.rowNo}-${e.checkDigit}`;o("onValue",{label:t,value:`${e.bookNo}${e.pageNo}${e.rowNo}${e.checkDigit}`,other:{isValidLinkageCode:M(t)}})}),{deep:!0}),{activeMask:l,checkDigit:h,showKeyboard:n,inputIsReadOnly:i,inputLengthLimit:t,activeKeyboard:a,onClickMask:function(e){l.value=e,n.value=!0},onKeyPress:function(e){if(l.value){const o=t[l.value]||0,i=V(e,1===o?"":`${h[l.value]}`);(o<=1||`${i}`.length<=o)&&(h[l.value]=i)}}}}});e("default",h(L,[["render",function(e,o,t,i,l,n){const a=p("ion-input"),c=p("ion-col"),s=p("ion-row"),r=p("ion-grid"),u=p("view-port"),d=p("his-keyboard");return k(),y(D,null,[m(u,{showFull:!1},{default:N((()=>[m(r,null,{default:N((()=>[m(s,null,{default:N((()=>[m(c,null,{default:N((()=>[m(a,{mode:"md",readonly:e.inputIsReadOnly,inputmode:"numeric",type:"number",onClick:o[0]||(o[0]=o=>e.onClickMask("bookNo")),modelValue:e.checkDigit.bookNo,"onUpdate:modelValue":o[1]||(o[1]=o=>e.checkDigit.bookNo=o),style:{textAlign:"center"},placeholder:"Book No.",class:b([{"highlighted-input":"bookNo"===e.activeMask},"input_display"])},null,8,["readonly","modelValue","class"])])),_:1}),m(c,null,{default:N((()=>[m(a,{mode:"md",readonly:e.inputIsReadOnly,type:"number",inputmode:"numeric",maxlength:e.inputLengthLimit.pageNo,onClick:o[2]||(o[2]=o=>e.onClickMask("pageNo")),modelValue:e.checkDigit.pageNo,"onUpdate:modelValue":o[3]||(o[3]=o=>e.checkDigit.pageNo=o),style:{textAlign:"center"},placeholder:"Page No.",class:b([{"highlighted-input":"pageNo"===e.activeMask},"input_display"])},null,8,["readonly","maxlength","modelValue","class"])])),_:1}),m(c,null,{default:N((()=>[m(a,{mode:"md",readonly:e.inputIsReadOnly,inputmode:"numeric",type:"number",maxlength:e.inputLengthLimit.rowNo,onClick:o[4]||(o[4]=o=>e.onClickMask("rowNo")),modelValue:e.checkDigit.rowNo,"onUpdate:modelValue":o[5]||(o[5]=o=>e.checkDigit.rowNo=o),class:b([{"highlighted-input":"rowNo"===e.activeMask},"input_display"]),style:{textAlign:"center"},placeholder:"Row No."},null,8,["readonly","maxlength","modelValue","class"])])),_:1}),m(c,null,{default:N((()=>[m(a,{mode:"md",readonly:e.inputIsReadOnly,maxlength:e.inputLengthLimit.checkDigit,onClick:o[6]||(o[6]=o=>e.onClickMask("checkDigit")),class:b([{"highlighted-input":"checkDigit"===e.activeMask},"input_display"]),modelValue:e.checkDigit.checkDigit,"onUpdate:modelValue":o[7]||(o[7]=o=>e.checkDigit.checkDigit=o),style:{textAlign:"center"},placeholder:"Check digit"},null,8,["readonly","maxlength","class","modelValue"])])),_:1})])),_:1})])),_:1})])),_:1}),e.showKeyboard?(k(),f(d,{key:0,onKeyPress:e.onKeyPress,kbConfig:e.activeKeyboard},null,8,["onKeyPress","kbConfig"])):v("",!0)],64)}],["__scopeId","data-v-8f7eef67"]]))}}}));
