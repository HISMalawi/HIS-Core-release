System.register(["./index-legacy-CA6M7ipO.js","./FieldMixin.vue_vue_type_script_lang-legacy-VsTKxI6Q.js"],(function(e,t){"use strict";var a,l,n,s,o,i,u,d,c,r,h,f,m,p,y,v,_,g,b,k,D,w,C,S,M,O,$,I,z,V,Y,x,T,F,J,P,U,A,j,B,H;return{setters:[e=>{a=e.d,l=e.r,n=e.bC,s=e.a,o=e.c,i=e.w,u=e.b,d=e.u,c=e.X,r=e.Y,h=e.Z,f=e.C,m=e._,p=e.b1,y=e.E,v=e.J,_=e.G,g=e.a3,b=e.a4,k=e.a8,D=e.a2,w=e.I,C=e.at,S=e.K,M=e.b7,O=e.aa,$=e.aN,I=e.aL,z=e.ay,V=e.eg,Y=e.eh,x=e.ei,T=e.a7,F=e.bW,J=e.H,P=e.ao,U=e.au,A=e.af,j=e.ed,B=e.M},e=>{H=e._}],execute:function(){var t=document.createElement("style");t.textContent="ion-grid[data-v-67b6b8ab]{height:100%}.calendar-date[data-v-67b6b8ab]{height:8.5vh;font-size:2rem;border:1px solid #f0efef}.selected-date[data-v-67b6b8ab]{color:#fff;background-color:#3880ff!important}\n/*$vite$:1*/",document.head.appendChild(t);const N=a({__name:"DateMonthSelector",props:{date:String,onMonth:Object},setup(e){const t=e,a=l(n(t.date).format("MMM")),C=[["Jan","Feb","Mar"],["Apr","May","Jun"],["Jul","Aug","Sep"],["Oct","Nov","Dec"]],S={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};return(e,l)=>(s(),o(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(h),{class:"ion-text-center"},{default:i((()=>l[0]||(l[0]=[f(" Select a month ")]))),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[(s(),y(v,null,_(C,((e,l)=>u(d(g),{key:l},{default:i((()=>[(s(!0),y(v,null,_(e,((e,l)=>(s(),o(d(b),{"size-sm":"12","size-md":"4",style:{height:"12.3vh"},key:l,class:"ion-padding ion-text-center"},{default:i((()=>[(s(),o(d(k),{key:l,style:{"font-size":"1.6rem"},mode:"ios",color:a.value.toUpperCase()===e.toUpperCase()?"primary":"dark",fill:a.value.toUpperCase()===e.toUpperCase()?"solid":"clear",onClick:l=>function(e){a.value=e;const l=S[e];"function"==typeof t.onMonth&&t.onMonth(l)}(e),size:"large"},{default:i((()=>[f(D(e),1)])),_:2},1032,["color","fill","onClick"]))])),_:2},1024)))),128))])),_:2},1024))),64))])),_:1})])),_:1})])),_:1}))}}),E=O(a({__name:"DateDayPicker",props:{date:String,onDay:Object},setup(e){const t=e,a=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],k=l(n(t.date).format("D")),O=C((()=>{const e=n(t.date),a=e.startOf("month"),l=e.endOf("month").date(),s=a.day(),o=[];let i=[],u=1;for(let t=0;t<6;t++){for(let e=0;e<7;e++)0===t&&e<s?i.push(0):(u<=l?i.push(u):i.push(0),u++);o.push(i),i=[]}return o}));return(e,l)=>(s(),o(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(h),{class:"ion-text-center"},{default:i((()=>l[0]||(l[0]=[f(" Select a day ")]))),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[u(d(g),null,{default:i((()=>[(s(),y(v,null,_(a,(e=>u(d(b),{class:"calendar-day",key:e},{default:i((()=>[S("b",null,D(e),1)])),_:2},1024))),64))])),_:1}),(s(!0),y(v,null,_(O.value,(e=>(s(),o(d(g),{class:"calendar-row",key:`${e}`},{default:i((()=>[(s(!0),y(v,null,_(e,(e=>(s(),o(d(b),{class:M(["calendar-date ion-padding",{"selected-date":`${k.value}`==`${e}`}]),onClick:a=>e>0?function(e){k.value=e,"function"==typeof t.onDay&&t.onDay(e)}(e):null,key:e},{default:i((()=>[f(D(e>0?e:""),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-67b6b8ab"]]),G=a({__name:"DateYearPicker",props:{date:String,onYear:Object},setup(e){const t=e,a=l(0),M=l(0),O=l(0),x=C((()=>M.value-12)),T=C((()=>{const e=[];for(let a=M.value;a>x.value;--a)e.push(a);const t=$.chunk(e.sort(),3);return $.chunk(t,4)[a.value]}));function F(){M.value=x.value}function J(){M.value=M.value+12}return I((()=>t.date),(e=>{O.value=n(e).get("year"),M.value=O.value}),{immediate:!0}),(e,a)=>(s(),o(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(k),{onClick:F,color:"dark",slot:"start",size:"large",fill:"clear"},{default:i((()=>[u(d(z),{icon:d(V)},null,8,["icon"])])),_:1}),u(d(h),{class:"ion-text-center"},{default:i((()=>[a[0]||(a[0]=f(" Select a year ")),a[1]||(a[1]=S("br",null,null,-1)),S("small",null,D(x.value+1)+" to "+D(M.value),1)])),_:1}),u(d(k),{onClick:J,color:"dark",slot:"end",size:"large",fill:"clear"},{default:i((()=>[u(d(z),{icon:d(Y)},null,8,["icon"])])),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[(s(!0),y(v,null,_(T.value,((e,a)=>(s(),o(d(g),{key:a},{default:i((()=>[(s(!0),y(v,null,_(e,((e,a)=>(s(),o(d(b),{"size-sm":"12","size-md":"4",style:{height:"12.4vh"},key:a,class:"ion-padding ion-text-center"},{default:i((()=>[u(d(k),{size:"large",mode:"ios",color:e===O.value?"primary":"dark",fill:e===O.value?"solid":"clear",style:{"font-size":"1.6rem"},onClick:a=>function(e){O.value=e,"function"==typeof t.onYear&&t.onYear(e)}(e)},{default:i((()=>[f(D(e),1)])),_:2},1032,["color","fill","onClick"])])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))}}),W=a({components:{PickerSelector:x,IonInput:T,ViewPort:F,IonGrid:p,IonCol:b,IonRow:g,IonButton:k},mixins:[H],data:()=>({value:"",date:"",isInit:!0,canShowToday:!0,showMonthSelector:!1,showDaySelector:!1,showYearSelector:!1}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),"function"==typeof this.config.initialDate?this.date=new Date(this.config.initialDate()):this.date=new Date,this.canShowToday="function"==typeof this.config?.addTodayBtn?this.config.addTodayBtn(this.fdata,this.cdata):this.config?.addTodayBtn??!0,await this.setDefaultValue(),this.isInit=!1},async setDefaultValue(){if(this.value)this.date=new Date(this.value);else if(this.defaultValue){const e=await this.defaultValue(this.fdata,this.cdata);e&&(this.isInit=!1,this.date=new Date(e))}},add(e){this.date=J.add(this.fmt(this.date),e,1)},subtract(e){this.date=J.subtract(this.fmt(this.date),e,1)},today(){this.date=new Date(P.getSessionDate())},fmt:e=>J.toStandardHisFormat(e),async selectDay(){const e=await U.create({component:E,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onDay:t=>{const[a,l]=this.fmt(this.date).split("-");this.date=new Date(`${a}-${l}-${t}`),e.dismiss()}}});e.present()},async selectMonth(){const e=await U.create({component:N,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onMonth:t=>{const[a,l,n]=this.fmt(this.date).split("-");this.date=new Date(`${a}-${t}-${n}`),e.dismiss()}}});e.present()},async selectYear(){const e=await U.create({component:G,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onYear:t=>{const[a,l,n]=this.fmt(this.date).split("-");this.date=new Date(`${t}-${l}-${n}`),e.dismiss()}}});e.present()}},computed:{getYear(){return J.getYear(this.fmt(this.date))},getMonth(){return J.getMonth(this.fmt(this.date))},getDay(){return J.getDay(this.fmt(this.date))}},watch:{date(e){this.isInit||(this.value=J.toStandardHisFormat(e))},value(e){e?this.$emit("onValue",{label:e,value:this.value}):this.$emit("onValue",null)},clear(){this.value=""}}});e("default",O(W,[["render",function(e,t,a,l,n,d){const c=A("ion-input"),r=A("view-port"),h=A("picker-selector"),f=A("ion-col"),m=A("ion-row"),p=A("ion-button"),_=A("ion-grid");return s(),y(v,null,[u(r,{showFull:!1},{default:i((()=>[u(c,{class:"input_display",readonly:!0,value:e.value},null,8,["value"]),j(e.$slots,"default",{date:e.value})])),_:3}),u(_,{class:"his-floating-keyboard"},{default:i((()=>[u(m,null,{default:i((()=>[u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getYear,onOnIncrement:t[0]||(t[0]=t=>e.add("year")),onOnDecrement:t[1]||(t[1]=t=>e.subtract("year")),onOnValue:e.selectYear},null,8,["value","onOnValue"])])),_:1}),u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getMonth,onOnIncrement:t[2]||(t[2]=t=>e.add("month")),onOnDecrement:t[3]||(t[3]=t=>e.subtract("month")),onOnValue:e.selectMonth},null,8,["value","onOnValue"])])),_:1}),u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getDay,onOnIncrement:t[4]||(t[4]=t=>e.add("day")),onOnDecrement:t[5]||(t[5]=t=>e.subtract("day")),onOnValue:e.selectDay},null,8,["value","onOnValue"])])),_:1})])),_:1}),u(m,null,{default:i((()=>[e.canShowToday?(s(),o(f,{key:0,class:"ion-text-center"},{default:i((()=>[u(p,{color:"success",style:{width:"100%",height:"6vh"},onClick:e.today},{default:i((()=>t[7]||(t[7]=[S("b",null,"TODAY",-1)]))),_:1},8,["onClick"])])),_:1})):B("",!0),u(f,null,{default:i((()=>[u(p,{disabled:!e.config.allowUnknown,color:"warning",style:{width:"100%",height:"6vh"},onClick:t[6]||(t[6]=t=>e.value="Unknown")},{default:i((()=>t[8]||(t[8]=[S("b",null,"Unknown",-1)]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})],64)}]]))}}}));
