System.register(["./index-legacy-B837ziyX.js"],(function(e,a){"use strict";var n,o,t,l,c,r,i,u,s,d,f,b,v,y,g,p,k,m,C,I,h,x,_,S,T,V,K,P,w;return{setters:[e=>{n=e.d,o=e.b0,t=e.l,l=e.k,c=e.m,r=e.a5,i=e.n,u=e.a4,s=e.I,d=e.b1,f=e.aP,b=e.r,v=e.c,y=e.b2,g=e.b3,p=e.S,k=e.aZ,m=e.s,C=e.aI,I=e.p,h=e.b4,x=e.ak,_=e.ap,S=e.a,T=e.b,V=e.w,K=e.e,P=e.a6,w=e.j}],execute:function(){var a=document.createElement("style");a.textContent=".his-floating-keyboard[data-v-3f50a6e8]{bottom:70px!important}.his-card[data-v-3f50a6e8]{margin:auto;width:95%}\n/*$vite$:1*/",document.head.appendChild(a);const E=n({name:"HC location",components:{BarcodeInput:d,IonContent:s,IonHeader:u,IonPage:i,IonTitle:r,IonToolbar:c,IonButton:l,IonFooter:t,HisKeyboard:o},setup(){const{activePlatformProfile:e}=f(),a=b(""),n=b("");async function o(){a.value.includes("$")||(a.value+="$");const e=await p.getJson(`locations/${a.value}`);if(k.isEmpty(e))m("Invalid location");else{const a=e;sessionStorage.userLocation=a.name;try{await C().setLocation()}catch(o){return m("Unable to set facility UUID. Please try again!")}I.push("/")}n.value=a.value,a.value=""}return{onbarcodeText:function(e){a.value=e},onScan:async function(e){a.value=e,await o()},onKbClick:function(e){a.value=h(e,a.value),console.log("barcode",a.value)},searchLocation:o,useVirtualKeyboard:v((()=>e.value.scanner===y.CAMERA_SCANNER)),clearValue:n,barcodeText:a,NUMBERS:g}}});e("default",x(E,[["render",function(e,a,n,o,t,l){const c=_("ion-title"),r=_("ion-toolbar"),i=_("ion-header"),u=_("barcode-input"),s=_("ion-content"),d=_("his-keyboard"),f=_("ion-button"),b=_("ion-footer"),v=_("ion-page");return T(),S(v,null,{default:V((()=>[K(i,{translucent:!0},{default:V((()=>[K(r,null,{default:V((()=>[K(c,null,{default:V((()=>[...a[0]||(a[0]=[w("Scan work-station location",-1)])])),_:1})])),_:1})])),_:1}),K(s,{class:"ion-padding-top"},{default:V((()=>[K(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])])),_:1}),e.useVirtualKeyboard?(T(),S(d,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):P("",!0),K(b,null,{default:V((()=>[K(r,{color:"dark"},{default:V((()=>[K(f,{color:"danger",size:"large","router-link":"/login"},{default:V((()=>[...a[1]||(a[1]=[w(" Cancel ",-1)])])),_:1}),e.barcodeText?(T(),S(f,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:V((()=>[...a[2]||(a[2]=[w(" Next ",-1)])])),_:1},8,["onClick"])):P("",!0)])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-3f50a6e8"]]))}}}));
