import y from"./SelectMixin-hn27g8G6.js";import{d as k,ab as l,_ as w,r as i,o,x as r,b as a,w as n,F as d,y as v,c,u as V,v as C,z as K}from"./index-ukYYv03_.js";import"./HisKeyboard-Bstk46n9.js";import"./HisKbConfigurations-GhFQZvlg.js";import"./KbLayouts-VRA-vjeH.js";import"./BaseKeyboard-Bzque8Wa.js";import"./KbHandler-BuQ4TFU6.js";import"./BaseTextInput-AyFg1QOc.js";import"./ViewPort-DXU7_cLE.js";import"./FieldMixin.vue_vue_type_script_lang-DAE3bgkg.js";const $=k({name:"HisSelect",mixins:[y],data:()=>({isInit:!1}),watch:{clear(){this.clearSelection()}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.isInit||await this.setDefaultValue(),this.isInit=!0},async setDefaultValue(){if(this.defaultValue){const e=await this.defaultValue(this.fdata,this.cdata,this.selected);if(e){const s=l.find(this.listData,{label:e})||l.find(this.listData,{value:e});s?this.onselect(s):(this.selected=e,this.filter=e)}}},async onselect(e){if(this.selected=e.label,this.onValue&&!await this.onValue(e,this)){this.selected="";return}this.$emit("onValue",e)}}});function D(e,s,g,F,S,I){const u=i("his-text-input"),h=i("ion-label"),f=i("ion-item"),p=i("ion-list"),m=i("view-port"),b=i("his-keyboard");return o(),r(d,null,[a(m,{showFull:!e.showKeyboard},{default:n(()=>[a(u,{readonly:!e.showKeyboard,value:e.selected,onOnValue:s[0]||(s[0]=t=>e.onKbValue(t,e.showKeyboard))},null,8,["readonly","value"]),a(p,{class:"view-port-content"},{default:n(()=>[(o(!0),r(d,null,v(e.filtered,(t,_)=>(o(),c(f,{class:"his-md-text",button:"",color:t.label===e.selected?"lightblue":"",lines:t.isChecked?"none":"",key:_,disabled:!!("disabled"in t&&t.disabled),onClick:B=>e.onselect(t)},{default:n(()=>[a(h,null,{default:n(()=>[V(C(t.label),1)]),_:2},1024)]),_:2},1032,["color","lines","disabled","onClick"]))),128))]),_:1})]),_:1},8,["showFull"]),e.showKeyboard?(o(),c(b,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):K("",!0)],64)}const T=w($,[["render",D],["__scopeId","data-v-c2295ff3"]]);export{T as default};
