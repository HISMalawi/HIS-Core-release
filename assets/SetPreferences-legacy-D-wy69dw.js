System.register(["./index-legacy-D3AimR5c.js","./anc_global_props-legacy-BA_DefeG.js","./HisStandardForm-legacy-BGshLTc9.js"],(function(e,a){"use strict";var n,t,i,r,o,u,c,l,s,d,p,y,m,T,f,v,_,I,h,L;return{setters:[e=>{n=e.d,t=e.r,i=e.u,r=e.aq,o=e.o,u=e.an,c=e.ao,l=e.a,s=e.b,d=e.w,p=e.e,y=e.i,m=e.q,T=e.al,f=e.k,v=e.v,_=e.aR},e=>{I=e.a,h=e.A},e=>{L=e.H}],execute:function(){e("default",n({__name:"SetPreferences",setup(e){const a=t(""),n=i(),S=r(),C=[...function(){const e=I.APPOINTMENT_LIMIT;return[{id:e,helpText:"Enter Appointment Limit",type:u.TT_NUMBER,computedValue:e=>e.value,condition:()=>A(e),defaultValue:()=>h.appointmentLimit(),validation:e=>c.required(e)}]}(),...function(){const e=I.CLINIC_DAYS;return[{id:e,helpText:"Set Clinic day(s)",type:u.TT_MULTIPLE_SELECT,condition:()=>A(e),computedValue:e=>(e=>e.map((e=>e.value)).join())(e),validation:e=>c.required(e),options:async()=>{return e=await h.clinicDays(),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((a=>({label:a,value:a,isChecked:!_.isEmpty(e)&&e.search(a)>=0})));var e}}]}(),...function(){const e=I.CLINIC_HOLIDAYS;return[{id:e,helpText:"Set clinic holiday(s)",type:u.TT_CLINIC_HOLIDAY_PICKER,condition:()=>A(e),computedValue:e=>e.value,defaultValue:()=>h.clinicHolidays(),validation:e=>c.required(e)}]}()];function A(e){return console.log("prop",e,a.value),e===a.value}async function E(e,a){try{for(const e in a)await T.set(e,a[e]),f("Property has been updated",2e3);S.back()}catch(n){console.error(n),v("An error occurred while saving the preferences")}}return o((()=>a.value=n.name)),(e,a)=>(l(),s(y(m),null,{default:d((()=>[p(L,{fields:C,onFinishAction:E,skipSummary:!0})])),_:1}))}}))}}}));
