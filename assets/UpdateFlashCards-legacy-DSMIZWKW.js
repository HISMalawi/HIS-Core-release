System.register(["./index-legacy-BikDJqIc.js","./HisStandardForm-legacy-C2hYSmp0.js"],(function(e,t){"use strict";var n,a,i,r,o,d,s,l,p,g,f,c,h,u,x,b;return{setters:[e=>{n=e.d,a=e.v,i=e.n,r=e.z,o=e.au,d=e.U,s=e.aD,l=e.am,p=e.ak,g=e.ap,f=e.a,c=e.b,h=e.w,u=e.e,x=e.a6},e=>{b=e.H}],execute:function(){var t=document.createElement("style");t.textContent="[data-v-870dc253] .text{padding:20px;line-height:1.6;word-break:break-word}@media(max-width:768px){[data-v-870dc253] .text{padding:15px;font-size:1rem}}\n/*$vite$:1*/",document.head.appendChild(t);const m=n({name:"UpdateFlashCards",components:{IonPage:i,IonLoading:a,HisStandardForm:b},data:()=>({fields:[],isLoading:!0,currentVersion:"",updateNotes:[],notesPerPage:3}),methods:{generateWelcomeBanner(){return{id:"welcome_banner",helpText:"",type:l.TT_TEXT_BANNER,options:async()=>[{label:`Welcome to Version ${this.currentVersion}`,value:`<div style="text-align: center; padding: 40px 30px; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); border-radius: 20px; color: white; box-shadow: 0 10px 40px rgba(30,60,114,0.3);">\n                <div style="font-size: 4em; margin-bottom: 20px;">ğŸ‰</div>\n                <h2 style="margin: 0; font-size: 2.5em; font-weight: 800; margin-bottom: 15px; letter-spacing: -0.5px;">What's New!</h2>\n                <div style="height: 4px; width: 60px; background: linear-gradient(90deg, #00d4ff, #0099ff); margin: 20px auto; border-radius: 2px;"></div>\n                <p style="font-size: 1.4em; margin: 20px 0 5px 0; font-weight: 600; letter-spacing: 0.5px;">\n                  HIS-Core <span style="background: linear-gradient(135deg, #00d4ff, #0099ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800;">${this.currentVersion}</span>\n                </p>\n                <p style="color: rgba(255,255,255,0.85); font-size: 1.1em; margin: 20px 0 0 0; font-weight: 400; letter-spacing: 0.3px;">\n                  Explore the latest improvements and features\n                </p>\n              </div>`}]}},generateUpdateBanners(){if(0===this.updateNotes.length)return[{id:"no_updates_banner",helpText:"No Update Details",type:l.TT_TEXT_BANNER,options:async()=>[{label:"No update details available",value:'<div style="text-align: center; padding: 40px; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 16px; color: white;">\n                    <div style="font-size: 2.5em; margin-bottom: 15px;">ğŸ“</div>\n                    <p style="font-size: 1.1em; font-weight: 500;">No update details available for this version.</p>\n                  </div>'}]}];const e={0:"âš¡",1:"ğŸš€",2:"ğŸ’¡",3:"ğŸ› ï¸",4:"ğŸ¯",5:"âœ¨",6:"ğŸ”¥",7:"ğŸ“ˆ",8:"ğŸ¨",9:"ğŸŒŸ"},t=[{bg:"linear-gradient(135deg, #0052cc 0%, #0066ff 100%)",text:"#ffffff",border:"#0052cc"},{bg:"linear-gradient(135deg, #d4145a 0%, #fbb03b 100%)",text:"#ffffff",border:"#d4145a"},{bg:"linear-gradient(135deg, #009688 0%, #26a69a 100%)",text:"#ffffff",border:"#009688"},{bg:"linear-gradient(135deg, #6c63ff 0%, #8b5cf6 100%)",text:"#ffffff",border:"#6c63ff"},{bg:"linear-gradient(135deg, #ff6b35 0%, #f7931e 100%)",text:"#ffffff",border:"#ff6b35"}],n=[];for(let a=0;a<this.updateNotes.length;a+=this.notesPerPage)n.push(this.updateNotes.slice(a,a+this.notesPerPage));return n.map(((n,a)=>({id:`update_page_${a}`,helpText:`Updates ${a*this.notesPerPage+1}-${Math.min((a+1)*this.notesPerPage,this.updateNotes.length)} of ${this.updateNotes.length}`,type:l.TT_TEXT_BANNER,options:async()=>{const i=n.map(((n,i)=>{const r=a*this.notesPerPage+i,o=e[r%10]||"âœ“",d=t[r%5];return`<div style="padding: 24px; background: ${d.bg}; border-radius: 16px; margin-bottom: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.12); border-left: 6px solid ${d.border}; transition: all 0.3s ease; position: relative; overflow: hidden;">\n              <div style="position: absolute; top: 0; right: 0; width: 100px; height: 100px; background: rgba(255,255,255,0.08); border-radius: 50%; transform: translate(30%, -30%);"></div>\n              <div style="display: flex; align-items: flex-start; gap: 18px; position: relative; z-index: 1;">\n                <div style="font-size: 2.2em; flex-shrink: 0; line-height: 1; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));">\n                  ${o}\n                </div>\n                <div style="flex: 1;">\n                  <span style="color: ${d.text}; font-size: 1.15em; line-height: 1.7; font-weight: 600; word-break: break-word; display: block; letter-spacing: 0.3px;">\n                    ${n}\n                  </span>\n                </div>\n              </div>\n            </div>`})).join("");return[{label:`Page ${a+1}`,value:`<div style="padding: 16px;">\n                ${i}\n              </div>`}]}})))},generateAgreementBanner:()=>({id:"user_agreement",helpText:"Acknowledgment",type:l.TT_TEXT_BANNER,options:async()=>[{label:"User Agreement",value:'<div style="text-align: center; padding: 40px 30px; background: linear-gradient(135deg, #2d3436 0%, #636e72 100%); border-radius: 16px; color: white; box-shadow: 0 10px 40px rgba(0,0,0,0.2);">\n                <div style="font-size: 2.5em; margin-bottom: 20px;">âœ“</div>\n                <h3 style="margin: 0 0 15px 0; font-size: 1.5em; font-weight: 700;">Acknowledgment Required</h3>\n                <div style="height: 3px; width: 50px; background: linear-gradient(90deg, #00d4ff, #0099ff); margin: 15px auto; border-radius: 2px;"></div>\n                <p style="color: rgba(255,255,255,0.9); font-size: 1.05em; margin: 20px 0; line-height: 1.6; font-weight: 400;">\n                  By clicking the <strong>Finish</strong> button, you acknowledge that you have read and reviewed all the updates presented.\n                </p>\n                <div style="background: rgba(255,255,255,0.1); border-left: 4px solid #00d4ff; padding: 15px; border-radius: 8px; margin-top: 20px; font-size: 0.95em;">\n                  <p style="margin: 0; color: rgba(255,255,255,0.85);">Please ensure you understand all changes before proceeding.</p>\n                </div>\n              </div>'}]}),async loadUpdateNotes(){try{this.currentVersion=s.version;const e=await fetch(`/updates/${this.currentVersion}.md`);if(e.ok){const t=await e.text();this.updateNotes=this.parseMarkdown(t)}this.fields=[this.generateWelcomeBanner(),...this.generateUpdateBanners(),this.generateAgreementBanner()],this.isLoading=!1}catch(e){console.error("Error loading update notes:",e),this.fields=[{id:"error_banner",helpText:"Error",type:l.TT_TEXT_BANNER,options:async()=>[{label:"Error",value:'<div style="text-align: center; padding: 30px; color: #d32f2f;">\n                    <p>Failed to load update notes. Please try again.</p>\n                  </div>'}]}],this.isLoading=!1}},parseMarkdown:e=>e.split("\n").map((e=>e.match(/^-\s+(.+)$/)?.[1])).filter(Boolean),async onFormFinish(){if(await o("Are you sure you acknowledge the update notes?")){try{await d.postJson("user_properties",{property:"his_core_update_acknowledged",property_value:`${this.currentVersion}|${(new Date).toISOString()}`})}catch(e){console.error("Error tracking update acknowledgment:",e)}location.href="/select_hc_location"}},async closeModal(){await r.dismiss()}},async mounted(){await this.loadUpdateNotes()}});e("default",p(m,[["render",function(e,t,n,a,i,r){const o=g("ion-loading"),d=g("his-standard-form"),s=g("ion-page");return c(),f(s,null,{default:h((()=>[u(o,{"is-open":e.isLoading,message:"Loading update notes..."},null,8,["is-open"]),e.isLoading?x("",!0):(c(),f(d,{key:0,fields:e.fields,skipSummary:!0,onFinishAction:e.onFormFinish},null,8,["fields","onFinishAction"]))])),_:1})}],["__scopeId","data-v-870dc253"]]))}}}));
