import{bQ as _,d as h,a5 as v,r as T,ei as P,a9 as l,aU as m,a6 as b,v as H,w as N,ab as d,u as S,x as V}from"./index-CyYd6aWW.js";import{H as I}from"./HisStandardForm-CuX9K_Ib.js";class k extends _{constructor(r,t=-1){super(r,194,t)}}const F=h({components:{IonPage:v,HisStandardForm:I},setup(){const n=T([]),r=new k(-1),{toOption:t,yesNoOptions:i,saveEncounter:p,patientDashboardUrl:u}=P({onInitVisit:()=>{n.value=[o(),a()]}});function o(){return{id:"partner_present",helpText:"Partner",type:l.TT_YES_NO,isRequired:()=>!0,finalComputedValue:e=>({obs:r.buildValueText("Partner present",e)}),options:()=>[{label:"Is partner present at this session?",value:"",values:i()}]}}function a(){return{id:"partner_hiv_status",helpText:"Partner HIV Status",type:l.TT_SELECT,isRequired:()=>!0,finalComputedValue:e=>({obs:r.buildValueCoded("Partner HIV Status",e.value)}),options:e=>{const s=[t("HIV unknown"),{label:"HIV Negative",value:"Negative"},t("Positive ART unknown"),t("Positive on ART"),t("Positive NOT on ART")];return e.partner_present==="No"&&s.push(t("No partner")),s}}}function f(e,s){const c=(e==null?void 0:e.offer_partner_hiv_test)==="Yes";p({encounterName:"Partner Reception",encounterTypeID:r.encounterTypeID,computedData:s,skipNextTask:c,callback:()=>{c&&m.push("/patient/registration")}})}return{patientDashboardUrl:u,onFinish:f,fields:n}}});function x(n,r,t,i,p,u){const o=d("his-standard-form"),a=d("ion-page");return S(),H(a,null,{default:N(()=>[V(o,{formLabel:"Partner reception",fields:n.fields,onFinishAction:n.onFinish,skipSummary:!0,cancelDestinationPath:n.patientDashboardUrl()},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const R=b(F,[["render",x]]);export{R as default};
