System.register(["./DataTableTemplate-legacy-CvPSOFHQ.js","./index-legacy-B-IGLekl.js","./Layout-legacy-TRD-sJok.js"],(function(e,t){"use strict";var l,a,n,i,o,s,c,d,r,u,p,m;return{setters:[e=>{l=e.H},e=>{a=e.d,n=e.eh,i=e.d5,o=e.ao,s=e.af,c=e.aU,d=e.aq,r=e.a6,u=e.v,p=e.ab,m=e.u},null],execute:function(){const t=a({components:{HtsTemplate:l},setup(){const e=new n("HTS INDEX");return{params:{logo:"/login-logos/PEPFAR.png",title:"HTS_INDEX",prefix:"Pepfar",drillDownLabelPattern:(e,t)=>`${t.age_group} ${t.gender} ${e}`,initialSort:e=>i(e).asc((e=>e.gender)),maxDate:n.getSessionDate(),columns:[[{label:"",exportable:!1,colSpan:7},{label:"Facility",exportable:!1,colSpan:4},{label:"Community",exportable:!1,colSpan:4}],[{label:"Age group",value:e=>e.age_group},{label:"Gender",value:e=>e.gender},{label:"Index Clients",columnType:"drilldown",value:e=>e.index_clients},{label:"Offered Index",columnType:"drilldown",value:e=>e.offered_index},{label:"Accepted AIT",columnType:"drilldown",value:e=>e.accepted_ait},{label:"Contacted Elicited",columnType:"customDrillDown",value:e=>e.contacted_elicited.map((e=>e.patient)),drillParams:(e,t)=>({title:"Contacted Elicited",columns:[[o.thTxt("National ID"),o.thTxt("First name"),o.thTxt("Last name"),o.thTxt("Birthdate"),o.thTxt("Contacts"),o.thTxt("Action")]],data:e.contacted_elicited,generator:async e=>{const l=[];for(const n of e){const e=`${n.patient}_contact_elicited`;if(t.drill[e])l.push(t.drill[e]);else try{const a=new s(await s.findByID(n.patient));t.drill[e]=[o.td(a.getNationalID()),o.td(a.getGivenName()),o.td(a.getFamilyName()),o.tdDate(`${a.getBirthdate()}`),o.td(n.contacts),o.tdBtn("Show",(()=>{c.push({path:`/patient/dashboard/${e}`}),d.dismiss({})}))],l.push(t.drill[e])}catch(a){console.error(a)}}return l}})},{label:"New positives",columnType:"drilldown",exportLabel:()=>"New positives (Facility)",value:e=>e.facility.new_positives},{label:"New Negatives",columnType:"drilldown",exportLabel:()=>"New Negatives (Facility)",value:e=>e.facility.new_negatives},{label:"Known positives",columnType:"drilldown",exportLabel:()=>"Known positives (Facility)",value:e=>e.facility.known_positives},{label:"Documented Negatives",columnType:"drilldown",exportLabel:()=>"Documented Negatives (Facility)",value:e=>e.facility.documented_negatives},{label:"New positives",columnType:"drilldown",exportLabel:()=>"New positives (Community)",value:e=>e.community.new_positives},{label:"New Negatives",columnType:"drilldown",exportLabel:()=>"New Negatives (Community)",value:e=>e.community.new_negatives},{label:"Known positives",columnType:"drilldown",exportLabel:()=>"Known positives (Community)",value:e=>e.community.known_positives},{label:"Documented Negatives",columnType:"drilldown",exportLabel:()=>"Documented Negatives (Community)",value:e=>e.community.documented_negatives}]],hasPeriodSelection:!0,data:(t,l,a)=>(e.startDate=a.start_date,e.endDate=a.end_date,e.requestReport())}}}});e("default",r(t,[["render",function(e,t,l,a,n,i){const o=p("hts-template");return m(),u(o,{params:e.params},null,8,["params"])}]]))}}}));
