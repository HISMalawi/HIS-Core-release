System.register(["./index-legacy-pSEoxn3J.js","./v2utils-legacy-B1vJLfS4.js","./tb_report_service-legacy-BvTEpZlR.js","./TableView-legacy-zlZiPhqK.js","./TBDrilldown-legacy-BXXvi55V.js","./Export-legacy-YUdcFBN9.js","./index-legacy-0e7Z_1i0.js"],(function(e,t){"use strict";var n,a,r,l,s,o,i,u,g,c,d,p,_,v,w,T,f;return{setters:[e=>{n=e.d,a=e.r,r=e.o,l=e.D,s=e.a,o=e.w,i=e.e,u=e.f,g=e.x,c=e.m,d=e.b,p=e.z,_=e.q},e=>{v=e.w},e=>{w=e.T},e=>{T=e.v},e=>{f=e.T},null,null],execute:function(){e("default",n({__name:"TBStatArtReport",setup(e){const t=g("login-logos/PEPFAR.png"),n=a([]),m=a(""),y=new w,b=(e,t)=>({label:e,ref:t,toValue:e=>e.length,tdClick:async e=>(await p.create({component:f,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e.column.label,patientIdentifiers:e.refData,subtitle:`Period: ${m.value}`,onFinish:()=>p.getTop().then((e=>e&&p.dismiss()))}})).present()}),R=[[{label:"#",ref:"index"},{label:"Age group",ref:"age_group"},{label:"Gender",ref:"gender"},b("Known positive","known_positive"),b("Newly Tested Positives","newly_tested_positive"),b("New Negatives","new_negative"),b("Recent negative","recent_negative"),b("Not Done","not_done"),b("New on ART","new_on_art"),b("Already on ART","already_on_art")]],A=()=>v((async()=>{if(!y.startDate||!y.endDate)return _("Start date and end date required!");n.value=[];const e=await w.getJson("programs/2/reports/TB_ART_STAT",y.buildRequestParams({})),t=Object.keys(e).reduce(((t,n)=>(/unknown|all/i.test(n)||(t.M.push({age_group:n,gender:"Male",...e[n].M}),t.F.push({age_group:n,gender:"Female",...e[n].F})),t)),{F:[],M:[]}),a=[...t.F,...t.M];n.value=a.map(((e,t)=>({index:t+1,...e})))})),D=()=>l({onFinish:(e,t,n)=>{m.value=`${n}`,y.startDate=e,y.endDate=t,A()}});return r((()=>D())),(e,a)=>(d(),s(u(c),null,{default:o((()=>[i(T,{title:"TB STAT ART Report","report-prefix":"PEPFAR","icon-url":u(t),subtitle:m.value,columns:R,columnData:n.value,rowsPerPage:50,onConfigure:D,onRefresh:()=>A()},null,8,["icon-url","subtitle","columnData","onRefresh"])])),_:1}))}}))}}}));
