import{cs as s,$ as D,O as p,ct as i,q as _,ag as u,S as l,F as o,V as r,T as c,aQ as T}from"./index-CtD5m6Vn.js";const d=s({datePeriodInputType:localStorage.getItem("hts_report_date_period_type")||"Multipage date fields"});function m(a){D([...u({id:"start_date",helpText:"Start",required:!0,minDate:()=>(a==null?void 0:a.minDate)||"",maxDate:()=>(a==null?void 0:a.maxDate)||l.getSessionDate(),condition:()=>d.datePeriodInputType==="Multipage date fields",estimation:{allowUnknown:!1},computeValue:e=>e}),...u({id:"end_date",helpText:"End",required:!0,minDate:(e,t)=>t.start_date,maxDate:()=>(a==null?void 0:a.maxDate)||l.getSessionDate(),condition:()=>d.datePeriodInputType==="Multipage date fields",estimation:{allowUnknown:!1},computeValue:e=>e}),{id:"alt_start_date",proxyID:"start_date",helpText:"Start Date",type:o.TT_FULL_DATE,validation:e=>{if(!e)return["Date is required"];const t=a.maxDate||l.getSessionDate();return a.minDate&&new Date(e.value)<new Date(a.minDate)?["".concat(i("".concat(e.value))," is less than minimum date of ").concat(i(a.minDate))]:t&&new Date(e.value)>new Date(t)?["".concat(i("".concat(e.value))," is greater than max date of ").concat(i(t))]:null},computedValue:e=>e.value,condition:()=>d.datePeriodInputType==="Single page date"},{id:"alt_end_date",proxyID:"end_date",helpText:"End Date",type:o.TT_FULL_DATE,defaultValue:e=>e.start_date.value,validation:(e,t)=>{if(!e)return["Date is required"];const n=a.maxDate||l.getSessionDate();return t.start_date.value&&new Date(e.value)<new Date(t.start_date.value)?["".concat(i("".concat(e.value))," is less than minimum date of ").concat(i(t.start_date.value))]:n&&new Date(e.value)>new Date(n)?["".concat(i("".concat(e.value))," is greater than max date of ").concat(i(n))]:null},computedValue:e=>e.label,condition:()=>d.datePeriodInputType==="Single page date"},{id:"calendar_start_date",proxyID:"start_date",helpText:"Start Date",type:o.TT_DATE_PICKER,computedValue:e=>e,condition:()=>d.datePeriodInputType==="Calendar",validation:e=>r.required(e),config:{minDate:()=>a.minDate||null,maxDate:()=>a.maxDate||l.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:i(e)||"-"},{label:"End Date",value:i(t.end_date)||"-"}],persistInfoItems:!1}},{id:"calendar_end_date",proxyID:"end_date",helpText:"End Date",type:o.TT_DATE_PICKER,validation:e=>r.required(e),defaultValue:e=>e.start_date.value,computedValue:e=>e,condition:()=>d.datePeriodInputType==="Calendar",config:{minDate:e=>e.start_date.value,maxDate:()=>a.maxDate||l.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:i(t.start_date)||"-"},{label:"End Date",value:i(e)}],persistInfoItems:!1}},(()=>{let e=!1;return{id:"occupation",helpText:"Report Group",type:o.TT_SELECT,init:async()=>(e=await c.get("IS_MILITARY_SITE"),!0),computedValue:t=>t.value,condition:()=>{var t;return((t=T.getActiveApp())==null?void 0:t.applicationName)==="ART"&&e},validation:t=>r.required(t),options:()=>[{label:"All",value:"All"},{label:"Military",value:"Military"},{label:"Civilian",value:"Civilian"}]}})()],async(e,t)=>{p.dismiss();try{const n="".concat(i(t.start_date)," to ").concat(i(t.end_date));a.onFinish(t.start_date,t.end_date,n,t.occupation)}catch(n){_("An error has occurred")}})}export{m as D};
