System.register(["./index-legacy-DWo6y739.js","./TableView-legacy-B-dRKZ59.js","./stock_report_service-legacy-DI81_fN-.js","./ReportDateSelectionPrompt-legacy-CRdj4rXw.js","./DrillTableModal-legacy-C9tU-jUU.js","./Export-legacy-BT52IFS0.js"],(function(e,t){"use strict";var a,n,r,o,l,s,i,u,c,g,d,p,m,f,D,y,b,v,P,w;return{setters:[e=>{a=e.d,n=e.I,r=e.cg,o=e.K,l=e.N,s=e.ac,i=e.cB,u=e.O,c=e.t,g=e.q,d=e._,p=e.r,m=e.o,f=e.c,D=e.w,y=e.b},e=>{b=e.v},e=>{v=e.S},e=>{P=e.D},e=>{w=e.D},null],execute:function(){const t=a({components:{IonPage:n,IonLoading:r,v2Datatable:b},setup(){const e=o([]),t=o(""),a=o(!1),n=new v,r=[[{label:"#",ref:"index"},{label:"ARV drug category",ref:"category"},{label:"# of bottles (units) remaining",ref:"units",value:e=>i(e.units),tdClick:async e=>{(await u.create({component:w,cssClass:"custom-modal",componentProps:{title:e.data.category,columns:["Drug","Quantity"],onRows:()=>(e.data?.granular_spec||[]).map((e=>[e.drug_name,i(e.units)]))}})).present()}}]],d=async()=>{if(!n.startDate||!n.endDate)return c("Start date and end date required!");a.value=!0,e.value=[];try{e.value=(await n.getScCurrReport()).map(((e,t)=>({...e,index:t+1})))}catch(t){g("Unable to generate report!")}a.value=!1},p=()=>P({onFinish:(e,a,r)=>{t.value=r,n.startDate=e,n.endDate=a,d()}});return l((()=>!e.value.length&&p())),{Img:s,reportData:e,isLoading:a,configure:p,generate:d,columns:r,period:t}}});e("default",d(t,[["render",function(e,t,a,n,r,o){const l=p("ion-loading"),s=p("v2Datatable"),i=p("ion-page");return m(),f(i,null,{default:D((()=>[y(l,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),y(s,{title:"Sc Curr","icon-url":e.Img("login-logos/PEPFAR.png"),subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:20,onConfigure:e.configure,onRefresh:()=>e.generate(),reportPrefix:"PEPFAR"},null,8,["icon-url","subtitle","columns","columnData","onConfigure","onRefresh"])])),_:1})}]]))}}}));
