System.register(["./index-legacy-BoFMGMh4.js","./FieldMixin.vue_vue_type_script_lang-legacy-BW0JuuGL.js"],(function(e,t){"use strict";var a,n,l,s,o,i,u,d,c,r,h,f,m,p,y,v,_,g,k,b,D,w,S,C,M,O,$,z,I,V,x,Y,T,F,P,U,j,A,J,B,H;return{setters:[e=>{a=e.d,n=e.r,l=e.B,s=e.a,o=e.b,i=e.w,u=e.e,d=e.f,c=e.a4,r=e.m,h=e.a5,f=e.j,m=e.I,p=e.b5,y=e.h,v=e.a9,_=e.aa,g=e.ac,k=e.ad,b=e.k,D=e.t,w=e.n,S=e.c,C=e.g,M=e.bb,O=e.ak,$=e.aZ,z=e.aR,I=e.aC,V=e.en,x=e.eo,Y=e.c0,T=e.ai,F=e.ep,P=e.H,U=e.z,j=e.S,A=e.ap,J=e.ek,B=e.a6},e=>{H=e._}],execute:function(){var t=document.createElement("style");t.textContent="ion-grid[data-v-67b6b8ab]{height:100%}.calendar-date[data-v-67b6b8ab]{height:8.5vh;font-size:2rem;border:1px solid #f0efef}.selected-date[data-v-67b6b8ab]{color:#fff;background-color:#3880ff!important}\n/*$vite$:1*/",document.head.appendChild(t);const N=a({__name:"DateMonthSelector",props:{date:String,onMonth:Object},setup(e){const t=e,a=n(l(t.date).format("MMM")),S=[["Jan","Feb","Mar"],["Apr","May","Jun"],["Jul","Aug","Sep"],["Oct","Nov","Dec"]],C={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};return(e,n)=>(o(),s(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(h),{class:"ion-text-center"},{default:i((()=>[...n[0]||(n[0]=[f(" Select a month ",-1)])])),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[(o(),y(v,null,_(S,((e,n)=>u(d(g),{key:n},{default:i((()=>[(o(!0),y(v,null,_(e,((e,n)=>(o(),s(d(k),{"size-sm":"12","size-md":"4",style:{height:"12.3vh"},key:n,class:"ion-padding ion-text-center"},{default:i((()=>[(o(),s(d(b),{key:n,style:{"font-size":"1.6rem"},mode:"ios",color:a.value.toUpperCase()===e.toUpperCase()?"primary":"dark",fill:a.value.toUpperCase()===e.toUpperCase()?"solid":"clear",onClick:n=>function(e){a.value=e;const n=C[e];"function"==typeof t.onMonth&&t.onMonth(n)}(e),size:"large"},{default:i((()=>[f(D(e),1)])),_:2},1032,["color","fill","onClick"]))])),_:2},1024)))),128))])),_:2},1024))),64))])),_:1})])),_:1})])),_:1}))}}),R=O(a({__name:"DateDayPicker",props:{date:String,onDay:Object},setup(e){const t=e,a=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],b=n(l(t.date).format("D")),O=S((()=>{const e=l(t.date),a=e.startOf("month"),n=e.endOf("month").date(),s=a.day(),o=[];let i=[],u=1;for(let t=0;t<6;t++){for(let e=0;e<7;e++)0===t&&e<s?i.push(0):(u<=n?i.push(u):i.push(0),u++);o.push(i),i=[]}return o}));return(e,n)=>(o(),s(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(h),{class:"ion-text-center"},{default:i((()=>[...n[0]||(n[0]=[f(" Select a day ",-1)])])),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[u(d(g),null,{default:i((()=>[(o(),y(v,null,_(a,(e=>u(d(k),{class:"calendar-day",key:e},{default:i((()=>[C("b",null,D(e),1)])),_:2},1024))),64))])),_:1}),(o(!0),y(v,null,_(O.value,(e=>(o(),s(d(g),{class:"calendar-row",key:`${e}`},{default:i((()=>[(o(!0),y(v,null,_(e,(e=>(o(),s(d(k),{class:M(["calendar-date ion-padding",{"selected-date":`${b.value}`==`${e}`}]),onClick:a=>e>0?function(e){b.value=e,"function"==typeof t.onDay&&t.onDay(e)}(e):null,key:e},{default:i((()=>[f(D(e>0?e:""),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-67b6b8ab"]]),E=a({__name:"DateYearPicker",props:{date:String,onYear:Object},setup(e){const t=e,a=n(0),M=n(0),O=n(0),Y=S((()=>M.value-12)),T=S((()=>{const e=[];for(let a=M.value;a>Y.value;--a)e.push(a);const t=$.chunk(e.sort(),3);return $.chunk(t,4)[a.value]}));function F(){M.value=Y.value}function P(){M.value=M.value+12}return z((()=>t.date),(e=>{O.value=l(e).get("year"),M.value=O.value}),{immediate:!0}),(e,a)=>(o(),s(d(w),null,{default:i((()=>[u(d(c),null,{default:i((()=>[u(d(r),null,{default:i((()=>[u(d(b),{onClick:F,color:"dark",slot:"start",size:"large",fill:"clear"},{default:i((()=>[u(d(I),{icon:d(V)},null,8,["icon"])])),_:1}),u(d(h),{class:"ion-text-center"},{default:i((()=>[a[0]||(a[0]=f(" Select a year ",-1)),a[1]||(a[1]=C("br",null,null,-1)),C("small",null,D(Y.value+1)+" to "+D(M.value),1)])),_:1}),u(d(b),{onClick:P,color:"dark",slot:"end",size:"large",fill:"clear"},{default:i((()=>[u(d(I),{icon:d(x)},null,8,["icon"])])),_:1})])),_:1})])),_:1}),u(d(m),null,{default:i((()=>[u(d(p),null,{default:i((()=>[(o(!0),y(v,null,_(T.value,((e,a)=>(o(),s(d(g),{key:a},{default:i((()=>[(o(!0),y(v,null,_(e,((e,a)=>(o(),s(d(k),{"size-sm":"12","size-md":"4",style:{height:"12.4vh"},key:a,class:"ion-padding ion-text-center"},{default:i((()=>[u(d(b),{size:"large",mode:"ios",color:e===O.value?"primary":"dark",fill:e===O.value?"solid":"clear",style:{"font-size":"1.6rem"},onClick:a=>function(e){O.value=e,"function"==typeof t.onYear&&t.onYear(e)}(e)},{default:i((()=>[f(D(e),1)])),_:2},1032,["color","fill","onClick"])])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))}}),G=a({components:{PickerSelector:F,IonInput:T,ViewPort:Y,IonGrid:p,IonCol:k,IonRow:g,IonButton:b},mixins:[H],data:()=>({value:"",date:"",isInit:!0,canShowToday:!0,showMonthSelector:!1,showDaySelector:!1,showYearSelector:!1}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),"function"==typeof this.config.initialDate?this.date=new Date(this.config.initialDate()):this.date=new Date,this.canShowToday="function"==typeof this.config?.addTodayBtn?this.config.addTodayBtn(this.fdata,this.cdata):this.config?.addTodayBtn??!0,await this.setDefaultValue(),this.isInit=!1},async setDefaultValue(){if(this.value)this.date=new Date(this.value);else if(this.defaultValue){const e=await this.defaultValue(this.fdata,this.cdata);e&&(this.isInit=!1,this.date=new Date(e))}},add(e){this.date=P.add(this.fmt(this.date),e,1)},subtract(e){this.date=P.subtract(this.fmt(this.date),e,1)},today(){this.date=new Date(j.getSessionDate())},fmt:e=>P.toStandardHisFormat(e),async selectDay(){const e=await U.create({component:R,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onDay:t=>{const[a,n]=this.fmt(this.date).split("-");this.date=new Date(`${a}-${n}-${t}`),e.dismiss()}}});e.present()},async selectMonth(){const e=await U.create({component:N,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onMonth:t=>{const[a,n,l]=this.fmt(this.date).split("-");this.date=new Date(`${a}-${t}-${l}`),e.dismiss()}}});e.present()},async selectYear(){const e=await U.create({component:E,backdropDismiss:!0,cssClass:"custom-modal-backdrop",componentProps:{date:this.fmt(this.date),onYear:t=>{const[a,n,l]=this.fmt(this.date).split("-");this.date=new Date(`${t}-${n}-${l}`),e.dismiss()}}});e.present()}},computed:{getYear(){return P.getYear(this.fmt(this.date))},getMonth(){return P.getMonth(this.fmt(this.date))},getDay(){return P.getDay(this.fmt(this.date))}},watch:{date(e){this.isInit||(this.value=P.toStandardHisFormat(e))},value(e){e?this.$emit("onValue",{label:e,value:this.value}):this.$emit("onValue",null)},clear(){this.value=""}}});e("default",O(G,[["render",function(e,t,a,n,l,d){const c=A("ion-input"),r=A("view-port"),h=A("picker-selector"),f=A("ion-col"),m=A("ion-row"),p=A("ion-button"),_=A("ion-grid");return o(),y(v,null,[u(r,{showFull:!1},{default:i((()=>[u(c,{class:"input_display",readonly:!0,value:e.value},null,8,["value"]),J(e.$slots,"default",{date:e.value})])),_:3}),u(_,{class:"his-floating-keyboard"},{default:i((()=>[u(m,null,{default:i((()=>[u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getYear,onOnIncrement:t[0]||(t[0]=t=>e.add("year")),onOnDecrement:t[1]||(t[1]=t=>e.subtract("year")),onOnValue:e.selectYear},null,8,["value","onOnValue"])])),_:1}),u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getMonth,onOnIncrement:t[2]||(t[2]=t=>e.add("month")),onOnDecrement:t[3]||(t[3]=t=>e.subtract("month")),onOnValue:e.selectMonth},null,8,["value","onOnValue"])])),_:1}),u(f,{"sm-size":"12"},{default:i((()=>[u(h,{value:e.getDay,onOnIncrement:t[4]||(t[4]=t=>e.add("day")),onOnDecrement:t[5]||(t[5]=t=>e.subtract("day")),onOnValue:e.selectDay},null,8,["value","onOnValue"])])),_:1})])),_:1}),u(m,null,{default:i((()=>[e.canShowToday?(o(),s(f,{key:0,class:"ion-text-center"},{default:i((()=>[u(p,{color:"success",style:{width:"100%",height:"6vh"},onClick:e.today},{default:i((()=>[...t[7]||(t[7]=[C("b",null,"TODAY",-1)])])),_:1},8,["onClick"])])),_:1})):B("",!0),u(f,null,{default:i((()=>[u(p,{disabled:!e.config.allowUnknown,color:"warning",style:{width:"100%",height:"6vh"},onClick:t[6]||(t[6]=t=>e.value="Unknown")},{default:i((()=>[...t[8]||(t[8]=[C("b",null,"Unknown",-1)])])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})],64)}]]))}}}));
