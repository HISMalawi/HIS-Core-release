System.register(["./index-legacy-BoFMGMh4.js","./HisStandardForm-legacy-COVbZ4u5.js","./isEmpty-legacy-B6dEJwSv.js"],(function(e,t){"use strict";var a,n,r,s,i,l,o,u,c,d,v;return{setters:[e=>{a=e.d,n=e.aq,r=e.r,s=e.am,i=e.aj,l=e.o,o=e.a,u=e.b,c=e.f},e=>{d=e.H},e=>{v=e.i}],execute:function(){e("default",a({__name:"PrinterSettings",setup(e){const t=n(),a=new i,m=r({}),f=r([]),g=r(0),p=r(!1),b=[{id:"printer_settings",helpText:"Printer Settings",type:s.TT_TABLE_VIEWER,options:()=>[{label:"Available Devices",value:"",other:{rowColors:v(m.value)?[]:[{indexes:[0],class:"adherence-txt-good adherence-col-bg bold"}],columns:["Available Devices"],rows:f.value.map((e=>[e.name||e.address,{type:"button",name:"Print Test Label",action:()=>a.printTestLbl(e)},D(e)?"Default Printer":{type:"button",name:"Set as Default",visible:!D(e),action:()=>function(e){a.setDefaultPrinter(e),m.value=e,g.value=Math.random(),y()}(e)}]))}}],config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:y}]}}];async function y(){if(p.value)return;p.value=!0;const e=await a.getAllPrinters();f.value=e.sort(((e,t)=>D(e)&&!D(t)?-1:!D(e)&&D(t)?1:h(e,t))),p.value=!1,g.value=Math.random()}function h(e,t){return(e.name||e.address).localeCompare(t.name||t.address)}function D(e){return 0===h(e,m.value)}return l((async()=>{m.value=await a.getDefaultPrinter()||{},f.value.push(m.value),y()})),(e,a)=>(u(),o(d,{formID:"printer_settings",fields:b,onFinish:c(t).back,skipSummary:!0,key:g.value},null,8,["onFinish"]))}}))}}}));
