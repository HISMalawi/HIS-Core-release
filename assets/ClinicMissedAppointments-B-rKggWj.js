import{d as f,r as i,dd as b,t as _,u as g,v,w as D,x as C,y as c,ce as y,cg as u,cU as w,a5 as $,aK as h}from"./index-BmYpiIZN.js";import{v as A}from"./TableView-B5NqTEaE.js";import{a as x,w as V}from"./v2utils-CAIxBHVv.js";import"./Export-ylc2T0WI.js";import"./index-BvXVjfY9.js";const F=f({__name:"ClinicMissedAppointments",setup(M){const m=h("reports.png"),t=i([]),r=i(""),a=new b,p=[[x(),{label:"First name",ref:"given_name",encrypted:!0},{label:"Last name",ref:"family_name",encrypted:!0},{label:"Gender",ref:"gender",toValue:e=>y(e)},{label:"DOB",ref:"birthdate",toValue:e=>"".concat(u(e))},{label:"Appointment",ref:"appointment_date",toValue:e=>"".concat(u(e))},{label:"Days missed",ref:"days_missed"},{label:"Current outcome",ref:"current_outcome"},{label:"Contact details",ref:"district",encrypted:!0,value:e=>"\n            CELL: ".concat(e.cell_number," <br/>\n            District: ").concat(e.district," <br/>\n            Village: ").concat(e.village," <br/>\n            TA: ").concat(e.ta,"\n        ")}]],n=()=>V(async()=>{t.value=[],t.value=await a.getMissedAppointments()}),o=()=>w({onFinish:(e,s,d,l)=>{l&&a.setOccupation(l),r.value="".concat(d),a.startDate=e,a.endDate=s,n()}});return _(()=>!t.value.length&&o()),(e,s)=>(g(),v(c($),null,{default:D(()=>[C(A,{"default-sort-order":"asc","default-sorted-column":"arv_number","icon-url":c(m),subtitle:r.value,title:"Clinic Missed Appointments","report-prefix":"Clinic",columns:p,onConfigure:o,columnData:t.value,rowsPerPage:50,onRefresh:n},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{F as default};
