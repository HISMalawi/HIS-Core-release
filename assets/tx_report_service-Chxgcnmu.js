var c=Object.defineProperty;var u=(a,r,t)=>r in a?c(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t;var o=(a,r,t)=>(u(a,typeof r!="symbol"?r+"":r,t),t);import{bD as n,cc as d}from"./index-BCfs_J-V.js";class x extends n{constructor(){super();o(this,"org");o(this,"initializeArvRefillReportTables");this.org="pepfar",this.initializeArvRefillReportTables=!0}initArvRefillPeriod(t){this.initializeArvRefillReportTables=t}setOrg(t){this.org=t}getClinicTxRtt(){return this.getReport("programs/".concat(this.programID,"/reports/clinic_tx_rtt"))}getTxMMDClientLevelData(t){const e=d.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),i="tx_mmd_client_level_data?".concat(e);return n.postJson(i,{patient_ids:t})}remapTxClientLevelData(t){return t.map(e=>{let i=null;const p=[];for(const g in e)Object.values(e[g]).forEach(l=>{for(const _ in l){const s=l[_];i||(i={id:s.arv_number,dob:s.birthdate,dispenseDate:s.start_date}),p.push({name:s.drug_name,quantity:s.quantity,dose:s.dose_per_day})}});return{...i,drugs:p}})}getTxCurrMMDReport(t,e){return this.getReport("arv_refill_periods",{org:this.org,min_age:"".concat(t),max_age:"".concat(e),initialize_tables:"".concat(this.initializeArvRefillReportTables)})}getTxMlReport(){return this.getReport("tx_ml")}getTxNewReport(t){return this.getReport("programs/".concat(this.programID,"/reports/tx_new"),{rebuild:"".concat(t)})}getTxRttReport(){return this.getReport("tx_rtt")}getMaternalStatus(t){const e={start_date:this.startDate,end_date:this.endDate,date:this.date,program_id:this.programID,report_definition:"pepfar"};this.occupation&&(e.occupation=this.occupation);const i=d.parameterizeObjToString(e);return n.postJson("vl_maternal_status?".concat(i),{patient_ids:t})}}export{x as T};
