import{O as p}from"./opd_report_service-BG7Z-fr6.js";import{R as d}from"./BaseTableReport-ZpNCXYmL.js";import{d as m,a5 as l,ao as t,ag as s,aj as u,a6 as g,ab as o,u as f,v as _,w as c,x as h}from"./index-BMVUUxuO.js";import{_ as D}from"./ReportMixin.vue_vue_type_script_lang-Prbef1Rx.js";import"./Export-BdZiLVD9.js";import"./index-tytmNkJf.js";import"./HisStandardForm-BJZg4csl.js";import"./BasicReportTemplate-h_wX6S5T.js";import"./Pagination-B2HCqd4N.js";const w=m({components:{ReportTemplate:d,IonPage:l},mixins:[D],data:()=>({title:"Drugs report",rows:[],columns:[[t.thTxt("First Name"),t.thTxt("Last Name"),t.thTxt("Gender"),t.thTxt("Age"),t.thTxt("Drug"),t.thTxt("Prescribe Quantity"),t.thTxt("Dispense Quantity"),t.thTxt("Diagnosis"),t.thTxt("Date")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(a,e){const i=new p;i.setStartDate(e.start_date),i.setEndDate(e.end_date),this.period=i.getDateIntervalPeriod(),this.rows=this.buildRows(await i.getDrugs())},buildRows(a){return a.length?a.map(e=>[t.td(e.given_name),t.td(e.family_name),t.td(e.gender),t.td(s.calculateAge(e.birthdate,u.getSessionDate())),t.td(e.drug_name),t.td(e.prescribe_quantity),t.td(e.dispense_quantity),t.td(e.diagnosis),t.td(s.toStandardHisDisplayFormat(e.date))]):[]}}});function x(a,e,i,T,R,b){const n=o("report-template"),r=o("ion-page");return f(),_(r,null,{default:c(()=>[h(n,{title:a.title,rows:a.rows,fields:a.fields,columns:a.columns,itemsPerPage:12,period:a.period,reportPrefix:"Clinic",onReportConfiguration:a.init,paginated:""},null,8,["title","rows","fields","columns","period","onReportConfiguration"])]),_:1})}const q=g(w,[["render",x]]);export{q as default};
