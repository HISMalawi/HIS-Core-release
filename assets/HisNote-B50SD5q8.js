import{d as b,ez as k,eA as w,k as V,c0 as C,b4 as g,aZ as O,aP as $,ak as P,ap as u,h as s,b as l,e as o,g as r,w as d,a9 as p,aa as h,j as f,t as B,bb as D}from"./index-3BeNlo1y.js";import{_ as I}from"./FieldMixin.vue_vue_type_script_lang-DWS8ZAew.js";const N=b({components:{ViewPort:C,IonButton:V,IonTextarea:w},mixins:[I],data:()=>({value:"",capsOn:!1,layout:k}),computed:{readonly(){return $().activePlatformProfile.value.keyboard==="HIS_KEYBOARD_ONLY"}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),await this.setDefaultValue()},async setDefaultValue(){if(this.defaultValue&&!this.value){const e=await this.defaultValue(this.fdata,this.cdata);e&&(O.isPlainObject(e)?(this.emitValue(e),this.value=e.value.toString()):(this.value=e,this.emitValue({label:e,value:e})))}},updateKeyboardCaps(e=!1){this.layout=this.layout.map(a=>a.map(i=>e?i.toUpperCase():i.toLowerCase()))},async emitValue(e){this.onValue&&!await this.onValue(e)||(this.value=e.label,this.$emit("onValue",e))},async onKbValue(e){await this.emitValue({label:e,value:e})},async keypress(e){const a=g(this.capsOn?e.toUpperCase():e.toLowerCase(),this.value);if(a.match(/caps/i)){this.capsOn=!this.capsOn,this.updateKeyboardCaps(this.capsOn);return}await this.emitValue({label:a,value:a})}},watch:{clear(){this.value=""}}}),A={class:"his-floating-keyboard"},E={class:"his-floating-keyboard-content"},K={style:{width:"99.9%"}};function L(e,a,i,S,x,z){const m=u("ion-textarea"),y=u("view-port"),c=u("ion-button");return l(),s(p,null,[o(y,{showFull:!1},{default:d(()=>[o(m,{readonly:e.readonly,value:e.value,style:{width:"100%"},onIonInput:a[0]||(a[0]=t=>t.detail.value?e.emitValue({label:t.detail.value,value:t.detail.value}):null),placeholder:"Start typing....",class:"input_display"},null,8,["readonly","value"])]),_:1}),r("div",A,[r("div",E,[r("table",K,[(l(!0),s(p,null,h(e.layout,(t,v)=>(l(),s("tr",{key:v},[(l(!0),s(p,null,h(t,(n,_)=>(l(),s("td",{key:_},[o(c,{style:{"text-transform":"none"},strong:"",onClick:F=>e.keypress(n),class:D("key__button ".concat(n.toLowerCase(),"_btn"))},{default:d(()=>[f(B(n),1)]),_:2},1032,["onClick","class"])]))),128))]))),128))])]),o(c,{onClick:a[1]||(a[1]=t=>e.keypress("space")),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:d(()=>[...a[2]||(a[2]=[f(" Space ",-1)])]),_:1})])],64)}const Y=P(N,[["render",L],["__scopeId","data-v-33e15592"]]);export{Y as default};
