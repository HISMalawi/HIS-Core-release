System.register(["./TaskCard-legacy-hPONpHWq.js","./index-legacy-2OuOZQ1w.js"],(function(e,n){"use strict";var t,a,i,l,c,u,o,s,r,m,_,d,f,b,v,p,h,y,k,C,E,g,A,T;return{setters:[e=>{t=e.T},e=>{a=e.d,i=e.r,l=e.aR,c=e.o,u=e.aD,o=e.h,s=e.b,r=e.e,m=e.w,_=e.a9,d=e.aa,f=e.a,b=e.f,v=e.d7,p=e.j,h=e.t,y=e.d8,k=e.ac,C=e.ad,E=e.x,g=e.b6,A=e.a_,T=e.n}],execute:function(){e("default",a({__name:"HomeFolders",props:{items:Object,resetList:Number},emits:["onSublist"],setup(e,{emit:n}){const a=n,N=e,S=i(),j=i({}),w=i([]);function x(e,n=[],t="",a={}){return e.reduce(((e,i)=>{if(i.files&&!A.isEmpty(i.files)){const l={...a[i.name]??{}},c=[...n,i.name];e[i.name]||(e[i.name]={_breadcrumb:[],...i}),e[i.name]=x(i.files,c,i.defaultFilesIcon??i.icon,l),e[i.name]._breadcrumb=c,e[i.name]._visible=!i.condition||i.condition(),e[i.name]._icon=i.icon??t}else e[i.name]=i,e[i.name].icon=i.icon??t,e[i.name]._visible=!i.condition||i.condition();return e}),{...a})}async function B(e){S.value=e,u.set("ACTIVE_HOME_SUB_TAB_NAME",S.value);const n=I(e,0,j.value);await async function(e){w.value=[];for(const n in e){const t=e[n];await t._visible&&w.value.push({name:n,icon:t._icon??t.icon,action:()=>{"function"==typeof t.action?t.action():t._breadcrumb?B(t._breadcrumb):t.pathUrl?T.push(t.pathUrl):t.pathName&&T.push({name:t.pathName})}})}}(n),a("onSublist")}function I(e,n=0,t={}){if(""===e[0])return t;const a=n+1;let i=t[e[n]];return a<e.length&&(i=I(e,a,i)),i}return l((()=>N.resetList),(()=>B([""]))),c((async()=>{j.value=x(N.items??[]),B(await u.get("ACTIVE_HOME_SUB_TAB_NAME")??[""])})),(e,n)=>(s(),o(_,null,[r(b(y),null,{default:m((()=>[(s(!0),o(_,null,d(S.value,((e,n)=>(s(),f(b(v),{onClick:e=>function(e){B((S.value??[]).filter(((n,t)=>t<=e)))}(n),key:n,class:"his-md-text"},{default:m((()=>[p(h(e),1)])),_:2},1032,["onClick"])))),128))])),_:1}),r(b(g),null,{default:m((()=>[r(b(k),null,{default:m((()=>[(s(!0),o(_,null,d(w.value,((e,n)=>(s(),f(b(C),{key:n,"size-lg":"4","size-sm":"12"},{default:m((()=>[r(t,{onClick:e.action,title:e.name,icon:b(E)(e.icon)},null,8,["onClick","title","icon"])])),_:2},1024)))),128))])),_:1})])),_:1})],64))}}))}}}));
