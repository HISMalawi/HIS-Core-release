import{d as A,K as o,I as R,c4 as $,N as y,bC as C,H as E,cb as l,O as w,V as f,_ as G,r as d,o as P,c as S,w as V,b as _}from"./index-DxdybAew.js";import{v as F}from"./TableView-ChlgLyh3.js";import{M as I}from"./PopupKeyboard-DFLyy2vg.js";import{F as p}from"./dynamic-import-helper-Bsjrd6Ro.js";import{A as M}from"./aetc_report_service-eTK2qV0A.js";import"./Export-CGhzIHAA.js";import"./SIngleTouchField-Dzrr97X9.js";import"./TouchScreenForm-CWGDOcQm.js";import"./ToolbarMediumCard-DpQmY2Av.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-Bxq2iSVB.js";import"./HisKeypad-CHYdNWl7.js";import"./BaseKeyboard-yRYQiwHX.js";import"./KbLayouts-VRA-vjeH.js";import"./KbHandler-BuQ4TFU6.js";const m=o([]),s=o(""),n=o(""),b=o(""),B=o(!1),h=o(""),T=o(""),N=A({components:{IonPage:R,IonLoading:$,v2Datatable:F},setup(){const t=async()=>{const e=new M;e.startDate=s.value,e.endDate=n.value,e.ageGroup=T.value;try{const a=await e.getClinicReport("TOTAL_REGISTERED");m.value=c(a)}catch(a){console.log(a)}},c=e=>e.map(a=>{const{given_name:r,family_name:u,registration_date:D,gender:L}=a;return{name:"".concat(r," ").concat(u),birthdate:a.birthdate,gender:C(L),registration_date:E.toStandardHisDisplayFormat(D),address:a.address,ta:a.ta}}),v=["Name","Birthdate","Gender","Date Registered","Address","T.A"],g=[[{label:"Name",ref:"",value:e=>e.name},{label:"Birthdate",ref:"",value:e=>e.birthdate},{label:"Gender",ref:"",value:e=>e.gender},{label:"Date Registered",ref:"",value:e=>e.registration_date},{label:"Address",ref:"",value:e=>e.address},{label:"T.A",ref:"",value:e=>e.ta}]],i=()=>I([{id:"start_date",helpText:"Start Date",type:p.TT_FULL_DATE,validation:e=>f.required(e),computedValue:e=>e.value},{id:"end_date",helpText:"End Date",type:p.TT_FULL_DATE,validation:e=>f.required(e),computedValue:e=>e.value},{id:"age_group",helpText:"Select Age Group(s)",type:p.TT_MULTIPLE_SELECT,config:{showKeyboard:!1},computedValue:e=>e.map(a=>a.value),validation(e){return e?null:["Value is required"]},options:()=>[{label:"< 6 months",value:"< 6 months"},{label:"6 months to < 1 yr",value:"6 months to < 1 yr"},{label:"1 to < 5",value:"1 to < 5"},{label:"5 to 14",value:"5 to 14"},{label:"> 14 to < 20",value:"> 14 to < 20"},{label:"20 to 30",value:"20 to 30"},{label:">30 to <40",value:">30 to <40"},{label:"40 to <50",value:"40 to <50"},{label:"ALL",value:"all"}]}],(e,a)=>{s.value=a.start_date,n.value=a.end_date,T.value="[".concat(a.age_group.map(r=>'"'.concat(r,'"')).join(", "),"]"),b.value="Period (".concat(l(s.value)," to ").concat(l(n.value),")"),w.dismiss(),h.value="".concat(l(s.value)," to ").concat(l(n.value)),t()});return y(()=>!m.value.length&&i()),{columns:g,isLoading:B,reportData:m,period:b,csvQuarter:h,csvheaders:v,generate:t,configure:i}}});function Q(t,c,v,g,i,e){const a=d("ion-loading"),r=d("v2Datatable"),u=d("ion-page");return P(),S(u,null,{default:V(()=>[_(a,{"is-open":t.isLoading,message:"Please wait..."},null,8,["is-open"]),_(r,{title:"AETC Total Registered Report",subtitle:t.period,columns:t.columns,columnData:t.reportData,rowsPerPage:25,onConfigure:t.configure,csvQuarter:t.csvQuarter,headers:t.csvheaders,onRefresh:()=>t.generate()},null,8,["subtitle","columns","columnData","onConfigure","csvQuarter","headers","onRefresh"])]),_:1})}const ae=G(N,[["render",Q]]);export{ae as default};
