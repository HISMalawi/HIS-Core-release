System.register(["./index-legacy-JGk_dRVc.js","./ReportMixin.vue_vue_type_script_lang-legacy-D9N6QkEU.js","./TableReportTemplate-legacy-Dh0DHhDn.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./MultiFieldDateHelper-legacy-DRQ-Cbl7.js","./KbLayouts-legacy-BKvPSxzZ.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BasicReportTemplate-legacy-ufNdf0U0.js","./Export-legacy-B58ef5EC.js","./SIngleTouchField-legacy-BDkH_hp7.js","./Pagination-legacy-tlFr6gKp.js","./HisStandardForm-legacy-CKuIfChD.js","./TouchScreenForm-legacy-mmY57gUM.js","./ToolbarMediumCard-legacy-DQQTyubW.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-YMYfwvUb.js","./ReportErrors-legacy-D0Yx3mWA.js"],(function(t,e){"use strict";var o,r,i,a,s,l,n,d,u,c,p;return{setters:[t=>{o=t.d,r=t.L,i=t.V,a=t.cp,s=t._,l=t.r,n=t.o,d=t.c},t=>{u=t._},t=>{c=t.R},t=>{p=t.F},null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const e=o({mixins:[u],components:{ReportTemplate:c},data:()=>({title:"",totalClients:[],rows:[],columns:[],outcome:""}),created(){const t=[[r.thTxt("ARV#"),r.thTxt("First name",{csvExportable:!1,pdfExportable:!0}),r.thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),r.thTxt("Birthdate"),r.thTxt("Gender"),r.thTxt("Outcome date"),r.thTxt("Actions")]],e=t=>[r.td(t.identifier),r.td(t.given_name),r.td(t.family_name),r.tdDate(t.birthdate),r.td(this.formatGender(t.gender)),r.tdDate(t.outcome_date),r.tdBtn("View",(()=>this.$router.push({path:`/patient/dashboard/${t.patient_id}`})))];this.fields=[...this.getDateDurationFields(),{id:"outcome",helpText:"Select outcome",type:p.TT_SELECT,validation:t=>i.required(t),options:()=>[{label:"Transfer Out",value:"Transfer Out",other:{columns:[[r.thTxt("ARV#"),r.thTxt("First name",{csvExportable:!1,pdfExportable:!0}),r.thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),r.thTxt("Birthdate"),r.thTxt("Gender"),r.thTxt("Outcome date"),r.thTxt("TO Location"),r.thTxt("Actions")]],rowBuilder:t=>[r.td(t.identifier),r.td(t.given_name),r.td(t.family_name),r.tdDate(t.birthdate),r.td(this.formatGender(t.gender)),r.tdDate(t.outcome_date),r.td(t.transferred_out_to),r.tdBtn("View",(()=>this.$router.push({path:`/patient/dashboard/${t.patient_id}`})))]}},{label:"Died",value:"Died",other:{columns:t,rowBuilder:e}},{label:"Stopped",value:"Stopped",other:{columns:t,rowBuilder:e}}]}]},methods:{async onPeriod({outcome:t},e){this.rows=[],this.columns=t.other.columns,this.report=new a,this.report.setOccupation(e.occupation),this.report.setStartDate(e.start_date),this.report.setEndDate(e.end_date),this.outcome=t.value.toString(),this.title=`${this.outcome} Report`,this.period=this.report.getDateIntervalPeriod(),this.setRows(await this.report.getOtherOutcome(this.outcome),t.other.rowBuilder)},setRows(t,e){t&&this.sortByArvNumber(t,"identifier").forEach((t=>this.rows.push(e(t))))}}});t("default",s(e,[["render",function(t,e,o,r,i,a){const s=l("report-template");return n(),d(s,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,encryptPDF:!0,onReportConfiguration:t.onPeriod,"report-prefix":"Clinic"},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}]]))}}}));
