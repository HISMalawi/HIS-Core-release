import{d as N,a8 as R,bR as B,a7 as j,a3 as z,a4 as A,aX as E,aa as F,af as l,a as m,E as b,b as i,w as o,J as p,G as k,c as G,K as t,a2 as a,b1 as C,C as y}from"./index-DOO_dFo7.js";import{_ as P}from"./FieldMixin.vue_vue_type_script_lang-CuBTVP2k.js";const S=N({mixins:[P],components:{IonButton:R,ViewPort:B,IonInput:j,IonRow:z,IonCol:A,IonGrid:E},data:()=>({listData:[]}),mounted(){this.init()},activated(){this.init()},computed:{drugChart(){return this.listData.reduce((s,n)=>[...s,...n.other],[])},composition(){return this.listData.map(s=>s.value).join("-")}},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.emitValue()},switchRegimen(s,n){var d,g,f;s.value=(g=(d=s.other)==null?void 0:d[n])==null?void 0:g.abbreviation,s.other.selected=(f=s.other)==null?void 0:f[n],this.emitValue()},emitValue(){this.$emit("onValue",this.listData.map(s=>{const n=s.other.find(d=>d.abbreviation===s.value);return{label:n.name,value:n.concept.concept_id,other:n.drug.weight_adjusted[0]}}))}}}),Y={class:"his-md-text"},J={style:{width:"100%","text-align":"left"}},K={class:"his-floating-keyboard"},L={class:"his-floating-keyboard-content"},T={style:{width:"100%","text-align":"left"}},W={style:{width:"100%","text-align":"left"}},X={class:"ion-text-center"},q={class:"his-lg-text"};function H(s,n,d,g,f,M){const x=l("ion-input"),v=l("ion-col"),$=l("ion-row"),D=l("ion-grid"),I=l("view-port"),w=l("ion-button");return m(),b(p,null,[i(I,{showFull:!1},{default:o(()=>[i(x,{value:s.composition,class:"input_display",disabled:!0},null,8,["value"]),i(D,{class:"view-port-content"},{default:o(()=>[(m(!0),b(p,null,k(s.drugChart,(e,h)=>(m(),G($,{key:h},{default:o(()=>[i(v,{size:"3"},{default:o(()=>[t("b",Y,a(e.name),1)]),_:2},1024),i(v,{size:"9"},{default:o(()=>{var u,r,_,c;return[t("table",J,[n[0]||(n[0]=t("thead",null,[t("th",{class:"his-sm-text"},"Weight band"),t("th",{class:"his-sm-text"},"Abbreviation"),t("th",{class:"his-sm-text"},"Side Effects"),t("th",{class:"his-sm-text"},"Resistant")],-1)),t("tbody",null,[t("tr",null,[t("td",null,a(((c=(_=(r=(u=e.drug)==null?void 0:u.weight_adjusted)==null?void 0:r[0])==null?void 0:_.drug)==null?void 0:c.name)||"N/A"),1),t("td",null,a(e==null?void 0:e.abbreviation),1),t("td",null,[t("span",{class:C({drug_danger:e==null?void 0:e.side_effects,drug_ok:!(e!=null&&e.side_effects)})},a(e!=null&&e.side_effects?"Yes":"No"),3)]),t("td",null,[t("span",{class:C({drug_danger:e==null?void 0:e.resistant,drug_ok:!(e!=null&&e.resistant)})},a(e.resistant?"Yes":"No"),3)])])])])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t("div",K,[t("div",L,[t("table",T,[(m(!0),b(p,null,k(s.listData,(e,h)=>{var u,r,_,c;return m(),b("td",{key:h},[t("table",W,[t("tr",null,[t("td",null,[i(w,{onClick:V=>s.switchRegimen(e,0),disabled:e.other.length<=1||((r=(u=e.other)==null?void 0:u[0])==null?void 0:r.abbreviation)===e.value,color:e.other.length>1?"success":"light",class:"w-button"},{default:o(()=>n[1]||(n[1]=[y(" + ")])),_:2},1032,["onClick","disabled","color"])])]),t("tr",null,[t("td",X,[t("span",q,a(e.value),1)])]),t("tr",null,[t("td",null,[i(w,{onClick:V=>s.switchRegimen(e,1),disabled:e.other.length<=1||((c=(_=e.other)==null?void 0:_[1])==null?void 0:c.abbreviation)===e.value,color:e.other.length>1?"success":"light",class:"w-button"},{default:o(()=>n[2]||(n[2]=[y(" - ")])),_:2},1032,["onClick","disabled","color"])])])])])}),128))])])])],64)}const U=F(S,[["render",H],["__scopeId","data-v-b27a36cc"]]);export{U as default};
