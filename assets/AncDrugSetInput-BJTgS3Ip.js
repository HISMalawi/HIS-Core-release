import{V as F}from"./ViewPort-BCxYiILf.js";import{d as b,ai as w,ak as D,aj as $,bb as g,O as C,ab as E,V as p,_ as I,r as s,o as r,c as _,w as a,A as l,b as i,x as T,F as k,y as V,v as x,a3 as z,a4 as S}from"./index-BCTN_bnC.js";import{_ as B}from"./FieldMixin.vue_vue_type_script_lang-BcY4Dt1h.js";import{T as A}from"./SIngleTouchField-DeaPtOu6.js";import{F as h}from"./dynamic-import-helper-BkBZiFw5.js";const N=b({components:{ViewPort:F,IonGrid:w,IonCol:D,IonRow:$,IonInput:g},mixins:[B],data:()=>({listData:[]}),watch:{clear:{handler(){this.listData=this.listData.filter(t=>(t.other.frequency="",t.other.quantity="",!0))},immediate:!0},listData:{handler(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata,this.cdata,this.listData)},async launchEditor(t,e){(await C.create({component:A,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:t,onFinish:e}})).present()},editFrequency(t){this.launchEditor({id:"edit_frequency",helpText:"Edit Frequency for ".concat(t.label),type:h.TT_SELECT,defaultValue:()=>t.other.frequency,options:()=>E.isEmpty(this.config.drugFrequencies)?[]:this.config.drugFrequencies,validation:e=>p.required(e)},e=>{t.other.frequency=e.value})},editQuantity(t){this.launchEditor({id:"edit_quantity",helpText:"Edit quantity for ".concat(t.label),type:h.TT_NUMBER,defaultValue:()=>t.other.quantity,validation:e=>p.required(e)},e=>{t.other.quantity=parseInt("".concat(e.value))})}}}),c=t=>(z("data-v-37aa714b"),t=t(),S(),t),Q={class:"view-port-content"},L=c(()=>l("b",null," Drugs ",-1)),P=c(()=>l("b",null," Quantity",-1)),R=c(()=>l("b",null," Frequency ",-1)),j={class:"his-card",style:{textAlign:"left"}};function G(t,e,f,M,O,U){const o=s("ion-col"),d=s("ion-row"),u=s("ion-input"),m=s("ion-grid"),y=s("view-port");return r(),_(y,null,{default:a(()=>[l("div",Q,[i(m,null,{default:a(()=>[i(d,null,{default:a(()=>[i(o,{size:"6"},{default:a(()=>[L]),_:1}),i(o,{size:"3"},{default:a(()=>[P]),_:1}),i(o,{size:"3"},{default:a(()=>[R]),_:1})]),_:1}),(r(!0),T(k,null,V(t.listData,(n,v)=>(r(),_(d,{key:v},{default:a(()=>[i(o,{size:"6"},{default:a(()=>[l("div",j,x(n.label),1)]),_:2},1024),i(o,{size:"3"},{default:a(()=>[i(u,{readonly:"",value:n.other.quantity,onClick:q=>t.editQuantity(n),class:"his-card"},null,8,["value","onClick"])]),_:2},1024),i(o,{size:"3"},{default:a(()=>[i(u,{readonly:"",value:n.other.frequency,onClick:q=>t.editFrequency(n),class:"his-card"},null,8,["value","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})}const Y=I(N,[["render",G],["__scopeId","data-v-37aa714b"]]);export{Y as default};
