import{cP as r,cQ as Q}from"./index-DWvBcSFv.js";const Z=540,z=o=>document.querySelector("".concat(o,".ion-cloned-element")),N=o=>o.shadowRoot||o,H=o=>{const s=o.tagName==="ION-TABS"?o:o.querySelector("ion-tabs"),l="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(s!=null){const e=s.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return e!=null?e.querySelector(l):null}return o.querySelector(l)},M=(o,s)=>{const l=o.tagName==="ION-TABS"?o:o.querySelector("ion-tabs");let e=[];if(l!=null){const t=l.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");t!=null&&(e=t.querySelectorAll("ion-buttons"))}else e=o.querySelectorAll("ion-buttons");for(const t of e){const S=t.closest("ion-header"),h=S&&!S.classList.contains("header-collapse-condense-inactive"),m=t.querySelector("ion-back-button"),i=t.classList.contains("buttons-collapse"),u=t.slot==="start"||t.slot==="";if(m!==null&&u&&(i&&h&&s||!i))return m}return null},j=(o,s,l,e,t)=>{const S=M(e,l),h=H(t),m=H(e),i=M(t,l),u=S!==null&&h!==null&&!l,A=m!==null&&i!==null&&l;if(u){const p=h.getBoundingClientRect(),d=S.getBoundingClientRect(),f=N(S).querySelector(".button-text"),R=f.getBoundingClientRect(),L=N(h).querySelector(".toolbar-title").getBoundingClientRect();G(o,s,l,h,p,L,f,R),k(o,s,l,S,d,f,R,h,L)}else if(A){const p=m.getBoundingClientRect(),d=i.getBoundingClientRect(),f=N(i).querySelector(".button-text"),R=f.getBoundingClientRect(),L=N(m).querySelector(".toolbar-title").getBoundingClientRect();G(o,s,l,m,p,L,f,R),k(o,s,l,i,d,f,R,m,L)}return{forward:u,backward:A}},k=(o,s,l,e,t,S,h,m,i)=>{var u,A;const p=s?"calc(100% - ".concat(t.right+4,"px)"):"".concat(t.left-4,"px"),d=s?"right":"left",f=s?"left":"right",R=s?"right":"left",q=((u=S.textContent)===null||u===void 0?void 0:u.trim())===((A=m.textContent)===null||A===void 0?void 0:A.trim()),L=i.width/h.width,y=(i.height-U)/h.height,b=q?"scale(".concat(L,", ").concat(y,")"):"scale(".concat(y,")"),P="scale(1)",x=N(e).querySelector("ion-icon").getBoundingClientRect(),n=s?"".concat(x.width/2-(x.right-t.right),"px"):"".concat(t.left-x.width/2,"px"),g=s?"-".concat(window.innerWidth-t.right,"px"):"".concat(t.left,"px"),C="".concat(i.top,"px"),_="".concat(t.top,"px"),a=[{offset:0,transform:"translate3d(".concat(n,", ").concat(C,", 0)")},{offset:1,transform:"translate3d(".concat(g,", ").concat(_,", 0)")}],c=[{offset:0,transform:"translate3d(".concat(g,", ").concat(_,", 0)")},{offset:1,transform:"translate3d(".concat(n,", ").concat(C,", 0)")}],v=l?c:a,E=l?[{offset:0,opacity:1,transform:P},{offset:1,opacity:0,transform:b}]:[{offset:0,opacity:0,transform:b},{offset:1,opacity:1,transform:P}],X=l?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],I=r(),F=r(),w=r(),T=z("ion-back-button"),D=N(T).querySelector(".button-text"),K=N(T).querySelector("ion-icon");T.text=e.text,T.mode=e.mode,T.icon=e.icon,T.color=e.color,T.disabled=e.disabled,T.style.setProperty("display","block"),T.style.setProperty("position","fixed"),F.addElement(K),I.addElement(D),w.addElement(T),w.beforeStyles({position:"absolute",top:"0px",[R]:"0px"}).keyframes(v),I.beforeStyles({"transform-origin":"".concat(d," top")}).beforeAddWrite(()=>{e.style.setProperty("display","none"),T.style.setProperty(d,p)}).afterAddWrite(()=>{e.style.setProperty("display",""),T.style.setProperty("display","none"),T.style.removeProperty(d)}).keyframes(E),F.beforeStyles({"transform-origin":"".concat(f," center")}).keyframes(X),o.addAnimation([I,F,w])},G=(o,s,l,e,t,S,h,m)=>{var i,u;const A=s?"right":"left",p=s?"calc(100% - ".concat(t.right,"px)"):"".concat(t.left,"px"),d="0px",f="".concat(t.top,"px"),R=8,q=s?"-".concat(window.innerWidth-m.right-R,"px"):"".concat(m.x-R,"px"),y="".concat(m.y-2,"px"),b=((i=h.textContent)===null||i===void 0?void 0:i.trim())===((u=e.textContent)===null||u===void 0?void 0:u.trim()),P=m.width/S.width,W=m.height/(S.height-U),x="scale(1)",n=b?"scale(".concat(P,", ").concat(W,")"):"scale(".concat(W,")"),g=[{offset:0,opacity:0,transform:"translate3d(".concat(q,", ").concat(y,", 0) ").concat(n)},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(".concat(d,", ").concat(f,", 0) ").concat(x)}],C=[{offset:0,opacity:.99,transform:"translate3d(".concat(d,", ").concat(f,", 0) ").concat(x)},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(q,", ").concat(y,", 0) ").concat(n)}],_=l?g:C,a=z("ion-title"),c=r();a.innerText=e.innerText,a.size=e.size,a.color=e.color,c.addElement(a),c.beforeStyles({"transform-origin":"".concat(A," top"),height:"".concat(t.height,"px"),display:"",position:"relative",[A]:p}).beforeAddWrite(()=>{e.style.setProperty("opacity","0")}).afterAddWrite(()=>{e.style.setProperty("opacity",""),a.style.setProperty("display","none")}).keyframes(_),o.addAnimation(c)},V=(o,s)=>{var l;try{const e="cubic-bezier(0.32,0.72,0,1)",t="opacity",S="transform",i=o.ownerDocument.dir==="rtl",u=i?"-99.5%":"99.5%",A=i?"33%":"-33%",p=s.enteringEl,d=s.leavingEl,f=s.direction==="back",R=p.querySelector(":scope > ion-content"),q=p.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),L=p.querySelectorAll(":scope > ion-header > ion-toolbar"),y=r(),b=r();if(y.addElement(p).duration(((l=s.duration)!==null&&l!==void 0?l:0)||Z).easing(s.easing||e).fill("both").beforeRemoveClass("ion-page-invisible"),d&&o!==null&&o!==void 0){const n=r();n.addElement(o),y.addAnimation(n)}if(!R&&L.length===0&&q.length===0?b.addElement(p.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")):(b.addElement(R),b.addElement(q)),y.addAnimation(b),f?b.beforeClearStyles([t]).fromTo("transform","translateX(".concat(A,")"),"translateX(0%)").fromTo(t,.8,1):b.beforeClearStyles([t]).fromTo("transform","translateX(".concat(u,")"),"translateX(0%)"),R){const n=N(R).querySelector(".transition-effect");if(n){const g=n.querySelector(".transition-cover"),C=n.querySelector(".transition-shadow"),_=r(),a=r(),c=r();_.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(g).beforeClearStyles([t]).fromTo(t,0,.1),c.addElement(C).beforeClearStyles([t]).fromTo(t,.03,.7),_.addAnimation([a,c]),b.addAnimation([_])}}const P=p.querySelector("ion-header.header-collapse-condense"),{forward:W,backward:x}=j(y,i,f,p,d);if(L.forEach(n=>{const g=r();g.addElement(n),y.addAnimation(g);const C=r();C.addElement(n.querySelector("ion-title"));const _=r(),a=Array.from(n.querySelectorAll("ion-buttons,[menuToggle]")),c=n.closest("ion-header"),v=c==null?void 0:c.classList.contains("header-collapse-condense-inactive");let $;f?$=a.filter(X=>{const I=X.classList.contains("buttons-collapse");return I&&!v||!I}):$=a.filter(X=>!X.classList.contains("buttons-collapse")),_.addElement($);const B=r();B.addElement(n.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const E=r();E.addElement(N(n).querySelector(".toolbar-background"));const O=r(),Y=n.querySelector("ion-back-button");if(Y&&O.addElement(Y),g.addAnimation([C,_,B,E,O]),_.fromTo(t,.01,1),B.fromTo(t,.01,1),f)v||C.fromTo("transform","translateX(".concat(A,")"),"translateX(0%)").fromTo(t,.01,1),B.fromTo("transform","translateX(".concat(A,")"),"translateX(0%)"),O.fromTo(t,.01,1);else if(P||C.fromTo("transform","translateX(".concat(u,")"),"translateX(0%)").fromTo(t,.01,1),B.fromTo("transform","translateX(".concat(u,")"),"translateX(0%)"),E.beforeClearStyles([t,"transform"]),(c==null?void 0:c.translucent)?E.fromTo("transform",i?"translateX(-100%)":"translateX(100%)","translateX(0px)"):E.fromTo(t,.01,"var(--opacity)"),W||O.fromTo(t,.01,1),Y&&!W){const I=r();I.addElement(N(Y).querySelector(".button-text")).fromTo("transform",i?"translateX(-100px)":"translateX(100px)","translateX(0px)"),g.addAnimation(I)}}),d){const n=r(),g=d.querySelector(":scope > ion-content"),C=d.querySelectorAll(":scope > ion-header > ion-toolbar"),_=d.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(!g&&C.length===0&&_.length===0?n.addElement(d.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")):(n.addElement(g),n.addElement(_)),y.addAnimation(n),f){n.beforeClearStyles([t]).fromTo("transform","translateX(0%)",i?"translateX(-100%)":"translateX(100%)");const a=Q(d);y.afterAddWrite(()=>{y.getDirection()==="normal"&&a.style.setProperty("display","none")})}else n.fromTo("transform","translateX(0%)","translateX(".concat(A,")")).fromTo(t,1,.8);if(g){const a=N(g).querySelector(".transition-effect");if(a){const c=a.querySelector(".transition-cover"),v=a.querySelector(".transition-shadow"),$=r(),B=r(),E=r();$.addElement(a).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),B.addElement(c).beforeClearStyles([t]).fromTo(t,.1,0),E.addElement(v).beforeClearStyles([t]).fromTo(t,.7,.03),$.addAnimation([B,E]),n.addAnimation([$])}}C.forEach(a=>{const c=r();c.addElement(a);const v=r();v.addElement(a.querySelector("ion-title"));const $=r(),B=a.querySelectorAll("ion-buttons,[menuToggle]"),E=a.closest("ion-header"),O=E==null?void 0:E.classList.contains("header-collapse-condense-inactive"),Y=Array.from(B).filter(D=>{const K=D.classList.contains("buttons-collapse");return K&&!O||!K});$.addElement(Y);const X=r(),I=a.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");I.length>0&&X.addElement(I);const F=r();F.addElement(N(a).querySelector(".toolbar-background"));const w=r(),T=a.querySelector("ion-back-button");if(T&&w.addElement(T),c.addAnimation([v,$,X,w,F]),y.addAnimation(c),w.fromTo(t,.99,0),$.fromTo(t,.99,0),X.fromTo(t,.99,0),f){if(O||v.fromTo("transform","translateX(0%)",i?"translateX(-100%)":"translateX(100%)").fromTo(t,.99,0),X.fromTo("transform","translateX(0%)",i?"translateX(-100%)":"translateX(100%)"),F.beforeClearStyles([t,"transform"]),(E==null?void 0:E.translucent)?F.fromTo("transform","translateX(0px)",i?"translateX(-100%)":"translateX(100%)"):F.fromTo(t,"var(--opacity)",0),T&&!x){const K=r();K.addElement(N(T).querySelector(".button-text")).fromTo("transform","translateX(0%)","translateX(".concat((i?-124:124)+"px",")")),c.addAnimation(K)}}else O||v.fromTo("transform","translateX(0%)","translateX(".concat(A,")")).fromTo(t,.99,0).afterClearStyles([S,t]),X.fromTo("transform","translateX(0%)","translateX(".concat(A,")")).afterClearStyles([S,t]),w.afterClearStyles([t]),v.afterClearStyles([t]),$.afterClearStyles([t])})}return y}catch(e){throw e}},U=10;export{V as iosTransitionAnimation,N as shadow};
