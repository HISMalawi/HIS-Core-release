import{_ as l}from"./EncounterMixin.vue_vue_type_script_lang-CbmuTORK.js";import{bU as c,d,n as p,al as a,am as o,ak as m,ap as s,a as u,b as h,w as f,e as _}from"./index-y6JY22M4.js";import"./encounter_guidelines-nb8Q8sEZ.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-CXnAooxi.js";class T extends c{constructor(t,i){super(t,10,i)}}const v=d({components:{IonPage:p},mixins:[l],data:()=>({service:{},formFields:[]}),watch:{ready:{handler(e){e&&(this.service=new T(this.patientID,this.providerID),this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(t)),this.nextTask()},getFields(){return[{id:"pmct",helpText:"PMTCT",type:o.TT_YES_NO,computedValue:e=>this.service.buildValueCoded("PMTCT",e.match(/true/i)?"Yes":"No"),validation:e=>a.required(e),options:()=>[{label:"Proceed to PMTCT",values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]},{id:"reason_for_not_starting_art",helpText:"Reason for not starting ART",type:o.TT_SELECT,condition:e=>e.pmct==="false",validation:e=>a.required(e),computedValue:e=>this.service.buildValueText("Reason for exiting care",e.value),options:()=>this.mapStrToOptions(["Already on ART at another facility","To be done in another room","Not willing"])}]}}});function F(e,t,i,b,g,w){const n=s("his-standard-form"),r=s("ion-page");return h(),u(r,null,{default:f(()=>[_(n,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const S=m(v,[["render",F]]);export{S as default};
