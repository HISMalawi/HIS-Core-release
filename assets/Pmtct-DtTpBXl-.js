import{_ as c}from"./EncounterMixin.vue_vue_type_script_lang-DZZc0yNk.js";import{F as o}from"./dynamic-import-helper-Bsjrd6Ro.js";import{b5 as l,d,I as p,V as a,_ as m,r as s,o as u,c as h,w as f,b as _}from"./index-DTBWhHAq.js";import"./encounter_guidelines-BDvVJmZ6.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-lonwENLb.js";import"./TouchScreenForm-BeJsJnwt.js";import"./ToolbarMediumCard-wr9sTFDK.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-DbAo6hHM.js";class T extends l{constructor(t,i){super(t,10,i)}}const v=d({components:{IonPage:p},mixins:[c],data:()=>({service:{},formFields:[]}),watch:{ready:{handler(e){e&&(this.service=new T(this.patientID,this.providerID),this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(t)),this.nextTask()},getFields(){return[{id:"pmct",helpText:"PMTCT",type:o.TT_YES_NO,computedValue:e=>this.service.buildValueCoded("PMTCT",e.match(/true/i)?"Yes":"No"),validation:e=>a.required(e),options:()=>[{label:"Proceed to PMTCT",values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]},{id:"reason_for_not_starting_art",helpText:"Reason for not starting ART",type:o.TT_SELECT,condition:e=>e.pmct==="false",validation:e=>a.required(e),computedValue:e=>this.service.buildValueText("Reason for exiting care",e.value),options:()=>this.mapStrToOptions(["Already on ART at another facility","To be done in another room","Not willing"])}]}}});function F(e,t,i,b,g,w){const n=s("his-standard-form"),r=s("ion-page");return u(),h(r,null,{default:f(()=>[_(n,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const k=m(v,[["render",F]]);export{k as default};
