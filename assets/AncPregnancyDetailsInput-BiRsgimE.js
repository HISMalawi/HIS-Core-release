import{_ as E}from"./FieldMixin.vue_vue_type_script_lang-DKfMZ09i.js";import{d as P,U as x,a0 as G,$ as z,R,a2 as W,dh as Y,dm as Z,aV as j,_ as q,Z as J,bP as K,cT as O,cU as Q,M as X,as as I,cf as ee,a8 as ae,ad as i,u as s,v as d,w as a,x as n,B as u,E as p,C as y,G as k,z as te,Y as w,a1 as L,a6 as le,a7 as ne}from"./index-DLUr6P7m.js";const se=P({name:"HisSelect",mixins:[E],components:{IonItem:x,IonLabel:G,IonList:z,IonTitle:R,IonInput:W,IonRadioGroup:Y,IonRadio:Z,IonGrid:j,IonCol:q,IonRow:J,ViewPort:K},setup(){return{arrowUp:O,arrowDown:Q}},data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){X(e)},async launchModal(e,c){(await I.create({component:ee,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:c}})).present()},async editField(e,c){const b=o=>{var r;e.value=o,typeof((r=e==null?void 0:e.field)==null?void 0:r.onValueUpdate)=="function"&&e.field.onValueUpdate(o,c)};this.launchModal(e.field,o=>{var r,v;if(!Array.isArray(o)&&o.label.match(/unknown/i)&&typeof((v=(r=e.field)==null?void 0:r.config)==null?void 0:v.onUnknownEstimateField)=="function")return this.launchModal(e.field.config.onUnknownEstimateField(),g=>b(g));b(o)})}},watch:{listData:{handler(e){typeof this.onValue=="function"&&this.onValue([...e]),this.$emit("onValue",[...e])},deep:!0}}}),ie=e=>(le("data-v-41f94882"),e=e(),ne(),e),oe={key:0},de=ie(()=>L("p",null,null,-1));function ce(e,c,b,o,r,v){const g=i("ion-radio"),V=i("ion-label"),C=i("ion-item"),A=i("ion-radio-group"),B=i("ion-list"),_=i("ion-col"),H=i("ion-title"),D=i("ion-row"),F=i("ion-input"),$=i("ion-grid"),N=i("view-port");return s(),d(N,null,{default:a(()=>[n($,{class:"view-port-content"},{default:a(()=>[n(D,null,{default:a(()=>[n(_,{size:"4"},{default:a(()=>[n(B,null,{default:a(()=>[n(A,{modelValue:e.selected,"onUpdate:modelValue":c[0]||(c[0]=t=>e.selected=t)},{default:a(()=>[(s(!0),u(p,null,y(e.listData,(t,f)=>(s(),d(C,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:f},{default:a(()=>[n(g,{slot:"start",value:t.label},null,8,["value"]),n(V,{innerHTML:t.label},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(_,null,{default:a(()=>[(s(!0),u(p,null,y(e.listData,(t,f)=>(s(),u("div",{key:f},[e.selected===t.label?(s(),u("div",oe,[(s(!0),u(p,null,y(t.other.data,(S,T)=>(s(),d($,{style:{"margin-bottom":"10px"},class:"his-card",key:T},{default:a(()=>{var M;return[(M=t==null?void 0:t.other)!=null&&M.rowTitles?(s(),d(D,{key:0,style:{background:"#F8F8F8"}},{default:a(()=>[n(_,{class:"ion-text-center"},{default:a(()=>{var l,h;return[n(H,{class:"his-md-text",innerHTML:(l=t==null?void 0:t.other)!=null&&l.rowTitles&&((h=t==null?void 0:t.other)==null?void 0:h.rowTitles[T])||""},null,8,["innerHTML"])]}),_:2},1024)]),_:2},1024)):k("",!0),de,(s(!0),u(p,null,y(S,(l,h)=>(s(),d(D,{key:h},{default:a(()=>[n(_,null,{default:a(()=>[l.disabled?(s(),d(C,{key:0,onClick:m=>e.warn("Cannot edit ".concat(l.label)),class:"his-sm-text"},{default:a(()=>[n(V,{slot:"start"},{default:a(()=>[te(w(l.label),1)]),_:2},1024),n(F,{placeholder:"N/A",slot:"end"})]),_:2},1032,["onClick"])):k("",!0),l.disabled?k("",!0):(s(),d(C,{key:1,class:"his-sm-text",onClick:m=>e.editField(l,e.listData[f].other.data[T])},{default:a(()=>{var m,U;return[n(V,{color:(m=l==null?void 0:l.value)!=null&&m.label?"":"danger"},{default:a(()=>[L("b",null,w(l.label),1)]),_:2},1032,["color"]),n(F,{class:"his-md-text",slot:"end",readonly:!0,value:(U=l==null?void 0:l.value)==null?void 0:U.label,placeholder:"Click to edit"},null,8,["value"])]}),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]}),_:2},1024))),128))])):k("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const _e=ae(se,[["render",ce],["__scopeId","data-v-41f94882"]]);export{_e as default};
