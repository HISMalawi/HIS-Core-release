System.register(["./index-legacy-CA6M7ipO.js","./v2utils-legacy-Bs3stsn1.js","./clinic_report_service-legacy-u_6HNHbx.js","./TableView-legacy-2WevvWny.js","./Export-legacy-SGgsNE3Q.js","./index-legacy-DZOKxSjk.js"],(function(e,t){"use strict";var i,a,n,r,o,l,s,_,c,h,u,d,p,v,m,g,w;return{setters:[e=>{i=e.d,a=e.r,n=e.o,r=e.D,o=e.a,l=e.c,s=e.w,_=e.b,c=e.u,h=e.I,u=e.i,d=e.au,p=e.W},e=>{v=e.w,m=e.A},e=>{g=e.C},e=>{w=e.v},null,null],execute:function(){e("default",i({__name:"ClinicHtnEnrollmentReport",setup(e){const t=u("reports.png"),i=a([]),b=a(""),f=new g,T={htn_enrollment:{_label:"HYPERTENSION (HTN) ENROLMENT",registered_with_hypertension:"Patients registered with hypertension",enrolled_and_active_in_care:"HTN Patients enrolled and active in care",who_have_defaulted_during_the_reporting_period:"HTN Patients who have defaulted during the reporting period",who_have_died:"HTN Patients who have died",who_have_transferred_out:"HTN Patients who have transferred out",who_have_stopped_htn_care:"HTN Patients who have stopped HTN care",with_a_visit_in_last_3_months:"HTN Patients with a visit in the last 3 months",with_a_visit_in_last_3_months_who_have_a_bp_measurement_recorded:"HTN Patients with a visit in the last 3 months who have a BP measurement recorded",with_a_visit_in_last_3_months_who_have_bp_below_140_90:"HTN Patients with a visit in the last 3 months who have BP below 140/90"},treatment_drug_classification:{_label:"TREATMENT BASED ON HTN DRUG CLASSIFICATION",diuretics:"Diuretics",beta_blockers:"Beta Blockers",calcium_channel_blockers:"Calcium Channel Blockers",ace_inhibitors:"ACE Inhibitors",angiotensin2_receptor_blockers:"Angiotensin 2 Receptor Blockers",vasodilator:"Vasodilator",others:"Others"}},N=(e,t)=>({ref:t,label:e,defaultValue:"",toValue:e=>e.length,tdClick:async e=>{e.refData.length&&(await d.create({component:m,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e.column.label,subtitle:b,patientIdentifiers:e.refData,onFinish:()=>d.getTop().then((e=>e&&d.dismiss()))}})).present()}}),y=[[{label:"#",ref:"index"},{label:"indicator",ref:"indicator"},N("Reporting period","reporting_period"),N("Cumulatively","cumulatively")]],H=(e={})=>{i.value=[];const t=t=>{let a=1;Object.keys(T[t]).forEach((n=>{if("_label"===n)return void i.value.push({indicator:`<b>${T[t][n]}</b>`,index:""});const r=e?.[t]?.[n];i.value.push({index:a,indicator:T[t][n],reporting_period:r?.reporting_period??[],cumulatively:r?.cummulative??[]}),++a}))};t("htn_enrollment"),t("treatment_drug_classification")},P=()=>v((async()=>{if(!f.startDate||!f.endDate)return p("Start date and end date required!");H({}),H(await f.getHtnEnrollmentReport())}));n((()=>{H(),D()}));const D=()=>r({onFinish:(e,t,i,a)=>{a&&f.setOccupation(a),b.value=`${i}`,f.startDate=e,f.endDate=t,P()}});return(e,a)=>(o(),l(c(h),null,{default:s((()=>[_(w,{title:"HTN Enrollment Report","icon-url":c(t),subtitle:b.value,columns:y,columnData:i.value,rowsPerPage:50,onConfigure:D,onRefresh:()=>P(),"report-prefix":"Clinic"},null,8,["icon-url","subtitle","columnData","onRefresh"])])),_:1}))}}))}}}));
