import{d as b,br as V,f as w,d$ as k,e0 as C,ah as $,ap as g,_ as O,r as l,o as a,x as s,b as o,w as r,A as u,B as c,y as h,u as f,v as x,az as B}from"./index-C6EjxQ0a.js";import{_ as D}from"./FieldMixin.vue_vue_type_script_lang-x6nXcbrX.js";const N=b({components:{ViewPort:V,IonButton:w,IonTextarea:k},mixins:[D],data:()=>({value:"",capsOn:!1,layout:C}),mounted(){this.init()},activated(){this.init()},methods:{clearValue(){this.value=""},async init(){this.$emit("onFieldActivated",this),await this.setDefaultValue()},async setDefaultValue(){if(this.defaultValue&&!this.value){const e=await this.defaultValue(this.fdata,this.cdata);e&&($.isPlainObject(e)?(this.emitValue(e),this.value=e.value.toString()):(this.value=e,this.emitValue({label:e,value:e})))}},updateKeyboardCaps(e=!1){this.layout=this.layout.map(t=>t.map(i=>e?i.toUpperCase():i.toLowerCase()))},async emitValue(e){this.onValue&&!await this.onValue(e)||(this.value=e.label,this.$emit("onValue",e))},async onKbValue(e){await this.emitValue({label:e,value:e})},async keypress(e){const t=g(this.capsOn?e.toUpperCase():e.toLowerCase(),this.value);if(t.match(/caps/i)){this.capsOn=!this.capsOn,this.updateKeyboardCaps(this.capsOn);return}await this.emitValue({label:t,value:t})}}}),A={class:"his-floating-keyboard"},E={class:"his-floating-keyboard-content"},K={style:{width:"99.9%"}};function L(e,t,i,S,z,F){const _=l("ion-textarea"),m=l("view-port"),p=l("ion-button");return a(),s(c,null,[o(m,{showFull:!1},{default:r(()=>[o(_,{rows:"6",cols:"20",readonly:"",value:e.value,placeholder:"Start typing....",class:"input_display"},null,8,["value"])]),_:1}),u("div",A,[u("div",E,[u("table",K,[(a(!0),s(c,null,h(e.layout,(d,y)=>(a(),s("tr",{key:y},[(a(!0),s(c,null,h(d,(n,v)=>(a(),s("td",{key:v},[o(p,{style:{"text-transform":"none"},strong:"",onClick:I=>e.keypress(n),class:B("key__button ".concat(n.toLowerCase(),"_btn"))},{default:r(()=>[f(x(n),1)]),_:2},1032,["onClick","class"])]))),128))]))),128))])]),o(p,{onClick:t[0]||(t[0]=d=>e.keypress("space")),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:r(()=>[f(" Space ")]),_:1})])],64)}const H=O(N,[["render",L],["__scopeId","data-v-8f253232"]]);export{H as default};
