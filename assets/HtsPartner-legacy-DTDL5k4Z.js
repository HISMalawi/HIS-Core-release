System.register(["./index-legacy-B-IGLekl.js","./HisStandardForm-legacy-zrsmj5en.js"],(function(e,t){"use strict";var n,a,s,r,i,o,u,l,p,c,d,h,f,v;return{setters:[e=>{n=e.bQ,a=e.d,s=e.a5,r=e.r,i=e.ei,o=e.a9,u=e.aU,l=e.a6,p=e.v,c=e.w,d=e.ab,h=e.u,f=e.x},e=>{v=e.H}],execute:function(){class t extends n{constructor(e,t=-1){super(e,194,t)}}const T=a({components:{IonPage:s,HisStandardForm:v},setup(){const e=r([]),n=new t(-1),{toOption:a,yesNoOptions:s,saveEncounter:l,patientDashboardUrl:p}=i({onInitVisit:()=>{e.value=[{id:"partner_present",helpText:"Partner",type:o.TT_YES_NO,isRequired:()=>!0,finalComputedValue:e=>({obs:n.buildValueText("Partner present",e)}),options:()=>[{label:"Is partner present at this session?",value:"",values:s()}]},{id:"partner_hiv_status",helpText:"Partner HIV Status",type:o.TT_SELECT,isRequired:()=>!0,finalComputedValue:e=>({obs:n.buildValueCoded("Partner HIV Status",e.value)}),options:e=>{const t=[a("HIV unknown"),{label:"HIV Negative",value:"Negative"},a("Positive ART unknown"),a("Positive on ART"),a("Positive NOT on ART")];return"No"===e.partner_present&&t.push(a("No partner")),t}}]}});return{patientDashboardUrl:p,onFinish:function(e,t){const a="Yes"===e?.offer_partner_hiv_test;l({encounterName:"Partner Reception",encounterTypeID:n.encounterTypeID,computedData:t,skipNextTask:a,callback:()=>{a&&u.push("/patient/registration")}})},fields:e}}});e("default",l(T,[["render",function(e,t,n,a,s,r){const i=d("his-standard-form"),o=d("ion-page");return h(),p(o,null,{default:c((()=>[f(i,{formLabel:"Partner reception",fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.patientDashboardUrl()},null,8,["fields","onFinishAction","cancelDestinationPath"])])),_:1})}]]))}}}));
