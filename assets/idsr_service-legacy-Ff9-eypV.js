System.register(["./opd_report_service-legacy-1Vc7vATu.js","./index-legacy-CBR8jcof.js"],(function(e,t){"use strict";var r,s;return{setters:[e=>{r=e.O},e=>{s=e.aj}],execute:function(){e("I",class extends r{regenerate;constructor(){super(),this.regenerate=!1}setRegenerate(e){this.regenerate=e}requestIDSRWeekly(){return this.getReport("generate_weekly_idsr_report",{request:"true"})}requestIDSRMonthly(){return this.getReport("generate_monthly_idsr_report",{request:"true"})}requestIDSRQuarterly(){return this.getReport("generate_quarterly_idsr_report")}renderResults(e){const t=[];let r=1;for(const[s,n]of Object.entries(e)){const e=[],a=n,i={id:0,name:"",lessThanFiveYears:"",lessThanFiveYearsPatientIds:"",greaterThanEqualFiveYears:"",greaterThanEqualFiveYearsPatientIds:"",total:0,totalPatientIds:""};i.name=s;let o=0;i.id=r,r+=1;for(const[t,r]of Object.entries(a)){const s=r;null!=s&&(o+=s.length,i.total=o,s.length&&(e.push(...s),i.totalPatientIds=e),"<5yrs"==t&&(i.lessThanFiveYears=s.length,i.lessThanFiveYearsPatientIds=s),">=5yrs"==t&&(i.greaterThanEqualFiveYears=s.length,i.greaterThanEqualFiveYearsPatientIds=s))}t.push(i)}return t}getCSVString(e){let t="Diseases/Events/Conditions, <5 yrs, >=5 yrs, Total,\n";for(const r of e)t+=`${r.name},${r.lessThanFiveYears},${r.greaterThanEqualFiveYears},${r.total},\n`;return{CSVString:t}}static async getReportEpiWeeks(){const e=[];return(await s.getJson("get_weeks")).reverse().forEach((t=>{const r=t[1].split(" "),s=r[0],n=r[2],a=t[0].split("W"),i=a[0]+"/W"+a[1];e.push({name:i,start:s,end:n})})),e}static async getReportMonths(){const e=[];return(await s.getJson("get_months")).forEach((t=>{const r=t[1],s=r[0],n=r[1].split("to");e.push({name:s,start:n[0],end:n[1].trim()})})),e}})}}}));
