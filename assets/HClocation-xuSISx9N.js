import{d as T,b0 as V,l as N,k as P,m as K,a5 as $,n as h,a4 as w,I as B,b1 as E,aP as x,r as k,c as H,b2 as U,b3 as L,S as O,aZ as R,s as y,aI as A,p as M,b4 as z,ak as F,ap as a,a as d,b as p,w as t,e as s,a6 as C,j as f}from"./index-SU-Girx6.js";const j=T({name:"HC location",components:{BarcodeInput:E,IonContent:B,IonHeader:w,IonPage:h,IonTitle:$,IonToolbar:K,IonButton:P,IonFooter:N,HisKeyboard:V},setup(){const{activePlatformProfile:e}=x(),o=k(""),r=k(""),_=H(()=>e.value.scanner===U.CAMERA_SCANNER);async function c(){o.value.includes("$")||(o.value+="$");const n=await O.getJson("locations/".concat(o.value));if(R.isEmpty(n))y("Invalid location");else{const u=n;sessionStorage.userLocation=u.name;try{await A().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}M.push("/")}r.value=o.value,o.value=""}function b(n){o.value=n}function i(n){o.value=z(n,o.value),console.log("barcode",o.value)}async function l(n){o.value=n,await c()}return{onbarcodeText:b,onScan:l,onKbClick:i,searchLocation:c,useVirtualKeyboard:_,clearValue:r,barcodeText:o,NUMBERS:L}}});function D(e,o,r,_,c,b){const i=a("ion-title"),l=a("ion-toolbar"),n=a("ion-header"),u=a("barcode-input"),m=a("ion-content"),g=a("his-keyboard"),v=a("ion-button"),I=a("ion-footer"),S=a("ion-page");return p(),d(S,null,{default:t(()=>[s(n,{translucent:!0},{default:t(()=>[s(l,null,{default:t(()=>[s(i,null,{default:t(()=>[...o[0]||(o[0]=[f("Scan work-station location",-1)])]),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:t(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(p(),d(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(I,null,{default:t(()=>[s(l,{color:"dark"},{default:t(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:t(()=>[...o[1]||(o[1]=[f(" Cancel ",-1)])]),_:1}),e.barcodeText?(p(),d(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:t(()=>[...o[2]||(o[2]=[f(" Next ",-1)])]),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const W=F(j,[["render",D],["__scopeId","data-v-3f50a6e8"]]);export{W as default};
