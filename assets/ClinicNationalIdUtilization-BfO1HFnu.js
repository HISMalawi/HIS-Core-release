import{d as g,r as c,o as m,a as _,c as D,w as v,b,u,D as w,f as C,i as h}from"./index-DUHy09-D.js";import{v as N}from"./TableView-Cubz3H_T.js";import{C as I}from"./clinic_report_service-dL0SB6uC.js";import{a as x,w as k}from"./v2utils-Cq8olGl1.js";import"./Export-Mg5mHyUQ.js";import"./index-h-mcwuuY.js";const S=g({__name:"ClinicNationalIdUtilization",setup(z){const p=h("reports.png"),t=c([]),i=c(""),a=new I,n=o=>({...o,toValue:e=>e.length,tdClick:e=>{x({title:"".concat(e.data.age_group," ").concat(e.column.label),subtitle:i.value,patientIdentifiers:e.refData})}}),f=[[{label:"Age group",ref:"age_group"},{label:"Gender",ref:"gender"},n({label:"Total Clients visits",ref:"total_visits"}),n({label:"Clients with NID",ref:"nid_clients"}),n({label:"New NID registered",ref:"new_nid"})]],l=()=>k(async()=>{t.value=[],t.value=await a.getNidUtilizationReport()}),r=()=>w({onFinish:(o,e,d,s)=>{s&&a.setOccupation(s),i.value="".concat(d),a.startDate=o,a.endDate=e,l()}});return m(()=>!t.value.length&&r()),(o,e)=>(_(),D(u(C),null,{default:v(()=>[b(N,{"icon-url":u(p),subtitle:i.value,title:"National ID utilization report","report-prefix":"Clinic",columns:f,onConfigure:r,columnData:t.value,rowsPerPage:100,onRefresh:l},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{S as default};
