import{d as p,W as w,a1 as _,bW as b,dy as V,aN as n,a6 as v,ab as e,u as o,v as l,w as s,x as c,B as x,E as C,C as y,z as g,Z as k}from"./index-CyYd6aWW.js";import D from"./SelectMixin-BUhWCATE.js";import"./BaseTextInput-R_3uIRWn.js";import"./FieldMixin.vue_vue_type_script_lang-DVMlEpjU.js";const $=p({name:"HisSelectGrid",mixins:[D],components:{IonItem:w,IonLabel:_,ViewPort:b,MultiColumnView:V},data:()=>({columnsPerRow:4,isInit:!1}),mounted(){this.init()},activated(){this.init()},methods:{clearValue(){this.clearSelection()},async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.isInit||await this.setDefaultValue(),typeof this.config.columnsPerRow=="number"&&(this.columnsPerRow=this.config.columnsPerRow),this.isInit=!0},async setDefaultValue(){if(this.defaultValue){const t=await this.defaultValue(this.fdata,this.cdata,this.selected);if(t){const i=n.find(this.listData,{label:t})||n.find(this.listData,{value:t});i?this.onselect(i):this.selected=t}}},async onselect(t){this.selected=t?t.label:"",!(this.onValue&&(this.selected=await this.onValue(t,this)||"",!this.selected))&&this.$emit("onValue",t)}}});function I(t,i,P,S,R,B){const r=e("ion-label"),u=e("ion-item"),d=e("multi-column-view"),m=e("view-port");return o(),l(m,null,{default:s(()=>[c(d,{style:{width:"100%"},class:"view-port-content",items:t.listData,numberOfColumns:t.columnsPerRow},{default:s(({entries:h})=>[(o(!0),x(C,null,y(h,(a,f)=>(o(),l(u,{onClick:E=>t.onselect(a),color:t.selected===a.label?"primary":"",lines:"none",style:{"margin-bottom":"10px",padding:"0px",width:"100%"},class:"his-card clickable his-md-text",key:f},{default:s(()=>[c(r,{class:"ion-text-wrap"},{default:s(()=>[g(k(a.label),1)]),_:2},1024)]),_:2},1032,["onClick","color"]))),128))]),_:1},8,["items","numberOfColumns"])]),_:1})}const L=v($,[["render",I]]);export{L as default};
