import{d as p,r as m,ai as _,d_ as v,e0 as t,H as f,t as T,aj as h,a as E,c as b,w as x,b as S,u as i,b0 as D,f as R}from"./index-4ZhJu3VE.js";import{H as A}from"./HisStandardForm-K1lIrz3_.js";import{u as C}from"./useEncounter-BL6Y94J5.js";import"./isEmpty-Cw9u0tW9.js";import"./encounter_guidelines-DE8ypU-x.js";import"./GuidelineEngine-D6V1_Znr.js";const g=p({__name:"Result",setup(F){const r=m([]),o={[t("MICROSCOPY")]:{label:"Microscopy",value:"/tb/results/microscopy"},[t("XPERT_MTB_RIF")]:{label:"Xpert MTB/RIF",value:"/tb/results/xpert"},[t("LPA")]:{label:"LPA",value:"/tb/results/lpa"},[t("LAM")]:{label:"LAM",value:"/tb/results/lam"},[t("CULTURE_AND_DST")]:{label:"Culture and DST",value:"/tb/results/culture"}},{patientDashboardUrl:l,patientId:u}=C((a,s)=>{const d=()=>{const n={};return{id:"examination",helpText:"Recent Examination(s):",type:_.TT_SELECT,init:async()=>{try{(await v.getRecentOrders(s)).observations.forEach(e=>{e.concept_id===t("TEST_REQUESTED")&&o[e.value_coded]&&!n[e.value_coded]&&(n[e.value_coded]={...o[e.value_coded],other:f.toStandardHisFormat(e.obs_datetime)})})}catch(e){console.error("".concat(e)),T("No recent results found")}return!0},validation:e=>h.required(e),options:()=>Object.values(n)}};r.value=[d()]});function c(a){D.push("".concat(a.examination.value,"/").concat(u.value,"?date=").concat(a.examination.other))}return(a,s)=>(E(),b(i(R),null,{default:x(()=>[S(A,{cancelDestinationPath:i(l),onFinishAction:c,fields:r.value,skipSummary:!0},null,8,["cancelDestinationPath","fields"])]),_:1}))}});export{g as default};
