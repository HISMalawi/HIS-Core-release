import{d as I,I as T,c4 as P,bn as V,i as F,j as H,H as g,S as d,cd as N,ax as B,V as n,ab as O,a$ as y,O as i,_ as $,r as o,o as w,x,b as l,w as a,F as z,u as c,v as s,z as A,A as t,a3 as Y,a4 as E}from"./index-DxdybAew.js";import{b as L}from"./Export-CGhzIHAA.js";import{D as R}from"./DrillPatientIds-K47YybRB.js";import{M as U}from"./PopupKeyboard-DFLyy2vg.js";import{F as u}from"./dynamic-import-helper-Bsjrd6Ro.js";import"./TableView-BMP4Cq_5.js";import"./fuse-YdZE3OCN.js";import"./HisKeyboard-CZgk3v_8.js";import"./HisKbConfigurations-GhFQZvlg.js";import"./KbLayouts-VRA-vjeH.js";import"./BaseKeyboard-yRYQiwHX.js";import"./KbHandler-BuQ4TFU6.js";import"./SIngleTouchField-Dzrr97X9.js";import"./TouchScreenForm-CWGDOcQm.js";import"./ToolbarMediumCard-DpQmY2Av.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-Bxq2iSVB.js";import"./HisKeypad-CHYdNWl7.js";const j=I({components:{IonPage:T,IonLoading:P,HisFooter:V,IonToolbar:F,IonHeader:H},data:()=>({logo:"/assets/images/login-logos/Malawi-Coat_of_arms_of_arms.png",reportTitle:"Monthly MOH DHIS2",reportPeriod:"Jan 23 2023 - Oct 4 2023",btns:[],date:g.toStandardHisDisplayFormat(d.getSessionDate()),apiVersion:d.getApiVersion(),coreVersion:d.getCoreVersion(),isLoading:!1,indicators:{type:Object,default:()=>({})},syncBtn:N,calendarBtn:B,startDate:"",endDate:"",reportType:""}),created(){this.btns=this.getBtns(),U([{id:"dhis2_report",helpText:"Select DHIS2 Report",type:u.TT_SELECT,validation:e=>n.required(e),computedValue:e=>e.value,options:()=>[{label:"ANC Monthly Facility Report",value:"ANC Monthly Facility Report"},{label:"HMIS-15",value:"HMIS-15"},{label:"IDSR Monthly",value:"IDSR Monthly"}]},{id:"year",helpText:"Select Year",type:u.TT_NUMBER,computedValue:e=>e.value,validation:e=>{const r=O.isPlainObject(e)?e.value:-1;return n.validateSeries([()=>n.required(e),()=>isNaN(parseInt("".concat(r)))?["Invalid year"]:null,()=>n.rangeOf(e,2e3,g.getYear(d.getSessionDate()))])}},{id:"month",helpText:"Select Month",type:u.TT_SELECT,validation:e=>n.required(e),computedValue:e=>e.value,options:()=>[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}]}],e=>{this.startDate="".concat(e.year.value,"-").concat(e.month.value,"-01"),this.endDate=y(new Date(this.startDate).toISOString()).endOf("month").format("YYYY-MM-DD"),this.reportType="".concat(e.dhis2_report.value),this.onPeriod(),i.dismiss()})},methods:{async onPeriod(){return this.reportPeriod=this.toDate(this.startDate)+" - "+this.toDate(this.endDate),this.reportTitle=this.reportTitle+": "+this.reportType,null},toDate(e){return e&&y(e).format("DD/MMM/YYYY")},async drilldown(e,r){(await i.create({component:R,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e,subtitle:this.reportPeriod,patientIdentifiers:r,onFinish:()=>i.getTop().then(h=>h&&i.dismiss())}})).present()},exportToCsv(){return null},printSpec(){const e=document.getElementById("report-content");e&&L("\n                    <html>\n                        <head>\n                        <title>Print Cohort</title>\n                        <style> \n                            .numbers {\n                            width: 2.5%;\n                            text-align: center;\n                            border-width: 0px 1px 0px 0px;\n                            border-style: dotted;\n                            }\n                            .row-title {\n                            width: 17.75%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            }\n                            .signatures {\n                            width: 39.875%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            }\n                            .row-name {\n                            width: 39.875%;\n                            text-align: left;\n                            padding-left: 5px;\n                            border-style: dotted;\n                            border-left-style: solid;\n                            }\n                            .no-borders {\n                            border-width: 0px;\n                            }\n                            #version-row td {\n                            height: 30px;\n                            }\n                            #version {\n                            text-align: right;\n                            padding-right: 5px;\n                            font-size: 10px;\n                            }\n                            #consistency_check div {\n                            color: red;\n                            padding-bottom: 10px;\n                            }\n                            a {\n                            color: black;\n                            text-decoration: none;\n                            }\n                            table {\n                            width: 100%;\n                            border-collapse: collapse;\n                            margin-top: 10px;\n                            }\n                            tr {\n                            height: 45px;\n                            }\n                            .vertical-separator {\n                            border-width: 0px;\n                            }\n                            td {\n                            border-style: solid;\n                            border-width: 1px;\n                            padding: 1em;\n                            text-align: center;\n                            }\n                            .section-description td {\n                            border-width: 0px;\n                            }\n                            .horisonatl-separator td {\n                            border-width: 0px;\n                            }\n                            .numbers {\n                            width: 2.5%;\n                            text-align: center;\n                            border-width: 0px 1px 0px 0px;\n                            border-style: dotted;\n                            }\n                            .sum-arrows {\n                            width: 75px;\n                            height: 55px;\n                            }\n                            .postfixes {\n                            font-size: x-small;\n                            font-weight: bold;\n                            position: relative;\n                            top: -15px;\n                            left: -40px;\n                            }\n                            .granules {\n                            width: 100%;\n                            height: 32px;\n                            margin: 10px;\n                            display: table;\n                            }\n                            .granules-row {\n                            display: table-row;\n                            }\n                            .granules-cell {\n                            display: table-cell;\n                            text-align: center;\n                            }\n                            .granules span{\n                            font-size: 10px;\n                            }\n                            .granules-right-td {\n                            border-right-style: dotted !important;\n                            border-right-width: 1px;\n                            }\n\n                            @media print\n                            {\n                            table { page-break-after:auto }\n                            tr    { page-break-inside:avoid; page-break-after:auto }\n                            td    { page-break-inside:avoid; page-break-after:auto }\n                            thead { display:table-header-group }\n                            tfoot { display:table-footer-group }\n                            }\n                        </style>\n                        </head>\n                        <body>\n                        ".concat(e.innerHTML,"\n                        </body>\n                    </html>\n                    "))},regenerate(){return null},getBtns(){return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:()=>this.exportToCsv()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:()=>this.printSpec()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:()=>this.$router.push({path:"/"})}]}}}),J=e=>(Y("data-v-e3253088"),e=e(),E(),e),q={key:0},G={class:"his-sm-text"},K=J(()=>t("div",{class:"table-container",id:"report-content"},[t("table",{id:"t_id"},[t("thead",null,[t("tr",null,[t("th",{style:{border:"none",width:"207px","background-color":"white"}}),t("th",{style:{border:"none",width:"118px","background-color":"white"}}),t("th",{style:{width:"64px"}},"Out-patient"),t("th",{colspan:"2",style:{width:"217px"}},"In-patient")]),t("tr",null,[t("th",{style:{border:"none","min-width":"50px",width:"229px","background-color":"white"}}),t("th",{style:{border:"none",width:"241px","background-color":"white"}}),t("td",{style:{"min-width":"50px","max-width":"50px",width:"207px","font-weight":"bold"}}," Cases "),t("td",{style:{"min-width":"50px","max-width":"50px",width:"118px","font-weight":"bold"}}," Cases "),t("td",{style:{"min-width":"50px","max-width":"50px",width:"64px","font-weight":"bold"}}," Deaths ")])]),t("tbody",null,[t("tr",null,[t("td",{class:"left",rowspan:"2",style:{width:"217px"}}," Malaria < 5 years "),t("td",{class:"left",style:{width:"229px"}}," Uncomplicated "),t("td",{style:{width:"241px"}}," 0 "),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left"}," Severe "),t("td",{class:"disable"}),t("td",null," 0 "),t("td",null," 0 ")]),t("tr",null,[t("td",{class:"left",rowspan:"2"}," Malaria >= 5 years "),t("td",{class:"left"}," Uncomplicated "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left"}," Severe "),t("td",{class:"disable"}),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",rowspan:"2"}," Malaria in Pregnant women "),t("td",{class:"left"}," Uncomplicated "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left"}," Severe "),t("td",{class:"disable"}),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," In-patient malaria with severe anemia (<5y) "),t("td",{class:"disable"}),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Uncomplicated malaria <5y, lab-confirmed "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Uncomplicated malaria <5+, lab-confirmed "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Pneumonia (<5 years) "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Severe pneumonia (<5 years) "),t("td",{class:"disable"}),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Very severe pneumonia (<5 years) "),t("td",{class:"disable"}),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Diarrhoea with dehydration "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," New AIDS cases "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Male urethral discharge "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Male non-vesicular genital ulcer "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Female non-vesicular genital ulcer "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Diarrhoea with blood "),t("td",null,"0"),t("td",{class:"disable"}),t("td",{class:"disable"})]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Schistosomiasis urinary "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left",colspan:"2"}," Schistosomiasis intestinal "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",{style:{border:"none"}},[t("td",{style:{border:"none"}},"   "),t("td",{style:{border:"none","background-color":"white"}}),t("td",{style:{border:"none","background-color":"white"}}),t("td",{style:{border:"none","background-color":"white"}}),t("td",{style:{border:"none","background-color":"white"}})]),t("tr",null,[t("td",{class:"bold",style:{border:"none","background-color":"white"}}),t("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," Out-patient "),t("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," In-patient "),t("td",{class:"bold",style:{"background-color":"#f0f0f0","font-weight":"bold"}}," Deaths ")]),t("tr",null,[t("td",{class:"left"}," AFP "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Cholera "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Measles "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Meningitis "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Neonatal tetanus "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Plague "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Viral Hemorrhagic Fever "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")]),t("tr",null,[t("td",{class:"left"}," Diarrhoea with blood "),t("td",null,"0"),t("td",null,"0"),t("td",null,"0")])])])],-1));function Q(e,r,h,W,X,Z){const _=o("ion-loading"),v=o("ion-title"),b=o("ion-icon"),m=o("ion-button"),D=o("ion-buttons"),f=o("ion-toolbar"),S=o("ion-header"),p=o("ion-chip"),k=o("ion-footer"),M=o("his-footer"),C=o("ion-page");return w(),x(z,null,[l(_,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),l(C,null,{default:a(()=>[l(S,null,{default:a(()=>[l(f,null,{default:a(()=>[l(v,{class:"his-md-text"},{default:a(()=>[c(s(e.reportTitle)+" ",1),e.reportPeriod?(w(),x("br",q)):A("",!0),t("span",G,s(e.reportPeriod),1)]),_:1}),l(D,{slot:"end"},{default:a(()=>[l(m,{onClick:e.regenerate},{default:a(()=>[l(b,{size:"large",icon:e.calendarBtn},null,8,["icon"])]),_:1},8,["onClick"]),l(m,{onClick:e.regenerate,color:"success",size:"large"},{default:a(()=>[l(b,{size:"large",icon:e.syncBtn},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),K,l(k,null,{default:a(()=>[l(f,null,{default:a(()=>[l(p,{color:"primary"},{default:a(()=>[c("Date Created: "),t("b",null,s(e.date),1)]),_:1}),l(p,{color:"primary"},{default:a(()=>[c("His-Core Version: "),t("b",null,s(e.coreVersion),1)]),_:1}),l(p,{color:"primary"},{default:a(()=>[c("API Version: "),t("b",null,s(e.apiVersion),1)]),_:1})]),_:1})]),_:1}),l(M,{btns:e.btns},null,8,["btns"])]),_:1})],64)}const yt=$(j,[["render",Q],["__scopeId","data-v-e3253088"]]);export{yt as default};
