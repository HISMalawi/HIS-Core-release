System.register(["./index-legacy-CG62t_LC.js","./anc_global_props-legacy-Cve_WB2s.js","./HisStandardForm-legacy-5PZ9uknc.js"],(function(e,a){"use strict";var t,n,i,r,o,u,c,l,s,d,p,y,f,m,T,_,v,I,h,L;return{setters:[e=>{t=e.d,n=e.r,i=e.au,r=e.al,o=e.o,u=e.ai,c=e.aj,l=e.a,s=e.c,d=e.w,p=e.b,y=e.u,f=e.f,m=e.ag,T=e._,_=e.e,v=e.aP},e=>{I=e.a,h=e.A},e=>{L=e.H}],execute:function(){e("default",t({__name:"SetPreferences",setup(e){const a=n(""),t=i(),S=r(),C=[...function(){const e=I.APPOINTMENT_LIMIT;return[{id:e,helpText:"Enter Appointment Limit",type:u.TT_NUMBER,computedValue:e=>e.value,condition:()=>g(e),defaultValue:()=>h.appointmentLimit(),validation:e=>c.required(e)}]}(),...function(){const e=I.CLINIC_DAYS;return[{id:e,helpText:"Set Clinic day(s)",type:u.TT_MULTIPLE_SELECT,condition:()=>g(e),computedValue:e=>(e=>e.map((e=>e.value)).join())(e),validation:e=>c.required(e),options:async()=>{return e=await h.clinicDays(),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((a=>({label:a,value:a,isChecked:!v.isEmpty(e)&&e.search(a)>=0})));var e}}]}(),...function(){const e=I.CLINIC_HOLIDAYS;return[{id:e,helpText:"Set clinic holiday(s)",type:u.TT_CLINIC_HOLIDAY_PICKER,condition:()=>g(e),computedValue:e=>e.value,defaultValue:()=>h.clinicHolidays(),validation:e=>c.required(e)}]}()];function g(e){return console.log("prop",e,a.value),e===a.value}async function A(e,a){try{for(const e in a)await m.set(e,a[e]),T("Property has been updated",2e3);S.back()}catch(t){console.error(t),_("An error occurred while saving the preferences")}}return o((()=>a.value=t.name)),(e,a)=>(l(),s(y(f),null,{default:d((()=>[p(L,{fields:C,onFinishAction:A,skipSummary:!0})])),_:1}))}}))}}}));
