import k from"./SelectMixin-DaF8Uflv.js";import{d as w,aZ as d,ak as V,ap as a,h as l,b as i,e as o,a as r,a6 as c,w as n,a9 as h,aa as v,j as C,t as K}from"./index-SU-Girx6.js";import"./BaseTextInput-C4npn7GE.js";import"./FieldMixin.vue_vue_type_script_lang-eX688uCJ.js";const $=w({name:"HisSelect",mixins:[k],data:()=>({isInit:!1}),watch:{clear(){this.clearSelection()}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.isInit||await this.setDefaultValue(),this.isInit=!0},async setDefaultValue(){if(this.defaultValue){const e=await this.defaultValue(this.fdata,this.cdata,this.selected);if(e){const s=d.find(this.listData,{label:e})||d.find(this.listData,{value:e});s?this.onselect(s):(this.selected=e,this.filter=e)}}},async onselect(e){if(this.selected=e.label,this.onValue&&!await this.onValue(e,this)){this.selected="";return}this.$emit("onValue",e)}}}),D=["innerHTML"];function g(e,s,S,F,H,I){const u=a("his-text-input"),f=a("ion-label"),p=a("ion-item"),b=a("ion-list"),_=a("view-port"),m=a("his-keyboard");return i(),l(h,null,[o(_,{showFull:!e.showKeyboard},{default:n(()=>[o(u,{readonly:!e.showKeyboard,value:e.selected,onOnValue:s[0]||(s[0]=t=>e.onKbValue(t,e.showKeyboard))},null,8,["readonly","value"]),o(b,{class:"view-port-content"},{default:n(()=>[(i(!0),l(h,null,v(e.filtered,(t,y)=>(i(),r(p,{class:"his-md-text",button:"",color:t.label===e.selected?"lightblue":"",lines:t.isChecked?"none":"",key:y,disabled:!!("disabled"in t&&t.disabled),onClick:B=>e.onselect(t)},{default:n(()=>[o(f,null,{default:n(()=>[C(K(t.label)+" ",1),t.description?(i(),l("p",{key:0,class:"his-sm-text",innerHTML:t.description.text},null,8,D)):c("",!0)]),_:2},1024)]),_:2},1032,["color","lines","disabled","onClick"]))),128))]),_:1})]),_:1},8,["showFull"]),e.showKeyboard?(i(),r(m,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):c("",!0)],64)}const x=V($,[["render",g],["__scopeId","data-v-d6a4750a"]]);export{x as default};
