import{d as b,bk as w,f as k,dG as V,dH as C,ae as $,am as g,_ as O,r as l,o as a,x as s,b as o,w as r,A as u,B as c,y as h,u as f,v as x,ax as B}from"./index-PKQE-5WY.js";import{_ as D}from"./FieldMixin.vue_vue_type_script_lang-CzIW73qd.js";const N=b({components:{ViewPort:w,IonButton:k,IonTextarea:V},mixins:[D],data:()=>({value:"",capsOn:!1,layout:C}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),await this.setDefaultValue()},async setDefaultValue(){if(this.defaultValue&&!this.value){const t=await this.defaultValue(this.fdata,this.cdata);t&&($.isPlainObject(t)?(this.emitValue(t),this.value=t.value.toString()):(this.value=t,this.emitValue({label:t,value:t})))}},updateKeyboardCaps(t=!1){this.layout=this.layout.map(e=>e.map(i=>t?i.toUpperCase():i.toLowerCase()))},async emitValue(t){this.onValue&&!await this.onValue(t)||(this.value=t.label,this.$emit("onValue",t))},async onKbValue(t){await this.emitValue({label:t,value:t})},async keypress(t){const e=g(this.capsOn?t.toUpperCase():t.toLowerCase(),this.value);if(e.match(/caps/i)){this.capsOn=!this.capsOn,this.updateKeyboardCaps(this.capsOn);return}await this.emitValue({label:e,value:e})}},watch:{clear(){this.value=""}}}),A={class:"his-floating-keyboard"},E={class:"his-floating-keyboard-content"},K={style:{width:"99.9%"}};function L(t,e,i,S,F,H){const _=l("ion-textarea"),m=l("view-port"),d=l("ion-button");return a(),s(c,null,[o(m,{showFull:!1},{default:r(()=>[o(_,{rows:"6",cols:"20",readonly:"",value:t.value,placeholder:"Start typing....",class:"input_display"},null,8,["value"])]),_:1}),u("div",A,[u("div",E,[u("table",K,[(a(!0),s(c,null,h(t.layout,(p,y)=>(a(),s("tr",{key:y},[(a(!0),s(c,null,h(p,(n,v)=>(a(),s("td",{key:v},[o(d,{style:{"text-transform":"none"},strong:"",onClick:I=>t.keypress(n),class:B("key__button ".concat(n.toLowerCase(),"_btn"))},{default:r(()=>[f(x(n),1)]),_:2},1032,["onClick","class"])]))),128))]))),128))])]),o(d,{onClick:e[0]||(e[0]=p=>t.keypress("space")),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:r(()=>[f(" Space ")]),_:1})])],64)}const z=O(N,[["render",L],["__scopeId","data-v-661413fc"]]);export{z as default};
