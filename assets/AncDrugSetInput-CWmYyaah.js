import{d as w,br as F,aq as b,as as D,ar as $,bq as g,O as C,cT as E,F as _,ah as I,V as h,_ as T,r as s,o as r,c as p,w as a,A as l,b as i,x as k,B as V,y as x,v as z,a8 as B,a9 as S}from"./index-C6EjxQ0a.js";import{_ as A}from"./FieldMixin.vue_vue_type_script_lang-x6nXcbrX.js";const N=w({components:{ViewPort:F,IonGrid:b,IonCol:D,IonRow:$,IonInput:g},mixins:[A],data:()=>({listData:[]}),watch:{listData:{handler(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},mounted(){this.init()},activated(){this.init()},methods:{clearValue(){this.listData=this.listData.filter(t=>(t.other.frequency="",t.other.quantity="",!0))},async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata,this.cdata,this.listData)},async launchEditor(t,e){(await C.create({component:E,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:t,onFinish:e}})).present()},editFrequency(t){this.launchEditor({id:"edit_frequency",helpText:"Edit Frequency for ".concat(t.label),type:_.TT_SELECT,defaultValue:()=>t.other.frequency,options:()=>I.isEmpty(this.config.drugFrequencies)?[]:this.config.drugFrequencies,validation:e=>h.required(e)},e=>{t.other.frequency=e.value})},editQuantity(t){this.launchEditor({id:"edit_quantity",helpText:"Edit quantity for ".concat(t.label),type:_.TT_NUMBER,defaultValue:()=>t.other.quantity,validation:e=>h.required(e)},e=>{t.other.quantity=parseInt("".concat(e.value))})}}}),d=t=>(B("data-v-d61d903b"),t=t(),S(),t),Q={class:"view-port-content"},L=d(()=>l("b",null," Drugs ",-1)),P=d(()=>l("b",null," Quantity",-1)),R=d(()=>l("b",null," Frequency ",-1)),G={class:"his-card",style:{textAlign:"left"}};function M(t,e,f,O,U,j){const n=s("ion-col"),c=s("ion-row"),u=s("ion-input"),y=s("ion-grid"),m=s("view-port");return r(),p(m,null,{default:a(()=>[l("div",Q,[i(y,null,{default:a(()=>[i(c,null,{default:a(()=>[i(n,{size:"6"},{default:a(()=>[L]),_:1}),i(n,{size:"3"},{default:a(()=>[P]),_:1}),i(n,{size:"3"},{default:a(()=>[R]),_:1})]),_:1}),(r(!0),k(V,null,x(t.listData,(o,q)=>(r(),p(c,{key:q},{default:a(()=>[i(n,{size:"6"},{default:a(()=>[l("div",G,z(o.label),1)]),_:2},1024),i(n,{size:"3"},{default:a(()=>[i(u,{readonly:"",value:o.other.quantity,onClick:v=>t.editQuantity(o),class:"his-card"},null,8,["value","onClick"])]),_:2},1024),i(n,{size:"3"},{default:a(()=>[i(u,{readonly:"",value:o.other.frequency,onClick:v=>t.editFrequency(o),class:"his-card"},null,8,["value","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})}const K=T(N,[["render",M],["__scopeId","data-v-d61d903b"]]);export{K as default};
