import{H as f}from"./HisStandardForm-CNo-jxdn.js";import{b5 as S,d as T,K as _,V as a,o as g,c as h,cl as y,t as s}from"./index-BF3WrZAg.js";import{F as r}from"./dynamic-import-helper-Bsjrd6Ro.js";import{b as E,m as n,r as x}from"./commons-WVpxYEBi.js";import{u as O}from"./useEncounter-ClzFdVn6.js";import"./TouchScreenForm-DEXYdl71.js";import"./ToolbarMediumCard-CJsYT4iG.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-J1DvtW6Z.js";import"./isEmpty-CffWu_Sv.js";import"./_Set-B58czLkU.js";import"./_setToArray-DF-EhxpW.js";import"./encounter_guidelines-DS0UQybO.js";import"./GuidelineEngine-D6V1_Znr.js";class V extends S{constructor(i,o){super(i,84,o)}}const Y=T({__name:"SocialHistory",setup(l){let i;const o=_([]),{goToNextTask:c,patientDashboardUrl:u}=O((e,t)=>{i=new V(t,e),o.value=[d(),m(),b()]});async function p(e,t){if(!await i.createEncounter())return s("Unable to create social history encounter");const v=await x({...t});if(!await i.saveObservationList(v))return s("Unable to save observations");c()}function d(){return{id:"social_acitivites",helpText:"Social Activities",type:r.TT_MULTIPLE_YES_NO,validation:e=>a.validateSeries([()=>a.required(e),()=>a.anyEmpty(e)]),computedValue:e=>({obs:e.map(t=>i.buildValueCoded(t.label,t.value))}),summaryMapValue:e=>({label:e.label,value:e.value}),options:(e,t)=>E(["Patient smokes","Patient drinks alcohol"],t)}}function m(){return{id:"marital_status",helpText:"Marital Status",type:r.TT_SELECT,validation:e=>a.required(e),computedValue:e=>({obs:i.buildValueText("Marital status",e.label)}),options:()=>n(["Single","Engaged","Married","Separated","Widowed","Other"])}}function b(){return{id:"religion",helpText:"Religion",type:r.TT_SELECT,validation:e=>a.required(e),computedValue:e=>({obs:i.buildValueText("Religion",e.label)}),options:()=>n(["Catholic","CCAP","SDA","Angelican","Muslim","Pentecostalism","Jehovah witness","Other"])}}return(e,t)=>(g(),h(f,{cancelDestinationPath:y(u),fields:o.value,onFinishAction:p},null,8,["cancelDestinationPath","fields"]))}});export{Y as default};
