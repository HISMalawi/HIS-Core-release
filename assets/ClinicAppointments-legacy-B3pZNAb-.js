System.register(["./index-legacy-C29Eb2Qm.js","./ReportMixin.vue_vue_type_script_lang-legacy-C9Ns8WHu.js","./BaseTableReport-legacy-C-iFZQIz.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./MultiFieldDateHelper-legacy-DNe3hLpD.js","./KbLayouts-legacy-BKvPSxzZ.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BasicReportTemplate-legacy-Dme8z_3V.js","./Export-legacy-DkNEJvfQ.js","./SIngleTouchField-legacy-BRNk_9sq.js","./Pagination-legacy-mp0eCPy0.js","./HisStandardForm-legacy-BpfFI5_j.js","./TouchScreenForm-legacy-BmEuIwWy.js","./ToolbarMediumCard-legacy-CF38wqjC.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-CDi_rmkw.js"],(function(e,t){"use strict";var n,l,o,a,r,s,i,d,p,c,u,m,h,g,b,f;return{setters:[e=>{n=e.d,l=e.I,o=e.L,a=e.cp,r=e.V,s=e.H,i=e.ce,d=e._,p=e.r,c=e.o,u=e.c,m=e.w,h=e.b},e=>{g=e._},e=>{b=e.R},e=>{f=e.F},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=n({mixins:[g],components:{ReportTemplate:b,IonPage:l},data:()=>({title:"Booked clients",date:"",rows:[],appointments:{},columns:[[o.thTxt("ARV#"),o.thTxt("First name",{csvExportable:!1,pdfExportable:!0}),o.thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),o.thTxt("Gender"),o.thTxt("birthdate"),o.thTxt("Outcome"),o.thTxt("Current Address",{csvExportable:!1,pdfExportable:!0}),o.thTxt("Actions",{csvExportable:!1,pdfExportable:!1})]]}),created(){this.report=new a,this.fields=[{id:"date",helpText:"Select date",type:f.TT_DATE_PICKER,defaultValue:()=>a.getSessionDate(),validation:e=>r.required(e),onValue:async e=>(this.report.setStartDate(e),this.appointments[e]||(this.appointments[e]=await this.report.getBookedAppointments(e)||[]),!0),config:{infoItems:e=>[{label:"Appointments",value:this.appointments[e]?.length||0}]}}]},methods:{onPeriod(e){this.rows=[],this.period=s.toStandardHisDisplayFormat(e.date),this.setRows(this.appointments[e.date])},setRows(e){i(e).asc((e=>e.given_name)).forEach((e=>{this.rows.push([this.tdARV(e.arv_number||"N/A"),o.td(e.given_name),o.td(e.family_name),o.td(this.formatGender(e.gender)),o.tdDate(e.birthdate),o.td(e.outcome),o.td(`District: <br/> <b>${e.district}</b><br/>\n                        Village: <br/> <b>${e.village}</b><br/>\n                        Land-mark: <br/> <b>${e.land_mark}</b><br/>\n                        Cellphone: <br/> <b>${e.cell_phone}</b>`),o.tdBtn("Select",(()=>this.confirmPatient(e.person_id)))])}))}}});e("default",d(t,[["render",function(e,t,n,l,o,a){const r=p("report-template"),s=p("ion-page");return c(),u(s,null,{default:m((()=>[h(r,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,config:{showIndex:!1},encryptPDF:!0,reportPrefix:"Clinic",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
