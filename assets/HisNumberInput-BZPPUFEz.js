import l from"./BaseTextInput--bVY8zLy.js";import{d as u,eh as s,c0 as r,b0 as c,b4 as d,eA as f,ak as h,ap as a,h as p,b as m,e as t,w as b,a9 as _}from"./index-DWvBcSFv.js";import{_ as y}from"./FieldMixin.vue_vue_type_script_lang-DKN5g0H1.js";const k=u({components:{BaseInput:l,HisKeyboard:c,ViewPort:r},mixins:[y],data:()=>({value:"",keyboard:s}),activated(){this.init()},async mounted(){await this.init(),await this.setDefaultValue()},methods:{init(){this.$emit("onFieldActivated",this),typeof this.config.noChars=="boolean"?this.keyboard=this.config.noChars?s:f:this.config.keypad&&(this.keyboard=this.config.keypad)},async setDefaultValue(){if(typeof this.defaultValue=="function"){const e=await this.defaultValue(this.fdata,this.cdata);e&&(this.value="".concat(e))}},onKbValue(e){this.value=e},keypress(e){this.value=d(e,this.value)}},watch:{value(e){this.$emit("onValue",e?{label:e,value:e}:null)},clear(){this.value=""}}});function v(e,V,w,$,g,C){const n=a("base-input"),o=a("view-port"),i=a("his-keyboard");return m(),p(_,null,[t(o,null,{default:b(()=>[t(n,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"])]),_:1}),t(i,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}const N=h(k,[["render",v]]);export{N as default};
