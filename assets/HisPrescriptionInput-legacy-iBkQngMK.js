System.register(["./FieldMixin.vue_vue_type_script_lang-legacy-ZkDhLwbT.js","./index-legacy-BikDJqIc.js","./drug_prescription_service-legacy-BxQxx2x0.js","./drug_order_service-legacy-BxvLFwgL.js","./drug_service-legacy-g2-Z78qg.js"],(function(e,t){"use strict";var n,a,o,l,r,d,s,i,c,u,h,g,p,f,y,v,m,b,_,k,C,q,D,w;return{setters:[e=>{n=e._},e=>{a=e.d,o=e.et,l=e.k,r=e.ac,d=e.aC,s=e.ad,i=e.b5,c=e.ai,u=e.z,h=e.dn,g=e.eD,p=e.ak,f=e.ap,y=e.a,v=e.b,m=e.w,b=e.e,_=e.g,k=e.h,C=e.a9,q=e.aa,D=e.t},e=>{w=e.D},null,null],execute:function(){var t=document.createElement("style");t.textContent="ion-label[data-v-26eef265]{font-weight:700}.border-right[data-v-26eef265]{border-right:solid 1px #ccc}.scroll-list[data-v-26eef265]{height:70vh;overflow:auto}.input_display[data-v-26eef265]{font-size:1.3em}.dosage-input[data-v-26eef265]{text-align:center;border:solid 1px #ccc;height:50px;width:100%;background-color:#fcfcf1}table[data-v-26eef265]{width:100%}.drug-section-style[data-v-26eef265]{padding:0;background:#fff}td[data-v-26eef265],th[data-v-26eef265]{border:solid 1px #3333}th[data-v-26eef265]{padding:.8em}td[data-v-26eef265]{padding:.4em;font-size:.9rem}\n/*$vite$:1*/",document.head.appendChild(t);const I=a({components:{IonInput:c,IonGrid:i,IonCol:s,IonIcon:d,IonRow:r,IonButton:l},mixins:[n],data:()=>({trash:o,drugs:[]}),activated(){this.init()},mounted(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this);const e=await this.options(this.fdata,this.cdata);this.drugs=e.map((e=>(e.other.frequency=this.getFrequency(e),e.other.dosage=this.getDosage(e),void 0===e.other.duration&&(e.other.duration=""),e)))},getFrequency(e){if(e.other.frequency){const t=w.find((t=>t.value===parseInt(e.other.frequency)));if(t)return t.label}return""},getDosage:e=>e.other.dosage?e.other.dosage:e.other.dose_strength?e.other.dose_strength:"",removeDrug(e){this.drugs=this.drugs.filter((t=>t.label!=e.label))},async selectFrequency(e){const t=await u.create({component:g,backdropDismiss:!1,componentProps:{title:`${e.label} Frequency`,list:w.map((e=>e.label)),actionButtons:[{name:"Cancel",color:"danger",slot:"start",role:"default"},{name:"Ok",slot:"end",role:"action"}]}});t.present();const{data:n}=await t.onDidDismiss();"Cancel"!==n.action&&(e.other.frequency=n.selection)},async launchKeyPad(e,t){(await u.create({component:h,backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:`${e.label} ${t}`,preset:e.other[t],strictNumbers:!0,onKeyPress(n){e.other[t]=n}}})).present()}},computed:{},watch:{clear(){this.drugs=this.drugs.map((e=>(e.frequency="",e.duration="",e.dose="",e.units="",e)))},drugs:{async handler(){this.$emit("onValue",this.drugs)},immediate:!0,deep:!0}}});e("default",p(I,[["render",function(e,t,n,a,o,l){const r=f("ion-input"),d=f("ion-icon"),s=f("ion-button"),i=f("ion-col"),c=f("ion-row"),u=f("ion-grid");return v(),y(u,null,{default:m((()=>[b(c,{class:"his-card section drug-section-style"},{default:m((()=>[b(i,null,{default:m((()=>[_("table",null,[t[0]||(t[0]=_("thead",null,[_("tr",null,[_("th",null,"Drug"),_("th",null,"Frequency"),_("th",null,"Dosage"),_("th",null,"Duration"),_("th")])],-1)),_("tbody",null,[(v(!0),k(C,null,q(e.drugs,((t,n)=>(v(),k("tr",{key:n},[_("td",null,[_("b",null,D(t.label),1)]),_("td",null,[b(r,{readonly:"",onClick:n=>e.selectFrequency(t),value:t.other.frequency,class:"dosage-input",placeholder:"Add frequency.."},null,8,["onClick","value"])]),_("td",null,[b(r,{readonly:"",onClick:n=>e.launchKeyPad(t,"dosage"),value:t.other.dosage,placeholder:"Add dosage..",class:"dosage-input"},null,8,["onClick","value"])]),_("td",null,[b(r,{readonly:"",onClick:n=>e.launchKeyPad(t,"duration"),value:t.other.duration,placeholder:"Add duration..",class:"dosage-input"},null,8,["onClick","value"])]),_("td",null,[b(s,{onClick:n=>e.removeDrug(t),color:"danger"},{default:m((()=>[b(d,{icon:e.trash},null,8,["icon"])])),_:1},8,["onClick"])])])))),128))])])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-26eef265"]]))}}}));
