System.register(["./EncounterMixin.vue_vue_type_script_lang-legacy-BYNMg0KB.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./index-legacy--hxN_V8z.js","./encounter_guidelines-legacy-BZk5BWg2.js","./GuidelineEngine-legacy-KsvQuFdF.js","./HisStandardForm-legacy-C7VqHmr3.js","./TouchScreenForm-legacy-DxIQwsU4.js","./ToolbarMediumCard-legacy-CzmL2SiF.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-TUlObaz7.js"],(function(e,n){"use strict";var i,s,t,a,o,l,r,c,u,d,h,g,m,y;return{setters:[e=>{i=e._},e=>{s=e.F},e=>{t=e.b2,a=e.aR,o=e.d,l=e.I,r=e.V,c=e.ab,u=e._,d=e.r,h=e.o,g=e.c,m=e.w,y=e.b},null,null,null,null,null,null,null],execute:function(){class n extends t{constructor(e,n){super(e,83,n)}static surgicalHistoryOptions(){return a.getConceptsByCategory("anc_surgical_history").sort(((e,n)=>e.name>n.name?1:-1))}}const p=o({components:{IonPage:l},mixins:[i],data:()=>({formFields:[],service:{}}),watch:{ready:{handler(e){e&&(this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,i){const s=await this.resolveObs(i),t=new n(this.patientID,this.providerID);await t.createEncounter(),await t.saveObservationList(s),this.nextTask()},surgeryOptions:e=>[...n.surgicalHistoryOptions(),{name:"None"}].map((n=>e({label:n.name,value:"Yes",isChecked:!1}))),getFields(){return[{id:"history",helpText:"Previous Surgical Procedure(s) Done",type:s.TT_MULTIPLE_SELECT,validation:e=>r.required(e),onValueUpdate:(e,n)=>"None"===n.label&&n.isChecked?e.map((e=>("None"!=e.label&&(e.isChecked=!1),e))):("None"!=n.label&&n.isChecked&&(e[c.findIndex(e,{label:"None"})].isChecked=!1),e),computedValue:e=>c.find(e,{label:"None"})?n.buildValueText("Procedure done","None"):e.map((e=>n.buildValueCoded(e.label,`${e.value}`))),options:()=>this.surgeryOptions((e=>e)),config:{footerBtns:[{name:"None",slot:"end",onClickComponentEvents:{refreshOptions:()=>this.surgeryOptions((e=>(e.isChecked="None"===e.label,e)))},onClick:()=>"None"}]}}]}}});e("default",u(p,[["render",function(e,n,i,s,t,a){const o=d("his-standard-form"),l=d("ion-page");return h(),g(l,null,{default:m((()=>[y(o,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])])),_:1})}]]))}}}));
