import{_ as n}from"./EncounterMixin.vue_vue_type_script_lang-04dXkTgr.js";import{bU as r,f as c,d as l,a5 as p,a9 as h,a6 as d,ab as o,u,v as m,w as v,x as f}from"./index-BMVUUxuO.js";import"./encounter_guidelines-BpuRwq-s.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-BJZg4csl.js";class _ extends r{constructor(e,i){super(e,84,i)}printSocialHistory(){return c(this.patientID)}}const y=l({components:{IonPage:p},mixins:[n],data:()=>({service:{}}),watch:{ready:{handler(t){t&&(this.service=new _(this.patientID,this.providerID),this.fields=this.getFields())}}},methods:{async onFinish(t,e){const i=await this.resolveObs(e);await this.service.createEncounter(),await this.service.saveObservationList(i),await this.service.printSocialHistory(),this.nextTask()},getFields(){return[{id:"history",helpText:"Social history",type:h.TT_MULTI_SELECT_GRID,validation:t=>t.map(e=>e.value==="").some(Boolean)?["Please complete selection!!"]:null,computedValue:t=>t.filter(e=>e.value!="").map(e=>this.service.buildValueCoded(e.other.concept,e.value)),options:()=>[{label:"Currently Smoking",value:"",other:{concept:"patient smokes",options:this.yesNoOptions()}},{label:"Currently taking alcohol",value:"",other:{concept:"Currently taking alcohol",options:this.yesNoOptions()}},{label:"Marital status",value:"",other:{concept:"Marital status",options:[this.toOption("Never Married"),this.toOption("Married"),this.toOption("Seperated"),this.toOption("Divorced")]}}]}]}}});function S(t,e,i,b,g,k){const s=o("his-standard-form"),a=o("ion-page");return u(),m(a,null,{default:v(()=>[f(s,{fields:t.fields,skipSummary:!0,onFinishAction:t.onFinish,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const T=d(y,[["render",S]]);export{T as default};
