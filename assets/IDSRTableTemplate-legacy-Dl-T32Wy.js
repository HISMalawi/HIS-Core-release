System.register(["./MOHReportHeader-legacy-B2XN2yUG.js","./index-legacy-Dg5P6bX-.js"],(function(e,t){"use strict";var s,n,o,r,a,i,l,d,c,h,u;return{setters:[e=>{s=e.a},e=>{n=e.d,o=e.D,r=e.L,a=e.a$,i=e.S,l=e._,d=e.r,c=e.o,h=e.x,u=e.b}],execute:function(){const t=n({components:{ReportTable:o},data:function(){return{conditions:[],lessThanFiveYears:" < 5 yrs ",greaterAndEqualFiveYears:" >= 5 yrs ",total:" Total ",tableCssTheme:"opd-report-theme",rows:[],columns:[[r.thTxt("",{colspan:2,sortable:!1,exportable:!1}),r.thTxt("Out-patient Cases",{colspan:3,sortable:!1,exportable:!1})],[r.thTxt(""),r.thTxt("Diseases/Events/Conditions"),r.thTxt("< 5 yrs"),r.thTxt(">= 5 yrs"),r.thTxt("Total")]]}},props:["params","periodDates","quarter","onDrillDown"],methods:{renderResults(){const e=(new s).renderResults(this.params);e.length&&(this.conditions=e,this.rows=this.buildRows(e))},onDownload(e=""){const t=new s;let{CSVString:n}=t.getCSVString(this.conditions);n+=`\n          Date Created: ${a().format("DD/MMM/YYYY HH:MM:ss")}\n          His-Core Version: ${i.getCoreVersion()}\n          API Version: ${i.getApiVersion()}\n          Report Period: ${this.periodDates}\n          Site: ${i.getLocationName()}\n          Site UUID: ${i.getSiteUUID()}`;const o=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(o,"exportFilename");else{const t=document.createElement("a");t.href=window.URL.createObjectURL(o),t.setAttribute("download",`${e}.csv`),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},buildRows(e){const t=[];return e.forEach((e=>{t.push([r.td(e.id,{style:{textAlign:"left"}}),r.td(e.name,{style:{textAlign:"left"}}),this.buildRow(this.lessThanFiveYears+"("+e.name+")",e.lessThanFiveYears,e.lessThanFiveYearsPatientIds),this.buildRow(this.greaterAndEqualFiveYears+"("+e.name+")",e.greaterThanEqualFiveYears,e.greaterThanEqualFiveYearsPatientIds),this.buildRow(this.total+"("+e.name+")",e.total,e.totalPatientIds)])})),t},buildRow(e,t,s){return"string"==typeof t?r.td(""):t>0?r.tdLink(t,(async()=>this.onDrillDown(e,s))):r.td(0)}},watch:{params:{immediate:!0,handler(){this.renderResults()}}}}),m={class:"my-table",style:{margin:"auto",width:"95%","margin-top":"3%","margin-bottom":"3%"}};e("M",l(t,[["render",function(e,t,s,n,o,r){const a=d("report-table");return c(),h("div",m,[u(a,{columns:e.columns,rows:e.rows,config:{tableCssTheme:e.tableCssTheme}},null,8,["columns","rows","config"])])}]]))}}}));
