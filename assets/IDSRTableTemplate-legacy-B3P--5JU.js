System.register(["./MOHReportHeader-legacy-CHDBjGHE.js","./index-legacy-CA6M7ipO.js"],(function(e,t){"use strict";var s,n,a,o,r,i,l,d,c,h,u;return{setters:[e=>{s=e.a},e=>{n=e.d,a=e.aq,o=e.as,r=e.bC,i=e.ao,l=e.aa,d=e.af,c=e.a,h=e.E,u=e.b}],execute:function(){const t=n({components:{ReportTable:a},data:function(){return{conditions:[],lessThanFiveYears:" < 5 yrs ",greaterAndEqualFiveYears:" >= 5 yrs ",total:" Total ",tableCssTheme:"opd-report-theme",rows:[],columns:[[o.thTxt("",{colspan:2,sortable:!1,exportable:!1}),o.thTxt("Out-patient Cases",{colspan:3,sortable:!1,exportable:!1})],[o.thTxt(""),o.thTxt("Diseases/Events/Conditions"),o.thTxt("< 5 yrs"),o.thTxt(">= 5 yrs"),o.thTxt("Total")]]}},props:["params","periodDates","quarter","onDrillDown"],methods:{renderResults(){const e=(new s).renderResults(this.params);e.length&&(this.conditions=e,this.rows=this.buildRows(e))},onDownload(e=""){const t=new s;let{CSVString:n}=t.getCSVString(this.conditions);n+=`\n          Date Created: ${r().format("DD/MMM/YYYY HH:MM:ss")}\n          His-Core Version: ${i.getCoreVersion()}\n          API Version: ${i.getApiVersion()}\n          Report Period: ${this.periodDates}\n          Site: ${i.getLocationName()}\n          Site UUID: ${i.getSiteUUID()}`;const a=new Blob([n],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,"exportFilename");else{const t=document.createElement("a");t.href=window.URL.createObjectURL(a),t.setAttribute("download",`${e}.csv`),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},buildRows(e){const t=[];return e.forEach((e=>{t.push([o.td(e.id,{style:{textAlign:"left"}}),o.td(e.name,{style:{textAlign:"left"}}),this.buildRow(this.lessThanFiveYears+"("+e.name+")",e.lessThanFiveYears,e.lessThanFiveYearsPatientIds),this.buildRow(this.greaterAndEqualFiveYears+"("+e.name+")",e.greaterThanEqualFiveYears,e.greaterThanEqualFiveYearsPatientIds),this.buildRow(this.total+"("+e.name+")",e.total,e.totalPatientIds)])})),t},buildRow(e,t,s){return"string"==typeof t?o.td(""):t>0?o.tdLink(t,(async()=>this.onDrillDown(e,s))):o.td(0)}},watch:{params:{immediate:!0,handler(){this.renderResults()}}}}),m={class:"my-table",style:{margin:"auto",width:"95%","margin-top":"3%","margin-bottom":"3%"}};e("M",l(t,[["render",function(e,t,s,n,a,o){const r=d("report-table");return c(),h("div",m,[u(r,{columns:e.columns,rows:e.rows,config:{tableCssTheme:e.tableCssTheme}},null,8,["columns","rows","config"])])}]]))}}}));
