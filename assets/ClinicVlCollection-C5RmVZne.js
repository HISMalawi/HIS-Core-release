import{d as g,a5 as b,r,ap as _,t as D,as as v,co as C,d8 as u,c_ as V,O as h,a6 as w,v as L,w as B,ab as f,u as N,x as R}from"./index-CyYd6aWW.js";import{v as S}from"./TableView-KUf7rG9H.js";import{V as $}from"./viral_load_report-DX56H0xO.js";import{a as E,c as F,w as G}from"./v2utils-Ce6mchJu.js";const I=g({components:{IonPage:b,v2Datatable:S},setup(){const e=r([]),l=r(""),i=r(!1),t=new $,s=r(!1),c=_(()=>[[s.value?{label:"Filing#",ref:"identifier"}:E("identifier"),{label:"First name",ref:"given_name",exportable:!1},{label:"Last name",ref:"family_name",exportable:!1},{label:"Gender",ref:"gender",toValue:a=>C(a)},{label:"DOB",ref:"birthdate",toValue:a=>u(a)},{label:"Date of VL Order",ref:"order_date",toValue:a=>u(a)},F()]]),o=()=>G(async()=>{if(!(t.startDate&&t.endDate))return h("Start date and end date required!");e.value=[],e.value=await t.getVlCollection()}),n=()=>V({onFinish:(a,p,m,d)=>{d&&t.setOccupation(d),l.value="".concat(m),t.startDate=a,t.endDate=p,o()}});return D(()=>{v.get("IS_ART_FILING_NUMBER_ENABLED").then(a=>s.value=a),!e.value.length&&n()}),{reportData:e,isLoading:i,configure:n,generate:o,columns:c,period:l}}});function O(e,l,i,t,s,c){const o=f("v2Datatable"),n=f("ion-page");return N(),L(n,null,{default:B(()=>[R(o,{title:"VL Collection","default-sort-order":"asc","default-sorted-column":"identifier",subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:50,onConfigure:e.configure,onRefresh:()=>e.generate(),"report-prefix":"Clinic"},null,8,["subtitle","columns","columnData","onConfigure","onRefresh"])]),_:1})}const y=w(I,[["render",O]]);export{y as default};
