System.register(["./index-legacy-X--GYU37.js","./TableView-legacy-TJC-wvFY.js","./cxca_report_service-legacy-2t8j3V7D.js","./ReportDateSelectionPrompt-legacy-Nxh72iIR.js","./DrillPatientIds-legacy-Ex7St1VQ.js","./PopupKeyboard-legacy-BWPBlSAT.js","./SIngleTouchField-legacy-DTkEGDmJ.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./TouchScreenForm-legacy-C_f8Ho2H.js","./ToolbarMediumCard-legacy-CdhT4OJW.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-1het9QhE.js","./HisKeypad-legacy-BCRIc7Jq.js","./BaseKeyboard-legacy-CHBQXo1z.js","./KbLayouts-legacy-BKvPSxzZ.js","./KbHandler-legacy-De8o5nTq.js","./overlays-04a9a43f-legacy-lkJ5ZVky.js","./fuse-legacy-CQoBB3MK.js","./Export-legacy-DuqLSep7.js","./HisKeyboard-legacy-xCeSPKZ_.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./MultiFieldDateHelper-legacy-CxOWifLo.js"],(function(e,a){"use strict";var t,l,r,o,n,s,c,i,u,p,d,g,_,y,m,f,v,h,b;return{setters:[e=>{t=e.d,l=e.I,r=e.c4,o=e.N,n=e.K,s=e.t,c=e.q,i=e.O,u=e.cb,p=e._,d=e.r,g=e.o,_=e.c,y=e.w,m=e.b},e=>{f=e.v},e=>{v=e.C},e=>{h=e.D},e=>{b=e.D},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const a=n([]),C=n(""),L=n(""),w=n(""),j=n(!1),$=n(""),P=t({components:{IonPage:l,IonLoading:r,v2Datatable:f},setup(){const e=async(e,a)=>{a.length<=0||(await i.create({component:b,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e,subtitle:w,patientIdentifiers:a,onFinish:()=>i.getTop().then((e=>e&&i.dismiss()))}})).present()},t=[[{label:"#",ref:"index",span:{thRowspan:2}},{label:"Age group",ref:"age_group",span:{thRowspan:2}},{label:"Gender",ref:"gender",exportable:!1,span:{thRowspan:2}},{label:"1st time screened",ref:"",span:{thColspan:3}},{label:"Rescreened after previous negative",ref:"",span:{thColspan:3}},{label:"Post-treatment follow-up",ref:"",span:{thColspan:3}}],[{label:"Cryotherapy",ref:"first_time_screened_cryotherapy",secondaryLabel:"1st screened (cryotherapy)",value:e=>e.first_time_screened.cryotherapy.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.first_time_screened.cryotherapy)},{label:"Thermocoagulation",ref:"first_time_screened_thermocoagulation",secondaryLabel:"1st time screened (Thermocoagulation)",value:e=>e.first_time_screened.thermocoagulation.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.first_time_screened.thermocoagulation)},{label:"LEEP",ref:"first_time_screened_leep",secondaryLabel:"1st screened(leep)",value:e=>e.first_time_screened.leep.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.first_time_screened.leep)},{label:"Cryotherapy",ref:"post_treatment_followup_cryotherapy",secondaryLabel:"Post-treatment followup(Cryotherapy)",value:e=>e.post_treatment_followup.cryotherapy.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.post_treatment_followup.cryotherapy)},{label:"Thermocoagulation",ref:"post_treatment_followup_thermocoagulation",secondaryLabel:"Post-treatment followup (Thermocoagulation)",value:e=>e.post_treatment_followup.thermocoagulation.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.post_treatment_followup.thermocoagulation)},{label:"LEEP",ref:"post_treatment_followup_leep",secondaryLabel:"Post-treatment followup (leep)",value:e=>e.post_treatment_followup.leep.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.post_treatment_followup.leep)},{label:"Cryotherapy",ref:"rescreened_after_prev_visit_cryotherapy",secondaryLabel:"Rescreen after prev visit (Cryotherapy)",value:e=>e.rescreened_after_prev_visit.cryotherapy.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.rescreened_after_prev_visit.cryotherapy)},{label:"Thermocoagulation",ref:"rescreened_after_prev_visit_thermocoagulation",secondaryLabel:"Rescreen after prev visit (Thermocoagulation)",value:e=>e.rescreened_after_prev_visit.thermocoagulation.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.rescreened_after_prev_visit.thermocoagulation)},{label:"LEEP",ref:"rescreened_after_prev_visit_leep",secondaryLabel:"Rescreen after prev visit (leep)",value:e=>e.rescreened_after_prev_visit.leep.length,tdClick:({column:a,data:t})=>e(`${t.age_group} ${a.secondaryLabel}`,t.rescreened_after_prev_visit.leep)}]],l=async()=>{if(!C.value||!L.value)return s("Start date and end date required!");j.value=!0,a.value=[];const e=new v;e.startDate=C.value,e.endDate=L.value;try{a.value=(await e.getClinicReport("CXCA TX")).slice(5).map(((e,a)=>(e.index=a+1,e.gender="Female",e)))}catch(t){c("Unable to generate report!")}j.value=!1},r=()=>h({onFinish:(e,a,t)=>{C.value=e,L.value=a,w.value=`Period (${t})`,$.value=`${u(C.value)} to ${u(L.value)}`,l()}});return o((()=>!a.value.length&&r())),{columns:t,isLoading:j,reportData:a,period:w,csvQuarter:$,generate:l,configure:r}}});e("default",p(P,[["render",function(e,a,t,l,r,o){const n=d("ion-loading"),s=d("v2Datatable"),c=d("ion-page");return g(),_(c,null,{default:y((()=>[m(n,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),m(s,{title:"CXCA TX Report",subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:25,onConfigure:e.configure,csvQuarter:e.csvQuarter,onRefresh:()=>e.generate()},null,8,["subtitle","columns","columnData","onConfigure","csvQuarter","onRefresh"])])),_:1})}]]))}}}));
