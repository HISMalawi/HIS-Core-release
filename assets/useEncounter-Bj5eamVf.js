import{cq as wr,C as tr,r as D,o as Jr,u as Qr,aD as z,ax as Wr,as as Vr,be as x}from"./index-qFt4YszW.js";import{_ as Y,a as A,b as J,c as Dr,d as kr,e as xr,f as Mr,g as jr,h as Lr,j as Gr,k as re,l as I,m as ee,n as Q,o as ae,p as te,i as ne}from"./isEmpty-1LErKKNT.js";import{F as E,E as ie}from"./encounter_guidelines-CLmFwnI6.js";import{m as se}from"./GuidelineEngine-D6V1_Znr.js";function ue(r,e){for(var a=-1,t=e.length,n=r.length;++a<t;)r[n+a]=e[a];return r}var Fr=ue,nr=Y,fe=J,oe=A,ir=nr?nr.isConcatSpreadable:void 0;function _e(r){return oe(r)||fe(r)||!!(ir&&r&&r[ir])}var ce=_e,ve=Fr,le=ce;function Nr(r,e,a,t,n){var i=-1,s=r.length;for(a||(a=le),n||(n=[]);++i<s;){var u=r[i];e>0&&a(u)?e>1?Nr(u,e-1,a,t,n):ve(n,u):t||(n[n.length]=u)}return n}var he=Nr;function pe(r,e){for(var a=-1,t=r==null?0:r.length,n=Array(t);++a<t;)n[a]=e(r[a],a,r);return n}var Rr=pe,de=kr,$e=Dr,ye="[object Symbol]";function ge(r){return typeof r=="symbol"||$e(r)&&de(r)==ye}var w=ge,be=A,me=w,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ce=/^\w*$/;function Ee(r,e){if(be(r))return!1;var a=typeof r;return a=="number"||a=="symbol"||a=="boolean"||r==null||me(r)?!0:Ce.test(r)||!Ae.test(r)||e!=null&&r in Object(e)}var W=Ee,Oe=xr,Se=Oe(Object,"create"),G=Se,sr=G;function Te(){this.__data__=sr?sr(null):{},this.size=0}var Pe=Te;function Ie(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var we=Ie,De=G,xe="__lodash_hash_undefined__",Me=Object.prototype,Le=Me.hasOwnProperty;function Ge(r){var e=this.__data__;if(De){var a=e[r];return a===xe?void 0:a}return Le.call(e,r)?e[r]:void 0}var Fe=Ge,Ne=G,Re=Object.prototype,He=Re.hasOwnProperty;function Be(r){var e=this.__data__;return Ne?e[r]!==void 0:He.call(e,r)}var Ke=Be,Ue=G,ze="__lodash_hash_undefined__";function qe(r,e){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=Ue&&e===void 0?ze:e,this}var Xe=qe,Ze=Pe,Ye=we,Je=Fe,Qe=Ke,We=Xe;function O(r){var e=-1,a=r==null?0:r.length;for(this.clear();++e<a;){var t=r[e];this.set(t[0],t[1])}}O.prototype.clear=Ze;O.prototype.delete=Ye;O.prototype.get=Je;O.prototype.has=Qe;O.prototype.set=We;var Ve=O;function ke(){this.__data__=[],this.size=0}var je=ke;function ra(r,e){return r===e||r!==r&&e!==e}var V=ra,ea=V;function aa(r,e){for(var a=r.length;a--;)if(ea(r[a][0],e))return a;return-1}var F=aa,ta=F,na=Array.prototype,ia=na.splice;function sa(r){var e=this.__data__,a=ta(e,r);if(a<0)return!1;var t=e.length-1;return a==t?e.pop():ia.call(e,a,1),--this.size,!0}var ua=sa,fa=F;function oa(r){var e=this.__data__,a=fa(e,r);return a<0?void 0:e[a][1]}var _a=oa,ca=F;function va(r){return ca(this.__data__,r)>-1}var la=va,ha=F;function pa(r,e){var a=this.__data__,t=ha(a,r);return t<0?(++this.size,a.push([r,e])):a[t][1]=e,this}var da=pa,$a=je,ya=ua,ga=_a,ba=la,ma=da;function S(r){var e=-1,a=r==null?0:r.length;for(this.clear();++e<a;){var t=r[e];this.set(t[0],t[1])}}S.prototype.clear=$a;S.prototype.delete=ya;S.prototype.get=ga;S.prototype.has=ba;S.prototype.set=ma;var N=S,ur=Ve,Aa=N,Ca=Mr;function Ea(){this.size=0,this.__data__={hash:new ur,map:new(Ca||Aa),string:new ur}}var Oa=Ea;function Sa(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var Ta=Sa,Pa=Ta;function Ia(r,e){var a=r.__data__;return Pa(e)?a[typeof e=="string"?"string":"hash"]:a.map}var R=Ia,wa=R;function Da(r){var e=wa(this,r).delete(r);return this.size-=e?1:0,e}var xa=Da,Ma=R;function La(r){return Ma(this,r).get(r)}var Ga=La,Fa=R;function Na(r){return Fa(this,r).has(r)}var Ra=Na,Ha=R;function Ba(r,e){var a=Ha(this,r),t=a.size;return a.set(r,e),this.size+=a.size==t?0:1,this}var Ka=Ba,Ua=Oa,za=xa,qa=Ga,Xa=Ra,Za=Ka;function T(r){var e=-1,a=r==null?0:r.length;for(this.clear();++e<a;){var t=r[e];this.set(t[0],t[1])}}T.prototype.clear=Ua;T.prototype.delete=za;T.prototype.get=qa;T.prototype.has=Xa;T.prototype.set=Za;var k=T,Hr=k,Ya="Expected a function";function j(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(Ya);var a=function(){var t=arguments,n=e?e.apply(this,t):t[0],i=a.cache;if(i.has(n))return i.get(n);var s=r.apply(this,t);return a.cache=i.set(n,s)||i,s};return a.cache=new(j.Cache||Hr),a}j.Cache=Hr;var Ja=j,Qa=Ja,Wa=500;function Va(r){var e=Qa(r,function(t){return a.size===Wa&&a.clear(),t}),a=e.cache;return e}var ka=Va,ja=ka,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/\\(\\)?/g,at=ja(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(rt,function(a,t,n,i){e.push(n?i.replace(et,"$1"):t||a)}),e}),tt=at,fr=Y,nt=Rr,it=A,st=w,or=fr?fr.prototype:void 0,_r=or?or.toString:void 0;function Br(r){if(typeof r=="string")return r;if(it(r))return nt(r,Br)+"";if(st(r))return _r?_r.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var ut=Br,ft=ut;function ot(r){return r==null?"":ft(r)}var _t=ot,ct=A,vt=W,lt=tt,ht=_t;function pt(r,e){return ct(r)?r:vt(r,e)?[r]:lt(ht(r))}var Kr=pt,dt=w;function $t(r){if(typeof r=="string"||dt(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var H=$t,yt=Kr,gt=H;function bt(r,e){e=yt(e,r);for(var a=0,t=e.length;r!=null&&a<t;)r=r[gt(e[a++])];return a&&a==t?r:void 0}var rr=bt,mt=N;function At(){this.__data__=new mt,this.size=0}var Ct=At;function Et(r){var e=this.__data__,a=e.delete(r);return this.size=e.size,a}var Ot=Et;function St(r){return this.__data__.get(r)}var Tt=St;function Pt(r){return this.__data__.has(r)}var It=Pt,wt=N,Dt=Mr,xt=k,Mt=200;function Lt(r,e){var a=this.__data__;if(a instanceof wt){var t=a.__data__;if(!Dt||t.length<Mt-1)return t.push([r,e]),this.size=++a.size,this;a=this.__data__=new xt(t)}return a.set(r,e),this.size=a.size,this}var Gt=Lt,Ft=N,Nt=Ct,Rt=Ot,Ht=Tt,Bt=It,Kt=Gt;function P(r){var e=this.__data__=new Ft(r);this.size=e.size}P.prototype.clear=Nt;P.prototype.delete=Rt;P.prototype.get=Ht;P.prototype.has=Bt;P.prototype.set=Kt;var Ur=P,Ut="__lodash_hash_undefined__";function zt(r){return this.__data__.set(r,Ut),this}var qt=zt;function Xt(r){return this.__data__.has(r)}var Zt=Xt,Yt=k,Jt=qt,Qt=Zt;function L(r){var e=-1,a=r==null?0:r.length;for(this.__data__=new Yt;++e<a;)this.add(r[e])}L.prototype.add=L.prototype.push=Jt;L.prototype.has=Qt;var Wt=L;function Vt(r,e){for(var a=-1,t=r==null?0:r.length;++a<t;)if(e(r[a],a,r))return!0;return!1}var kt=Vt;function jt(r,e){return r.has(e)}var rn=jt,en=Wt,an=kt,tn=rn,nn=1,sn=2;function un(r,e,a,t,n,i){var s=a&nn,u=r.length,f=e.length;if(u!=f&&!(s&&f>u))return!1;var o=i.get(r),p=i.get(e);if(o&&p)return o==e&&p==r;var h=-1,c=!0,y=a&sn?new en:void 0;for(i.set(r,e),i.set(e,r);++h<u;){var $=r[h],_=e[h];if(t)var l=s?t(_,$,h,e,r,i):t($,_,h,r,e,i);if(l!==void 0){if(l)continue;c=!1;break}if(y){if(!an(e,function(v,d){if(!tn(y,d)&&($===v||n($,v,a,t,i)))return y.push(d)})){c=!1;break}}else if(!($===_||n($,_,a,t,i))){c=!1;break}}return i.delete(r),i.delete(e),c}var zr=un,fn=jr,on=fn.Uint8Array,_n=on;function cn(r){var e=-1,a=Array(r.size);return r.forEach(function(t,n){a[++e]=[n,t]}),a}var vn=cn;function ln(r){var e=-1,a=Array(r.size);return r.forEach(function(t){a[++e]=t}),a}var hn=ln,cr=Y,vr=_n,pn=V,dn=zr,$n=vn,yn=hn,gn=1,bn=2,mn="[object Boolean]",An="[object Date]",Cn="[object Error]",En="[object Map]",On="[object Number]",Sn="[object RegExp]",Tn="[object Set]",Pn="[object String]",In="[object Symbol]",wn="[object ArrayBuffer]",Dn="[object DataView]",lr=cr?cr.prototype:void 0,q=lr?lr.valueOf:void 0;function xn(r,e,a,t,n,i,s){switch(a){case Dn:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case wn:return!(r.byteLength!=e.byteLength||!i(new vr(r),new vr(e)));case mn:case An:case On:return pn(+r,+e);case Cn:return r.name==e.name&&r.message==e.message;case Sn:case Pn:return r==e+"";case En:var u=$n;case Tn:var f=t&gn;if(u||(u=yn),r.size!=e.size&&!f)return!1;var o=s.get(r);if(o)return o==e;t|=bn,s.set(r,e);var p=dn(u(r),u(e),t,n,i,s);return s.delete(r),p;case In:if(q)return q.call(r)==q.call(e)}return!1}var Mn=xn,Ln=Fr,Gn=A;function Fn(r,e,a){var t=e(r);return Gn(r)?t:Ln(t,a(r))}var Nn=Fn;function Rn(r,e){for(var a=-1,t=r==null?0:r.length,n=0,i=[];++a<t;){var s=r[a];e(s,a,r)&&(i[n++]=s)}return i}var Hn=Rn;function Bn(){return[]}var Kn=Bn,Un=Hn,zn=Kn,qn=Object.prototype,Xn=qn.propertyIsEnumerable,hr=Object.getOwnPropertySymbols,Zn=hr?function(r){return r==null?[]:(r=Object(r),Un(hr(r),function(e){return Xn.call(r,e)}))}:zn,Yn=Zn;function Jn(r,e){for(var a=-1,t=Array(r);++a<r;)t[a]=e(a);return t}var Qn=Jn,Wn=9007199254740991,Vn=/^(?:0|[1-9]\d*)$/;function kn(r,e){var a=typeof r;return e=e==null?Wn:e,!!e&&(a=="number"||a!="symbol"&&Vn.test(r))&&r>-1&&r%1==0&&r<e}var er=kn,jn=Qn,ri=J,ei=A,ai=Lr,ti=er,ni=Gr,ii=Object.prototype,si=ii.hasOwnProperty;function ui(r,e){var a=ei(r),t=!a&&ri(r),n=!a&&!t&&ai(r),i=!a&&!t&&!n&&ni(r),s=a||t||n||i,u=s?jn(r.length,String):[],f=u.length;for(var o in r)(e||si.call(r,o))&&!(s&&(o=="length"||n&&(o=="offset"||o=="parent")||i&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||ti(o,f)))&&u.push(o);return u}var fi=ui,oi=fi,_i=re,ci=I;function vi(r){return ci(r)?oi(r):_i(r)}var B=vi,li=Nn,hi=Yn,pi=B;function di(r){return li(r,pi,hi)}var $i=di,pr=$i,yi=1,gi=Object.prototype,bi=gi.hasOwnProperty;function mi(r,e,a,t,n,i){var s=a&yi,u=pr(r),f=u.length,o=pr(e),p=o.length;if(f!=p&&!s)return!1;for(var h=f;h--;){var c=u[h];if(!(s?c in e:bi.call(e,c)))return!1}var y=i.get(r),$=i.get(e);if(y&&$)return y==e&&$==r;var _=!0;i.set(r,e),i.set(e,r);for(var l=s;++h<f;){c=u[h];var v=r[c],d=e[c];if(t)var b=s?t(d,v,c,e,r,i):t(v,d,c,r,e,i);if(!(b===void 0?v===d||n(v,d,a,t,i):b)){_=!1;break}l||(l=c=="constructor")}if(_&&!l){var m=r.constructor,C=e.constructor;m!=C&&"constructor"in r&&"constructor"in e&&!(typeof m=="function"&&m instanceof m&&typeof C=="function"&&C instanceof C)&&(_=!1)}return i.delete(r),i.delete(e),_}var Ai=mi,X=Ur,Ci=zr,Ei=Mn,Oi=Ai,dr=ee,$r=A,yr=Lr,Si=Gr,Ti=1,gr="[object Arguments]",br="[object Array]",M="[object Object]",Pi=Object.prototype,mr=Pi.hasOwnProperty;function Ii(r,e,a,t,n,i){var s=$r(r),u=$r(e),f=s?br:dr(r),o=u?br:dr(e);f=f==gr?M:f,o=o==gr?M:o;var p=f==M,h=o==M,c=f==o;if(c&&yr(r)){if(!yr(e))return!1;s=!0,p=!1}if(c&&!p)return i||(i=new X),s||Si(r)?Ci(r,e,a,t,n,i):Ei(r,e,f,a,t,n,i);if(!(a&Ti)){var y=p&&mr.call(r,"__wrapped__"),$=h&&mr.call(e,"__wrapped__");if(y||$){var _=y?r.value():r,l=$?e.value():e;return i||(i=new X),n(_,l,a,t,i)}}return c?(i||(i=new X),Oi(r,e,a,t,n,i)):!1}var wi=Ii,Di=wi,Ar=Dr;function qr(r,e,a,t,n){return r===e?!0:r==null||e==null||!Ar(r)&&!Ar(e)?r!==r&&e!==e:Di(r,e,a,t,qr,n)}var Xr=qr,xi=Ur,Mi=Xr,Li=1,Gi=2;function Fi(r,e,a,t){var n=a.length,i=n,s=!t;if(r==null)return!i;for(r=Object(r);n--;){var u=a[n];if(s&&u[2]?u[1]!==r[u[0]]:!(u[0]in r))return!1}for(;++n<i;){u=a[n];var f=u[0],o=r[f],p=u[1];if(s&&u[2]){if(o===void 0&&!(f in r))return!1}else{var h=new xi;if(t)var c=t(o,p,f,r,e,h);if(!(c===void 0?Mi(p,o,Li|Gi,t,h):c))return!1}}return!0}var Ni=Fi,Ri=Q;function Hi(r){return r===r&&!Ri(r)}var Zr=Hi,Bi=Zr,Ki=B;function Ui(r){for(var e=Ki(r),a=e.length;a--;){var t=e[a],n=r[t];e[a]=[t,n,Bi(n)]}return e}var zi=Ui;function qi(r,e){return function(a){return a==null?!1:a[r]===e&&(e!==void 0||r in Object(a))}}var Yr=qi,Xi=Ni,Zi=zi,Yi=Yr;function Ji(r){var e=Zi(r);return e.length==1&&e[0][2]?Yi(e[0][0],e[0][1]):function(a){return a===r||Xi(a,r,e)}}var Qi=Ji,Wi=rr;function Vi(r,e,a){var t=r==null?void 0:Wi(r,e);return t===void 0?a:t}var ki=Vi;function ji(r,e){return r!=null&&e in Object(r)}var rs=ji,es=Kr,as=J,ts=A,ns=er,is=ae,ss=H;function us(r,e,a){e=es(e,r);for(var t=-1,n=e.length,i=!1;++t<n;){var s=ss(e[t]);if(!(i=r!=null&&a(r,s)))break;r=r[s]}return i||++t!=n?i:(n=r==null?0:r.length,!!n&&is(n)&&ns(s,n)&&(ts(r)||as(r)))}var fs=us,os=rs,_s=fs;function cs(r,e){return r!=null&&_s(r,e,os)}var vs=cs,ls=Xr,hs=ki,ps=vs,ds=W,$s=Zr,ys=Yr,gs=H,bs=1,ms=2;function As(r,e){return ds(r)&&$s(e)?ys(gs(r),e):function(a){var t=hs(a,r);return t===void 0&&t===e?ps(a,r):ls(e,t,bs|ms)}}var Cs=As;function Es(r){return r}var K=Es;function Os(r){return function(e){return e==null?void 0:e[r]}}var Ss=Os,Ts=rr;function Ps(r){return function(e){return Ts(e,r)}}var Is=Ps,ws=Ss,Ds=Is,xs=W,Ms=H;function Ls(r){return xs(r)?ws(Ms(r)):Ds(r)}var Gs=Ls,Fs=Qi,Ns=Cs,Rs=K,Hs=A,Bs=Gs;function Ks(r){return typeof r=="function"?r:r==null?Rs:typeof r=="object"?Hs(r)?Ns(r[0],r[1]):Fs(r):Bs(r)}var ar=Ks;function Us(r){return function(e,a,t){for(var n=-1,i=Object(e),s=t(e),u=s.length;u--;){var f=s[r?u:++n];if(a(i[f],f,i)===!1)break}return e}}var zs=Us,qs=zs,Xs=qs(),Zs=Xs,Ys=Zs,Js=B;function Qs(r,e){return r&&Ys(r,e,Js)}var Ws=Qs,Vs=I;function ks(r,e){return function(a,t){if(a==null)return a;if(!Vs(a))return r(a,t);for(var n=a.length,i=e?n:-1,s=Object(a);(e?i--:++i<n)&&t(s[i],i,s)!==!1;);return a}}var js=ks,ru=Ws,eu=js,au=eu(ru),tu=au,nu=tu,iu=I;function su(r,e){var a=-1,t=iu(r)?Array(r.length):[];return nu(r,function(n,i,s){t[++a]=e(n,i,s)}),t}var uu=su;function fu(r,e){var a=r.length;for(r.sort(e);a--;)r[a]=r[a].value;return r}var ou=fu,Cr=w;function _u(r,e){if(r!==e){var a=r!==void 0,t=r===null,n=r===r,i=Cr(r),s=e!==void 0,u=e===null,f=e===e,o=Cr(e);if(!u&&!o&&!i&&r>e||i&&s&&f&&!u&&!o||t&&s&&f||!a&&f||!n)return 1;if(!t&&!i&&!o&&r<e||o&&a&&n&&!t&&!i||u&&a&&n||!s&&n||!f)return-1}return 0}var cu=_u,vu=cu;function lu(r,e,a){for(var t=-1,n=r.criteria,i=e.criteria,s=n.length,u=a.length;++t<s;){var f=vu(n[t],i[t]);if(f){if(t>=u)return f;var o=a[t];return f*(o=="desc"?-1:1)}}return r.index-e.index}var hu=lu,Z=Rr,pu=rr,du=ar,$u=uu,yu=ou,gu=te,bu=hu,mu=K,Au=A;function Cu(r,e,a){e.length?e=Z(e,function(i){return Au(i)?function(s){return pu(s,i.length===1?i[0]:i)}:i}):e=[mu];var t=-1;e=Z(e,gu(du));var n=$u(r,function(i,s,u){var f=Z(e,function(o){return o(i)});return{criteria:f,index:++t,value:i}});return yu(n,function(i,s){return bu(i,s,a)})}var Eu=Cu;function Ou(r,e,a){switch(a.length){case 0:return r.call(e);case 1:return r.call(e,a[0]);case 2:return r.call(e,a[0],a[1]);case 3:return r.call(e,a[0],a[1],a[2])}return r.apply(e,a)}var Su=Ou,Tu=Su,Er=Math.max;function Pu(r,e,a){return e=Er(e===void 0?r.length-1:e,0),function(){for(var t=arguments,n=-1,i=Er(t.length-e,0),s=Array(i);++n<i;)s[n]=t[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=t[n];return u[e]=a(s),Tu(r,this,u)}}var Iu=Pu;function wu(r){return function(){return r}}var Du=wu,xu=xr,Mu=function(){try{var r=xu(Object,"defineProperty");return r({},"",{}),r}catch(e){}}(),Lu=Mu,Gu=Du,Or=Lu,Fu=K,Nu=Or?function(r,e){return Or(r,"toString",{configurable:!0,enumerable:!1,value:Gu(e),writable:!0})}:Fu,Ru=Nu,Hu=800,Bu=16,Ku=Date.now;function Uu(r){var e=0,a=0;return function(){var t=Ku(),n=Bu-(t-a);if(a=t,n>0){if(++e>=Hu)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var zu=Uu,qu=Ru,Xu=zu,Zu=Xu(qu),Yu=Zu,Ju=K,Qu=Iu,Wu=Yu;function Vu(r,e){return Wu(Qu(r,e,Ju),r+"")}var ku=Vu,ju=V,rf=I,ef=er,af=Q;function tf(r,e,a){if(!af(a))return!1;var t=typeof e;return(t=="number"?rf(a)&&ef(e,a.length):t=="string"&&e in a)?ju(a[e],r):!1}var nf=tf,sf=he,uf=Eu,ff=ku,Sr=nf,of=ff(function(r,e){if(r==null)return[];var a=e.length;return a>1&&Sr(r,e[0],e[1])?e=[]:a>2&&Sr(e[0],e[1],e[2])&&(e=[e[0]]),uf(r,sf(e,1),[])}),_f=of;const cf=wr(_f);var vf=ar,lf=I,hf=B;function pf(r){return function(e,a,t){var n=Object(e);if(!lf(e)){var i=vf(a);e=hf(e),a=function(u){return i(n[u],u,n)}}var s=r(e,a,t);return s>-1?n[i?e[s]:s]:void 0}}var df=pf;function $f(r,e,a,t){for(var n=r.length,i=a+(t?1:-1);t?i--:++i<n;)if(e(r[i],i,r))return i;return-1}var yf=$f,gf=/\s/;function bf(r){for(var e=r.length;e--&&gf.test(r.charAt(e)););return e}var mf=bf,Af=mf,Cf=/^\s+/;function Ef(r){return r&&r.slice(0,Af(r)+1).replace(Cf,"")}var Of=Ef,Sf=Of,Tr=Q,Tf=w,Pr=NaN,Pf=/^[-+]0x[0-9a-f]+$/i,If=/^0b[01]+$/i,wf=/^0o[0-7]+$/i,Df=parseInt;function xf(r){if(typeof r=="number")return r;if(Tf(r))return Pr;if(Tr(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=Tr(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=Sf(r);var a=If.test(r);return a||wf.test(r)?Df(r.slice(2),a?2:8):Pf.test(r)?Pr:+r}var Mf=xf,Lf=Mf,Ir=1/0,Gf=17976931348623157e292;function Ff(r){if(!r)return r===0?r:0;if(r=Lf(r),r===Ir||r===-Ir){var e=r<0?-1:1;return e*Gf}return r===r?r:0}var Nf=Ff,Rf=Nf;function Hf(r){var e=Rf(r),a=e%1;return e===e?a?e-a:e:0}var Bf=Hf,Kf=yf,Uf=ar,zf=Bf,qf=Math.max;function Xf(r,e,a){var t=r==null?0:r.length;if(!t)return-1;var n=a==null?0:zf(a);return n<0&&(n=qf(t+n,0)),Kf(r,Uf(e),n)}var Zf=Xf,Yf=df,Jf=Zf,Qf=Yf(Jf),Wf=Qf;const Vf=wr(Wf);function ao(r){const e=Qr();let a=tr({});const t=D(-1),n=tr({}),i=D(-1),s=D([]),u=Vr(),f=D(""),o=()=>Wr(a.getID(),u),p=()=>u.push(f.value),h=()=>cf(s.value,({username:_})=>_).map(_=>{var v,d;let l="".concat(_.username);if(!ne((v=_==null?void 0:_.person)==null?void 0:v.names)){const[b]=((d=_.person)==null?void 0:d.names)||[];l+=" (".concat(b.given_name," ").concat(b.family_name,")")}return l}),c=async(_="N/A")=>{const l=await z.get("PATIENT_PROGRAM",{patientID:a.getID()});n.outcome=l.outcome,n.outcomeStartDate=l.startDate,n.sessionDate=x.getSessionDate(),n.apiDate=x.getCachedApiDate(),n.isBdeMode=x.isBDE(),n.birthDate=a.getBirthdate(),n.encounterName=_.toUpperCase(),x.isBDE()&&(s.value=await z.get("PROVIDERS"),n.providers=h())},y=(_,l=null)=>{const v={};if(v[E.SET_PROVIDER]=d=>{var m,C;const[b]=d.split(" ");return i.value=(C=(m=Vf(s.value,{username:b}))==null?void 0:m.person_id)!=null?C:-1,E.CONTINUE},v[E.CHANGE_SESSION_DATE]=()=>(u.push("/session/date?patient_dashboard_redirection_id=".concat(a.getID())),E.EXIT),v[E.CHANGE_PATIENT_OUTCOME]=()=>(u.push("/patient/programs/".concat(a.getID())),E.EXIT),v[E.GO_TO_PATIENT_DASHBOARD]=()=>(p(),E.EXIT),_ in v)return v[_](l)},$=async _=>{var v,d,b,m;const l=se(_,ie);for(const C in l){const g=l[C];if((v=g==null?void 0:g.actions)!=null&&v.alert&&y(await((d=g==null?void 0:g.actions)==null?void 0:d.alert(_)))===E.EXIT)return;if((b=g==null?void 0:g.actions)!=null&&b.selection){const U=await((m=g==null?void 0:g.actions)==null?void 0:m.selection(_));y(U.flowState,U.value)}}};return Jr(async()=>{try{t.value=parseInt(e.params.patient_id),f.value="/patient/dashboard/".concat(t.value),a=await z.get("ACTIVE_PATIENT",{patientID:t.value}),await c(e.name),await $(n),typeof r=="function"&&r(i.value,t.value,a,n)}catch(_){console.error("Error in useEncounter hook:",_)}}),{patient:a,patientId:t,provider:i,providers:s,facts:n,patientDashboardUrl:f,goToPatientDashboard:p,goToNextTask:o}}export{ao as u};
