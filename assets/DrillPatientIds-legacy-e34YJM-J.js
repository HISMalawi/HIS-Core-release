System.register(["./index-legacy-sLIX6Wy9.js","./TableView-legacy-BZrsRpgs.js"],(function(t,e){"use strict";var a,n,i,l,o,r,s,u,c,f,d,m,p,b,g,h;return{setters:[t=>{a=t.d,n=t.a5,i=t.r,l=t.an,o=t.aJ,r=t.aM,s=t.af,u=t.cg,c=t.bz,f=t.a6,d=t.ab,m=t.u,p=t.v,b=t.w,g=t.x},t=>{h=t.v}],execute:function(){const e=a({props:{title:{type:String,default:"Drilldown"},patientIdentifiers:{type:Object},onFinish:{type:Function}},components:{IonPage:n,v2Datatable:h},setup(t){const e=i("-"),a=i([]),n=l(),f=[[{label:"National ID",ref:"national_id"},{label:"First name",ref:"given_name"},{label:"Last name",ref:"family_name"},{label:"Birthdate",ref:"birthdate"},{label:"Action",ref:"patient_id",exportable:!1,tdClick:({data:t})=>n.push({path:`/patient/dashboard/${t.patient_id}`}),value:()=>"View client"}]];return o((()=>t.patientIdentifiers),(async t=>{if(a.value=[],e.value="Total: 0",!t||!t.length)return;const n=r.chunk(t,20);for(const l of n){for(const n of l){try{const t=new s(await s.findByID(n));a.value.push({patient_id:t.getID(),national_id:t.getNationalID(),given_name:t.getGivenName(),family_name:t.getFamilyName(),birthdate:u(t.getBirthdate())})}catch(i){console.error(i),a.value.push({})}e.value=`Total: ${a.value.length} of ${(t||[]).length}`}await c(500)}}),{immediate:!0}),{columns:f,subtitle:e,reportData:a,ITEMS_PER_PAGE:20}}});t("D",f(e,[["render",function(t,e,a,n,i,l){const o=d("v2Datatable"),r=d("ion-page");return m(),p(r,null,{default:b((()=>[g(o,{title:t.title,subtitle:t.subtitle,columnData:t.reportData,columns:t.columns,"on-finish":t.onFinish,rowsPerPage:t.ITEMS_PER_PAGE},null,8,["title","subtitle","columnData","columns","on-finish","rowsPerPage"])])),_:1})}]]))}}}));
