System.register(["./EncounterMixin.vue_vue_type_script_lang-legacy-B-9591P9.js","./index-legacy-CrQiTkcT.js","./htn_service-legacy-C9RB3SYD.js","./RiskFactorModal-legacy-DjU7UxdP.js","./encounter_guidelines-legacy-kyQHIXW_.js","./GuidelineEngine-legacy-KsvQuFdF.js","./HisStandardForm-legacy-Bb4oTegB.js"],(function(t,s){"use strict";var e,a,i,n,o,r,l,c,d,h,u,p,g,y,B,m,P,f,v,w,k,b,_,D,x,F,R,T,C,I;return{setters:[t=>{e=t._},t=>{a=t.d,i=t.a4,n=t.S,o=t.a5,r=t.a3,l=t.Q,c=t.as,d=t.aL,h=t.br,u=t.bs,p=t.bm,g=t.d7,y=t.a8,B=t.ad,m=t.u,P=t.v,f=t.w,v=t.x,w=t.B,k=t.aE,b=t.c3,_=t.a1,D=t.Y,x=t.z,F=t.G,R=t.a6,T=t.a7},t=>{C=t.B},t=>{I=t.R},null,null,null],execute:function(){var s=document.createElement("style");s.textContent="div[data-v-8630601f]{color:gray}.bp[data-v-8630601f]{color:red;font-style:italic}.name[data-v-8630601f]{color:#00f;font-style:italic}.green[data-v-8630601f]{width:170px}\n",document.head.appendChild(s);const j=a({mixins:[e],components:{IonFooter:i,IonContent:n,IonPage:o,IonButton:r,IonToolbar:l},data:()=>({sysBp:0,dsBP:0,riskFactors:[],patientOnBpDrugs:!1,isPregnant:!1,systolicThreshold:145,diastolicTheshold:94}),methods:{async showRiskFactors(){const t=await c.create({component:I,backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}});t.present();const{data:s}=await t.onDidDismiss();d.isEmpty(s)||this.nextTask()},async getRiskFactors(){const t=h.getConceptsByCategory("risk factors").map((async t=>{const s=await u.getFirstValueCoded(this.patientID,t.name);return{concept:t.name,value:s}}));return Promise.all(t)},recaptureBp(){this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)}},watch:{ready:{async handler(t){if(!t)return;const s=await p.create({message:"Verifying Blood Pressure...",backdropDismiss:!1});await s.present();const e=new C(this.patientID,this.providerID);this.riskFactors=await this.getRiskFactors(),this.systolicThreshold=await g.systolicThreshold()||145,this.diastolicTheshold=await g.diastolicThreshold()||94,this.dsBP=await e.getDiastolicBp()||0,this.sysBp=await e.getSystolicBp()||0,this.patientOnBpDrugs=await e.onBpDrugs()||!1,this.isPregnant=this.patient.isChildBearing()&&await this.patient.isPregnant()||!1,p.dismiss()},immediate:!0}},computed:{patientName(){return this.ready?this.patient.getFullName():"Patient"},hasPressureReading(){return this.sysBp>0&&this.dsBP>0},highBP(){return(this.sysBp>=this.systolicThreshold&&this.dsBP>=this.diastolicTheshold||this.dsBP>=this.diastolicTheshold)&&!this.isPregnant}}}),E=t=>(R("data-v-8630601f"),t=t(),T(),t),N=E((()=>_("h1",{class:"ion-text-center"}," High BP Alert ",-1))),S={key:0,class:"vertically-align ion-text-center"},z={style:{"font-weight":"bold"}},O={class:"name"},G={class:"bp"},H=E((()=>_("br",null,null,-1))),L=E((()=>_("span",null,[x(" Retesting BP is "),_("span",{style:{"font-weight":"bold",color:"#000000","text-decoration":"underline"}},"optional"),x(". "),_("br"),x(" Do you want to test BP? ")],-1))),M={key:1,class:"vertically-align ion-text-center"},V=E((()=>_("br",null,null,-1))),Y=E((()=>_("h1",null," Do you want to test BP? ",-1)));t("default",y(j,[["render",function(t,s,e,a,i,n){const o=B("ion-content"),r=B("ion-button"),l=B("ion-toolbar"),c=B("ion-footer"),d=B("ion-page");return m(),P(d,null,{default:f((()=>[v(o,null,{default:f((()=>[N,t.hasPressureReading?(m(),w("div",S,[k(_("h2",z," (Patient already on BP drugs) ",512),[[b,t.patientOnBpDrugs]]),_("h2",null,[_("span",O,D(t.patientName),1),x(" has "),k(_("span",null," a high ",512),[[b,t.highBP]]),x(" blood pressure of "),_("span",G,D(t.sysBp)+" / "+D(t.dsBP),1),H,L])])):F("",!0),t.hasPressureReading?F("",!0):(m(),w("div",M,[x(" No BP Reading found "),V,Y]))])),_:1}),v(c,null,{default:f((()=>[v(l,{color:"dark"},{default:f((()=>[v(r,{onClick:s[0]||(s[0]=()=>t.hasPressureReading?t.showRiskFactors():t.nextTask()),size:"large",color:"danger",slot:"start"},{default:f((()=>[x(" No ")])),_:1}),v(r,{onClick:t.recaptureBp,size:"large",color:"success",slot:"end"},{default:f((()=>[x(" Yes ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-8630601f"]]))}}}));
