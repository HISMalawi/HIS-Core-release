import{bQ as n,bA as o,bC as r,dP as i}from"./index-CMZASHAR.js";class D extends n{constructor(t,e){super(t,81,e)}async enrollPatient(){const t=new o(this.patientID);await t.enrollProgram(),t.setStateDate(this.date),t.setStateId(118),await t.updateState()}calculateWeekOfFirstVisit(t){const e=new Date(t);e.setDate(e.getDate()+7);const a=new Date(this.getDate())-e;return Math.floor(a/(24*60*60*7*1e3))}calculateGestationDateFromPeriod(t){return r(this.date).subtract(t,"months").endOf("month").format("YYYY-MM-DD")}estimateDelieveryDate(t){const e=new Date(t);e.setDate(e.getDate()+7),e.setMonth(e.getMonth()+9);const s=i(e.getMonth()+1),a=i(e.getDate());return"".concat(e.getFullYear(),"-").concat(s,"-").concat(a)}estimateLnmpDate(t,e=this.getDate()){return r(e).subtract(t,"weeks").subtract(7,"days").format("YYYY-MM-DD")}buildDelieveryDateObs(t){if(t!="Unknown")return[this.buildValueDate("Last menstrual period",t),this.buildValueDate("Estimated date of delivery",this.estimateDelieveryDate(t)),this.buildValueNumber("Week of First Visit",this.calculateWeekOfFirstVisit(t))]}}export{D as A};
