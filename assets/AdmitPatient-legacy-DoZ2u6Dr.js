System.register(["./HisStandardForm-legacy-Cd-xGvNm.js","./index-legacy-2OuOZQ1w.js","./useEncounter-legacy-CmWPg-MA.js","./isEmpty-legacy-C2nv7YqI.js","./encounter_guidelines-legacy-w17rLgkK.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,t){"use strict";var n,a,i,l,s,o,r,c,u,d,f,y,m,g,w,p,b;return{setters:[e=>{n=e.H},e=>{a=e.bW,i=e.d,l=e.r,s=e.aC,o=e.an,r=e.ao,c=e.q,u=e.aw,d=e.y,f=e.a,y=e.w,m=e.e,g=e.f,w=e.m,p=e.b},e=>{b=e.u},null,null,null],execute:function(){class t extends a{constructor(e,t){super(e,42,t)}}e("default",i({__name:"AdmitPatient",setup(e){const a=l([]);let i;const{goToNextTask:S,patientDashboardUrl:h}=b(((e,n)=>{i=new t(n,e),a.value.push({id:"internal_sections",helpText:"Select Ward/internal section",type:r.TT_SELECT,validation:e=>o.required(e),computedValue:e=>i.buildValueText("Admit to ward",e.label),options:()=>s.getInternalSections(),config:{showKeyboard:!0,footerBtns:[{name:"Add Section",slot:"end",color:"success",onClick:async(e,t,n)=>{if("string"!=typeof n.filter||n.filter.length<3)return c("Please enter a valid section name");if(n.filtered.some((e=>e.label.toLowerCase()===n.filter.toLowerCase())))return c("Section already existing");if(await u("Do you want to add internal section?")){const e=await s.createInternalSection(n.filter.toUpperCase());e?(n.filter=e.name,n.listData=[{label:e.name,value:e.id},...n.listData]):d(`Unable to add ${n.filter}`)}}}]}})}));async function v(e,t){const n=await Promise.all([t.internal_sections]);await i.createEncounter(),await i.saveObservationList(n),S()}return(e,t)=>(p(),f(g(w),null,{default:y((()=>[m(n,{cancelDestinationPath:g(h),fields:a.value,onFinishAction:v,skipSummary:!0},null,8,["cancelDestinationPath","fields"])])),_:1}))}}))}}}));
