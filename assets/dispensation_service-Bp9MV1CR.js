var p=Object.defineProperty;var l=(i,t,r)=>t in i?p(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var u=(i,t,r)=>l(i,typeof t!="symbol"?t+"":t,r);import{bQ as n}from"./index-CMZASHAR.js";import{D as d}from"./drug_order_service-DwQHOfYk.js";class O extends n{constructor(r,e){super(r,54,e);u(this,"drugHistory");u(this,"currentDrugOrder");this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}buildDispensations(r,e){return[{drug_order_id:r,date:this.date,quantity:e}]}saveDispensations(r){return n.postJson("/dispensations",{dispensations:r,program_id:n.getProgramID()})}async voidOrder(r){return n.void("/dispensations/".concat(r),{})}async loadDrugHistory(){const r=await d.getDrugOrderHistory(this.patientID);r&&(this.drugHistory=r)}async loadCurrentDrugOrder(){const r=await d.getDrugOrders(this.patientID);r&&(this.currentDrugOrder=await Promise.all(r))}calcCompletePack(r,e){const s=r.barcodes.sort(function(a,g){return a.tabs-g.tabs});if(s.length==0||e==0)return e;for(let a=0;a<=s.length-1;a++)if(parseInt(s[a].tabs)>=e)return s[a].tabs;const c=parseInt(s[0].tabs);let o=parseInt(s[s.length-1].tabs);for(;o<e;)o+=c;return o}}export{O as D};
