System.register(["./dynamic-import-helper-legacy-arUa2LZV.js","./index-legacy-Dg5P6bX-.js","./patient_diagnosis_service-legacy-DLjxGfQB.js","./HisStandardForm-legacy-BXV61qjj.js","./drug_prescription_service-legacy-DJ6j7U8n.js","./TouchScreenForm-legacy-Bqug27CT.js","./ToolbarMediumCard-legacy-DWokgyDV.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-D3j1oaCn.js","./drug_order_service-legacy-Dp9bZFsR.js","./drug_service-legacy-B4F5X0Oj.js"],(function(e,i){"use strict";var s,t,n,a,o,r,l,c,d,p,u,g,T,h,m,_,y,f;return{setters:[e=>{s=e.F},e=>{t=e.d,n=e.I,a=e.G,o=e.T,r=e.ab,l=e.cT,c=e.V,d=e.cS,p=e._,u=e.r,g=e.o,T=e.c,h=e.w,m=e.b},e=>{_=e.P},e=>{y=e.H},e=>{f=e.a},null,null,null,null,null,null],execute:function(){const i=t({components:{HisStandardForm:y,IonPage:n},data:()=>({preference:"",fields:[]}),created(){this.preference=this.$route.name,this.fields=[...this.setTopTenDiagnosis(),...this.setTopTenDrugs()]},methods:{isProp(e){return!this.preference||e===this.preference},async onFinish(e,i){for(const s in i)await a.set(s,i[s]),o("Property has been updated",2e3);this.$router.back()},mapListToOptions:e=>r.isEmpty(e)?[]:e.map((e=>({label:e.name,value:e.name,other:e.concept_id,isChecked:!1}))).sort(((e,i)=>e.label<i.label?-1:e.label>i.label?1:0)),setTopTenDiagnosis(){const e=l.SET_TOP_10_DIAGNOSIS;return[{id:"primary_diagnosis",helpText:"Select top ten diagnosis",type:s.TT_INFINITE_SCROLL_MULTIPLE_SELECT,validation:e=>c.required(e),options:async(e,i="",s=1,t=10)=>this.mapListToOptions(await _.getDiagnosis(i,s,t)),computedValue:e=>(e=>e.map((e=>e.value)).join())(e),condition:()=>this.isProp(e),defaultValue:()=>d.topTenDiagnosis(),config:{isFilterDataViaApi:!0,showKeyboard:!0}}]},setTopTenDrugs(){const e=l.SET_TOP_10_DRUGS;return[{id:"primary_drugs",helpText:"Select top ten drugs",type:s.TT_INFINITE_SCROLL_MULTIPLE_SELECT,validation:e=>c.required(e),options:async(e="",i=1,s=10)=>this.mapListToOptions(await f.getDrugs(e,i,s)),computedValue:e=>(e=>e.map((e=>e.value)).join())(e),condition:()=>this.isProp(e),defaultValue:()=>d.topTenDiagnosis(),config:{isFilterDataViaApi:!0,showKeyboard:!0}}]}}});e("default",p(i,[["render",function(e,i,s,t,n,a){const o=u("his-standard-form"),r=u("ion-page");return g(),T(r,null,{default:h((()=>[m(o,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])])),_:1})}]]))}}}));
