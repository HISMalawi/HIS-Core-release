import{d as S,b1 as T,k as V,i as N,l as K,a5 as P,m as $,a4 as w,I as B,b2 as E,aQ as x,r as k,c as H,b3 as U,S as L,a_ as O,q as y,aJ as R,n as A,b4 as M,b5 as z,am as F,ar as n,a as d,b as _,w as t,e as s,a6 as C,j as p}from"./index-qFt4YszW.js";const J=S({name:"HC location",components:{BarcodeInput:E,IonContent:B,IonHeader:w,IonPage:$,IonTitle:P,IonToolbar:K,IonButton:N,IonFooter:V,HisKeyboard:T},setup(){const{activePlatformProfile:e}=x(),o=k(""),l=k(""),f=H(()=>e.value.scanner===z.CAMERA_SCANNER);async function r(){o.value.includes("$")||(o.value+="$");const a=await L.getJson("locations/".concat(o.value));if(O.isEmpty(a))y("Invalid location");else{const u=a;sessionStorage.userLocation=u.name;try{await R().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}A.push("/")}l.value=o.value,o.value=""}function b(a){o.value=a}function i(a){o.value=M(a,o.value),console.log("barcode",o.value)}async function c(a){o.value=a,await r()}return{onbarcodeText:b,onScan:c,onKbClick:i,searchLocation:r,useVirtualKeyboard:f,clearValue:l,barcodeText:o,NUMBERS:U}}});function j(e,o,l,f,r,b){const i=n("ion-title"),c=n("ion-toolbar"),a=n("ion-header"),u=n("barcode-input"),m=n("ion-content"),g=n("his-keyboard"),v=n("ion-button"),h=n("ion-footer"),I=n("ion-page");return _(),d(I,null,{default:t(()=>[s(a,{translucent:!0},{default:t(()=>[s(c,null,{default:t(()=>[s(i,null,{default:t(()=>[p("Scan work-station location")]),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:t(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(_(),d(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(h,null,{default:t(()=>[s(c,{color:"dark"},{default:t(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:t(()=>[p(" Cancel ")]),_:1}),e.barcodeText?(_(),d(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:t(()=>[p(" Next ")]),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const D=F(J,[["render",j],["__scopeId","data-v-3f50a6e8"]]);export{D as default};
