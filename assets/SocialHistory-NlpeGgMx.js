import{_ as a}from"./EncounterMixin.vue_vue_type_script_lang-CwGN_UQp.js";import{bV as r,X as c,d as l,n as p,am as h,ak as d,ap as o,a as u,b as m,w as v,e as f}from"./index-3BeNlo1y.js";import"./encounter_guidelines-D8zVYBRP.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-D73p5TNy.js";class _ extends r{constructor(e,i){super(e,84,i)}printSocialHistory(){return c(this.patientID)}}const y=l({components:{IonPage:p},mixins:[a],data:()=>({service:{}}),watch:{ready:{handler(t){t&&(this.service=new _(this.patientID,this.providerID),this.fields=this.getFields())}}},methods:{async onFinish(t,e){const i=await this.resolveObs(e);await this.service.createEncounter(),await this.service.saveObservationList(i),await this.service.printSocialHistory(),this.nextTask()},getFields(){return[{id:"history",helpText:"Social history",type:h.TT_MULTI_SELECT_GRID,validation:t=>t.map(e=>e.value==="").some(Boolean)?["Please complete selection!!"]:null,computedValue:t=>t.filter(e=>e.value!="").map(e=>this.service.buildValueCoded(e.other.concept,e.value)),options:()=>[{label:"Currently Smoking",value:"",other:{concept:"patient smokes",options:this.yesNoOptions()}},{label:"Currently taking alcohol",value:"",other:{concept:"Currently taking alcohol",options:this.yesNoOptions()}},{label:"Marital status",value:"",other:{concept:"Marital status",options:[this.toOption("Never Married"),this.toOption("Married"),this.toOption("Seperated"),this.toOption("Divorced")]}}]}]}}});function S(t,e,i,b,k,g){const s=o("his-standard-form"),n=o("ion-page");return m(),u(n,null,{default:v(()=>[f(s,{fields:t.fields,skipSummary:!0,onFinishAction:t.onFinish,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const T=d(y,[["render",S]]);export{T as default};
