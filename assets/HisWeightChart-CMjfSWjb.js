import{d as y,cD as b,bk as W,aq as x,ap as C,h as A,at as S,_ as $,r,o as I,c as k,w as e,A as m,b as s,u as n,v as p,a3 as B,bz as D,a5 as P}from"./index-PKQE-5WY.js";import{_ as z}from"./FieldMixin.vue_vue_type_script_lang-CzIW73qd.js";const F=y({components:{ApexChart:b,ViewPort:W,IonCol:x,IonRow:C,IonItem:A,IonChip:S},mixins:[z],data:()=>({stats:{prevWeight:"-",curWeight:"-",curWeightChange:"-",weightState:"",age:"-",bmi:{}},type:"area",width:"100%",height:"560px",series:[],chartOptions:{chart:{id:"weight_chart"},title:{text:"Weight trail (2 year period)"},stroke:{curve:"smooth"},yaxis:{title:{text:"Weight Kg(s)"},min:0},xaxis:{categories:[]},dataLabels:{enabled:!0,textAnchor:"start",formatter:function(t,a){var o;const i=(o=a.w.config.series[0].data[a.dataPointIndex-1])==null?void 0:o.y;return i&&i>0?(t/i*100-100).toFixed(2)+" %":"0.0%"}}}}),mounted(){this.$emit("onFieldActivated",this)},activated(){this.$emit("onFieldActivated",this)},methods:{setStats(t){var o,l;const a=((o=t.values[t.values.length-2])==null?void 0:o.y)||0,i=((l=t.values[t.values.length-1])==null?void 0:l.y)||0;if(this.stats.curWeight=i||"-",this.stats.prevWeight=a||"-",this.stats.age=t.age,this.stats.bmi=t.bmi,i>0&&a>0){this.stats.curWeightChange=Math.abs(i/a*100-100).toFixed(2)+" %";const c="/assets/images/drop-up-arrow.svg",u="/assets/images/drop-down-arrow.svg";this.stats.weightState=i>a?c:u}}},async created(){const a=(await this.options(this.fdata))[0].other,i=a.values;this.series=[{name:"Weight",data:i.sort((o,l)=>{const c=new Date(o.x),u=new Date(l.x);return c-u}).map(o=>{const[l,c]=o.x.split("/");return{x:"".concat(l,".").concat(c),y:o.y}})}],this.type=a.type?a.type:"area",this.width=a.width?a.width:"100%",this.setStats(a)}}),V={class:"view-port-content"},L=["src"];function N(t,a,i,o,l,c){const u=r("ApexChart"),_=r("ion-col"),h=r("ion-label"),g=r("ion-chip"),d=r("ion-item"),f=r("ion-list"),w=r("ion-row"),v=r("view-port");return I(),k(v,null,{default:e(()=>[m("div",V,[s(w,{class:"parent-row"},{default:e(()=>[s(_,{size:"7"},{default:e(()=>[s(u,{width:t.width,height:t.height,type:t.type,options:t.chartOptions,series:t.series},null,8,["width","height","type","options","series"])]),_:1}),s(_,{size:"5"},{default:e(()=>[s(f,null,{default:e(()=>[s(d,null,{default:e(()=>[s(h,{class:"title"},{default:e(()=>[n("Previous weight")]),_:1}),s(g,{slot:"end",color:"primary"},{default:e(()=>[n(p(t.stats.prevWeight),1)]),_:1})]),_:1}),s(d,null,{default:e(()=>[s(h,{class:"title"},{default:e(()=>[n("Lastest weight")]),_:1}),s(g,{slot:"end",color:"primary"},{default:e(()=>[n(p(t.stats.curWeight),1)]),_:1})]),_:1}),s(d,null,{default:e(()=>[s(h,{class:"title"},{default:e(()=>[n("Latest weight change")]),_:1}),B(m("img",{src:t.stats.weightState,width:"50"},null,8,L),[[D,t.stats.weightState]]),s(g,{slot:"end",color:"primary"},{default:e(()=>[n(p(t.stats.curWeightChange),1)]),_:1})]),_:1}),s(d,null,{default:e(()=>[s(h,{class:"title"},{default:e(()=>[n("Patient Age")]),_:1}),s(g,{slot:"end",color:"primary"},{default:e(()=>[n(p(t.stats.age),1)]),_:1})]),_:1}),s(d,null,{default:e(()=>[s(h,{class:"title"},{default:e(()=>[n("Patient BMI")]),_:1}),s(g,{slot:"end",color:"primary"},{default:e(()=>[n(p(t.stats.bmi.index),1)]),_:1})]),_:1}),s(d,null,{default:e(()=>[s(h,{style:P({"background-color":t.stats.bmi.color,color:"white",padding:"10px","text-align":"center"})},{default:e(()=>[n(p(t.stats.bmi.result),1)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}const O=$(F,[["render",N],["__scopeId","data-v-34225c2a"]]);export{O as default};
