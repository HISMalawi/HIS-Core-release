System.register(["./ReportMixin.vue_vue_type_script_lang-legacy-SQxkN2ye.js","./regimen_report_service-legacy-DRtolZ5d.js","./index-legacy-2OuOZQ1w.js","./TableReportTemplate-legacy-S2pkSxVJ.js","./BasicReportTemplate-legacy-D72Xzs9J.js","./Export-legacy-D1zUexdI.js","./index-legacy-D_LoyUSC.js","./Pagination-legacy-BgwkMHfb.js","./HisStandardForm-legacy-Cd-xGvNm.js","./ReportErrors-legacy-DqayzlCU.js"],(function(e,t){"use strict";var n,r,s,o,i,a,l,d,c,u,p,g,h,m,w;return{setters:[e=>{n=e._},e=>{r=e.W,s=e.b,o=e.a},e=>{i=e.d,a=e.m,l=e.aA,d=e.a_,c=e.am,u=e.a,p=e.w,g=e.ar,h=e.b,m=e.e},e=>{w=e.R},null,null,null,null,null,null],execute:function(){const t=i({mixins:[n],components:{ReportTemplate:w,IonPage:a},data:()=>({rows:[],title:"Regimen distribution (Weight)",columns:[]}),created(){this.columns=[[l.thTxt("Weight band"),l.thTxt("Gender"),...s.map((e=>l.thNum(e))),l.thNum("Unknown"),l.thNum("Total (regimen)")]],this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t,n=!1){this.rows=[],this.report=new o,this.report.setOccupation(t.occupation),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod();const r=await this.report.getRegimensByWeight(n);await this.setRows(r)},async setRows(e){const t=e=>[...s,"N/A"].map((t=>{const n=e.filter((e=>!!e[t])).map((e=>Object.values(e)[0]));return l.td(d.isEmpty(n)?0:n[0])})),n=e=>e.reduce(((e,t)=>e+t.td),0);r.forEach((r=>{e.filter((e=>e.weight===r)).forEach((e=>{const s=t(e.males),o=t(e.females),i=[l.td(r),l.td("Male"),...s,l.td(n(s))],a=[l.td(r),l.td("Female"),...o,l.td(n(o))];if(this.rows.push(i),this.rows.push(a),!d.isEmpty(e.unknown_gender)){const s=t(e.unknown_gender),o=n(s);this.rows.push([l.td(r),l.td("Unknown Gender"),...s,l.td(o)])}}))}))}}});e("default",c(t,[["render",function(e,t,n,r,s,o){const i=g("report-template"),a=g("ion-page");return h(),u(a,null,{default:p((()=>[m(i,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod,hasServerSideCaching:!0},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
