System.register(["./index-legacy-DSKrJPb4.js","./TableView-legacy-pveuSPT-.js","./data_verification_service-legacy-CPby_0M2.js","./Export-legacy-Defb4cZ5.js","./index-legacy-Dsgb7BqY.js"],(function(e,a){"use strict";var t,n,r,l,s,o,i,u,c,d,g,f,p,m,w,D,v,b;return{setters:[e=>{t=e.d,n=e.r,r=e.o,l=e.a,s=e.c,o=e.w,i=e.b,u=e.u,c=e.m,d=e.g,g=e.t,f=e.e,p=e.D,m=e.I,w=e.i,D=e.f},e=>{v=e.v},e=>{b=e.D},null,null],execute:function(){e("default",t({__name:"PasswordChanges",setup(e){const a=n([]),t=n(""),h=n(!1),y=new b,x=[[{label:"#",ref:"index"},{label:"User",ref:"provider"},{label:"Count",ref:"count"},{label:"View",ref:"drilldown",toValue:()=>"View",tdClick:async e=>{e.refData.length&&(await c.create({component:v,backdropDismiss:!1,cssClass:"large-modal",componentProps:{title:e.data.provider,columns:[[{label:"#",ref:"index"},{label:"Date changed",ref:"date",toValue:e=>d(e).format("DD/MMM/YYYY HH:mm:ss")}]],rowsPerPage:100,columnData:e.refData.reduce(((e,a,t)=>[...e,{...a,index:t+1}]),[]),onFinish:()=>c.getTop().then((e=>e&&c.dismiss()))}})).present()}}]],P=async()=>{if(!y.startDate||!y.endDate)return g("Start date and end date required!");h.value=!0;try{const e=await y.getPasswordChanges();a.value=Object.keys(e).reduce(((a,t,n)=>[...a,{index:n+1,provider:t,count:e[t].length,drilldown:e[t]}]),[])}catch(e){console.error(e),f("Unable to generate report!")}h.value=!1},C=()=>p({onFinish:(e,a,n)=>{t.value=n,y.startDate=e,y.endDate=a,P()}});return r((()=>C())),(e,n)=>(l(),s(u(D),null,{default:o((()=>[i(u(m),{"is-open":h.value,message:"Please wait.."},null,8,["is-open"]),i(v,{"icon-url":u(w)("reports.png"),title:"Password changes","report-prefix":"Clinic",subtitle:t.value,columns:x,columnData:a.value,rowsPerPage:100,onConfigure:C,onRefresh:P},null,8,["icon-url","subtitle","columnData"])])),_:1}))}}))}}}));
