import{d as u,a5 as f,cX as _,r as c,t as C,aI as D,cK as h,Q as v,a8 as b,ad as d,u as w,v as M,w as y,x as A}from"./index-LyP1z09P.js";import{v as F}from"./TableView-b2NipsWU.js";import{C as R}from"./clinic_report_service-j_pKDXU5.js";import{s as $,w as H}from"./v2utils-1E2otORU.js";import"./Export-8d5rspLX.js";const N=u({components:{IonPage:f,IonLoading:_,v2Datatable:F},setup(){const a=D("reports.png"),l=c([]),s=c(""),r=new R,e=(t,i)=>({label:t,ref:i,toValue:o=>o.length,tdClick:o=>$({title:"".concat(o.column.label),subtitle:s.value,patientIdentifiers:o.refData})}),m=[[{label:"#",ref:"index"},{label:"Age group",ref:"age_group"},{label:"Gender",ref:"gender"},e("Due for BP screening","due_screening"),e("Screened for HTN","screened"),e("Normal <140/<90","normal_reading"),e("Mild 140-159/90-99","mild_reading"),e("Moderate 160-180/100-110","moderate_reading"),e("Severe >180/>110","severe_reading"),e("Hydrochlorothiazide 25mg","hydrochlorothiazide_25mg"),e("Amlodipine 5mg","amlodipine_5mg"),e("Amlodipine 10 mg","amlodipine_10mg"),e("Captopril 25mg","captopril_25mg"),e("Captopril 6-25mg","captopril_6_25mg"),e("Captopril 12-5mg","captopril_12_5mg"),e("Captopril 50mg","captopril_50mg"),e("Enalapril 5 mg","enalapril_5mg"),e("Enalapril 10mg","enalapril_10mg"),e("Atenolol 50mg","atenolol_50mg"),e("Atenolol 100mg","atenolol_100mg"),e("Nifedipine 10mg","nifedipine_10mg"),e("Nifedipine 20mg","nifedipine_20mg"),e("Total (regimen)","total_regimen")]],p=()=>H(async()=>{if(!(r.startDate&&r.endDate))return v("Start date and end date required!");l.value=[];const t=await r.getHypertensionReport(!0),i=Object.keys(t).reduce((o,n)=>(o.M.push({age_group:n,gender:"Male",...t[n].M}),o.F.push({age_group:n,gender:"Female",...t[n].F}),o),{F:[],M:[]});l.value=i.F.concat(i.M).map((o,n)=>({index:n+1,...o}))}),g=()=>h({onFinish:(t,i,o,n)=>{n&&r.setOccupation(n),s.value="".concat(o),r.startDate=t,r.endDate=i,p()}});return C(()=>g()),{logo:a,reportData:l,configure:g,generate:p,columns:m,period:s}}});function S(a,l,s,r,e,m){const p=d("v2Datatable"),g=d("ion-page");return w(),M(g,null,{default:y(()=>[A(p,{title:"Hypertension Cascade Report","icon-url":a.logo,subtitle:a.period,columns:a.columns,columnData:a.reportData,rowsPerPage:50,onConfigure:a.configure,onRefresh:()=>a.generate(),"report-prefix":"Clinic"},null,8,["icon-url","subtitle","columns","columnData","onConfigure","onRefresh"])]),_:1})}const E=b(N,[["render",S]]);export{E as default};
