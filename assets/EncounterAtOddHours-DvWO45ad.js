import{d as p,r as o,o as g,a as D,b,w as v,e as d,i as s,l as _,v as x,D as w,x as h,y,q as C}from"./index-CJleCCtM.js";import{v as E}from"./TableView-CMbHc5dx.js";import{D as I}from"./data_verification_service-m3u_oa_8.js";import"./Export-CXTwynHo.js";import"./index-DC9jnrfb.js";const B=p({__name:"EncounterAtOddHours",setup(O){const l=o([]),i=o(""),n=o(!1),t=new I,f=[[{label:"#",ref:"index"},{label:"User",ref:"username"},{label:"Date",ref:"date"},{label:"Time",ref:"time"},{label:"Encounter ID",ref:"encounter_id"}]],u=async()=>{if(!(t.startDate&&t.endDate))return _("Start date and end date required!");n.value=!0;try{const e=await t.getEncountersDoneInOddHours();l.value=Object.keys(e).reduce((a,r,m)=>[...a,{index:m+1,...e[r]}],[])}catch(e){console.error(e),x("Unable to generate report!")}n.value=!1},c=()=>w({onFinish:(e,a,r)=>{i.value=r,t.startDate=e,t.endDate=a,u()}});return g(()=>c()),(e,a)=>(D(),b(s(C),null,{default:v(()=>[d(s(h),{"is-open":n.value,message:"Please wait.."},null,8,["is-open"]),d(E,{"icon-url":s(y)("reports.png"),title:"Encounters at Odd Hours","report-prefix":"Clinic",subtitle:i.value,columns:f,columnData:l.value,rowsPerPage:100,onConfigure:c,onRefresh:u},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{B as default};
