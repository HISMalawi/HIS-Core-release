import{H as m}from"./DataTableTemplate-VfTtW51a.js";import{d as u,eh as c,d5 as v,ao as a,af as d,aU as w,aq as y,a6 as b,v as g,ab as _,u as f}from"./index-CyYd6aWW.js";import"./Layout-B9Yen0nT.js";const x=u({components:{HtsTemplate:m},setup(){const o=new c("HTS INDEX");return{params:{logo:"/login-logos/PEPFAR.png",title:"HTS_INDEX",prefix:"Pepfar",drillDownLabelPattern:(e,t)=>"".concat(t.age_group," ").concat(t.gender," ").concat(e),initialSort:e=>v(e).asc(t=>t.gender),maxDate:c.getSessionDate(),columns:[[{label:"",exportable:!1,colSpan:7},{label:"Facility",exportable:!1,colSpan:4},{label:"Community",exportable:!1,colSpan:4}],[{label:"Age group",value:e=>e.age_group},{label:"Gender",value:e=>e.gender},{label:"Index Clients",columnType:"drilldown",value:e=>e.index_clients},{label:"Offered Index",columnType:"drilldown",value:e=>e.offered_index},{label:"Accepted AIT",columnType:"drilldown",value:e=>e.accepted_ait},{label:"Contacted Elicited",columnType:"customDrillDown",value:e=>e.contacted_elicited.map(t=>t.patient),drillParams:(e,t)=>({title:"Contacted Elicited",columns:[[a.thTxt("National ID"),a.thTxt("First name"),a.thTxt("Last name"),a.thTxt("Birthdate"),a.thTxt("Contacts"),a.thTxt("Action")]],data:e.contacted_elicited,generator:async n=>{const r=[];for(const i of n){const s="".concat(i.patient,"_contact_elicited");if(t.drill[s]){r.push(t.drill[s]);continue}try{const l=new d(await d.findByID(i.patient));t.drill[s]=[a.td(l.getNationalID()),a.td(l.getGivenName()),a.td(l.getFamilyName()),a.tdDate("".concat(l.getBirthdate())),a.td(i.contacts),a.tdBtn("Show",()=>{w.push({path:"/patient/dashboard/".concat(s)}),y.dismiss({})})],r.push(t.drill[s])}catch(l){console.error(l)}}return r}})},{label:"New positives",columnType:"drilldown",exportLabel:()=>"New positives (Facility)",value:e=>e.facility.new_positives},{label:"New Negatives",columnType:"drilldown",exportLabel:()=>"New Negatives (Facility)",value:e=>e.facility.new_negatives},{label:"Known positives",columnType:"drilldown",exportLabel:()=>"Known positives (Facility)",value:e=>e.facility.known_positives},{label:"Documented Negatives",columnType:"drilldown",exportLabel:()=>"Documented Negatives (Facility)",value:e=>e.facility.documented_negatives},{label:"New positives",columnType:"drilldown",exportLabel:()=>"New positives (Community)",value:e=>e.community.new_positives},{label:"New Negatives",columnType:"drilldown",exportLabel:()=>"New Negatives (Community)",value:e=>e.community.new_negatives},{label:"Known positives",columnType:"drilldown",exportLabel:()=>"Known positives (Community)",value:e=>e.community.known_positives},{label:"Documented Negatives",columnType:"drilldown",exportLabel:()=>"Documented Negatives (Community)",value:e=>e.community.documented_negatives}]],hasPeriodSelection:!0,data:(e,t,n)=>(o.startDate=n.start_date,o.endDate=n.end_date,o.requestReport())}}}});function N(o,p,e,t,n,r){const i=_("hts-template");return f(),g(i,{params:o.params},null,8,["params"])}const C=b(x,[["render",N]]);export{C as default};
