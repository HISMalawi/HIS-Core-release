System.register(["./index-legacy-Ck8hVlzC.js"],(function(e,t){"use strict";var a,i,n,d,l,r,o,u,s,p,D;return{setters:[e=>{a=e.cs,i=e.a1,n=e.O,d=e.ct,l=e.q,r=e.ai,o=e.S,u=e.F,s=e.V,p=e.T,D=e.aU}],execute:function(){e("D",(function(e){i([...e?.additionalFields||[],...r({id:"start_date",helpText:"Start",required:!0,minDate:()=>e?.minDate||"",maxDate:()=>e?.maxDate||o.getSessionDate(),condition:()=>"Multipage date fields"===t.datePeriodInputType,estimation:{allowUnknown:!1},computeValue:e=>e}),...r({id:"end_date",helpText:"End",required:!0,minDate:(e,t)=>t.start_date,maxDate:()=>e?.maxDate||o.getSessionDate(),condition:()=>"Multipage date fields"===t.datePeriodInputType,estimation:{allowUnknown:!1},computeValue:e=>e}),{id:"alt_start_date",proxyID:"start_date",helpText:"Start Date",type:u.TT_FULL_DATE,validation:t=>{if(!t)return["Date is required"];const a=e.maxDate||o.getSessionDate();return e.minDate&&new Date(t.value)<new Date(e.minDate)?[`${d(`${t.value}`)} is less than minimum date of ${d(e.minDate)}`]:a&&new Date(t.value)>new Date(a)?[`${d(`${t.value}`)} is greater than max date of ${d(a)}`]:null},computedValue:e=>e.value,condition:()=>"Single page date"===t.datePeriodInputType},{id:"alt_end_date",proxyID:"end_date",helpText:"End Date",type:u.TT_FULL_DATE,defaultValue:e=>e.start_date.value,validation:(t,a)=>{if(!t)return["Date is required"];const i=e.maxDate||o.getSessionDate();return a.start_date.value&&new Date(t.value)<new Date(a.start_date.value)?[`${d(`${t.value}`)} is less than minimum date of ${d(a.start_date.value)}`]:i&&new Date(t.value)>new Date(i)?[`${d(`${t.value}`)} is greater than max date of ${d(i)}`]:null},computedValue:e=>e.label,condition:()=>"Single page date"===t.datePeriodInputType},{id:"calendar_start_date",proxyID:"start_date",helpText:"Start Date",type:u.TT_DATE_PICKER,computedValue:e=>e,condition:()=>"Calendar"===t.datePeriodInputType,validation:e=>s.required(e),config:{minDate:()=>e.minDate||null,maxDate:()=>e.maxDate||o.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:d(e)||"-"},{label:"End Date",value:d(t.end_date)||"-"}],persistInfoItems:!1}},{id:"calendar_end_date",proxyID:"end_date",helpText:"End Date",type:u.TT_DATE_PICKER,validation:e=>s.required(e),defaultValue:e=>e.start_date.value,computedValue:e=>e,condition:()=>"Calendar"===t.datePeriodInputType,config:{minDate:e=>e.start_date.value,maxDate:()=>e.maxDate||o.getSessionDate(),infoItems:(e,t)=>[{label:"Start Date",value:d(t.start_date)||"-"},{label:"End Date",value:d(e)}],persistInfoItems:!1}},(()=>{let e=!1;return{id:"occupation",helpText:"Report Group",type:u.TT_SELECT,init:async()=>(e=await p.get("IS_MILITARY_SITE"),!0),computedValue:e=>e.value,condition:()=>"ART"===D.getActiveApp()?.applicationName&&e,validation:e=>s.required(e),options:()=>[{label:"All",value:"All"},{label:"Military",value:"Military"},{label:"Civilian",value:"Civilian"}]}})()],{skipSummary:!0,onFinish:async(t,a)=>{n.dismiss();try{const i=`${d(a.start_date)} to ${d(a.end_date)}`;e.onFinish(a.start_date,a.end_date,i,t)}catch(i){l("An error has occurred")}}})}));const t=a({datePeriodInputType:localStorage.getItem("hts_report_date_period_type")||"Multipage date fields"})}}}));
