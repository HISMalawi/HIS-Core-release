import{d as y,r as g,bq as h,ai as I,cq as T,ao as A,e6 as v,ay as P,a as w,c as E,w as b,b as x,u as p,f as N}from"./index-DUHy09-D.js";import{H as V}from"./HisStandardForm-D4x6GRNw.js";import{u as C}from"./useEncounter-fu9GEntY.js";import{p as D}from"./VoidReason-Cps3c2vQ.js";import"./isEmpty-DIE1IIn6.js";import"./encounter_guidelines-BSirIoFm.js";import"./GuidelineEngine-D6V1_Znr.js";const L=y({__name:"Identifiers",setup(F){const n=g([]),o=h.getActiveApp(),{patientDashboardUrl:c,goToNextTask:f}=C((l,r,m)=>{const _=()=>{let a={};const s=[];return{id:"ids",helpText:"Patient Identifiers",type:I.TT_TABLE_VIEWER,onload:i=>a=i,init:async()=>{for(const i in o.programPatientIdentifiers){const e=o.programPatientIdentifiers[i];m.patient.patient_identifiers.forEach(t=>{t.type.patient_identifier_type_id===e.id&&s.push({type:i,idName:t.identifier,created:T(t.date_created),id:t.patient_identifier_id,reassign:async()=>{typeof e.reassignAction=="function"&&await A("Are you sure you want to modify ".concat(i," ").concat(t.identifier))&&e.reassignAction(r,t.patient_identifier_id,t.identifier,i)}})})}return!0},options:()=>{const i=s.map(e=>[e.type,e.idName,e.created,{name:"Void",type:"button",color:"danger",action:()=>D(async t=>{await v.voidIdentifier(e.id,t),P.invalidate("ACTIVE_PATIENT"),a.rows=a.rows.filter(d=>d[d.length-1].id!=e.id)})},{id:e.id,name:"Reassign",type:"button",action:()=>e.reassign()}]);return[{label:"",value:"",other:{columns:["Identifier","Type","Date Created","Void","Reassign"],rows:i}}]}}};n.value=[_()]});function u(){f()}return(l,r)=>(w(),E(p(N),null,{default:b(()=>[x(V,{cancelDestinationPath:p(c),onFinishAction:u,fields:n.value,skipSummary:!0},null,8,["cancelDestinationPath","fields"])]),_:1}))}});export{L as default};
