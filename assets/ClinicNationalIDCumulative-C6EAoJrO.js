import{d,r as u,t as g,u as v,v as _,w as C,x as D,y as c,cO as b,a5 as w,aH as h}from"./index-BY8l3Vlw.js";import{v as x}from"./TableView-JK_S0K3F.js";import{C as N}from"./clinic_report_service-BA7_e1OV.js";import{s as I,w as R}from"./v2utils-CzhqV1Lq.js";import"./Export-BUNiM-87.js";import"./index-BK3yxlfM.js";const O=d({__name:"ClinicNationalIDCumulative",setup(k){const p=h("reports.png"),t=u([]),n=u(""),a=new N,l=r=>({...r,toValue:e=>e.length,tdClick:e=>{I({title:"".concat(e.data.age_group," ").concat(e.column.label),subtitle:n.value,patientIdentifiers:e.refData})}}),f=[[{label:"Age group",ref:"age_group"},{label:"Gender",ref:"gender"},l({label:"Tx Curr",ref:"tx_curr"}),l({label:"Clients with NID",ref:"nid_clients"}),l({label:"New NID registered",ref:"new_nid"})]],o=()=>R(async()=>{t.value=[],t.value=await a.getCumulativeNidReport()}),i=()=>b({onFinish:(r,e,m,s)=>{s&&a.setOccupation(s),n.value="".concat(m),a.startDate=r,a.endDate=e,o()}});return g(()=>!t.value.length&&i()),(r,e)=>(v(),_(c(w),null,{default:C(()=>[D(x,{"icon-url":c(p),subtitle:n.value,title:"Cumulative NationalID Report","report-prefix":"Clinic",columns:f,onConfigure:i,columnData:t.value,rowsPerPage:100,onRefresh:o},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{O as default};
