import{V as $}from"./ViewPort-4mhPlN2U.js";import{d as B,I as F,D as L,g as x,h as M,C as j,f as q,l as H,j as P,ai as G,aj as J,ak as K,k as W,m as O,i as Q,J as U,K as w,L as r,M as S,N as X,ab as v,n as Y,t as Z,_ as ee,r as t,o as _,c as D,w as e,b as o,u as i,x as oe,F as te,y as ne,v as ae,z as se}from"./index-iM2cGz0p.js";import{A as y}from"./anc_drug_set-lNL6K0vx.js";const le=B({components:{IonPage:F,ReportDataTable:L,IonList:x,IonItem:M,IonLabel:j,ViewPort:$,IonButton:q,IonContent:H,IonHeader:P,IonGrid:G,IonRow:J,IonCol:K,IonTitle:W,IonFooter:O,IonToolbar:Q},setup(){const n=U(),s=w({}),a=w([]),b=[[r.thTxt("Drug"),r.thTxt("Duration in days"),r.thTxt("Frequency")]],h=S(()=>!v.isEmpty(a.value)),C=S(()=>{var l,d;return((d=(l=s.value)==null?void 0:l.drugs)==null?void 0:d.map(u=>[r.td(u.drug_name||"N/A"),r.td(u.duration||"N/A"),r.td(u.frequency)]))||[]});X(async()=>{a.value=await y.getDrugSets(),v.isEmpty(a.value)||(s.value=a.value[0])});function m(){n.back()}function c(){n.push({name:"add anc drugset"})}async function p(){if(await Y("Are you sure you want to void this drug set?"))try{await y.voidDrugSet(s.value.id||-1),a.value=a.value.filter(l=>l.id!=s.value.id),v.isEmpty(a.value)?s.value={}:s.value=a.value[0]}catch(l){Z("e")}}return{cancel:m,addDrugset:c,voidDrugset:p,drugSets:a,hasSelectedDrugSet:h,selectedDrugSet:s,drugSetColumns:b,drugSetRows:C}}});function re(n,s,a,b,h,C){const m=t("ion-title"),c=t("ion-toolbar"),p=t("ion-header"),l=t("ion-label"),d=t("ion-item"),u=t("ion-list"),k=t("ion-col"),I=t("report-data-table"),T=t("ion-row"),A=t("ion-grid"),z=t("view-port"),N=t("ion-content"),g=t("ion-button"),V=t("ion-footer"),E=t("ion-page");return _(),D(E,null,{default:e(()=>[o(p,null,{default:e(()=>[o(c,null,{default:e(()=>[o(m,{class:"his-lg-text"},{default:e(()=>[i(" Drug Set ")]),_:1})]),_:1})]),_:1}),o(N,null,{default:e(()=>[o(z,null,{default:e(()=>[o(A,{style:{"background-color":"white"},class:"view-port-content"},{default:e(()=>[o(T,null,{default:e(()=>[o(k,{size:"4"},{default:e(()=>[o(u,null,{default:e(()=>[(_(!0),oe(te,null,ne(n.drugSets,(f,R)=>(_(),D(d,{class:"his-sm-text",button:"",detail:"",color:n.selectedDrugSet.id===f.id?"lightblue":"",onClick:ue=>n.selectedDrugSet=f,key:R},{default:e(()=>[o(l,null,{default:e(()=>[i(ae(f.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),o(k,{size:"8"},{default:e(()=>[o(I,{columns:n.drugSetColumns,rows:n.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(V,null,{default:e(()=>[o(c,{color:"dark"},{default:e(()=>[o(g,{onClick:n.cancel,slot:"start",color:"danger",size:"large"},{default:e(()=>[i(" Cancel ")]),_:1},8,["onClick"]),n.hasSelectedDrugSet?(_(),D(g,{key:0,onClick:n.voidDrugset,slot:"end",color:"danger",size:"large"},{default:e(()=>[i(" Void Drug Set ")]),_:1},8,["onClick"])):se("",!0),o(g,{onClick:n.addDrugset,slot:"end",color:"success",size:"large"},{default:e(()=>[i(" Add Drug Set ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const _e=ee(le,[["render",re],["__scopeId","data-v-fe2c217d"]]);export{_e as default};
