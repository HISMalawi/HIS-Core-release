System.register(["./index-legacy-B-IGLekl.js","./TableView-legacy-DfP0o5vc.js","./stock_report_service-legacy-C0aYlxxU.js","./DrillTableModal-legacy-BtSrlF-t.js"],(function(e,a){"use strict";var t,n,r,o,l,s,u,i,c,g,d,p,m,f,v,D,b,y,P,w;return{setters:[e=>{t=e.d,n=e.a5,r=e.cv,o=e.r,l=e.t,s=e.aK,u=e.df,i=e.aq,c=e.O,g=e.ah,d=e.c_,p=e.a6,m=e.v,f=e.w,v=e.ab,D=e.u,b=e.x},e=>{y=e.v},e=>{P=e.S},e=>{w=e.D}],execute:function(){const a=t({components:{IonPage:n,IonLoading:r,v2Datatable:y},setup(){const e=o([]),a=o(""),t=o(!1),n=new P,r=[[{label:"#",ref:"index"},{label:"ARV drug category",ref:"category"},{label:"# of bottles (units) remaining",ref:"units",value:e=>u(e.units),tdClick:async e=>{(await i.create({component:w,cssClass:"custom-modal",componentProps:{title:e.data.category,columns:["Drug","Quantity"],onRows:()=>(e.data?.granular_spec||[]).map((e=>[e.drug_name,u(e.units)]))}})).present()}}]],p=async()=>{if(!n.startDate||!n.endDate)return c("Start date and end date required!");t.value=!0,e.value=[];try{e.value=(await n.getScCurrReport()).map(((e,a)=>({...e,index:a+1})))}catch(a){g("Unable to generate report!")}t.value=!1},m=()=>d({onFinish:(e,t,r)=>{a.value=r,n.startDate=e,n.endDate=t,p()}});return l((()=>!e.value.length&&m())),{Img:s,reportData:e,isLoading:t,configure:m,generate:p,columns:r,period:a}}});e("default",p(a,[["render",function(e,a,t,n,r,o){const l=v("ion-loading"),s=v("v2Datatable"),u=v("ion-page");return D(),m(u,null,{default:f((()=>[b(l,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),b(s,{title:"Sc Curr","icon-url":e.Img("login-logos/PEPFAR.png"),subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:20,onConfigure:e.configure,onRefresh:()=>e.generate(),reportPrefix:"PEPFAR"},null,8,["icon-url","subtitle","columns","columnData","onConfigure","onRefresh"])])),_:1})}]]))}}}));
