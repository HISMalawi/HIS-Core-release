System.register(["./DataTableTemplate-legacy-CvPSOFHQ.js","./index-legacy-B-IGLekl.js","./Layout-legacy-TRD-sJok.js"],(function(e,t){"use strict";var a,l,s,i,n,r,d,o,u,c,p;return{setters:[e=>{a=e.H},e=>{l=e.d,s=e.eh,i=e.ao,n=e.af,r=e.aU,d=e.aq,o=e.a6,u=e.v,c=e.ab,p=e.u},null],execute:function(){const t=l({components:{HtsTemplate:a},setup(){const e=new s("HTS MONTHLY ACTIVITY LOG");return{params:{logo:"reports.png",title:"HTS MONTHLY ACTIVITY LOG",prefix:"Clinic",columns:[[{label:"Provider ID",value:e=>e.provider_code||"N/A"},{label:"Username",value:e=>e.username},{label:"HIV Rapid",columnType:"drilldown",value:e=>e.hiv_status},{label:"Syphilis Rapid",columnType:"drilldown",value:e=>e.syphilis_status},{label:"HepB Rapid",columnType:"drilldown",value:e=>e.hepb_status},{label:"DBS EID",value:e=>e.dbs_eid||"N/A"},{label:"DBS VL",value:e=>e.dbs_vl||"N/A"},{label:"DBS for inconclusives",value:e=>e.dbs_for_inconclusives||"N/A"},{label:"Self-Tests distributed",columnType:"customDrillDown",drillParams:(e,t)=>({title:"Self tests distributed",columns:[[i.thTxt("National ID"),i.thTxt("First name"),i.thTxt("Last name"),i.thTxt("Birthdate"),i.thTxt("Kits"),i.thTxt("Action")]],data:e.self_test_kits,generator:async e=>{const a=[];for(const s of e){const e=`${s.person_id}_kits_given`;if(t.drill[e])a.push(t.drill[e]);else try{const l=new n(await n.findByID(s.person_id));t.drill[e]=[i.td(l.getNationalID()),i.td(l.getGivenName()),i.td(l.getFamilyName()),i.tdDate(`${l.getBirthdate()}`),i.td(s.self_kits),i.tdBtn("Show",(()=>{r.push({path:`/patient/dashboard/${e}`}),d.dismiss({})}))],a.push(t.drill[e])}catch(l){console.error(l)}}return a}}),value:e=>e.self_test_kits,staticValue:e=>e.self_test_kits.reduce(((e,t)=>e+t.self_kits),0)},{label:"Recency",columnType:"drilldown",value:e=>e.recency}]],hasPeriodSelection:!0,data:async(t,a,l)=>(e.startDate=l.start_date,e.endDate=l.end_date,e.requestReport())}}}});e("default",o(t,[["render",function(e,t,a,l,s,i){const n=c("hts-template");return p(),u(n,{params:e.params},null,8,["params"])}]]))}}}));
