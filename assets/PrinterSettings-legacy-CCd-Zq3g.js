System.register(["./index-legacy-DMRuT87V.js","./HisStandardForm-legacy-BD_Op0XH.js","./isEmpty-legacy-D-OBnCOl.js"],(function(e,t){"use strict";var a,n,r,s,i,l,o,u,c,d,v,m;return{setters:[e=>{a=e.d,n=e.ap,r=e.K,s=e.r,i=e.ab,l=e.t,o=e.M,u=e.u,c=e.v,d=e.y},e=>{v=e.H},e=>{m=e.i}],execute:function(){e("default",a({__name:"PrinterSettings",setup(e){const t=n(),a=new r,f=s({}),g=s([]),p=s(0),b=s(!1),y=[{id:"printer_settings",helpText:"Printer Settings",type:i.TT_TABLE_VIEWER,options:()=>[{label:"Available Devices",value:"",other:{rowColors:m(f.value)?[]:[{indexes:[0],class:"adherence-txt-good adherence-col-bg bold"}],columns:["Available Devices"],rows:g.value.map((e=>[e.name||e.address,{type:"button",name:"Print Test Label",action:()=>a.printTestLbl(e)},w(e)?"Default Printer":{type:"button",name:"Set as Default",visible:!w(e),action:()=>function(e){a.setDefaultPrinter(e),f.value=e,p.value=Math.random()}(e)}]))}}],config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:h}]}}];async function h(){if(b.value)return o("Please wait...");b.value=!0;const e=await a.getAllPrinters();g.value=e.sort(((e,t)=>w(e)&&!w(t)?-1:!w(e)&&w(t)?1:P(e,t))),b.value=!1,p.value=Math.random()}function P(e,t){return(e.name||e.address).localeCompare(t.name||t.address)}function w(e){return 0===P(e,f.value)}return l((async()=>{f.value=await a.getDefaultPrinter()||{},g.value.push(f.value),h()})),(e,a)=>(u(),c(v,{formID:"printer_settings",fields:y,onFinish:d(t).back,skipSummary:!0,key:p.value},null,8,["onFinish"]))}}))}}}));
