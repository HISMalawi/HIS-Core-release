import{d as p,h as _,D as w,br as b,cU as V,ah as n,_ as v,r as e,o,c as l,w as i,b as c,x,B as y,y as C,u as D,v as g}from"./index-C6EjxQ0a.js";import k from"./SelectMixin-6g_IJAEA.js";import"./HisKeyboard-B8oB68Wv.js";import"./BaseTextInput-CEGkB-gc.js";import"./FieldMixin.vue_vue_type_script_lang-x6nXcbrX.js";const $=p({name:"HisSelectGrid",mixins:[k],components:{IonItem:_,IonLabel:w,ViewPort:b,MultiColumnView:V},data:()=>({columnsPerRow:4,isInit:!1}),mounted(){this.init()},activated(){this.init()},methods:{clearValue(){this.clearSelection()},async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.isInit||await this.setDefaultValue(),typeof this.config.columnsPerRow=="number"&&(this.columnsPerRow=this.config.columnsPerRow),this.isInit=!0},async setDefaultValue(){if(this.defaultValue){const t=await this.defaultValue(this.fdata,this.cdata,this.selected);if(t){const s=n.find(this.listData,{label:t})||n.find(this.listData,{value:t});s?this.onselect(s):this.selected=t}}},async onselect(t){this.selected=t?t.label:"",!(this.onValue&&(this.selected=await this.onValue(t,this)||"",!this.selected))&&this.$emit("onValue",t)}}});function I(t,s,P,S,R,B){const r=e("ion-label"),u=e("ion-item"),m=e("multi-column-view"),d=e("view-port");return o(),l(d,null,{default:i(()=>[c(m,{style:{width:"100%"},class:"view-port-content",items:t.listData,numberOfColumns:t.columnsPerRow},{default:i(({entries:h})=>[(o(!0),x(y,null,C(h,(a,f)=>(o(),l(u,{onClick:E=>t.onselect(a),color:t.selected===a.label?"primary":"",lines:"none",style:{"margin-bottom":"10px",padding:"0px",width:"100%"},class:"his-card clickable his-md-text",key:f},{default:i(()=>[c(r,{class:"ion-text-wrap"},{default:i(()=>[D(g(a.label),1)]),_:2},1024)]),_:2},1032,["onClick","color"]))),128))]),_:1},8,["items","numberOfColumns"])]),_:1})}const N=v($,[["render",I]]);export{N as default};
