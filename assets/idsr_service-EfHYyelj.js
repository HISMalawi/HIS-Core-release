var v=Object.defineProperty;var y=(l,r,e)=>r in l?v(l,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[r]=e;var d=(l,r,e)=>y(l,typeof r!="symbol"?r+"":r,e);import{O as f}from"./opd_report_service-BIm56rGr.js";import{aj as g}from"./index-ii3Qn3XY.js";class q extends f{constructor(){super();d(this,"regenerate");this.regenerate=!1}setRegenerate(e){this.regenerate=e}requestIDSRWeekly(){return this.getReport("generate_weekly_idsr_report",{request:"true"})}requestIDSRMonthly(){return this.getReport("generate_monthly_idsr_report",{request:"true"})}requestIDSRQuarterly(){return this.getReport("generate_quarterly_idsr_report")}renderResults(e){const a=[];let t=1;for(const[o,c]of Object.entries(e)){const h=[],i=c,s={id:0,name:"",lessThanFiveYears:"",lessThanFiveYearsPatientIds:"",greaterThanEqualFiveYears:"",greaterThanEqualFiveYearsPatientIds:"",total:0,totalPatientIds:""};s.name=o;let u=0;s.id=t,t+=1;for(const[p,m]of Object.entries(i)){const n=m;n!=null&&(u+=n.length,s.total=u,n.length&&(h.push(...n),s.totalPatientIds=h),p=="<5yrs"&&(s.lessThanFiveYears=n.length,s.lessThanFiveYearsPatientIds=n),p==">=5yrs"&&(s.greaterThanEqualFiveYears=n.length,s.greaterThanEqualFiveYearsPatientIds=n))}a.push(s)}return a}getCSVString(e){let a="Diseases/Events/Conditions, <5 yrs, >=5 yrs, Total,\n";for(const t of e)a+="".concat(t.name,",").concat(t.lessThanFiveYears,",").concat(t.greaterThanEqualFiveYears,",").concat(t.total,",\n");return{CSVString:a}}static async getReportEpiWeeks(){const e=[];return(await g.getJson("get_weeks")).reverse().forEach(t=>{const o=t[1].split(" "),c=o[0],h=o[2],i=t[0].split("W"),s=i[0]+"/W"+i[1];e.push({name:s,start:c,end:h})}),e}static async getReportMonths(){const e=[];return(await g.getJson("get_months")).forEach(t=>{const o=t[1],c=o[0],i=o[1].split("to");e.push({name:c,start:i[0],end:i[1].trim()})}),e}}export{q as I};
