System.register(["./index-legacy-CHWOUhn2.js"],(function(t,e){"use strict";var r,s,a,i;return{setters:[t=>{r=t.S,s=t.ai,a=t.cA,i=t.H}],execute:function(){const e=t("L",{one:"AL 1",two:"AL 2",three:"AL 3",four:"LA 4"});t("N",["Diabetes","Hypertension","Stroke","Suspected cancer","Confirmed cancer","Palliative cancer","Asthma","Depression","Acute psychosis","Chronic psychosis","Epilepsy"]),t("M",["Organic mental disorder (Chronic)","Organic mental disorder (acute)","Alcohol use mental disorder","Drug use mental disorder","Schizophrenia","Acute and transient psychotic disorder","Schizo-affective disorder","Mood-affective disorder (MANIC)","Mood-affective disorder (BIPOLAR)","Mood-affective disorder (DEPRESSION)","Anxiety disorder","Stress reaction adjustment disorder","Dissociative conversion disorder","Somatoform disorder","Puerperal mental disorder","Personality/Behaviour disorder","Mental retardation","Psychological mental disorder","Hyperkinetic conduct disorder","Epilepsy"]),t("O",class extends r{programID;startDate;endDate;date;epiweek;constructor(){super(),this.endDate="",this.startDate="",this.epiweek="",this.date=r.getSessionDate(),this.programID=r.getProgramID()}getMentalHealth(){return this.getReport(`programs/${this.programID}/reports/mental_health`)}getCasesSeen(){return this.getReport(`programs/${this.programID}/reports/cases_seen`)}getPatientsWithNIDs(){return this.getReport("with_nids")}getClinicRegistrations(){return this.getReport("registration")}getAttendance(){return this.getReport(`programs/${this.programID}/reports/attendance`)}getDrugs(){const t=`programs/${this.programID}/reports/drug`;return r.getJson(t,{start_date:this.startDate,end_date:this.endDate,date:this.date})}getDiagnosis(){const t=`programs/${this.programID}/reports/diagnosis`;return r.getJson(t,{start_date:this.startDate,end_date:this.endDate,date:this.date})}getDiagnosisByAddress(){return this.getReport("diagnosis_by_address")}getLaPrescriptions(){const t=`programs/${this.programID}/reports/la_prescriptions`;return r.getJson(t,{start_date:this.startDate,end_date:this.endDate})}getMalariaReport(){const t=`programs/${this.programID}/reports/malaria_report`;return r.getJson(t,{start_date:this.startDate,end_date:this.endDate,date:this.date})}printLaReport(t){const r=new s,i=`programs/${this.programID}/barcodes/la_report`,o={"date[start]":this.startDate,"date[end]":this.endDate};return Object.keys(e).forEach(((e,r)=>{r++,o[`${r}[prescription]`]=t[`total_la_${e}_prescribed_drugs`],o[`${r}[dispensed]`]=t[`total_la_${e}_dispensed_drugs`]})),r.printLbl(`${i}?${a.parameterizeObjToString(o)}`)}getDateIntervalPeriod(){return`${i.toStandardHisDisplayFormat(this.startDate)} - ${i.toStandardHisDisplayFormat(this.endDate)}`}setStartDate(t){this.startDate=t}setEndDate(t){this.endDate=t}setEpiWeek(t){this.epiweek=t}getReportPeriod(){return this.startDate&&this.endDate?`${i.toStandardHisDisplayFormat(this.startDate)} - ${i.toStandardHisDisplayFormat(this.endDate)}`:"-"}getReport(t,e={}){return r.getJson(t,this.buildRequest(e))}buildRequest(t={}){const e={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(e.start_date=this.startDate,e.end_date=this.endDate),this.epiweek&&(e.epiweek=this.epiweek),{...e,...t}}static getReportQuarters(t=4){const e=[];let r=i.getCurrentYear();for(let s=0;s<t;++s)e.push({name:`Q4 ${r}`,start:`${r}-10-01`,end:`${r}-12-31`}),e.push({name:`Q3 ${r}`,start:`${r}-07-01`,end:`${r}-09-30`}),e.push({name:`Q2 ${r}`,start:`${r}-04-01`,end:`${r}-06-30`}),e.push({name:`Q1 ${r}`,start:`${r}-01-01`,end:`${r}-03-31`}),--r;return e}})}}}));
