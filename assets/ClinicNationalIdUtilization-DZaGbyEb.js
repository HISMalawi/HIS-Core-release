import{d as g,r as u,t as m,u as _,v,w as D,x as b,y as c,d1 as w,a5 as C,aP as h}from"./index-ii3Qn3XY.js";import{v as N}from"./TableView-VVZCLID7.js";import{C as I}from"./clinic_report_service-C1jGu4dN.js";import{s as x,w as P}from"./v2utils-E9_vWRTr.js";import"./Export-K1a5kYdx.js";import"./index--iKDbRto.js";const G=g({__name:"ClinicNationalIdUtilization",setup(k){const p=h("reports.png"),t=u([]),o=u(""),a=new I,i=n=>({...n,toValue:e=>e.length,tdClick:e=>{x({title:"".concat(e.data.age_group," ").concat(e.column.label),subtitle:o.value,patientIdentifiers:e.refData})}}),f=[[{label:"Age group",ref:"age_group"},{label:"Gender",ref:"gender"},i({label:"Total Clients visits",ref:"total_visits"}),i({label:"Clients with NID",ref:"nid_clients"}),i({label:"New NID registered",ref:"new_nid"})]],l=()=>P(async()=>{t.value=[],t.value=await a.getNidUtilizationReport()}),r=()=>w({onFinish:(n,e,d,s)=>{s&&a.setOccupation(s),o.value="".concat(d),a.startDate=n,a.endDate=e,l()}});return m(()=>!t.value.length&&r()),(n,e)=>(_(),v(c(C),null,{default:D(()=>[b(N,{"icon-url":c(p),subtitle:o.value,title:"National ID utilization report","report-prefix":"Clinic",columns:f,onConfigure:r,columnData:t.value,rowsPerPage:100,onRefresh:l},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{G as default};
