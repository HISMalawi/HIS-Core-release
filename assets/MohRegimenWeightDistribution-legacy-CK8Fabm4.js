System.register(["./ReportMixin.vue_vue_type_script_lang-legacy-DcFpVC8c.js","./regimen_report_service-legacy-DmHXU33T.js","./index-legacy-DgZ-kNry.js","./TableReportTemplate-legacy-CMShBPql.js","./MultiFieldDateHelper-legacy-CCwAgqKG.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./KbLayouts-legacy-BKvPSxzZ.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BasicReportTemplate-legacy-CgmkkT5I.js","./Export-legacy-CDX2GVMW.js","./SIngleTouchField-legacy-DH0YU0TO.js","./Pagination-legacy-I38M9q7X.js","./HisStandardForm-legacy-DbOiuJqi.js","./TouchScreenForm-legacy-DgN0xr5C.js","./ToolbarMediumCard-legacy-BnrK577U.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-Dz1OZJfn.js","./ReportErrors-legacy-BDi_wC6M.js"],(function(e,t){"use strict";var n,s,r,o,l,i,a,c,u,d,g,p,h,m,y;return{setters:[e=>{n=e._},e=>{s=e.b,r=e.a,o=e.W},e=>{l=e.d,i=e.I,a=e.L,c=e.ab,u=e._,d=e.r,g=e.o,p=e.c,h=e.w,m=e.b},e=>{y=e.R},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=l({mixins:[n],components:{ReportTemplate:y,IonPage:i},data:()=>({rows:[],title:"Regimen distribution (Weight)",columns:[]}),created(){this.columns=[[a.thTxt("Weight band"),a.thTxt("Gender"),...s.map((e=>a.thNum(e))),a.thNum("Unknown"),a.thNum("Total (regimen)")]],this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t){this.rows=[],this.report=new r,this.report.setOccupation(t.occupation),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod();const n=await this.report.getRegimensByWeight();await this.setRows(n)},async setRows(e){const t=e=>[...s,"N/A"].map((t=>{const n=e.filter((e=>!!e[t])).map((e=>Object.values(e)[0]));return a.td(c.isEmpty(n)?0:n[0])})),n=e=>e.reduce(((e,t)=>e+t.td),0);o.forEach((s=>{e.filter((e=>e.weight===s)).forEach((e=>{const r=t(e.males),o=t(e.females),l=[a.td(s),a.td("Male"),...r,a.td(n(r))],i=[a.td(s),a.td("Female"),...o,a.td(n(o))];if(this.rows.push(l),this.rows.push(i),!c.isEmpty(e.unknown_gender)){const r=t(e.unknown_gender),o=n(r);this.rows.push([a.td(s),a.td("Unknown Gender"),...r,a.td(o)])}}))}))}}});e("default",u(t,[["render",function(e,t,n,s,r,o){const l=d("report-template"),i=d("ion-page");return g(),p(i,null,{default:h((()=>[m(l,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
