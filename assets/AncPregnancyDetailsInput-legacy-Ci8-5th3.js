System.register(["./FieldMixin.vue_vue_type_script_lang-legacy-B1v8-yn1.js","./index-legacy-CNrLGT3P.js"],(function(e,l){"use strict";var t,a,i,n,o,d,s,u,r,c,h,f,p,m,b,_,y,v,w,k,g,x,C,V,D,F,T,I,M,E,R;return{setters:[e=>{t=e._},e=>{a=e.d,i=e.k,n=e.bq,o=e.cO,d=e.cS,s=e.aq,u=e.as,r=e.ar,c=e.br,h=e.cy,f=e.cz,p=e.t,m=e.O,b=e.cT,_=e.ah,y=e._,v=e.r,w=e.o,k=e.c,g=e.w,x=e.b,C=e.x,V=e.B,D=e.y,F=e.z,T=e.u,I=e.v,M=e.A,E=e.a8,R=e.a9}],execute:function(){var l=document.createElement("style");l.textContent="ion-radio[data-v-ba9690fd]{--size: 48px}\n",document.head.appendChild(l);const L=a({name:"HisSelect",mixins:[t],components:{IonTitle:i,IonInput:n,IonRadioGroup:o,IonRadio:d,IonGrid:s,IonCol:u,IonRow:r,ViewPort:c},setup:()=>({arrowUp:h,arrowDown:f}),data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){p(e)},async launchModal(e,l){(await m.create({component:b,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:l}})).present()},async editField(e,l){const t=t=>{e.value=t,"function"==typeof e?.field?.computedValue&&(e.computedValue=e?.field?.computedValue(t)),"function"==typeof e?.field?.onValueUpdate&&e.field.onValueUpdate(t,l)};this.launchModal(e.field,(l=>{if(!Array.isArray(l)&&l.label.match(/unknown/i)&&"function"==typeof e.field?.config?.onUnknownEstimateField)return this.launchModal(e.field.config.onUnknownEstimateField(),(e=>t(e)));t(l)}))}},watch:{listData:{handler(e){const l=[],t=e.map((e=>e.other.data)).reduce(((e,l)=>[...e,...l.reduce(((e,l)=>[...e,...l]),[])]),[]).filter((e=>e.required&&""===e.value?(l.push(e.label),!1):!!e.required)).map((e=>({label:e.label,value:e.value,other:{obs:e.computedValue}})));_.isEmpty(l)?this.$emit("onValue",t):this.$emit("onValue",[{label:"_INCOMPLETE_RECORD_ERROR_",value:l.length,other:{incompleteLabels:l}}])},deep:!0}}}),U={key:0},A=(e=>(E("data-v-ba9690fd"),e=e(),R(),e))((()=>M("p",null,null,-1)));e("default",y(L,[["render",function(e,l,t,a,i,n){const o=v("ion-radio"),d=v("ion-label"),s=v("ion-item"),u=v("ion-radio-group"),r=v("ion-list"),c=v("ion-col"),h=v("ion-title"),f=v("ion-row"),p=v("ion-input"),m=v("ion-grid"),b=v("view-port");return w(),k(b,null,{default:g((()=>[x(m,{class:"view-port-content"},{default:g((()=>[x(f,null,{default:g((()=>[x(c,{size:"4"},{default:g((()=>[x(r,null,{default:g((()=>[x(u,{modelValue:e.selected,"onUpdate:modelValue":l[0]||(l[0]=l=>e.selected=l)},{default:g((()=>[(w(!0),C(V,null,D(e.listData,((e,l)=>(w(),k(s,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:l},{default:g((()=>[x(o,{slot:"start",value:e.label},null,8,["value"]),x(d,{innerHTML:e.label},null,8,["innerHTML"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),x(c,null,{default:g((()=>[(w(!0),C(V,null,D(e.listData,((l,t)=>(w(),C("div",{key:t},[e.selected===l.label?(w(),C("div",U,[(w(!0),C(V,null,D(l.other.data,((a,i)=>(w(),k(m,{style:{"margin-bottom":"10px"},class:"his-card",key:i},{default:g((()=>[l?.other?.rowTitles?(w(),k(f,{key:0,style:{background:"#F8F8F8"}},{default:g((()=>[x(c,{class:"ion-text-center"},{default:g((()=>[x(h,{class:"his-md-text",innerHTML:l?.other?.rowTitles&&l?.other?.rowTitles[i]||""},null,8,["innerHTML"])])),_:2},1024)])),_:2},1024)):F("",!0),A,(w(!0),C(V,null,D(a,((l,a)=>(w(),k(f,{key:a},{default:g((()=>[x(c,null,{default:g((()=>[l.disabled?(w(),k(s,{key:0,onClick:t=>e.warn(`Cannot edit ${l.label}`),class:"his-sm-text"},{default:g((()=>[x(d,null,{default:g((()=>[T(I(l.label),1)])),_:2},1024),x(p,{placeholder:"N/A",slot:"end"})])),_:2},1032,["onClick"])):F("",!0),l.disabled?F("",!0):(w(),k(s,{key:1,class:"his-sm-text",onClick:a=>e.editField(l,e.listData[t].other.data[i])},{default:g((()=>[x(d,{color:l?.value?.label?"":"danger"},{default:g((()=>[M("b",null,I(l.label),1)])),_:2},1032,["color"]),x(p,{class:"his-md-text",slot:"end",readonly:!0,value:l?.value?.label,placeholder:"Click to edit"},null,8,["value"])])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128))])):F("",!0)])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-ba9690fd"]]))}}}));
