import{_ as x}from"./FieldMixin.vue_vue_type_script_lang-CheyQvQD.js";import{V as E}from"./ViewPort-CUJ1kut7.js";import{d as P,h as z,C as G,g as j,k as O,bb as R,ct as W,cw as q,ai as J,ak as K,aj as Q,cg as X,ch as Y,t as Z,O as I,_ as ee,r as o,o as s,c as d,w as a,b as n,x as u,F as p,y as k,z as y,u as ae,v as M,A,a3 as te,a4 as le}from"./index-BCfs_J-V.js";import{T as ne}from"./SIngleTouchField-UCxZk0Bs.js";import"./dynamic-import-helper-Bsjrd6Ro.js";const se=P({name:"HisSelect",mixins:[x],components:{IonItem:z,IonLabel:G,IonList:j,IonTitle:O,IonInput:R,IonRadioGroup:W,IonRadio:q,IonGrid:J,IonCol:K,IonRow:Q,ViewPort:E},setup(){return{arrowUp:X,arrowDown:Y}},data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){Z(e)},async launchModal(e,r){(await I.create({component:ne,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:r}})).present()},async editField(e,r){const b=i=>{var c;e.value=i,typeof((c=e==null?void 0:e.field)==null?void 0:c.onValueUpdate)=="function"&&e.field.onValueUpdate(i,r)};this.launchModal(e.field,i=>{var c,g;if(!Array.isArray(i)&&i.label.match(/unknown/i)&&typeof((g=(c=e.field)==null?void 0:c.config)==null?void 0:g.onUnknownEstimateField)=="function")return this.launchModal(e.field.config.onUnknownEstimateField(),v=>b(v));b(i)})}},watch:{listData:{handler(e){typeof this.onValue=="function"&&this.onValue([...e]),this.$emit("onValue",[...e])},deep:!0}}}),oe=e=>(te("data-v-41f94882"),e=e(),le(),e),ie={key:0},de=oe(()=>A("p",null,null,-1));function re(e,r,b,i,c,g){const v=o("ion-radio"),V=o("ion-label"),C=o("ion-item"),U=o("ion-radio-group"),H=o("ion-list"),_=o("ion-col"),N=o("ion-title"),D=o("ion-row"),T=o("ion-input"),$=o("ion-grid"),S=o("view-port");return s(),d(S,null,{default:a(()=>[n($,{class:"view-port-content"},{default:a(()=>[n(D,null,{default:a(()=>[n(_,{size:"4"},{default:a(()=>[n(H,null,{default:a(()=>[n(U,{modelValue:e.selected,"onUpdate:modelValue":r[0]||(r[0]=t=>e.selected=t)},{default:a(()=>[(s(!0),u(p,null,k(e.listData,(t,f)=>(s(),d(C,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:f},{default:a(()=>[n(v,{slot:"start",value:t.label},null,8,["value"]),n(V,{innerHTML:t.label},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(_,null,{default:a(()=>[(s(!0),u(p,null,k(e.listData,(t,f)=>(s(),u("div",{key:f},[e.selected===t.label?(s(),u("div",ie,[(s(!0),u(p,null,k(t.other.data,(B,F)=>(s(),d($,{style:{"margin-bottom":"10px"},class:"his-card",key:F},{default:a(()=>{var w;return[(w=t==null?void 0:t.other)!=null&&w.rowTitles?(s(),d(D,{key:0,style:{background:"#F8F8F8"}},{default:a(()=>[n(_,{class:"ion-text-center"},{default:a(()=>{var l,h;return[n(N,{class:"his-md-text",innerHTML:(l=t==null?void 0:t.other)!=null&&l.rowTitles&&((h=t==null?void 0:t.other)==null?void 0:h.rowTitles[F])||""},null,8,["innerHTML"])]}),_:2},1024)]),_:2},1024)):y("",!0),de,(s(!0),u(p,null,k(B,(l,h)=>(s(),d(D,{key:h},{default:a(()=>[n(_,null,{default:a(()=>[l.disabled?(s(),d(C,{key:0,onClick:m=>e.warn("Cannot edit ".concat(l.label)),class:"his-sm-text"},{default:a(()=>[n(V,{slot:"start"},{default:a(()=>[ae(M(l.label),1)]),_:2},1024),n(T,{placeholder:"N/A",slot:"end"})]),_:2},1032,["onClick"])):y("",!0),l.disabled?y("",!0):(s(),d(C,{key:1,class:"his-sm-text",onClick:m=>e.editField(l,e.listData[f].other.data[F])},{default:a(()=>{var m,L;return[n(V,{color:(m=l==null?void 0:l.value)!=null&&m.label?"":"danger"},{default:a(()=>[A("b",null,M(l.label),1)]),_:2},1032,["color"]),n(T,{class:"his-md-text",slot:"end",readonly:!0,value:(L=l==null?void 0:l.value)==null?void 0:L.label,placeholder:"Click to edit"},null,8,["value"])]}),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]}),_:2},1024))),128))])):y("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const me=ee(se,[["render",re],["__scopeId","data-v-41f94882"]]);export{me as default};
