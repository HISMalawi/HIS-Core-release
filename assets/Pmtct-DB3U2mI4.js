import{_ as l}from"./EncounterMixin.vue_vue_type_script_lang-DI6UEYt1.js";import{bK as c,d,a5 as p,a9 as a,aa as o,a6 as m,ab as s,u,v as h,w as f,x as _}from"./index-BmYpiIZN.js";import"./encounter_guidelines-DwvuL4-6.js";import"./GuidelineEngine-D6V1_Znr.js";import"./HisStandardForm-BV2ZSIyY.js";class v extends c{constructor(t,i){super(t,10,i)}}const T=d({components:{IonPage:p},mixins:[l],data:()=>({service:{},formFields:[]}),watch:{ready:{handler(e){e&&(this.service=new v(this.patientID,this.providerID),this.formFields=this.getFields())},immediate:!0}},methods:{async onFinish(e,t){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(t)),this.nextTask()},getFields(){return[{id:"pmct",helpText:"PMTCT",type:a.TT_YES_NO,computedValue:e=>this.service.buildValueCoded("PMTCT",e.match(/true/i)?"Yes":"No"),validation:e=>o.required(e),options:()=>[{label:"Proceed to PMTCT",values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]},{id:"reason_for_not_starting_art",helpText:"Reason for not starting ART",type:a.TT_SELECT,condition:e=>e.pmct==="false",validation:e=>o.required(e),computedValue:e=>this.service.buildValueText("Reason for exiting care",e.value),options:()=>this.mapStrToOptions(["Already on ART at another facility","To be done in another room","Not willing"])}]}}});function F(e,t,i,b,g,w){const n=s("his-standard-form"),r=s("ion-page");return u(),h(r,null,{default:f(()=>[_(n,{fields:e.formFields,skipSummary:!0,onFinishAction:e.onFinish,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}const S=m(T,[["render",F]]);export{S as default};
