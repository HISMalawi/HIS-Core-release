System.register(["./index-legacy-Lddj3iK3.js","./HisStandardForm-legacy-Dkat6O6u.js"],(function(e,t){"use strict";var o,s,i,a,r,n,c,l,d,u,g,h,f,p;return{setters:[e=>{o=e.d,s=e.c3,i=e.bw,a=e.O,r=e.a9,n=e.aa,c=e.at,l=e.c4,d=e.aY,u=e.a6,g=e.v,h=e.ab,f=e.u},e=>{p=e.H}],execute:function(){const t=o({components:{HisStandardForm:p},methods:{async onFinish(e){const t=e.protocol.value,o=e.ip_address.value,r=e.port.value;s.setHostConfig(o,r,t),(await i.create({message:"Please wait...",backdropDismiss:!1})).present();const n=await s.healthCheck();i.dismiss(),n&&200===n.status&&n?this.$router.back():(a(`\n          Unable to connect to: ${t}://${o}: ${r}\n        `),this.clearLocalStorage())},getFields(){this.fields=[{id:"protocol",helpText:"Select Protocol",type:r.TT_SELECT,requireNext:!1,validation:e=>n.required(e),options:()=>[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}],config:{footerBtns:[{name:"Scan network settings",size:"large",slot:"end",color:"primary",visible:!0,onClick:()=>c((()=>this.$router.back()))}]}},{id:"ip_address",helpText:"Enter IP Address",type:r.TT_IP_ADDRESS,validation:e=>n.required(e)||n.isIPAddress(e)},{id:"port",helpText:"Enter Port",validation:e=>n.required(e),type:r.TT_TEXT,config:{customKeyboard:[l,[["Delete"]]]}}]},async showConfigNotice(){this.isUsingLocalStorage()&&"Reset configurations"===await d("Config notice","The system is currently using user specified configurations.                 Do you wish to reset back to server configurations?","",[{name:"Reset configurations",slot:"start",color:"success"},{name:"New configurations",slot:"end"}])&&(this.clearLocalStorage(),this.$router.back())},isUsingLocalStorage:()=>"true"===localStorage.getItem("useLocalStorage"),clearLocalStorage(){s.removeOnly(["useLocalStorage","apiURL","apiPort","apiProtocol"])}},data:()=>({fields:[]}),async mounted(){await this.showConfigNotice(),this.getFields()}});e("default",u(t,[["render",function(e,t,o,s,i,a){const r=h("his-standard-form");return f(),g(r,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}]]))}}}));
