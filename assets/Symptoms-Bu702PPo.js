import{d as a,bg as n,F as o,aZ as r,V as c,_ as l,r as m,o as d,c as p}from"./index-DsVZSn5I.js";import{H as h}from"./HisStandardForm-CBASeHGe.js";import{_ as u}from"./EncounterMixin.vue_vue_type_script_lang-C0K9gJxk.js";import"./encounter_guidelines-CYP5Ifi5.js";import"./GuidelineEngine-D6V1_Znr.js";const f=a({mixins:[u],components:{HisStandardForm:h},data:()=>({service:{}}),watch:{ready:{async handler(t){t&&(this.service=new n(this.patientID,200,this.providerID),this.fields=this.getFields())},immediate:!0}},methods:{async onFinish(t,e){await this.service.createEncounter(),await this.service.saveObservationList(await this.resolveObs(e)),this.nextTask()},symptomsField(){let t=[];return{id:"symptom_screening",helpText:"Symptoms screening (select either 'Yes' or 'No')",type:o.TT_MULTIPLE_YES_NO,summaryMapValue:e=>e,init:()=>(t=r.getConceptsByCategory("ahd_symptom",!0).filter(e=>!((this.patient.getAge()<5||this.patient.getAge()>14)&&["Altered consciousness","Unable to drink or feed"].includes(e.name))).map(e=>({label:e.name,value:"",other:{values:this.yesNoOptions()}})),!0),validation:e=>c.required(e),computedValue:e=>e.map(async s=>({...await this.service.buildValueCoded("AHD Symptom",s.label),child:[await this.service.buildValueCoded(s.label,s.value)]})),options:()=>t}},getFields(){return[this.symptomsField()]}}});function y(t,e,s,_,v,g){const i=m("his-standard-form");return d(),p(i,{fields:t.fields,onFinishAction:t.onFinish,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}const S=l(f,[["render",y]]);export{S as default};
