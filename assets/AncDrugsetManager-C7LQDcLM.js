import{d as $,f as B,at as F,aa as L,a4 as M,ab as P,bZ as q,ad as x,a3 as G,a0 as H,b3 as O,a8 as Q,a9 as W,a2 as X,ae as Z,a1 as j,al as J,r as S,av as r,aw as y,o as K,aP as v,ao as U,t as Y,af as ee,ak as n,a as _,c as b,w as e,b as t,M as i,O as oe,R as te,Q as ne,a7 as ae,X as se}from"./index-DUHy09-D.js";import{A as I}from"./anc_drug_set-DfQnQETf.js";const le=$({components:{IonPage:B,ReportDataTable:F,IonList:L,IonItem:M,IonLabel:P,ViewPort:q,IonButton:x,IonContent:G,IonHeader:H,IonGrid:O,IonRow:Q,IonCol:W,IonTitle:X,IonFooter:Z,IonToolbar:j},setup(){const a=J(),o=S({}),s=S([]),D=[[r.thTxt("Drug"),r.thTxt("Duration in days"),r.thTxt("Frequency")]],w=y(()=>!v.isEmpty(s.value)),C=y(()=>{var l,d;return((d=(l=o.value)==null?void 0:l.drugs)==null?void 0:d.map(u=>[r.td(u.drug_name||"N/A"),r.td(u.duration||"N/A"),r.td(u.frequency)]))||[]});K(async()=>{s.value=await I.getDrugSets(),v.isEmpty(s.value)||(o.value=s.value[0])});function p(){a.back()}function c(){a.push({name:"add anc drugset"})}async function m(){if(await U("Are you sure you want to void this drug set?"))try{await I.voidDrugSet(o.value.id||-1),s.value=s.value.filter(l=>l.id!=o.value.id),v.isEmpty(s.value)?o.value={}:o.value=s.value[0]}catch(l){Y("e")}}return{cancel:p,addDrugset:c,voidDrugset:m,drugSets:s,hasSelectedDrugSet:w,selectedDrugSet:o,drugSetColumns:D,drugSetRows:C}}});function re(a,o,s,D,w,C){const p=n("ion-title"),c=n("ion-toolbar"),m=n("ion-header"),l=n("ion-label"),d=n("ion-item"),u=n("ion-list"),k=n("ion-col"),h=n("report-data-table"),T=n("ion-row"),A=n("ion-grid"),R=n("view-port"),z=n("ion-content"),g=n("ion-button"),E=n("ion-footer"),N=n("ion-page");return _(),b(N,null,{default:e(()=>[t(m,null,{default:e(()=>[t(c,null,{default:e(()=>[t(p,{class:"his-lg-text"},{default:e(()=>o[0]||(o[0]=[i(" Drug Set ")])),_:1})]),_:1})]),_:1}),t(z,null,{default:e(()=>[t(R,null,{default:e(()=>[t(A,{style:{"background-color":"white"},class:"view-port-content"},{default:e(()=>[t(T,null,{default:e(()=>[t(k,{size:"4"},{default:e(()=>[t(u,null,{default:e(()=>[(_(!0),oe(te,null,ne(a.drugSets,(f,V)=>(_(),b(d,{class:"his-sm-text",button:"",detail:"",color:a.selectedDrugSet.id===f.id?"lightblue":"",onClick:ue=>a.selectedDrugSet=f,key:V},{default:e(()=>[t(l,null,{default:e(()=>[i(ae(f.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),t(k,{size:"8"},{default:e(()=>[t(h,{columns:a.drugSetColumns,rows:a.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(E,null,{default:e(()=>[t(c,{color:"dark"},{default:e(()=>[t(g,{onClick:a.cancel,slot:"start",color:"danger",size:"large"},{default:e(()=>o[1]||(o[1]=[i(" Cancel ")])),_:1},8,["onClick"]),a.hasSelectedDrugSet?(_(),b(g,{key:0,onClick:a.voidDrugset,slot:"end",color:"danger",size:"large"},{default:e(()=>o[2]||(o[2]=[i(" Void Drug Set ")])),_:1},8,["onClick"])):se("",!0),t(g,{onClick:a.addDrugset,slot:"end",color:"success",size:"large"},{default:e(()=>o[3]||(o[3]=[i(" Add Drug Set ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const de=ee(le,[["render",re],["__scopeId","data-v-fe2c217d"]]);export{de as default};
