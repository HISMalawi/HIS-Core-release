System.register(["./index-legacy-BdKNvy0b.js","./ReportMixin.vue_vue_type_script_lang-legacy-BqIpMK3Z.js","./TableReportTemplate-legacy-C65fLHnZ.js","./BasicReportTemplate-legacy-xgl8jsa1.js","./Export-legacy-B9w6JSEG.js","./Pagination-legacy-DU_4OW01.js","./HisStandardForm-legacy-BTnH44Xm.js","./ReportErrors-legacy-D1cE-8ZB.js"],(function(e,t){"use strict";var r,i,s,a,o,l,n,d,p,u,c,h,m,g;return{setters:[e=>{r=e.d,i=e.I,s=e.L,a=e.F,o=e.V,l=e.cF,n=e._,d=e.r,p=e.o,u=e.c,c=e.w,h=e.b},e=>{m=e._},e=>{g=e.R},null,null,null,null,null],execute:function(){const t=r({mixins:[m],components:{ReportTemplate:g,IonPage:i},data:()=>({title:"",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[s.thTxt("ARV#"),s.thTxt("Gender"),s.thTxt("Birthdate"),s.thTxt("Specimen"),s.thTxt("Ordered"),s.thTxt("Result"),s.thTxt("Released"),s.thTxt("Curr. Regimen"),s.thTxt("Action",{csvExportable:!1,pdfExportable:!1})]]}),created(){this.fields=[...this.getDateDurationFields(),{id:"result_type",helpText:"Select result type",type:a.TT_SELECT,validation:e=>o.required(e),options:()=>[{label:"Viraemia 1000+",value:"viraemia-1000"},{label:"Suppressed",value:"suppressed"},{label:"Low level viraemia",value:"low-level-viraemia"}]}]},methods:{async onPeriod(e,t){const r=e.result_type;this.rows=[],this.report=new l,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.report.setOccupation(t.occupation),this.period=this.report.getDateIntervalPeriod(),this.title=`${r.label} Report <small><b>(between the period of (${this.period})</b></small>`,this.customFileName=`Clinic ${l.getLocationName()} ${r.label} ${this.period}`,this.setRows(await this.report.getViralLoadResults(r.value.toLowerCase()))},async setRows(e){this.sortByArvNumber(e).forEach((e=>{this.rows.push([s.td(e.arv_number),s.td(this.formatGender(e.gender)),s.tdDate(e.birthdate),s.td(e.specimen),s.tdDate(e.order_date),s.td(`${e.result_modifier||""} ${e.result}`),s.tdDate(e.result_date),s.td(e.current_regimen||""),s.tdBtn("View",(()=>this.$router.push(`/patient/dashboard/${e.patient_id}`)))])}))}}});e("default",n(t,[["render",function(e,t,r,i,s,a){const o=d("report-template"),l=d("ion-page");return p(),u(l,null,{default:c((()=>[h(o,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportPDf:!1,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod,"report-prefix":"Clinic"},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])])),_:1})}]]))}}}));
