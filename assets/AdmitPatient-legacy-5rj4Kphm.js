System.register(["./HisStandardForm-legacy-2zAvTkZI.js","./index-legacy-T5lWkeko.js","./dynamic-import-helper-legacy-BhGHTWZn.js","./useEncounter-legacy-YLNDD5yV.js","./TouchScreenForm-legacy-oE84DcYP.js","./ToolbarMediumCard-legacy-uJ0c_iri.js","./Transformers-legacy-PbfCTy2a.js","./ViewPort-legacy-EDL_vLSV.js","./isEmpty-legacy-vZLYog0k.js","./encounter_guidelines-legacy-JyoANzWg.js","./GuidelineEngine-legacy--xbEVG44.js"],(function(e,t){"use strict";var n,a,l,i,s,o,r,c,u,d,y,f,g,m,p,w,j;return{setters:[e=>{n=e.H},e=>{a=e.b2,l=e.d,i=e.K,s=e.V,o=e.U,r=e.t,c=e.n,u=e.q,d=e.o,y=e.c,f=e.w,g=e.b,m=e.cj,p=e.I},e=>{w=e.F},e=>{j=e.u},null,null,null,null,null,null,null],execute:function(){class t extends a{constructor(e,t){super(e,42,t)}}e("default",l({__name:"AdmitPatient",setup(e){const a=i([]);let l;const{goToNextTask:b,patientDashboardUrl:h}=j(((e,n)=>{l=new t(n,e),a.value.push({id:"internal_sections",helpText:"Select Ward/internal section",type:w.TT_SELECT,validation:e=>s.required(e),computedValue:e=>l.buildValueText("Admit to ward",e.label),options:()=>o.getInternalSections(),config:{showKeyboard:!0,footerBtns:[{name:"Add Section",slot:"end",color:"success",onClick:async(e,t,n)=>{if("string"!=typeof n.filter||n.filter.length<3)return r("Please enter a valid section name");if(n.filtered.some((e=>e.label.toLowerCase()===n.filter.toLowerCase())))return r("Section already existing");if(await c("Do you want to add internal section?")){const e=await o.createInternalSection(n.filter.toUpperCase());e?(n.filter=e.name,n.listData=[{label:e.name,value:e.id},...n.listData]):u(`Unable to add ${n.filter}`)}}}]}})}));async function S(e,t){const n=await Promise.all([t.internal_sections]);await l.createEncounter(),await l.saveObservationList(n),b()}return(e,t)=>(d(),y(m(p),null,{default:f((()=>[g(n,{cancelDestinationPath:m(h),fields:a.value,onFinishAction:S,skipSummary:!0},null,8,["cancelDestinationPath","fields"])])),_:1}))}}))}}}));
