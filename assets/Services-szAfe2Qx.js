import{H as o}from"./HisStandardForm-B3aw5EdY.js";import{_ as c}from"./EncounterMixin.vue_vue_type_script_lang-CclnDWfK.js";import{b4 as p,d,t as s,V as l,_ as m,r as u,o as v,c as h}from"./index-BFG-WECc.js";import{F as S}from"./dynamic-import-helper-Bsjrd6Ro.js";import"./TouchScreenForm-DiI3Xfhg.js";import"./ToolbarMediumCard-C3iotOe-.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-0kHLdkku.js";import"./encounter_guidelines-BKDCL1GI.js";import"./GuidelineEngine-D6V1_Znr.js";class f extends p{constructor(t,i){super(t,5,i)}}const _=d({components:{HisStandardForm:o},mixins:[c],data:()=>({patientServicesService:{}}),watch:{ready:{async handler(e){e&&(this.patientServicesService=new f(this.patient.getID(),this.providerID),this.fields=this.getFields())},immediate:!0,deep:!0}},methods:{async onSubmit(e,t){if(!await this.patientServicesService.createEncounter())return s("Unable to create registration encounter");const r=await this.resolveObs({...t});if(!await this.patientServicesService.saveObservationList(r))return s("Unable to save observations");this.nextTask()},getFields(){return[{id:"referral",helpText:"Select service",type:S.TT_SELECT,validation:e=>l.required(e),computedValue:e=>({obs:this.patientServicesService.buildValueText("Services ordered",e.value)}),options:()=>this.mapOptions(["Casualty","Dental","Eye","Family Planing","Medical","OB/Gyn","Orthopedics","Pediatrics","Skin","STI Clinic","Surgical","Other"])}]}}});function b(e,t,i,r,n,g){const a=u("his-standard-form");return v(),h(a,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}const $=m(_,[["render",b]]);export{$ as default};
