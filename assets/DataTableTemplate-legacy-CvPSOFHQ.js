System.register(["./Layout-legacy-TRD-sJok.js","./index-legacy-B-IGLekl.js"],(function(e,t){"use strict";var a,r,o,l,n,p,s,i,c,u,d,m,D,f,h,b,w,v;return{setters:[e=>{a=e.L},e=>{r=e.d,o=e.a5,l=e.al,n=e.eo,p=e.t,s=e.aN,i=e.aJ,c=e.ci,u=e.ck,d=e.cj,m=e.ao,D=e.a6,f=e.ab,h=e.u,b=e.v,w=e.w,v=e.x}],execute:function(){const t=r({components:{IonPage:o,ReportTable:l,ReportLayout:a},props:{params:{type:Object,required:!0}},setup(e){const t=n(e.params.title);function a(){t.setReportPeriod({isPeriodSelection:e.params.hasPeriodSelection||!1,isMonthlySelection:e.params.hasMonthlySelection||!1,minDate:e.params.minDate,maxDate:e.params.maxDate,prefix:e.params.prefix||"",initialSort:e.params.initialSort,generate:(a,r,o)=>{const l=e.params.data(a,r,o);return"function"==typeof e.params.period&&(t.reportData.period=e.params.period()),l}})}return p((()=>{s.isEmpty(t.reportData.data)&&("function"==typeof e.params.prePopulate&&(t.reportData.prePopulateData=e.params.prePopulate()),a(),t.reportData.drillDownLabelPattern=e.params.drillDownLabelPattern,t.reportData.intermediateColumns=e.params.columns,t.reportData.other={activeColumns:[],activeRows:[]})})),i((()=>t.reportData.intermediateColumns),(e=>{t.reportData.columns=[],e.forEach((e=>{const a=[];e.forEach((e=>{a.push(m.thTxt(e.label,{value:e.exportLabel?e.exportLabel(e.label):void 0,colspan:e.colSpan,exportable:"boolean"!=typeof e.exportable||e.exportable}))})),!s.isEmpty(a)&&t.reportData.columns.push(a)}))}),{deep:!0}),i((()=>t.reportData.data),(e=>{t.reportData.rows=[],e.forEach((e=>{const a=[];t.reportData.intermediateColumns.forEach((r=>{r.forEach((r=>{let o={};const l=r.columnTypeConfig||{};if("function"==typeof r.value){switch(`${r?.columnType}`){case"text":default:o=m.td(r.value(e),l);break;case"date":o=m.tdDate(r.value(e),l);break;case"drilldown":o=t.drill(r.drillDownLabelPattern?r.drillDownLabelPattern(r.label,e):t.reportData.drillDownLabelPattern?t.reportData.drillDownLabelPattern(r.label,e):r.label,r.value(e)||[]);break;case"customDrillDown":o="function"==typeof r.drillParams?t.drillCustom(r.value(e),{...r.drillParams(e,t.reportData)},r.staticValue?r.staticValue(e):void 0):m.td("__MISSING_CUSTOM_DRILL_DOWN__")}a.push(o)}}))})),s.isEmpty(a)||t.reportData.rows.push(a)}))}),{deep:!0}),{configureReport:a,logo:e.params.logo,reportData:t.reportData,rows:t.rows,columns:t.columns,title:t.title,period:t.period,dateGenerated:t.dateGenerated,refresh:t.updateReportData,toPDF:()=>{const{columns:e,rows:a}=c(t.reportData.other.activeColumns,t.reportData.other.activeRows);u(e,a,t.reportDescription())},toCSV:()=>{const{columns:e,rows:a}=c(t.reportData.other.activeColumns,t.reportData.other.activeRows);d(e,t.appendReportStamp(a),t.reportDescription())}}}});e("H",D(t,[["render",function(e,t,a,r,o,l){const n=f("report-table"),p=f("report-layout"),s=f("ion-page");return h(),b(s,null,{default:w((()=>[v(p,{logo:e.logo,title:e.title,period:e.period,toCSV:e.toCSV,toPDF:e.toPDF,dateGenerated:e.dateGenerated,refreshReport:e.refresh,configure:e.configureReport},{default:w((()=>[v(n,{rows:e.rows,columns:e.columns,config:{tableCssTheme:"art-report-theme"},onOnActiveColumns:t[0]||(t[0]=t=>e.reportData.other.activeColumns=t),onOnActiveRows:t[1]||(t[1]=t=>e.reportData.other.activeRows=t)},null,8,["rows","columns"])])),_:1},8,["logo","title","period","toCSV","toPDF","dateGenerated","refreshReport","configure"])])),_:1})}]]))}}}));
