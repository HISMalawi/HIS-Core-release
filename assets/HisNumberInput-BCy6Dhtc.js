import r from"./BaseTextInput-DpNmv-Ub.js";import{H as l}from"./HisKeyboard-DJ3XMwgb.js";import{k as u}from"./KbHandler-BuQ4TFU6.js";import{c as o,d as f}from"./HisKbConfigurations-GhFQZvlg.js";import{V as p}from"./ViewPort-DiinNO5i.js";import{_ as d}from"./FieldMixin.vue_vue_type_script_lang-BReVEKp2.js";import{d as m,_ as c,r as t,o as h,x as _,b as a,w as b,F as y}from"./index-CZt4BSQf.js";import"./BaseKeyboard-BW_XulZF.js";import"./KbLayouts-VRA-vjeH.js";const k=m({components:{BaseInput:r,HisKeyboard:l,ViewPort:p},mixins:[d],data:()=>({value:"",keyboard:o}),activated(){this.init()},async mounted(){await this.init(),await this.setDefaultValue()},methods:{init(){this.$emit("onFieldActivated",this),typeof this.config.noChars=="boolean"?this.keyboard=this.config.noChars?o:f:this.config.keypad&&(this.keyboard=this.config.keypad)},async setDefaultValue(){if(typeof this.defaultValue=="function"){const e=await this.defaultValue(this.fdata,this.cdata);e&&(this.value="".concat(e))}},onKbValue(e){this.value=e},keypress(e){this.value=u(e,this.value)}},watch:{value(e){this.$emit("onValue",e?{label:e,value:e}:null)},clear(){this.value=""}}});function v(e,V,w,$,g,C){const s=t("base-input"),i=t("view-port"),n=t("his-keyboard");return h(),_(y,null,[a(i,null,{default:b(()=>[a(s,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"])]),_:1}),a(n,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}const P=c(k,[["render",v]]);export{P as default};
