import{ab as o,d as _,I as p,R as d,ad as n,ae as i,aa as T,c as C,w as h,af as l,a as m,b as f}from"./index-CMZASHAR.js";import{H as S}from"./HisStandardForm-BCjM4-bc.js";var e=(t=>(t.SITE_TB_CODE="tb_site_prefix",t.FACILITY_CATCHMENT_POPULATION="facility_catchment_population",t.LAB_CONFIGURATION="test_turnaround",t.FUNCTIONAL_SPUTUM_COLLECTION_POINTS="functional_sputum_collection_points_in_catchment",t.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS="newly_established_sputum_collection_points",t))(e||{});const P=()=>o.get("tb_site_prefix"),N=()=>o.get("facility_catchment_population"),I=()=>o.get("functional_sputum_collection_points_in_catchment"),O=()=>o.get("newly_established_sputum_collection_points"),E=t=>o.set("tb_site_prefix",t),L=t=>o.set("facility_catchment_population",t),y=t=>o.set("functional_sputum_collection_points_in_catchment",t),b=t=>o.set("newly_established_sputum_collection_points",t),s={getSiteTbCode:P,getSiteCatchmentPopulation:N,getFunctionalSputumCollectionPoints:I,getNewlyEstablishedSputumCollectionPoints:O,setSiteTbCode:E,setSiteCatchmentPopulation:L,setFunctionalSputumCollectionPoints:y,setNewlyEstablishedSputumCollectionPoints:b},U=_({components:{HisStandardForm:S,IonPage:p},data:()=>({preference:"",fields:[]}),created(){this.preference=this.$route.query.config,this.fields=[...this.systemPreferences()]},methods:{isProp(t){return!this.preference||t===this.preference},async onFinish(t,a){for(const c in a)await o.set(c,a[c]),d("Property has been updated",2e3);this.$router.back()},systemPreferences(){return[{id:e.SITE_TB_CODE,helpText:"Set Site Code",type:n.TT_TEXT,computedValue:t=>t.value,defaultValue:()=>s.getSiteTbCode(),validation:t=>i.required(t),condition:()=>this.isProp(e.SITE_TB_CODE),config:{showKeyboard:!0}},{id:e.FACILITY_CATCHMENT_POPULATION,helpText:"Set Facility Catchment Population",type:n.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getSiteCatchmentPopulation(),validation:t=>i.required(t),condition:()=>this.isProp(e.FACILITY_CATCHMENT_POPULATION),config:{showKeyboard:!0}},{id:e.FUNCTIONAL_SPUTUM_COLLECTION_POINTS,helpText:"Set Functional Sputum Collection Points",type:n.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getFunctionalSputumCollectionPoints(),validation:t=>i.required(t),condition:()=>this.isProp(e.FUNCTIONAL_SPUTUM_COLLECTION_POINTS),config:{showKeyboard:!0}},{id:e.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS,helpText:"Set Newly Established Sputum Collection Points",type:n.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getNewlyEstablishedSputumCollectionPoints(),validation:t=>i.required(t),condition:()=>this.isProp(e.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS),config:{showKeyboard:!0}}]}}});function g(t,a,c,A,w,F){const r=l("his-standard-form"),u=l("ion-page");return m(),C(u,null,{default:h(()=>[f(r,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])]),_:1})}const V=T(U,[["render",g]]);export{V as default};
