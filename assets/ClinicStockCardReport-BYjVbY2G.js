import{d as f,r as i,t as m,u as g,v as _,w as S,x as b,y as c,df as n,c_ as k,a5 as v,aK as D,O as w}from"./index-CyYd6aWW.js";import{v as C}from"./TableView-KUf7rG9H.js";import{S as P}from"./stock_report_service-DIgMerh6.js";import{w as h}from"./v2utils-Ce6mchJu.js";const q=f({__name:"ClinicStockCardReport",setup(x){const u=D("reports.png"),t=i([]),o=i(""),a=new P,p=[[{label:"Medication",ref:"drug_name"},{label:"Pack Size",ref:"pack_size"},{label:"Opening Stock (Tins/Pallets)",ref:"opening_balance",toValue:e=>n(e)},{label:"Quantity Dispensed (Tins/Pallets)",ref:"dispensed_quantity",toValue:e=>n(e||0)},{label:"Stock on hand (Tins/Pallets)",ref:"closing_balance",toValue:e=>n(e)}]],r=()=>h(async()=>{if(!(a.startDate&&a.endDate))return w("Start date and end date required!");t.value=[],t.value=await a.getStockCardReport()}),s=()=>k({onFinish:(e,l,d)=>{o.value="".concat(d),a.startDate=e,a.endDate=l,r()}});return m(()=>!t.value.length&&s()),(e,l)=>(g(),_(c(v),null,{default:S(()=>[b(C,{"icon-url":c(u),title:"HIV Stock report","report-prefix":"Clinic",subtitle:o.value,columns:p,columnData:t.value,rowsPerPage:50,onConfigure:s,onRefresh:r},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{q as default};
