import{d,I as g,c7 as _,K as s,N as b,a9 as D,t as h,q as v,_ as w,r as p,o as R,c as C,w as I,b as f}from"./index-DTBWhHAq.js";import{D as A}from"./ReportDateSelectionPrompt-D3zFVZCm.js";import{A as L}from"./ahd_report_service-BZQxlHgF.js";import{v as P}from"./TableView-BllKSVel.js";import"./dynamic-import-helper-Bsjrd6Ro.js";import"./MultiFieldDateHelper-BWKgkEkB.js";import"./KbLayouts-VRA-vjeH.js";import"./HisKbConfigurations-GhFQZvlg.js";import"./PopupKeyboard-C_Gld6ml.js";import"./SIngleTouchField-0q-gpRlN.js";import"./TouchScreenForm-BeJsJnwt.js";import"./ToolbarMediumCard-wr9sTFDK.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-DbAo6hHM.js";import"./HisKeypad-BxyyAkla.js";import"./BaseKeyboard-Ck5oXEIk.js";import"./KbHandler-BuQ4TFU6.js";import"./fuse-YdZE3OCN.js";import"./Export-CLFPyxXu.js";import"./HisKeyboard-DQi-3Zd4.js";const $=d({components:{IonPage:g,IonLoading:_,v2Datatable:P},setup(){const e=s([]),n=s(""),o=s(!1),t=new L,m=[[{label:"#",ref:"num"},{label:"Reason for enrollment",ref:"reason_for_enrollment"},{label:"New+",ref:"new_plus"},{label:"0-9yr",ref:"0-9"},{label:"10-19yr",ref:"10-19"},{label:"Stage 3/4",ref:"stage_3_or_4"},{label:"HVL",ref:"hvl"},{label:"IIT/ART Restart",ref:"iit_or_art_restart"},{label:"Discharged in-patient",ref:"discharged_in_patient"},{label:"Co-mobidities",ref:"co_mobilities"},{label:"Danger sign",ref:"danger_sign"},{label:"ART switch",ref:"art_switch"},{label:"3rd Line",ref:"third_line"},{label:"Total",ref:"total"}]],i=async()=>{if(!(t.startDate&&t.endDate))return h("Start date and end date required!");o.value=!0,e.value=[];try{e.value=await t.getEnrollmentReport()}catch(a){v("Unable to generate report!")}o.value=!1},r=()=>A({onFinish:(a,l,u,c)=>{n.value="Period: ".concat(u),t.startDate=a,t.endDate=l,c&&t.setOccupation(c),i()}});return b(()=>r()),{Img:D,reportData:e,isLoading:o,configure:r,generate:i,columns:m,period:n}}});function y(e,n,o,t,m,i){const r=p("ion-loading"),a=p("v2Datatable"),l=p("ion-page");return R(),C(l,null,{default:I(()=>[f(r,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),f(a,{title:"AHD Enrollment Report","icon-url":e.Img("reports.png"),subtitle:e.period,columns:e.columns,columnData:e.reportData,rowsPerPage:100,onConfigure:e.configure,onRefresh:e.generate,"report-prefix":"Clinic"},null,8,["icon-url","subtitle","columns","columnData","onConfigure","onRefresh"])]),_:1})}const X=w($,[["render",y]]);export{X as default};
