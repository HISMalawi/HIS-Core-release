import{d as f,r as i,o as m,a as g,b as _,w as S,e as b,i as c,df as n,D,q as k,y as v,l as w}from"./index-CJleCCtM.js";import{v as C}from"./TableView-CMbHc5dx.js";import{S as P}from"./stock_report_service-CQfjx2rW.js";import{w as h}from"./v2utils-Czfb_0FR.js";import"./Export-CXTwynHo.js";import"./index-DC9jnrfb.js";const B=f({__name:"ClinicStockCardReport",setup(V){const u=v("reports.png"),a=i([]),o=i(""),t=new P,p=[[{label:"Medication",ref:"drug_name"},{label:"Pack Size",ref:"pack_size"},{label:"Opening Stock (Tins/Pallets)",ref:"opening_balance",toValue:e=>n(e)},{label:"Quantity Dispensed (Tins/Pallets)",ref:"dispensed_quantity",toValue:e=>n(e||0)},{label:"Stock on hand (Tins/Pallets)",ref:"closing_balance",toValue:e=>n(e)}]],r=()=>h(async()=>{if(!(t.startDate&&t.endDate))return w("Start date and end date required!");a.value=[],a.value=await t.getStockCardReport()}),l=()=>D({onFinish:(e,s,d)=>{o.value="".concat(d),t.startDate=e,t.endDate=s,r()}});return m(()=>!a.value.length&&l()),(e,s)=>(g(),_(c(k),null,{default:S(()=>[b(C,{"icon-url":c(u),title:"HIV Stock report","report-prefix":"Clinic",subtitle:o.value,columns:p,columnData:a.value,rowsPerPage:50,onConfigure:l,onRefresh:r},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{B as default};
