System.register(["./ReportMixin.vue_vue_type_script_lang-legacy-CGeB03oo.js","./regimen_report_service-legacy-nd-as-fr.js","./index-legacy-CNrLGT3P.js","./TableReportTemplate-legacy-C4LBGtof.js","./HisStandardForm-legacy-OekRIZB_.js","./ReportErrors-legacy-C_GtpKAy.js"],(function(t,e){"use strict";var r,o,s,n,i,a,d,l,c,u,p,h,m,g,w;return{setters:[t=>{r=t._},t=>{o=t.b,s=t.a,n=t.W},t=>{i=t.d,a=t.I,d=t.L,l=t.ah,c=t._,u=t.r,p=t.o,h=t.c,m=t.w,g=t.b},t=>{w=t.R},null,null],execute:function(){const e=i({mixins:[r],components:{ReportTemplate:w,IonPage:a},data:()=>({rows:[],title:"Regimen distribution (Weight)",columns:[]}),created(){this.columns=[[d.thTxt("Weight band"),d.thTxt("Gender"),...o.map((t=>d.thNum(t))),d.thNum("Unknown"),d.thNum("Total (regimen)")]],this.fields=this.getDateDurationFields()},methods:{async onPeriod(t,e){this.rows=[],this.report=new s,this.report.setOccupation(e.occupation),this.report.setStartDate(e.start_date),this.report.setEndDate(e.end_date),this.period=this.report.getDateIntervalPeriod();const r=await this.report.getRegimensByWeight();await this.setRows(r)},async setRows(t){const e=t=>[...o,"N/A"].map((e=>{const r=t.filter((t=>!!t[e])).map((t=>Object.values(t)[0]));return d.td(l.isEmpty(r)?0:r[0])})),r=t=>t.reduce(((t,e)=>t+e.td),0);n.forEach((o=>{t.filter((t=>t.weight===o)).forEach((t=>{const s=e(t.males),n=e(t.females),i=[d.td(o),d.td("Male"),...s,d.td(r(s))],a=[d.td(o),d.td("Female"),...n,d.td(r(n))];if(this.rows.push(i),this.rows.push(a),!l.isEmpty(t.unknown_gender)){const s=e(t.unknown_gender),n=r(s);this.rows.push([d.td(o),d.td("Unknown Gender"),...s,d.td(n)])}}))}))}}});t("default",c(e,[["render",function(t,e,r,o,s,n){const i=u("report-template"),a=u("ion-page");return p(),h(a,null,{default:m((()=>[g(i,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
