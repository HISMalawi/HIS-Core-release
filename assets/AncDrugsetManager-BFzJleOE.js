import{d as V,m as B,l as q,a5 as F,ad as L,ac as x,b4 as M,a4 as P,I as j,k as G,b$ as H,ah as W,a7 as Y,ag as J,aw as K,n as O,r as S,ay as r,c as y,o as Q,aY as v,aq as U,au as X,s as Z,ak as ee,ap as n,a as b,b as _,w as e,e as t,j as i,h as oe,a9 as te,aa as ne,t as ae,a6 as se}from"./index-y6JY22M4.js";import{A as I}from"./anc_drug_set-D4gE5liU.js";const le=V({components:{IonPage:O,ReportDataTable:K,IonList:J,IonItem:Y,IonLabel:W,ViewPort:H,IonButton:G,IonContent:j,IonHeader:P,IonGrid:M,IonRow:x,IonCol:L,IonTitle:F,IonFooter:q,IonToolbar:B},setup(){const a=U(),o=S({}),s=S([]),D=[[r.thTxt("Drug"),r.thTxt("Duration in days"),r.thTxt("Frequency")]],w=y(()=>!v.isEmpty(s.value)),C=y(()=>{var l,d;return((d=(l=o.value)==null?void 0:l.drugs)==null?void 0:d.map(u=>[r.td(u.drug_name||"N/A"),r.td(u.duration||"N/A"),r.td(u.frequency)]))||[]});Q(async()=>{s.value=await I.getDrugSets(),v.isEmpty(s.value)||(o.value=s.value[0])});function p(){a.back()}function c(){a.push({name:"add anc drugset"})}async function m(){if(await X("Are you sure you want to void this drug set?"))try{await I.voidDrugSet(o.value.id||-1),s.value=s.value.filter(l=>l.id!=o.value.id),v.isEmpty(s.value)?o.value={}:o.value=s.value[0]}catch(l){Z("e")}}return{cancel:p,addDrugset:c,voidDrugset:m,drugSets:s,hasSelectedDrugSet:w,selectedDrugSet:o,drugSetColumns:D,drugSetRows:C}}});function re(a,o,s,D,w,C){const p=n("ion-title"),c=n("ion-toolbar"),m=n("ion-header"),l=n("ion-label"),d=n("ion-item"),u=n("ion-list"),k=n("ion-col"),h=n("report-data-table"),T=n("ion-row"),A=n("ion-grid"),R=n("view-port"),$=n("ion-content"),g=n("ion-button"),z=n("ion-footer"),E=n("ion-page");return _(),b(E,null,{default:e(()=>[t(m,null,{default:e(()=>[t(c,null,{default:e(()=>[t(p,{class:"his-lg-text"},{default:e(()=>[...o[0]||(o[0]=[i(" Drug Set ",-1)])]),_:1})]),_:1})]),_:1}),t($,null,{default:e(()=>[t(R,null,{default:e(()=>[t(A,{style:{"background-color":"white"},class:"view-port-content"},{default:e(()=>[t(T,null,{default:e(()=>[t(k,{size:"4"},{default:e(()=>[t(u,null,{default:e(()=>[(_(!0),oe(te,null,ne(a.drugSets,(f,N)=>(_(),b(d,{class:"his-sm-text",button:"",detail:"",color:a.selectedDrugSet.id===f.id?"lightblue":"",onClick:ue=>a.selectedDrugSet=f,key:N},{default:e(()=>[t(l,null,{default:e(()=>[i(ae(f.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),t(k,{size:"8"},{default:e(()=>[t(h,{columns:a.drugSetColumns,rows:a.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(z,null,{default:e(()=>[t(c,{color:"dark"},{default:e(()=>[t(g,{onClick:a.cancel,slot:"start",color:"danger",size:"large"},{default:e(()=>[...o[1]||(o[1]=[i(" Cancel ",-1)])]),_:1},8,["onClick"]),a.hasSelectedDrugSet?(_(),b(g,{key:0,onClick:a.voidDrugset,slot:"end",color:"danger",size:"large"},{default:e(()=>[...o[2]||(o[2]=[i(" Void Drug Set ",-1)])]),_:1},8,["onClick"])):se("",!0),t(g,{onClick:a.addDrugset,slot:"end",color:"success",size:"large"},{default:e(()=>[...o[3]||(o[3]=[i(" Add Drug Set ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}const de=ee(le,[["render",re],["__scopeId","data-v-fe2c217d"]]);export{de as default};
