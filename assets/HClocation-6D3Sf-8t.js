import{d as S,aj as T,l as V,j as K,I as N,k as P,i as $,f as w,m as B,ak as E,aa as x,K as k,M as H,al as U,S as L,ae as M,t as y,a2 as O,am as R,an as z,ao as A,_ as j,r as n,o as d,c as _,w as t,b as s,u as p,z as C}from"./index-Bb5e7Gwm.js";const F=S({name:"HC location",components:{BarcodeInput:T,IonContent:V,IonHeader:K,IonPage:N,IonTitle:P,IonToolbar:$,IonButton:w,IonFooter:B,HisKeyboard:E},setup(){const{activePlatformProfile:e}=x(),o=k(""),l=k(""),f=H(()=>e.value.scanner===A.CAMERA_SCANNER);async function r(){o.value.includes("$")||(o.value+="$");const a=await L.getJson("locations/".concat(o.value));if(M.isEmpty(a))y("Invalid location");else{const u=a;sessionStorage.userLocation=u.name;try{await O().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}R.push("/")}l.value=o.value,o.value=""}function b(a){o.value=a}function i(a){o.value=z(a,o.value),console.log("barcode",o.value)}async function c(a){o.value=a,await r()}return{onbarcodeText:b,onScan:c,onKbClick:i,searchLocation:r,useVirtualKeyboard:f,clearValue:l,barcodeText:o,NUMBERS:U}}});function D(e,o,l,f,r,b){const i=n("ion-title"),c=n("ion-toolbar"),a=n("ion-header"),u=n("barcode-input"),m=n("ion-content"),g=n("his-keyboard"),v=n("ion-button"),h=n("ion-footer"),I=n("ion-page");return d(),_(I,null,{default:t(()=>[s(a,{translucent:!0},{default:t(()=>[s(c,null,{default:t(()=>[s(i,null,{default:t(()=>[p("Scan work-station location")]),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:t(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(d(),_(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(h,null,{default:t(()=>[s(c,{color:"dark"},{default:t(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:t(()=>[p(" Cancel ")]),_:1}),e.barcodeText?(d(),_(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:t(()=>[p(" Next ")]),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const W=j(F,[["render",D],["__scopeId","data-v-3f50a6e8"]]);export{W as default};
