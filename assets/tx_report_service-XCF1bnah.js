var m=Object.defineProperty;var h=(i,e,t)=>e in i?m(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>(h(i,typeof e!="symbol"?e+"":e,t),t);import{bB as n,ca as d}from"./index-iM2cGz0p.js";class x extends n{constructor(){super();o(this,"org");o(this,"initializeArvRefillReportTables");this.org="pepfar",this.initializeArvRefillReportTables=!0}initArvRefillPeriod(t){this.initializeArvRefillReportTables=t}setOrg(t){this.org=t}getClinicTxRtt(){return this.getReport("programs/".concat(this.programID,"/reports/clinic_tx_rtt"))}getTxMMDClientLevelData(t){const r=d.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),s="tx_mmd_client_level_data?".concat(r);return n.postJson(s,{patient_ids:t})}remapTxClientLevelData(t){return t.map(r=>{let s=null;const p=[];for(const g in r)Object.values(r[g]).forEach(l=>{for(const _ in l){const a=l[_];s||(s={id:a.arv_number,dob:a.birthdate,dispenseDate:a.start_date}),p.push({name:a.drug_name,quantity:a.quantity,dose:a.dose_per_day})}});return{...s,drugs:p}})}getTxCurrMMDReport(t,r){return this.getReport("arv_refill_periods",{org:this.org,min_age:"".concat(t),max_age:"".concat(r),initialize_tables:"".concat(this.initializeArvRefillReportTables)})}getTxMlReport(){return this.getReport("tx_ml")}getTxNewReport(t){return this.getReport("programs/".concat(this.programID,"/reports/tx_new"),{rebuild:"".concat(t)})}getTxRttReport(){return this.getReport("tx_rtt")}getMaternalStatus(t){const r=d.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,date:this.date,program_id:this.programID,report_definition:"pepfar"});return n.postJson("vl_maternal_status?".concat(r),{patient_ids:t})}}export{x as T};
