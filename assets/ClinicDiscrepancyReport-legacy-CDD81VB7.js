System.register(["./index-legacy-DCqMHtVA.js","./TableView-legacy-7Qk78yFq.js","./stock_report_service-legacy-DB3nYlPZ.js","./ReportDateSelectionPrompt-legacy-C164IJ-9.js","./fuse-legacy-CQoBB3MK.js","./Export-legacy-DXJPpqRT.js","./HisKeyboard-legacy-D5WWwS7Y.js"],(function(e,t){"use strict";var a,r,l,n,i,u,c,s,o,f,d,p,v,y,g,D,_;return{setters:[e=>{a=e.d,r=e.K,l=e.N,n=e.o,i=e.c,u=e.w,c=e.b,s=e.cA,o=e.ct,f=e.cB,d=e.t,p=e.q,v=e.ch,y=e.I},e=>{g=e.v},e=>{D=e.S},e=>{_=e.D},null,null,null],execute:function(){e("default",a({__name:"ClinicDiscrepancyReport",setup(e){const t=r([]),a=r(""),b=r(!1),m=new D,j=[[{label:"Drug Count Date",ref:"verification_date",value:e=>o(e.verification_date)},{label:"Drug Name",ref:"short_name"},{label:"Expected Count",ref:"expected_quantity",value:e=>f(e.expected_quantity)},{label:"Verified Count",ref:"current_quantity",value:e=>f(e.current_quantity)},{label:"Difference",ref:"difference",value:e=>f(e.difference)},{label:"Reason",ref:"variance_reason"}]],x=async()=>{if(!m.startDate||!m.endDate)return d("Start date and end date required!");b.value=!0,t.value=[];try{t.value=await m.getDiscrepancyReport()}catch(e){p("Unable to generate report!")}b.value=!1},C=()=>_({onFinish:(e,t,r)=>{a.value=`Period (${r})`,m.startDate=e,m.endDate=t,x()}});return l((()=>!t.value.length&&C())),(e,r)=>(n(),i(s(y),null,{default:u((()=>[c(s(v),{"is-open":b.value,message:"Please wait..."},null,8,["is-open"]),c(g,{title:"Clinic Discrepancy Report","report-prefix":"Clinic",subtitle:a.value,columns:j,columnData:t.value,rowsPerPage:20,onConfigure:C,onRefresh:x},null,8,["subtitle","columnData"])])),_:1}))}}))}}}));
