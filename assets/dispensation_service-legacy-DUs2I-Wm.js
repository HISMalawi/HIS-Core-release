System.register(["./index-legacy-CA6M7ipO.js","./drug_order_service-legacy-3VUXkHbj.js"],(function(r,t){"use strict";var e,s;return{setters:[r=>{e=r.bQ},r=>{s=r.D}],execute:function(){r("D",class extends e{drugHistory;currentDrugOrder;constructor(r,t){super(r,54,t),this.drugHistory=[],this.currentDrugOrder=[]}getDrugHistory(){return this.drugHistory}getCurrentOrder(){return this.currentDrugOrder}buildDispensations(r,t){return[{drug_order_id:r,date:this.date,quantity:t}]}saveDispensations(r){return e.postJson("/dispensations",{dispensations:r,program_id:e.getProgramID()})}async voidOrder(r){return e.void(`/dispensations/${r}`,{})}async loadDrugHistory(){const r=await s.getDrugOrderHistory(this.patientID);r&&(this.drugHistory=r)}async loadCurrentDrugOrder(){const r=await s.getDrugOrders(this.patientID);r&&(this.currentDrugOrder=await Promise.all(r))}calcCompletePack(r,t){const e=r.barcodes.sort((function(r,t){return r.tabs-t.tabs}));if(0==e.length||0==t)return t;for(let i=0;i<=e.length-1;i++)if(parseInt(e[i].tabs)>=t)return e[i].tabs;const s=parseInt(e[0].tabs);let n=parseInt(e[e.length-1].tabs);for(;n<t;)n+=s;return n}})}}}));
