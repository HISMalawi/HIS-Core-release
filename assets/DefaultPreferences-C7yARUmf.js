import{F as a}from"./dynamic-import-helper-Bsjrd6Ro.js";import{d as T,I as _,G as h,T as m,ba as n,cl as o,V as s,ab as f,_ as g,r as d,o as y,c as C,w as P,b as E}from"./index-ChqjXh1q.js";import{H as L}from"./HisStandardForm-BfZPxRjA.js";import{e as N}from"./LocationFieldOptions-D91ZE4qo.js";import"./TouchScreenForm-Bp625zJI.js";import"./ToolbarMediumCard-NV07rtjo.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-DBgU2Ffk.js";const A=T({components:{HisStandardForm:L,IonPage:_},data:()=>({preference:"",fields:[]}),created(){this.preference=this.$route.name,this.fields=[...this.getTargetLab(),...this.getBPThresholdPreferences(),...this.getFilingNumberLimitPreferences(),...this.getAppointmentLimitPreferences(),...this.getHtnAgePreferences(),...this.getNotificationPeriod(),...this.getClinicDaysPreferences(),...this.getClinicHolidaysPreferences(),...this.getCxCaScreeningPreference()]},methods:{isProp(i){return!this.preference||i===this.preference},async onFinish(i,e){for(const t in e)await h.set(t,e[t]),m("Property has been updated",2e3);this.$router.back()},getTargetLab(){return[{id:n.TARGET_LAB,helpText:"Please select target lab",type:a.TT_SELECT,computedValue:i=>i.value,defaultValue:()=>o.targetLab(),validation:i=>s.required(i),condition:()=>this.isProp("target_lab"),options:(i,e="")=>N(e),config:{showKeyboard:!0,isFilterDataViaApi:!0}}]},getCxCaScreeningPreference(){const i="cervical_cancer",e=n.CERVICAL_CANCER_SCREENING;return[{id:e,helpText:"Activate CxCa screening",type:a.TT_YES_NO,condition:()=>this.isProp(i),computedValue:t=>t,defaultValue:()=>o.cervicalCancerScreeningEnabled(),validation:t=>s.required(t),options:()=>[{label:"Activate screening?",values:[{label:"Yes",value:"true"},{label:"No",value:"false"}]}]},{id:"starting_screening_age",proxyID:n.CERVICAL_CANCER_AGE_BOUNDS,helpText:"Starting screening age",type:a.TT_NUMBER,condition:t=>this.isProp(i)&&t[e]==="true",defaultValue:async()=>{const{start:t}=await o.cervicalCancerScreeningAgeBounds();if(t)return t},validation:t=>s.required(t)},{id:"maximum_screening_age",proxyID:n.CERVICAL_CANCER_AGE_BOUNDS,helpText:"Maximum screening age",type:a.TT_NUMBER,condition:t=>this.isProp(i)&&t[e]==="true",computedValue:(t,r)=>"".concat(r.starting_screening_age.value,":").concat(t.value),defaultValue:async()=>{const{end:t}=await o.cervicalCancerScreeningAgeBounds();if(t)return t},validation:t=>s.required(t)}]},getClinicHolidaysPreferences(){const i=n.CLINIC_HOLIDAYS;return[{id:i,helpText:"Set clinic holiday(s)",type:a.TT_CLINIC_HOLIDAY_PICKER,condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.clinicHolidays(),validation:e=>s.required(e)}]},getBPThresholdPreferences(){const i="bp_thresholds";return[{id:n.HTN_SYSTOLIC_THRESHOLD,helpText:"Set systolic blood pressure",type:a.TT_NUMBER,condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.systolicThreshold(),validation:e=>s.required(e)},{id:n.HTN_DIASTOLIC_THRESHOLD,helpText:"Set diastolic blood pressure",type:a.TT_NUMBER,condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.diastolicThreshold(),validation:e=>s.required(e)}]},getFilingNumberLimitPreferences(){const i=n.FILING_NUMBER_LIMIT;return[{id:i,helpText:"Enter Filing Number Limit",condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.filingNumberLimit(),type:a.TT_NUMBER,validation:e=>s.required(e)}]},getAppointmentLimitPreferences(){const i=n.APPOINTMENT_LIMIT;return[{id:i,helpText:"Enter Appointment Limit",type:a.TT_NUMBER,computedValue:e=>e.value,condition:()=>this.isProp(i),defaultValue:()=>o.appointmentLimit(),validation:e=>s.required(e)}]},getHtnAgePreferences(){const i=n.HTN_SCREENING_AGE_THRESHOLD;return[{id:i,type:a.TT_NUMBER,helpText:"Enter HTN age Threshold",condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.htnAgeThreshold(),validation:e=>s.required(e)}]},getNotificationPeriod(){const i=n.NOTIFICATION_PERIOD;return[{id:i,type:a.TT_NUMBER,helpText:"Enter Number of Days",condition:()=>this.isProp(i),computedValue:e=>e.value,defaultValue:()=>o.notificationPeriod(),validation:e=>s.required(e)}]},getClinicDaysPreferences(){const i="clinic_days",e=r=>r.map(c=>c.value).join(),t=r=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(l=>({label:l,value:l,isChecked:!f.isEmpty(r)&&r.search(l)>=0}));return[{id:n.ADULT_CLINIC_DAYS,helpText:"Clinic days (adults: 18 yrs and over)",type:a.TT_MULTIPLE_SELECT,condition:()=>this.isProp(i),computedValue:r=>e(r),validation:r=>s.required(r),options:async()=>t(await o.adultClinicDays())},{id:n.PEADS_CLINIC_DAYS,helpText:"Clinic days (children: Under 18 yrs)",type:a.TT_MULTIPLE_SELECT,condition:()=>this.isProp(i),computedValue:r=>e(r),validation:r=>s.required(r),options:async()=>t(await o.peadsClinicDays())}]}}});function v(i,e,t,r,c,l){const p=d("his-standard-form"),u=d("ion-page");return y(),C(u,null,{default:P(()=>[E(p,{fields:i.fields,onFinishAction:i.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])]),_:1})}const H=g(A,[["render",v]]);export{H as default};
