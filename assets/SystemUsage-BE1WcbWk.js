import{d as p,I as d,L as o,Y as r,H as i,_ as l,r as a,o as c,c as u,w as h,b as _}from"./index-BF3WrZAg.js";import{_ as f}from"./ReportMixin.vue_vue_type_script_lang-DJDwNrWZ.js";import{R as g}from"./TableReportTemplate-Dv3zXqau.js";import"./MultiFieldDateHelper-CfR-mt6e.js";import"./dynamic-import-helper-Bsjrd6Ro.js";import"./KbLayouts-VRA-vjeH.js";import"./HisKbConfigurations-GhFQZvlg.js";import"./BasicReportTemplate-CMHlfMRv.js";import"./Export-DX9Hlc8a.js";import"./SIngleTouchField-CA6430eG.js";import"./Pagination-BWMwXnQK.js";import"./HisStandardForm-CNo-jxdn.js";import"./TouchScreenForm-DEXYdl71.js";import"./ToolbarMediumCard-CJsYT4iG.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-J1DvtW6Z.js";import"./ReportErrors-Bgm9c8TP.js";const w=p({mixins:[f],components:{ReportTemplate:g,IonPage:d},data:()=>({title:"User system usage",rows:[],columns:[[o.thTxt("First name"),o.thTxt("Last name"),o.thTxt("Role"),o.thDate("Registered on"),o.thDate("Encounters created")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t){this.rows=[];const s=await r.getSystemUsageByUsers(t.start_date,t.end_date);this.period="".concat(i.toStandardHisDisplayFormat(t.start_date),"-").concat(i.toStandardHisDisplayFormat(t.end_date)),this.title="User system usage <b>".concat(this.period,"</b>"),this.customFileName="".concat(r.getLocationName()," User system usage ").concat(this.period),this.setRows(s)},async setRows(e){e.forEach(t=>{this.rows.push([o.td(t.given_name),o.td(t.family_name),o.td(t.role),o.tdDate(t.registered_on),o.td(t.encounters)])})}}});function y(e,t,s,$,D,F){const n=a("report-template"),m=a("ion-page");return c(),u(m,null,{default:h(()=>[_(n,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]),_:1})}const V=l(w,[["render",y]]);export{V as default};
