System.register(["./ReportMixin.vue_vue_type_script_lang-legacy-C9Ns8WHu.js","./regimen_report_service-legacy-QubKwH24.js","./index-legacy-C29Eb2Qm.js","./TableReportTemplate-legacy-BuasS8uz.js","./MultiFieldDateHelper-legacy-DNe3hLpD.js","./dynamic-import-helper-legacy-DYK5bIOV.js","./KbLayouts-legacy-BKvPSxzZ.js","./HisKbConfigurations-legacy-vrLd9Pgz.js","./BasicReportTemplate-legacy-Dme8z_3V.js","./Export-legacy-DkNEJvfQ.js","./SIngleTouchField-legacy-BRNk_9sq.js","./Pagination-legacy-mp0eCPy0.js","./HisStandardForm-legacy-BpfFI5_j.js","./TouchScreenForm-legacy-BmEuIwWy.js","./ToolbarMediumCard-legacy-CF38wqjC.js","./Transformers-legacy-DhNYVLaS.js","./ViewPort-legacy-CDi_rmkw.js","./ReportErrors-legacy-BEWHM-PZ.js"],(function(e,t){"use strict";var s,n,r,o,l,i,a,c,u,d,g,p,h,m,y;return{setters:[e=>{s=e._},e=>{n=e.b,r=e.a,o=e.W},e=>{l=e.d,i=e.I,a=e.L,c=e.ab,u=e._,d=e.r,g=e.o,p=e.c,h=e.w,m=e.b},e=>{y=e.R},null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const t=l({mixins:[s],components:{ReportTemplate:y,IonPage:i},data:()=>({rows:[],title:"Regimen distribution (Weight)",columns:[]}),created(){this.columns=[[a.thTxt("Weight band"),a.thTxt("Gender"),...n.map((e=>a.thNum(e))),a.thNum("Unknown"),a.thNum("Total (regimen)")]],this.fields=this.getDateDurationFields()},methods:{async onPeriod(e,t){this.rows=[],this.report=new r,this.report.setOccupation(t.occupation),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod();const s=await this.report.getRegimensByWeight();await this.setRows(s)},async setRows(e){const t=e=>[...n,"N/A"].map((t=>{const s=e.filter((e=>!!e[t])).map((e=>Object.values(e)[0]));return a.td(c.isEmpty(s)?0:s[0])})),s=e=>e.reduce(((e,t)=>e+t.td),0);o.forEach((n=>{e.filter((e=>e.weight===n)).forEach((e=>{const r=t(e.males),o=t(e.females),l=[a.td(n),a.td("Male"),...r,a.td(s(r))],i=[a.td(n),a.td("Female"),...o,a.td(s(o))];if(this.rows.push(l),this.rows.push(i),!c.isEmpty(e.unknown_gender)){const r=t(e.unknown_gender),o=s(r);this.rows.push([a.td(n),a.td("Unknown Gender"),...r,a.td(o)])}}))}))}}});e("default",u(t,[["render",function(e,t,s,n,r,o){const l=d("report-template"),i=d("ion-page");return g(),p(i,null,{default:h((()=>[m(l,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])])),_:1})}]]))}}}));
