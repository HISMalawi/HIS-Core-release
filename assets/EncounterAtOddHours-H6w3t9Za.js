import{d as p,r as o,o as g,D,a as b,b as v,w as _,e as d,f as s,v as x,x as w,n as h,s as y,y as C}from"./index-Ds0zDBhU.js";import{v as E}from"./TableView-N12LtehS.js";import{D as I}from"./data_verification_service-BqMvMaM-.js";import"./Export-DFDKXGhs.js";import"./index-DZD2XSQD.js";const L=p({__name:"EncounterAtOddHours",setup(O){const l=o([]),i=o(""),n=o(!1),t=new I,f=[[{label:"#",ref:"index"},{label:"User",ref:"username"},{label:"Date",ref:"date"},{label:"Time",ref:"time"},{label:"Encounter ID",ref:"encounter_id"}]],u=async()=>{if(!(t.startDate&&t.endDate))return y("Start date and end date required!");n.value=!0;try{const e=await t.getEncountersDoneInOddHours();l.value=Object.keys(e).reduce((a,r,m)=>[...a,{index:m+1,...e[r]}],[])}catch(e){console.error(e),C("Unable to generate report!")}n.value=!1},c=()=>D({onFinish:(e,a,r)=>{i.value=r,t.startDate=e,t.endDate=a,u()}});return g(()=>c()),(e,a)=>(v(),b(s(h),null,{default:_(()=>[d(s(x),{"is-open":n.value,message:"Please wait.."},null,8,["is-open"]),d(E,{"icon-url":s(w)("reports.png"),title:"Encounters at Odd Hours","report-prefix":"Clinic",subtitle:i.value,columns:f,columnData:l.value,rowsPerPage:100,onConfigure:c,onRefresh:u},null,8,["icon-url","subtitle","columnData"])]),_:1}))}});export{L as default};
