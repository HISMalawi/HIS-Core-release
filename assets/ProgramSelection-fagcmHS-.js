import{d as D,bM as $,$ as I,_ as S,a1 as V,a0 as B,a3 as N,X as E,aK as H,ai as z,a8 as A,ad as s,u as a,v as m,w as n,G as d,E as l,z as p,x as r,C as _,B as i,H as f,K as e,a6 as F,a7 as L}from"./index-LyP1z09P.js";import{_ as K}from"./FieldMixin.vue_vue_type_script_lang-ZZMNErib.js";const x=D({name:"HisSelect",components:{ViewPort:$,IonCol:I,IonRow:S,IonLabel:V,IonList:B,IonButton:N,IonItem:E},mixins:[K],watch:{clear(t){t&&(this.activeProgram={},this.$emit("onClear"))}},data:()=>({listData:[],activeProgram:{}}),mounted(){this.init()},activated(){this.init()},computed:{states(){return H.isEmpty(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata)},formatDate(t){return t?z.toStandardHisDisplayFormat(t):"N/A"},async onselect(t){if(this.activeProgram=t,this.onValue&&!await this.onValue(t,this)){this.activeProgram={};return}this.$emit("onValue",t)}}}),G=t=>(F("data-v-5116b3e3"),t=t(),L(),t),M={class:"view-port-content"},R={key:0,style:{textAlign:"center"}},T={key:1,class:"his-sm-text his-table"},X=G(()=>e("tr",null,[e("th",null,"State"),e("th",null,"State Date"),e("th",null,"End Date"),e("th",null,"Actions")],-1));function j(t,v,q,J,O,Q){const g=s("ion-label"),b=s("ion-item"),k=s("ion-list"),h=s("ion-col"),w=s("ion-button"),P=s("ion-row"),y=s("view-port");return a(),m(y,null,{default:n(()=>[e("div",M,[r(P,null,{default:n(()=>[r(h,{size:"4"},{default:n(()=>[r(k,null,{default:n(()=>[(a(!0),i(d,null,_(t.listData,(o,c)=>(a(),m(b,{class:"his-sm-text",color:o.label===t.activeProgram.label?"primary":"",key:c,onClick:u=>t.onselect(o),detail:""},{default:n(()=>[r(g,null,{default:n(()=>[p(l(o.label),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),r(h,{size:"8"},{default:n(()=>[t.activeProgram.label&&t.states.length<=0?(a(),i("h1",R," Program has no states ")):f("",!0),t.activeProgram.label&&t.states.length>0?(a(),i("table",T,[X,(a(!0),i(d,null,_(t.states,(o,c)=>(a(),i("tr",{key:c},[e("td",null,l(o.name),1),e("td",null,l(o.startDate),1),e("td",null,l(o.endDate||"N/A"),1),e("td",null,[(a(!0),i(d,null,_(o.actions,(u,C)=>(a(),m(w,{key:C,color:u.color,onClick:U=>u.action(t.activeProgram,c)},{default:n(()=>[p(l(u.name),1)]),_:2},1032,["color","onClick"]))),128))])]))),128))])):f("",!0)]),_:1})]),_:1})])]),_:1})}const Z=A(x,[["render",j],["__scopeId","data-v-5116b3e3"]]);export{Z as default};
