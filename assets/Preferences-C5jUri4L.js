import{F as i}from"./dynamic-import-helper-BkBZiFw5.js";import{H as _}from"./HisStandardForm-CaDwl-hA.js";import{G as o,d as p,I as d,T,V as n,_ as m,r as c,o as C,c as h,w as f,b as S}from"./index-BCTN_bnC.js";import"./TouchScreenForm-TKB9q3ZD.js";import"./ToolbarMediumCard-O_J6wu7C.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-BCxYiILf.js";var e=(t=>(t.SITE_TB_CODE="tb_site_prefix",t.FACILITY_CATCHMENT_POPULATION="facility_catchment_population",t.LAB_CONFIGURATION="test_turnaround",t.FUNCTIONAL_SPUTUM_COLLECTION_POINTS="functional_sputum_collection_points_in_catchment",t.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS="newly_established_sputum_collection_points",t))(e||{});const P=()=>o.get("tb_site_prefix"),N=()=>o.get("facility_catchment_population"),I=()=>o.get("functional_sputum_collection_points_in_catchment"),O=()=>o.get("newly_established_sputum_collection_points"),E=t=>o.set("tb_site_prefix",t),L=t=>o.set("facility_catchment_population",t),y=t=>o.set("functional_sputum_collection_points_in_catchment",t),U=t=>o.set("newly_established_sputum_collection_points",t),s={getSiteTbCode:P,getSiteCatchmentPopulation:N,getFunctionalSputumCollectionPoints:I,getNewlyEstablishedSputumCollectionPoints:O,setSiteTbCode:E,setSiteCatchmentPopulation:L,setFunctionalSputumCollectionPoints:y,setNewlyEstablishedSputumCollectionPoints:U},b=p({components:{HisStandardForm:_,IonPage:d},data:()=>({preference:"",fields:[]}),created(){this.preference=this.$route.query.config,this.fields=[...this.systemPreferences()]},methods:{isProp(t){return!this.preference||t===this.preference},async onFinish(t,a){for(const r in a)await o.set(r,a[r]),T("Property has been updated",2e3);this.$router.back()},systemPreferences(){return[{id:e.SITE_TB_CODE,helpText:"Set Site Code",type:i.TT_TEXT,computedValue:t=>t.value,defaultValue:()=>s.getSiteTbCode(),validation:t=>n.required(t),condition:()=>this.isProp(e.SITE_TB_CODE),config:{showKeyboard:!0}},{id:e.FACILITY_CATCHMENT_POPULATION,helpText:"Set Facility Catchment Population",type:i.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getSiteCatchmentPopulation(),validation:t=>n.required(t),condition:()=>this.isProp(e.FACILITY_CATCHMENT_POPULATION),config:{showKeyboard:!0}},{id:e.FUNCTIONAL_SPUTUM_COLLECTION_POINTS,helpText:"Set Functional Sputum Collection Points",type:i.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getFunctionalSputumCollectionPoints(),validation:t=>n.required(t),condition:()=>this.isProp(e.FUNCTIONAL_SPUTUM_COLLECTION_POINTS),config:{showKeyboard:!0}},{id:e.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS,helpText:"Set Newly Established Sputum Collection Points",type:i.TT_NUMBER,computedValue:t=>t.value,defaultValue:()=>s.getNewlyEstablishedSputumCollectionPoints(),validation:t=>n.required(t),condition:()=>this.isProp(e.NEWLY_ESTABLISHED_SPUTUM_COLLECTION_POINTS),config:{showKeyboard:!0}}]}}});function g(t,a,r,A,F,w){const l=c("his-standard-form"),u=c("ion-page");return C(),h(u,null,{default:f(()=>[S(l,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])]),_:1})}const Y=m(b,[["render",g]]);export{Y as default};
