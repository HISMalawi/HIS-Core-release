import{d as m,K as d,t as _,V as f,o as v,c as T,w as b,b as E,cl as s,ag as R,I as h}from"./index-BCTN_bnC.js";import{F as x}from"./dynamic-import-helper-BkBZiFw5.js";import{H as F}from"./HisStandardForm-CaDwl-hA.js";import{u as M}from"./useEncounter-CDUT-p5Y.js";import{L as A}from"./lab_service-BRM8Dcbe.js";import{g as t}from"./util-CyjuS_4X.js";import"./TouchScreenForm-TKB9q3ZD.js";import"./ToolbarMediumCard-O_J6wu7C.js";import"./Transformers-BPPLlH12.js";import"./ViewPort-BCxYiILf.js";import"./isEmpty-OXtHK5dz.js";import"./_Set-VKtKUQAI.js";import"./_setToArray-BLmuRUHx.js";import"./encounter_guidelines-DZpIPlYY.js";import"./GuidelineEngine-D6V1_Znr.js";const $=m({__name:"Result",setup(I){const r=d([]),o={[t("MICROSCOPY")]:{label:"Microscopy",value:"/tb/results/microscopy"},[t("XPERT_MTB_RIF")]:{label:"Xpert MTB/RIF",value:"/tb/results/xpert"},[t("XPERT_MTB_RIF_ULTRA")]:{label:"Xpert MTB/RIF Ultra",value:"/tb/results/xpert"},[t("LPA")]:{label:"LPA",value:"/tb/results/lpa"},[t("LAM")]:{label:"LAM",value:"/tb/results/lam"},[t("CULTURE_AND_DST")]:{label:"Culture and DST",value:"/tb/results/culture"}},{patientDashboardUrl:l,patientId:u}=M((a,i)=>{const p=()=>{const n={};return{id:"examination",helpText:"Recent Examination(s):",type:x.TT_SELECT,init:async()=>{try{(await A.getRecentOrders(i)).observations.forEach(e=>{e.concept_id===t("TEST_REQUESTED")&&o[e.value_coded]&&(n[e.value_coded]=o[e.value_coded])})}catch(e){console.error("".concat(e)),_("No recent results found")}return!0},validation:e=>f.required(e),options:()=>Object.values(n)}};r.value=[p()]});function c(a){R.push("".concat(a.examination.value,"/").concat(u.value))}return(a,i)=>(v(),T(s(h),null,{default:b(()=>[E(F,{cancelDestinationPath:s(l),onFinishAction:c,fields:r.value,skipSummary:!0},null,8,["cancelDestinationPath","fields"])]),_:1}))}});export{$ as default};
