import{d as T,a$ as V,I as K,aa as N,q as $,ab as h,p as P,m as w,n as B,b0 as E,aO as x,r as k,c as H,b1 as O,S as R,aR as U,l as y,aK as L,j as A,b2 as M,b3 as z,ak as F,b as d,w as a,ap as t,a as p,e as s,h as f,a6 as C}from"./index-CJleCCtM.js";const j=T({name:"HC location",components:{BarcodeInput:V,IonContent:K,IonHeader:N,IonPage:$,IonTitle:h,IonToolbar:P,IonButton:w,IonFooter:B,HisKeyboard:E},setup(){const{activePlatformProfile:e}=x(),o=k(""),r=k(""),_=H(()=>e.value.scanner===z.CAMERA_SCANNER);async function c(){o.value.includes("$")||(o.value+="$");const n=await R.getJson("locations/".concat(o.value));if(U.isEmpty(n))y("Invalid location");else{const u=n;sessionStorage.userLocation=u.name;try{await L().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}A.push("/")}r.value=o.value,o.value=""}function b(n){o.value=n}function i(n){o.value=M(n,o.value),console.log("barcode",o.value)}async function l(n){o.value=n,await c()}return{onbarcodeText:b,onScan:l,onKbClick:i,searchLocation:c,useVirtualKeyboard:_,clearValue:r,barcodeText:o,NUMBERS:O}}});function q(e,o,r,_,c,b){const i=t("ion-title"),l=t("ion-toolbar"),n=t("ion-header"),u=t("barcode-input"),m=t("ion-content"),g=t("his-keyboard"),v=t("ion-button"),I=t("ion-footer"),S=t("ion-page");return p(),d(S,null,{default:a(()=>[s(n,{translucent:!0},{default:a(()=>[s(l,null,{default:a(()=>[s(i,null,{default:a(()=>o[0]||(o[0]=[f("Scan work-station location")])),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:a(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(p(),d(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(I,null,{default:a(()=>[s(l,{color:"dark"},{default:a(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:a(()=>o[1]||(o[1]=[f(" Cancel ")])),_:1}),e.barcodeText?(p(),d(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:a(()=>o[2]||(o[2]=[f(" Next ")])),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const J=F(j,[["render",q],["__scopeId","data-v-3f50a6e8"]]);export{J as default};
