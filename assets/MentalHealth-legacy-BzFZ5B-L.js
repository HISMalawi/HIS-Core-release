System.register(["./opd_report_service-legacy-C9EFSeZc.js","./BaseTableReport-legacy-DiJsMd7I.js","./index-legacy-2OuOZQ1w.js","./ReportMixin.vue_vue_type_script_lang-legacy-SQxkN2ye.js","./Export-legacy-D1zUexdI.js","./index-legacy-D_LoyUSC.js","./HisStandardForm-legacy-Cd-xGvNm.js","./BasicReportTemplate-legacy-D72Xzs9J.js","./Pagination-legacy-BgwkMHfb.js"],(function(e,t){"use strict";var s,a,r,l,i,o,n,u,h,d,c,p,y,m;return{setters:[e=>{s=e.M,a=e.O},e=>{r=e.R},e=>{l=e.d,i=e.aA,o=e.m,n=e.cw,u=e.am,h=e.ar,d=e.a,c=e.b,p=e.w,y=e.e},e=>{m=e._},null,null,null,null,null],execute:function(){const t=l({components:{ReportTemplate:r,IonPage:o},mixins:[m],data:()=>({title:"Mental health report",rows:[],reportService:{},columns:[[i.thTxt("",{sortable:!1,exportable:!1}),i.thTxt("New cases",{colspan:4,sortable:!1,exportable:!1}),i.thTxt("Subsequent cases",{colspan:4,sortable:!1,exportable:!1})],[i.thTxt("Diagnosis"),i.thTxt("Male (0-15 years)",{value:"Males (0-15 years New Cases)"}),i.thTxt("Male (>=16 years)",{value:"Males (>=16 years New Cases)"}),i.thTxt("Female (0-15 years)",{value:"Females (0-15 years New Cases)"}),i.thTxt("Female (>=16 years)",{value:"Females (>=16 years New Cases)"}),i.thTxt("Male (0-15 years)",{value:"Males (0-15 years Subsequent Cases)"}),i.thTxt("Male (>=16 years)",{value:"Males (>=16 years Subsequent Cases)"}),i.thTxt("Female (0-15 years)",{value:"Females (0-15 years Subsequent Cases)"}),i.thTxt("Female (>=16 years)",{value:"Females (>=16 years Subsequent Cases)"})]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(e,t){this.reportService=new a,this.reportService.setStartDate(t.start_date),this.reportService.setEndDate(t.end_date),this.period=this.reportService.getDateIntervalPeriod();const s=await this.reportService.getMentalHealth();this.rows=this.buildRows(s)},buildRows(e){return s.map((t=>[i.td(t,{style:{textAlign:"left"}}),this.toDrillColumn(e,t,"M","0-15 years",!0),this.toDrillColumn(e,t,"M",">=16 years",!0),this.toDrillColumn(e,t,"F","0-15 years",!0),this.toDrillColumn(e,t,"F",">=16 years",!0),this.toDrillColumn(e,t,"M","0-15 years"),this.toDrillColumn(e,t,"M",">=16 years"),this.toDrillColumn(e,t,"F","0-15 years"),this.toDrillColumn(e,t,"F",">=16 years")]))},getAgeGroup:e=>e<16?"0-15 years":">=16 years",toDrillColumn(e,t,s,a,r=!1){const l=e.filter((e=>e.name===t&&e.gender===s&&this.getAgeGroup(e.age)===a&&(!r||/new patient/i.test(e.type_of_visit))));if(l.length){const e=[[i.thTxt("Name"),i.thTxt("Birthdate (Age)"),i.thTxt("Address")]],r=l.map((e=>[i.td(`${e.given_name} ${e.family_name}`),i.td(`${n(e.birthdate)} (${e.age})`),i.td(`${e.village}, ${e.ta}, ${e.district}`)]));return i.tdLink(l.length,(()=>this.drilldownData(`${a} ${this.formatGender(s)} patients with ${t}`,e,r,void 0)))}return i.td(0)}}});e("default",u(t,[["render",function(e,t,s,a,r,l){const i=h("report-template"),o=h("ion-page");return c(),d(o,null,{default:p((()=>[y(i,{title:e.title,rows:e.rows,fields:e.fields,columns:e.columns,period:e.period,reportPrefix:"Clinic",onReportConfiguration:e.init},null,8,["title","rows","fields","columns","period","onReportConfiguration"])])),_:1})}]]))}}}));
