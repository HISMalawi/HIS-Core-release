System.register(["./TaskCard-legacy-CZxU8fQC.js","./index-legacy-CA6M7ipO.js"],(function(e,n){"use strict";var t,i,a,l,c,u,o,s,r,m,_,d,f,b,v,p,y,h,C,E,k,g,A,N;return{setters:[e=>{t=e.T},e=>{i=e.d,a=e.r,l=e.aL,c=e.o,u=e.aw,o=e.a,s=e.E,r=e.b,m=e.w,_=e.J,d=e.G,f=e.c,b=e.u,v=e.d3,p=e.C,y=e.a2,h=e.d4,C=e.a3,E=e.a4,k=e.i,g=e.b1,A=e.aN,N=e.a_}],execute:function(){e("default",i({__name:"HomeFolders",props:{items:Object,resetList:Number},emits:["onSublist"],setup(e,{emit:n}){const i=n,T=e,w=a(),S=a({}),B=a([]);function M(e,n=[],t="",i={}){return e.reduce(((e,a)=>{if(a.files&&!A.isEmpty(a.files)){const l={...i[a.name]??{}},c=[...n,a.name];e[a.name]||(e[a.name]={_breadcrumb:[],...a}),e[a.name]=M(a.files,c,a.defaultFilesIcon??a.icon,l),e[a.name]._breadcrumb=c,e[a.name]._visible=!a.condition||a.condition(),e[a.name]._icon=a.icon??t}else e[a.name]=a,e[a.name].icon=a.icon??t,e[a.name]._visible=!a.condition||a.condition();return e}),{...i})}async function U(e){w.value=e,u.set("ACTIVE_HOME_SUB_TAB_NAME",w.value);const n=j(e,0,S.value);await async function(e){B.value=[];for(const n in e){const t=e[n];await t._visible&&B.value.push({name:n,icon:t._icon??t.icon,action:()=>{"function"==typeof t.action?t.action():t._breadcrumb?U(t._breadcrumb):t.pathUrl?N.push(t.pathUrl):t.pathName&&N.push({name:t.pathName})}})}}(n),i("onSublist")}function j(e,n=0,t={}){if(""===e[0])return t;const i=n+1;let a=t[e[n]];return i<e.length&&(a=j(e,i,a)),a}return l((()=>T.resetList),(()=>U([""]))),c((async()=>{S.value=M(T.items??[]),U(await u.get("ACTIVE_HOME_SUB_TAB_NAME")??[""])})),(e,n)=>(o(),s(_,null,[r(b(h),null,{default:m((()=>[(o(!0),s(_,null,d(w.value,((e,n)=>(o(),f(b(v),{onClick:e=>function(e){U((w.value??[]).filter(((n,t)=>t<=e)))}(n),key:n,class:"his-md-text"},{default:m((()=>[p(y(e),1)])),_:2},1032,["onClick"])))),128))])),_:1}),r(b(g),null,{default:m((()=>[r(b(C),null,{default:m((()=>[(o(!0),s(_,null,d(B.value,((e,n)=>(o(),f(b(E),{key:n,"size-lg":"4","size-sm":"12"},{default:m((()=>[r(t,{onClick:e.action,title:e.name,icon:b(k)(e.icon)},null,8,["onClick","title","icon"])])),_:2},1024)))),128))])),_:1})])),_:1})],64))}}))}}}));
