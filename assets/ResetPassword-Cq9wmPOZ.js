import{H as u}from"./HisStandardForm-BCjM4-bc.js";import{d as l,r as c,ag as p,ad as r,ae as s,a as w,c as f,ah as h,U as v}from"./index-CMZASHAR.js";const T=l({__name:"ResetPassword",setup(m){const t=new h,a=c(!1),i=p(),n=[{id:"code",helpText:"Verification Code (Contact HelpDesk if you don't have one)",type:r.TT_BARCODE,validation:s.required,onValue:async e=>(a.value=await t.validateResetPasswordToken(e.replace(/-/g,"")),a.value),config:{hiddenFooterBtns:["Next","Clear"]}},{id:"new_password",proxyID:"password",helpText:"New Password",type:r.TT_PASSWORD,condition:()=>a.value,validation:e=>s.required(e),computedValue:e=>"".concat(e.value).toLowerCase()},{id:"verify_password",proxyID:"password",helpText:"Confirm Password",type:r.TT_PASSWORD,condition:()=>a.value,validation:(e,o)=>s.validateSeries([s.required,()=>e!==o.password.value?["Passwords do not match"]:null]),computedValue:e=>"".concat(e.value).toLowerCase()}];async function d(e,o){await v.updateUser(t.userID,o)&&(await t.resetUserPasswordChangeCheck(),i.push("/login"))}return(e,o)=>(w(),f(u,{cancelDestinationPath:"/login",fields:n,onFinishAction:d,"skip-summary":""}))}});export{T as default};
