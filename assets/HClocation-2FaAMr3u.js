import{d as T,aZ as V,a3 as N,a0 as P,f as $,a2 as w,a1 as K,ad as h,ae as B,a_ as E,aM as x,r as k,aw as H,a$ as M,S as U,aP as L,t as y,aI as O,b0 as R,b1 as A,b2 as z,af as F,c as d,w as n,ak as t,a as p,b as s,M as f,X as C}from"./index-4ZhJu3VE.js";const D=T({name:"HC location",components:{BarcodeInput:V,IonContent:N,IonHeader:P,IonPage:$,IonTitle:w,IonToolbar:K,IonButton:h,IonFooter:B,HisKeyboard:E},setup(){const{activePlatformProfile:a}=x(),o=k(""),r=k(""),_=H(()=>a.value.scanner===z.CAMERA_SCANNER);async function c(){o.value.includes("$")||(o.value+="$");const e=await U.getJson("locations/".concat(o.value));if(L.isEmpty(e))y("Invalid location");else{const u=e;sessionStorage.userLocation=u.name;try{await O().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}R.push("/")}r.value=o.value,o.value=""}function b(e){o.value=e}function i(e){o.value=A(e,o.value),console.log("barcode",o.value)}async function l(e){o.value=e,await c()}return{onbarcodeText:b,onScan:l,onKbClick:i,searchLocation:c,useVirtualKeyboard:_,clearValue:r,barcodeText:o,NUMBERS:M}}});function J(a,o,r,_,c,b){const i=t("ion-title"),l=t("ion-toolbar"),e=t("ion-header"),u=t("barcode-input"),m=t("ion-content"),g=t("his-keyboard"),v=t("ion-button"),I=t("ion-footer"),S=t("ion-page");return p(),d(S,null,{default:n(()=>[s(e,{translucent:!0},{default:n(()=>[s(l,null,{default:n(()=>[s(i,null,{default:n(()=>o[0]||(o[0]=[f("Scan work-station location")])),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:n(()=>[s(u,{class:"his-card",clearValue:a.clearValue,virtualText:a.barcodeText,onOnValue:a.onbarcodeText,onOnScan:a.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),a.useVirtualKeyboard?(p(),d(g,{key:0,kbConfig:a.NUMBERS,onKeyPress:a.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(I,null,{default:n(()=>[s(l,{color:"dark"},{default:n(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:n(()=>o[1]||(o[1]=[f(" Cancel ")])),_:1}),a.barcodeText?(p(),d(v,{key:0,slot:"end",color:"success",size:"large",onClick:a.searchLocation},{default:n(()=>o[2]||(o[2]=[f(" Next ")])),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const X=F(D,[["render",J],["__scopeId","data-v-3f50a6e8"]]);export{X as default};
