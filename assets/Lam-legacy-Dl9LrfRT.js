System.register(["./index-legacy-BsbMrqEO.js","./HisStandardForm-legacy-BbU4Bs9R.js","./useEncounter-legacy-D64YFiIH.js","./commons-legacy-Chic3QOO.js","./util-legacy-CjANJSja.js","./isEmpty-legacy-B5ngE3CS.js","./encounter_guidelines-legacy-o_0qujSe.js","./GuidelineEngine-legacy-KsvQuFdF.js"],(function(e,t){"use strict";var a,i,l,d,n,u,s,c,o,_,r,T,E,v,p,m,S;return{setters:[e=>{a=e.d,i=e.r,l=e.bI,d=e.dP,n=e.ao,u=e.ab,s=e.ac,c=e.u,o=e.v,_=e.w,r=e.x,T=e.y,E=e.a5},e=>{v=e.H},e=>{p=e.u},e=>{m=e.r},e=>{S=e.g},null,null,null],execute:function(){e("default",a({__name:"Lam",setup(e){const t=i([]),a=new l(-1,d.LAB_RESULTS),y=n(),{goToNextTask:L,patientDashboardUrl:g}=p(((e,i)=>{a.patientID=i,a.providerID=e,t.value=[{id:"sampleResult",helpText:"LAM Result:",type:u.TT_SELECT,validation:e=>s.required(e),computedValue:e=>[{concept_id:S("TB_STATUS"),value_coded:S(`${e.value}`),obs_datetime:a.date},{concept_id:S("BACTERIOLOGICALLY_DIAGNOSED"),value_coded:S("YES_ANSWER"),obs_datetime:a.date},{concept_id:S("PROCEDURE_TYPE"),value_coded:S("LAM"),obs_datetime:a.date},..."POSITIVE"===e.value?[{concept_id:S("TB_TYPE"),value_coded:S("EXTRA_PULMONARY_TB"),obs_datetime:a.date},{concept_id:S("TUBERCULOSIS_CLASS"),value_coded:S("LAM"),obs_datetime:a.date}]:[]],options:()=>[{value:"POSITIVE",label:"Positive"},{value:"NEGATIVE",label:"Negative"}]},{id:"resultDate",field_type:"date",helpText:"Sample Result Date:",type:u.TT_FULL_DATE,computedValue:e=>({concept_id:S("RESULT_DATE"),value_datetime:e.value,obs_datetime:a.date}),validation:e=>s.validateSeries([()=>s.required(e),()=>s.dateRangeOf(e,`${y.query.date}`,a.date)])}]}));async function A(e,t){await a.createEncounter(),await a.saveObservationList(await m(t)),L()}return(e,a)=>(c(),o(T(E),null,{default:_((()=>[r(v,{cancelDestinationPath:T(g),onFinishAction:A,fields:t.value,skipSummary:!0},null,8,["cancelDestinationPath","fields"])])),_:1}))}}))}}}));
