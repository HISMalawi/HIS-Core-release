System.register(["./index-legacy-pSEoxn3J.js","./FieldMixin.vue_vue_type_script_lang-legacy-BlfTynPc.js"],(function(e,t){"use strict";var a,i,s,l,o,n,r,d,u,h,c,p,v,y,b,m,w,f,_,x,g;return{setters:[e=>{a=e.d,i=e.eA,s=e.eB,l=e.i,o=e.c1,n=e.b4,r=e.a_,d=e.aQ,u=e.am,h=e.ar,c=e.h,p=e.b,v=e.e,y=e.g,b=e.w,m=e.a9,w=e.aa,f=e.j,_=e.t,x=e.bc},e=>{g=e._}],execute:function(){var t=document.createElement("style");t.textContent=".input_display[data-v-33e15592]{background:#fff;font-size:1.3em;height:20vh}#view-port[data-v-33e15592]{height:53vh}.del_btn[data-v-33e15592],.enter_btn[data-v-33e15592],.clear_btn[data-v-33e15592],.caps_btn[data-v-33e15592]{width:10vw!important}.key__button[data-v-33e15592]{box-sizing:border-box;font-size:1.4em;width:8vw;height:9vh;border-color:#f2f2f2;border-style:solid;text-shadow:0 .5px 1px #777,0 2px 6px #f2f2f2;border-width:1px;border-radius:10px!important;-webkit-box-shadow:var(--his-card-primary-shadow-webkit);-moz-box-shadow:var(--his-card-primary-shadow-moz);box-shadow:var(--his-card-primary-shadow)}\n/*$vite$:1*/",document.head.appendChild(t);const k=a({components:{ViewPort:o,IonButton:l,IonTextarea:s},mixins:[g],data:()=>({value:"",capsOn:!1,layout:i}),computed:{readonly:()=>"HIS_KEYBOARD_ONLY"===d().activePlatformProfile.value.keyboard},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),await this.setDefaultValue()},async setDefaultValue(){if(this.defaultValue&&!this.value){const e=await this.defaultValue(this.fdata,this.cdata);e&&(r.isPlainObject(e)?(this.emitValue(e),this.value=e.value.toString()):(this.value=e,this.emitValue({label:e,value:e})))}},updateKeyboardCaps(e=!1){this.layout=this.layout.map((t=>t.map((t=>e?t.toUpperCase():t.toLowerCase()))))},async emitValue(e){this.onValue&&!(await this.onValue(e))||(this.value=e.label,this.$emit("onValue",e))},async onKbValue(e){await this.emitValue({label:e,value:e})},async keypress(e){const t=n(this.capsOn?e.toUpperCase():e.toLowerCase(),this.value);if(t.match(/caps/i))return this.capsOn=!this.capsOn,void this.updateKeyboardCaps(this.capsOn);await this.emitValue({label:t,value:t})}},watch:{clear(){this.value=""}}}),V={class:"his-floating-keyboard"},C={class:"his-floating-keyboard-content"},O={style:{width:"99.9%"}};e("default",u(k,[["render",function(e,t,a,i,s,l){const o=h("ion-textarea"),n=h("view-port"),r=h("ion-button");return p(),c(m,null,[v(n,{showFull:!1},{default:b((()=>[v(o,{readonly:e.readonly,value:e.value,style:{width:"100%"},onIonInput:t[0]||(t[0]=t=>t.detail.value?e.emitValue({label:t.detail.value,value:t.detail.value}):null),placeholder:"Start typing....",class:"input_display"},null,8,["readonly","value"])])),_:1}),y("div",V,[y("div",C,[y("table",O,[(p(!0),c(m,null,w(e.layout,((t,a)=>(p(),c("tr",{key:a},[(p(!0),c(m,null,w(t,((t,a)=>(p(),c("td",{key:a},[v(r,{style:{"text-transform":"none"},strong:"",onClick:a=>e.keypress(t),class:x(`key__button ${t.toLowerCase()}_btn`)},{default:b((()=>[f(_(t),1)])),_:2},1032,["onClick","class"])])))),128))])))),128))])]),v(r,{onClick:t[1]||(t[1]=t=>e.keypress("space")),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:b((()=>[f(" Space ")])),_:1})])],64)}],["__scopeId","data-v-33e15592"]]))}}}));
