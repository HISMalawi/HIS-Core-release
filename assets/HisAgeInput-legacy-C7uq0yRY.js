System.register(["./BaseTextInput-legacy-B0M1JZ-n.js","./HisKeyboard-legacy-DlfcKdJX.js","./index-legacy-CNrLGT3P.js","./FieldMixin.vue_vue_type_script_lang-legacy-B1v8-yn1.js"],(function(e,t){"use strict";var i,s,n,l,a,o,u,d,r,c,m,h,f,v,y,U,b,g,p,V,I,_,k,x,T,K;return{setters:[e=>{i=e.default},e=>{s=e.H},e=>{n=e.d,l=e.br,a=e.h,o=e.g,u=e.D,d=e.cS,r=e.cO,c=e.dQ,m=e.ap,h=e.aW,f=e.H,v=e.ba,y=e._,U=e.r,b=e.o,g=e.x,p=e.b,V=e.w,I=e.B,_=e.y,k=e.c,x=e.u,T=e.v},e=>{K=e._}],execute:function(){const t=n({components:{BaseInput:i,HisKeyboard:s,ViewPort:l,IonItem:a,IonList:o,IonLabel:u,IonRadio:d,IonRadioGroup:r},mixins:[K],data:()=>({value:"",selectedTimeUnit:"",timeUnits:[],keyboard:c}),mounted(){this.init()},activated(){this.init()},methods:{init(){this.timeUnits=["Hours","Days","Weeks","Months","Years"],Array.isArray(this.config.excludeUnits)&&(this.timeUnits=this.timeUnits.filter((e=>!this.config.excludeUnits.includes(e)))),!this.selectedTimeUnit&&this.timeUnits.includes(this.config.defaultUnit)&&(this.selectedTimeUnit=this.config.defaultUnit),this.$emit("onFieldActivated",this)},clearValue(){this.value="",this.selectedTimeUnit=""},onKbValue(e){this.value=e},keypress(e){this.value=m(e,this.value)},emitValue(e,t){if(e&&t){const i=`${e} ${t}`,s=h(f.sessionDate()).subtract(parseInt(`${e}`),t);this.$emit("onValue",e?{label:i,value:i,other:{value:e,timeUnit:t,monthsAgoInt:h(f.sessionDate()).diff(s,"month"),daysAgoInt:h(f.sessionDate()).diff(s,"day"),date:s.format(v)}}:null)}else this.$emit("onValue",null)}},watch:{value(e){this.emitValue(e,this.selectedTimeUnit)},selectedTimeUnit(e){this.emitValue(this.value,e)}}});e("default",y(t,[["render",function(e,t,i,s,n,l){const a=U("base-input"),o=U("ion-radio"),u=U("ion-label"),d=U("ion-item"),r=U("ion-radio-group"),c=U("ion-list"),m=U("view-port"),h=U("his-keyboard");return b(),g(I,null,[p(m,null,{default:V((()=>[p(a,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"]),p(c,{class:"view-port-content"},{default:V((()=>[p(r,{modelValue:e.selectedTimeUnit,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedTimeUnit=t)},{default:V((()=>[(b(!0),g(I,null,_(e.timeUnits,((e,t)=>(b(),k(d,{class:"his-md-text",key:t},{default:V((()=>[p(o,{slot:"start",value:e},null,8,["value"]),p(u,null,{default:V((()=>[x(T(e),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),p(h,{kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])],64)}]]))}}}));
