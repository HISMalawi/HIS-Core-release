import{d as A,bW as y,b1 as k,a4 as w,a3 as D,a7 as b,au as C,dl as x,aa as $,af as l,a as d,c as h,w as n,K as r,b as i,a2 as u,E as I,J as z,G as B}from"./index-CMZASHAR.js";import{_ as K}from"./FieldMixin.vue_vue_type_script_lang-Bg-mZnL5.js";const P=A({components:{ViewPort:y,IonGrid:k,IonCol:w,IonRow:D,IonInput:b},mixins:[K],data:()=>({keypadActive:!1,listData:[]}),watch:{clear:{handler(){this.listData=this.listData.map(t=>({...t,other:{givenAmount:"",remainingAmount:""}}))},immediate:!0},listData:{handler(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata,this.cdata,this.listData)},givenAmount(t){return this.launchKeyPad("Amount given",e=>{var a;t.other={...(a=t==null?void 0:t.other)!=null?a:{},givenAmount:e}})},remainingAmount(t){return this.launchKeyPad("Amount brought to clinic",e=>{var a;t.other={...(a=t.other)!=null?a:{},remainingAmount:e}})},async launchKeyPad(t,e){if(this.keypadActive)return;this.keypadActive=!0;const a=await C.create({component:x,backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:t,strictNumbers:!0,onKeyPress(c){this.keypadActive=!1,typeof e=="function"&&e(Number(c))}}});a.present(),await a.onDidDismiss(),this.keypadActive=!1}}}),N={class:"view-port-content"},V={class:"his-md-text his-card",style:{textAlign:"left"}};function G(t,e,a,c,E,F){const s=l("ion-col"),m=l("ion-row"),p=l("ion-input"),_=l("ion-grid"),f=l("view-port");return d(),h(f,null,{default:n(()=>[r("div",N,[i(_,null,{default:n(()=>[i(m,null,{default:n(()=>[i(s,{size:"6"},{default:n(()=>e[0]||(e[0]=[r("b",{class:"his-lg-text"},u("Medication"),-1)])),_:1}),i(s,{size:"3"},{default:n(()=>e[1]||(e[1]=[r("b",{class:"his-lg-text"},u("Amount Brought"),-1)])),_:1}),i(s,{size:"3"},{default:n(()=>e[2]||(e[2]=[r("b",{class:"his-lg-text"},u("Amount Given"),-1)])),_:1})]),_:1}),(d(!0),I(z,null,B(t.listData,(o,v)=>(d(),h(m,{key:v},{default:n(()=>[i(s,{size:"6"},{default:n(()=>[r("div",V,u(o.label),1)]),_:2},1024),i(s,{size:"3"},{default:n(()=>[i(p,{readonly:"",value:o.other.remainingAmount,onClick:g=>t.remainingAmount(o),class:"his-card his-md-text"},null,8,["value","onClick"])]),_:2},1024),i(s,{size:"3"},{default:n(()=>[i(p,{readonly:"",value:o.other.givenAmount,onClick:g=>t.givenAmount(o),class:"his-card his-md-text"},null,8,["value","onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1})}const J=$(P,[["render",G],["__scopeId","data-v-a69f1d16"]]);export{J as default};
