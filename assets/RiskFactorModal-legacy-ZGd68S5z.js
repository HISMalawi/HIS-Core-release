System.register(["./index-legacy-BiNmSRfH.js"],(function(e,t){"use strict";var a,o,n,i,s,c,l,d,r,u,h,p,m,f,k,g,C,b,I,v,_,y,w,D,x,F,V,B,P;return{setters:[e=>{a=e.bV,o=e.d,n=e.ad,i=e.b5,s=e.l,c=e.ac,l=e.ar,d=e.a7,r=e.ag,u=e.ah,h=e.m,p=e.a5,m=e.a4,f=e.I,k=e.k,g=e.bm,C=e.z,b=e.ak,I=e.h,v=e.e,_=e.w,y=e.ap,w=e.j,D=e.a9,x=e.aa,F=e.a,V=e.a6,B=e.b,P=e.t}],execute:function(){var t=document.createElement("style");t.textContent="table[data-v-a68c415c]{font-family:arial,sans-serif;border-collapse:collapse;width:100%}ion-col[data-v-a68c415c]{border-right:solid 1px #ccc}.side-title[data-v-a68c415c]{width:100%;padding:.5em;text-align:center;background:#e9e8e8;font-size:1.2em}td[data-v-a68c415c],th[data-v-a68c415c]{border:1px solid #dddddd;text-align:left;padding:8px}tr[data-v-a68c415c]:nth-child(2n){background-color:#ddd}\n/*$vite$:1*/",document.head.appendChild(t);class $ extends a{constructor(e,t){super(e,30,t)}}const M=o({name:"Modal",props:{factors:{type:Object,required:!0},title:{type:String,default:""}},computed:{showManageBPButton(){return"bp_management"!=this.$route.name}},created(){this.patientID=parseInt(`${this.$route.params.patient_id}`)},methods:{async postActivities(){const e=new $(this.patientID,-1);if(await e.createEncounter()){const t=await this.buildObs();await e.saveObservationList(t),await this.closeModal()}},manageBP(){this.$router.push(`/art/encounters/bp_management/${this.patientID}`)},exit(){C.dismiss([])},async closeModal(){await C.dismiss(this.riskFactors)},async buildObs(){return this.riskFactors.map((e=>{const t=!0===e.isChecked?"Yes":"No",a=g.getConceptID(t,!0);return{concept_id:g.getConceptID(e.concept,!0),value_coded:a}}))}},data:()=>({patientID:-1,riskFactors:[{name:"Diabetes",isChecked:!1,concept:"Diabetes"},{name:"Cronic kidney disease",isChecked:!1,concept:"CKD"},{name:"Past history of IHD or CVD",isChecked:!1,concept:"history of CVD"},{name:"First degree relative with IHD or CVD <65",isChecked:!1,concept:"relative with CVD"},{name:"Patient currently smokes",isChecked:!1,concept:"patient smokes"}]}),mounted(){this.factors.forEach((e=>{if("Yes"===e.value){const t=this.riskFactors.findIndex((t=>t.concept===e.concept));this.riskFactors[t].isChecked=!0}}))},components:{IonButton:k,IonContent:f,IonHeader:m,IonTitle:p,IonToolbar:h,IonLabel:u,IonList:r,IonItem:d,IonCheckbox:l,IonRow:c,IonFooter:s,IonGrid:i,IonCol:n}});e("R",b(M,[["render",function(e,t,a,o,n,i){const s=y("ion-title"),c=y("ion-toolbar"),l=y("ion-header"),d=y("ion-label"),r=y("ion-checkbox"),u=y("ion-item"),h=y("ion-list"),p=y("ion-col"),m=y("ion-row"),f=y("ion-grid"),k=y("ion-content"),g=y("ion-button"),C=y("ion-footer");return B(),I(D,null,[v(l,null,{default:_((()=>[v(c,null,{default:_((()=>[v(s,null,{default:_((()=>[...t[0]||(t[0]=[w("Risk Factors",-1)])])),_:1})])),_:1})])),_:1}),v(k,{style:{overflowY:"hidden",background:"grey"}},{default:_((()=>[v(f,null,{default:_((()=>[v(m,null,{default:_((()=>[v(p,null,{default:_((()=>[v(h,{style:{overflowY:"auto",height:"78vh"}},{default:_((()=>[(B(!0),I(D,null,x(e.riskFactors,(e=>(B(),F(u,{key:e},{default:_((()=>[v(d,null,{default:_((()=>[w(P(e.name),1)])),_:2},1024),v(r,{modelValue:e.isChecked,"onUpdate:modelValue":t=>e.isChecked=t,slot:"start"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),v(C,null,{default:_((()=>[v(c,null,{default:_((()=>[v(g,{size:"large",onClick:e.exit,slot:"start",color:"danger"},{default:_((()=>[...t[1]||(t[1]=[w(" Close ",-1)])])),_:1},8,["onClick"]),e.showManageBPButton?(B(),F(g,{key:0,size:"large",onClick:e.manageBP,slot:"start"},{default:_((()=>[...t[2]||(t[2]=[w(" Manage BP ",-1)])])),_:1},8,["onClick"])):V("",!0),v(g,{size:"large",color:"success",onClick:e.postActivities,slot:"end"},{default:_((()=>[...t[3]||(t[3]=[w(" Save ",-1)])])),_:1},8,["onClick"])])),_:1})])),_:1})],64)}],["__scopeId","data-v-a68c415c"]]))}}}));
