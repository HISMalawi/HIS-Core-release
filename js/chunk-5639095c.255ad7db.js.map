{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ANC/Views/Encounters/TTV.vue"],"names":["DrugOrderService","Service","constructor","super","orders","this","postJson","getProgramID","dispensations","map","order","getSessionDate","patientID","getJson","pageSize","drugID","date","params","patientId","DRUG_FREQUENCIES","AncTreatmentService","AppEncounterService","providerID","ttvDrugObj","dispensed","dispenseTTV","isEmpty","orderID","order_id","updateDispensationOrders","createOrders","create","getEncounterID","drugs","createEncounter","o","buildDrugOrderObj","dispensation","forEach","quantity","frequency","duration","drug_inventory_id","id","drug","startDate","Date","expiryDate","setDate","getDate","parseInt","dose","dailyEquivalentDose","parseFloat","HisDate","toStandardHisFormat","drug_name","units","render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","fields","formFields","skipSummary","onFinishAction","onFinish","cancelDestinationPath","cancelDestination","_","AncDispensationService","saveNoDispensationObs","saveValueTextObs","defineComponent","components","IonPage","mixins","EncounterMixinVue","data","service","watch","ready","handler","getFields","immediate","methods","f","computedData","action","nextTask","helpText","type","FieldType","TT_YES_NO","validation","v","computedValue","match","async","updateTTvOrder","options","label","values","value","__exports__"],"mappings":"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","file":"js/chunk-5639095c.255ad7db.js","sourcesContent":["import { AppEncounterService } from \"@/services/app_encounter_service\";\n\n\nexport class AncDispensationService extends AppEncounterService {\n    constructor(patientID: number, providerID: number){\n        super(patientID, 54, providerID)\n    }\n\n    saveNoDispensationObs() {\n        return this.saveValueTextObs(\n            'Tetanus toxoid vaccine', 'Not dispensed'\n        )\n    }\n\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        fields: _ctx.formFields,\n        skipSummary: true,\n        onFinishAction: _ctx.onFinish,\n        cancelDestinationPath: _ctx.cancelDestination\n      }, null, 8, [\"fields\", \"onFinishAction\", \"cancelDestinationPath\"])\n    ]),\n    _: 1\n  }))\n}","\nimport EncounterMixinVue from '@/views/EncounterMixin.vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { defineComponent } from 'vue'\nimport { AncDispensationService} from \"@/apps/ANC/Services/anc_dispensing_service\"\nimport { AncTreatmentService } from \"@/apps/ANC/Services/anc_treatment_service\"\nimport { Option } from '@/components/Forms/FieldInterface'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { IonPage } from \"@ionic/vue\"\n\nexport default defineComponent({\n  components: { IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    formFields: [] as any,\n    service: {} as any\n  }),\n  watch: {\n    ready: {\n      handler(ready: boolean) {\n        if (ready) {\n          this.formFields = this.getFields()\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async onFinish(f: any, computedData: any) {\n      await computedData['prescription'].action()\n      this.nextTask()\n    },\n    getFields() {\n      return [\n        {\n          id: 'prescription',\n          helpText: 'Prescription',\n          type: FieldType.TT_YES_NO,\n          validation: (v: string) => !v ?  ['Value is required'] : null,\n          computedValue: (v: string) => {\n            if (v.match(/true/i)) {\n              return {\n                action: async () => {\n                  const service = new AncTreatmentService(this.patientID, this.providerID)\n                  await service.createEncounter()\n                  await service.updateTTvOrder()\n                }\n              }\n            }\n            return {\n              action: async () => {\n                const service = new AncDispensationService(this.patientID, this.providerID)\n                await service.createEncounter()\n                await service.saveNoDispensationObs()\n              }\n            }\n          },\n          options: () => ([\n            {\n              label: 'TTV has been given today',\n              values: [\n                {\n                  label: \"yes\",\n                  value: \"true\"\n                },\n                {\n                  label: \"no\",\n                  value: \"false\"\n                }\n              ]\n            }\n          ])\n        }\n      ]\n    }\n  }\n})\n","import { render } from \"./TTV.vue?vue&type=template&id=4420df94&ts=true\"\nimport script from \"./TTV.vue?vue&type=script&lang=ts\"\nexport * from \"./TTV.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}