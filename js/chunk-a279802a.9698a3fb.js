(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a279802a"],{"0c57":function(e,t,n){"use strict";n("a64b")},"8eed":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["withScopeId"])("data-v-45cde8b0");Object(r["pushScopeId"])("data-v-45cde8b0");var o=Object(r["createTextVNode"])(" Merge history "),c=Object(r["createTextVNode"])("NPID Holder: "),l=Object(r["createTextVNode"])(" Person name "),u=Object(r["createTextVNode"])("Transactions:"),i=Object(r["createTextVNode"])(" Cancel "),s=Object(r["createTextVNode"])(" Reverse ");Object(r["popScopeId"])();var d=a((function(e,t,n,d,b,f){var p=Object(r["resolveComponent"])("ion-text"),j=Object(r["resolveComponent"])("ion-title"),O=Object(r["resolveComponent"])("ion-toolbar"),m=Object(r["resolveComponent"])("ion-header"),v=Object(r["resolveComponent"])("ion-label"),h=Object(r["resolveComponent"])("ion-item"),g=Object(r["resolveComponent"])("ion-list"),k=Object(r["resolveComponent"])("report-table"),_=Object(r["resolveComponent"])("ion-content"),x=Object(r["resolveComponent"])("ion-button"),N=Object(r["resolveComponent"])("ion-footer"),y=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(y,null,{default:a((function(){return[Object(r["createVNode"])(m,null,{default:a((function(){return[Object(r["createVNode"])(O,null,{default:a((function(){return[Object(r["createVNode"])(j,{class:"his-lg-text"},{default:a((function(){return[Object(r["createVNode"])(p,{color:"danger"},{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.npid),1)]})),_:1}),o]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(_,null,{default:a((function(){return[Object(r["createVNode"])(j,{class:"his-md-text his-card"},{default:a((function(){return[c]})),_:1}),Object(r["createVNode"])(g,null,{default:a((function(){return[Object(r["createVNode"])(h,{lines:"none",class:"his-md-text"},{default:a((function(){return[Object(r["createVNode"])(v,null,{default:a((function(){return[l]})),_:1}),Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.holderName),1)]})),_:1}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientInfo,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{lines:"none",class:"his-md-text",key:t},{default:a((function(){return[Object(r["createVNode"])(v,null,{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label)+": ",1)]})),_:2},1024),Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(j,{class:"his-md-text his-card"},{default:a((function(){return[u]})),_:1}),Object(r["createVNode"])(k,{config:{tableCssTheme:"art-report-theme"},columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(r["createVNode"])(N,null,{default:a((function(){return[Object(r["createVNode"])(O,{color:"dark"},{default:a((function(){return[Object(r["createVNode"])(x,{onClick:e.cancel,color:"danger",size:"large",slot:"start"},{default:a((function(){return[i]})),_:1},8,["onClick"]),Object(r["createVNode"])(x,{onClick:e.rollback,disabled:!e.isReversible,color:"success",size:"large",slot:"end"},{default:a((function(){return[s]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})]})),_:1})})),b=n("1da1"),f=(n("96cf"),n("d81d"),n("99af"),n("8a30")),p=n("80e3"),j=n("9ceb"),O=n("d4ec"),m=n("bee2"),v=n("262e"),h=n("2caf"),g=n("1c74"),k=function(e){Object(v["a"])(n,e);var t=Object(h["a"])(n);function n(){return Object(O["a"])(this,n),t.apply(this,arguments)}return Object(m["a"])(n,null,[{key:"getMergeHistory",value:function(e){return this.getJson("/rollback/merge_history",{identifier:e})}},{key:"rollback",value:function(e){return this.postJson("/rollback/rollback_patient",{patient_id:e,program_id:this.getProgramID()})}}]),n}(g["e"]),_=n("6c02"),x=n("b5e4"),N=n("9283"),y=Object(r["defineComponent"])({components:{IonText:f["M"],IonPage:f["D"],IonContent:f["n"],IonToolbar:f["Q"],IonHeader:f["q"],IonFooter:f["o"],IonTitle:f["P"],IonList:f["y"],IonItem:f["w"],IonLabel:f["x"],IonButton:f["d"],ReportTable:p["a"]},setup:function(){var e=Object(_["e"])(),t=Object(_["f"])(),n=Object(r["ref"])(-1),a=Object(r["ref"])([]),o=Object(r["ref"])([]),c="".concat(e.params.id).toUpperCase(),l=Object(r["ref"])("N/A"),u=Object(r["ref"])([{label:"Birthdate",value:"N/A"},{label:"Gender",value:"N/A"}]),i=[[j["a"].thTxt("Merge type"),j["a"].thTxt("Merge date"),j["a"].thTxt("First Name"),j["a"].thTxt("Last name"),j["a"].thTxt("Birthdate"),j["a"].thTxt("Gender")]],s=Object(r["computed"])((function(){return o.value.length>0}));function d(){t.back()}function f(){return p.apply(this,arguments)}function p(){return p=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["a"])("Are you sure you want to merge transactions");case 2:if(!e.sent){e.next=10;break}return e.next=5,k.rollback(n.value);case 5:if(!e.sent){e.next=9;break}t.back(),e.next=10;break;case 9:Object(x["c"])("Failed to rollback");case 10:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return Object(r["onMounted"])(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return t.back(),e.abrupt("return");case 3:return e.prev=3,e.next=6,k.getMergeHistory(c);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=[];case 9:o.value=e.t0,e.next=15;break;case 12:e.prev=12,e.t1=e["catch"](3),Object(x["c"])("Merge history not found for ".concat(c));case 15:a.value=o.value.map((function(e){return-1===n.value&&(n.value=e["secondary_id"],l.value="".concat(e["secondary_first_name"]," ").concat(e["secondary_surname"]),u.value=[{label:"Birthdate",value:N["b"].toStandardHisDisplayFormat(e["secondary_birthdate"])},{label:"Gender",value:e["secondary_gender"]}]),[j["a"].td(e["merge_type"]),j["a"].tdDate(e["merge_date"]),j["a"].td(e["primary_first_name"]),j["a"].td(e["primary_surname"]),j["a"].tdDate(e["primary_birthdate"]),j["a"].td(e["primary_gender"])]}));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})))),{cancel:d,holderName:l,isReversible:s,patientInfo:u,rollback:f,columns:i,rows:a,npid:c}}}),V=(n("0c57"),n("6b0d")),C=n.n(V);const I=C()(y,[["render",d],["__scopeId","data-v-45cde8b0"]]);t["default"]=I},a64b:function(e,t,n){}}]);
//# sourceMappingURL=chunk-a279802a.9698a3fb.js.map