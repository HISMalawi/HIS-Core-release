{"version":3,"sources":["webpack:///./src/components/FormElements/HisNote.vue?aa90","webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/FormElements/FieldMixin.vue","webpack:///./node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./src/components/FormElements/HisNote.vue"],"names":["kbHandler","newInput","accumulator","casing","output","match","substring","length","toLowerCase","toUpperCase","charAt","slice","defineComponent","emits","props","config","type","Object","default","preset","label","value","defaultValue","Function","fdata","required","cdata","clear","Number","options","activationState","String","onValue","onValueUpdate","footerButtonEvent","__exports__","_withId","_withScopeId","_pushScopeId","_hoisted_1","class","_hoisted_2","_hoisted_3","style","_hoisted_4","_createTextVNode","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_textarea","_resolveComponent","_component_view_port","_component_ion_button","_openBlock","_createBlock","_Fragment","_createVNode","showFull","rows","cols","readonly","placeholder","_","_renderList","layout","tr","index","key","cl","cindex","strong","onClick","$event","keypress","_toDisplayString","shape","size","components","ViewPort","IonButton","IonTextarea","mixins","FieldMixinVue","data","capsOn","NOTE_PAD_KEYBOARD","mounted","this","init","activated","methods","$emit","setDefaultValue","defaults","isPlainObject","emitValue","toString","updateKeyboardCaps","isUpperCase","map","r","i","v","ok","text","input","handleVirtualInput","watch"],"mappings":"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","file":"js/TouchFormElement35.751f10c0.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HisNote.vue?vue&type=style&index=0&id=6c8c3b02&scoped=true&lang=css\"","export default function kbHandler(newInput: string, accumulator: string, casing?: 'lowercase' | 'uppercase'): string {\n    let output = accumulator\n    if (newInput.match(/enter/i)) {\n        return `${output}\\r\\n`\n    }\n    if (newInput.match(/clear/i)) {\n        return ''\n    } else if (newInput.match(/delete|del/i)) {\n        // Override Unknown text with new input\n        if (output.match(/unknown/i) || output.match(/n\\/a/i)) {\n            output = ''\n        } else {\n            output = output.substring(0, output.length - 1)\n        }\n    } else if (newInput.match(/space/i)) {\n        output = `${accumulator} `\n    } else if (newInput.match(/unknown/i)) {\n        output = 'Unknown'\n    } else if (newInput.match(/n\\/a/i)) {\n        output = 'N/A'\n    } else {\n        // Override Unknown text with new input\n        if (output.match(/unknown/i) || output.match(/n\\/a/i)) {\n            output = newInput\n        } else {\n            output = `${accumulator}${newInput}`\n        }\n    }\n    if (typeof output === 'string' && output) {\n        switch (casing) {\n            case 'lowercase':\n                output = output.toLowerCase()\n                break;\n            case 'uppercase':\n                output = output.toUpperCase()\n                break;\n            default:\n                output = output.charAt(0).toUpperCase() + output.slice(1)\n                break;\n        }\n    }\n    return output\n}\n","\nimport { defineComponent } from 'vue'\nimport handleVirtualInput from \"@/components/Keyboard/KbHandler\"\nimport { Option } from '../Forms/FieldInterface'\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\"\nimport FieldMixinVue from './FieldMixin.vue'\nimport { isPlainObject } from 'lodash'\nimport { NOTE_PAD_KEYBOARD } from \"@/components/Keyboard/KbLayouts\"\nimport { IonButton, IonTextarea } from \"@ionic/vue\"\n\nexport default defineComponent({\n    components: { \n        ViewPort,\n        IonButton, \n        IonTextarea\n    },\n    mixins: [FieldMixinVue],\n    data: () => ({\n        value: '' as string,\n        capsOn: false as boolean,\n        layout: NOTE_PAD_KEYBOARD as Array<any>,\n    }),\n    mounted() {\n        this.init()\n    },\n    activated(){\n        this.init()\n    },\n    methods: {\n        async init() {\n            this.$emit('onFieldActivated', this)\n            await this.setDefaultValue()\n        },\n        async setDefaultValue() {\n            if (this.defaultValue && !this.value) {\n                const defaults: any = await this.defaultValue(this.fdata, this.cdata)\n                if (defaults) {\n                    if (isPlainObject(defaults)) {\n                        this.emitValue(defaults)\n                        this.value = defaults.value.toString()\n                    } else {\n                        this.value = defaults\n                        this.emitValue({label: defaults, value: defaults})\n                    }\n                }\n            }\n        },\n        updateKeyboardCaps(isUpperCase=false) {\n            this.layout = this.layout.map((r: string[]) => \n                r.map((i: string) => isUpperCase ? i.toUpperCase() : i.toLowerCase()\n            ))\n        },\n        async emitValue(v: Option) {\n            if (this.onValue) {\n                const ok = await this.onValue(v)\n                if (!ok) {\n                    return\n                }\n            }\n            this.value = v.label\n            this.$emit('onValue', v)\n        },\n        async onKbValue(text: any) {\n            await this.emitValue({ label: text, value: text })\n        },\n        async keypress(text: any){\n            const input = handleVirtualInput(\n                this.capsOn ? text.toUpperCase() : text.toLowerCase(), \n                this.value\n            )\n            if (input.match(/caps/i)) {\n                this.capsOn = this.capsOn ? false : true\n                this.updateKeyboardCaps(this.capsOn)\n                return\n            }\n            await this.emitValue({ label: input, value: input })\n        }\n    },\n    watch: {\n        clear() { this.value = '' }\n    }\n})\n","import script from \"./FieldMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./FieldMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-6c8c3b02\")\n\n_pushScopeId(\"data-v-6c8c3b02\")\nconst _hoisted_1 = { class: \"his-floating-keyboard\" }\nconst _hoisted_2 = { class: \"his-floating-keyboard-content\" }\nconst _hoisted_3 = { style: {\"width\":\"99.9%\"} }\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Space \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_textarea = _resolveComponent(\"ion-textarea\")\n  const _component_view_port = _resolveComponent(\"view-port\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_view_port, { showFull: false }, {\n      default: _withId(() => [\n        _createVNode(_component_ion_textarea, {\n          rows: \"6\",\n          cols: \"20\",\n          readonly: \"\",\n          value: _ctx.value,\n          placeholder: \"Start typing....\",\n          class: \"input_display\"\n        }, null, 8, [\"value\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(\"div\", _hoisted_1, [\n      _createVNode(\"div\", _hoisted_2, [\n        _createVNode(\"table\", _hoisted_3, [\n          (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.layout, (tr, index) => {\n            return (_openBlock(), _createBlock(\"tr\", { key: index }, [\n              (_openBlock(true), _createBlock(_Fragment, null, _renderList(tr, (cl, cindex) => {\n                return (_openBlock(), _createBlock(\"td\", { key: cindex }, [\n                  _createVNode(_component_ion_button, {\n                    style: {\"text-transform\":\"none\"},\n                    strong: \"\",\n                    onClick: $event => (_ctx.keypress(cl)),\n                    class: `key__button ${cl.toLowerCase()}_btn`\n                  }, {\n                    default: _withId(() => [\n                      _createTextVNode(_toDisplayString(cl), 1 /* TEXT */)\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\", \"class\"])\n                ]))\n              }), 128 /* KEYED_FRAGMENT */))\n            ]))\n          }), 128 /* KEYED_FRAGMENT */))\n        ])\n      ]),\n      _createVNode(_component_ion_button, {\n        onClick: _cache[1] || (_cache[1] = $event => (_ctx.keypress('space'))),\n        strong: \"\",\n        style: {\"width\":\"100%\"},\n        shape: \"round\",\n        size: \"large\"\n      }, {\n        default: _withId(() => [\n          _hoisted_4\n        ]),\n        _: 1\n      })\n    ])\n  ], 64 /* STABLE_FRAGMENT */))\n})","import { render } from \"./HisNote.vue?vue&type=template&id=6c8c3b02&scoped=true&ts=true\"\nimport script from \"./HisNote.vue?vue&type=script&lang=ts\"\nexport * from \"./HisNote.vue?vue&type=script&lang=ts\"\n\nimport \"./HisNote.vue?vue&type=style&index=0&id=6c8c3b02&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c8c3b02\"]])\n\nexport default __exports__"],"sourceRoot":""}