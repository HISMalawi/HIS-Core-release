(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cb702"],{"4a54":function(e,t,r){"use strict";r.r(t);var n=r("7a23");function a(e,t,r,a,i,o){var s=Object(n["resolveComponent"])("report-template"),c=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(c,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{reportPrefix:"MoH",title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,hasServerSideCaching:!0,headerInfoList:e.headerList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}var i=r("1da1"),o=(r("d81d"),r("96cf"),r("44e3")),s=r("4ba2"),c=r("9ceb"),d=r("8a30"),u=r("d4ec"),p=r("bee2"),l=r("262e"),h=r("2caf"),f=(r("b0c0"),r("5969")),b=function(e){Object(l["a"])(r,e);var t=Object(h["a"])(r);function r(){var e;return Object(u["a"])(this,r),e=t.call(this),e.clients=[],e.data=[],e.regenerate=!1,e}return Object(p["a"])(r,[{key:"setRegenerate",value:function(e){this.regenerate=e}},{key:"generateReport",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.data=[],this.clients=[],e.next=4,this.getReport("latest_regimen_dispensed",this.buildRequest({rebuild_outcome:this.regenerate}));case 4:if(t=e.sent,t){e.next=7;break}return e.abrupt("return",[]);case 7:for(r in t){for(n in t[r])a=t[r][n],this.data.push({identifier:a.identifier,drugName:a.name,gender:a.gender,dob:a.birthdate,dispensationDate:a["dispensation_date"],packSize:a["pack_sizes"][0],packSizes:a["pack_sizes"].length,quantity:a.quantity});this.clients.push(parseInt("".concat(r)))}return e.abrupt("return",this.data);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),r}(f["a"]),g=Object(n["defineComponent"])({mixins:[o["a"]],components:{ReportTemplate:s["a"],IonPage:d["D"]},data:function(){return{title:"Regimen Report",rows:[],headerList:[],columns:[[c["a"].thTxt("ARV#"),c["a"].thTxt("Gender"),c["a"].thTxt("DOB"),c["a"].thTxt("Drug Name"),c["a"].thTxt("Date"),c["a"].thTxt("Pack size"),c["a"].thTxt("Total pack"),c["a"].thTxt("Total pills")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var r=arguments,n=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],n.rows=[],n.report=new b,n.report.setRegenerate(a),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=9,n.report.generateReport();case 9:i=e.sent,n.setRows(i),n.headerList=[{label:"Total clients",value:n.report.clients.length}];case 12:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this,r=function(e){return e?c["a"].tdDate(e):c["a"].td("N/A")};this.rows=this.sortByArvNumber(e,"identifier").map((function(e){return[t.tdARV(e.identifier),c["a"].td(e.gender),r(e.dob),c["a"].td(e.drugName),r(e.dispensationDate),c["a"].td(e.packSize),c["a"].td(e.packSizes),c["a"].td(e.quantity)]}))}}}),m=r("6b0d"),w=r.n(m);const v=w()(g,[["render",a]]);t["default"]=v}}]);
//# sourceMappingURL=chunk-2d0cb702.a6e16b2b.js.map