(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4636b958"],{"188c":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function r(e,t,n,r,i,u){var o=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(o,{key:e.hisFormKey,fields:e.fields,activeField:e.fieldComponent,skipSummary:!0,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onOnFinish:e.onFinish},null,8,["fields","activeField","onOnFinish"])}var i=n("53ca"),u=n("2909"),o=n("1da1"),c=(n("d81d"),n("4de4"),n("d3b7"),n("07ac"),n("99af"),n("ac1f"),n("466d"),n("25f0"),n("3ca3"),n("ddb0"),n("b0c0"),n("00b4"),n("96cf"),n("7920")),l=n("d95e"),s=n("b446"),d=n("5b71"),f=n("2706"),p=n("b5e4"),m=n("2ef0"),v=n("9283"),b=n("1c74"),h=n("9b7c"),y=n("8e8b"),T=Object(a["defineComponent"])({components:{HisStandardForm:c["a"]},data:function(){return{fieldComponent:"",labResult:{},hisFormKey:0,patient:{},fields:[],selectedTest:{},testOptions:[],testIndicators:[]}},watch:{$route:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.params,!a||!a.patient_id){n.next=7;break}return t.patient=a.patient_id,t.labResult=new d["a"](t.patient),n.next=6,t.initData();case 6:t.fields=t.getFields();case 7:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{onFinish:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=Object.values(t).filter((function(e){return"result_indicator"===e.tag&&e.measures})).map((function(e){return e.measures})),n.labResult.setTestID(n.selectedTest.value),n.labResult.setResultDate(t.result_date),e.next=6,n.labResult.createEncounter();case 6:return e.next=8,n.labResult.createLabResult(a);case 8:return y["a"].invalidate("PATIENT_LAB_ORDERS"),n.testOptions=[],n.selectedTest={},n.testIndicators=[],e.next=14,n.initData();case 14:n.hisFormKey=Math.floor(5e3*Math.random()),Object(p["d"])("Lab result saved!"),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](0),Object(p["c"])(e.t0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))()},generateTestIndicatorsFields:function(){var e=this;return this.testIndicators.reduce((function(t,n){return t.concat(e.buildTestIndicatorFields(n.indicatorId,n.indicatorName,n.specimen,n.testId))}),[])},validateVLresults:function(e,t,n){return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,i,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("HIV viral load"===e){a.next=2;break}return a.abrupt("return",!0);case 2:if(r=n.substring(0,1),i=n.substring(1,n.length),!h["a"].isValidVLResult(t,r,i)){a.next=6;break}return a.abrupt("return",!0);case 6:return a.next=8,Object(p["a"])("Invalid results for ".concat(t," HIV viral load"),{cancelBtnLabel:"Process result",confirmBtnLabel:"Re-enter result"});case 8:return u=a.sent,a.abrupt("return",!u);case 10:case"end":return a.stop()}}),a)})))()},alphaValueIsValid:function(e){try{return!!e.match(/^(>|<|=)(.*)/)}catch(t){return!1}},numericValueIsValid:function(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}},isMalariaResult:function(e){return!!e.match(/mrdt|malaria/i)},buildTestIndicatorFields:function(e,t,n,a){var r=this,i=e*a,u=function(e){return[r.selectedTest.value===a,!!Object(m["find"])(e.result_indicators,{label:t})].every(Boolean)},o=function(e){return r.validateVLresults(t,n,e.value.toString())},c=function(n,a){if("Other"===n.value&&t.match(/HIV viral load/i))return{};var u=r.isMalariaResult(t)?"text":a["type_".concat(i)].value,o=r.isMalariaResult(t)?"="+n.value:n.value.toString(),c=o.charAt(0),l="numeric"===u?parseInt(o.substring(1)):o.substring(1),s=a["result_indicators"].filter((function(t){return t.value===e}))[0];return{tag:"result_indicator",measures:{indicator:{concept_id:s.value},value:l,value_modifier:c,value_type:u},result:l,modifier:c,test:s.label}};return[{id:"type_".concat(i),helpText:"Result type (".concat(t,")"),type:l["b"].TT_SELECT,group:"test_indicator",condition:function(e){return u(e)&&!r.isMalariaResult(t)},appearInSummary:function(){return!1},validation:function(e){return f["a"].required(e)},options:function(){return[{label:"Numeric (numbers only)",value:"numeric"},{label:"Alphanumeric(text and numbers)",value:"text"}]}},{id:"num_".concat(i),helpText:"Test Result (".concat(t,")"),type:l["b"].TT_TEXT,group:"test_indicator",computedValue:c,beforeNext:o,onValue:function(e){return!(e&&e.value&&!r.numericValueIsValid(e.value.toString()))||(Object(p["e"])("You must enter a modifer and numbers only. i.e =90 / >19 / < 750"),!1)},validation:function(e){return f["a"].required(e)},condition:function(e){return u(e)&&"numeric"===e["type_".concat(i)].value},config:{customKeyboard:[[["1","2","3"],["4","5","6","=","<",">"],["7","8","9","."],["","0",""]],[["Delete"]]]}},{id:"alpha_".concat(i),helpText:"Test Result (".concat(t,")"),type:l["b"].TT_TEXT,group:"test_indicator",onValue:function(e){return!(e&&e.value&&!r.alphaValueIsValid(e.value.toString()))||(Object(p["e"])("You must enter a modifier plus result (for example =LDL)"),!1)},computedValue:c,validation:function(e){return f["a"].required(e)},condition:function(e){return u(e)&&"text"===e["type_".concat(i)].value&&!t.match(/HIV viral load/i)}},{id:"VL_alpha_".concat(i),helpText:"Select Test Result (".concat(t,")"),type:l["b"].TT_SELECT,group:"test_indicator",computedValue:c,validation:function(e){return f["a"].required(e)},condition:function(e){return u(e)&&"text"===e["type_".concat(i)].value&&t.match(/HIV viral load/i)},options:function(){return[{label:"Collect Another Sample",value:"=Collect Another Sample"},{label:"<LDL",value:"<LDL"},{label:"=LDL",value:"=LDL"},{value:"Other",label:"Other"}]}},{id:"other_VL_alpha_".concat(i),helpText:"Test Result (".concat(t,")"),type:l["b"].TT_TEXT,group:"test_indicator",onValue:function(e){return!(e&&e.value&&!r.alphaValueIsValid(e.value.toString()))||(Object(p["e"])("You must enter a modifier plus result (for example =LDL)"),!1)},computedValue:c,validation:function(e){return f["a"].required(e)},condition:function(e){return u(e)&&"text"===e["type_".concat(i)].value&&t.match(/HIV viral load/i)&&"Other"===e["VL_alpha_".concat(i)].value}},{id:"malaria_result_".concat(i),helpText:"Select Test Result (".concat(t,")"),type:l["b"].TT_SELECT,group:"test_indicator",computedValue:c,validation:function(e){return f["a"].required(e)},condition:function(e){return u(e)&&r.isMalariaResult(t)},options:function(){return t.match(/mrdt/i)?[{label:"Positive",value:"positive"},{label:"Negative",value:"negative"}]:[{label:"Parasites seen",value:"parasites seen"},{label:"No parasites seen",value:"no parasites seen"}]}}]},initData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.labResult.getTestsWithoutResults();case 2:n=t.sent,a=regeneratorRuntime.mark((function t(a){var r,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n[a],i=regeneratorRuntime.mark((function t(n){var a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=r.tests[n],Object(m["isEmpty"])(a.result)){t.next=3;break}return t.abrupt("return","continue");case 3:return e.labResult.setTestTypeID(a.concept_id),t.next=6,e.labResult.getTestIndicators();case 6:i=t.sent,o=i.map((function(e){return{testId:a.id,indicatorName:e.name,indicatorId:e.concept_id,specimen:r.specimen.name}})),e.testIndicators=[].concat(Object(u["a"])(e.testIndicators),Object(u["a"])(o)),e.testOptions.push({label:a.name,value:a.id,other:{accession:r.accession_number,specimen:r.specimen.name,test:a.name,orderDate:r.order_date,testIndicators:o}});case 10:case"end":return t.stop()}}),t)})),t.t0=regeneratorRuntime.keys(r.tests);case 3:if((t.t1=t.t0()).done){t.next=11;break}return o=t.t1.value,t.delegateYield(i(o),"t2",6);case 6:if(c=t.t2,"continue"!==c){t.next=9;break}return t.abrupt("continue",3);case 9:t.next=3;break;case 11:case"end":return t.stop()}}),t)})),t.t0=regeneratorRuntime.keys(n);case 5:if((t.t1=t.t0()).done){t.next=10;break}return r=t.t1.value,t.delegateYield(a(r),"t2",8);case 8:t.next=5;break;case 10:case"end":return t.stop()}}),t)})))()},getFields:function(){var e=this;return[{id:"test_type",helpText:"Tests without results",type:l["b"].TT_TABLE_VIEWER,options:function(){var t=e.testOptions.map((function(t){return[t.other.accession,t.other.specimen,t.other.test,v["c"].toStandardHisDisplayFormat(t.other.orderDate),{type:"button",name:"Select",action:function(){e.selectedTest=t,e.$nextTick((function(){return e.fieldComponent="year_result_date"}))}}]}));return[{label:"",value:"",other:{rows:t,columns:["Acession#","Specimen","Test","Order date"]}}]},validation:function(e){return f["a"].required(e)},config:{overrideDefaultFooterBtns:{nextBtn:{name:"Finish",onClick:function(){return e.$router.back()}}},hiddenFooterBtns:["Clear","Cancel"]}}].concat(Object(u["a"])(Object(s["b"])({id:"result_date",helpText:"Result",required:!0,estimation:{allowUnknown:!1},minDate:function(){return v["c"].toStandardHisFormat(e.selectedTest.other.orderDate)},maxDate:function(){return b["e"].getSessionDate()},computeValue:function(e){return e}})),[{id:"result_indicators",helpText:"Select test result indicators",type:l["b"].TT_MULTIPLE_SELECT,validation:function(e){return f["a"].required(e)},options:function(){return e.selectedTest.other.testIndicators.map((function(e){return{label:e.indicatorName,value:e.indicatorId}}))}}],Object(u["a"])(this.generateTestIndicatorsFields()),[{id:"entry_confirmation",helpText:"Confirm entry",type:l["b"].TT_TABLE_VIEWER,options:function(e,t){var n=Object.values(t).filter((function(e){return"object"===Object(i["a"])(e)&&null!=e&&"result_indicator"===e.tag})).map((function(e){return[e.test,e.modifier,e.result]}));return[{label:"",value:"",other:{rows:n,columns:["Test","Modifier","Result"]}}]}}])}}}),x=n("d959"),g=n.n(x);const D=g()(T,[["render",r]]);t["default"]=D},3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"l",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return m}));var a=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],i=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],u=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],o=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],l=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],s=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],f=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],p=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],m=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"5b71":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("d4ec"),r=n("bee2"),i=n("262e"),u=n("2caf"),o=n("9b7c"),c=n("cc6f"),l=function(e){Object(i["a"])(n,e);var t=Object(u["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e,57),r.patientID=e,r.testTypeID=-1,r.resultDate="",r.testID=-1,r}return Object(r["a"])(n,[{key:"createLabResult",value:function(e){return c["a"].postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:e})}},{key:"getTestID",value:function(){return this.testID}},{key:"getTestTypeID",value:function(){return this.testTypeID}},{key:"setTestTypeID",value:function(e){this.testTypeID=e}},{key:"setResultDate",value:function(e){this.resultDate=e}},{key:"setTestID",value:function(e){this.testID=e}},{key:"getTestsWithoutResults",value:function(){return o["a"].getOrders(this.patientID,{status:"drawn"})}},{key:"getTestIndicators",value:function(){return o["a"].getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}}]),n}(c["a"])},"6be2":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n("3800"),r=[a["k"],[["","Delete"]]],i=[a["i"],[["Delete"]]],u=[a["i"],[["Delete","Unknown"]]],o=[a["i"],[["N/A"],["Delete","Unknown"]]],c=[a["i"],[["Delete"]]],l=[a["i"],[["Unknown","Delete"],["Qwerty","A-Z"]]],s=[a["g"],[["Unknown"]]],d=[a["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],f=[a["j"],[["","Delete"],["?123","0-9"],["Space","Unknown"]]],p=[{btn:"0-9",keyboard:l},{btn:"?123",keyboard:r},{btn:"A-Z",keyboard:d},{btn:"Qwerty",keyboard:f}]},7920:function(e,t,n){"use strict";var a=n("7a23");function r(e,t,n,r,i,u){return Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var i=n("9441"),u=Object(a["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:i["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),o=n("d959"),c=n.n(o);const l=c()(u,[["render",r]]);t["a"]=l},b446:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return O}));var a,r=n("2909"),i=n("3835"),u=n("5530"),o=n("1da1"),c=(n("96cf"),n("99af"),n("caad"),n("a15b"),n("d3b7"),n("25f0"),n("ac1f"),n("466d"),n("1276"),n("d95e")),l=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],s=n("9283"),d=n("2706"),f=n("3800"),p=n("6be2"),m=n("5a0c"),v=n.n(m),b=n("1c74");function h(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[];return n&&a.push("UNKNOWN"),{id:e,helpText:"".concat(t," Year"),appearInSummary:function(){return!1},type:c["b"].TT_TEXT,config:{customKeyboard:[f["i"],[a,["DELETE"]]]}}}function y(e,t){return{id:e,helpText:"".concat(t," Month"),appearInSummary:function(){return!1},type:c["b"].TT_SELECT,options:function(){return l}}}function T(e,t){return{id:e,helpText:"".concat(t," Day"),type:c["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function x(e,t){return{id:e,helpText:"".concat(t," Estimated period"),type:c["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function g(e,t){return{id:e,helpText:"".concat(t," Age Estimate"),type:c["b"].TT_NUMBER,appearInSummary:function(){return!1},config:{keypad:p["e"]}}}function D(e){return parseInt(e)<10?"0".concat(e):e}function I(e,t,n){return k.apply(this,arguments)}function k(){return k=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,a){var r,u,o,c,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.defaultValue){e.next=12;break}return e.next=3,n.defaultValue(t);case 3:if(r=e.sent,!r){e.next=12;break}u=r.split("-"),o=Object(i["a"])(u,3),c=o[0],l=o[1],s=o[2],e.t0=a,e.next="Year"===e.t0?9:"Month"===e.t0?10:"Day"===e.t0?11:12;break;case 9:return e.abrupt("return",c||"");case 10:return e.abrupt("return",parseInt(l)||"");case 11:return e.abrupt("return",parseInt(s)||"");case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function _(e){return s["c"].toStandardHisDisplayFormat(e)}function w(e,t,n,a){if(t.minDate){var r=t.minDate(n,a);if(new Date(e)<new Date(r))return["".concat(_(e)," is less than minimum date of ").concat(_(r))]}if(t.maxDate){var i=t.maxDate(n,a);if(i&&new Date(e)>new Date(i))return["".concat(_(e)," is greater than max date of  ").concat(_(i))]}}function O(e){var t="",n="",o="",c="",f=!1,p="year_".concat(e.id),m="month_".concat(e.id),k="day_".concat(e.id),O="age_estimate_".concat(e.id),V="duration_estimate_".concat(e.id),S=h(p,e.helpText,e.estimation.allowUnknown),R=y(m,e.helpText),j=T(k,e.helpText),E=g(O,e.helpText),F=x(V,e.helpText),L="boolean"===typeof e.estimation.allowUnknownMonthDay&&e.estimation.allowUnknownMonthDay,N=function(t){return!(t[p]&&t[p].value&&["Unknown"].includes(t[p].value))&&(!e.condition||e.condition(t))},M=function(e,t){var a=[{type:"year",value:n,default:"YYYY"},{type:"month",value:o,default:"MM"},{type:"day",value:c,default:"DD"}];return a.reduce((function(n,a){var r=[null,void 0,"Unknown",""];return t===a.type?r.includes(e)?n.push(a.default):n.push(e):r.includes(a.value)?n.push(a.default):n.push(a.value),n}),[]).join("-")};"function"===typeof e.init&&(S.init=e.init),S.updateHelpTextOnValue=function(e){return"".concat(S.helpText," (").concat(M(null===e||void 0===e?void 0:e.label,"year"),")")},S.proxyID=e.id,S.unload=function(e){return n=e.value.toString()},S.config=Object(u["a"])(Object(u["a"])({},S.config),e.config),S.defaultValue=function(t){return I(t,e,"Year")},S.condition=function(t){return!e.condition||e.condition(t)},S.validation=function(t,n,a){if(e.required&&d["a"].required(t))return["Year cannot be empty"];var r=t?t.value:"";if(!e.estimation.allowUnknown&&r.toString().match(/unknown/i))return["Value unknown is not permitted"];if(r&&!["Unknown"].includes(r)&&isNaN(r)||r<1900)return["Invalid Year"];if(r&&"function"===typeof e.minDate){var i=s["c"].getYear(e.minDate(n,a));if(parseInt(r)<i)return["Year of ".concat(r," is less than Minimum year of ").concat(i)]}if(r&&"function"===typeof e.maxDate){var u=e.maxDate(n,a);if(u&&r>s["c"].getYear(u))return["Year of ".concat(r," exceeds Maximum year of ").concat(s["c"].getYear(u))]}return null},S.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:t?_(t):"Unknown"}},S.appearInSummary=function(t,n){return n===e.id},S.computedValue=function(n){if(t){var a=t.split("-"),r=Object(i["a"])(a,3),u=(r[0],r[1]),o=r[2];return t="".concat(n.value,"-").concat(u,"-").concat(o),e.computeValue(t,!1)}if(n&&"Unknown"===n.value)return t="",e.computeValue("Unknown",!1)},R.updateHelpTextOnValue=function(e){return"".concat(R.helpText," (").concat(M(null===e||void 0===e?void 0:e.label,"month"),")")},R.proxyID=e.id,R.unload=function(e){return o=D(e.value.toString())},R.condition=function(e){return N(e)},R.validation=function(e){return d["a"].required(e)},R.defaultValue=function(t){return I(t,e,"Month")},L&&(R.options=function(){return[].concat(Object(r["a"])(l),[{label:"Unknown",value:"Unknown"}])}),R.computedValue=function(n,a){if("".concat(n.value).match(/unknown/i))return t="".concat(a[p].value,"-07-15"),e.computeValue(t,!0);if(t){var r=t.split("-"),u=Object(i["a"])(r,3),o=u[0],c=(u[1],u[2]),l=D("".concat(n.value));return t="".concat(o,"-").concat(l,"-").concat(c),e.computeValue(t,!1)}},j.proxyID=e.id,j.updateHelpTextOnValue=function(e){return"".concat(j.helpText," (").concat(M(null===e||void 0===e?void 0:e.label,"day"),")")},j.condition=function(e){return!"".concat(e[m].value).match(/unknown/i)&&N(e)},j.validation=function(a,r,i){return d["a"].required(a)?["Day is required for date"]:(f=!!"".concat(a.value).match(/unknown/i),c=f?"15":D("".concat(a.value)),t="".concat(n,"-").concat(o,"-").concat(c),w(t,e,r,i))},j.defaultValue=function(t){return I(t,e,"Day")},j.computedValue=function(){return e.computeValue(t,f)},j.unload=function(t,n,a,r){e.unload&&e.unload(t,n,a,r)},j.beforeNext=function(n,a){return!e.beforeNext||e.beforeNext(t,a)},j.config={year:function(e){return e[p].value},month:function(e){return e[m].value}},L||(j.config.keyboardActions=[]);var A=function(t,n){var a=["Unknown"===t[p].value,!e.condition||e.condition(t),e.estimation.estimationFieldType===n];return a.every(Boolean)};return E.proxyID=e.id,E.validation=function(n,a,r){if(n&&n.value>300)return["Age estimate is too high and exceeding hard limit of 300"];if(isNaN(parseInt(n.value.toString())))return["Please enter a valid number"];var i=/^(12[0-7]|1[01][0-9]|[1-9]?[0-9])$/;if(!n.value.toString().match(i))return["Not a valid age estimate"];var u=v()(b["e"].getSessionDate()).subtract(n.value,"years").year();return t="".concat(u,"-07-15"),w(t,e,a,r)},E.condition=function(e){return A(e,a.AGE_ESTIMATE_FIELD)},E.computedValue=function(){return e.computeValue(t,!0)},E.beforeNext=function(n,a){return!e.beforeNext||e.beforeNext(t,a)},F.proxyID=e.id,F.validation=function(n,a,r){return d["a"].required(n)?["Please select an estimate"]:(t=v()(b["e"].getSessionDate()).subtract(n.value,"day").format(s["b"]),w(t,e,a,r))},F.condition=function(e){return A(e,a.MONTH_ESTIMATE_FIELD)},F.computedValue=function(){return e.computeValue(t,!0)},F.beforeNext=function(n,a){return!e.beforeNext||e.beforeNext(t,a)},[S,R,j,E,F]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(a||(a={}))}}]);
//# sourceMappingURL=chunk-4636b958.2e5ddf2d.js.map