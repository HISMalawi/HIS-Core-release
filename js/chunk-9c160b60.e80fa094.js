(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c160b60"],{"403e":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n("2909");n("d81d");function a(e){return e.map((function(e){return{value:e,label:e}}))}var o=[{label:"Male",value:"M"},{label:"Female",value:"F"}],i=(Object(r["a"])(a(["TB NOT suspected","TB suspected","Confirmed TB NOT on treatment","Confirmed TB on treatment"])),Object(r["a"])(a(["Current","Last 2 years","More than 2 years","Never"]))),u=[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done"}],l=a(["Currently on IPT","Currently on 3HP (RFP + INH)","Currently on INH 300 / RFP 300 (3HP)","Complete course of 3HP in the past (3 months RFP+INH)","Complete course of IPT in the past (min. 6 months of INH)","Aborted course of 3HP (RFP + INH) in the past","Aborted course of INH 300 / RFP 300 (3HP) in the past","Aborted course of IPT in the past","Never taken IPT or 3HP"])},"44d7":function(e,t,n){"use strict";n("68c9")},"5eb3":function(e,t,n){"use strict";n.r(t);n("caad"),n("2532");var r=n("7a23"),a=Object(r["createTextVNode"])(" HIV Clinic Registration "),o=Object(r["createTextVNode"])("Next"),i=Object(r["createTextVNode"])("Clear"),u=Object(r["createTextVNode"])("Back");function l(e,t,n,l,c,s){var d=Object(r["resolveComponent"])("ion-title"),m=Object(r["resolveComponent"])("text-input"),p=Object(r["resolveComponent"])("ion-col"),f=Object(r["resolveComponent"])("DateInput"),b=Object(r["resolveComponent"])("yes-no-input"),v=Object(r["resolveComponent"])("SelectInput"),g=Object(r["resolveComponent"])("NumberInput"),h=Object(r["resolveComponent"])("ion-button"),O=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(d,{class:"ion-text-center ion-margin-vertical ion-padding-bottom bold"},{default:Object(r["withCtx"])((function(){return[a]})),_:1}),Object(r["createVNode"])(O,{class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{size:"5",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{modelValue:e.form.arvNumber,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.arvNumber=t}),form:e.form,prefix:"".concat(e.sitePrefix,"-ARV-"),disabled:!e.isNewPatient},null,8,["modelValue","form","prefix","disabled"])]})),_:1}),Object(r["createVNode"])(p,{size:"7",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.initialVisitDate,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.initialVisitDate=t}),"min-date":e.patientDob,"max-date":e.today,form:e.form},null,8,["modelValue","min-date","max-date","form"])]})),_:1}),Object(r["createVNode"])(p,{size:"5",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.form.shouldFollowUp,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.shouldFollowUp=t}),inline:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(p,{size:"7",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.form.receivedArvTreatmentBefore,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.receivedArvTreatmentBefore=t}),inline:""},null,8,["modelValue"])]})),_:1}),"Yes"===e.form.receivedArvTreatmentBefore.value?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(p,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.dateLastTakenArvs,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.dateLastTakenArvs=t}),form:e.form,"min-date":e.patientDob,"max-date":e.today},null,8,["modelValue","form","min-date","max-date"])]})),_:1}),Object(r["createVNode"])(p,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.form.everRegisteredAtClinic,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.everRegisteredAtClinic=t}),inline:""},null,8,["modelValue"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0),"Yes"===e.form.everRegisteredAtClinic.value?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:1},[Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.artInitiationLocation,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.artInitiationLocation=t}),form:e.form,asyncOptions:e.getFacilities,allowCustom:""},null,8,["modelValue","form","asyncOptions"])]})),_:1}),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.artStartDate,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.artStartDate=t}),form:e.form,"min-date":e.patientDob,"max-date":e.today},null,8,["modelValue","form","min-date","max-date"])]})),_:1}),Object(r["createVNode"])(p,{size:"3",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{modelValue:e.form.initialWeight,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.initialWeight=t}),form:e.form,min:1,allowUnknown:""},null,8,["modelValue","form"])]})),_:1}),Object(r["createVNode"])(p,{size:"3",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{modelValue:e.form.initialHeight,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.initialHeight=t}),form:e.form,min:1,allowUnknown:""},null,8,["modelValue","form"])]})),_:1}),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.initialTBStatus,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.form.initialTBStatus=t}),form:e.form,options:e.initialTbStatusOptions},null,8,["modelValue","form","options"])]})),_:1}),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.tptHistory,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.form.tptHistory=t}),form:e.form,options:e.tptHistoryOptions},null,8,["modelValue","form","options"])]})),_:1}),e.tptDrugs.length?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.tptStartDate,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.form.tptStartDate=t}),"min-date":e.patientDob,"max-date":e.today,form:e.form},null,8,["modelValue","min-date","max-date","form"])]})),_:1}),e.tptDrugs.includes("INH or H (Isoniazid 300mg tablet)")?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{modelValue:e.form.inhQty,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.form.inhQty=t}),form:e.form,min:1},null,8,["modelValue","form"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.tptDrugs.includes("Rifapentine (150mg)")?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:1,size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{modelValue:e.form.rifapentineQty,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.form.rifapentineQty=t}),form:e.form,min:1},null,8,["modelValue","form"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.tptDrugs.includes("INH 300 / RFP 300 (3HP)")?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:2,size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{modelValue:e.form.threeHPQty,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.form.threeHPQty=t}),form:e.form,min:1},null,8,["modelValue","form"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.tptStartLocation,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.form.tptStartLocation=t}),form:e.form,asyncOptions:e.getFacilities,allowCustom:""},null,8,["modelValue","form","asyncOptions"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0)],64)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.confirmatoryTest,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.confirmatoryTest=t}),form:e.form,options:e.HIVTestOptions},null,8,["modelValue","form","options"])]})),_:1}),"Not done"!==e.form.confirmatoryTest.value.label?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:2},[Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{modelValue:e.form.confirmatoryTestLocation,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.form.confirmatoryTestLocation=t}),form:e.form,asyncOptions:e.getFacilities,allowCustom:""},null,8,["modelValue","form","asyncOptions"])]})),_:1}),Object(r["createVNode"])(p,{size:"6",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.confirmatoryTestDate,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.form.confirmatoryTestDate=t}),form:e.form,"min-date":e.patientDob,"max-date":e.today},null,8,["modelValue","form","min-date","max-date"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,{size:"12",class:"ion-margin-top"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{class:"ion-margin-top ion-float-right",size:"large",onClick:e.onSubmit,color:"success"},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"ion-margin-top ion-float-right",size:"large",color:"warning",onClick:e.onClear},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["onClick"]),e.isNewPatient?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,class:"ion-margin-top ion-float-right",size:"large",onClick:t[21]||(t[21]=function(t){return e.$router.back()}),color:"primary"},{default:Object(r["withCtx"])((function(){return[u]})),_:1}))]})),_:1})]})),_:1})],64)}var c=n("5530"),s=n("1da1"),d=(n("96cf"),n("99af"),n("ac1f"),n("466d"),n("7db0"),n("d3b7"),n("b0c0"),n("ddb0"),n("1276"),n("5319"),n("8a30")),m=n("23e6"),p=n("b5e4"),f=n("9283"),b=n("2ef0"),v=n("0db2"),g=n("5ab5"),h=n("6b6c"),O=n("ad60"),j=n("519d"),V=n("be95"),y=n("e86e"),w=n("f27f"),k=n("403e"),x=n("5a0c"),C=n.n(x),N=n("b515"),R=n("2706"),I=n("5e76"),T=n("8df6"),B=n("3b8c"),D=n("6d32"),H=n("0ba8"),_=n("b5b2"),A=Object(r["defineComponent"])({components:{IonRow:d["IonRow"],IonCol:d["IonCol"],IonTitle:d["IonTitle"],TextInput:v["a"],DateInput:g["a"],YesNoInput:h["a"],SelectInput:V["a"],NumberInput:w["a"]},props:{patient:{type:Object,required:!0},isNewPatient:{type:Boolean,default:!0},sitePrefix:{type:String,required:!0}},emits:["onValue","onNext"],setup:function(e,t){var n=t.emit,a=Object(r["ref"])([]),o=new j["a"](e.patient.getID(),-1),i=new B["a"](e.patient.getID(),-1),u=new N["a"](e.patient.getID(),-1),l=new T["a"](e.patient.getID(),-1),d=C()().format(f["b"]),v=Object(r["computed"])((function(){var t=e.patient.getBirthdate();return t?C()(t).format(f["b"]):""})),g=Object(r["reactive"])({arvNumber:{value:"",label:"ARV Number",placeholder:"Enter ARV Number",required:!0,validation:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.arvNumber.disabled){t.next=2;break}return t.abrupt("return",null);case 2:if(a=R["a"].isNumber(n),null===a){t.next=5;break}return t.abrupt("return",a);case 5:return t.next=7,m["a"].findByOtherID(4,"".concat(e.sitePrefix,"-ARV-").concat(n.value));case 7:return o=t.sent,t.abrupt("return",Object(b["isEmpty"])(o)?null:["ARV Number already exists"]);case 9:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},initialVisitDate:{value:"",label:"Registration Date",required:!0},shouldFollowUp:{value:"",label:"Agrees to follow up ?",computedValue:function(e){return{tag:"registration",obs:[o.buildGroupValueCoded("Agrees to followup","Home visit",e),o.buildGroupValueCoded("Agrees to followup","Phone",e)]}},required:!0},receivedArvTreatmentBefore:{value:"",label:"Ever received ARVs for treatment or prophylaxis?",computedValue:function(e){return{tag:"registration",obs:o.buildValueCoded("Ever received ART",e)}},required:!0},dateLastTakenArvs:{value:"",label:"Date last taken ARVs",placeholder:"Enter Date last taken ARVs",computedValue:function(e){return{tag:"registration",obs:o.buildValueDate("Date ART last taken",e)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.receivedArvTreatmentBefore.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},everRegisteredAtClinic:{value:"",label:"Ever registred at an ART clinic",computedValue:function(e){return{tag:"registration",obs:o.buildValueCoded("Ever registered at ART clinic",e)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.receivedArvTreatmentBefore.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},artInitiationLocation:{value:"",label:"Location of ART Initiation",computedValue:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{tag:"registration",obs:o.buildValueText("Location of ART initiation",t.label)});case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},artStartDate:{value:"",label:"Date started ART",placeholder:"Date started ART",computedValue:function(e){return{tag:"registration",obs:o.buildValueDate("Date ART started",e)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},initialWeight:{value:"",label:"Initial Weight",placeholder:"Enter weight",computedValue:function(e){return{tag:"vitals",obs:u.buildValueNumber("weight",e)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].validateSeries([function(){return R["a"].required(t)},function(){return u.validator(Object(c["a"])(Object(c["a"])({},t),{},{label:"Weight"}))}]));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},initialHeight:{value:"",label:"Initial Height",placeholder:"Enter height",computedValue:function(e){return{tag:"vitals",obs:o.buildValueNumber("Height",e)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].validateSeries([function(){return R["a"].required(t)},function(){return u.validator(Object(c["a"])(Object(c["a"])({},t),{},{label:"Height"}))}]));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},initialTBStatus:{value:"",label:"Initial TB Status",placeholder:"select TB status",computedValue:function(e){return{tag:"registration",obs:o.buildValueCoded("TB Status at Initiation",e.label)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},tptHistory:{value:"",label:"TPT History",placeholder:"Select TPT history",computedValue:function(e){return{tag:"consultation",obs:i.buildValueText("Previous TB treatment history",e.label)}},validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.everRegisteredAtClinic.value&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},tptStartDate:{value:"",label:"Date started TPT",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(r=n.tptHistory)||void 0===r||null===(a=r.value)||void 0===a||null===(o=a.label)||void 0===o?void 0:o.match(/currently/i))&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},inhQty:{value:"",label:"INH Amount Received",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=null===(r=n.tptHistory)||void 0===r||null===(a=r.value)||void 0===a?void 0:a.label,e.abrupt("return",(null===o||void 0===o?void 0:o.match(/currently/i))&&(o.match(/ipt/i)||o.includes("3HP (RFP + INH)"))&&R["a"].required(t));case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e,t){var n=a.value.find((function(e){return"INH or H (Isoniazid 300mg tablet)"===e.name}));return{tag:"consultation",obs:i.buildObs("TPT Drugs Received",{value_drug:(null===n||void 0===n?void 0:n.drug_id)||0,value_datetime:(null===t||void 0===t?void 0:t.tptStartDate.value)||null,value_numeric:e||0})}}},rifapentineQty:{value:"",label:"Rifapentine Amount Received",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=null===(r=n.tptHistory)||void 0===r||null===(a=r.value)||void 0===a?void 0:a.label,e.abrupt("return",(null===o||void 0===o?void 0:o.match(/currently/i))&&o.includes("3HP (RFP + INH)")&&R["a"].required(t));case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e,t){var n=a.value.find((function(e){return"Rifapentine (150mg)"===e.name}));return{tag:"consultation",obs:i.buildObs("TPT Drugs Received",{value_drug:(null===n||void 0===n?void 0:n.drug_id)||0,value_datetime:(null===t||void 0===t?void 0:t.tptStartDate.value)||null,value_numeric:e||0})}}},threeHPQty:{value:"",label:"INH / RFP Amount Received",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=null===(r=n.tptHistory)||void 0===r||null===(a=r.value)||void 0===a?void 0:a.label,e.abrupt("return",(null===o||void 0===o?void 0:o.match(/currently/i))&&o.includes("INH 300 / RFP 300 (3HP)")&&R["a"].required(t));case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e,t){var n=a.value.find((function(e){return"INH 300 / RFP 300 (3HP)"===e.name}));return{tag:"consultation",obs:i.buildObs("TPT Drugs Received",{value_drug:(null===n||void 0===n?void 0:n.drug_id)||0,value_datetime:(null===t||void 0===t?void 0:t.tptStartDate.value)||null,value_numeric:e||0})}}},tptStartLocation:{value:"",label:"TPT Transfer From",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(r=n.tptHistory)||void 0===r||null===(a=r.value)||void 0===a||null===(o=a.label)||void 0===o?void 0:o.match(/currently/i))&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e){return{tag:"consultation",obs:i.buildValueText("Location TPT last received",e.label)}}},confirmatoryTest:{value:"",label:"Confirmatory Test",placeholder:"Select confirmatory test",required:!0,computedValue:function(e){return{tag:"registration",obs:o.buildValueCoded("Confirmatory hiv test type",e.value)}}},confirmatoryTestLocation:{value:"",label:"Location of Confirmatory",placeholder:"Select location",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Not done"!==n.confirmatoryTest.value.label&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e){return{tag:"registration",obs:o.buildValueText("Confirmatory HIV test location",e.label)}}},confirmatoryTestDate:{value:"",label:"Confirmatory HIV Test Date",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Not done"!==n.confirmatoryTest.value.label&&R["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),computedValue:function(e){return{tag:"registration",obs:o.buildValueDate("Confirmatory HIV test date",e)}}},patientType:{value:"New patient",computedValue:function(e){return{tag:"patient type",obs:l.buildValueCoded("Type of patient",e)}}}});Object(r["watch"])(g.receivedArvTreatmentBefore,(function(e){"No"===e.value&&(g.everRegisteredAtClinic.value="")}));var h=Object(r["computed"])((function(){var e,t=null===(e=g.tptHistory.value)||void 0===e?void 0:e.label;if(null!==t&&void 0!==t&&t.match(/currently/i)){if(t.match(/ipt/i))return["INH or H (Isoniazid 300mg tablet)"];if(t.includes("3HP (RFP + INH)"))return["INH or H (Isoniazid 300mg tablet)","Rifapentine (150mg)"];if(t.includes("INH 300 / RFP 300 (3HP)"))return["INH 300 / RFP 300 (3HP)"]}return[]})),V=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["a"])("Are you sure you want to clear all fields?");case 2:if(!e.sent){e.next=12;break}e.t0=regeneratorRuntime.keys(g);case 4:if((e.t1=e.t0()).done){e.next=12;break}if(t=e.t1.value,"patientType"!==t){e.next=8;break}return e.abrupt("continue",4);case 8:g[t].value=void 0,g[t].error="",e.next=4;break;case 12:H["b"].emit(_["a"].ON_CLEAR);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l.setDate(g.initialVisitDate.value),o.setDate(g.initialVisitDate.value),u.setDate(g.initialVisitDate.value),i.setDate(g.initialVisitDate.value),e.next=6,Object(I["e"])(g,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("onValue",{type:"registration",data:{formData:t,computedData:r,arvNumberEditable:!g.arvNumber.disabled}}),n("onNext");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r["onMounted"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.patient.getArvNumber(),!n||"Unknown"===n){t.next=6;break}g.arvNumber.value=n.split("-")[2],g.arvNumber.disabled=!0,t.next=10;break;case 6:return t.next=8,O["a"].getNextSuggestedARVNumber();case 8:r=t.sent,g.arvNumber.value=r.arv_number.replace(/^\D+|\s/g,"");case 10:D["a"].getCustomIngridients().then((function(e){return a.value=e}));case 11:case"end":return t.stop()}}),t)})))),{today:d,patientDob:v,form:g,initialTbStatusOptions:k["c"],tptHistoryOptions:k["e"],HIVTestOptions:k["a"],tptDrugs:h,getFacilities:y["b"],onClear:V,onSubmit:w}}}),P=n("d959"),S=n.n(P);const F=S()(A,[["render",l]]);t["default"]=F},"68c9":function(e,t,n){},"6d32":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),o=n("262e"),i=n("2caf"),u=(n("99af"),n("1c74")),l=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,null,[{key:"getAllArvRegimens",value:function(){return this.getJson("programs/".concat(this.getProgramID(),"/all_arv_regimens"))}},{key:"getRegimens",value:function(e){return this.getJson("programs/".concat(this.getProgramID(),"/regimens"),{patient_id:e})}},{key:"getRegimensByWeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getJson("programs/".concat(this.getProgramID(),"/regimens"),{weight:e,tb_dosage:t})}},{key:"getCustomIngridients",value:function(){return this.getJson("programs/".concat(this.getProgramID(),"/custom_regimen_ingredients"))}},{key:"getCurrentRegimen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSessionDate();return this.getJson("programs/".concat(this.getProgramID(),"/").concat(e),{date:t})}},{key:"getRegimenExtras",value:function(e,t){return this.getJson("programs/".concat(this.getProgramID(),"/regimen_extras"),{name:e,weight:t})}}]),n}(u["e"])},be95:function(e,t,n){"use strict";n("4de4"),n("d3b7");var r=n("7a23"),a=Object(r["withScopeId"])("data-v-66a24b01");Object(r["pushScopeId"])("data-v-66a24b01");var o={key:0,class:"ion-float-right ion-margin-end checkbox-label"},i={class:"inner-input-box"},u={key:0,class:"input-options"},l={class:"input-icon"};Object(r["popScopeId"])();var c=a((function(e,t,n,c,s,d){var m=Object(r["resolveComponent"])("ion-checkbox"),p=Object(r["resolveComponent"])("ion-label"),f=Object(r["resolveComponent"])("ion-input"),b=Object(r["resolveComponent"])("ion-icon"),v=Object(r["resolveComponent"])("ion-chip"),g=Object(r["resolveComponent"])("ion-item"),h=Object(r["resolveComponent"])("ion-list"),O=Object(r["resolveComponent"])("ion-note");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.model.label?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,class:"ion-padding-bottom bold"},{default:a((function(){return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.model.label),1),e.allowCustom?(Object(r["openBlock"])(),Object(r["createBlock"])("span",o,[Object(r["createTextVNode"])(" Add Custom "+Object(r["toDisplayString"])(e.model.label)+"? ",1),Object(r["createVNode"])(m,{modelValue:e.isCustom,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.isCustom=t}),onIonChange:t[2]||(t[2]=function(t){return e.model.value=""})},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})):Object(r["createCommentVNode"])("",!0),e.isCustom?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:1,class:["box-input",{"box-input-error":e.model.error,"ion-margin-top":e.model.label}],modelValue:e.customOption,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.customOption=t}),placeholder:e.model.placeholder||e.model.label,disabled:e.model.disabled,onIonFocus:t[4]||(t[4]=function(){return e.model.error=""}),onIonBlur:e.validate,onIonInput:e.onCustomValue},null,8,["class","modelValue","placeholder","disabled","onIonBlur","onIonInput"])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:2,class:["outer-input-box box-input",{"box-input-error":e.model.error,"ion-margin-top":e.model.label}]},[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("div",{style:{display:"flex","flex-wrap":"wrap",width:"100%"},onClick:t[6]||(t[6]=function(){return e.onShowOptions.apply(e,arguments)})},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tags,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:n},{default:a((function(){return[Object(r["createVNode"])(p,null,{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(b,{icon:e.closeCircle,color:"danger",onClick:function(n){return e.diselect(t)},style:{"z-index":"20"}},null,8,["icon","onClick"])]})),_:2},1024)})),128)),Object(r["createVNode"])(f,{disabled:e.model.disabled,placeholder:e.showPlaceholder?e.model.placeholder||"select option":"",modelValue:e.filter,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.filter=t}),class:"search-input",ref:"searchInput"},null,8,["disabled","placeholder","modelValue"])]),e.showOptions?(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,[Object(r["createVNode"])(h,null,{default:a((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filteredOptions,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:n,lines:n+1===e.filteredOptions.length?"none":"",onClick:function(n){return e.onSelect(t)}},{default:a((function(){return[e.multiple?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,class:"input-option-checkbox",slot:"start",modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e}},null,8,["modelValue","onUpdate:modelValue"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,null,{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["lines","onClick"])})),128))]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",l,[e.filter||e.tags.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,icon:e.close,onClick:e.onReset},null,8,["icon","onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(b,{icon:e.showOptions?e.chevronUp:e.chevronDown,onClick:t[7]||(t[7]=function(t){return e.showOptions?e.onCloseOptions():e.onShowOptions()})},null,8,["icon"])])])],2)),e.model.error?(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:3,color:"danger"},{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.error),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)})),s=n("2909"),d=n("1da1"),m=n("5530"),p=(n("96cf"),n("159b"),n("c740"),n("7db0"),n("caad"),n("2532"),n("99af"),n("25f0"),n("8a30")),f=n("ff79"),b=n("2ef0"),v=Object(r["defineComponent"])({name:"SelectInput",props:{modelValue:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},asyncOptions:{type:Function,required:!1},allowCustom:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},infiniteScrolling:{type:Boolean,default:!1}},components:{IonLabel:p["IonLabel"],IonInput:p["IonInput"],IonNote:p["IonNote"],IonIcon:p["IonIcon"],IonCheckbox:p["IonCheckbox"],IonList:p["IonList"],IonChip:p["IonChip"],IonItem:p["IonItem"]},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,a=Object(r["ref"])(!1),o=Object(r["ref"])(""),i=Object(r["ref"])(),u=Object(r["ref"])(!1),l=Object(r["ref"])(""),c=Object(r["ref"])([]),p=Object(r["ref"])(1),v=Object(r["computed"])((function(){return e.multiple?c.value.filter((function(e){var t=e.isChecked;return t})):i.value?[i.value]:[]})),g=Object(r["computed"])((function(){return!l.value&&Object(b["isEmpty"])(v.value)&&!u.value})),h=Object(r["computed"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),O=function(){if(i.value=void 0,!Object(b["isEmpty"])(h.value.value)){if(Array.isArray(h.value.value)&&e.multiple)return console.log(h.value.value),h.value.value.forEach((function(e){var t=c.value.findIndex((function(t){var n=t.value;return n===e.value}));-1===t?c.value.push(Object(m["a"])(Object(m["a"])({},e),{},{isChecked:!0})):c.value[t].isChecked=!0}));var t=c.value.find((function(e){return e.value===h.value.value}));i.value=t||{label:h.value.value,value:h.value.value}}},j=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof e.asyncOptions){t.next=6;break}return t.next=3,e.asyncOptions(l.value,p.value);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e.options.filter((function(e){var t=e.label;return t.toLowerCase().includes(l.value.toLowerCase())}));case 7:n=t.t0,v.value.forEach((function(e){var t=n.findIndex((function(t){return t.value===e.value}));-1===t?n.push(e):n[t].isChecked=!0})),c.value=n;case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.infiniteScrolling||"function"!==typeof e.asyncOptions){t.next=6;break}return p.value++,t.next=4,e.asyncOptions(l.value,p.value);case 4:r=t.sent,r.length>0?c.value=[].concat(Object(s["a"])(c.value),Object(s["a"])(r.filter((function(e){return!c.value.find((function(t){return t.value===e.value}))})))):n.target.disabled=!0;case 6:n.target.complete();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!h.value.required||!Object(b["isEmpty"])(h.value.value)){t.next=2;break}return t.abrupt("return",h.value.error="This field is required");case 2:if(!h.value.validation){t.next=8;break}return t.next=5,h.value.validation({label:h.value.value,value:h.value.value},e.form);case 5:if(n=t.sent,!n||!n.length){t.next=8;break}return t.abrupt("return",h.value.error+=n.toString());case 8:return t.abrupt("return",h.value.error="");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){u.value=!1,h.value.value=e.multiple?v.value:Object(b["isEmpty"])(v.value)?void 0:v.value[0],l.value="",y()},k=function(){h.value.disabled||(u.value=!0,h.value.error="")},x=function(){h.value.value={label:o.value,value:o.value}},C=function(t){e.multiple||(i.value=t,w()),h.value.value=e.multiple?v.value:Object(b["isEmpty"])(v.value)?void 0:v.value[0],l.value=""},N=function(t){return e.multiple?t.isChecked=!1:i.value=void 0},R=function(){l.value="",i.value=void 0,c.value.forEach((function(e){return e.isChecked=!1}))};return Object(r["watch"])(l,Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value++,e.next=3,j();case 3:case"end":return e.stop()}}),e)})))),Object(r["watch"])([function(){return e.options},function(){return e.asyncOptions}],Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",j());case 1:case"end":return e.stop()}}),e)})))),Object(r["watch"])((function(){return e.modelValue.value}),(function(e){return Object(b["isEmpty"])(e)&&O()})),Object(r["onMounted"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:O(),addEventListener("click",(function(e){var t=e.target.closest(".inner-input-box");!t&&u.value&&w()}));case 4:case"end":return e.stop()}}),e)})))),Object(r["onBeforeUnmount"])((function(){return removeEventListener("click",(function(e){return console.log(e)}))})),{validate:y,onSelect:C,onReset:R,onShowOptions:k,onCloseOptions:w,diselect:N,pushMoreOptions:V,onCustomValue:x,model:h,customOption:o,isCustom:a,chevronDown:f["chevronDown"],chevronUp:f["chevronUp"],close:f["close"],closeCircle:f["closeCircle"],selectedOption:i,showOptions:u,showPlaceholder:g,filteredOptions:c,filter:l,tags:v}}}),g=(n("44d7"),n("d959")),h=n.n(g);const O=h()(v,[["render",c],["__scopeId","data-v-66a24b01"]]);t["a"]=O},c740:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").findIndex,o=n("44d2"),i=n("ae40"),u="findIndex",l=!0,c=i(u);u in[]&&Array(1)[u]((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(u)},e86e:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return y})),n.d(t,"e",(function(){return k}));var r=n("1da1"),a=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("498a"),n("b0c0"),n("5713")),o=n("2ef0");function i(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t});case 3:return n=e.sent,e.abrupt("return",n.filter((function(e){return!Object(o["isEmpty"])(e)&&""!=e.name.trim()})).map((function(e){return{label:e.name,value:e.location_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getLabs({search_name:t});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e,value:e}})));case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function s(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t,tag:"Facility adult sections"});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.name,other:e}})));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function m(){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getSpecialistClinics();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.name,other:e}})));case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getRegions();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.region_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getDistricts(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.district_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",e.next=3,a["a"].getTraditionalAuthorities(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.traditional_authority_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(e){return V.apply(this,arguments)}function V(){return V=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"",e.next=3,a["a"].getVillages(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"a",n=o.length>1&&void 0!==o[1]?o[1]:1,e.next=4,a["a"].getVillagesByName(t,n);case 4:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 6:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function k(){var e=["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"];return e.map((function(e){return{label:e,value:e,other:{code:e}}}))}},f27f:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,o,i){var u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-input"),c=Object(r["resolveComponent"])("ion-note");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.model.label?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,class:" ion-padding-bottom bold"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.label),1)]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(l,{type:"number",class:["ion-margin-top",e.model.error?"box-input-error":"box-input"],modelValue:e.model.value,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.model.value=t}),placeholder:e.model.placeholder,disabled:e.model.disabled,onIonFocus:t[2]||(t[2]=function(t){return e.model.error=""}),onIonBlur:e.validate,min:e.min,max:e.max},null,8,["class","modelValue","placeholder","disabled","onIonBlur","min","max"]),e.model.error?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:1,color:"danger"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.error),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)}var o=n("1da1"),i=(n("96cf"),n("a9e3"),n("d3b7"),n("25f0"),n("8a30")),u=Object(r["defineComponent"])({name:"NumberInput",props:{modelValue:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){return{}}},min:{type:Number,default:null},max:{type:Number,default:null}},components:{IonLabel:i["IonLabel"],IonInput:i["IonInput"],IonNote:i["IonNote"]},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,a=Object(r["computed"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),i=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.value.required||a.value.value){t.next=2;break}return t.abrupt("return",a.value.error="This field is required");case 2:if(!a.value.validation){t.next=8;break}return t.next=5,a.value.validation({label:a.value.value,value:a.value.value},e.form);case 5:if(n=t.sent,!n||!n.length){t.next=8;break}return t.abrupt("return",a.value.error+=n.toString());case 8:return t.abrupt("return",a.value.error="");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{validate:i,model:a}}}),l=n("d959"),c=n.n(l);const s=c()(u,[["render",a]]);t["a"]=s}}]);
//# sourceMappingURL=chunk-9c160b60.e80fa094.js.map