(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f0d90"],{"9db1":function(t,e,n){"use strict";n.r(e);var o=n("7a23");function a(t,e,n,a,i,r){const s=Object(o["resolveComponent"])("report-template"),d=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(d,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,showtitleOnly:!0,config:{showIndex:!1},onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]),_:1})}var i=n("fa94");class r extends i["a"]{generateBookedAppointments(){return i["a"].getJson(`programs/${this.programID}/booked_appointments`,{date:this.startDate,paginated:!1})}}var s=n("44e3"),d=n("4ba2"),p=n("d95e"),l=n("2706"),c=n("9283"),h=n("9ceb"),m=n("8a30"),u=Object(o["defineComponent"])({mixins:[s["a"]],components:{ReportTemplate:d["a"],IonPage:m["D"]},data:()=>({title:"Booked clients",date:"",rows:[],appointments:[],columns:[[h["a"].thTxt("Identifier"),h["a"].thTxt("First name",{exportable:!1}),h["a"].thTxt("Last name",{exportable:!1}),h["a"].thTxt("Gender"),h["a"].thTxt("birthdate"),h["a"].thTxt("Actions")]]}),created(){this.report=new r,this.fields=[{id:"date",helpText:"Select date",type:p["b"].TT_APPOINTMENT_PICKER,defaultValue:()=>r.getSessionDate(),validation:t=>l["a"].required(t),onValue:async(t,e)=>{this.report.setStartDate(t);const n=await this.report.generateBookedAppointments();return n.length>0&&(this.appointments=n,e.appointmentCounter=this.appointments.length,!0)}}]},methods:{onPeriod(t){this.rows=[],this.period=c["b"].toStandardHisDisplayFormat(t.date),this.rows=this.appointments.map(t=>[h["a"].td(t.npid),h["a"].td(t.given_name),h["a"].td(t.family_name),h["a"].td(t.gender),h["a"].tdDate(t.birthdate),h["a"].tdBtn("Select",()=>this.confirmPatient(t.person_id))])}}}),b=n("6b0d"),f=n.n(b);const w=f()(u,[["render",a]]);e["default"]=w}}]);
//# sourceMappingURL=chunk-2d0f0d90.4381d16d.js.map