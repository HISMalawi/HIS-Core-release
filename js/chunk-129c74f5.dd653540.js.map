{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue","webpack:///./node_modules/eslint-loader/index.js"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_openBlock","_createBlock","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","defineComponent","components","HisStandardForm","mixins","EncounterMixinVue","data","socialService","watch","ready","isReady","this","SocialHistoryService","patient","getID","providerID","getFields","immediate","deep","methods","_","computedData","encounter","createEncounter","toastWarning","registrationData","resolveObs","registrationObs","saveObservationList","nextTask","id","helpText","type","FieldType","TT_MULTIPLE_YES_NO","validation","validateSeries","Validation","required","anyEmpty","computedValue","options","obs","map","option","buildValueCoded","label","value","summaryMapValue","other","values","yesNoOptions","TT_SELECT","buildValueText","__exports__","AppEncounterService","constructor","patientID","super"],"mappings":"uIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA+BC,8BAAkB,qBAEvD,OAAQC,yBAAcC,yBAAaH,EAA8B,CAC/DI,sBAAuBV,EAAKW,kBAC5BC,OAAQZ,EAAKY,OACbC,eAAgBb,EAAKc,UACpB,KAAM,EAAG,CAAC,wBAAyB,SAAU,mB,4ECCnCC,+BAAgB,CAC7BC,WAAY,CAAEC,wBACdC,OAAQ,CAACC,QACTC,KAAM,KAAM,CACVC,cAAe,KAEjBC,MAAO,CACLC,MAAO,CACL,cAAcC,GACTA,IACDC,KAAKJ,cAAgB,IAAIK,OAAqBD,KAAKE,QAAQC,QAASH,KAAKI,YACzEJ,KAAKb,OAASa,KAAKK,cAGvBC,WAAW,EACXC,MAAM,IAGVC,QAAS,CACP,eAAeC,EAAQC,GACrB,MAAMC,QAAkBX,KAAKJ,cAAcgB,kBAC3C,IAAKD,EAAW,OAAOE,eAAa,6CAEpC,MAAMC,QAAyBd,KAAKe,WAAW,IAAIL,IAC7CM,QAAwBhB,KAAKJ,cAAcqB,oBAAoBH,GACrE,IAAKE,EAAiB,OAAOH,eAAa,+BAE1Cb,KAAKkB,YAEPb,YACE,MAAO,CACL,CACEc,GAAI,oBACJC,SAAU,oBACVC,KAAMC,OAAUC,mBAChBC,WAAa7B,GAAcK,KAAKyB,eAAe,CAC7C,IAAMC,OAAWC,SAAShC,GAC1B,IAAM+B,OAAWE,SAASjC,KAE5BkC,cAAgBC,IAAD,CACbC,IAAKD,EAAQE,IAAIC,GAAUjC,KAAKJ,cAAcsC,gBAC5CD,EAAOE,MACPF,EAAOG,UAGXC,gBAAkBJ,IAAD,CACfE,MAAOF,EAAOE,MACdC,MAAOH,EAAOG,QAEhBN,QAAS,IAAM,CACb,CACEK,MAAO,iBACPC,MAAO,GACPE,MAAO,CACLC,OAAQvC,KAAKwC,iBAGjB,CACEL,MAAO,yBACPC,MAAO,GACPE,MAAO,CACLC,OAAQvC,KAAKwC,mBAKrB,CACErB,GAAI,iBACJC,SAAU,iBACVC,KAAMC,OAAUmB,UAChBjB,WAAaY,GAAeV,OAAWC,SAASS,GAChDP,cAAe,EAAGO,YAAH,CACbL,IAAK/B,KAAKJ,cAAc8C,eAAe,iBAAkBN,KAE3DN,QAAS,IAAM,CACb,CAAEK,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,YAAaC,MAAO,aAC7B,CAAED,MAAO,UAAWC,MAAO,WAC3B,CAAED,MAAO,QAASC,MAAO,WAG7B,CACEjB,GAAI,WACJC,SAAU,WACVC,KAAMC,OAAUmB,UAChBjB,WAAaY,GAAeV,OAAWC,SAASS,GAChDP,cAAe,EAAGO,YAAH,CACbL,IAAK/B,KAAKJ,cAAc8C,eAAe,WAAYN,KAErDN,QAAS,IAAO,CACd,CAAEK,MAAO,WAAYC,MAAO,YAC5B,CAAED,MAAO,OAAQC,MAAO,QACxB,CAAED,MAAO,MAAOC,MAAO,OACvB,CAAED,MAAO,YAAaC,MAAO,aAC7B,CAAED,MAAO,SAAUC,MAAO,UAC1B,CAAED,MAAO,iBAAkBC,MAAO,kBAClC,CAAED,MAAO,kBAAmBC,MAAO,mBACnC,CAAED,MAAO,QAASC,MAAO,gB,qBCxGrC,MAAMO,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASrE,KAErD,gB,kCCPf,kDAEM,MAAO2B,UAA6B2C,OACtCC,YAAYC,EAAmB1C,GAC3B2C,MAAMD,EAAW,GAAI1C","file":"js/chunk-129c74f5.dd653540.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    cancelDestinationPath: _ctx.cancelDestination,\n    fields: _ctx.fields,\n    onFinishAction: _ctx.onSubmit\n  }, null, 8, [\"cancelDestinationPath\", \"fields\", \"onFinishAction\"]))\n}","\nimport { defineComponent} from 'vue'\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\nimport Validation from '@/components/Forms/validations/StandardValidations';\nimport { Field, Option } from '@/components/Forms/FieldInterface';\nimport { FieldType } from '@/components/Forms/BaseFormElements';\nimport { toastWarning } from '@/utils/Alerts';\nimport { SocialHistoryService } from '@/apps/ART/services/social_history_service';\n\nexport default defineComponent({\n  components: { HisStandardForm },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    socialService: {} as any\n  }),\n  watch: {\n    ready: {\n      async handler(isReady: boolean) {\n        if(isReady){\n          this.socialService = new SocialHistoryService(this.patient.getID(), this.providerID)\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    async onSubmit(_: any, computedData: any){\n      const encounter = await this.socialService.createEncounter()\n      if (!encounter) return toastWarning('Unable to create social history encounter')\n      \n      const registrationData = await this.resolveObs({...computedData})\n      const registrationObs = await this.socialService.saveObservationList(registrationData)\n      if (!registrationObs) return toastWarning('Unable to save observations')\n\n      this.nextTask()        \n    },\n    getFields(): Array<Field>{\n      return [\n        {\n          id: \"social_acitivites\",\n          helpText: `Social Activities`,\n          type: FieldType.TT_MULTIPLE_YES_NO,\n          validation: (data: any) => this.validateSeries([\n            () => Validation.required(data), \n            () => Validation.anyEmpty(data)\n          ]),\n          computedValue: (options: Option[]) => ({\n            obs: options.map(option => this.socialService.buildValueCoded(\n              option.label,\n              option.value\n            ))                     \n          }),\n          summaryMapValue: (option: Option) => ({\n            label: option.label,\n            value: option.value\n          }),\n          options: () => [\n            {\n              label: \"Patient smokes\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n            {\n              label: \"Patient drinks alcohol\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n          ],\n        },\n        {\n          id: 'marital_status',\n          helpText: 'Marital Status',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Marital status', value)\n          }),\n          options: () => [\n            { label: \"Single\", value: \"Single\" },\n            { label: \"Engaged\", value: \"Engaged\" },\n            { label: \"Married\", value: \"Married\" },\n            { label: \"Separated\", value: \"Separated\" },\n            { label: \"Widowed\", value: \"Widowed\" },\n            { label: \"Other\", value: \"Other\" },\n          ],\n        },\n        {\n          id: 'religion',\n          helpText: 'Religion',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Religion', value)\n          }),\n          options: () => ([\n            { label: 'Catholic', value: 'Catholic' },\n            { label: 'CCAP', value: 'CCAP' },\n            { label: 'SDA', value: 'SDA' },\n            { label: 'Angelican', value: 'Angelican' },\n            { label: 'Muslim', value: 'Muslim' },\n            { label: 'Pentecostalism', value: 'Pentecostalism' },\n            { label: 'Jehovah witness', value: 'Jehovah witness' },\n            { label: 'Other', value: 'Other' },\n          ])\n        },\n      ]\n    }\n  }\n})\n","import { render } from \"./SocialHistory.vue?vue&type=template&id=f1e005e0&ts=true\"\nimport script from \"./SocialHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./SocialHistory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { AppEncounterService } from \"@/services/app_encounter_service\"\n\nexport class SocialHistoryService extends AppEncounterService {\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 84, providerID) //TODO: Use encounter type reference name'\n    }\n}"],"sourceRoot":""}