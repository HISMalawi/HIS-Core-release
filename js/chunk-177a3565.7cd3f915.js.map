{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/views/EncounterMixin.vue","webpack:///./node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./src/components/Forms/HisStandardForm.vue","webpack:///./src/apps/ART/views/encounters/hypertension_diagnosis.vue"],"names":["DEFAULT_KEYPAD","VITALS_KEYPAD","DRUG_DISPENSER_KEYPAD","CD4_COUNT_PAD_LO","SYMBOLS","NUMBER_PAD_LO","MONTHLY_DAYS_LO","ALPHABETICAL_LO","QWERTY_LO","CHARACTERS_AND_NUMBERS_LO","NOTE_PAD_KEYBOARD","LOGIN_KEYBOARD","ConsultationService","AppEncounterService","constructor","patientID","providerID","getFamilyPlanningMethods","getJson","obs","ObservationService","getFirstObs","value_text","match","obsInValidPeriod","getDrugSideEffects","getProgramID","date","getClient","getFirstValueCoded","req","id","isEmpty","lastScreened","duration","dayjs","diff","secondCheck","getFirstValueText","isTL","value_coded","tlObs","fpObs","drugs","uniqueDrugs","forEach","drug","drug_inventory_id","familyPlanningMethods","label","values","familyPlanningLogic","selected","map","data","value","isChecked","disabled","SYMBOLS_CONFIG","NUMBERS_ONLY","NUMBERS_WITH_UNKNOWN","NUMBERS_WITH_ESTIMATE","NUMBERS_WITHOUT_NA_UNKNOWN","NUMBERS","MONTHLY_DAYS","A_TO_Z","QWERTY","KEY_BTN_NAV","btn","keyboard","FlowState","dformat","d","HisDate","toStandardHisDisplayFormat","ENCOUNTER_GUIDELINES","priority","actions","alert","outcomeStartDate","action","infoActionSheet","name","slot","color","GO_TO_PATIENT_DASHBOARD","CHANGE_PATIENT_OUTCOME","CONTINUE","conditions","outcome","startDate","sessionDate","birthDate","CHANGE_SESSION_DATE","selection","providers","encounterName","apiDate","modal","optionsActionSheet","role","flowState","SET_PROVIDER","isBdeMode","isBDE","defineComponent","components","HisStandardForm","patient","fields","facts","ready","watch","handler","route","params","patient_id","parseInt","Store","get","then","patientData","setEncounterFacts","checkEncounterGuidelines","immediate","deep","computed","cancelDestination","patientDashboardUrl","methods","runflowState","state","states","username","split","provider","find","person_id","$router","push","EXIT","gotoPatientDashboard","findings","matchToGuidelines","index","finding","status","program","e","console","error","toastDanger","ProgramService","getSessionDate","getCachedApiDate","getBirthdate","$route","toString","toUpperCase","sort","a","b","usernameA","usernameB","p","person","names","latestName","given_name","family_name","toOption","other","mapStrToOptions","items","i","path","nextTask","yesNoOptions","toYesNoOption","mapOptions","options","option","yesNoUnknownOptions","resolveObs","tag","Object","filter","reduce","accum","cur","Array","isArray","concat","Promise","all","inArray","arr","expression","length","validateSeries","condition","__exports__","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","_resolveDynamicComponent","formType","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onFinishAction","onOnIndex","onIndex","TouchScreenForm","emits","props","type","Function","Boolean","default","String","required","formData","computedData","$emit","EstimationFieldType","getYearField","showUnknown","primaryFunctions","helpText","appearInSummary","FieldType","TT_TEXT","config","customKeyboard","getMonthField","TT_SELECT","MonthOptions","getDayField","TT_MONTHLY_DAYS","getMonthDurationEstimateField","getAgeEstimateField","TT_NUMBER","keypad","appendLeadingZero","s","getDefaultDate","form","field","datePart","defaultValue","year","month","day","validateMinMax","minDate","min","Date","maxDate","max","generateDateFields","refDate","fullDate","yearValue","monthValue","dayValue","dateIsEstimated","yearID","monthID","dayID","ageEstimateID","durationEstimateID","estimation","allowUnknown","ageEstimate","durationEstimate","estimateMonthOrDay","allowUnknownMonthDay","datePartCondition","f","includes","buildHelpTextDate","part","parts","partValues","dpart","wl","undefined","join","init","updateHelpTextOnValue","proxyID","unload","v","validation","c","StandardValidations","isNaN","minYear","getYear","summaryMapValue","summaryLabel","_","ref","computedValue","val","computeValue","beforeNext","keyboardActions","valueEstimateCondition","estimateType","estimationFieldType","every","ageEstimateRegex","Service","subtract","AGE_ESTIMATE_FIELD","format","STANDARD_DATE_FORMAT","MONTH_ESTIMATE_FIELD","isCondition","ignored","prop","sortByPriority","sortByWeight","weight","guidelines","target","targetEvent","sortBy","matches","guidelineIndex","targetValidations","some","title","description","text","info","_component_his_standard_form","_resolveComponent","mixins","EncounterMixinVue","consultation","this","getFields","createEncounter","saveObservationList","back","Validation","buildValueCoded","has_hypertension","buildValueDate"],"mappings":"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","file":"js/chunk-177a3565.7cd3f915.js","sourcesContent":["/**\n * Compares patient facts against a predefined guideline Object.\n*/\nexport interface DescriptionInterface {\n    color?: 'primary' | 'secondary' | 'danger' | 'warning';\n    info: Function;\n    text?: string;\n    show: 'onChecked' | 'always';\n}\n\nexport interface GuideLineInterface {\n    title?: string;\n    concept?: string;\n    weight?: number;\n    priority?: number;\n    conditions: Record<string, Function>;\n    actions?: Record<string, any>; //TODO: should <key, Function>\n    data?: Record<string, any>;\n    description?: DescriptionInterface;\n    target?: string;\n    targetEvent?: string;\n}\n\n/**\n * Match the facts with guidelines\n * @param facts \n * @param conditions \n * @returns \n */\nfunction isCondition(facts: Record<string, any>, conditions: Record<string, Function>): boolean {\n    const state = [] \n    const ignored = [-1, '', null, undefined]\n\n    for(const prop in conditions) {\n        if (!(prop in facts)) \n            continue\n        \n        const value = facts[prop]\n        if (ignored.includes(value)) {\n            state.push(false)\n            continue\n        }\n\n        state.push(conditions[prop](value, facts))\n    }\n    return state.every(Boolean)\n}\n\n/**\n * Sort guidelines in the order of importance/relevance\n * @param findings \n * @returns \n */\nfunction sortByPriority(findings: GuideLineInterface[]) {\n    return findings.sort((a, b) => (a.priority && b.priority) && a.priority < b.priority ? -1 : 1)\n}\n\nfunction sortByWeight(findings: GuideLineInterface[]) {\n    return findings.sort((a, b) => (a.weight && b.weight) && a.weight > b.weight ? -1 : 1)\n}\n\nexport function logFindingsByWeight(guidelines: Record<string, GuideLineInterface>) {\n    const findings: any = Object.keys(guidelines).map(i => ({ name: i, weight: guidelines[i].weight}))\n    console.log(sortByWeight(findings).map((i: any) => `${i.weight} -> ${i.name}`))\n}\n\n/**\n * Check the guideline for matching facts and return matching object \n * @param facts: key value pair for used for searching in guidelines\n * @param guidelines: A dictionary containing fixed rules/validations that conforms to GuideLineInterface\n * @param target: Used for matching a target defined in a guidlines before executing conditions\n * @param targetEvent: used for matching a target event in a guideline before executing conditions\n * @returns\n */\nexport function matchToGuidelines(\n    facts: Record<string, any>, \n    guidelines: Record<string, GuideLineInterface>,\n    target='', \n    targetEvent='',\n    sortBy='priority' as 'priority' | 'weight'): Array<GuideLineInterface> {\n    const matches = []\n    for(const guidelineIndex in guidelines) {\n        const data: GuideLineInterface = guidelines[guidelineIndex]\n        const targetValidations = [\n            (data.target && target && data.target != target),\n            (data.targetEvent && targetEvent \n                && data.targetEvent != targetEvent)\n        ]\n\n        if (targetValidations.some(Boolean)) {\n            continue\n        }\n\n        if (isCondition(facts, data.conditions)) {\n            data.title = guidelineIndex\n            if (data.description) {\n                data.description.text = data.description.info(facts)\n            }\n            matches.push(data)\n        }\n    }\n    return sortBy === 'priority' ? sortByPriority(matches) : sortByWeight(matches)\n}\n","\nimport { defineComponent } from \"vue\";\nimport { Field, Option } from \"@/components/Forms/FieldInterface\"\nimport { FieldType } from \"@/components/Forms/BaseFormElements\";\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport Validation from \"@/components/Forms/validations/StandardValidations\";\nimport EncounterMixinVue from \"../../../../views/EncounterMixin.vue\";\nimport { ConsultationService } from \"@/apps/ART/services/consultation_service\";\nimport { generateDateFields } from \"@/utils/HisFormHelpers/MultiFieldDateHelper\";\nimport { ObservationService } from \"@/services/observation_service\";\n\nexport default defineComponent({\n  mixins: [EncounterMixinVue],\n  components: { HisStandardForm },\n  data: () => ({\n    consultation: {} as any\n  }),\n  watch: {\n    ready: {\n      handler(ready: boolean) {\n        if (ready)  {\n          this.consultation = new ConsultationService(this.patientID, this.providerID)\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async onFinish(_: any, computedData: any) {\n      await this.consultation.createEncounter();\n      const obs = await this.resolveObs(computedData)\n      await this.consultation.saveObservationList(obs)\n      this.$router.back()\n    },\n    getFields(): Field[] {\n      return [\n        {\n          id: \"has_hypertension\",\n          helpText: \"Does the patient have hypertension\",\n          type: FieldType.TT_SELECT,\n          options: () => this.yesNoOptions(),\n          validation: (val: any) => Validation.required(val),\n          computedValue: (v: Option) => ObservationService.buildValueCoded(\"Patient has hypertension\", `${v.value}`),\n        },\n        ...generateDateFields(\n          {\n            condition: (f: any) => f.has_hypertension.value === 'Yes',\n            id: \"hypertension_diagnosis\",\n            helpText: \"Date the patient was diagnosed with hypertension\",\n            required: true,\n            estimation: {\n              allowUnknown: false\n            },\n            computeValue: (date: string) =>  ObservationService.buildValueDate(\"Hypertension diagnosis date\", date)\n          },\n          ConsultationService.getSessionDate()\n        )\n      ]\n    }\n  }\n})\n","import script from \"./EncounterMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./EncounterMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    fields: _ctx.fields,\n    skipSummary: true,\n    onFinishAction: _ctx.onFinish\n  }, null, 8, [\"fields\", \"onFinishAction\"]))\n}","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./hypertension_diagnosis.vue?vue&type=template&id=2396c654&ts=true\"\nimport script from \"./hypertension_diagnosis.vue?vue&type=script&lang=ts\"\nexport * from \"./hypertension_diagnosis.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}