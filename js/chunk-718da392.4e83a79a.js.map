{"version":3,"sources":["webpack:///./node_modules/@ionic-native/core/bootstrap.js","webpack:///./node_modules/@ionic-native/core/decorators/common.js","webpack:///./node_modules/@ionic-native/core/util.js","webpack:///./node_modules/@ionic-native/core/ionic-native-plugin.js","webpack:///./node_modules/@ionic-native/core/decorators/cordova.js","webpack:///./node_modules/@ionic-native/core/index.js","webpack:///./node_modules/@ionic-native/barcode-scanner/index.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/CameraScanner.vue"],"names":["checkReady","process","win_1","window","DEVICE_READY_TIMEOUT_1","before_1","Date","now","didFireReady_1","document","addEventListener","console","log","setTimeout","cordova","warn","ERR_CORDOVA_NOT_AVAILABLE","error","ERR_PLUGIN_NOT_INSTALLED","getPromise","callback","tryNativePromise","Promise","resolve","reject","angular","doc","injector","element","querySelector","body","$q","get","wrapPromise","pluginObj","methodName","args","opts","pluginResult","rej","p","destruct","callCordovaPlugin","_i","arguments","length","catch","wrapOtherPromise","then","wrapObservable","observer","next","bind","complete","clearFunction","clearWithArgs","e","constructor","getPluginName","wrapEventObservable","event","checkAvailability","plugin","pluginName","pluginRef","pluginInstance","pluginPackage","getPluginRef","getPluginInstallName","getPlugin","pluginWarn","cordovaWarn","instanceAvailability","_objectInstance","setIndex","sync","callbackOrder","unshift","callbackStyle","push","err","result","successName","errorName","obj","successIndex","errorIndex","setSuccessIndex","splice","setErrorIndex","availabilityCheck","apply","callInstance","path","paths","split","i","method","wrap","observable","eventObservable","otherPromise","wrapInstance","pluginResult_1","rej_1","IonicNativePlugin","installed","isAvailable","this","getSupportedPlatforms","platform","platforms","repo","install","config","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","__","create","_super","BarcodeScannerOriginal","_this","Encode","TEXT_TYPE","EMAIL_TYPE","PHONE_TYPE","SMS_TYPE","scan","options","encode","type","data","BarcodeScanner","defineComponent","name","app","patientID","firstname","surname","gender","birthday","district","clientID","nationalID","patient","malawiNationalID","displayModal","scanBarcodeQRcode","methods","async","barcodeData","text","GLOBAL_PROP","malawiNationalIDScannerEnabled","filterNationalID","Patientservice","findByOtherID","searchPatientByNameGender","toastSuccess","searchParam","patient_id","$router","toastWarning","goHome","findByNpid","filterPatientData","person","findByID","getGivenName","getFamilyName","getGender","getBirthdate","getMalawiNationalID","at","capitaliseFirstLetter","toLowerCase","query","birthdate","nationalIDStatus","replace","m","toUpperCase","__exports__"],"mappings":"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","file":"js/chunk-718da392.4e83a79a.js","sourcesContent":["export function checkReady() {\n    if (typeof process === 'undefined') {\n        var win_1 = typeof window !== 'undefined' ? window : {};\n        var DEVICE_READY_TIMEOUT_1 = 5000;\n        // To help developers using cordova, we listen for the device ready event and\n        // log an error if it didn't fire in a reasonable amount of time. Generally,\n        // when this happens, developers should remove and reinstall plugins, since\n        // an inconsistent plugin is often the culprit.\n        var before_1 = Date.now();\n        var didFireReady_1 = false;\n        win_1.document.addEventListener('deviceready', function () {\n            console.log(\"Ionic Native: deviceready event fired after \" + (Date.now() - before_1) + \" ms\");\n            didFireReady_1 = true;\n        });\n        setTimeout(function () {\n            if (!didFireReady_1 && win_1.cordova) {\n                console.warn(\"Ionic Native: deviceready did not fire within \" + DEVICE_READY_TIMEOUT_1 + \"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.\");\n            }\n        }, DEVICE_READY_TIMEOUT_1);\n    }\n}\n//# sourceMappingURL=bootstrap.js.map","import { fromEvent, Observable } from 'rxjs';\nexport var ERR_CORDOVA_NOT_AVAILABLE = { error: 'cordova_not_available' };\nexport var ERR_PLUGIN_NOT_INSTALLED = { error: 'plugin_not_installed' };\nexport function getPromise(callback) {\n    var tryNativePromise = function () {\n        if (Promise) {\n            return new Promise(function (resolve, reject) {\n                callback(resolve, reject);\n            });\n        }\n        else {\n            console.error('No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.');\n        }\n    };\n    if (typeof window !== 'undefined' && window.angular) {\n        var doc = window.document;\n        var injector = window.angular.element(doc.querySelector('[ng-app]') || doc.body).injector();\n        if (injector) {\n            var $q = injector.get('$q');\n            return $q(function (resolve, reject) {\n                callback(resolve, reject);\n            });\n        }\n        console.warn(\"Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.\");\n    }\n    return tryNativePromise();\n}\nexport function wrapPromise(pluginObj, methodName, args, opts) {\n    if (opts === void 0) { opts = {}; }\n    var pluginResult, rej;\n    var p = getPromise(function (resolve, reject) {\n        if (opts.destruct) {\n            pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return resolve(args);\n            }, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return reject(args);\n            });\n        }\n        else {\n            pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts, resolve, reject);\n        }\n        rej = reject;\n    });\n    // Angular throws an error on unhandled rejection, but in this case we have already printed\n    // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n    // to error\n    if (pluginResult && pluginResult.error) {\n        p.catch(function () { });\n        typeof rej === 'function' && rej(pluginResult.error);\n    }\n    return p;\n}\nfunction wrapOtherPromise(pluginObj, methodName, args, opts) {\n    if (opts === void 0) { opts = {}; }\n    return getPromise(function (resolve, reject) {\n        var pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts);\n        if (pluginResult) {\n            if (pluginResult.error) {\n                reject(pluginResult.error);\n            }\n            else if (pluginResult.then) {\n                pluginResult.then(resolve).catch(reject);\n            }\n        }\n        else {\n            reject({ error: 'unexpected_error' });\n        }\n    });\n}\nfunction wrapObservable(pluginObj, methodName, args, opts) {\n    if (opts === void 0) { opts = {}; }\n    return new Observable(function (observer) {\n        var pluginResult;\n        if (opts.destruct) {\n            pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return observer.next(args);\n            }, function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return observer.error(args);\n            });\n        }\n        else {\n            pluginResult = callCordovaPlugin(pluginObj, methodName, args, opts, observer.next.bind(observer), observer.error.bind(observer));\n        }\n        if (pluginResult && pluginResult.error) {\n            observer.error(pluginResult.error);\n            observer.complete();\n        }\n        return function () {\n            try {\n                if (opts.clearFunction) {\n                    if (opts.clearWithArgs) {\n                        return callCordovaPlugin(pluginObj, opts.clearFunction, args, opts, observer.next.bind(observer), observer.error.bind(observer));\n                    }\n                    return callCordovaPlugin(pluginObj, opts.clearFunction, []);\n                }\n            }\n            catch (e) {\n                console.warn('Unable to clear the previous observable watch for', pluginObj.constructor.getPluginName(), methodName);\n                console.warn(e);\n            }\n        };\n    });\n}\n/**\n * Wrap the event with an observable\n * @private\n * @param event event name\n * @param element The element to attach the event listener to\n * @returns {Observable}\n */\nfunction wrapEventObservable(event, element) {\n    element =\n        typeof window !== 'undefined' && element\n            ? get(window, element)\n            : element || (typeof window !== 'undefined' ? window : {});\n    return fromEvent(element, event);\n}\nexport function checkAvailability(plugin, methodName, pluginName) {\n    var pluginRef, pluginInstance, pluginPackage;\n    if (typeof plugin === 'string') {\n        pluginRef = plugin;\n    }\n    else {\n        pluginRef = plugin.constructor.getPluginRef();\n        pluginName = plugin.constructor.getPluginName();\n        pluginPackage = plugin.constructor.getPluginInstallName();\n    }\n    pluginInstance = getPlugin(pluginRef);\n    if (!pluginInstance || (!!methodName && typeof pluginInstance[methodName] === 'undefined')) {\n        if (typeof window === 'undefined' || !window.cordova) {\n            cordovaWarn(pluginName, methodName);\n            return ERR_CORDOVA_NOT_AVAILABLE;\n        }\n        pluginWarn(pluginName, pluginPackage, methodName);\n        return ERR_PLUGIN_NOT_INSTALLED;\n    }\n    return true;\n}\n/**\n * Checks if _objectInstance exists and has the method/property\n * @private\n */\nexport function instanceAvailability(pluginObj, methodName) {\n    return pluginObj._objectInstance && (!methodName || typeof pluginObj._objectInstance[methodName] !== 'undefined');\n}\nexport function setIndex(args, opts, resolve, reject) {\n    if (opts === void 0) { opts = {}; }\n    // ignore resolve and reject in case sync\n    if (opts.sync) {\n        return args;\n    }\n    // If the plugin method expects myMethod(success, err, options)\n    if (opts.callbackOrder === 'reverse') {\n        // Get those arguments in the order [resolve, reject, ...restOfArgs]\n        args.unshift(reject);\n        args.unshift(resolve);\n    }\n    else if (opts.callbackStyle === 'node') {\n        args.push(function (err, result) {\n            if (err) {\n                reject(err);\n            }\n            else {\n                resolve(result);\n            }\n        });\n    }\n    else if (opts.callbackStyle === 'object' && opts.successName && opts.errorName) {\n        var obj = {};\n        obj[opts.successName] = resolve;\n        obj[opts.errorName] = reject;\n        args.push(obj);\n    }\n    else if (typeof opts.successIndex !== 'undefined' || typeof opts.errorIndex !== 'undefined') {\n        var setSuccessIndex = function () {\n            // If we've specified a success/error index\n            if (opts.successIndex > args.length) {\n                args[opts.successIndex] = resolve;\n            }\n            else {\n                args.splice(opts.successIndex, 0, resolve);\n            }\n        };\n        var setErrorIndex = function () {\n            // We don't want that the reject cb gets spliced into the position of an optional argument that has not been\n            // defined and thus causing non expected behavior.\n            if (opts.errorIndex > args.length) {\n                args[opts.errorIndex] = reject; // insert the reject fn at the correct specific index\n            }\n            else {\n                args.splice(opts.errorIndex, 0, reject); // otherwise just splice it into the array\n            }\n        };\n        if (opts.successIndex > opts.errorIndex) {\n            setErrorIndex();\n            setSuccessIndex();\n        }\n        else {\n            setSuccessIndex();\n            setErrorIndex();\n        }\n    }\n    else {\n        // Otherwise, let's tack them on to the end of the argument list\n        // which is 90% of cases\n        args.push(resolve);\n        args.push(reject);\n    }\n    return args;\n}\nexport function callCordovaPlugin(pluginObj, methodName, args, opts, resolve, reject) {\n    if (opts === void 0) { opts = {}; }\n    // Try to figure out where the success/error callbacks need to be bound\n    // to our promise resolve/reject handlers.\n    args = setIndex(args, opts, resolve, reject);\n    var availabilityCheck = checkAvailability(pluginObj, methodName);\n    if (availabilityCheck === true) {\n        var pluginInstance = getPlugin(pluginObj.constructor.getPluginRef());\n        return pluginInstance[methodName].apply(pluginInstance, args);\n    }\n    else {\n        return availabilityCheck;\n    }\n}\nexport function callInstance(pluginObj, methodName, args, opts, resolve, reject) {\n    if (opts === void 0) { opts = {}; }\n    args = setIndex(args, opts, resolve, reject);\n    if (instanceAvailability(pluginObj, methodName)) {\n        return pluginObj._objectInstance[methodName].apply(pluginObj._objectInstance, args);\n    }\n}\nexport function getPlugin(pluginRef) {\n    if (typeof window !== 'undefined') {\n        return get(window, pluginRef);\n    }\n    return null;\n}\nexport function get(element, path) {\n    var paths = path.split('.');\n    var obj = element;\n    for (var i = 0; i < paths.length; i++) {\n        if (!obj) {\n            return null;\n        }\n        obj = obj[paths[i]];\n    }\n    return obj;\n}\nexport function pluginWarn(pluginName, plugin, method) {\n    if (method) {\n        console.warn('Native: tried calling ' + pluginName + '.' + method + ', but the ' + pluginName + ' plugin is not installed.');\n    }\n    else {\n        console.warn(\"Native: tried accessing the \" + pluginName + \" plugin but it's not installed.\");\n    }\n    if (plugin) {\n        console.warn(\"Install the \" + pluginName + \" plugin: 'ionic cordova plugin add \" + plugin + \"'\");\n    }\n}\n/**\n * @private\n * @param pluginName\n * @param method\n */\nexport function cordovaWarn(pluginName, method) {\n    if (typeof process === 'undefined') {\n        if (method) {\n            console.warn('Native: tried calling ' +\n                pluginName +\n                '.' +\n                method +\n                ', but Cordova is not available. Make sure to include cordova.js or run in a device/simulator');\n        }\n        else {\n            console.warn('Native: tried accessing the ' +\n                pluginName +\n                ' plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator');\n        }\n    }\n}\n/**\n * @private\n */\nexport var wrap = function (pluginObj, methodName, opts) {\n    if (opts === void 0) { opts = {}; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (opts.sync) {\n            // Sync doesn't wrap the plugin with a promise or observable, it returns the result as-is\n            return callCordovaPlugin(pluginObj, methodName, args, opts);\n        }\n        else if (opts.observable) {\n            return wrapObservable(pluginObj, methodName, args, opts);\n        }\n        else if (opts.eventObservable && opts.event) {\n            return wrapEventObservable(opts.event, opts.element);\n        }\n        else if (opts.otherPromise) {\n            return wrapOtherPromise(pluginObj, methodName, args, opts);\n        }\n        else {\n            return wrapPromise(pluginObj, methodName, args, opts);\n        }\n    };\n};\n/**\n * @private\n */\nexport function wrapInstance(pluginObj, methodName, opts) {\n    if (opts === void 0) { opts = {}; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (opts.sync) {\n            return callInstance(pluginObj, methodName, args, opts);\n        }\n        else if (opts.observable) {\n            return new Observable(function (observer) {\n                var pluginResult;\n                if (opts.destruct) {\n                    pluginResult = callInstance(pluginObj, methodName, args, opts, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return observer.next(args);\n                    }, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return observer.error(args);\n                    });\n                }\n                else {\n                    pluginResult = callInstance(pluginObj, methodName, args, opts, observer.next.bind(observer), observer.error.bind(observer));\n                }\n                if (pluginResult && pluginResult.error) {\n                    observer.error(pluginResult.error);\n                }\n                return function () {\n                    try {\n                        if (opts.clearWithArgs) {\n                            return callInstance(pluginObj, opts.clearFunction, args, opts, observer.next.bind(observer), observer.error.bind(observer));\n                        }\n                        return callInstance(pluginObj, opts.clearFunction, []);\n                    }\n                    catch (e) {\n                        console.warn('Unable to clear the previous observable watch for', pluginObj.constructor.getPluginName(), methodName);\n                        console.warn(e);\n                    }\n                };\n            });\n        }\n        else if (opts.otherPromise) {\n            return getPromise(function (resolve, reject) {\n                var result;\n                if (opts.destruct) {\n                    result = callInstance(pluginObj, methodName, args, opts, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return resolve(args);\n                    }, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return reject(args);\n                    });\n                }\n                else {\n                    result = callInstance(pluginObj, methodName, args, opts, resolve, reject);\n                }\n                if (result && result.then) {\n                    result.then(resolve, reject);\n                }\n                else {\n                    reject();\n                }\n            });\n        }\n        else {\n            var pluginResult_1, rej_1;\n            var p = getPromise(function (resolve, reject) {\n                if (opts.destruct) {\n                    pluginResult_1 = callInstance(pluginObj, methodName, args, opts, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return resolve(args);\n                    }, function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        return reject(args);\n                    });\n                }\n                else {\n                    pluginResult_1 = callInstance(pluginObj, methodName, args, opts, resolve, reject);\n                }\n                rej_1 = reject;\n            });\n            // Angular throws an error on unhandled rejection, but in this case we have already printed\n            // a warning that Cordova is undefined or the plugin is uninstalled, so there is no reason\n            // to error\n            if (pluginResult_1 && pluginResult_1.error) {\n                p.catch(function () { });\n                typeof rej_1 === 'function' && rej_1(pluginResult_1.error);\n            }\n            return p;\n        }\n    };\n}\n//# sourceMappingURL=common.js.map","/**\n * @private\n */\nexport function get(element, path) {\n    var paths = path.split('.');\n    var obj = element;\n    for (var i = 0; i < paths.length; i++) {\n        if (!obj) {\n            return null;\n        }\n        obj = obj[paths[i]];\n    }\n    return obj;\n}\n/**\n * @private\n */\nexport function getPromise(callback) {\n    if (callback === void 0) { callback = function () { }; }\n    var tryNativePromise = function () {\n        if (typeof Promise === 'function' || (typeof window !== 'undefined' && window.Promise)) {\n            return new Promise(function (resolve, reject) {\n                callback(resolve, reject);\n            });\n        }\n        else {\n            console.error('No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.');\n        }\n    };\n    return tryNativePromise();\n}\n//# sourceMappingURL=util.js.map","import { checkAvailability } from './decorators/common';\nimport { get } from './util';\nvar IonicNativePlugin = /** @class */ (function () {\n    function IonicNativePlugin() {\n    }\n    /**\n     * Returns a boolean that indicates whether the plugin is installed\n     * @return {boolean}\n     */\n    IonicNativePlugin.installed = function () {\n        var isAvailable = checkAvailability(this.pluginRef) === true;\n        return isAvailable;\n    };\n    /**\n     * Returns the original plugin object\n     */\n    IonicNativePlugin.getPlugin = function () {\n        if (typeof window !== 'undefined') {\n            return get(window, this.pluginRef);\n        }\n        return null;\n    };\n    /**\n     * Returns the plugin's name\n     */\n    IonicNativePlugin.getPluginName = function () {\n        var pluginName = this.pluginName;\n        return pluginName;\n    };\n    /**\n     * Returns the plugin's reference\n     */\n    IonicNativePlugin.getPluginRef = function () {\n        var pluginRef = this.pluginRef;\n        return pluginRef;\n    };\n    /**\n     * Returns the plugin's install name\n     */\n    IonicNativePlugin.getPluginInstallName = function () {\n        var plugin = this.plugin;\n        return plugin;\n    };\n    /**\n     * Returns the plugin's supported platforms\n     */\n    IonicNativePlugin.getSupportedPlatforms = function () {\n        var platform = this.platforms;\n        return platform;\n    };\n    IonicNativePlugin.pluginName = '';\n    IonicNativePlugin.pluginRef = '';\n    IonicNativePlugin.plugin = '';\n    IonicNativePlugin.repo = '';\n    IonicNativePlugin.platforms = [];\n    IonicNativePlugin.install = '';\n    return IonicNativePlugin;\n}());\nexport { IonicNativePlugin };\n//# sourceMappingURL=ionic-native-plugin.js.map","import { wrap } from './common';\nexport function cordova(pluginObj, methodName, config, args) {\n    return wrap(pluginObj, methodName, config).apply(this, args);\n}\n//# sourceMappingURL=cordova.js.map","import { checkReady } from './bootstrap';\nexport { IonicNativePlugin } from './ionic-native-plugin';\n// Decorators\nexport { checkAvailability, instanceAvailability, wrap, getPromise } from './decorators/common';\nexport * from './decorators/cordova';\nexport * from './decorators/cordova-function-override';\nexport * from './decorators/cordova-instance';\nexport * from './decorators/cordova-property';\nexport * from './decorators/instance-property';\nexport * from './decorators/interfaces';\ncheckReady();\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { IonicNativePlugin, cordova } from '@ionic-native/core';\nvar BarcodeScannerOriginal = /** @class */ (function (_super) {\n    __extends(BarcodeScannerOriginal, _super);\n    function BarcodeScannerOriginal() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.Encode = {\n            TEXT_TYPE: 'TEXT_TYPE',\n            EMAIL_TYPE: 'EMAIL_TYPE',\n            PHONE_TYPE: 'PHONE_TYPE',\n            SMS_TYPE: 'SMS_TYPE',\n        };\n        return _this;\n    }\n    BarcodeScannerOriginal.prototype.scan = function (options) { return cordova(this, \"scan\", { \"callbackOrder\": \"reverse\" }, arguments); };\n    BarcodeScannerOriginal.prototype.encode = function (type, data) { return cordova(this, \"encode\", {}, arguments); };\n    BarcodeScannerOriginal.pluginName = \"BarcodeScanner\";\n    BarcodeScannerOriginal.plugin = \"phonegap-plugin-barcodescanner\";\n    BarcodeScannerOriginal.pluginRef = \"cordova.plugins.barcodeScanner\";\n    BarcodeScannerOriginal.repo = \"https://github.com/phonegap/phonegap-plugin-barcodescanner\";\n    BarcodeScannerOriginal.platforms = [\"Android\", \"BlackBerry 10\", \"Browser\", \"iOS\", \"Windows\"];\n    return BarcodeScannerOriginal;\n}(IonicNativePlugin));\nvar BarcodeScanner = new BarcodeScannerOriginal();\nexport { BarcodeScanner };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2JhcmNvZGUtc2Nhbm5lci9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ0EsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQzs7SUFtSHBDLGtDQUFpQjs7O1FBQ25ELFlBQU0sR0FLRjtZQUNGLFNBQVMsRUFBRSxXQUFXO1lBQ3RCLFVBQVUsRUFBRSxZQUFZO1lBQ3hCLFVBQVUsRUFBRSxZQUFZO1lBQ3hCLFFBQVEsRUFBRSxVQUFVO1NBQ3JCLENBQUM7OztJQVVGLDZCQUFJLGFBQUMsT0FBK0I7SUFZcEMsK0JBQU0sYUFBQyxJQUFZLEVBQUUsSUFBUzs7Ozs7O3lCQXJKaEM7RUFvSG9DLGlCQUFpQjtTQUF4QyxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFyY29kZVNjYW5uZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIFByZWZlciBmcm9udCBjYW1lcmEuIFN1cHBvcnRlZCBvbiBpT1MgYW5kIEFuZHJvaWQuXG4gICAqL1xuICBwcmVmZXJGcm9udENhbWVyYT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNob3cgZmxpcCBjYW1lcmEgYnV0dG9uLiBTdXBwb3J0ZWQgb24gaU9TIGFuZCBBbmRyb2lkLlxuICAgKi9cbiAgc2hvd0ZsaXBDYW1lcmFCdXR0b24/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTaG93IHRvcmNoIGJ1dHRvbi4gU3VwcG9ydGVkIG9uIGlPUyBhbmQgQW5kcm9pZC5cbiAgICovXG4gIHNob3dUb3JjaEJ1dHRvbj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERpc2FibGUgYW5pbWF0aW9ucy4gU3VwcG9ydGVkIG9uIGlPUyBvbmx5LlxuICAgKi9cbiAgZGlzYWJsZUFuaW1hdGlvbnM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHN1Y2Nlc3MgYmVlcC4gU3VwcG9ydGVkIG9uIGlPUyBvbmx5LlxuICAgKi9cbiAgZGlzYWJsZVN1Y2Nlc3NCZWVwPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogUHJvbXB0IHRleHQuIFN1cHBvcnRlZCBvbiBBbmRyb2lkIG9ubHkuXG4gICAqL1xuICBwcm9tcHQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZvcm1hdHMgc2VwYXJhdGVkIGJ5IGNvbW1hcy4gRGVmYXVsdHMgdG8gYWxsIGZvcm1hdHMgZXhjZXB0IGBQREZfNDE3YCBhbmQgYFJTU19FWFBBTkRFRGAuXG4gICAqL1xuICBmb3JtYXRzPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBPcmllbnRhdGlvbi4gU3VwcG9ydGVkIG9uIEFuZHJvaWQgb25seS4gQ2FuIGJlIHNldCB0byBgcG9ydHJhaXRgIG9yIGBsYW5kc2NhcGVgLiBEZWZhdWx0cyB0byBub25lIHNvIHRoZSB1c2VyIGNhbiByb3RhdGUgdGhlIHBob25lIGFuZCBwaWNrIGFuIG9yaWVudGF0aW9uLlxuICAgKi9cbiAgb3JpZW50YXRpb24/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIExhdW5jaCB3aXRoIHRoZSB0b3JjaCBzd2l0Y2hlZCBvbiAoaWYgYXZhaWxhYmxlKS4gU3VwcG9ydGVkIG9uIEFuZHJvaWQgb25seS5cbiAgICovXG4gIHRvcmNoT24/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTYXZlIHNjYW4gaGlzdG9yeS4gRGVmYXVsdHMgdG8gYGZhbHNlYC4gU3VwcG9ydGVkIG9uIEFuZHJvaWQgb25seS5cbiAgICovXG4gIHNhdmVIaXN0b3J5PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGlzcGxheSBzY2FubmVkIHRleHQgZm9yIFggbXMuIDAgc3VwcHJlc3NlcyBpdCBlbnRpcmVseSwgZGVmYXVsdCAxNTAwLiBTdXBwb3J0ZWQgb24gQW5kcm9pZCBvbmx5LlxuICAgKi9cbiAgcmVzdWx0RGlzcGxheUR1cmF0aW9uPzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhcmNvZGVTY2FuUmVzdWx0IHtcbiAgZm9ybWF0OlxuICAgIHwgJ1FSX0NPREUnXG4gICAgfCAnREFUQV9NQVRSSVgnXG4gICAgfCAnVVBDX0UnXG4gICAgfCAnVVBDX0EnXG4gICAgfCAnRUFOXzgnXG4gICAgfCAnRUFOXzEzJ1xuICAgIHwgJ0NPREVfMTI4J1xuICAgIHwgJ0NPREVfMzknXG4gICAgfCAnQ09ERV85MydcbiAgICB8ICdDT0RBQkFSJ1xuICAgIHwgJ0lURidcbiAgICB8ICdSU1MxNCdcbiAgICB8ICdSU1NfRVhQQU5ERUQnXG4gICAgfCAnUERGXzQxNydcbiAgICB8ICdBWlRFQydcbiAgICB8ICdNU0knO1xuICBjYW5jZWxsZWQ6IGJvb2xlYW47XG4gIHRleHQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAbmFtZSBCYXJjb2RlIFNjYW5uZXJcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEJhcmNvZGUgU2Nhbm5lciBQbHVnaW4gb3BlbnMgYSBjYW1lcmEgdmlldyBhbmQgYXV0b21hdGljYWxseSBzY2FucyBhIGJhcmNvZGUsIHJldHVybmluZyB0aGUgZGF0YSBiYWNrIHRvIHlvdS5cbiAqXG4gKiBSZXF1aXJlcyBDb3Jkb3ZhIHBsdWdpbjogYHBob25lZ2FwLXBsdWdpbi1iYXJjb2Rlc2Nhbm5lcmAuIEZvciBtb3JlIGluZm8sIHBsZWFzZSBzZWUgdGhlIFtCYXJjb2RlU2Nhbm5lciBwbHVnaW4gZG9jc10oaHR0cHM6Ly9naXRodWIuY29tL3Bob25lZ2FwL3Bob25lZ2FwLXBsdWdpbi1iYXJjb2Rlc2Nhbm5lcikuXG4gKlxuICogQHVzYWdlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyBCYXJjb2RlU2Nhbm5lciB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvYmFyY29kZS1zY2FubmVyL25neCc7XG4gKlxuICogY29uc3RydWN0b3IocHJpdmF0ZSBiYXJjb2RlU2Nhbm5lcjogQmFyY29kZVNjYW5uZXIpIHsgfVxuICpcbiAqIC4uLlxuICpcbiAqXG4gKiB0aGlzLmJhcmNvZGVTY2FubmVyLnNjYW4oKS50aGVuKGJhcmNvZGVEYXRhID0+IHtcbiAqICBjb25zb2xlLmxvZygnQmFyY29kZSBkYXRhJywgYmFyY29kZURhdGEpO1xuICogfSkuY2F0Y2goZXJyID0+IHtcbiAqIFx0Y29uc29sZS5sb2coJ0Vycm9yJywgZXJyKTtcbiAqIH0pO1xuICogYGBgXG4gKiBAaW50ZXJmYWNlc1xuICogQmFyY29kZVNjYW5uZXJPcHRpb25zXG4gKiBCYXJjb2RlU2NhblJlc3VsdFxuICovXG5AUGx1Z2luKHtcbiAgcGx1Z2luTmFtZTogJ0JhcmNvZGVTY2FubmVyJyxcbiAgcGx1Z2luOiAncGhvbmVnYXAtcGx1Z2luLWJhcmNvZGVzY2FubmVyJyxcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5wbHVnaW5zLmJhcmNvZGVTY2FubmVyJyxcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9waG9uZWdhcC9waG9uZWdhcC1wbHVnaW4tYmFyY29kZXNjYW5uZXInLFxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdCbGFja0JlcnJ5IDEwJywgJ0Jyb3dzZXInLCAnaU9TJywgJ1dpbmRvd3MnXSxcbn0pXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQmFyY29kZVNjYW5uZXIgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIEVuY29kZToge1xuICAgIFRFWFRfVFlQRTogc3RyaW5nO1xuICAgIEVNQUlMX1RZUEU6IHN0cmluZztcbiAgICBQSE9ORV9UWVBFOiBzdHJpbmc7XG4gICAgU01TX1RZUEU6IHN0cmluZztcbiAgfSA9IHtcbiAgICBURVhUX1RZUEU6ICdURVhUX1RZUEUnLFxuICAgIEVNQUlMX1RZUEU6ICdFTUFJTF9UWVBFJyxcbiAgICBQSE9ORV9UWVBFOiAnUEhPTkVfVFlQRScsXG4gICAgU01TX1RZUEU6ICdTTVNfVFlQRScsXG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZW4gdGhlIGJhcmNvZGUgc2Nhbm5lci5cbiAgICogQHBhcmFtIHtCYXJjb2RlU2Nhbm5lck9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIHNjYW5uZXJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHNjYW5uZXIgZGF0YSwgb3IgcmVqZWN0cyB3aXRoIGFuIGVycm9yLlxuICAgKi9cbiAgQENvcmRvdmEoe1xuICAgIGNhbGxiYWNrT3JkZXI6ICdyZXZlcnNlJyxcbiAgfSlcbiAgc2NhbihvcHRpb25zPzogQmFyY29kZVNjYW5uZXJPcHRpb25zKTogUHJvbWlzZTxCYXJjb2RlU2NhblJlc3VsdD4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmNvZGVzIGRhdGEgaW50byBhIGJhcmNvZGUuXG4gICAqIE5PVEU6IG5vdCB3ZWxsIHN1cHBvcnRlZCBvbiBBbmRyb2lkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFR5cGUgb2YgZW5jb2RpbmdcbiAgICogQHBhcmFtIHthbnl9IGRhdGEgRGF0YSB0byBlbmNvZGVcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZW5jb2RlKHR5cGU6IHN0cmluZywgZGF0YTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdfQ==","\nimport { defineComponent } from \"vue\";\nimport { Patientservice } from \"@/services/patient_service\"\nimport { AppInterface } from \"@/apps/interfaces/AppInterface\";\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\nimport { toastSuccess, toastWarning } from \"@/utils/Alerts\";\nimport GLOBAL_PROP from \"@/apps/GLOBAL_APP/global_prop\"\n\nexport default defineComponent({\n  name: \"Scanner\",\n  data() {\n    return {\n      app: {} as AppInterface,\n      patientID: \"\",\n      firstname: \"\",\n      surname: \"\",\n      gender: \"\",\n      birthday: \"\",\n      district: \"\",\n      clientID: \"\",\n      nationalID: \"\",\n      patient: {} as any,\n      malawiNationalID: [] as any,\n      displayModal: false,\n    };\n  },\n  async mounted() \n  {\n    this.scanBarcodeQRcode()\n  },\n  methods: {\n    async scanBarcodeQRcode(){\n      await BarcodeScanner.scan().then( async (barcodeData)=> {\n        if(barcodeData.text.length > 30) {\n          if(!(await GLOBAL_PROP.malawiNationalIDScannerEnabled())){\n            toastWarning('Scanning of Malawi National ID is disabled');\n            this.goHome();\n          }else{\n            this.filterNationalID(barcodeData);\n            const data = await Patientservice.findByOtherID(28, this.clientID)\n            \n            if(data.length == 0) {\n              this.searchPatientByNameGender();\n            }\n            else {\n              toastSuccess(\"Patient found\");\n              const searchParam = `person_id=${data[0].patient_id}`\n              this.$router.push(`/patients/confirm?${searchParam}`)\n            }\n          }\n        } \n        else\n        {\n          const data = await Patientservice.findByNpid(barcodeData.text);\n          if(data.length == 0) {\n            toastWarning('Patient not found');\n            this.goHome();\n          }\n          else{\n            this.filterPatientData(data);\n          }\n        }\n\n      }).catch(err => {\n        toastWarning('Fails to scan');\n        this.goHome();\n      });\n    },\n    async filterPatientData(data: any){\n      const person = await Patientservice.findByID(data[0].patient_id)\n      if (!person) {\n          return\n      }\n      this.patient = new Patientservice(person)\n      this.firstname = this.patient.getGivenName()\n      this.surname = this.patient.getFamilyName()\n      this.gender = this.patient.getGender()\n      this.birthday = this.patient.getBirthdate()\n      this.clientID = this.patient.getMalawiNationalID()\n    },\n    async goHome() {\n      this.$router.push('/home');\n    },\n    filterNationalID(barcodeData: any){\n      this.malawiNationalID =barcodeData.text.split('<');\n      this.malawiNationalID = this.malawiNationalID.at(-1).split('~');\n\n      this.clientID = this.malawiNationalID[2];\n      this.surname = this.capitaliseFirstLetter(this.malawiNationalID[1].toLowerCase());\n      this.firstname = this.capitaliseFirstLetter(this.malawiNationalID[3].split(',')[0].toLowerCase());\n      this.gender = this.malawiNationalID[5];\n      this.birthday = this.malawiNationalID[6];\n    },\n    searchPatientByNameGender(){\n      this.$router.push({\n        path: \"/patient/registration\",\n        query: {\n          'given_name': this.firstname,\n          'family_name':  this.surname ,  \n          gender:   this.gender     ,   \n          birthdate:   this.birthday ,\n          malawiNationalID: this.clientID ,\n          nationalIDStatus: 'true'\n        },\n      });\n    },\n    capitaliseFirstLetter(data: string){\n     return data.replace(/(^\\w|\\s\\w)/g, m => m.toUpperCase())\n    }\n  }\n});\n","import script from \"./CameraScanner.vue?vue&type=script&lang=ts\"\nexport * from \"./CameraScanner.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}