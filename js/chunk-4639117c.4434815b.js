(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4639117c"],{7920:function(e,t,n){"use strict";var i=n("7a23");function a(e,t,n,a,s,o){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var s=n("9441"),o=Object(i["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:s["a"]},emits:["onFinish","onIndex"],data:()=>({formType:"touch-screen-form"}),props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish(e,t){this.$emit("onFinish",e,t)},onIndex(e){this.$emit("onIndex",e)}}}),r=n("d959"),c=n.n(r);const d=c()(o,[["render",a]]);t["a"]=d},e8ff:function(e,t,n){"use strict";n.r(t);var i=n("7a23");function a(e,t,n,a,s,o){const r=Object(i["resolveComponent"])("his-standard-form");return Object(i["openBlock"])(),Object(i["createBlock"])(r,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var s=n("1c74"),o=n("b5e4"),r=n("b446"),c=n("9283"),d=n("7920"),h=n("7f35"),l=n("0fa1"),u=n("8e8b"),m=Object(i["defineComponent"])({components:{HisStandardForm:d["a"]},data:()=>({apiDate:"",fields:[]}),async created(){this.apiDate=await s["e"].getApiDate(),this.fields=Object(r["b"])({id:"session_date",helpText:"Session Date",required:!0,minDate:()=>"2000-01-01",maxDate:()=>this.apiDate,estimation:{allowUnknown:!1},computeValue:e=>e,config:{footerBtns:[{name:"Reset",slot:"end",color:"success",state:{visible:{default:()=>s["e"].isBDE()}},onClick:async()=>{await this.resetSessionDate()}}]}},"")},async mounted(){await this.showBdeNotice()},methods:{async showBdeNotice(){if(!s["e"].isBDE())return;const e=c["b"].toStandardHisDisplayFormat(s["e"].getCachedApiDate()||""),t=c["b"].toStandardHisDisplayFormat(s["e"].getSessionDate()),n=await Object(h["a"])("BDE Notice",`The system is currently in Back Data Entry Mode(BDE).                 Do you wish to reset the date to ${e}?`,"BDE Date: "+t,[{name:"Reset Date",slot:"start",color:"success"},{name:"Keep BDE Date",slot:"end",color:"danger"},{name:"New date",slot:"end"}]);if("Reset Date"===n)return await this.resetSessionDate();"Keep BDE Date"===n&&this.redirect()},async resetSessionDate(){try{await s["e"].resetSessionDate(),u["a"].invalidate("PROVIDERS"),Object(o["d"])("Session date has been reset to "+this.formatDate(this.apiDate)),this.redirect()}catch(e){Object(o["e"])(""+e)}},redirect(){const e=this.$route.query.patient_dashboard_redirection_id;e?this.$router.push("/patient/dashboard/"+e):this.$router.back()},async onSubmit(e,t){const n=t.session_date;try{var i,a;await s["e"].setSessionDate(n),Object(o["d"])("Successfully Back dated to "+this.formatDate(n));const e=null===(i=this.$route)||void 0===i||null===(a=i.query)||void 0===a?void 0:a.patient_id;e?Object(l["b"])(e,this.$router):this.redirect()}catch(r){Object(o["e"])(""+r)}},formatDate(e){return c["b"].toStandardHisDisplayFormat(e)}}}),p=n("d959"),D=n.n(p);const f=D()(m,[["render",a]]);t["default"]=f}}]);
//# sourceMappingURL=chunk-4639117c.4434815b.js.map