{"version":3,"sources":["webpack:///./node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/components/Forms/HisStandardForm.vue","webpack:///./src/apps/OPD/views/reports/ReportMixin.vue","webpack:///./src/apps/OPD/views/reports/moh/MOHReportHeader.vue"],"names":["_hoisted_1","class","style","render","_ctx","_cache","$props","$setup","$data","$options","_component_report_table","_resolveComponent","_openBlock","_createBlock","_createVNode","columns","rows","config","tableCssTheme","defineComponent","components","ReportTable","data","conditions","lessThanFiveYears","greaterAndEqualFiveYears","total","table","thTxt","colspan","sortable","exportable","props","methods","renderResults","report","IDSRReportService","Conditions","params","length","buildRows","onDownload","CSVString","getCSVString","dayjs","format","Service","getCoreVersion","getApiVersion","epiweek","getLocationName","getSiteUUID","csvData","Blob","type","reportTitle","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","forEach","condition","push","td","id","textAlign","name","buildRow","lessThanFiveYearsPatientIds","greaterThanEqualFiveYears","greaterThanEqualFiveYearsPatientIds","totalPatientIds","count","patientIds","tdLink","onDrillDown","watch","immediate","handler","__exports__","OpdReportService","constructor","regenerate","setRegenerate","requestIDSRWeekly","getReport","request","requestIDSRMonthly","all","key","value","Object","entries","temp","item","key1","value1","conditionDetails","IDSRConditionsObj","epiWeeks","epiWeeksObj","getJson","reverse","dates","split","startDate","endDate","txt","start","end","months","_payload","monthandyear","startandendmonths","trim","_resolveDynamicComponent","formType","fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onFinishAction","onOnIndex","onIndex","TouchScreenForm","emits","Function","Boolean","default","String","required","formData","computedData","$emit","i","reportReady","period","customFileName","drillDownCache","toDate","date","HisDate","toStandardHisDisplayFormat","confirmPatient","patient","$router","title","printW","open","content","getElementById","write","innerHTML","setTimeout","print","close","conditionName","isEmpty","rowParser","Promise","ids","map","personDetails","Patientservice","findByID","getGivenName","getFamilyName","getGender","getAge","getPhoneNumber","getCurrentDistrict","getCurrentVillage","getClosestLandmark","tdBtn","modalController","dismiss","path","drilldownData","asyncRows","modal","create","component","DrilldownTable","cssClass","componentProps","showFilters","rowsPerPage","paginated","showReportStamp","footerColor","present","getDefaultDrillDownTable","tableRows","index","defaultRow","row","getArvNumber","tdDate","getBirthdate","toString","runTableDrill","drill","values","getEpiweeksFields","helpText","FieldType","TT_SELECT","validation","val","Validation","options","getReportEpiWeeks","items","q","label","moment","other","getMonthlyFields","getReportMonths","getDateDurationFields","useQuarter","setCustomQuarterPeriod","maxQuarter","minDate","maxDate","getSessionDate","quarters","getReportQuarters","generateDateFields","f","estimation","allowUnknown","computeValue","unload","d","s","c","end_date","_","start_date","clinicName","reportparams","totalOPDVisits","Number","reportName","periodLabel","periodDates","rangeLabel","range","this","mounted","initTable","newValue","oldValue","tableHeaders","LA_TYPES","one","two","three","four","NCD_TYPES","MENTAL_HEALTH_DIAGNOSIS","super","programID","getProgramID","getPatientsWithNIDs","getClinicRegistrations","getAttendance","getDrugsGivenWithoutPrescription","getDrugsGivenWithPrescription","getDiagnosis","url","getDiagnosisByAddress","getLaPrescriptions","printLaReport","printService","PrintoutService","keys","v","printLbl","Url","parameterizeObjToString","getDateIntervalPeriod","setStartDate","setEndDate","setEpiWeek","getReportPeriod","buildRequest","payload","minDuration","year","getCurrentYear"],"mappings":"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","file":"js/chunk-8f04b8cc.beca65e4.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"1%\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_table = _resolveComponent(\"report-table\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_report_table, {\n      columns: _ctx.columns,\n      rows: _ctx.rows,\n      config: {tableCssTheme: _ctx.tableCssTheme}\n    }, null, 8, [\"columns\", \"rows\", \"config\"])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface, RowInterface } from \"@/components/DataViews/tables/ReportDataTable\"\n\nexport default defineComponent({\n    components: { ReportTable },\n    props: {\n      clinicName: {\n        type: String,\n        default: ''\n      },\n      reportparams: {\n        type: Object,\n        required: true\n      },\n      totalOPDVisits: {\n        type: Number,\n        required: true\n      },\n      reportName: {\n        type: String,\n        required: true\n      },\n      periodLabel: {\n        type: String,\n        required: true\n      },\n      periodDates: {\n        type: String,\n        required: true\n      },\n      rangeLabel: {\n        type: String,\n        required: true\n      },\n      range: {\n        type: String,\n        required: true\n      },\n    },\n    data: function() {\n      return {\n        tableCssTheme: 'opd-report-theme',\n        rows: [] as RowInterface[][],\n        columns: [\n            [\n              table.thTxt(this.reportName, {\n                colspan: 2,\n                sortable: false,\n                exportable: false \n              })\n            ]\n        ] as ColumnInterface[][],\n      }\n    },\n    mounted() {\n      this.initTable()\n    },\n    watch: {\n       totalOPDVisits(newValue, oldValue) {\n         this.initTable()\n       }\n    },\n    methods: {\n      initTable() {\n        const rows: RowInterface[][] = []\n        const tableHeaders = [\n          {\n            name: 'Country:',\n            value: 'Malawi',\n          },\n          {\n            name: 'Reporting Facility Name:',\n            value: this.clinicName\n          },\n          {\n            name: this.rangeLabel+':',\n            value: this.range\n          },\n          {\n            name: this.periodLabel+':',\n            value: this.periodDates\n          },\n          {\n            name: 'Total OPD Visits:',\n            value: this.totalOPDVisits\n          }\n\n        ]\n        tableHeaders.forEach(item => {\n          if(item.name !== 'undefined:') {\n                rows.push([\n                    table.td(item.name, {style: {textAlign: 'left'}}),\n                    table.td(item.value, {style: {textAlign: 'left'}}),\n                ])\n          }\n        })\n        this.rows = rows\n      }\n    }\n  })\n  ","import { render } from \"./IDSRTableTemplate.vue?vue&type=template&id=34feb6ec&ts=true\"\nimport script from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { Service } from \"@/services/service\";\nimport HisDate from \"@/utils/Date\"\nimport { PrintoutService } from '@/services/printout_service';\nimport Url from \"@/utils/Url\";\n\nexport interface QuarterInterface {\n    name: string;\n    start: string;\n    end: string;\n}\n\nexport const AGE_GROUPS = [\n    '0-5 months', '6-11 months',\n    '12-23 months', '2-4 years', \n    '5-9 years', '10-14 years', \n    '15-17 years', '18-19 years', \n    '20-24 years', '25-29 years', \n    '30-34 years', '35-39 years', \n    '40-44 years', '45-49 years', \n    '50 plus years'\n]\n\nexport const OTHER_AGE_GROUPS = [\n    '<1 year', '1-4 years',\n    '5-9 years', '10-14 years',\n    '15-19 years', '20-24 years',\n    '25-29 years', '30-34 years',\n    '35-39 years', '40-44 years',\n    '45-49 years', '50 plus years'\n]\n\nexport const LA_TYPES: Record<string, string> = {\n    one: 'AL 1', \n    two: 'AL 2', \n    three: 'AL 3', \n    four: 'LA 4'\n}\n\nexport const NCD_TYPES = [\n    'Diabetes',\n    'Hypertension',\n    'Stroke',\n    'Suspected cancer',\n    'Confirmed cancer',\n    'Palliative cancer',\n    'Asthma',\n    'Depression',\n    'Acute psychosis',\n    'Chronic psychosis',\n    'Epilepsy'\n]\n\nexport const MENTAL_HEALTH_DIAGNOSIS = [\n    'Organic mental disorder (Chronic)',\n    'Organic mental disorder (acute)',\n    'Alcohol use mental disorder',\n    'Drug use mental disorder',\n    'Schizophrenia',\n    'Acute and transient psychotic disorder',\n    'Schizo-affective disorder',\n    'Mood-affective disorder (MANIC)',\n    'Mood-affective disorder (BIPOLAR)',\n    'Mood-affective disorder (DEPRESSION)',\n    'Anxiety disorder',\n    'Stress reaction adjustment disorder',\n    'Dissociative conversion disorder',\n    'Somatoform disorder',\n    'Puerperal mental disorder',\n    'Personality/Behaviour disorder',\n    'Mental retardation',\n    'Psychological mental disorder',\n    'Hyperkinetic conduct disorder',\n    'Epilepsy'\n]\n\nexport class OpdReportService extends Service {\n    programID: number;\n    startDate: string;\n    endDate: string;\n    date: string;\n    epiweek: string;\n    constructor() {\n        super()\n        this.endDate = ''\n        this.startDate = ''\n        this.epiweek = ''\n        this.date = Service.getSessionDate()\n        this.programID = Service.getProgramID()\n    }\n\n    getPatientsWithNIDs() {\n        return this.getReport('with_nids')\n    }\n\n    getClinicRegistrations(){\n        return this.getReport('registration');\n    }\n\n    getAttendance(){\n        return this.getReport(`programs/${this.programID}/reports/attendance`)\n    }\n\n    getDrugsGivenWithoutPrescription() {\n        return this.getReport('drugs_given_without_prescription')\n    }\n\n    getDrugsGivenWithPrescription() {\n        return this.getReport('drugs_given_with_prescription')\n    }\n\n    getDiagnosis(){\n        const url = `programs/${this.programID}/reports/diagnosis`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            'date': this.date\n        })\n    }\n\n    getDiagnosisByAddress(){\n        return this.getReport('diagnosis_by_address')\n    }\n\n    getLaPrescriptions(){\n        const url = `programs/${this.programID}/reports/la_prescriptions`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            \n        })\n    }\n\n    printLaReport(data: Record<string, any>){\n        const printService = new PrintoutService()\n        const url = `programs/${this.programID}/barcodes/la_report`\n        const params: Record<string, any> = {\n            \"date[start]\": this.startDate,\n            \"date[end]\": this.endDate\n        }\n        Object.keys(LA_TYPES).forEach((v, i) => {\n            i++\n            params[`${i}[prescription]`] = data[`total_la_${v}_prescribed_drugs`]\n            params[`${i}[dispensed]`] = data[`total_la_${v}_dispensed_drugs`]\n        })\n        return printService.printLbl(`${url}?${Url.parameterizeObjToString(params)}`)\n    }\n\n    getDateIntervalPeriod() {\n        return `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n    }\n\n    setStartDate(startDate: string) {\n        this.startDate = startDate\n    }  \n\n    setEndDate(endDate: string) {\n        this.endDate = endDate\n    }\n\n    setEpiWeek(epiweek: string) {\n        this.epiweek = epiweek\n    }\n\n    getReportPeriod() {\n        return this.startDate && this.endDate\n         ? `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n         : '-'\n    }\n\n    getReport(url: string, params={}) {\n        return Service.getJson(url, this.buildRequest(params))\n    }\n\n    buildRequest(config: Record<string, any> = {}) {\n        const payload: any = {'date': this.date, 'program_id': this.programID}\n        if (this.startDate && this.endDate) {\n            payload['start_date'] = this.startDate\n            payload['end_date'] = this.endDate\n        }\n        if (this.epiweek) {\n            payload['epiweek'] = this.epiweek\n        }\n        return { ...payload, ...config }\n    }\n\n    static getReportQuarters(minDuration= 4) {\n        const quarters: Array<QuarterInterface> = []\n        let year = HisDate.getCurrentYear()\n        for(let i=0; i < minDuration; ++i) {\n            quarters.push({ name: `Q4 ${year}`, start: `${year}-10-01`, end: `${year}-12-31` })\n            quarters.push({ name: `Q3 ${year}`, start: `${year}-07-01`, end: `${year}-09-30` })\n            quarters.push({ name: `Q2 ${year}`, start: `${year}-04-01`, end: `${year}-06-30` })\n            quarters.push({ name: `Q1 ${year}`, start: `${year}-01-01`, end: `${year}-03-31` })\n            --year\n        }\n        return quarters\n    }\n\n}","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./ReportMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./ReportMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./MOHReportHeader.vue?vue&type=template&id=3d81af96&ts=true\"\nimport script from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}