(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78e806c6"],{"115d":function(e,t,n){"use strict";n("ef9a")},"37f0":function(e,t,n){"use strict";n("45f7")},"45f7":function(e,t,n){},"53dc":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={id:"report-content"},o=Object(r["createVNode"])("div",{id:"print"},null,-1);function c(e,t,n,c,i,s){var l=Object(r["resolveComponent"])("ion-loading"),d=Object(r["resolveComponent"])("his-standard-form"),p=Object(r["resolveComponent"])("idsr-h"),b=Object(r["resolveComponent"])("weekly"),u=Object(r["resolveComponent"])("ion-content"),O=Object(r["resolveComponent"])("his-footer"),g=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(l,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),e.reportReady?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0,onOnFinish:e.onPeriod,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"])),e.reportReady?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",a,[Object(r["createVNode"])(p,{key:e.componentKey,reportName:e.reportName,rangeLabel:e.rangeLabel,range:e.range,ref:"header",periodLabel:e.periodLabel,periodDates:e.periodDates,clinicName:e.clinicName,totalOPDVisits:e.TotalOPDVisits},null,8,["reportName","rangeLabel","range","periodLabel","periodDates","clinicName","totalOPDVisits"]),Object(r["createVNode"])(b,{key:e.componentKey,onDrillDown:e.onDrillDown,params:e.idsr,epiweek:e.range,ref:"rep"},null,8,["onDrillDown","params","epiweek"])])]})),_:1}),Object(r["createVNode"])(O,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(r["createCommentVNode"])("",!0),o],64)}var i=n("1da1"),s=(n("96cf"),n("ac1f"),n("1276"),n("0f25")),l=n("8a30"),d=n("7920"),p=n("c2b0"),b=n("6d14"),u=n("9cdd"),O=(n("b0c0"),Object(r["withScopeId"])("data-v-693b1113"));Object(r["pushScopeId"])("data-v-693b1113");var g={class:"my-table",style:{margin:"auto",width:"95%","margin-top":"3%","margin-bottom":"3%"}},m=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{rowspan:"2",colspan:"2",class:"td-text-align-left",style:{width:"min-content",padding:"1.5%"}},"Diseases/Events/Conditions"),Object(r["createVNode"])("td",{colspan:"3",class:"td-text-align-left",style:{"text-align":"center"}},"Out-patient Cases")],-1),j=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},"<5 yrs"),Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},">=5 yrs"),Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},"Total")],-1),f={class:"td-text-align-left",style:{width:"43.3%",padding:"1.5%"}};Object(r["popScopeId"])();var h=O((function(e,t,n,a,o,c){var i=Object(r["resolveComponent"])("weekly-dummy");return Object(r["openBlock"])(),Object(r["createBlock"])("table",g,[m,j,e.show?(Object(r["openBlock"])(),Object(r["createBlock"])(i,{key:0})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.conditions,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.id),1),Object(r["createVNode"])("td",f,Object(r["toDisplayString"])(t.name),1),Object(r["createVNode"])("td",{id:"ls-5yrs",onClick:function(n){e.onDrillDown(t.name+e.lessThanFiveYears,t.lessThanFiveYearsPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(t.lessThanFiveYears),1)],8,["onClick"]),Object(r["createVNode"])("td",{id:"grt-5yrs",onClick:function(n){e.onDrillDown(t.name+e.greaterAndEqualFiveYears,t.greaterThanEqualFiveYearsPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(t.greaterThanEqualFiveYears),1)],8,["onClick"]),Object(r["createVNode"])("td",{id:"total",onClick:function(n){e.onDrillDown(t.name+e.total,t.totalPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(t.total),1)],8,["onClick"])])})),128))])})),y=(n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),Object(r["withScopeId"])("data-v-2e021564"));Object(r["pushScopeId"])("data-v-2e021564");var v={class:"td-text-align-left",style:{width:"43.3%",padding:"1.5%"}},D=Object(r["createVNode"])("td",{id:"ls-5ys"},"0",-1),N=Object(r["createVNode"])("td",{id:"grt-5yrs"},"0",-1),w=Object(r["createVNode"])("td",{id:"total"},"0",-1);Object(r["popScopeId"])();var k=y((function(e,t,n,a,o,c){return Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.conditions,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t),1),Object(r["createVNode"])("td",v,Object(r["toDisplayString"])(e),1),D,N,w])})),128)})),V=Object(r["defineComponent"])({data:function(){return{conditions:["Diarrhoea SD U/5","Food borne illness","HIV/AIDS (New Cases)","Injuries (RTA)","Lymphatic Filariasis","Malaria in pregnancy","Onchocerciasis","Malnutrition  U/5","Viral Hepatitis","Underweight Newborns  2500 g","Trypanosomiasis","Trachoma","STI","Severe Pneumonia U/5","Schistosomiasis","Perinatal deaths"]}}}),S=(n("115d"),n("6b0d")),C=n.n(S);const I=C()(V,[["render",k],["__scopeId","data-v-2e021564"]]);var x=I,R=n("1c74"),F=n("5a0c"),L=n.n(F),B=Object(r["defineComponent"])({components:{WeeklyDummy:x},data:function(){return{show:!0,conditions:[],lessThanFiveYears:" < 5 yrs",greaterAndEqualFiveYears:" >= 5 yrs",total:" Total"}},props:["params","epiweek","quarter","onDrillDown"],methods:{renderResults:function(){var e=new b["a"];console.log(this.params);var t=e.renderResults(this.params);t.length&&(this.conditions=t,this.show=!1)},onDownload:function(){var e=new b["a"],t=e.getCSVString(this.conditions),n=t.CSVString;n+="\n          Date Created: ".concat(L()().format("DD/MMM/YYYY HH:MM:ss"),"\n          His-Core Version: ").concat(R["e"].getCoreVersion(),"\n          API Version: ").concat(R["e"].getApiVersion(),"\n          Report Period: ").concat(this.epiweek,"\n          Site: ").concat(R["e"].getLocationName(),"\n          Site UUID: ").concat(R["e"].getSiteUUID());var r=new Blob([n],{type:"text/csv;charset=utf-8;"}),a="".concat(R["e"].getLocationName()," Weekly IDSR report ").concat(this.quarter);if(navigator.msSaveBlob)navigator.msSaveBlob(r,"exportFilename");else{var o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.setAttribute("download","".concat(a,".csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o)}}},watch:{params:{immediate:!0,handler:function(){this.renderResults()}}}});n("37f0");const P=C()(B,[["render",h],["__scopeId","data-v-693b1113"]]);var T=P,E=n("9283"),q=Object(r["defineComponent"])({mixins:[p["a"]],components:{IonLoading:l["z"],IdsrH:u["a"],Weekly:T,HisStandardForm:d["a"],HisFooter:s["a"],IonPage:l["D"],IonContent:l["n"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},idsr:{},btns:[],isLoading:!1,fields:[],reportID:-1,periodLabel:"Week Dates",periodDates:"",reportName:"WEEKLY DISEASE SURVEILLANCE REPORT",rangeLabel:"Week Number",range:"",TotalOPDVisits:0,clinicName:b["a"].getLocationName(),reportReady:!1,reportUrlParams:"",regenarate:""}},created:function(){this.btns=this.getBtns(),this.fields=this.getEpiweeksFields()},methods:{onPeriod:function(e,t){var n=arguments,r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,c,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=n.length>2&&void 0!==n[2]&&n[2],r.componentKey+=1,r.formData=e,r.computedFormData=t,r.reportReady=!0,r.isLoading=!0,r.report=new b["a"],r.report.setRegenerate(o),r.report.setEpiWeek(e.epiweek.label),r.report.setStartDate(E["b"].toStandardHisFormat(e.epiweek.other.start)),r.report.setEndDate(E["b"].toStandardHisFormat(e.epiweek.other.end)),r.periodDates=r.report.getReportPeriod(),r.range=e.epiweek.label.split(" ")[0],a.prev=13,a.next=16,r.report.requestIDSRWeekly();case 16:return c=a.sent,a.next=19,r.report.getClinicRegistrations();case 19:i=a.sent,c&&i&&(r.reportID="data",r.TotalOPDVisits=i.length,r.idsr=c),a.next=26;break;case 23:a.prev=23,a.t0=a["catch"](13),console.log(a.t0);case 26:return a.prev=26,r.isLoading=!1,a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[13,23,26,29]])})))()},getBtns:function(){var e=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$refs.rep,n.onDownload();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return e.exportToCustomPDF("Print IDSR Weelky Report")}},{name:"Back",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return e.reportReady=!1}},{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPeriod(e.formData,e.computedFormData,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return e.$router.push({path:"/"})}}]}}});const Y=C()(q,[["render",c]]);t["default"]=Y},"60ce":function(e,t,n){"use strict";n("8cca")},"8cca":function(e,t,n){},"9cdd":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-170f5933");Object(r["pushScopeId"])("data-v-170f5933");var o={style:{margin:"auto",width:"95%","margin-top":"1%"}},c={id:""},i={colspan:"5",id:"",style:{"border-right-style":"solid","font-weight":"bold","text-align":"center"}},s=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{class:"td-text-align-left"},"Country:"),Object(r["createVNode"])("td",{class:"td-text-align-left"},"Malawi")],-1),l=Object(r["createVNode"])("td",{class:"td-text-align-left"},"Reporting Facility Name:",-1),d={class:"td-text-align-left"},p={class:"td-text-align-left"},b={class:"td-text-align-left"},u={class:"td-text-align-left"},O={class:"td-text-align-left"},g=Object(r["createVNode"])("td",{class:"td-text-align-left"},"Total OPD Visits: ",-1),m={class:"td-text-align-left"},j={id:"total_visits"};Object(r["popScopeId"])();var f=a((function(e,t,n,a,f,h){return Object(r["openBlock"])(),Object(r["createBlock"])("table",o,[Object(r["createVNode"])("tr",c,[Object(r["createVNode"])("td",i,Object(r["toDisplayString"])(n.reportName),1)]),s,Object(r["createVNode"])("tr",null,[l,Object(r["createVNode"])("td",d,Object(r["toDisplayString"])(n.clinicName),1)]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",p,Object(r["toDisplayString"])(n.rangeLabel)+":",1),Object(r["createVNode"])("td",b,Object(r["toDisplayString"])(n.range),1)]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",u,Object(r["toDisplayString"])(n.periodLabel),1),Object(r["createVNode"])("td",O,Object(r["toDisplayString"])(n.periodDates),1)]),Object(r["createVNode"])("tr",null,[g,Object(r["createVNode"])("td",m,[Object(r["createVNode"])("span",j,Object(r["toDisplayString"])(n.totalOPDVisits),1)])])])})),h=(n("a9e3"),{props:{clinicName:{type:String,default:""},reportparams:{type:Object,required:!0},totalOPDVisits:{type:Number,required:!0},reportName:{type:String,required:!0},periodLabel:{type:String,required:!0},periodDates:{type:String,required:!0},rangeLabel:{type:String,required:!0},range:{type:String,required:!0}}}),y=(n("60ce"),n("6b0d")),v=n.n(y);const D=v()(h,[["render",f],["__scopeId","data-v-170f5933"]]);t["a"]=D},ef9a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-78e806c6.90fcc90f.js.map