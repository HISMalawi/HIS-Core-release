(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a0c215ba"],{"2e46":function(t,e,r){"use strict";r.r(e);var a=r("7a23");function n(t,e,r,n,s,o){const i=Object(a["resolveComponent"])("report-template"),p=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(p,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(i,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,showtitleOnly:!0,config:{showIndex:!1},encryptPDF:!0,onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]),_:1})}r("14d9");var s=r("ad8d"),o=r("44e3"),i=r("552a"),p=r("d95e"),d=r("2706"),l=r("9ceb"),c=r("d867"),h=r("25da"),u=Object(a["defineComponent"])({mixins:[o["a"]],components:{ReportTemplate:i["a"],IonPage:c["D"]},data:()=>({title:"Booked clients",date:"",rows:[],appointments:{},columns:[[l["a"].thTxt("ARV#"),l["a"].thTxt("First name",{csvExportable:!1,pdfExportable:!0}),l["a"].thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),l["a"].thTxt("Gender"),l["a"].thTxt("birthdate"),l["a"].thTxt("Current Address",{csvExportable:!1,pdfExportable:!0}),l["a"].thTxt("Actions")]]}),created(){this.report=new s["b"],this.fields=[{id:"date",helpText:"Select date",type:p["b"].TT_DATE_PICKER,defaultValue:()=>s["b"].getSessionDate(),validation:t=>d["a"].required(t),onValue:async t=>(this.report.setStartDate(t),this.appointments[t]||(this.appointments[t]=await this.report.getBookedAppointments(t)||[]),!0),config:{infoItems:t=>{var e;return[{label:"Appointments",value:(null===(e=this.appointments[t])||void 0===e?void 0:e.length)||0}]}}}]},methods:{onPeriod(t){this.rows=[],this.period=t.date.label,this.setRows(this.appointments[t.date.value])},setRows(t){Object(h["a"])(t).asc(t=>t.given_name).forEach(t=>{this.rows.push([this.tdARV(t.arv_number||"N/A"),l["a"].td(t.given_name),l["a"].td(t.family_name),l["a"].td(this.formatGender(t.gender)),l["a"].tdDate(t.birthdate),l["a"].td(`District: <br/> <b>${t.district}</b><br/>\n                        Village: <br/> <b>${t.village}</b><br/>\n                        Land-mark: <br/> <b>${t.land_mark}</b><br/>\n                        Cellphone: <br/> <b>${t.cell_phone}</b>`),l["a"].tdBtn("Select",()=>this.confirmPatient(t.person_id))])})}}}),g=r("d959"),m=r.n(g);const b=m()(u,[["render",n]]);e["default"]=b},ad8d:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return s}));var a=r("5969");const n=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50-54 years","55-59 years","60-64 years","65-69 years","70-74 years","75-79 years","80-84 years","85-89 years","90 plus years"];class s extends a["a"]{constructor(){super()}getBookedAppointments(t){return a["a"].getJson(`programs/${this.programID}/scheduled_appointments`,{date:t})}getViralLoadResults(t){return this.getReport(`/programs/${this.programID}/reports/high_vl_patients`,{range:t})}getOtherOutcome(t){return this.getReport("patient_outcome_list",{outcome:t})}getPatientVisitTypes(){return this.getReport("patient_visit_types")}getClientsDueForVl(){return this.getReport("clients_due_vl")}getClientRentention(){return this.getReport(`/programs/${this.programID}/reports/retention`)}getExternalConsultationClients(){return this.getReport(this.programID+"/external_consultation_clients")}getMissedAppointments(){return this.getReport("missed_appointments")}getPregnantWomen(){return this.getReport(`/programs/${this.programID}/reports/pregnant_patients`)}getArchivingCandidates(){return a["a"].getJson(`programs/${this.programID}/reports/archiving_candidates`,{start_date:this.date})}}}}]);
//# sourceMappingURL=chunk-a0c215ba.86f0ebc3.js.map