(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-657aa811"],{"18e2":function(t,e,a){"use strict";a("b5c5")},"60ce":function(t,e,a){"use strict";a("9425")},"7f64":function(t,e,a){},9425:function(t,e,a){},"9ad4":function(t,e,a){"use strict";a.r(e);var r=a("7a23"),c={id:"report-content"},i=Object(r["createVNode"])("div",{id:"print"},null,-1);function d(t,e,a,d,n,o){var s=Object(r["resolveComponent"])("ion-loading"),l=Object(r["resolveComponent"])("his-standard-form"),g=Object(r["resolveComponent"])("idsr-h"),b=Object(r["resolveComponent"])("monthly"),O=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("his-footer"),j=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,{"is-open":t.isLoading,message:"Please wait..."},null,8,["is-open"]),t.reportReady?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,onOnFinish:t.onPeriod,skipSummary:!0,fields:t.fields},null,8,["onOnFinish","fields"])),t.reportReady?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",c,[Object(r["createVNode"])(g,{key:t.componentKey,reportName:t.reportName,rangeLabel:t.rangeLabel,range:t.range,ref:"header",periodLabel:t.periodLabel,periodDates:t.periodDates,clinicName:t.clinicName,totalOPDVisits:t.TotalOPDVisits},null,8,["reportName","rangeLabel","range","periodLabel","periodDates","clinicName","totalOPDVisits"]),Object(r["createVNode"])(b,{key:t.componentKey,onDrillDown:t.onDrillDown,params:t.idsr,month:t.range,ref:"rep"},null,8,["onDrillDown","params","month"])])]})),_:1}),Object(r["createVNode"])(h,{btns:t.btns},null,8,["btns"])]})),_:1})):Object(r["createCommentVNode"])("",!0),i],64)}var n=a("1da1"),o=(a("96cf"),a("ac1f"),a("1276"),a("0f25")),s=a("8a30"),l=a("7920"),g=a("c2b0"),b=a("6d14"),O=a("9cdd"),h=(a("b0c0"),Object(r["withScopeId"])("data-v-ed8aff42"));Object(r["pushScopeId"])("data-v-ed8aff42");var j={class:"my-table",style:{margin:"auto",width:"95%","margin-top":"3%","margin-bottom":"3%"}},p=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{rowspan:"2",colspan:"2",class:"td-text-align-left",style:{width:"min-content"}},"Diseases/Events/Conditions"),Object(r["createVNode"])("td",{colspan:"3",class:"td-text-align-left",style:{"text-align":"center"}},"Out-patient Cases")],-1),N=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},"<5 yrs"),Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},">=5 yrs"),Object(r["createVNode"])("td",{class:"td-text-align-left td-span-width"},"Total")],-1),V={class:"td-text-align-right"},u={class:"td-text-align-right",style:{width:"30%",padding:"revert"}};Object(r["popScopeId"])();var m=h((function(t,e,a,c,i,d){var n=Object(r["resolveComponent"])("monthly-dummy");return Object(r["openBlock"])(),Object(r["createBlock"])("table",j,[p,N,t.show?(Object(r["openBlock"])(),Object(r["createBlock"])(n,{key:0})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.conditions,(function(e,a){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:a},[Object(r["createVNode"])("td",V,Object(r["toDisplayString"])(e.id),1),Object(r["createVNode"])("td",u,Object(r["toDisplayString"])(e.name),1),Object(r["createVNode"])("td",{id:"ls-5yrs",class:"td-text-align-right",onClick:function(a){t.onDrillDown(e.name+t.lessThanFiveYears,e.lessThanFiveYearsPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(e.lessThanFiveYears),1)],8,["onClick"]),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right",onClick:function(a){t.onDrillDown(e.name+t.greaterAndEqualFiveYears,e.greaterThanEqualFiveYearsPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(e.greaterThanEqualFiveYears),1)],8,["onClick"]),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right",onClick:function(a){t.onDrillDown(e.name+t.total,e.totalPatientIds)}},[Object(r["createVNode"])("a",null,Object(r["toDisplayString"])(e.total),1)],8,["onClick"])])})),128))])})),y=(a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),Object(r["withScopeId"])("data-v-5a1c8e59"));Object(r["pushScopeId"])("data-v-5a1c8e59");var x=Object(r["createVNode"])("tr",{id:"_1"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"1"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Diarrhoea SD U/5"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),f=Object(r["createVNode"])("tr",{id:"_2"},[Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"5%"}},"2"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Food borne illness"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),v=Object(r["createVNode"])("tr",{id:"_3"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"3"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"HIV/AIDS (New Cases)"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),w=Object(r["createVNode"])("tr",{id:"_4"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"4"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Injuries (RTA)"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),D=Object(r["createVNode"])("tr",{id:"_5"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"5"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Lymphatic Filariasis"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),S=Object(r["createVNode"])("tr",{id:"_6"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"6"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Malaria in pregnancy"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),k=Object(r["createVNode"])("tr",{id:"_7"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"7"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Malnutrition U/5"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),C=Object(r["createVNode"])("tr",{id:"_8"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"8"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Onchocerciasis"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),I=Object(r["createVNode"])("tr",{id:"_9"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"9"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Perinatal deaths"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),R=Object(r["createVNode"])("tr",{id:"_10"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"10"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Schistosomiasis"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),F=Object(r["createVNode"])("tr",{id:"_11"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"11"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Severe Pneumonia U/5"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),L=Object(r["createVNode"])("tr",{id:"_12"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"12"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"STI"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),B=Object(r["createVNode"])("tr",{id:"_13"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"13"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Trachoma"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),P=Object(r["createVNode"])("tr",{id:"_14"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"14"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Trypanosomiasis"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),_=Object(r["createVNode"])("tr",{id:"_15"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"15"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Underweight Newborns 2500 g"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1),T=Object(r["createVNode"])("tr",{id:"_16"},[Object(r["createVNode"])("td",{class:"td-text-align-right"},"16"),Object(r["createVNode"])("td",{class:"td-text-align-right",style:{width:"30%"}},"Viral Hepatitis"),Object(r["createVNode"])("td",{id:"ls-5ys",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"grt-5yrs",class:"td-text-align-right"},"0"),Object(r["createVNode"])("td",{id:"total",class:"td-text-align-right"},"0")],-1);Object(r["popScopeId"])();var M=y((function(t,e){return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[x,f,v,w,D,S,k,C,I,R,F,L,B,P,_,T],64)})),q=(a("18e2"),a("d959")),E=a.n(q);const Y={},H=E()(Y,[["render",M],["__scopeId","data-v-5a1c8e59"]]);var U=H,A=a("1c74"),z=a("5a0c"),K=a.n(z),J=Object(r["defineComponent"])({components:{MonthlyDummy:U},data:function(){return{show:!0,conditions:[],lessThanFiveYears:" < 5 yrs",greaterAndEqualFiveYears:" >= 5 yrs",total:" Total"}},props:["params","month","quarter","onDrillDown"],methods:{renderResults:function(){var t=new b["a"],e=t.renderResults(this.params);e.length&&(this.conditions=e,this.show=!1)},onDownload:function(){var t=new b["a"],e=t.getCSVString(this.conditions),a=e.CSVString;a+="\n          Date Created: ".concat(K()().format("DD/MMM/YYYY HH:MM:ss"),"\n          His-Core Version: ").concat(A["d"].getCoreVersion(),"\n          API Version: ").concat(A["d"].getApiVersion(),"\n          Report Period: ").concat(this.month,"\n          Site: ").concat(A["d"].getLocationName(),"\n          Site UUID: ").concat(A["d"].getSiteUUID());var r=new Blob([a],{type:"text/csv;charset=utf-8;"}),c="".concat(A["d"].getLocationName()," MOnthly IDSR report ").concat(this.quarter);if(navigator.msSaveBlob)navigator.msSaveBlob(r,"exportFilename");else{var i=document.createElement("a");i.href=window.URL.createObjectURL(r),i.setAttribute("download","".concat(c,".csv")),document.body.appendChild(i),i.click(),document.body.removeChild(i)}}},watch:{params:{immediate:!0,handler:function(){this.renderResults()}}}});a("a383");const $=E()(J,[["render",m],["__scopeId","data-v-ed8aff42"]]);var W=$,G=a("9283"),Q=Object(r["defineComponent"])({mixins:[g["a"]],components:{IonLoading:s["x"],IdsrH:O["a"],Monthly:W,HisStandardForm:l["a"],HisFooter:o["a"],IonPage:s["B"],IonContent:s["n"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},idsr:{},btns:[],isLoading:!1,fields:[],reportID:-1,periodLabel:"Month Dates",periodDates:"",reportName:"MONTHLY DISEASE SURVEILLANCE REPORT",rangeLabel:"Month",range:"",TotalOPDVisits:0,clinicName:b["a"].getLocationName(),reportReady:!1}},created:function(){this.btns=this.getBtns(),this.fields=this.getMonthlyFields()},methods:{onPeriod:function(t,e){var a=arguments,r=this;return Object(n["a"])(regeneratorRuntime.mark((function c(){var i,d,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return i=a.length>2&&void 0!==a[2]&&a[2],r.componentKey+=1,r.formData=t,r.computedFormData=e,r.reportReady=!0,r.isLoading=!0,r.report=new b["a"],r.report.setRegenerate(i),r.report.setEpiWeek(t.idsrmonth.label),r.report.setStartDate(G["a"].toStandardHisFormat(t.idsrmonth.other.start)),r.report.setEndDate(G["a"].toStandardHisFormat(t.idsrmonth.other.end)),r.periodDates=r.report.getReportPeriod(),r.range=t.idsrmonth.label.split(" ")[0],c.prev=13,c.next=16,r.report.requestIDSRMonthly();case 16:return d=c.sent,c.next=19,r.report.getClinicRegistrations();case 19:n=c.sent,d&&n&&(r.reportID="data",r.TotalOPDVisits=n.length,r.idsr=d),c.next=26;break;case 23:c.prev=23,c.t0=c["catch"](13),console.log(c.t0);case 26:return c.prev=26,r.isLoading=!1,c.finish(26);case 29:case"end":return c.stop()}}),c,null,[[13,23,26,29]])})))()},getBtns:function(){var t=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$refs.rep,a.onDownload();case 2:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return t.exportToCustomPDF("Print IDSR Monthly Report")}},{name:"Back",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return t.reportReady=!1}},{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.onPeriod(t.formData,t.computedFormData,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return t.$router.push({path:"/"})}}]}}});const X=E()(Q,[["render",d]]);e["default"]=X},"9cdd":function(t,e,a){"use strict";var r=a("7a23"),c=Object(r["withScopeId"])("data-v-170f5933");Object(r["pushScopeId"])("data-v-170f5933");var i={style:{margin:"auto",width:"95%","margin-top":"1%"}},d={id:""},n={colspan:"5",id:"",style:{"border-right-style":"solid","font-weight":"bold","text-align":"center"}},o=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{class:"td-text-align-left"},"Country:"),Object(r["createVNode"])("td",{class:"td-text-align-left"},"Malawi")],-1),s=Object(r["createVNode"])("td",{class:"td-text-align-left"},"Reporting Facility Name:",-1),l={class:"td-text-align-left"},g={class:"td-text-align-left"},b={class:"td-text-align-left"},O={class:"td-text-align-left"},h={class:"td-text-align-left"},j=Object(r["createVNode"])("td",{class:"td-text-align-left"},"Total OPD Visits: ",-1),p={class:"td-text-align-left"},N={id:"total_visits"};Object(r["popScopeId"])();var V=c((function(t,e,a,c,V,u){return Object(r["openBlock"])(),Object(r["createBlock"])("table",i,[Object(r["createVNode"])("tr",d,[Object(r["createVNode"])("td",n,Object(r["toDisplayString"])(a.reportName),1)]),o,Object(r["createVNode"])("tr",null,[s,Object(r["createVNode"])("td",l,Object(r["toDisplayString"])(a.clinicName),1)]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",g,Object(r["toDisplayString"])(a.rangeLabel)+":",1),Object(r["createVNode"])("td",b,Object(r["toDisplayString"])(a.range),1)]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",O,Object(r["toDisplayString"])(a.periodLabel),1),Object(r["createVNode"])("td",h,Object(r["toDisplayString"])(a.periodDates),1)]),Object(r["createVNode"])("tr",null,[j,Object(r["createVNode"])("td",p,[Object(r["createVNode"])("span",N,Object(r["toDisplayString"])(a.totalOPDVisits),1)])])])})),u=(a("a9e3"),{props:{clinicName:{type:String,default:""},reportparams:{type:Object,required:!0},totalOPDVisits:{type:Number,required:!0},reportName:{type:String,required:!0},periodLabel:{type:String,required:!0},periodDates:{type:String,required:!0},rangeLabel:{type:String,required:!0},range:{type:String,required:!0}}}),m=(a("60ce"),a("d959")),y=a.n(m);const x=y()(u,[["render",V],["__scopeId","data-v-170f5933"]]);e["a"]=x},a383:function(t,e,a){"use strict";a("7f64")},b5c5:function(t,e,a){}}]);
//# sourceMappingURL=chunk-657aa811.40d03533.js.map