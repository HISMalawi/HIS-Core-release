{"version":3,"sources":["webpack:///./src/components/Forms/HisStandardForm.vue?8e31","webpack:///./src/components/Forms/HisStandardForm.vue","webpack:///./src/components/Forms/HisStandardForm.vue?5176","webpack:///./src/apps/HTS/views/encounters/HtsPartner.vue?664d","webpack:///./src/apps/HTS/services/hts_partner_reception_service.ts","webpack:///./src/apps/HTS/views/encounters/HtsPartner.vue","webpack:///./src/apps/HTS/views/encounters/HtsPartner.vue?ea89"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","_resolveDynamicComponent","formType","fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onFinishAction","onOnIndex","onIndex","defineComponent","name","components","TouchScreenForm","emits","data","props","type","Function","Boolean","default","String","Object","required","methods","formData","computedData","this","$emit","i","__exports__","_component_his_standard_form","_resolveComponent","_component_ion_page","_withCtx","_createVNode","formLabel","patientDashboardUrl","_","HtsPartnerReceptionService","AppEncounterService","constructor","patientID","providerID","super","IonPage","HisStandardForm","setup","ref","service","toOption","yesNoOptions","saveEncounter","StartHtsEncounter","onInitVisit","value","partnerPresentField","partnerHivStatusField","id","helpText","FieldType","TT_YES_NO","isRequired","finalComputedValue","v","obs","buildValueText","options","label","values","TT_SELECT","buildValueCoded","f","partner_present","push","offeredPartnerTest","offer_partner_hiv_test","encounterName","encounterTypeID","skipNextTask","callback","router"],"mappings":"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","file":"js/chunk-22fed8a0.9f98ea69.js","sourcesContent":["import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.formType), {\n    fields: _ctx.fields,\n    skipSummary: _ctx.skipSummary,\n    activeField: _ctx.activeField,\n    cancelDestinationPath: _ctx.cancelDestinationPath,\n    onOnFinish: _ctx.onFinish,\n    onFinish: _ctx.onFinishAction,\n    onOnIndex: _ctx.onIndex\n  }, null, 40, [\"fields\", \"skipSummary\", \"activeField\", \"cancelDestinationPath\", \"onOnFinish\", \"onFinish\", \"onOnIndex\"]))\n}","\nimport TouchScreenForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport { defineComponent, PropType } from \"vue\";\nimport { Field } from \"./FieldInterface\";\n\nexport default defineComponent({\n    name: \"HisStandardForm\",\n    components: { TouchScreenForm },\n    emits: [\n        'onFinish',\n        'onIndex'\n    ],\n    data: () => ({\n        formType: 'touch-screen-form' as string\n    }),\n    props: {\n        onFinishAction: {\n            type: Function\n        },\n        skipSummary: {\n            type: Boolean,\n            default: false\n        },\n        activeField: {\n            type: String\n        },\n        fields: {\n            type: Object as PropType<Field[]>,\n            required: true\n        },\n        cancelDestinationPath: {\n            type: String,\n            required: false,\n        }\n    },\n    methods: {\n        onFinish(formData: any, computedData: any) {\n            this.$emit('onFinish', formData, computedData)\n        },\n        onIndex(i: number) {\n            this.$emit('onIndex', i)\n        }\n    }\n})\n","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        formLabel: \"Partner reception\",\n        fields: _ctx.fields,\n        onFinishAction: _ctx.onFinish,\n        skipSummary: true,\n        cancelDestinationPath: _ctx.patientDashboardUrl()\n      }, null, 8, [\"fields\", \"onFinishAction\", \"cancelDestinationPath\"])\n    ]),\n    _: 1\n  }))\n}","import { AppEncounterService } from \"@/services/app_encounter_service\";\n\nexport class HtsPartnerReceptionService extends AppEncounterService {\n    constructor(patientID: number, providerID = -1) {\n        super(patientID, 194, providerID)\n    }\n}\n","\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { defineComponent, ref } from 'vue'\nimport { Field, Option } from '@/components/Forms/FieldInterface'\nimport { IonPage } from \"@ionic/vue\"\nimport { HtsPartnerReceptionService } from \"@/apps/HTS/services/hts_partner_reception_service\"\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport { StartHtsEncounter } from \"@/apps/HTS/composables/HtsFormEncounter\";\nimport router from \"@/router\"\n\nexport default defineComponent({\n  components: { IonPage, HisStandardForm },\n  setup() {\n    const fields = ref<Field[]>([])\n    const service = new HtsPartnerReceptionService(-1)\n\n    const { toOption, yesNoOptions, saveEncounter, patientDashboardUrl } = StartHtsEncounter({\n      onInitVisit: () => {\n        fields.value = [\n          partnerPresentField(),\n          partnerHivStatusField()\n        ]\n      }\n    })\n\n    function partnerPresentField(): Field {\n      return {\n        id: 'partner_present',\n        helpText: 'Partner',\n        type: FieldType.TT_YES_NO,\n        isRequired: () => true,\n        finalComputedValue: (v: any) => {\n          return {\n            obs: service.buildValueText('Partner present', v)\n          }\n        },\n        options: () => {\n          return [\n            {\n              label: 'Is partner present at this session?',\n              value: '',\n              values: yesNoOptions()\n            }\n          ]\n        }\n      }\n    }\n    \n    function partnerHivStatusField(): Field {\n      return {\n        id: 'partner_hiv_status',\n        helpText: 'Partner HIV Status',\n        type: FieldType.TT_SELECT,\n        isRequired: () => true,\n        finalComputedValue: (v: Option) => {\n          return {\n            obs: service.buildValueCoded('Partner HIV Status', v.value)\n          }\n        },\n        options: (f: any) => {\n          const options = [\n            toOption('HIV unknown'),\n            { \n              label: 'HIV Negative',\n              value: 'Negative'\n            },\n            toOption('Positive ART unknown'),\n            toOption('Positive on ART'),\n            toOption('Positive NOT on ART'),\n          ]\n          if (f.partner_present === 'No') {\n            options.push(toOption('No partner'))\n          }\n          return options\n        }\n      }\n    }\n\n    function onFinish(formData: any, computedData: any) {\n      const offeredPartnerTest = formData?.offer_partner_hiv_test === 'Yes'\n      saveEncounter({\n        encounterName: \"Partner Reception\",\n        encounterTypeID: service.encounterTypeID,\n        computedData,\n        skipNextTask: offeredPartnerTest,\n        callback: () => {\n          if (offeredPartnerTest) {\n            router.push('/patient/registration')\n          }\n        }\n      })\n    }\n\n    return {\n      patientDashboardUrl,\n      onFinish,\n      fields\n    }\n  }\n})\n","import { render } from \"./HtsPartner.vue?vue&type=template&id=66cd366e&ts=true\"\nimport script from \"./HtsPartner.vue?vue&type=script&lang=ts\"\nexport * from \"./HtsPartner.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}