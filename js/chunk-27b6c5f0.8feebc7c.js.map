{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ANC/Views/Encounters/Examination.vue"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","fields","skipSummary","onFinishAction","onFinish","cancelDestinationPath","cancelDestination","_","FUNDAL_CM_TO_WEEKS","AncExaminationService","AppEncounterService","constructor","patientID","providerID","gestationWeeks","expectedFundalHeightForGestationWeeks","getEquivalentFundalHeight","res","getJson","programID","dateofLmp","p","AncCurrentPregnancyService","parseInt","calculateWeekOfFirstVisit","getEquivalentFundalWeeks","fundalHeight","cm","weeks","defineComponent","components","IonPage","mixins","EncounterMixinVue","data","service","watch","ready","this","loadPregnancyStatus","getFields","immediate","methods","computedData","createEncounter","saveObservationList","resolveObs","nextTask","diagnosisOptions","onMap","ConceptService","getConceptsByCategory","name","map","c","toOption","isChecked","id","helpText","type","FieldType","TT_SELECT","validation","v","Validation","required","computedValue","buildValueCoded","value","options","yesNoOptions","buildValueText","condition","f","ultrasound","label","mapStrToOptions","TT_GROUP_SELECTOR","validateSeries","other","subGroupOptions","isEmpty","subGroupOptionValue","subgroupTitle","obs","push","concept","presentation","TT_NUMBER","dynamicHelpText","title","beforeNext","async","match","includes","alertConfirmation","expectedFundalHeight","val","rangeOf","buildValueNumber","buildObs","config","keypad","NUMBERS_WITH_UNKNOWN","min","max","ok","fetal_heart_beat","fetal_movement_felt","yesNoUnknownOptions","TT_MULTIPLE_SELECT","d","onValueUpdate","listData","l","o","footerBtns","slot","onClickComponentEvents","refreshOptions","onClick","__exports__","DEFAULT_KEYPAD","VITALS_KEYPAD","DRUG_DISPENSER_KEYPAD","CD4_COUNT_PAD_LO","SYMBOLS","NUMBER_PAD_LO","MONTHLY_DAYS_LO","ALPHABETICAL_LO","QWERTY_LO","CHARACTERS_AND_NUMBERS_LO","NOTE_PAD_KEYBOARD","LOGIN_KEYBOARD","SYMBOLS_CONFIG","NUMBERS_ONLY","NUMBERS_WITH_ESTIMATE","NUMBERS_WITHOUT_NA_UNKNOWN","NUMBERS","MONTHLY_DAYS","A_TO_Z","QWERTY","KEY_BTN_NAV","btn","keyboard","super","program","PatientProgramService","enrollProgram","setStateDate","date","setStateId","updateState","lnmpDate","theDate","Date","setDate","getDate","today","s","String","Math","floor","calculateGestationDateFromPeriod","period","dayjs","subtract","endOf","format","estimateDelieveryDate","setMonth","getMonth","month","AppendleadingZero","day","getFullYear"],"mappings":"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","file":"js/chunk-27b6c5f0.8feebc7c.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        fields: _ctx.fields,\n        skipSummary: true,\n        onFinishAction: _ctx.onFinish,\n        cancelDestinationPath: _ctx.cancelDestination\n      }, null, 8, [\"fields\", \"onFinishAction\", \"cancelDestinationPath\"])\n    ]),\n    _: 1\n  }))\n}","import { AppEncounterService } from \"@/services/app_encounter_service\";\nimport { PatientProgramService } from \"@/services/patient_program_service\"\nimport dayjs from \"dayjs\";\nimport { AppendleadingZero } from \"@/utils/Strs\";\n\nexport class AncCurrentPregnancyService extends AppEncounterService {\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 81, providerID)\n    }\n\n    async enrollPatient() {\n        const program = new PatientProgramService(this.patientID)\n        /**\n         * TODO: Check if patient is already enrolled first\n        */\n        await program.enrollProgram()\n        program.setStateDate(this.date)\n        program.setStateId(118) //Currently on treatment state... Please remove this ID hack if you can\n        await program.updateState()\n    }\n\n    calculateWeekOfFirstVisit(lnmpDate: string) {\n        const theDate: any = new Date(lnmpDate)\n        theDate.setDate(theDate.getDate() + 7);\n        const today: any = new Date(this.getDate());\n        const s = today - theDate;\n        return String(Math.floor(s / (24 * 60 * 60 * 7 * 1000)));\n    }\n\n    calculateGestationDateFromPeriod(period: number) {\n        return dayjs(this.date).subtract(period, 'months').endOf('month').format('YYYY-MM-DD')\n    }\n\n    estimateDelieveryDate(lnmpDate: string) {\n        const theDate: any = new Date(lnmpDate)\n        theDate.setDate(theDate.getDate() + 7);\n        theDate.setMonth(theDate.getMonth() + 9);\n        const month = AppendleadingZero(theDate.getMonth()+1)\n        const day = AppendleadingZero(theDate.getDate())\n        return `${theDate.getFullYear()}-${month}-${day}`\n    }\n}\n","\nimport EncounterMixinVue from '@/views/EncounterMixin.vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { defineComponent } from 'vue'\nimport { AncExaminationService } from \"@/apps/ANC/Services/anc_examination_service\"\nimport { Field, Option } from '@/components/Forms/FieldInterface'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { IonPage } from \"@ionic/vue\"\nimport { ConceptService } from '@/services/concept_service'\nimport { isEmpty } from 'lodash'\nimport { alertConfirmation } from '@/utils/Alerts'\nimport { NUMBERS_WITH_UNKNOWN } from \"@/components/Keyboard/HisKbConfigurations\"\n\nexport default defineComponent({\n  components: { IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    service: {} as any\n  }),\n  watch: {\n    ready: {\n      async handler(ready: boolean) {\n        if (ready) {\n            this.service = new AncExaminationService(this.patientID, this.providerID)\n            await this.service.loadPregnancyStatus()\n            this.fields = this.getFields() as Field[]\n        } \n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async onFinish(_: any, computedData: any) {\n      await this.service.createEncounter()\n      await this.service.saveObservationList((await this.resolveObs(computedData)))\n      this.nextTask()\n    },\n    diagnosisOptions(onMap: (item: Option) => Option) {\n        return [...ConceptService.getConceptsByCategory('anc_diagnosis'),{ name: 'None'}]\n            .map((c: any) => (onMap({\n                ...this.toOption(c.name), isChecked: false \n            })))\n    },\n    getFields() {\n      return [\n        {\n          id: 'ultrasound',\n          helpText: 'Ultrasound scan results available',\n          type: FieldType.TT_SELECT,\n          validation: (v: Option) => Validation.required(v),\n          computedValue: (v: Option) => this.service.buildValueCoded(\n            'Ultrasound', v.value\n          ),\n          options: () => this.yesNoOptions()\n        },\n        {\n            id: 'multiple_gestation',\n            helpText: 'Number of fetuses',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueText(\n                'Multiple gestation', v.value),\n            condition: (f: any) => f.ultrasound.value === 'Yes',\n            options: () => [\n                { label: 'One', value: 1 },\n                { label: 'Two', value: 2 },\n                { label: 'Three', value: 3 },\n                { label: 'Four', value: 4 },\n                { label: 'Unknown', value: 'Unknown' }\n            ]\n        },\n        {\n            id: 'liquor',\n            helpText: 'Liquor',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueText(\n                'LIQUOR', v.value),\n            condition: (f: any) => f.ultrasound.value === 'Yes',\n            options: () => this.mapStrToOptions([\n                'Adequate',\n                'Not adequate',\n                'Unknown'\n            ])\n        },\n        {\n            id: 'lie',\n            helpText: 'Lie',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueText(\n                'Lie', v.value),\n            condition: (f: any) => f.ultrasound.value === 'Yes',\n            options: () => this.mapStrToOptions([\n                'Longitudinal',\n                'Transverse',\n                'Unknown'\n            ])\n        },\n        {\n            id: 'fetal_heart_movement_seen',\n            helpText: 'Fetal heart movement seen',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueCoded(\n                'Fetal heart movement seen', v.value),\n            condition: (f: any) => f.ultrasound.value === 'Yes',\n            options: () => this.yesNoOptions()\n        },\n        {\n            id: 'presentation',\n            helpText: 'Presentation',\n            type: FieldType.TT_GROUP_SELECTOR,\n            validation: (v: Option) => this.validateSeries([\n                () => Validation.required(v),\n                () => {\n                    /**\n                     * Validate if Presentation's value is selected\n                     */\n                    if (v && !v.value) {\n                        return [`Presentation cannot be Empty!`]\n                    } \n                    return null\n                },\n                () => {\n                    /**\n                     * Validate if option has subgroup options but value is not selected\n                     */\n                    if (v && v?.other?.subGroupOptions && isEmpty(v?.other?.subGroupOptionValue)) {\n                        return [`${v?.other?.subgroupTitle || 'Subgroup'} has no value selected`]\n                    }\n                    return null\n                },\n                () => {\n                    /**\n                     * Validate if the subgroup with Options has selected items\n                     */\n                    if (v && !isEmpty(v?.other?.subGroupOptionValue) \n                        && !isEmpty(v?.other?.subGroupOptionValue?.other?.options)\n                        && !v?.other?.subGroupOptionValue?.value) {\n                            return [`${v?.other?.subGroupOptionValue?.label}'s value isnt selected`]\n                        }\n                    return null\n                }\n            ]),\n            computedValue: (v: Option) => {\n                const obs = [this.service.buildValueText('Presentation', v.label)]\n                if (v?.other?.subGroupOptionValue?.value) {\n                    obs.push(this.service.buildValueText(\n                        'Position', v?.other?.subGroupOptionValue?.value\n                    ))\n                }\n                return obs\n            },\n            options: (f: any) => {\n                const toOption = (label: string, value='',other={}) => ({\n                    label, value, other\n                })\n                const subGroupOptions = [\n                    toOption('Vertex', '', {\n                        options: this.mapStrToOptions([\n                            'Left Occipito Anterior',\n                            'Left Occipito Transverse',\n                            'Left Occipito Posterior',\n                            'Right Occipito Anterior',\n                            'Right Occipito Transverse',\n                            'Right Occipito Posterior',\n                            'Unknown'\n                        ])\n                    }),\n                    this.toOption('Oblique'),\n                    this.toOption('Transverse'),\n                    this.toOption('Breech',{\n                        options: this.mapStrToOptions([\n                            'Left Sacro Anterior',\n                            'Left Sacro Transverse',\n                            'Left Sacro Posterior',\n                            'Right Sacro Anterior',\n                            'Right Sacro Transverse',\n                            'Right Sacro Posterior',\n                            'Unknown'\n                        ])\n                    }),\n                    toOption('Face', '', {\n                        concept: 'Position',\n                        options: this.mapStrToOptions([\n                            'Left Mento Anterior',\n                            'Left Mento Transverse',\n                            'Left Mento Posterior',\n                            'Right Mento Anterior',\n                            'Right Mento Transverse',\n                            'Right Mento Posterior',\n                            'Unknown'\n                        ])\n                    }),\n                    toOption('Shoulder', '', {\n                        options: this.mapStrToOptions([\n                            'Left Acromion Dorsal Anterior',\n                            'Left Acromion Dorsal Transverse',\n                            'Left Acromion Dorsal Posterior',\n                            'Right Acromion Dorsal Anterior',\n                            'Right Acromion Dorsal Transverse',\n                            'Right Acromion Dorsal Posterior',\n                            'Unknown'\n                        ])\n                    })\n                ]\n                return f.presentation  ? f.presentation : [\n                    toOption('Cephalic', '', {\n                        subGroupOptions,\n                        subgroupTitle: 'Cephalic Position',\n                        options: this.mapStrToOptions([\n                            'Right Occipito Anterior',\n                            'Left Occipito Anterior',\n                            'Unknown'\n                        ])\n                    }),\n                    toOption('Breech', '', {\n                        subGroupOptions,\n                        subgroupTitle: 'Breech Position',\n                        options: this.mapStrToOptions([\n                            'Right Sacro Anterior',\n                            'Left Sacro Anterior',\n                            'Unknown'\n                        ]),\n                    }),\n                    this.toOption('Ball'),\n                    this.toOption('Nil palpable')\n                ] as Option[]\n            }\n        },\n        {\n            id: 'enter_fundal_height',\n            helpText: 'Fundal height (cm)',\n            type: FieldType.TT_NUMBER,\n            dynamicHelpText: () => {\n                const title = 'Fundal height (cm)'\n                if (this.service.gestationWeeks) {\n                    return `${title} (${this.service.gestationWeeks}wks/${this.service.getEquivalentFundalHeight(this.service.gestationWeeks)} cm)`\n                }\n                return title\n            },\n            beforeNext: async (v: Option, f: any) => {\n                if (v && `${v.value}`.match(/unknown/i) && !['Nil palpable', 'Ball'].includes(f.presentation.value)) {\n                    return (await alertConfirmation(`Do you want to proceed with Unknown Fundal height?`)) ? true : false\n                }\n                const expectedFundalHeight = this.service.expectedFundalHeightForGestationWeeks()\n                const val: string | number = v ? parseInt(v.value as string) : -1\n                if (this.service.gestationWeeks && (v && typeof val === 'number') \n                    && (val < expectedFundalHeight || val > expectedFundalHeight)) {\n                    return (await alertConfirmation(`\n                        Fundal height is not equal to expected ${expectedFundalHeight} cm from gestation weeks of ${this.service.gestationWeeks} .\n                        Are you sure about this value?`\n                    )) ? true : false\n                }\n                return true\n            },\n            validation: (v: Option) => this.validateSeries([\n                () => Validation.required(v),\n                () => v && !`${v.value}`.match(/unknown/i) \n                    ? Validation.rangeOf(v, 10, 45) \n                    : null\n            ]),\n            computedValue: (v: Option) => {\n                return v.value != 'Unknown' \n                    ? this.service.buildValueNumber('Fundus', v.value as number)\n                    : this.service.buildObs('Fundus', {\n                        'value_coded': v.value,\n                        'value_numeric': 0\n                    })\n            },\n            config: {\n                keypad: NUMBERS_WITH_UNKNOWN\n            }\n        },\n        {\n            id: 'fetal_heart_beat',\n            helpText: 'Fetal heart beat',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueText(\n                'Fetal Heart Beat', v.value),\n            options: () => this.mapStrToOptions([\n                'Heard',\n                'Not heard'\n            ])\n        },\n        {\n            id: 'fetal_heart_rate',\n            helpText: 'Fetal heart rate',\n            type: FieldType.TT_NUMBER,\n            validation: (v: Option) => Validation.required(v),\n            beforeNext: async (v: Option) => {\n                const min = 120\n                const max = 140\n                const val: string | number = v ? parseInt(v.value as string) : -1\n                if (v && typeof val === 'number') {\n                    if (val < min || val > max) {\n                        const ok = await alertConfirmation(`\n                            The value is out of Range of ${min} - ${max}.\n                            Are you sure about this value?`\n                        )\n                        return ok ? true : false\n                    }\n                }\n                return true\n            },\n            condition: (f: any) => f.fetal_heart_beat.value === 'Heard',\n            computedValue: (v: Option) => {\n                return v.value != 'Unknown'\n                    ? this.service.buildValueNumber('Fetal heart movement seen', `${v.value}`)\n                    : this.service.buildObs('Fetal heart movement seen', {\n                        'value_numeric': 0, 'value_coded': v.value\n                    })\n            },\n            config: {\n                keypad: NUMBERS_WITH_UNKNOWN\n            }\n        },\n        {\n            id: 'enter_fetal_movement',\n            helpText: 'Fetal movement heard',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option) => this.service.buildValueCoded(\n                'Fetal movement heard', `${v.value}`),\n            options: () => this.yesNoOptions()\n        },\n        {\n            id: 'fetal_movement_felt',\n            helpText: 'Fetal movement felt',\n            type: FieldType.TT_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            condition: (f: any) => !['Ball', 'Nil palpable'].includes(f.presentation.label),\n            computedValue: (v: Option) => this.service.buildValueCoded('Fetal movement felt', `${v.value}`),\n            options: () => this.yesNoOptions()\n        },\n        {\n            id: 'last_fmf',\n            helpText: 'Last fetal movement felt (in Weeks)',\n            type: FieldType.TT_NUMBER,\n            validation: (v: Option) => Validation.required(v),\n            condition: (f: any) => f.fetal_movement_felt.value != 'Unknown',\n            computedValue: (v: Option) => {\n                return v.value != 'Unknown'\n                    ? this.service.buildValueNumber('Last Fetal movement felt', v.value as number)\n                    : this.service.buildObs('Last Fetal movement felt', {\n                        'value_numeric': 0, 'value_coded': v.value\n                    })\n            },\n            options: () => this.yesNoUnknownOptions()\n        },\n        {\n            id: 'diagnosis',\n            helpText: 'Diagnosis',\n            type: FieldType.TT_MULTIPLE_SELECT,\n            validation: (v: Option) => Validation.required(v),\n            computedValue: (v: Option[]) => {\n                if (v && v.map(d => d.value).includes('None')) {\n                    return []\n                }\n                return v.map(d => this.service.buildValueCoded(d.label, 'Yes'))\n            },\n            onValueUpdate(listData: Option[], value: Option) {\n                return listData.map(l => {\n                    if (value.value === 'None' && l.value !='None') {\n                        l.isChecked = false\n                    }\n                    if (value.value != 'None' && value.isChecked && l.value === 'None') {\n                        l.isChecked = false\n                    }\n                    return l\n                })\n            },\n            options: () => this.diagnosisOptions(o => o),\n            config: {\n                footerBtns: [\n                    {\n                        name: \"None\",\n                        slot: \"end\",\n                        onClickComponentEvents: {\n                            refreshOptions: () => {\n                                return this.diagnosisOptions(o => {\n                                    o.isChecked = o.label === 'None'\n                                    return o\n                                })\n                            }\n                        },\n                        onClick: () => 'None'\n                    }\n                ]\n            }\n        }\n      ]\n    }\n  }\n})\n","import { render } from \"./Examination.vue?vue&type=template&id=64dbe1c6&ts=true\"\nimport script from \"./Examination.vue?vue&type=script&lang=ts\"\nexport * from \"./Examination.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}