(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ddf11"],{8410:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o={id:"report-content"},a=Object(n["createVNode"])("div",{id:"print"},null,-1);function i(e,t,r,i,s,c){var l=Object(n["resolveComponent"])("ion-loading"),p=Object(n["resolveComponent"])("his-standard-form"),d=Object(n["resolveComponent"])("hmis-header"),u=Object(n["resolveComponent"])("hmis-template"),m=Object(n["resolveComponent"])("ion-content"),b=Object(n["resolveComponent"])("his-footer"),f=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),e.reportReady?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,onOnFinish:e.onPeriod,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"])),e.reportReady?(Object(n["openBlock"])(),Object(n["createBlock"])(f,{key:1},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",o,[Object(n["createVNode"])(d,{key:e.componentKey,reportName:e.reportName,ref:"header",periodLabel:e.periodLabel,periodDates:e.periodDates,clinicName:e.clinicName,totalOPDVisits:e.TotalOPDVisits},null,8,["reportName","periodLabel","periodDates","clinicName","totalOPDVisits"]),Object(n["createVNode"])(u,{key:e.componentKey,reportName:e.reportName,onDrillDown:e.onDrillDown,params:e.hmis15Data,periodDates:e.periodDates,ref:"rep"},null,8,["reportName","onDrillDown","params","periodDates"])])]})),_:1}),Object(n["createVNode"])(b,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(n["createCommentVNode"])("",!0),a],64)}var s=r("1da1"),c=(r("96cf"),r("0f25")),l=r("8a30"),p=r("7920"),d=r("c2b0"),u=r("3822"),m=r("cda1"),b=r("9d7f"),f=r("9283"),h=Object(n["defineComponent"])({mixins:[d["a"]],components:{IonLoading:l["x"],HmisHeader:m["a"],HmisTemplate:b["a"],HisStandardForm:p["a"],HisFooter:c["a"],IonPage:l["B"],IonContent:l["n"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},hmis15Data:{},btns:[],isLoading:!1,fields:[],reportID:-1,periodLabel:"Period",periodDates:"",reportName:"HMIS 17",TotalOPDVisits:0,clinicName:u["a"].getLocationName(),reportReady:!1}},created:function(){this.btns=this.getBtns(),this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var r=arguments,n=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var a,i,s;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return a=r.length>2&&void 0!==r[2]&&r[2],n.componentKey+=1,n.formData=e,n.computedFormData=t,n.reportReady=!0,n.isLoading=!0,n.report=new u["a"],n.report.setRegenerate(a),n.report.setStartDate(f["a"].toStandardHisFormat(t.start_date)),n.report.setEndDate(f["a"].toStandardHisFormat(t.end_date)),n.periodDates=n.report.getReportPeriod(),o.prev=11,o.next=14,n.report.requestHMIS17();case 14:return i=o.sent,o.next=17,n.report.getClinicRegistrations();case 17:s=o.sent,i&&s&&(n.reportID="data",n.TotalOPDVisits=s.length,n.hmis15Data=i),o.next=24;break;case 21:o.prev=21,o.t0=o["catch"](11),console.log(o.t0);case 24:return o.prev=24,n.isLoading=!1,o.finish(24);case 27:case"end":return o.stop()}}),o,null,[[11,21,24,27]])})))()},getBtns:function(){var e=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$refs.rep,r.onDownload();case 2:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return e.exportToCustomPDF(e.reportName)}},{name:"Back",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return e.reportReady=!1}},{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPeriod(e.formData,e.computedFormData,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return e.$router.push({path:"/"})}}]}}}),D=r("d959"),O=r.n(D);const g=O()(h,[["render",i]]);t["default"]=g}}]);
//# sourceMappingURL=chunk-2d0ddf11.ce026542.js.map