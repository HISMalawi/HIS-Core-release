{"version":3,"sources":["webpack:///./src/components/FormElements/FieldMixin.vue","webpack:///./src/components/FormElements/FieldMixin.vue?54d8","webpack:///./src/components/FormElements/HisLabOrders.vue?83ca","webpack:///./src/components/DataViews/LabOrderModal.vue?25fe","webpack:///./src/components/DataViews/LabOrderModal.vue","webpack:///./src/components/DataViews/LabOrderModal.vue?f7ba","webpack:///./src/components/FormElements/HisLabOrders.vue?9bda","webpack:///./src/components/FormElements/HisLabOrders.vue","webpack:///./src/components/FormElements/HisLabOrders.vue?60d6","webpack:///./src/components/DataViews/LabOrderModal.vue?8bed"],"names":["defineComponent","emits","props","config","type","Object","default","preset","label","value","defaultValue","Function","fdata","required","cdata","options","activationState","String","onValue","onValueUpdate","footerButtonEvent","__exports__","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","style","background","height","_hoisted_5","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_title","_resolveComponent","_component_ion_toolbar","_component_ion_header","_component_ion_label","_component_ion_checkbox","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_radio","_component_ion_radio_group","_component_ion_button","_component_ion_row","_component_ion_grid","_component_ion_content","_component_ion_footer","_openBlock","_createElementBlock","_Fragment","_createVNode","_withCtx","_createTextVNode","_","size","overflowY","_renderList","testTypes","data","index","_createBlock","key","disabled","activeIndex","isOrderComplete","detail","_toDisplayString","name","modelValue","isChecked","$event","slot","onIonChange","e","onSelectTest","selectedOrders","length","extendedLabsEnabled","_createCommentVNode","specimens","onClick","addSpecimen","testReasons","finalOrders","specimen","reason","removeOrder","currentIndex","color","postActivities","closeModal","activities","testFilters","Array","title","watch","handler","this","appActivities","getActivities","immediate","ART_GLOBAL_PROP","extendedLabEnabled","methods","testName","event","$nextTick","async","target","checked","OrderService","getSpecimens","tests","getTestTypes","vlIndex","findIndex","viralLoad","splice","sorted","sort","a","b","toUpperCase","filter","t","isArray","includes","concept_id","patientID","$route","params","patient_id","orders","LabOrderService","parseInt","encounter","createEncounter","formattedOrders","buildLabOrders","d","saveOrdersArray","encounter_id","toastWarning","Store","invalidate","canPrintOrders","alertConfirmation","confirmBtnLabel","cancelBtnLabel","printOrders","modalController","dismiss","p","PrintoutService","forEach","url","element","order_id","printLbl","computed","match","reasons","concat","mounted","content","components","IonButton","IonContent","IonHeader","IonTitle","IonToolbar","IonLabel","IonList","IonItem","IonCheckbox","IonRadioGroup","IonRow","_component_view_port","rows","fill","printOrder","accession_number","test_name","ordered","result","i","released","_normalizeStyle","result_given","ViewPort","mixins","FieldMixinVue","HisDate","$emit","items","other","values","map","o","id","toStandardHisDisplayFormat","ok","formatOrders","rawOrders","order_date","filters","modal","create","component","LabOrderModal","backdropDismiss","cssClass","componentProps","present","onDidDismiss","isEmpty","init","activated"],"mappings":"0LAIeA,+BAAgB,CAC3BC,MAAO,CACH,UACA,oBAEJC,MAAO,CACHC,OAAQ,CACJC,KAAMC,OACNC,QAAS,KAAM,KAEnBC,OAAQ,CACJH,KAAMC,OACNC,QAAS,KAAM,CACXE,MAAO,GACPC,MAAO,MAGfC,aAAc,CACVN,KAAMO,UAEVC,MAAO,CACHR,KAAMC,OACNQ,UAAU,GAEdC,MAAO,CACHV,KAAMC,OACNQ,UAAU,GAEdE,QAAS,CACLX,KAAMO,SACNL,QAAS,IAAO,IAEpBU,gBAAiB,CACbZ,KAAMa,OACNX,QAAS,IAEbY,QAAS,CACLd,KAAMO,UAEVQ,cAAe,CACXf,KAAMO,UAEVS,kBAAmB,CACfhB,KAAMC,WC5ClB,MAAMgB,EAAc,EAEL,gB,2DCLf,W,kDCEA,MAAMC,EAAeC,IAAMC,yBAAa,mBAAmBD,EAAEA,IAAIE,0BAAcF,GACzEG,EAAa,CAAEC,MAAO,qBACtBC,EAA2BN,EAAa,IAAmBO,gCAAoB,MAAO,CAAEF,MAAO,0BAA4B,qBAAsB,IACjJG,EAA2BR,EAAa,IAAmBO,gCAAoB,MAAO,CAAEF,MAAO,0BAA4B,yBAA0B,IACrJI,EAAa,CAAEC,MAAO,CAACC,WAAY,cAAeC,OAAQ,SAC1DC,EAAa,CAAER,MAAO,eACtBS,EAA2Bd,EAAa,IAAmBO,gCAAoB,QAAS,KAAM,CACrFA,gCAAoB,KAAM,KAAM,CAC9BA,gCAAoB,KAAM,KAAM,QAChCA,gCAAoB,KAAM,KAAM,YAChCA,gCAAoB,KAAM,KAAM,UAChCA,gCAAoB,KAAM,KAAM,cAE7C,IAEE,SAAUQ,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMC,EAAuBC,8BAAkB,aACzCC,EAAyBD,8BAAkB,eAC3CE,EAAwBF,8BAAkB,cAC1CG,EAAuBH,8BAAkB,aACzCI,EAA0BJ,8BAAkB,gBAC5CK,EAAsBL,8BAAkB,YACxCM,EAAsBN,8BAAkB,YACxCO,EAAqBP,8BAAkB,WACvCQ,EAAuBR,8BAAkB,aACzCS,EAA6BT,8BAAkB,mBAC/CU,EAAwBV,8BAAkB,cAC1CW,EAAqBX,8BAAkB,WACvCY,EAAsBZ,8BAAkB,YACxCa,EAAyBb,8BAAkB,eAC3Cc,EAAwBd,8BAAkB,cAEhD,OAAQe,yBAAcC,gCAAoBC,cAAW,KAAM,CACzDC,yBAAahB,EAAuB,KAAM,CACxCzC,QAAS0D,qBAAS,IAAM,CACtBD,yBAAajB,EAAwB,KAAM,CACzCxC,QAAS0D,qBAAS,IAAM,CACtBD,yBAAanB,EAAsB,CAAEjB,MAAO,eAAiB,CAC3DrB,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiB,gBAEnBC,EAAG,MAGPA,EAAG,MAGPA,EAAG,IAELH,yBAAaL,EAAwB,CAAE1B,MAAO,CAAC,SAAW,SAAS,WAAa,OAAO,OAAS,SAAW,CACzG1B,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaN,EAAqB,KAAM,CACtCnD,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaP,EAAoB,KAAM,CACrClD,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaX,EAAoB,CAAEe,KAAM,KAAO,CAC9C7D,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaZ,EAAqB,CAAEnB,MAAO,CAACoC,UAAW,OAAQlC,OAAO,SAAW,CAC/E5B,QAAS0D,qBAAS,IAAM,EACrBJ,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAY/B,EAAKgC,UAAW,CAACC,EAAMC,KACjFZ,yBAAca,yBAAavB,EAAqB,CACtDvB,MAAO,cACP+C,IAAKH,EACLI,SAA+B,OAArBrC,EAAKsC,aAAwBtC,EAAKsC,cAAgBJ,IAAUlC,EAAKuC,gBAC3EC,OAAQ,IACP,CACDxE,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaf,EAAsB,CAAE,YAAa,IAAM,CACtD1C,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiBc,6BAAiBR,EAAKS,MAAO,KAEhDd,EAAG,GACF,MACHH,yBAAad,EAAyB,CACpCgC,WAAYV,EAAKW,UACjB,sBAAwBC,GAAkBZ,EAAKW,UAAaC,EAC5DC,KAAM,QACNC,YAAcC,GAAMhD,EAAKiD,aAAahB,EAAKS,KAAMR,EAAOc,IACvD,KAAM,EAAG,CAAC,aAAc,sBAAuB,kBAEpDpB,EAAG,GACF,KAAM,CAAC,eACR,QAENA,EAAG,MAGPA,EAAG,IAEgB,MAApB5B,EAAKsC,aAAuBtC,EAAKkD,eAAeC,OAAS,GACrD7B,yBAAca,yBAAarB,EAAoB,CAC9CsB,IAAK,EACL1C,MAAO,CAACoC,UAAW,OAAQlC,OAAO,SACjC,CACD5B,QAAS0D,qBAAS,IAAM,CACtBnC,gCAAoB,MAAOH,EAAY,CACnCY,EAAKoD,oBAiCHC,gCAAoB,IAAI,IAhCvB/B,yBAAca,yBAAatB,EAAqB,CAAEuB,IAAK,GAAK,CAC3DpE,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaT,EAA4B,CACvC2B,WAAY3C,EAAKgC,UAAUhC,EAAKsC,aAAa,YAC7C,sBAAuBrC,EAAO,KAAOA,EAAO,GAAM4C,GAAkB7C,EAAKgC,UAAUhC,EAAKsC,aAAa,YAAeO,IACnH,CACD7E,QAAS0D,qBAAS,IAAM,CACtBpC,GACCgC,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAY/B,EAAKsD,UAAYrB,IAC3EX,yBAAca,yBAAavB,EAAqB,CAAEwB,IAAKH,GAAQ,CACrEjE,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaf,EAAsB,KAAM,CACvC1C,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiBc,6BAAiBR,EAAKS,MAAO,KAEhDd,EAAG,GACF,MACHH,yBAAaV,EAAsB,CACjC+B,KAAM,QACN3E,MAAO8D,EAAKS,KACZa,QAAUV,GAAiB7C,EAAKwD,YAAYvB,IAC3C,KAAM,EAAG,CAAC,QAAS,cAExBL,EAAG,GACF,QACD,QAENA,EAAG,GACF,EAAG,CAAC,iBAETA,EAAG,KAGTH,yBAAaT,EAA4B,CACvC2B,WAAY3C,EAAKgC,UAAUhC,EAAKsC,aAAa,UAC7C,sBAAuBrC,EAAO,KAAOA,EAAO,GAAM4C,GAAkB7C,EAAKgC,UAAUhC,EAAKsC,aAAa,UAAaO,IACjH,CACD7E,QAAS0D,qBAAS,IAAM,CACtBlC,GACC8B,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAY/B,EAAKyD,YAAcxB,IAC7EX,yBAAca,yBAAavB,EAAqB,CACtDvB,MAAO,cACP+C,IAAKH,GACJ,CACDjE,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaf,EAAsB,KAAM,CACvC1C,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiBc,6BAAiBR,GAAO,KAE3CL,EAAG,GACF,MACHH,yBAAaV,EAAsB,CACjC+B,KAAM,QACN3E,MAAO8D,GACN,KAAM,EAAG,CAAC,YAEfL,EAAG,GACF,QACD,QAENA,EAAG,GACF,EAAG,CAAC,iBAETrC,gCAAoB,MAAOE,EAAY,CACrCF,gCAAoB,QAASM,EAAY,CACvCC,EACAP,gCAAoB,QAAS,KAAM,EAChC+B,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAY/B,EAAK0D,YAAa,CAACzB,EAAMC,KACnFZ,yBAAcC,gCAAoB,KAAM,CAAEa,IAAKF,GAAS,CAC9D3C,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAKS,MAAO,GAC7DnD,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAK0B,UAAY,OAAQ,GAC1EpE,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAK2B,QAAS,GAC/DrE,gCAAoB,KAAM,KAAM,CAC9BkC,yBAAaR,EAAuB,CAClCsC,QAAUV,GAAiB7C,EAAK6D,YAAY5B,EAAK6B,cACjDhB,KAAM,MACNiB,MAAO,UACN,CACD/F,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiB,OAEnBC,EAAG,GACF,KAAM,CAAC,kBAGZ,cAKZA,EAAG,KAELyB,gCAAoB,IAAI,KAE9BzB,EAAG,MAGPA,EAAG,MAGPA,EAAG,IAELH,yBAAaJ,EAAuB,KAAM,CACxCrD,QAAS0D,qBAAS,IAAM,CACtBD,yBAAajB,EAAwB,KAAM,CACzCxC,QAAS0D,qBAAS,IAAM,CACtBD,yBAAaR,EAAuB,CAClCsC,QAASvD,EAAKgE,eACdnC,KAAM,QACNiB,KAAM,MACNT,SAAsC,IAA5BrC,EAAK0D,YAAYP,QAC1B,CACDnF,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiB,oBAEnBC,EAAG,GACF,EAAG,CAAC,UAAW,aAClBH,yBAAaR,EAAuB,CAClCsC,QAAStD,EAAO,KAAOA,EAAO,GAAM4C,GAAiB7C,EAAKiE,WAAW,KACrEpC,KAAM,QACNiB,KAAM,QACNiB,MAAO,UACN,CACD/F,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiB,aAEnBC,EAAG,MAGPA,EAAG,MAGPA,EAAG,KAEJ,I,oGChNUlE,+BAAgB,CAC7BgF,KAAM,QACN9E,MAAO,CACLsG,WAAY,CACVpG,KAAMC,OACNQ,UAAU,GAEZ4F,YAAa,CACXrG,KAAMsG,OAERC,MAAO,CACLvG,KAAMa,OACNX,QAAS,KAGbsG,MAAO,CACLJ,WAAY,CACVK,QAAQL,GACFA,IACFM,KAAKC,cAAgB,IAAIP,GACzBM,KAAKE,kBAGTC,WAAW,IAGf,gBACEH,KAAKpB,0BAA4BwB,OAAgBC,sBAEnDC,QAAS,CACP,mBAAmBC,EAAkB7C,EAAe8C,GAClDR,KAAKS,UAAUC,UACbV,KAAKxC,UAAUE,GAAO,aAAe8C,EAAMG,OAAOC,QAC/CZ,KAAKxC,UAAUE,GAAO,cACvBsC,KAAKlB,gBAAkB+B,OAAaC,aAAaP,GACjDP,KAAKxC,UAAUE,GAAO,gBAAkBA,EACxCsC,KAAKlC,YAAcJ,GAEnBsC,KAAKX,YAAY3B,MAIvB,sBACE,MAAMqD,QAA0BF,OAAaG,eACvCC,EAAUC,uBAAUH,EAAO,CAAC7C,KAAM,mBAClCiD,GAAyB,IAAbF,EAAiBF,EAAMK,OAAOH,EAAS,GAAK,KACxDI,EAASN,EAAMO,KAAK,CAACC,EAAQC,KAAW,GAAGD,EAAErD,MAAOuD,eAAgB,GAAGD,EAAEtD,MAAOuD,cAAgB,GAAI,GACvGC,OAAQC,IAAW/B,MAAMgC,QAAQ5B,KAAKL,cAAeK,KAAKL,YAAYkC,SAASF,EAAEzD,OACpF8B,KAAKxC,UAAY2D,EAAY,IAAIA,KAAcE,GAAUA,GAE3DhC,YAAY3B,GACVsC,KAAKxC,UAAUE,GAAO,cAAe,EACrCsC,KAAKxC,UAAUE,GAAO,UAAY,KAClCsC,KAAKxC,UAAUE,GAAO,YAAc,KACpCsC,KAAKxC,UAAUE,GAAO,mBAAqB,KAC3CsC,KAAKlC,YAAc,KACnBkC,KAAKlB,UAAY,IAEnBE,YAAYvB,GACVuC,KAAKxC,UAAUwC,KAAKlC,aAAa,mBAAqBL,EAAKqE,YAE7D,uBACE,MAAMC,EAAW,GAAG/B,KAAKgC,OAAOC,OAAOC,WACjCC,EAAS,IAAIC,OAAgBC,SAASN,IAAa,GACnDO,QAAkBH,EAAOI,kBAE/B,GAAGD,EAAW,CACZ,MAAME,QAAwB3B,OAAa4B,eAAeH,EAAWtC,KAAKd,aACpEwD,QAAU7B,OAAa8B,gBAAgBL,EAAUM,aAAcJ,GAErE,IAAIE,EAAG,OAAOG,eAAa,6BAE3BC,OAAMC,WAAW,sBACjB,MAAMC,QAAuBC,eAAkB,iEAAkE,CAC/GC,gBAAiB,MACjBC,eAAgB,OAEfH,QAAsBhD,KAAKoD,YAAYV,SAC/B1C,KAAKP,WAAWiD,KAG/B,iBAAiBP,SACTkB,QAAgBC,QAAQnB,IAEhC,kBAAkBA,GAChB,MAAMoB,EAAI,IAAIC,aACRrB,EAAOsB,QAAQ/C,UACnB,MAAMgD,EAAM,6BAA6BC,EAAQC,eAC3CL,EAAEM,SAASH,WAEbL,QAAgBC,QAAQnB,KAGlC2B,SAAU,CACR/F,kBACE,OAAGiC,KAAKpB,sBACGoB,KAAKxC,UAAUwC,KAAKlC,aAAa,WAEpCkC,KAAKxC,UAAUwC,KAAKlC,aAAa,oBAAsBkC,KAAKxC,UAAUwC,KAAKlC,aAAa,cAC3FkC,KAAKxC,UAAUwC,KAAKlC,aAAa,WAExCY,iBACE,OAAOsB,KAAKxC,UAAUkE,OAAQjE,IAAiC,IAAnBA,EAAKW,YAEnDc,cACE,OAAOc,KAAKtB,eAAegD,OAAQjE,GAC1BA,EAAK2B,SAAW3B,EAAK0B,WAAaa,KAAKpB,qBACzCoB,KAAKpB,uBAGdK,cACE,OAAOe,KAAKxC,UAAUwC,KAAKlC,aAAaI,KAAK6F,MAAM,eAC/C/D,KAAKgE,QAAQC,OAAO,CAAC,oCAAqC,oCAC1DjE,KAAKgE,UAGbE,UACElE,KAAKE,iBAEPzC,OACE,MAAO,CACL0G,QAAS,UACTvF,qBAAqB,EACrBqB,cAAe,GACfzC,UAAW,GACXsB,UAAW,GACXkF,QAAS,CAAC,UAAW,WAAY,eAAgB,OAAQ,oBACzDlG,YAAa,OAGjBsG,WAAY,CACVC,iBACAC,kBACAC,iBACAC,gBACAC,kBACAC,gBACAC,eACAC,eACAC,mBACAC,qBACAC,iB,iCC/JJ,MAAMxK,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASgB,GAAQ,CAAC,YAAY,qBAE1E,U,yDCPf,MAAMf,EAAeC,IAAMC,yBAAa,mBAAmBD,EAAEA,IAAIE,0BAAcF,GACzEG,EAAa,CAAEC,MAAO,qBACtBC,EAAa,CAAED,MAAO,eACtBG,EAA2BR,EAAa,IAAmBO,gCAAoB,KAAM,KAAM,CAClFA,gCAAoB,KAAM,KAAM,eAChCA,gCAAoB,KAAM,KAAM,aAChCA,gCAAoB,KAAM,KAAM,YAChCA,gCAAoB,KAAM,KAAM,WAChCA,gCAAoB,KAAM,KAAM,UAChCA,gCAAoB,KAAM,KAAM,YAChCA,gCAAoB,KAAM,KAAM,WAC3C,IACEE,EAA2BT,EAAa,IAAmBO,gCAAoB,KAAM,KAAM,MAAO,IAElG,SAAUQ,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,MAAMY,EAAwBV,8BAAkB,cAC1CiJ,EAAuBjJ,8BAAkB,aAE/C,OAAQe,yBAAca,yBAAaqH,EAAsB,KAAM,CAC7DxL,QAAS0D,qBAAS,IAAM,CACtBnC,gCAAoB,MAAOH,EAAY,CACrCG,gCAAoB,QAASD,EAAY,CACvCE,GACC8B,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAY/B,EAAKyJ,KAAM,CAACxH,EAAMC,KAC5EZ,yBAAcC,gCAAoB,KAAM,CAAEa,IAAKF,GAAS,CAC9D3C,gCAAoB,KAAM,KAAM,CAC9BkC,yBAAaR,EAAuB,CAClC8C,MAAO,QACP2F,KAAM,OACNnG,QAAUV,GAAiB7C,EAAK2J,WAAW1H,IAC1C,CACDjE,QAAS0D,qBAAS,IAAM,CACtBC,6BAAiBc,6BAAiBR,EAAK2H,kBAAmB,KAE5DhI,EAAG,GACF,KAAM,CAAC,cAEZrC,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAK4H,WAAY,GAClEtK,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAK0B,UAAW,GACjEpE,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAK6H,SAAU,GAChEvK,gCAAoB,KAAM,KAAM,EAC7B+B,wBAAW,GAAOC,gCAAoBC,cAAW,KAAMO,wBAAYE,EAAK8H,OAAQ,CAAC7C,EAAG8C,KAC3E1I,yBAAcC,gCAAoB,OAAQ,CAAEa,IAAK4H,GAAK,CAC5DrI,6BAAiBc,6BAAiByE,GAAK,IAAK,GAC5CzH,MAEA,QAENF,gCAAoB,KAAM,KAAMkD,6BAAiBR,EAAKgI,UAAW,GACjE1K,gCAAoB,KAAM,KAAM,CAC9BA,gCAAoB,OAAQ,CAC1BG,MAAOwK,4BAAgB,WAAgC,QAAtBjI,EAAKkI,aAAyB,SAAW,YACzE1H,6BAAiBR,EAAKkI,cAAe,SAG1C,YAIVvI,EAAG,I,wFCnDQlE,+BAAgB,CAC7BkL,WAAY,CAAEwB,gBAAUvB,kBACxBwB,OAAQ,CAACC,cACTrI,KAAM,KAAM,CACVsI,eACAd,KAAM,KAER3E,QAAS,CACP,aACEN,KAAKgG,MAAM,mBAAoBhG,MAC7B,MAAMiG,QAAcjG,KAAK/F,QAAQ+F,KAAKlG,OAChCmL,EAAOgB,EAAM,GAAGC,MAAMC,OAC5BnG,KAAKiF,KAAOA,EAAKmB,IAAKC,IACpBA,EAAEC,GAAKD,EAAEzC,SACLyC,EAAEf,UACJe,EAAEf,QAAUS,OAAQQ,2BAA2BF,EAAEf,UAE/Ce,EAAEZ,WACJY,EAAEZ,SAAWM,OAAQQ,2BAA2BF,EAAEZ,WAE7CY,KAGb,iBAAiB5I,GAAS,MACxB,GAAuC,oBAAjB,QAAlB,EAAOuC,KAAK3G,cAAM,aAAX,EAAa8L,YAA2B,CACjD,MAAMqB,QAAWvD,eAAkB,oDAAoDxF,EAAK2H,qBACxFoB,GAAIxG,KAAK3G,OAAO8L,WAAW1H,EAAK6I,MAGxCG,aAAaC,GACX,OAAOA,EAAUN,IAAK1D,IAAM,CACxB,GAAMA,EAAEkB,SACR,aAAgBlB,EAAEE,aAClB,aAAgBF,EAAEiD,aAClB,iBAAoBjD,EAAE0C,iBACtB,UAAa1C,EAAE3B,MAAM,GAAG7C,KACxB,SAAYwE,EAAEvD,SAASjB,KACvB,QAAW6H,OAAQQ,2BAA2B7D,EAAEiE,YAChD,OAAU,GACV,QAAW,OAGjB,2BAA2BC,EAAQ,MACjC,MAAMC,QAAcxD,QAAgByD,OAAO,CACzCC,UAAWC,OACXC,iBAAiB,EACjBC,SAAU,cACVC,eAAgB,CACdxH,YAAaiH,KAGjBC,EAAMO,UACN,MAAM,KAAE3J,SAAeoJ,EAAMQ,eACxBC,qBAAQ7J,KACXuC,KAAKiF,KAAO,IAAIjF,KAAKyG,aAAahJ,MAAUuC,KAAKiF,SAIvDf,UACElE,KAAKuH,QAEPC,YACCxH,KAAKuH,U,iCCjER,MAAMhN,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASgB,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/TouchFormElement32.e3aa2498.js","sourcesContent":["\nimport { isPlatform } from '@ionic/core'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n    emits: [\n        'onValue',\n        'onFieldActivated'\n    ],\n    props: {\n        config: {\n            type: Object,\n            default: () => ({})\n        },\n        preset: {\n            type: Object,\n            default: () => ({\n                label: '',\n                value: ''\n            })\n        },\n        defaultValue: {\n            type: Function\n        },\n        fdata: {\n            type: Object,\n            required: true\n        },\n        cdata: {\n            type: Object,\n            required: true\n        },\n        options: {\n            type: Function,\n            default: () => ([])\n        },\n        activationState: {\n            type: String,\n            default: ''\n        },\n        onValue: {\n            type: Function\n        },\n        onValueUpdate: {\n            type: Function\n        },\n        footerButtonEvent: {\n            type: Object\n        }\n    }\n})\n","import script from \"./FieldMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./FieldMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HisLabOrders.vue?vue&type=style&index=0&id=356b70ce&scoped=true&lang=css\"","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-bd0a6c2e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"ion-margin-bottom\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"his-md-text side-title\" }, \" Select specimen \", -1))\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"his-md-text side-title\" }, \" Main test(s) reason \", -1))\nconst _hoisted_4 = { style: {background: 'lightyellow', height: '34vh'} }\nconst _hoisted_5 = { class: \"his-sm-text\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [\n  /*#__PURE__*/_createElementVNode(\"tr\", null, [\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Test\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Specimen\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Reason\"),\n    /*#__PURE__*/_createElementVNode(\"th\", null, \"Action\")\n  ])\n], -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_ion_col = _resolveComponent(\"ion-col\")!\n  const _component_ion_radio = _resolveComponent(\"ion-radio\")!\n  const _component_ion_radio_group = _resolveComponent(\"ion-radio-group\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_row = _resolveComponent(\"ion-row\")!\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, { class: \"his-lg-text\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(\"Lab orders\")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: {\"overflow\":\"hidden\",\"background\":\"grey\",\"height\":\"70vh\"} }, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_grid, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_row, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_ion_col, { size: \"6\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_list, { style: {overflowY: 'auto', height:'75vh'} }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.testTypes, (data, index) => {\n                          return (_openBlock(), _createBlock(_component_ion_item, {\n                            class: \"his-sm-text\",\n                            key: data,\n                            disabled: _ctx.activeIndex !== null && _ctx.activeIndex !== index && !_ctx.isOrderComplete,\n                            detail: \"\"\n                          }, {\n                            default: _withCtx(() => [\n                              _createVNode(_component_ion_label, { \"text-wrap\": \"\" }, {\n                                default: _withCtx(() => [\n                                  _createTextVNode(_toDisplayString(data.name), 1)\n                                ]),\n                                _: 2\n                              }, 1024),\n                              _createVNode(_component_ion_checkbox, {\n                                modelValue: data.isChecked,\n                                \"onUpdate:modelValue\": ($event: any) => ((data.isChecked) = $event),\n                                slot: \"start\",\n                                onIonChange: (e) => _ctx.onSelectTest(data.name, index, e)\n                              }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"onIonChange\"])\n                            ]),\n                            _: 2\n                          }, 1032, [\"disabled\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                (_ctx.activeIndex != null && _ctx.selectedOrders.length > 0)\n                  ? (_openBlock(), _createBlock(_component_ion_col, {\n                      key: 0,\n                      style: {overflowY: 'auto', height:'79vh'}\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                          (!_ctx.extendedLabsEnabled)\n                            ? (_openBlock(), _createBlock(_component_ion_list, { key: 0 }, {\n                                default: _withCtx(() => [\n                                  _createVNode(_component_ion_radio_group, {\n                                    modelValue: _ctx.testTypes[_ctx.activeIndex]['specimen'],\n                                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.testTypes[_ctx.activeIndex]['specimen']) = $event))\n                                  }, {\n                                    default: _withCtx(() => [\n                                      _hoisted_2,\n                                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.specimens, (data) => {\n                                        return (_openBlock(), _createBlock(_component_ion_item, { key: data }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_ion_label, null, {\n                                              default: _withCtx(() => [\n                                                _createTextVNode(_toDisplayString(data.name), 1)\n                                              ]),\n                                              _: 2\n                                            }, 1024),\n                                            _createVNode(_component_ion_radio, {\n                                              slot: \"start\",\n                                              value: data.name,\n                                              onClick: ($event: any) => (_ctx.addSpecimen(data))\n                                            }, null, 8, [\"value\", \"onClick\"])\n                                          ]),\n                                          _: 2\n                                        }, 1024))\n                                      }), 128))\n                                    ]),\n                                    _: 1\n                                  }, 8, [\"modelValue\"])\n                                ]),\n                                _: 1\n                              }))\n                            : _createCommentVNode(\"\", true),\n                          _createVNode(_component_ion_radio_group, {\n                            modelValue: _ctx.testTypes[_ctx.activeIndex]['reason'],\n                            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.testTypes[_ctx.activeIndex]['reason']) = $event))\n                          }, {\n                            default: _withCtx(() => [\n                              _hoisted_3,\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.testReasons, (data) => {\n                                return (_openBlock(), _createBlock(_component_ion_item, {\n                                  class: \"his-sm-text\",\n                                  key: data\n                                }, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_ion_label, null, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(_toDisplayString(data), 1)\n                                      ]),\n                                      _: 2\n                                    }, 1024),\n                                    _createVNode(_component_ion_radio, {\n                                      slot: \"start\",\n                                      value: data\n                                    }, null, 8, [\"value\"])\n                                  ]),\n                                  _: 2\n                                }, 1024))\n                              }), 128))\n                            ]),\n                            _: 1\n                          }, 8, [\"modelValue\"])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_4, [\n                          _createElementVNode(\"table\", _hoisted_5, [\n                            _hoisted_6,\n                            _createElementVNode(\"tbody\", null, [\n                              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.finalOrders, (data, index) => {\n                                return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.name), 1),\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.specimen || 'N/A'), 1),\n                                  _createElementVNode(\"td\", null, _toDisplayString(data.reason), 1),\n                                  _createElementVNode(\"td\", null, [\n                                    _createVNode(_component_ion_button, {\n                                      onClick: ($event: any) => (_ctx.removeOrder(data.currentIndex)),\n                                      slot: \"end\",\n                                      color: \"danger\"\n                                    }, {\n                                      default: _withCtx(() => [\n                                        _createTextVNode(\"X\")\n                                      ]),\n                                      _: 2\n                                    }, 1032, [\"onClick\"])\n                                  ])\n                                ]))\n                              }), 128))\n                            ])\n                          ])\n                        ])\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.postActivities,\n              size: \"large\",\n              slot: \"end\",\n              disabled: _ctx.finalOrders.length === 0\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Place orders \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\", \"disabled\"]),\n            _createVNode(_component_ion_button, {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.closeModal([]))),\n              size: \"large\",\n              slot: \"start\",\n              color: \"danger\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Close \")\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","\nimport {\n  IonContent,\n  IonButton,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonLabel,\n  modalController,\n  IonList,\n  IonItem,\n  IonCheckbox,\n  IonRadioGroup,\n  IonRow,\n} from \"@ionic/vue\";\nimport { defineComponent, PropType } from \"vue\";\nimport { alertConfirmation, toastWarning } from \"@/utils/Alerts\"\nimport { ActivityInterface } from \"@/apps/interfaces/AppInterface\"\nimport { OrderService } from \"@/services/order_service\";\nimport { LabOrderService } from \"@/apps/ART/services/lab_order_service\";\nimport { PrintoutService } from \"@/services/printout_service\";\nimport ART_GLOBAL_PROP from \"@/apps/ART/art_global_props\"\nimport Store from \"@/composables/ApiStore\"\nimport { find, findIndex } from \"lodash\";\n\nexport default defineComponent({\n  name: \"Modal\",\n  props: {\n    activities: {\n      type: Object as PropType<ActivityInterface[]>,\n      required: true\n    },\n    testFilters: {\n      type: Array    \n    },\n    title: {\n      type: String, \n      default: \"\"\n    },\n  },\n  watch: {\n    activities: {\n      handler(activities: Array<ActivityInterface>){\n        if (activities) {\n          this.appActivities = [...activities]\n          this.getActivities();\n        }\n      },\n      immediate: true\n    }\n  },\n  async created() {\n    this.extendedLabsEnabled = await ART_GLOBAL_PROP.extendedLabEnabled()\n  },\n  methods: {\n    async onSelectTest(testName: string, index: number, event: any) {\n      this.$nextTick(async () => {\n        this.testTypes[index]['isChecked'] = event.target.checked;\n        if(this.testTypes[index]['isChecked']){\n          this.specimens = await OrderService.getSpecimens(testName);\n          this.testTypes[index]['currentIndex'] = index;\n          this.activeIndex = index;\n        } else {\n          this.removeOrder(index)\n        }\n      })\n    },\n    async getActivities() {\n      const tests: Array<any> = await OrderService.getTestTypes();\n      const vlIndex = findIndex(tests, {name: \"HIV viral load\"})\n      const viralLoad = vlIndex !== -1 ? tests.splice(vlIndex, 1) : null;\n      const sorted = tests.sort((a: any, b: any) => `${a.name}`.toUpperCase() > `${b.name}`.toUpperCase() ? 1: -1)\n        .filter((t: any) => Array.isArray(this.testFilters) ? this.testFilters.includes(t.name) : true)\n      this.testTypes = viralLoad ? [...viralLoad, ...sorted] : sorted\n    },\n    removeOrder(index: number) {\n      this.testTypes[index]['isChecked'] = false;\n      this.testTypes[index]['reason'] = null;\n      this.testTypes[index]['specimen'] = null;\n      this.testTypes[index]['specimenConcept'] = null\n      this.activeIndex = null\n      this.specimens = []\n    },\n    addSpecimen(data: any) {\n      this.testTypes[this.activeIndex]['specimenConcept'] = data.concept_id;\n    },\n    async postActivities() {\n      const patientID= `${this.$route.params.patient_id}`;\n      const orders = new LabOrderService(parseInt(patientID), -1); //TODO: get selected provider for this encounter\n      const encounter = await orders.createEncounter();\n\n      if(encounter) {\n        const formattedOrders = await OrderService.buildLabOrders(encounter, this.finalOrders);\n        const d =await  OrderService.saveOrdersArray(encounter.encounter_id, formattedOrders);\n        \n        if(!d) return toastWarning('Unable to save lab orders')\n\n        Store.invalidate('PATIENT_LAB_ORDERS')\n        const canPrintOrders = await alertConfirmation('Lab orders and encounter created!, print out your last orders?', { \n          confirmBtnLabel: 'Yes',\n          cancelBtnLabel: 'No'\n        })\n        if(canPrintOrders) await this.printOrders(d)\n        else await this.closeModal(d)\n      }\n    },\n    async closeModal(orders: []) {\n      await modalController.dismiss(orders)\n    },\n    async printOrders(orders: any) {\n      const p = new PrintoutService();\n      await orders.forEach(async (element: any) => {\n        const url = `lab/labels/order?order_id=${element.order_id}`\n        await p.printLbl(url);\n      });\n      await modalController.dismiss(orders)\n    },\n  },\n  computed: {\n    isOrderComplete(): boolean {\n      if(this.extendedLabsEnabled){\n        return !!this.testTypes[this.activeIndex]['reason'] \n      }\n      return (this.testTypes[this.activeIndex]['specimenConcept'] || this.testTypes[this.activeIndex]['specimen']) \n        && this.testTypes[this.activeIndex]['reason'] \n    },\n    selectedOrders(): any {\n      return this.testTypes.filter((data: any) => data.isChecked === true);\n    },\n    finalOrders(): any {\n      return this.selectedOrders.filter((data: any) => {\n        return data.reason && (data.specimen && !this.extendedLabsEnabled \n          || this.extendedLabsEnabled)\n      } )\n    },\n    testReasons(): Array<string> {\n      return this.testTypes[this.activeIndex].name.match(/Viral load/i)\n        ? this.reasons.concat(['Follow up after Low Level Viremia', 'Follow up after High Viral Load'])\n        : this.reasons\n    }\n  },\n  mounted() {\n    this.getActivities();\n  },\n  data() {\n    return {\n      content: \"Content\",\n      extendedLabsEnabled: false as boolean,\n      appActivities: [] as Array<ActivityInterface>,\n      testTypes: [] as any,\n      specimens: [],\n      reasons: ['Routine', 'Targeted', 'Confirmatory', 'Stat', 'Repeat / Missing'],\n      activeIndex: null as any\n    };\n  },\n  components: {\n    IonButton,\n    IonContent,\n    IonHeader,\n    IonTitle,\n    IonToolbar,\n    IonLabel,\n    IonList,\n    IonItem,\n    IonCheckbox,\n    IonRadioGroup,\n    IonRow,\n  },\n});\n","import { render } from \"./LabOrderModal.vue?vue&type=template&id=bd0a6c2e&scoped=true&ts=true\"\nimport script from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\nexport * from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\n\nimport \"./LabOrderModal.vue?vue&type=style&index=0&id=bd0a6c2e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/brian/projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bd0a6c2e\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeStyle as _normalizeStyle, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-356b70ce\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"view-port-content\" }\nconst _hoisted_2 = { class: \"his-sm-text\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"tr\", null, [\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Accession #\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Test Name\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Specimen\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Ordered\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Result\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Released\"),\n  /*#__PURE__*/_createElementVNode(\"th\", null, \"Given\")\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_view_port = _resolveComponent(\"view-port\")!\n\n  return (_openBlock(), _createBlock(_component_view_port, null, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"table\", _hoisted_2, [\n          _hoisted_3,\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.rows, (data, index) => {\n            return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n              _createElementVNode(\"td\", null, [\n                _createVNode(_component_ion_button, {\n                  color: \"light\",\n                  fill: \"none\",\n                  onClick: ($event: any) => (_ctx.printOrder(data))\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(data.accession_number), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              _createElementVNode(\"td\", null, _toDisplayString(data.test_name), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(data.specimen), 1),\n              _createElementVNode(\"td\", null, _toDisplayString(data.ordered), 1),\n              _createElementVNode(\"td\", null, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(data.result, (d, i) => {\n                  return (_openBlock(), _createElementBlock(\"span\", { key: i }, [\n                    _createTextVNode(_toDisplayString(d) + \" \", 1),\n                    _hoisted_4\n                  ]))\n                }), 128))\n              ]),\n              _createElementVNode(\"td\", null, _toDisplayString(data.released), 1),\n              _createElementVNode(\"td\", null, [\n                _createElementVNode(\"span\", {\n                  style: _normalizeStyle(`color: ${data.result_given === 'Yes' ? 'green;' : 'black;'}`)\n                }, _toDisplayString(data.result_given), 5)\n              ])\n            ]))\n          }), 128))\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent } from \"vue\";\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\";\nimport { modalController } from \"@ionic/vue\";\nimport LabOrderModal from \"@/components/DataViews/LabOrderModal.vue\"\nimport { isEmpty } from \"lodash\";\nimport FieldMixinVue from \"./FieldMixin.vue\";\nimport HisDate from \"@/utils/Date\"\nimport { IonButton } from \"@ionic/vue\"\nimport { alertConfirmation } from \"@/utils/Alerts\";\nexport default defineComponent({\n  components: { ViewPort, IonButton },\n  mixins: [FieldMixinVue],\n  data: () => ({\n    HisDate,\n    rows: [] as Array<any>,\n  }),\n  methods: {\n    async init() {\n      this.$emit('onFieldActivated', this)\n        const items = await this.options(this.fdata);\n        const rows = items[0].other.values;\n        this.rows = rows.map((o: any) => {\n          o.id = o.order_id\n          if (o.ordered) {\n            o.ordered = HisDate.toStandardHisDisplayFormat(o.ordered)\n          }\n          if (o.released) {\n            o.released = HisDate.toStandardHisDisplayFormat(o.released)\n          }\n          return o\n      })\n    },\n    async printOrder(data: any) {\n      if (typeof this.config?.printOrder === 'function') {\n        const ok = await alertConfirmation(`Do you want to print order with accession number ${data.accession_number}?`)\n        if (ok) this.config.printOrder(data.id)\n      }\n    },\n    formatOrders(rawOrders: Array<any>) {\n      return rawOrders.map((d: any) => ({\n          'id': d.order_id,\n          'encounter_id': d.encounter_id,\n          'result_given': d.result_given,\n          'accession_number': d.accession_number,\n          'test_name': d.tests[0].name,\n          'specimen': d.specimen.name,\n          'ordered': HisDate.toStandardHisDisplayFormat(d.order_date),\n          'result': [],\n          'release': ''\n      }))\n    },\n    async launchOrderSelection(filters=null) {\n      const modal = await modalController.create({\n        component: LabOrderModal,\n        backdropDismiss: false,\n        cssClass: 'large-modal',\n        componentProps: {\n          testFilters: filters\n        }\n      })\n      modal.present()\n      const { data } = await modal.onDidDismiss()\n      if (!isEmpty(data)) {\n        this.rows = [...this.formatOrders(data), ...this.rows]\n      }\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n   this.init()\n  }\n})\n","import { render } from \"./HisLabOrders.vue?vue&type=template&id=356b70ce&scoped=true&ts=true\"\nimport script from \"./HisLabOrders.vue?vue&type=script&lang=ts\"\nexport * from \"./HisLabOrders.vue?vue&type=script&lang=ts\"\n\nimport \"./HisLabOrders.vue?vue&type=style&index=0&id=356b70ce&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/brian/projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-356b70ce\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LabOrderModal.vue?vue&type=style&index=0&id=bd0a6c2e&scoped=true&lang=css\""],"sourceRoot":""}