(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfe33a92"],{7337:function(e,t,s){"use strict";s.r(t);var o=s("7a23");const a=Object(o["withScopeId"])("data-v-146a0e6b");Object(o["pushScopeId"])("data-v-146a0e6b");const c=Object(o["createVNode"])("h1",{class:"ion-text-center"}," High BP Alert ",-1),n={key:0,class:"vertically-align ion-text-center"},i={style:{"font-weight":"bold"}},r={class:"name"},l=Object(o["createTextVNode"])(" has "),d=Object(o["createTextVNode"])(" blood pressure of "),h={class:"bp"},p=Object(o["createVNode"])("br",null,null,-1),b=Object(o["createVNode"])("span",null,[Object(o["createTextVNode"])(" Retesting BP is "),Object(o["createVNode"])("span",{style:{"font-weight":"bold",color:"#000000","text-decoration":"underline"}},"optional"),Object(o["createTextVNode"])(". "),Object(o["createVNode"])("br"),Object(o["createTextVNode"])(" Do you want to test BP? ")],-1),u={key:1,class:"vertically-align ion-text-center"},O=Object(o["createTextVNode"])(" No BP Reading found "),j=Object(o["createVNode"])("br",null,null,-1),g=Object(o["createVNode"])("h1",null," Do you want to test BP? ",-1),B=Object(o["createTextVNode"])(" No "),m=Object(o["createTextVNode"])(" Yes ");Object(o["popScopeId"])();const y=a((function(e,t,s,y,N,w){const P=Object(o["resolveComponent"])("ion-content"),V=Object(o["resolveComponent"])("ion-button"),k=Object(o["resolveComponent"])("ion-toolbar"),f=Object(o["resolveComponent"])("ion-footer"),v=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(v,null,{default:a(()=>[Object(o["createVNode"])(P,null,{default:a(()=>[c,e.hasPressureReading?(Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[Object(o["withDirectives"])(Object(o["createVNode"])("h2",i," (Patient already on BP drugs) ",512),[[o["vShow"],e.patientOnBpDrugs]]),Object(o["createVNode"])("h2",null,[Object(o["createVNode"])("span",r,Object(o["toDisplayString"])(e.patientName),1),l,Object(o["withDirectives"])(Object(o["createVNode"])("span",null," a high ",512),[[o["vShow"],e.highBP]]),d,Object(o["createVNode"])("span",h,Object(o["toDisplayString"])(e.sysBp)+" / "+Object(o["toDisplayString"])(e.dsBP),1),p,b])])):Object(o["createCommentVNode"])("",!0),e.hasPressureReading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",u,[O,j,g]))]),_:1}),Object(o["createVNode"])(f,null,{default:a(()=>[Object(o["createVNode"])(k,{color:"dark"},{default:a(()=>[Object(o["createVNode"])(V,{onClick:t[1]||(t[1]=()=>e.hasPressureReading?e.showRiskFactors():e.nextTask()),size:"large",color:"danger",slot:"start"},{default:a(()=>[B]),_:1}),Object(o["createVNode"])(V,{onClick:e.recaptureBp,size:"large",color:"success",slot:"end"},{default:a(()=>[m]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}));var N=s("7365"),w=s("8a30"),P=s("d1ca"),V=s("32b3"),k=s("8158"),f=s("77fd"),v=s("7957"),D=s("2ef0"),T=Object(o["defineComponent"])({mixins:[N["a"]],components:{IonFooter:w["o"],IonContent:w["n"],IonPage:w["D"],IonButton:w["d"],IonToolbar:w["S"]},data:()=>({sysBp:0,dsBP:0,riskFactors:[],patientOnBpDrugs:!1,isPregnant:!1,systolicThreshold:145,diastolicTheshold:94}),methods:{async showRiskFactors(){const e=await w["Z"].create({component:f["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}});e.present();const{data:t}=await e.onDidDismiss();Object(D["isEmpty"])(t)||this.nextTask()},async getRiskFactors(){const e=k["a"].getConceptsByCategory("risk factors"),t=e.map(async e=>{const t=await v["a"].getFirstValueCoded(this.patientID,e.name);return{concept:e.name,value:t}});return Promise.all(t)},recaptureBp(){this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)}},watch:{ready:{async handler(e){if(!e)return;const t=await w["X"].create({message:"Verifying Blood Pressure...",backdropDismiss:!1});await t.present();const s=new V["a"](this.patientID,this.providerID);this.riskFactors=await this.getRiskFactors(),this.systolicThreshold=await P["b"].systolicThreshold()||145,this.diastolicTheshold=await P["b"].diastolicThreshold()||94,this.dsBP=await s.getDiastolicBp()||0,this.sysBp=await s.getSystolicBp()||0,this.patientOnBpDrugs=await s.onBpDrugs()||!1,this.isPregnant=this.patient.isChildBearing()&&await this.patient.isPregnant()||!1,w["X"].dismiss()},immediate:!0}},computed:{patientName(){return this.ready?this.patient.getFullName():"Patient"},hasPressureReading(){return this.sysBp>0&&this.dsBP>0},highBP(){return(this.sysBp>=this.systolicThreshold&&this.dsBP>=this.diastolicTheshold||this.dsBP>=this.diastolicTheshold)&&!this.isPregnant}}}),C=(s("8bd6"),s("d959")),x=s.n(C);const I=x()(T,[["render",y],["__scopeId","data-v-146a0e6b"]]);t["default"]=I},"8bd6":function(e,t,s){"use strict";s("c658")},c658:function(e,t,s){}}]);
//# sourceMappingURL=chunk-bfe33a92.8972bc55.js.map