(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db1ed"],{"6f07":function(t,e,o){"use strict";o.r(e);var n=o("7a23");function a(t,e,o,a,r,i){const s=Object(n["resolveComponent"])("report-template"),c=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(c,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,config:{showIndex:!0},onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]),_:1})}o("14d9");var r=o("4ba2"),i=o("d867"),s=o("60bf"),c=o("501f"),d=o("9ceb"),l=o("5a0c"),p=o.n(l),u=Object(n["defineComponent"])({components:{ReportTemplate:r["a"],IonPage:i["D"]},setup(){const t=s["a"].getLocationName(),e=Object(c["a"])("Facility Pepfar Report"),{reportData:o,drill:n}=e;o.columns=[[d["a"].thTxt("District"),d["a"].thTxt("Site"),d["a"].thTxt("Month"),d["a"].thTxt("Year"),d["a"].thTxt("ANC Indicator"),d["a"].thTxt("Age Category"),d["a"].thTxt("Value")]],o.other.months={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},o.other.ageGroups=["<10","10-14","15-19","20-24","25-29","30-34","35-39","40-49","50+","Unknown","All"],o.other.indicators=["Already on ART","Known at entry positive","Known status","New ANC client","Newly identified negative","Newly identified positive","Newly on ART"];const a=t=>p()(t).format("MMM YYYY"),r=(t,e)=>{const o=[t];let n=t;while(n<p()(e).add(-1,"months").format("YYYY-MM-DD"))o.push(n=p()(n).add(1,"months").format("YYYY-MM-DD"));return o},i=async e=>{for(const i of e)try{const e=await o.service.generateDisaggregated(i);o.other.indicators.forEach(r=>{o.other.ageGroups.forEach(s=>{const c=e[a(i)][r][s];o.rows.push([d["a"].td(""),d["a"].td(t||"N/A"),d["a"].td(o.other.months[p()(i).month()]),d["a"].td(p()(i).year()),d["a"].td(r),d["a"].td(s),n(`${i}-${r}-${s}`,c)])})})}catch(r){console.warn(""+r)}},l=async(t,e)=>{o.rows=[],o.service=new s["a"],o.period=`${a(e.start_date)} - ${a(e.end_date)}`,await i(r(e.start_date,e.end_date))};return{...e,onPeriod:l}}}),h=o("6b0d"),w=o.n(h);const f=w()(u,[["render",a]]);e["default"]=f}}]);
//# sourceMappingURL=chunk-2d0db1ed.f09da89b.js.map