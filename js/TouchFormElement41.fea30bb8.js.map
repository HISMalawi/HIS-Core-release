{"version":3,"sources":["webpack:///./src/components/FormElements/SelectMixin.vue?1a25","webpack:///./src/components/FormElements/HisSelect.vue?2a75","webpack:///./src/components/FormElements/BaseTextInput.vue?9820","webpack:///./src/components/FormElements/BaseTextInput.vue","webpack:///./src/components/FormElements/BaseTextInput.vue?e1b8","webpack:///./src/components/FormElements/FieldMixin.vue","webpack:///./src/components/FormElements/FieldMixin.vue?27e2","webpack:///./src/components/FormElements/SelectMixin.vue","webpack:///./src/components/FormElements/SelectMixin.vue?0f75","webpack:///./src/components/FormElements/BaseTextInput.vue?d4a6","webpack:///./src/components/FormElements/HisSelect.vue?344d","webpack:///./node_modules/vue-resize/dist/vue-resize.esm.js","webpack:///./node_modules/vue-observe-visibility/dist/vue-observe-visibility.esm.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./node_modules/vue-virtual-scroller/dist/vue-virtual-scroller.esm.js","webpack:///./src/components/FormElements/HisSelect.vue","webpack:///./src/components/FormElements/HisSelect.vue?414d","webpack:///./src/components/Keyboard/HisKeyboard.vue?dcb9","webpack:///./src/components/Keyboard/HisKeyboard.vue","webpack:///./src/components/Keyboard/HisKeyboard.vue?396a"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_input","_resolveComponent","_openBlock","_createBlock","ref","class","modelValue","text","$event","type","disabled","readonly","readOnly","autocapitalize","placeholder","defineComponent","name","components","IonInput","setup","activePlatformProfile","usePlatform","computed","value","keyboard","data","watch","val","this","$emit","props","required","String","default","Boolean","__exports__","emits","config","Object","preset","label","defaultValue","Function","fdata","cdata","options","activationState","onValue","onValueUpdate","footerButtonEvent","IonList","IonItem","IonLabel","HisTextInput","HisKeyboard","ViewPort","IonGrid","IonRow","IonCol","IonInfiniteScroll","IonInfiniteScrollContent","IonContent","mixins","FieldMixinVue","showKeyboard","selected","filter","filtered","QWERTY","listData","infiniteScroll","enabled","page","limit","threshold","handler","async","created","_this$config","_this$config2","_this$config3","_this$config4","_this$config5","_this$config6","event","isPlainObject","onClickComponentEvents","e","setValue","deep","immediate","_this$config7","isFilterDataViaApi","foundOption","find","item","isMatch","methods","onTTsetValueComponentEvent","itemA","itemB","match","RegExp","clearSelection","onKbValue","keypress","handleVirtualInput","evt","items","push","target","complete","_hoisted_1","_component_his_text_input","_component_ion_label","_component_ion_item","_component_DynamicScroller","_component_view_port","_component_his_keyboard","_createElementBlock","_Fragment","_createVNode","showFull","_withCtx","onOnValue","_createElementVNode","index","button","key","color","lines","isChecked","onClick","onselect","_createTextVNode","_toDisplayString","_","kbConfig","onKeyPress","_createCommentVNode","getInternetExplorerVersion","ua","window","navigator","userAgent","msie","indexOf","parseInt","substring","trident","rv","edge","isIE","initCompat","init","script","emitOnMount","ignoreWidth","ignoreHeight","_w","$el","offsetWidth","_h","offsetHeight","emitSize","object","document","createElement","_resizeObject","setAttribute","onload","addResizeHandlers","appendChild","removeResizeHandlers","width","height","contentDocument","defaultView","addEventListener","compareAndNotify","removeEventListener","removeChild","_withId","tabindex","__scopeId","__file","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","length","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","toString","call","slice","test","len","arr2","processOptions","callback","throttle","delay","timeout","lastState","currentArgs","arguments","undefined","throttled","state","_len","args","_key","leading","apply","concat","clearTimeout","setTimeout","_clear","deepEqual","val1","val2","VisibilityState","el","vnode","observer","frozen","createObserver","_this","destroyObserver","result","entry","once","_ref","throttleOptions","_leading","oldResult","IntersectionObserver","entries","intersectingEntry","isIntersecting","intersectionRatio","intersection","observe","disconnect","get","beforeMount","_ref2","console","warn","_vue_visibilityState","updated","_ref3","oldValue","unmounted","ObserveVisibility","all","Map","on","t","set","off","splice","emit","map","itemsLimit","regex","parents","node","ps","parentNode","style","prop","getComputedStyle","getPropertyValue","overflow","getScrollParent","HTMLElement","SVGElement","scrollingElement","documentElement","keyField","direction","validator","includes","listTag","itemTag","simpleArray","supportsPassive","opts","uid","script$2","ResizeObserver","directives","itemSize","Number","gridItems","itemSecondarySize","minItemSize","sizeField","typeField","buffer","pageMode","prerender","emitUpdate","updateInterval","skipHover","listClass","itemClass","pool","totalSize","ready","hoverKey","sizes","accumulator","field","current","computedMinSize","l","size","$_computedMinItemSize","updateVisibleItems","applyPageMode","$_startIndex","$_endIndex","$_views","$_unusedViews","$_scrollDirty","$_lastUpdateScrollPosition","$_prerender","error","$nextTick","lastPosition","scrollToPosition","removeListeners","nr","id","used","view","position","fake","unusedViews","unusedPool","$_updateTimeout","requestUpdate","requestAnimationFrame","continuous","$_refreshTimout","handleScroll","isVisible","boundingClientRect","checkItem","checkPositionDiff","count","views","itemIndexByKey","startIndex","endIndex","visibleStartIndex","visibleEndIndex","Math","min","scroll","getScroll","positionDiff","start","end","beforeSize","$refs","before","scrollHeight","after","afterSize","h","oldI","a","b","remainer","ceil","max","floor","itemsLimitError","unuseView","unusedIndex","v","Error","newlyUsedView","pop","addView","delete","offset","$_sortTimer","sortViews","body","isVertical","scrollState","bounds","getBoundingClientRect","boundsSize","top","left","innerHeight","innerWidth","scrollTop","clientHeight","scrollLeft","clientWidth","addListeners","listenerTarget","getListenerTarget","passive","handleResize","viewport","scrollDirection","scrollDistance","viewportEl","tagName","scroller","scrollerPosition","log","sort","viewA","viewB","_hoisted_2","render$1","_component_ResizeObserver","_directive_observe_visibility","onScrollPassive","$slots","transform","hover","mouseenter","mouseleave","active","onNotify","handleVisibilityChange","script$1","RecycleScroller","$_resizeObserver","$_vs_onResize","borderBoxSize","resizeObserverSize","inlineSize","blockSize","contentRect","$_vs_id","vscrollData","vscrollParent","vscrollResizeObserver","inheritAttrs","$_undefinedMap","forceUpdate","next","prev","prevActiveTop","activeTop","$_updates","$_undefinedSizes","$_events","clear","force","scrollToItem","$_scrollingToBottom","cb","_component_RecycleScroller","itemsWithSize","$attrs","onResize","onScrollerResize","onVisible","onScrollerVisible","itemWithSize","empty","inject","watchData","sizeDependencies","emitResize","tag","onDataUpdate","$_sizeObserved","oldSize","applySize","observeSize","unobserveSize","$_pendingVScrollUpdate","updateSize","$isServer","$_forceNextVScrollUpdate","updateWatchData","k","$watch","onVscrollUpdate","finalActive","$_pendingSizeUpdate","computeSize","$_watchData","applyWidthHeight","unobserve","DynamicScroller","SelectMixin","isInit","mounted","activated","clearValue","onInitValue","defaults","found","setDefaultValue","ok","_component_base_keyboard","_renderList","activeLayout","layout","BaseKeyboard","initalKeyboardName","switchKeyboard","isFunctionKey","kbIndex","KEY_BTN_NAV","btn"],"mappings":"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","file":"js/TouchFormElement41.fea30bb8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SelectMixin.vue?vue&type=style&index=0&id=f5aee92a&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HisSelect.vue?vue&type=style&index=0&id=f0385dda&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_input = _resolveComponent(\"ion-input\")!\n\n  return (_openBlock(), _createBlock(_component_ion_input, {\n    ref: \"input\",\n    class: \"input_display\",\n    modelValue: _ctx.text,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.text) = $event)),\n    type: _ctx.type,\n    disabled: _ctx.disabled,\n    readonly: _ctx.readOnly,\n    autocapitalize: \"sentences\",\n    placeholder: _ctx.placeholder\n  }, null, 8, [\"modelValue\", \"type\", \"disabled\", \"readonly\", \"placeholder\"]))\n}","\nimport { computed, defineComponent } from \"vue\";\nimport { IonInput } from \"@ionic/vue\";\nimport usePlatform from \"@/composables/usePlatform\"\n\nexport default defineComponent({\n  name: \"HisInput\",\n  components: { IonInput },\n  setup() {\n    const { activePlatformProfile } = usePlatform()\n    const readOnly = computed(() => activePlatformProfile.value.keyboard === 'HIS_KEYBOARD_ONLY')\n    return {\n      readOnly\n    }\n  },\n  data:() => ({\n    text: '' as string | number\n  }),\n  watch: {\n    value(val: number | string) {\n      this.text = val\n    },\n    text(text: string | number) {\n      this.$emit('onValue', text)\n    }\n  },\n  props: {\n    value: {\n      required: false,\n    },\n    type: {\n      type: String,\n      default: () => \"text\",\n    },\n    disabled: {\n      type: Boolean,\n      default: () => false,\n    },\n    placeholder: {\n      type: String,\n      default: () => \"\",\n    }\n  },\n});\n","import { render } from \"./BaseTextInput.vue?vue&type=template&id=04472bbc&scoped=true&ts=true\"\nimport script from \"./BaseTextInput.vue?vue&type=script&lang=ts\"\nexport * from \"./BaseTextInput.vue?vue&type=script&lang=ts\"\n\nimport \"./BaseTextInput.vue?vue&type=style&index=0&id=04472bbc&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04472bbc\"]])\n\nexport default __exports__","\nimport { isPlatform } from '@ionic/core'\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n    emits: [\n        'onValue',\n        'onFieldActivated'\n    ],\n    props: {\n        config: {\n            type: Object,\n            default: () => ({})\n        },\n        preset: {\n            type: Object,\n            default: () => ({\n                label: '',\n                value: ''\n            })\n        },\n        defaultValue: {\n            type: Function\n        },\n        fdata: {\n            type: Object,\n            required: true\n        },\n        cdata: {\n            type: Object,\n            required: true\n        },\n        options: {\n            type: Function,\n            default: () => ([])\n        },\n        activationState: {\n            type: String,\n            default: ''\n        },\n        onValue: {\n            type: Function\n        },\n        onValueUpdate: {\n            type: Function\n        },\n        footerButtonEvent: {\n            type: Object\n        }\n    }\n})\n","import script from \"./FieldMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./FieldMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","\nimport { defineComponent } from 'vue'\nimport HisKeyboard from \"@/components/Keyboard/HisKeyboard.vue\"\nimport handleVirtualInput from \"@/components/Keyboard/KbHandler\"\nimport HisTextInput from \"@/components/FormElements/BaseTextInput.vue\";\nimport { FooterBtnEvent, Option } from '../Forms/FieldInterface'\nimport { QWERTY } from \"@/components/Keyboard/HisKbConfigurations\"\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\"\nimport FieldMixinVue from './FieldMixin.vue';\nimport {\n    IonList, \n    IonItem, \n    IonLabel, \n    IonGrid, \n    IonRow, \n    IonCol,\n    IonInfiniteScroll, \n    IonInfiniteScrollContent, \n    IonContent\n} from \"@ionic/vue\"\nimport { find, isPlainObject } from 'lodash';\n\nexport default defineComponent({\n    components: { \n        IonList, \n        IonItem, \n        IonLabel, \n        HisTextInput, \n        HisKeyboard, \n        ViewPort, \n        IonGrid, \n        IonRow, \n        IonCol, \n        IonInfiniteScroll, \n        IonInfiniteScrollContent, \n        IonContent \n    },\n    mixins: [FieldMixinVue],\n    data: () => ({ \n        showKeyboard: false,\n        selected: '',\n        filter: '',\n        filtered: [] as any,\n        keyboard: QWERTY,\n        listData: [] as Array<Option>,\n        infiniteScroll: {\n            enabled: false,\n            page: 1,\n            limit: 10,\n            threshold: '100px',\n            handler: async (filter: string, page: number, limit: number) => [] as Option[]\n        },\n    }),\n    created(){\n        this.showKeyboard = this.config?.showKeyboard === true\n        this.infiniteScroll.enabled = this.config?.infiniteScroll?.enabled === true\n        this.infiniteScroll.page = this.config?.infiniteScroll?.page || 1\n        this.infiniteScroll.limit = this.config?.infiniteScroll?.limit || 10\n        this.infiniteScroll.threshold = this.config?.infiniteScroll?.threshold || '100px'\n        this.infiniteScroll.handler = this.config?.infiniteScroll?.handler \n    },\n    watch: {\n        footerButtonEvent : {\n            handler(event: FooterBtnEvent) {\n                if (isPlainObject(event.onClickComponentEvents)) {\n                    const e: any = event?.onClickComponentEvents || {}\n                    if (e  && typeof e.setValue === 'function') {\n                        const value = e.setValue(event)\n                        if (typeof value === 'string') {\n                            this.filter = value\n                            this.selected = value\n                            this.$emit('onValue', { label: value, value })\n                        }\n                    }\n                }\n            },\n            deep: true\n        },\n        listData: {\n            handler(data: any) { if (data) this.filtered = data },\n            deep: true,\n            immediate: true\n        },\n        filter: {\n            async handler(filter: string) {\n                // restore initial list data if filter used is empty\n                if (!filter) {\n                    this.filtered = this.listData\n                    return\n                }\n                /** Filter data from an external source  if config is true*/\n                if (this.config?.isFilterDataViaApi) {\n                    this.filtered = await this.options(this.fdata, filter)\n                    // Find and select data that matches selected value\n                    if (this.selected === this.filter) {\n                        const foundOption = find(this.filtered, { label: this.filter})\n                        if (foundOption) {\n                            this.$emit('onValue', foundOption)\n                        }\n                    }\n                    return\n                }\n                /** Reset page if infinite scroll is enabled */\n                if(this.infiniteScroll.enabled) {\n                    this.infiniteScroll.page = 1\n                }\n                // Filter locallist\n                this.filtered = this.listData.filter(item => this.isMatch(item.label, this.filter))\n\n            },\n            immediate: true\n        },\n    },\n    methods: {\n        /**\n         * Special method that the TouchScreenForm Parent component form \n         * triggers to change value\n         * @param value \n         */\n        onTTsetValueComponentEvent(value: string) {\n            if (typeof value === 'string') {\n                this.filter = value\n                this.selected = value\n                this.$emit('onValue', { label: value, value })\n            }\n        },\n        isMatch(itemA: string, itemB: string){\n            return itemA.match(new RegExp(itemB, 'i')) \n        },\n        clearSelection() {\n            this.filter = ''\n            this.selected = ''\n        },\n        onKbValue(text: any, filtered = true) {\n            // check if a selected item from list matches keyboard input. \n            // We dont want selected options to filter anything\n            if (!filtered || this.selected === text) return\n\n            this.filter = text\n            this.selected = this.filter\n        },\n        keypress(text: any){\n            if (!this.filter) this.selected = ''\n            this.filter = handleVirtualInput(text, this.selected)\n            this.selected = this.filter\n        },\n        async pushData(evt: any) {\n            if(this.infiniteScroll.enabled && typeof this.infiniteScroll.handler === 'function') {\n                this.infiniteScroll.page++\n                const items: Option[] = await this.infiniteScroll.handler(this.filter, this.infiniteScroll.page, this.infiniteScroll.limit)\n                this.listData.push(...items)\n            }\n            evt.target.complete()\n        }\n    }\n})\n","import script from \"./SelectMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./SelectMixin.vue?vue&type=script&lang=ts\"\n\nimport \"./SelectMixin.vue?vue&type=style&index=0&id=f5aee92a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f5aee92a\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BaseTextInput.vue?vue&type=style&index=0&id=04472bbc&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-f0385dda\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"view-port-content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_his_text_input = _resolveComponent(\"his-text-input\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_DynamicScroller = _resolveComponent(\"DynamicScroller\")!\n  const _component_view_port = _resolveComponent(\"view-port\")!\n  const _component_his_keyboard = _resolveComponent(\"his-keyboard\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_view_port, {\n      showFull: !_ctx.showKeyboard\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_his_text_input, {\n          readonly: !_ctx.showKeyboard,\n          value: _ctx.selected,\n          onOnValue: _cache[0] || (_cache[0] = (value) => _ctx.onKbValue(value, _ctx.showKeyboard))\n        }, null, 8, [\"readonly\", \"value\"]),\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createVNode(_component_DynamicScroller, {\n            items: _ctx.filtered,\n            \"min-item-size\": 50,\n            \"key-field\": \"label\",\n            class: \"scrollable\"\n          }, {\n            default: _withCtx(({ item, index }) => [\n              (_openBlock(), _createBlock(_component_ion_item, {\n                class: \"his-md-text\",\n                button: \"\",\n                key: index,\n                color: item.label === _ctx.selected ? 'lightblue': '',\n                lines: item.isChecked ? 'none':'',\n                disabled: 'disabled' in item && item.disabled ? true: false,\n                onClick: ($event: any) => (_ctx.onselect(item))\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_label, null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(_toDisplayString(item.label), 1)\n                    ]),\n                    _: 2\n                  }, 1024)\n                ]),\n                _: 2\n              }, 1032, [\"color\", \"lines\", \"disabled\", \"onClick\"]))\n            ]),\n            _: 1\n          }, 8, [\"items\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"showFull\"]),\n    (_ctx.showKeyboard)\n      ? (_openBlock(), _createBlock(_component_his_keyboard, {\n          key: 0,\n          kbConfig: _ctx.keyboard,\n          onKeyPress: _ctx.keypress\n        }, null, 8, [\"kbConfig\", \"onKeyPress\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","import { nextTick, pushScopeId, popScopeId, openBlock, createBlock, withScopeId } from 'vue';\n\nfunction getInternetExplorerVersion() {\n  var ua = window.navigator.userAgent;\n  var msie = ua.indexOf('MSIE ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  var trident = ua.indexOf('Trident/');\n\n  if (trident > 0) {\n    // IE 11 => return version number\n    var rv = ua.indexOf('rv:');\n    return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n  }\n\n  var edge = ua.indexOf('Edge/');\n\n  if (edge > 0) {\n    // Edge (IE 12+) => return version number\n    return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n  } // other browser\n\n\n  return -1;\n}\n\nlet isIE;\n\nfunction initCompat () {\n  if (!initCompat.init) {\n    initCompat.init = true;\n    isIE = getInternetExplorerVersion() !== -1;\n  }\n}\n\nvar script = {\n  name: 'ResizeObserver',\n\n  props: {\n    emitOnMount: {\n      type: Boolean,\n      default: false,\n    },\n\n    ignoreWidth: {\n      type: Boolean,\n      default: false,\n    },\n\n    ignoreHeight: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  emits: [\n    'notify',\n  ],\n\n  mounted () {\n    initCompat();\n    nextTick(() => {\n      this._w = this.$el.offsetWidth;\n      this._h = this.$el.offsetHeight;\n      if (this.emitOnMount) {\n        this.emitSize();\n      }\n    });\n    const object = document.createElement('object');\n    this._resizeObject = object;\n    object.setAttribute('aria-hidden', 'true');\n    object.setAttribute('tabindex', -1);\n    object.onload = this.addResizeHandlers;\n    object.type = 'text/html';\n    if (isIE) {\n      this.$el.appendChild(object);\n    }\n    object.data = 'about:blank';\n    if (!isIE) {\n      this.$el.appendChild(object);\n    }\n  },\n\n  beforeUnmount () {\n    this.removeResizeHandlers();\n  },\n\n  methods: {\n    compareAndNotify () {\n      if ((!this.ignoreWidth && this._w !== this.$el.offsetWidth) || (!this.ignoreHeight && this._h !== this.$el.offsetHeight)) {\n        this._w = this.$el.offsetWidth;\n        this._h = this.$el.offsetHeight;\n        this.emitSize();\n      }\n    },\n\n    emitSize () {\n      this.$emit('notify', {\n        width: this._w,\n        height: this._h,\n      });\n    },\n\n    addResizeHandlers () {\n      this._resizeObject.contentDocument.defaultView.addEventListener('resize', this.compareAndNotify);\n      this.compareAndNotify();\n    },\n\n    removeResizeHandlers () {\n      if (this._resizeObject && this._resizeObject.onload) {\n        if (!isIE && this._resizeObject.contentDocument) {\n          this._resizeObject.contentDocument.defaultView.removeEventListener('resize', this.compareAndNotify);\n        }\n        this.$el.removeChild(this._resizeObject);\n        this._resizeObject.onload = null;\n        this._resizeObject = null;\n      }\n    },\n  },\n};\n\nconst _withId = /*#__PURE__*/withScopeId(\"data-v-b329ee4c\");\n\npushScopeId(\"data-v-b329ee4c\");\nconst _hoisted_1 = {\n  class: \"resize-observer\",\n  tabindex: \"-1\"\n};\npopScopeId();\n\nconst render = /*#__PURE__*/_withId((_ctx, _cache, $props, $setup, $data, $options) => {\n  return (openBlock(), createBlock(\"div\", _hoisted_1))\n});\n\nscript.render = render;\nscript.__scopeId = \"data-v-b329ee4c\";\nscript.__file = \"src/components/ResizeObserver.vue\";\n\nfunction install(app) {\n  // eslint-disable-next-line vue/component-definition-name-casing\n  app.component('resize-observer', script);\n  app.component('ResizeObserver', script);\n}\n\nvar plugin = {\n  // eslint-disable-next-line no-undef\n  version: \"2.0.0-alpha.1\",\n  install: install\n};\n\nexport default plugin;\nexport { script as ResizeObserver, install };\n//# sourceMappingURL=vue-resize.esm.js.map\n","import { nextTick } from 'vue';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction processOptions(value) {\n  var options;\n\n  if (typeof value === 'function') {\n    // Simple options (callback-only)\n    options = {\n      callback: value\n    };\n  } else {\n    // Options object\n    options = value;\n  }\n\n  return options;\n}\nfunction throttle(callback, delay) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var timeout;\n  var lastState;\n  var currentArgs;\n\n  var throttled = function throttled(state) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    currentArgs = args;\n    if (timeout && state === lastState) return;\n    var leading = options.leading;\n\n    if (typeof leading === 'function') {\n      leading = leading(state, lastState);\n    }\n\n    if ((!timeout || state !== lastState) && leading) {\n      callback.apply(void 0, [state].concat(_toConsumableArray(currentArgs)));\n    }\n\n    lastState = state;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      callback.apply(void 0, [state].concat(_toConsumableArray(currentArgs)));\n      timeout = 0;\n    }, delay);\n  };\n\n  throttled._clear = function () {\n    clearTimeout(timeout);\n    timeout = null;\n  };\n\n  return throttled;\n}\nfunction deepEqual(val1, val2) {\n  if (val1 === val2) return true;\n\n  if (_typeof(val1) === 'object') {\n    for (var key in val1) {\n      if (!deepEqual(val1[key], val2[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n\nvar VisibilityState = /*#__PURE__*/function () {\n  function VisibilityState(el, options, vnode) {\n    _classCallCheck(this, VisibilityState);\n\n    this.el = el;\n    this.observer = null;\n    this.frozen = false;\n    this.createObserver(options, vnode);\n  }\n\n  _createClass(VisibilityState, [{\n    key: \"createObserver\",\n    value: function createObserver(options, vnode) {\n      var _this = this;\n\n      if (this.observer) {\n        this.destroyObserver();\n      }\n\n      if (this.frozen) return;\n      this.options = processOptions(options);\n\n      this.callback = function (result, entry) {\n        _this.options.callback(result, entry);\n\n        if (result && _this.options.once) {\n          _this.frozen = true;\n\n          _this.destroyObserver();\n        }\n      }; // Throttle\n\n\n      if (this.callback && this.options.throttle) {\n        var _ref = this.options.throttleOptions || {},\n            _leading = _ref.leading;\n\n        this.callback = throttle(this.callback, this.options.throttle, {\n          leading: function leading(state) {\n            return _leading === 'both' || _leading === 'visible' && state || _leading === 'hidden' && !state;\n          }\n        });\n      }\n\n      this.oldResult = undefined;\n      this.observer = new IntersectionObserver(function (entries) {\n        var entry = entries[0];\n\n        if (entries.length > 1) {\n          var intersectingEntry = entries.find(function (e) {\n            return e.isIntersecting;\n          });\n\n          if (intersectingEntry) {\n            entry = intersectingEntry;\n          }\n        }\n\n        if (_this.callback) {\n          // Use isIntersecting if possible because browsers can report isIntersecting as true, but intersectionRatio as 0, when something very slowly enters the viewport.\n          var result = entry.isIntersecting && entry.intersectionRatio >= _this.threshold;\n          if (result === _this.oldResult) return;\n          _this.oldResult = result;\n\n          _this.callback(result, entry);\n        }\n      }, this.options.intersection); // Wait for the element to be in document\n\n      nextTick(function () {\n        if (_this.observer) {\n          _this.observer.observe(_this.el);\n        }\n      });\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      if (this.observer) {\n        this.observer.disconnect();\n        this.observer = null;\n      } // Cancel throttled call\n\n\n      if (this.callback && this.callback._clear) {\n        this.callback._clear();\n\n        this.callback = null;\n      }\n    }\n  }, {\n    key: \"threshold\",\n    get: function get() {\n      return this.options.intersection && typeof this.options.intersection.threshold === 'number' ? this.options.intersection.threshold : 0;\n    }\n  }]);\n\n  return VisibilityState;\n}();\n\nfunction beforeMount(el, _ref2, vnode) {\n  var value = _ref2.value;\n  if (!value) return;\n\n  if (typeof IntersectionObserver === 'undefined') {\n    console.warn('[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill');\n  } else {\n    var state = new VisibilityState(el, value, vnode);\n    el._vue_visibilityState = state;\n  }\n}\n\nfunction updated(el, _ref3, vnode) {\n  var value = _ref3.value,\n      oldValue = _ref3.oldValue;\n  if (deepEqual(value, oldValue)) return;\n  var state = el._vue_visibilityState;\n\n  if (!value) {\n    unmounted(el);\n    return;\n  }\n\n  if (state) {\n    state.createObserver(value, vnode);\n  } else {\n    beforeMount(el, {\n      value: value\n    }, vnode);\n  }\n}\n\nfunction unmounted(el) {\n  var state = el._vue_visibilityState;\n\n  if (state) {\n    state.destroyObserver();\n    delete el._vue_visibilityState;\n  }\n}\n\nvar ObserveVisibility = {\n  beforeMount: beforeMount,\n  updated: updated,\n  unmounted: unmounted\n};\n\nfunction install(app) {\n  app.directive('observe-visibility', ObserveVisibility);\n  /* -- Add more components here -- */\n}\n/* -- Plugin definition & Auto-install -- */\n\n/* You shouldn't have to modify the code below */\n// Plugin\n\nvar plugin = {\n  // eslint-disable-next-line no-undef\n  version: \"2.0.0-alpha.1\",\n  install: install\n};\n\nexport default plugin;\nexport { ObserveVisibility, install };\n","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i&&i.push(e)||n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&i.splice(i.indexOf(e)>>>0,1)},emit:function(t,e){(n.get(t)||[]).slice().map(function(n){n(e)}),(n.get(\"*\")||[]).slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.es.js.map\n","import { markRaw, shallowReactive, resolveComponent, resolveDirective, withDirectives, openBlock, createElementBlock, normalizeClass, renderSlot, createCommentVNode, createBlock, resolveDynamicComponent, normalizeStyle, withCtx, Fragment, renderList, mergeProps, toHandlers, createVNode, normalizeProps, guardReactiveProps, h, reactive } from 'vue';\nimport { ResizeObserver as ResizeObserver$1 } from 'vue-resize';\nimport { ObserveVisibility } from 'vue-observe-visibility';\nimport mitt from 'mitt';\n\nvar config = {\n  itemsLimit: 1000\n};\n\n// Fork of https://github.com/olahol/scrollparent.js to be able to build with Rollup\n\nvar regex = /(auto|scroll)/;\nfunction parents(node, ps) {\n  if (node.parentNode === null) {\n    return ps;\n  }\n  return parents(node.parentNode, ps.concat([node]));\n}\nvar style = function style(node, prop) {\n  return getComputedStyle(node, null).getPropertyValue(prop);\n};\nvar overflow = function overflow(node) {\n  return style(node, 'overflow') + style(node, 'overflow-y') + style(node, 'overflow-x');\n};\nvar scroll = function scroll(node) {\n  return regex.test(overflow(node));\n};\nfunction getScrollParent(node) {\n  if (!(node instanceof HTMLElement || node instanceof SVGElement)) {\n    return;\n  }\n  var ps = parents(node.parentNode, []);\n  for (var i = 0; i < ps.length; i += 1) {\n    if (scroll(ps[i])) {\n      return ps[i];\n    }\n  }\n  return document.scrollingElement || document.documentElement;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nvar props = {\n  items: {\n    type: Array,\n    required: true\n  },\n  keyField: {\n    type: String,\n    default: 'id'\n  },\n  direction: {\n    type: String,\n    default: 'vertical',\n    validator: function validator(value) {\n      return ['vertical', 'horizontal'].includes(value);\n    }\n  },\n  listTag: {\n    type: String,\n    default: 'div'\n  },\n  itemTag: {\n    type: String,\n    default: 'div'\n  }\n};\nfunction simpleArray() {\n  return this.items.length && _typeof(this.items[0]) !== 'object';\n}\n\nvar supportsPassive = false;\nif (typeof window !== 'undefined') {\n  supportsPassive = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        supportsPassive = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n}\n\nlet uid = 0;\n\nvar script$2 = {\n  name: 'RecycleScroller',\n\n  components: {\n    ResizeObserver: ResizeObserver$1,\n  },\n\n  directives: {\n    ObserveVisibility,\n  },\n\n  props: {\n    ...props,\n\n    itemSize: {\n      type: Number,\n      default: null,\n    },\n\n    gridItems: {\n      type: Number,\n      default: undefined,\n    },\n\n    itemSecondarySize: {\n      type: Number,\n      default: undefined,\n    },\n\n    minItemSize: {\n      type: [Number, String],\n      default: null,\n    },\n\n    sizeField: {\n      type: String,\n      default: 'size',\n    },\n\n    typeField: {\n      type: String,\n      default: 'type',\n    },\n\n    buffer: {\n      type: Number,\n      default: 200,\n    },\n\n    pageMode: {\n      type: Boolean,\n      default: false,\n    },\n\n    prerender: {\n      type: Number,\n      default: 0,\n    },\n\n    emitUpdate: {\n      type: Boolean,\n      default: false,\n    },\n\n    updateInterval: {\n      type: Number,\n      default: 0,\n    },\n\n    skipHover: {\n      type: Boolean,\n      default: false,\n    },\n\n    listTag: {\n      type: String,\n      default: 'div',\n    },\n\n    itemTag: {\n      type: String,\n      default: 'div',\n    },\n\n    listClass: {\n      type: [String, Object, Array],\n      default: '',\n    },\n\n    itemClass: {\n      type: [String, Object, Array],\n      default: '',\n    },\n  },\n\n  emits: [\n    'resize',\n    'visible',\n    'hidden',\n    'update',\n    'scroll-start',\n    'scroll-end',\n  ],\n\n  data () {\n    return {\n      pool: [],\n      totalSize: 0,\n      ready: false,\n      hoverKey: null,\n    }\n  },\n\n  computed: {\n    sizes () {\n      if (this.itemSize === null) {\n        const sizes = {\n          '-1': { accumulator: 0 },\n        };\n        const items = this.items;\n        const field = this.sizeField;\n        const minItemSize = this.minItemSize;\n        let computedMinSize = 10000;\n        let accumulator = 0;\n        let current;\n        for (let i = 0, l = items.length; i < l; i++) {\n          current = items[i][field] || minItemSize;\n          if (current < computedMinSize) {\n            computedMinSize = current;\n          }\n          accumulator += current;\n          sizes[i] = { accumulator, size: current };\n        }\n        // eslint-disable-next-line\n        this.$_computedMinItemSize = computedMinSize;\n        return sizes\n      }\n      return []\n    },\n\n    simpleArray,\n\n    itemIndexByKey () {\n      const { keyField, items } = this;\n      const result = {};\n      for (let i = 0, l = items.length; i < l; i++) {\n        result[items[i][keyField]] = i;\n      }\n      return result\n    },\n  },\n\n  watch: {\n    items () {\n      this.updateVisibleItems(true);\n    },\n\n    pageMode () {\n      this.applyPageMode();\n      this.updateVisibleItems(false);\n    },\n\n    sizes: {\n      handler () {\n        this.updateVisibleItems(false);\n      },\n      deep: true,\n    },\n\n    gridItems () {\n      this.updateVisibleItems(true);\n    },\n\n    itemSecondarySize () {\n      this.updateVisibleItems(true);\n    },\n  },\n\n  created () {\n    this.$_startIndex = 0;\n    this.$_endIndex = 0;\n    this.$_views = new Map();\n    this.$_unusedViews = new Map();\n    this.$_scrollDirty = false;\n    this.$_lastUpdateScrollPosition = 0;\n\n    // In SSR mode, we also prerender the same number of item for the first render\n    // to avoir mismatch between server and client templates\n    if (this.prerender) {\n      this.$_prerender = true;\n      this.updateVisibleItems(false);\n    }\n\n    if (this.gridItems && !this.itemSize) {\n      console.error('[vue-recycle-scroller] You must provide an itemSize when using gridItems');\n    }\n  },\n\n  mounted () {\n    this.applyPageMode();\n    this.$nextTick(() => {\n      // In SSR mode, render the real number of visible items\n      this.$_prerender = false;\n      this.updateVisibleItems(true);\n      this.ready = true;\n    });\n  },\n\n  activated () {\n    const lastPosition = this.$_lastUpdateScrollPosition;\n    if (typeof lastPosition === 'number') {\n      this.$nextTick(() => {\n        this.scrollToPosition(lastPosition);\n      });\n    }\n  },\n\n  beforeUnmount () {\n    this.removeListeners();\n  },\n\n  methods: {\n    addView (pool, index, item, key, type) {\n      const nr = markRaw({\n        id: uid++,\n        index,\n        used: true,\n        key,\n        type,\n      });\n      const view = shallowReactive({\n        item,\n        position: 0,\n        nr,\n      });\n      pool.push(view);\n      return view\n    },\n\n    unuseView (view, fake = false) {\n      const unusedViews = this.$_unusedViews;\n      const type = view.nr.type;\n      let unusedPool = unusedViews.get(type);\n      if (!unusedPool) {\n        unusedPool = [];\n        unusedViews.set(type, unusedPool);\n      }\n      unusedPool.push(view);\n      if (!fake) {\n        view.nr.used = false;\n        view.position = -9999;\n      }\n    },\n\n    handleResize () {\n      this.$emit('resize');\n      if (this.ready) this.updateVisibleItems(false);\n    },\n\n    handleScroll (event) {\n      if (!this.$_scrollDirty) {\n        this.$_scrollDirty = true;\n        if (this.$_updateTimeout) return\n\n        const requestUpdate = () => requestAnimationFrame(() => {\n          this.$_scrollDirty = false;\n          const { continuous } = this.updateVisibleItems(false, true);\n\n          // It seems sometimes chrome doesn't fire scroll event :/\n          // When non continous scrolling is ending, we force a refresh\n          if (!continuous) {\n            clearTimeout(this.$_refreshTimout);\n            this.$_refreshTimout = setTimeout(this.handleScroll, this.updateInterval + 100);\n          }\n        });\n\n        requestUpdate();\n\n        // Schedule the next update with throttling\n        if (this.updateInterval) {\n          this.$_updateTimeout = setTimeout(() => {\n            this.$_updateTimeout = 0;\n            if (this.$_scrollDirty) requestUpdate();\n          }, this.updateInterval);\n        }\n      }\n    },\n\n    handleVisibilityChange (isVisible, entry) {\n      if (this.ready) {\n        if (isVisible || entry.boundingClientRect.width !== 0 || entry.boundingClientRect.height !== 0) {\n          this.$emit('visible');\n          requestAnimationFrame(() => {\n            this.updateVisibleItems(false);\n          });\n        } else {\n          this.$emit('hidden');\n        }\n      }\n    },\n\n    updateVisibleItems (checkItem, checkPositionDiff = false) {\n      const itemSize = this.itemSize;\n      const gridItems = this.gridItems || 1;\n      const itemSecondarySize = this.itemSecondarySize || itemSize;\n      const minItemSize = this.$_computedMinItemSize;\n      const typeField = this.typeField;\n      const keyField = this.simpleArray ? null : this.keyField;\n      const items = this.items;\n      const count = items.length;\n      const sizes = this.sizes;\n      const views = this.$_views;\n      const unusedViews = this.$_unusedViews;\n      const pool = this.pool;\n      const itemIndexByKey = this.itemIndexByKey;\n      let startIndex, endIndex;\n      let totalSize;\n      let visibleStartIndex, visibleEndIndex;\n\n      if (!count) {\n        startIndex = endIndex = visibleStartIndex = visibleEndIndex = totalSize = 0;\n      } else if (this.$_prerender) {\n        startIndex = visibleStartIndex = 0;\n        endIndex = visibleEndIndex = Math.min(this.prerender, items.length);\n        totalSize = null;\n      } else {\n        const scroll = this.getScroll();\n\n        // Skip update if use hasn't scrolled enough\n        if (checkPositionDiff) {\n          let positionDiff = scroll.start - this.$_lastUpdateScrollPosition;\n          if (positionDiff < 0) positionDiff = -positionDiff;\n          if ((itemSize === null && positionDiff < minItemSize) || positionDiff < itemSize) {\n            return {\n              continuous: true,\n            }\n          }\n        }\n        this.$_lastUpdateScrollPosition = scroll.start;\n\n        const buffer = this.buffer;\n        scroll.start -= buffer;\n        scroll.end += buffer;\n\n        // account for leading slot\n        let beforeSize = 0;\n        if (this.$refs.before) {\n          beforeSize = this.$refs.before.scrollHeight;\n          scroll.start -= beforeSize;\n        }\n\n        // account for trailing slot\n        if (this.$refs.after) {\n          const afterSize = this.$refs.after.scrollHeight;\n          scroll.end += afterSize;\n        }\n\n        // Variable size mode\n        if (itemSize === null) {\n          let h;\n          let a = 0;\n          let b = count - 1;\n          let i = ~~(count / 2);\n          let oldI;\n\n          // Searching for startIndex\n          do {\n            oldI = i;\n            h = sizes[i].accumulator;\n            if (h < scroll.start) {\n              a = i;\n            } else if (i < count - 1 && sizes[i + 1].accumulator > scroll.start) {\n              b = i;\n            }\n            i = ~~((a + b) / 2);\n          } while (i !== oldI)\n          i < 0 && (i = 0);\n          startIndex = i;\n\n          // For container style\n          totalSize = sizes[count - 1].accumulator;\n\n          // Searching for endIndex\n          for (endIndex = i; endIndex < count && sizes[endIndex].accumulator < scroll.end; endIndex++);\n          if (endIndex === -1) {\n            endIndex = items.length - 1;\n          } else {\n            endIndex++;\n            // Bounds\n            endIndex > count && (endIndex = count);\n          }\n\n          // search visible startIndex\n          for (visibleStartIndex = startIndex; visibleStartIndex < count && (beforeSize + sizes[visibleStartIndex].accumulator) < scroll.start; visibleStartIndex++);\n\n          // search visible endIndex\n          for (visibleEndIndex = visibleStartIndex; visibleEndIndex < count && (beforeSize + sizes[visibleEndIndex].accumulator) < scroll.end; visibleEndIndex++);\n        } else {\n          // Fixed size mode\n          startIndex = ~~(scroll.start / itemSize * gridItems);\n          const remainer = startIndex % gridItems;\n          startIndex -= remainer;\n          endIndex = Math.ceil(scroll.end / itemSize * gridItems);\n          visibleStartIndex = Math.max(0, Math.floor((scroll.start - beforeSize) / itemSize * gridItems));\n          visibleEndIndex = Math.floor((scroll.end - beforeSize) / itemSize * gridItems);\n\n          // Bounds\n          startIndex < 0 && (startIndex = 0);\n          endIndex > count && (endIndex = count);\n          visibleStartIndex < 0 && (visibleStartIndex = 0);\n          visibleEndIndex > count && (visibleEndIndex = count);\n\n          totalSize = Math.ceil(count / gridItems) * itemSize;\n        }\n      }\n\n      if (endIndex - startIndex > config.itemsLimit) {\n        this.itemsLimitError();\n      }\n\n      this.totalSize = totalSize;\n\n      let view;\n\n      const continuous = startIndex <= this.$_endIndex && endIndex >= this.$_startIndex;\n\n      // Unuse views that are no longer visible\n      if (continuous) {\n        for (let i = 0, l = pool.length; i < l; i++) {\n          view = pool[i];\n          if (view.nr.used) {\n            // Update view item index\n            if (checkItem) {\n              view.nr.index = itemIndexByKey[view.item[keyField]];\n            }\n\n            // Check if index is still in visible range\n            if (\n              view.nr.index == null ||\n              view.nr.index < startIndex ||\n              view.nr.index >= endIndex\n            ) {\n              this.unuseView(view);\n            }\n          }\n        }\n      }\n\n      const unusedIndex = continuous ? null : new Map();\n\n      let item, type;\n      let v;\n      for (let i = startIndex; i < endIndex; i++) {\n        item = items[i];\n        const key = keyField ? item[keyField] : item;\n        if (key == null) {\n          throw new Error(`Key is ${key} on item (keyField is '${keyField}')`)\n        }\n        view = views.get(key);\n\n        if (!itemSize && !sizes[i].size) {\n          if (view) this.unuseView(view);\n          continue\n        }\n\n        type = item[typeField];\n\n        let unusedPool = unusedViews.get(type);\n        let newlyUsedView = false;\n\n        // No view assigned to item\n        if (!view) {\n          if (continuous) {\n            // Reuse existing view\n            if (unusedPool && unusedPool.length) {\n              view = unusedPool.pop();\n            } else {\n              view = this.addView(pool, i, item, key, type);\n            }\n          } else {\n            // Use existing view\n            // We don't care if they are already used\n            // because we are not in continous scrolling\n            v = unusedIndex.get(type) || 0;\n\n            if (!unusedPool || v >= unusedPool.length) {\n              view = this.addView(pool, i, item, key, type);\n              this.unuseView(view, true);\n              unusedPool = unusedViews.get(type);\n            }\n\n            view = unusedPool[v];\n            unusedIndex.set(type, v + 1);\n          }\n\n          // Assign view to item\n          views.delete(view.nr.key);\n          view.nr.used = true;\n          view.nr.index = i;\n          view.nr.key = key;\n          view.nr.type = type;\n          views.set(key, view);\n\n          newlyUsedView = true;\n        } else {\n          // View already assigned to item\n          if (!view.nr.used) {\n            view.nr.used = true;\n            newlyUsedView = true;\n            if (unusedPool) {\n              const index = unusedPool.indexOf(view);\n              if (index !== -1) unusedPool.splice(index, 1);\n            }\n          }\n        }\n\n        // Always set item in case it's a new object with the same key\n        view.item = item;\n\n        if (newlyUsedView) {\n          if (i === items.length - 1) this.$emit('scroll-end');\n          if (i === 0) this.$emit('scroll-start');\n        }\n\n        // Update position\n        if (itemSize === null) {\n          view.position = sizes[i - 1].accumulator;\n          view.offset = 0;\n        } else {\n          view.position = Math.floor(i / gridItems) * itemSize;\n          view.offset = (i % gridItems) * itemSecondarySize;\n        }\n      }\n\n      this.$_startIndex = startIndex;\n      this.$_endIndex = endIndex;\n\n      if (this.emitUpdate) this.$emit('update', startIndex, endIndex, visibleStartIndex, visibleEndIndex);\n\n      // After the user has finished scrolling\n      // Sort views so text selection is correct\n      clearTimeout(this.$_sortTimer);\n      this.$_sortTimer = setTimeout(this.sortViews, this.updateInterval + 300);\n\n      return {\n        continuous,\n      }\n    },\n\n    getListenerTarget () {\n      let target = getScrollParent(this.$el);\n      // Fix global scroll target for Chrome and Safari\n      if (window.document && (target === window.document.documentElement || target === window.document.body)) {\n        target = window;\n      }\n      return target\n    },\n\n    getScroll () {\n      const { $el: el, direction } = this;\n      const isVertical = direction === 'vertical';\n      let scrollState;\n\n      if (this.pageMode) {\n        const bounds = el.getBoundingClientRect();\n        const boundsSize = isVertical ? bounds.height : bounds.width;\n        let start = -(isVertical ? bounds.top : bounds.left);\n        let size = isVertical ? window.innerHeight : window.innerWidth;\n        if (start < 0) {\n          size += start;\n          start = 0;\n        }\n        if (start + size > boundsSize) {\n          size = boundsSize - start;\n        }\n        scrollState = {\n          start,\n          end: start + size,\n        };\n      } else if (isVertical) {\n        scrollState = {\n          start: el.scrollTop,\n          end: el.scrollTop + el.clientHeight,\n        };\n      } else {\n        scrollState = {\n          start: el.scrollLeft,\n          end: el.scrollLeft + el.clientWidth,\n        };\n      }\n\n      return scrollState\n    },\n\n    applyPageMode () {\n      if (this.pageMode) {\n        this.addListeners();\n      } else {\n        this.removeListeners();\n      }\n    },\n\n    addListeners () {\n      this.listenerTarget = this.getListenerTarget();\n      this.listenerTarget.addEventListener('scroll', this.handleScroll, supportsPassive\n        ? {\n            passive: true,\n          }\n        : false);\n      this.listenerTarget.addEventListener('resize', this.handleResize);\n    },\n\n    removeListeners () {\n      if (!this.listenerTarget) {\n        return\n      }\n\n      this.listenerTarget.removeEventListener('scroll', this.handleScroll);\n      this.listenerTarget.removeEventListener('resize', this.handleResize);\n\n      this.listenerTarget = null;\n    },\n\n    scrollToItem (index) {\n      let scroll;\n      const gridItems = this.gridItems || 1;\n      if (this.itemSize === null) {\n        scroll = index > 0 ? this.sizes[index - 1].accumulator : 0;\n      } else {\n        scroll = Math.floor(index / gridItems) * this.itemSize;\n      }\n      this.scrollToPosition(scroll);\n    },\n\n    scrollToPosition (position) {\n      const direction = this.direction === 'vertical'\n        ? { scroll: 'scrollTop', start: 'top' }\n        : { scroll: 'scrollLeft', start: 'left' };\n\n      let viewport;\n      let scrollDirection;\n      let scrollDistance;\n\n      if (this.pageMode) {\n        const viewportEl = getScrollParent(this.$el);\n        // HTML doesn't overflow like other elements\n        const scrollTop = viewportEl.tagName === 'HTML' ? 0 : viewportEl[direction.scroll];\n        const bounds = viewportEl.getBoundingClientRect();\n\n        const scroller = this.$el.getBoundingClientRect();\n        const scrollerPosition = scroller[direction.start] - bounds[direction.start];\n\n        viewport = viewportEl;\n        scrollDirection = direction.scroll;\n        scrollDistance = position + scrollTop + scrollerPosition;\n      } else {\n        viewport = this.$el;\n        scrollDirection = direction.scroll;\n        scrollDistance = position;\n      }\n\n      viewport[scrollDirection] = scrollDistance;\n    },\n\n    itemsLimitError () {\n      setTimeout(() => {\n        console.log('It seems the scroller element isn\\'t scrolling, so it tries to render all the items at once.', 'Scroller:', this.$el);\n        console.log('Make sure the scroller has a fixed height (or width) and \\'overflow-y\\' (or \\'overflow-x\\') set to \\'auto\\' so it can scroll correctly and only render the items visible in the scroll viewport.');\n      });\n      throw new Error('Rendered items limit reached')\n    },\n\n    sortViews () {\n      this.pool.sort((viewA, viewB) => viewA.nr.index - viewB.nr.index);\n    },\n  },\n};\n\nconst _hoisted_1 = {\n  key: 0,\n  ref: \"before\",\n  class: \"vue-recycle-scroller__slot\"\n};\nconst _hoisted_2 = {\n  key: 1,\n  ref: \"after\",\n  class: \"vue-recycle-scroller__slot\"\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ResizeObserver = resolveComponent(\"ResizeObserver\");\n  const _directive_observe_visibility = resolveDirective(\"observe-visibility\");\n\n  return withDirectives((openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"vue-recycle-scroller\", {\n      ready: $data.ready,\n      'page-mode': $props.pageMode,\n      [`direction-${_ctx.direction}`]: true,\n    }]),\n    onScrollPassive: _cache[0] || (_cache[0] = (...args) => ($options.handleScroll && $options.handleScroll(...args)))\n  }, [\n    (_ctx.$slots.before)\n      ? (openBlock(), createElementBlock(\"div\", _hoisted_1, [\n          renderSlot(_ctx.$slots, \"before\")\n        ], 512 /* NEED_PATCH */))\n      : createCommentVNode(\"v-if\", true),\n    (openBlock(), createBlock(resolveDynamicComponent($props.listTag), {\n      ref: \"wrapper\",\n      style: normalizeStyle({ [_ctx.direction === 'vertical' ? 'minHeight' : 'minWidth']: $data.totalSize + 'px' }),\n      class: normalizeClass([\"vue-recycle-scroller__item-wrapper\", $props.listClass])\n    }, {\n      default: withCtx(() => [\n        (openBlock(true), createElementBlock(Fragment, null, renderList($data.pool, (view) => {\n          return (openBlock(), createBlock(resolveDynamicComponent($props.itemTag), mergeProps({\n            key: view.nr.id,\n            style: $data.ready ? {\n          transform: `translate${_ctx.direction === 'vertical' ? 'Y' : 'X'}(${view.position}px) translate${_ctx.direction === 'vertical' ? 'X' : 'Y'}(${view.offset}px)`,\n          width: $props.gridItems ? `${_ctx.direction === 'vertical' ? $props.itemSecondarySize || $props.itemSize : $props.itemSize}px` : undefined,\n          height: $props.gridItems ? `${_ctx.direction === 'horizontal' ? $props.itemSecondarySize || $props.itemSize : $props.itemSize}px` : undefined,\n        } : null,\n            class: [\"vue-recycle-scroller__item-view\", [\n          $props.itemClass,\n          {\n            hover: !$props.skipHover && $data.hoverKey === view.nr.key\n          },\n        ]]\n          }, toHandlers($props.skipHover ? {} : {\n          mouseenter: () => { $data.hoverKey = view.nr.key; },\n          mouseleave: () => { $data.hoverKey = null; },\n        })), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\", {\n                item: view.item,\n                index: view.nr.index,\n                active: view.nr.used\n              })\n            ]),\n            _: 2 /* DYNAMIC */\n          }, 1040 /* FULL_PROPS, DYNAMIC_SLOTS */, [\"style\", \"class\"]))\n        }), 128 /* KEYED_FRAGMENT */)),\n        renderSlot(_ctx.$slots, \"empty\")\n      ]),\n      _: 3 /* FORWARDED */\n    }, 8 /* PROPS */, [\"style\", \"class\"])),\n    (_ctx.$slots.after)\n      ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n          renderSlot(_ctx.$slots, \"after\")\n        ], 512 /* NEED_PATCH */))\n      : createCommentVNode(\"v-if\", true),\n    createVNode(_component_ResizeObserver, { onNotify: $options.handleResize }, null, 8 /* PROPS */, [\"onNotify\"])\n  ], 34 /* CLASS, HYDRATE_EVENTS */)), [\n    [_directive_observe_visibility, $options.handleVisibilityChange]\n  ])\n}\n\nscript$2.render = render$1;\nscript$2.__file = \"src/components/RecycleScroller.vue\";\n\nvar script$1 = {\n  name: 'DynamicScroller',\n\n  components: {\n    RecycleScroller: script$2,\n  },\n\n  provide () {\n    if (typeof ResizeObserver !== 'undefined') {\n      this.$_resizeObserver = new ResizeObserver(entries => {\n        requestAnimationFrame(() => {\n          if (!Array.isArray(entries)) {\n            return\n          }\n          for (const entry of entries) {\n            if (entry.target && entry.target.$_vs_onResize) {\n              let width, height;\n              if (entry.borderBoxSize) {\n                const resizeObserverSize = entry.borderBoxSize[0];\n                width = resizeObserverSize.inlineSize;\n                height = resizeObserverSize.blockSize;\n              } else {\n                // @TODO remove when contentRect is deprecated\n                width = entry.contentRect.width;\n                height = entry.contentRect.height;\n              }\n              entry.target.$_vs_onResize(entry.target.$_vs_id, width, height);\n            }\n          }\n        });\n      });\n    }\n\n    return {\n      vscrollData: this.vscrollData,\n      vscrollParent: this,\n      vscrollResizeObserver: this.$_resizeObserver,\n    }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    ...props,\n\n    minItemSize: {\n      type: [Number, String],\n      required: true,\n    },\n  },\n\n  emits: [\n    'resize',\n    'visible',\n  ],\n\n  data () {\n    return {\n      vscrollData: {\n        active: true,\n        sizes: {},\n        keyField: this.keyField,\n        simpleArray: false,\n      },\n    }\n  },\n\n  computed: {\n    simpleArray,\n\n    itemsWithSize () {\n      const result = [];\n      const { items, keyField, simpleArray } = this;\n      const sizes = this.vscrollData.sizes;\n      const l = items.length;\n      for (let i = 0; i < l; i++) {\n        const item = items[i];\n        const id = simpleArray ? i : item[keyField];\n        let size = sizes[id];\n        if (typeof size === 'undefined' && !this.$_undefinedMap[id]) {\n          size = 0;\n        }\n        result.push({\n          item,\n          id,\n          size,\n        });\n      }\n      return result\n    },\n  },\n\n  watch: {\n    items () {\n      this.forceUpdate();\n    },\n\n    simpleArray: {\n      handler (value) {\n        this.vscrollData.simpleArray = value;\n      },\n      immediate: true,\n    },\n\n    direction (value) {\n      this.forceUpdate(true);\n    },\n\n    itemsWithSize (next, prev) {\n      const scrollTop = this.$el.scrollTop;\n\n      // Calculate total diff between prev and next sizes\n      // over current scroll top. Then add it to scrollTop to\n      // avoid jumping the contents that the user is seeing.\n      let prevActiveTop = 0; let activeTop = 0;\n      const length = Math.min(next.length, prev.length);\n      for (let i = 0; i < length; i++) {\n        if (prevActiveTop >= scrollTop) {\n          break\n        }\n        prevActiveTop += prev[i].size || this.minItemSize;\n        activeTop += next[i].size || this.minItemSize;\n      }\n      const offset = activeTop - prevActiveTop;\n\n      if (offset === 0) {\n        return\n      }\n\n      this.$el.scrollTop += offset;\n    },\n  },\n\n  beforeCreate () {\n    this.$_updates = [];\n    this.$_undefinedSizes = 0;\n    this.$_undefinedMap = {};\n    this.$_events = mitt();\n  },\n\n  activated () {\n    this.vscrollData.active = true;\n  },\n\n  deactivated () {\n    this.vscrollData.active = false;\n  },\n\n  unmounted () {\n    this.$_events.all.clear();\n  },\n\n  methods: {\n    onScrollerResize () {\n      const scroller = this.$refs.scroller;\n      if (scroller) {\n        this.forceUpdate();\n      }\n      this.$emit('resize');\n    },\n\n    onScrollerVisible () {\n      this.$_events.emit('vscroll:update', { force: false });\n      this.$emit('visible');\n    },\n\n    forceUpdate (clear = false) {\n      if (clear || this.simpleArray) {\n        this.vscrollData.sizes = {};\n      }\n      this.$_events.emit('vscroll:update', { force: true });\n    },\n\n    scrollToItem (index) {\n      const scroller = this.$refs.scroller;\n      if (scroller) scroller.scrollToItem(index);\n    },\n\n    getItemSize (item, index = undefined) {\n      const id = this.simpleArray ? (index != null ? index : this.items.indexOf(item)) : item[this.keyField];\n      return this.vscrollData.sizes[id] || 0\n    },\n\n    scrollToBottom () {\n      if (this.$_scrollingToBottom) return\n      this.$_scrollingToBottom = true;\n      const el = this.$el;\n      // Item is inserted to the DOM\n      this.$nextTick(() => {\n        el.scrollTop = el.scrollHeight + 5000;\n        // Item sizes are computed\n        const cb = () => {\n          el.scrollTop = el.scrollHeight + 5000;\n          requestAnimationFrame(() => {\n            el.scrollTop = el.scrollHeight + 5000;\n            if (this.$_undefinedSizes === 0) {\n              this.$_scrollingToBottom = false;\n            } else {\n              requestAnimationFrame(cb);\n            }\n          });\n        };\n        requestAnimationFrame(cb);\n      });\n    },\n  },\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RecycleScroller = resolveComponent(\"RecycleScroller\");\n\n  return (openBlock(), createBlock(_component_RecycleScroller, mergeProps({\n    ref: \"scroller\",\n    items: $options.itemsWithSize,\n    \"min-item-size\": $props.minItemSize,\n    direction: _ctx.direction,\n    \"key-field\": \"id\",\n    \"list-tag\": _ctx.listTag,\n    \"item-tag\": _ctx.itemTag\n  }, _ctx.$attrs, {\n    onResize: $options.onScrollerResize,\n    onVisible: $options.onScrollerVisible\n  }), {\n    default: withCtx(({ item: itemWithSize, index, active }) => [\n      renderSlot(_ctx.$slots, \"default\", normalizeProps(guardReactiveProps({\n          item: itemWithSize.item,\n          index,\n          active,\n          itemWithSize\n        })))\n    ]),\n    before: withCtx(() => [\n      renderSlot(_ctx.$slots, \"before\")\n    ]),\n    after: withCtx(() => [\n      renderSlot(_ctx.$slots, \"after\")\n    ]),\n    empty: withCtx(() => [\n      renderSlot(_ctx.$slots, \"empty\")\n    ]),\n    _: 3 /* FORWARDED */\n  }, 16 /* FULL_PROPS */, [\"items\", \"min-item-size\", \"direction\", \"list-tag\", \"item-tag\", \"onResize\", \"onVisible\"]))\n}\n\nscript$1.render = render;\nscript$1.__file = \"src/components/DynamicScroller.vue\";\n\nvar script = {\n  name: 'DynamicScrollerItem',\n\n  inject: [\n    'vscrollData',\n    'vscrollParent',\n    'vscrollResizeObserver',\n  ],\n\n  props: {\n    // eslint-disable-next-line vue/require-prop-types\n    item: {\n      required: true,\n    },\n\n    watchData: {\n      type: Boolean,\n      default: false,\n    },\n\n    /**\n     * Indicates if the view is actively used to display an item.\n     */\n    active: {\n      type: Boolean,\n      required: true,\n    },\n\n    index: {\n      type: Number,\n      default: undefined,\n    },\n\n    sizeDependencies: {\n      type: [Array, Object],\n      default: null,\n    },\n\n    emitResize: {\n      type: Boolean,\n      default: false,\n    },\n\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n\n  emits: [\n    'resize',\n  ],\n\n  computed: {\n    id () {\n      if (this.vscrollData.simpleArray) return this.index\n      // eslint-disable-next-line no-prototype-builtins\n      if (this.vscrollData.keyField in this.item) return this.item[this.vscrollData.keyField]\n      throw new Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)\n    },\n\n    size () {\n      return this.vscrollData.sizes[this.id] || 0\n    },\n\n    finalActive () {\n      return this.active && this.vscrollData.active\n    },\n  },\n\n  watch: {\n    watchData: 'updateWatchData',\n\n    id (value, oldValue) {\n      this.$el.$_vs_id = this.id;\n      if (!this.size) {\n        this.onDataUpdate();\n      }\n\n      if (this.$_sizeObserved) {\n        // In case the old item had the same size, it won't trigger the ResizeObserver\n        // since we are reusing the same DOM node\n        const oldSize = this.vscrollData.sizes[oldValue];\n        const size = this.vscrollData.sizes[value];\n        if (oldSize != null && oldSize !== size) {\n          this.applySize(oldSize);\n        }\n      }\n    },\n\n    finalActive (value) {\n      if (!this.size) {\n        if (value) {\n          if (!this.vscrollParent.$_undefinedMap[this.id]) {\n            this.vscrollParent.$_undefinedSizes++;\n            this.vscrollParent.$_undefinedMap[this.id] = true;\n          }\n        } else {\n          if (this.vscrollParent.$_undefinedMap[this.id]) {\n            this.vscrollParent.$_undefinedSizes--;\n            this.vscrollParent.$_undefinedMap[this.id] = false;\n          }\n        }\n      }\n\n      if (this.vscrollResizeObserver) {\n        if (value) {\n          this.observeSize();\n        } else {\n          this.unobserveSize();\n        }\n      } else if (value && this.$_pendingVScrollUpdate === this.id) {\n        this.updateSize();\n      }\n    },\n  },\n\n  created () {\n    if (this.$isServer) return\n\n    this.$_forceNextVScrollUpdate = null;\n    this.updateWatchData();\n\n    if (!this.vscrollResizeObserver) {\n      for (const k in this.sizeDependencies) {\n        this.$watch(() => this.sizeDependencies[k], this.onDataUpdate);\n      }\n\n      this.vscrollParent.$_events.on('vscroll:update', this.onVscrollUpdate);\n    }\n  },\n\n  mounted () {\n    if (this.finalActive) {\n      this.updateSize();\n      this.observeSize();\n    }\n  },\n\n  beforeUnmount () {\n    this.vscrollParent.$_events.off('vscroll:update', this.onVscrollUpdate);\n    this.unobserveSize();\n  },\n\n  methods: {\n    updateSize () {\n      if (this.finalActive) {\n        if (this.$_pendingSizeUpdate !== this.id) {\n          this.$_pendingSizeUpdate = this.id;\n          this.$_forceNextVScrollUpdate = null;\n          this.$_pendingVScrollUpdate = null;\n          this.computeSize(this.id);\n        }\n      } else {\n        this.$_forceNextVScrollUpdate = this.id;\n      }\n    },\n\n    updateWatchData () {\n      if (this.watchData && !this.vscrollResizeObserver) {\n        this.$_watchData = this.$watch('item', () => {\n          this.onDataUpdate();\n        }, {\n          deep: true,\n        });\n      } else if (this.$_watchData) {\n        this.$_watchData();\n        this.$_watchData = null;\n      }\n    },\n\n    onVscrollUpdate ({ force }) {\n      // If not active, sechedule a size update when it becomes active\n      if (!this.finalActive && force) {\n        this.$_pendingVScrollUpdate = this.id;\n      }\n\n      if (this.$_forceNextVScrollUpdate === this.id || force || !this.size) {\n        this.updateSize();\n      }\n    },\n\n    onDataUpdate () {\n      this.updateSize();\n    },\n\n    computeSize (id) {\n      this.$nextTick(() => {\n        if (this.id === id) {\n          const width = this.$el.offsetWidth;\n          const height = this.$el.offsetHeight;\n          this.applyWidthHeight(width, height);\n        }\n        this.$_pendingSizeUpdate = null;\n      });\n    },\n\n    applyWidthHeight (width, height) {\n      const size = ~~(this.vscrollParent.direction === 'vertical' ? height : width);\n      if (size && this.size !== size) {\n        this.applySize(size);\n      }\n    },\n\n    applySize (size) {\n      if (this.vscrollParent.$_undefinedMap[this.id]) {\n        this.vscrollParent.$_undefinedSizes--;\n        this.vscrollParent.$_undefinedMap[this.id] = undefined;\n      }\n      this.vscrollData.sizes[this.id] = size;\n      if (this.emitResize) this.$emit('resize', this.id);\n    },\n\n    observeSize () {\n      if (!this.vscrollResizeObserver) return\n      if (this.$_sizeObserved) return\n      this.vscrollResizeObserver.observe(this.$el);\n      this.$el.$_vs_id = this.id;\n      this.$el.$_vs_onResize = this.onResize;\n      this.$_sizeObserved = true;\n    },\n\n    unobserveSize () {\n      if (!this.vscrollResizeObserver) return\n      if (!this.$_sizeObserved) return\n      this.vscrollResizeObserver.unobserve(this.$el);\n      this.$el.$_vs_onResize = undefined;\n      this.$_sizeObserved = false;\n    },\n\n    onResize (id, width, height) {\n      if (this.id === id) {\n        this.applyWidthHeight(width, height);\n      }\n    },\n  },\n\n  render () {\n    return h(this.tag, this.$slots.default())\n  },\n};\n\nscript.__file = \"src/components/DynamicScrollerItem.vue\";\n\nfunction IdState () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref$idProp = _ref.idProp,\n    idProp = _ref$idProp === void 0 ? function (vm) {\n      return vm.item.id;\n    } : _ref$idProp;\n  var store = reactive({});\n\n  // @vue/component\n  return {\n    data: function data() {\n      return {\n        idState: null\n      };\n    },\n    created: function created() {\n      var _this = this;\n      this.$_id = null;\n      if (typeof idProp === 'function') {\n        this.$_getId = function () {\n          return idProp.call(_this, _this);\n        };\n      } else {\n        this.$_getId = function () {\n          return _this[idProp];\n        };\n      }\n      this.$watch(this.$_getId, {\n        handler: function handler(value) {\n          var _this2 = this;\n          this.$nextTick(function () {\n            _this2.$_id = value;\n          });\n        },\n        immediate: true\n      });\n      this.$_updateIdState();\n    },\n    beforeUpdate: function beforeUpdate() {\n      this.$_updateIdState();\n    },\n    methods: {\n      /**\n       * Initialize an idState\n       * @param {number|string} id Unique id for the data\n       */$_idStateInit: function $_idStateInit(id) {\n        var factory = this.$options.idState;\n        if (typeof factory === 'function') {\n          var data = factory.call(this, this);\n          store[id] = data;\n          this.$_id = id;\n          return data;\n        } else {\n          throw new Error('[mixin IdState] Missing `idState` function on component definition.');\n        }\n      },\n      /**\n       * Ensure idState is created and up-to-date\n       */$_updateIdState: function $_updateIdState() {\n        var id = this.$_getId();\n        if (id == null) {\n          console.warn(\"No id found for IdState with idProp: '\".concat(idProp, \"'.\"));\n        }\n        if (id !== this.$_id) {\n          if (!store[id]) {\n            this.$_idStateInit(id);\n          }\n          this.idState = store[id];\n        }\n      }\n    }\n  };\n}\n\nfunction registerComponents(app, prefix) {\n  app.component(\"\".concat(prefix, \"recycle-scroller\"), script$2);\n  app.component(\"\".concat(prefix, \"RecycleScroller\"), script$2);\n  app.component(\"\".concat(prefix, \"dynamic-scroller\"), script$1);\n  app.component(\"\".concat(prefix, \"DynamicScroller\"), script$1);\n  app.component(\"\".concat(prefix, \"dynamic-scroller-item\"), script);\n  app.component(\"\".concat(prefix, \"DynamicScrollerItem\"), script);\n}\nvar plugin = {\n  // eslint-disable-next-line no-undef\n  version: \"2.0.0-beta.8\",\n  install: function install(app, options) {\n    var finalOptions = Object.assign({}, {\n      installComponents: true,\n      componentsPrefix: ''\n    }, options);\n    for (var key in finalOptions) {\n      if (typeof finalOptions[key] !== 'undefined') {\n        config[key] = finalOptions[key];\n      }\n    }\n    if (finalOptions.installComponents) {\n      registerComponents(app, finalOptions.componentsPrefix);\n    }\n  }\n};\n\nexport { script$1 as DynamicScroller, script as DynamicScrollerItem, IdState, script$2 as RecycleScroller, plugin as default };\n//# sourceMappingURL=vue-virtual-scroller.esm.js.map\n","\nimport { defineComponent } from 'vue'\nimport { Option } from '../Forms/FieldInterface'\nimport SelectMixin from \"@/components/FormElements/SelectMixin.vue\"\nimport { find } from \"lodash\"\nimport {\n    IonItem,\n    IonLabel\n} from \"@ionic/vue\"\nimport { DynamicScroller } from 'vue-virtual-scroller';\n\nexport default defineComponent({\n    name: \"HisSelect\",\n    components: {\n        IonItem,\n        IonLabel,\n        DynamicScroller\n    },\n    mixins: [SelectMixin],\n    data: () => ({\n        isInit: false as boolean\n    }),\n    mounted() {\n        this.init()\n    },\n    activated() {\n        this.init()    \n    },\n    methods: {\n        clearValue() { \n            this.clearSelection() \n        },\n        async init() {\n            this.$emit('onFieldActivated', this)\n            this.listData = await this.options(this.fdata)\n            if (!this.isInit) {\n                await this.setDefaultValue()\n            } else {\n                if (typeof this.config.onInitValue === 'function') {\n                    const defaults: string = await this.config.onInitValue(this.selected, this.fdata, this.cdata)\n                    if (defaults) {\n                        const found = find(this.listData, {label: defaults}) || find(this.listData, {value: defaults}) \n                        if (found) {\n                            this.onselect(found)\n                        } else {\n                            this.selected = defaults\n                            this.filter = defaults\n                        }\n                    } else {\n                        this.onselect(null)\n                        this.filter = ''\n                    }\n                }\n            }\n            this.isInit = true\n        },\n        async setDefaultValue() {\n            if(this.defaultValue) {\n                const defaults: string = await this.defaultValue(this.fdata, this.cdata, this.selected)\n                if (defaults) {\n                    const found = find(this.listData, {label: defaults}) || find(this.listData, {value: defaults}) \n                    if (found) {\n                        this.onselect(found)\n                    } else {\n                        this.selected = defaults\n                        this.filter = defaults\n                    }\n                }\n            }\n        },\n        async onselect(item: Option | null) {\n            if (item) {\n                this.selected = item.label\n            } else {\n                this.selected = ''\n            }\n            if (this.onValue) {\n                const ok = await this.onValue(item, this)\n                if (!ok) {\n                    this.selected = ''\n                    return\n                }\n            }\n            this.$emit('onValue', item)\n        }\n    }\n})\n","import { render } from \"./HisSelect.vue?vue&type=template&id=f0385dda&scoped=true&ts=true\"\nimport script from \"./HisSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./HisSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./HisSelect.vue?vue&type=style&index=0&id=f0385dda&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f0385dda\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"his-floating-keyboard\" }\nconst _hoisted_2 = { class: \"his-floating-keyboard-content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_keyboard = _resolveComponent(\"base-keyboard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.activeLayout, (layout, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", { key: index }, [\n          _createVNode(_component_base_keyboard, {\n            layout: layout,\n            onKeyPress: _ctx.keypress\n          }, null, 8, [\"layout\", \"onKeyPress\"])\n        ]))\n      }), 128))\n    ])\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport { KEY_BTN_NAV } from \"@/components/Keyboard/HisKbConfigurations\"\nimport BaseKeyboard from \"@/components/Keyboard/BaseKeyboard.vue\";\nexport default defineComponent({\n  components: { BaseKeyboard},\n  props: {\n    initalKeyboardName: {\n      type: String\n    },\n    kbConfig: {\n      type: Array,\n      required: true\n    },\n    onKeyPress: {\n      type: Function,\n      required: true,\n    },\n  },\n  data: () => ({\n    activeLayout: {} as Array<any>\n  }),\n  watch: {\n    initalKeyboardName: {\n      handler(name: string) {\n        if (name) {\n          this.$nextTick(() => this.switchKeyboard(name))\n        }\n      },\n      immediate: true\n    },\n    kbConfig: {\n      handler(keyboard: Array<any>){\n        if(keyboard) {\n          this.activeLayout = keyboard\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    keypress(key: any) {\n      if (!this.isFunctionKey(key)) {\n        this.onKeyPress(key);\n      }\n    },\n    isFunctionKey(key: string) {  \n      if (this.switchKeyboard(key)) {\n        return true\n      }\n      return false\n    },\n    switchKeyboard(key: string): boolean {\n      const kbIndex = KEY_BTN_NAV.map(item => item.btn).indexOf(key)\n      if (kbIndex >= 0) {\n        this.activeLayout = KEY_BTN_NAV[kbIndex].keyboard\n        return true\n      }\n      return false\n    }\n  },\n});\n","import { render } from \"./HisKeyboard.vue?vue&type=template&id=7167c7d4&ts=true\"\nimport script from \"./HisKeyboard.vue?vue&type=script&lang=ts\"\nexport * from \"./HisKeyboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}