(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6357648c"],{"0dfe":function(e,t,n){},3286:function(e,t,n){"use strict";n.r(t);n("b0c0");var r=n("7a23"),o=Object(r["withScopeId"])("data-v-31e11cd2");Object(r["pushScopeId"])("data-v-31e11cd2");var c=Object(r["createTextVNode"])(" Drug Set "),u=Object(r["createTextVNode"])(" Cancel "),a=Object(r["createTextVNode"])(" Void Drug Set "),i=Object(r["createTextVNode"])(" Add Drug Set ");Object(r["popScopeId"])();var s=o((function(e,t,n,s,l,d){var b=Object(r["resolveComponent"])("ion-title"),f=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header"),j=Object(r["resolveComponent"])("ion-label"),O=Object(r["resolveComponent"])("ion-item"),v=Object(r["resolveComponent"])("ion-list"),g=Object(r["resolveComponent"])("ion-col"),m=Object(r["resolveComponent"])("report-data-table"),h=Object(r["resolveComponent"])("ion-row"),k=Object(r["resolveComponent"])("ion-grid"),C=Object(r["resolveComponent"])("view-port"),_=Object(r["resolveComponent"])("ion-content"),w=Object(r["resolveComponent"])("ion-button"),S=Object(r["resolveComponent"])("ion-footer"),y=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(y,null,{default:o((function(){return[Object(r["createVNode"])(p,null,{default:o((function(){return[Object(r["createVNode"])(f,null,{default:o((function(){return[Object(r["createVNode"])(b,{class:"his-lg-text"},{default:o((function(){return[c]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(_,null,{default:o((function(){return[Object(r["createVNode"])(C,null,{default:o((function(){return[Object(r["createVNode"])(k,{style:{"background-color":"white"},class:"view-port-content"},{default:o((function(){return[Object(r["createVNode"])(h,null,{default:o((function(){return[Object(r["createVNode"])(g,{size:"4"},{default:o((function(){return[Object(r["createVNode"])(v,null,{default:o((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugSets,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(O,{class:"his-sm-text",button:"",detail:"",color:e.selectedDrugSet.id===t.id?"lightblue":"",onClick:function(n){return e.selectedDrugSet=t},key:n},{default:o((function(){return[Object(r["createVNode"])(j,null,{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(g,{size:"8"},{default:o((function(){return[Object(r["createVNode"])(m,{columns:e.drugSetColumns,rows:e.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(S,null,{default:o((function(){return[Object(r["createVNode"])(f,{color:"dark"},{default:o((function(){return[Object(r["createVNode"])(w,{onClick:e.cancel,slot:"start",color:"danger",size:"large"},{default:o((function(){return[u]})),_:1},8,["onClick"]),e.hasSelectedDrugSet?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,onClick:e.voidDrugset,slot:"end",color:"danger",size:"large"},{default:o((function(){return[a]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(w,{onClick:e.addDrugset,slot:"end",color:"success",size:"large"},{default:o((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),l=n("1da1"),d=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("0a79")),b=n("80e3"),f=n("9ceb"),p=n("8a30"),j=n("c84b"),O=n("2ef0"),v=n("6c02"),g=n("b5e4"),m=Object(r["defineComponent"])({components:{IonPage:p["D"],ReportDataTable:b["a"],IonList:p["y"],IonItem:p["w"],IonLabel:p["x"],ViewPort:d["a"],IonButton:p["d"],IonContent:p["n"],IonHeader:p["q"],IonGrid:p["p"],IonRow:p["H"],IonCol:p["m"],IonTitle:p["P"],IonFooter:p["o"],IonToolbar:p["Q"]},setup:function(){var e=Object(v["f"])(),t=Object(r["ref"])({}),n=Object(r["ref"])([]),o=[[f["a"].thTxt("Drug"),f["a"].thTxt("Duration in days"),f["a"].thTxt("Frequency")]],c=Object(r["computed"])((function(){return!Object(O["isEmpty"])(n.value)})),u=Object(r["computed"])((function(){var e,n;return(null===(e=t.value)||void 0===e||null===(n=e.drugs)||void 0===n?void 0:n.map((function(e){return[f["a"].td(e["drug_name"]||"N/A"),f["a"].td(e.duration||"N/A"),f["a"].td(e.frequency)]})))||[]}));function a(){e.back()}function i(){e.push({name:"add anc drugset"})}function s(){return d.apply(this,arguments)}function d(){return d=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["a"])("Are you sure you want to void this drug set?");case 2:if(!e.sent){e.next=13;break}return e.prev=3,e.next=6,j["a"].voidDrugSet(t.value.id||-1);case 6:n.value=n.value.filter((function(e){return e.id!=t.value.id})),Object(O["isEmpty"])(n.value)?t.value={}:t.value=n.value[0],e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Object(g["e"])("e");case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),d.apply(this,arguments)}return Object(r["onMounted"])(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].getDrugSets();case 2:n.value=e.sent,Object(O["isEmpty"])(n.value)||(t.value=n.value[0]);case 4:case"end":return e.stop()}}),e)})))),{cancel:a,addDrugset:i,voidDrugset:s,drugSets:n,hasSelectedDrugSet:c,selectedDrugSet:t,drugSetColumns:o,drugSetRows:u}}}),h=(n("5271"),n("6b0d")),k=n.n(h);const C=k()(m,[["render",s],["__scopeId","data-v-31e11cd2"]]);t["default"]=C},5271:function(e,t,n){"use strict";n("0dfe")},c84b:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("2909"),o=n("1da1"),c=n("5530"),u=n("d4ec"),a=n("bee2"),i=n("262e"),s=n("2caf"),l=(n("96cf"),n("d3b7"),n("b64b"),n("99af"),n("1c74")),d=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,null,[{key:"saveDrugSet",value:function(e){var t=Object(c["a"])({},e);return t["datetime"]=l["e"].getSessionDate(),this.postJson("/drug_sets",e)}},{key:"voidDrugSet",value:function(e){return this.void("/drug_sets/".concat(e),{date:this.getSessionDate()})}},{key:"getDrugSets",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("drug_sets");case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return",Object.keys(t["set_names"]).reduce((function(e,n){var o=t["set_names"][n],u=t["set_descriptions"][n],a=t["drug_sets"][n];return e.push({id:parseInt(n),name:o,description:u,drugs:Object.keys(a).reduce((function(e,t){return[].concat(Object(r["a"])(e),[Object(c["a"])(Object(c["a"])({id:parseInt(t)},a[t]),{},{drug_name:a[t].drug_name,duration:parseInt(a[t].duration),frequency:a[t].frequency,units:a[t].units})])}),[])}),e}),[]));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(l["e"])}}]);
//# sourceMappingURL=chunk-6357648c.d960677e.js.map