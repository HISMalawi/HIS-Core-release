(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],l=0,p=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function i(e){return c.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-02c995b5":"9050fc3e","chunk-09155df3":"d176fe66","chunk-09162720":"468ca8fb","chunk-097e0872":"a6cb5166","chunk-0e93a01c":"bbdf676b","chunk-1dbc15a2":"5d864775","chunk-1f3fa45a":"b1bda72c","chunk-21a76241":"ac6e0de7","chunk-25d83ca8":"896095ec","chunk-2d0a3ffc":"ae92ec73","chunk-2d0a463b":"b45d4f52","chunk-2d0a4d35":"f31e81c8","chunk-2d0aaf0b":"bef36142","chunk-2d0b32f8":"7cc92b09","chunk-2d0b347d":"d324467f","chunk-2d0b5a09":"131dfb69","chunk-2d0c073f":"33aba11a","chunk-2d0cc7e7":"d613af23","chunk-2d0d43da":"b017c710","chunk-2d0d5c2c":"12119d11","chunk-2d0d6f0e":"80055871","chunk-2d0da04a":"2b98c3c4","chunk-2d0e1dc0":"c14884ae","chunk-2d0e2514":"677c9e85","chunk-2d0e4a6e":"75f47d56","chunk-2d0e5812":"e25ef378","chunk-2d0e8890":"cebaeb23","chunk-2d208702":"36ed287c","chunk-2d213189":"83ee02f5","chunk-2d216214":"28e94c12","chunk-2d216257":"57660cd9","chunk-2d218068":"371d94a4","chunk-2d21da73":"e30693b3","chunk-2d226ccc":"c331171a","chunk-2d228961":"fbac9439","chunk-2d2297b9":"c7c1740f","chunk-2d22c6d4":"8237f958","chunk-2d2304d2":"2178b8d3","chunk-2d237731":"825beb7e","chunk-30dd9750":"d0a9e288","chunk-34f7327c":"67278737","chunk-37f2300e":"cf56800e","chunk-3ed29de3":"a8202571","chunk-41c0f7a4":"b3628b32","chunk-462c869e":"d8b69fa9","chunk-541ea42d":"6801f53e","chunk-54bbd082":"2f8d3a41","chunk-59d4c87c":"ad70e331","chunk-5a8ac886":"074a280f","chunk-5ff96a24":"5871e412","chunk-69eb8776":"ac01e65c","chunk-6d375f34":"81bdc788","chunk-706e4ef2":"afedef7a","chunk-7548ca2d":"e9cccde8","chunk-77362677":"1553c54d","chunk-79f1dac7":"3576f31b","chunk-858cd918":"3668dc07","chunk-8bb7f81e":"6ab39f3c","chunk-a9395c36":"34448e03","chunk-c53d26f0":"2f7287fb","chunk-c567cc2a":"f44305ea","chunk-d0e8aa0a":"c335d8ce","chunk-d8413eac":"5f5a1452","chunk-eaa2b130":"3c341c2d","chunk-f858ef4e":"b903f468","chunk-fd7880fc":"ca7fcd78","polyfills-core-js":"8da452c8","polyfills-dom":"5c1a31ff","chunk-7460fd43":"91d53096","chunk-2d0b33e3":"64be60e2","chunk-2d0e19fd":"55dbdcb5","chunk-2d0e528a":"e905f27b","chunk-2d0f1533":"176694a1","chunk-2d230101":"c895fcbf","chunk-2d2376e6":"a351546d"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0011":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ac1f"),n("466d");function r(e){try{return e.match(/(^\s*$|None)/i)}catch(t){return!0}}},"014e":function(e,t,n){"use strict";n("b80d")},"0167":function(e,t,n){},"03c5":function(e,t,n){"use strict";n("c46e")},"06b8":function(e,t,n){"use strict";n("0850")},"0734":function(e,t,n){"use strict";n("47eb")},"07a2":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-5a25b4b9");Object(r["pushScopeId"])("data-v-5a25b4b9");var o={key:0},i={key:1};Object(r["popScopeId"])();var c=a((function(e,t,n,a,c,s){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card ".concat(e.state),onClick:t[1]||(t[1]=function(t){return e.$emit("onclick")})},[e.enabled?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("s",o,Object(r["toDisplayString"])(e.label),1)),e.enabled?(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,Object(r["toDisplayString"])(e.label),1)):Object(r["createCommentVNode"])("",!0)],2)})),s=Object(r["defineComponent"])({props:{color:{type:String},enabled:{type:Boolean,default:!0},label:{type:String,required:!0}},computed:{state:function(){return this.enabled?"clickable ".concat(this.color):"disabled-card-color"}}}),u=(n("3c4b"),n("d959")),l=n.n(u);const d=l()(s,[["render",c],["__scopeId","data-v-5a25b4b9"]]);t["a"]=d},"07f0":function(e,t,n){},"0850":function(e,t,n){},"0a79":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-4e7c9c40"),o=a((function(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{id:"view-port",class:e.showFull?"":"half"},[Object(r["renderSlot"])(e.$slots,"default")],2)})),i=Object(r["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:function(){return!0}}}}),c=(n("19f9"),n("d959")),s=n.n(c);const u=s()(i,[["render",o],["__scopeId","data-v-4e7c9c40"]]);t["a"]=u},"0ba8":function(e,t,n){"use strict";var r=n("c0e2");t["a"]=new r["TinyEmitter"]},"0ca4":function(e,t,n){"use strict";n("edb1")},"0f25":function(e,t,n){"use strict";n("b0c0");var r=n("7a23");function a(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{color:e.color},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.footerBtns,(function(e,t){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t,slot:e.slot,onClick:function(t){return e.onClick(e)},color:e.color,class:e.styleClass,size:e.size},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:2},1032,["slot","onClick","color","class","size"])),[[r["vShow"],e.visible]])})),128))]})),_:1},8,["color"])]})),_:1})}n("d81d");var o=n("2909"),i=n("8a30"),c=Object(r["defineComponent"])({name:"HisNavFooter",data:function(){return{footerBtns:[]}},created:function(){this.$emit("onFooterInstance",this)},props:{color:{type:String,default:"dark"},state:{type:Object},btns:{type:Object,required:!0}},components:{IonButton:i["d"],IonFooter:i["n"],IonToolbar:i["K"]},watch:{state:{handler:function(e){e&&(this.footerBtns=this.footerBtns.map((function(t){return t.visibleOnStateChange&&(t.visible=t.visibleOnStateChange(e)),t})))},deep:!0,immediate:!0},btns:{handler:function(e){e&&(this.footerBtns=Object(o["a"])(e))},deep:!0,immediate:!0}}}),s=n("d959"),u=n.n(s);const l=u()(c,[["render",a]]);t["a"]=l},"0f91":function(e,t,n){"use strict";n("a1f3")},"0fa1":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("b0c0"),n("96cf");var r=n("1da1"),a=n("50e7");function o(e,t){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a["a"].nextTask(t);case 3:if(r=e.sent,o=r.name,!o){e.next=8;break}return n.push({name:o.toLowerCase(),params:{patient_id:t}}),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.warn(e.t0);case 13:n.push("/patient/dashboard/".concat(t));case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),i.apply(this,arguments)}},"10be":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-0816833e");Object(r["pushScopeId"])("data-v-0816833e");var o={class:"keypad"};Object(r["popScopeId"])();var i=a((function(e,t,n,i,c,s){var u=Object(r["resolveComponent"])("ion-input"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("center"),p=Object(r["resolveComponent"])("base-keyboard"),b=Object(r["resolveComponent"])("ion-content");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:a((function(){return[Object(r["createVNode"])("div",o,[Object(r["createVNode"])(u,{value:e.value,disabled:!0,class:"keypad-input"},null,8,["value"]),Object(r["createVNode"])(d,null,{default:a((function(){return[Object(r["createVNode"])(l,null,{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title||"keypad"),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{btnSize:"96px",layout:e.keypad,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])]})),_:1})})),c=(n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("96cf"),n("1da1")),s=n("c924"),u=n("3800"),l=n("2345"),d=n("fe70"),p=Object(r["defineComponent"])({components:{BaseKeyboard:s["a"]},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0},strictNumbers:{type:Boolean,default:!1}},data:function(){return{value:"0",keypad:u["d"]}},watch:{preset:{handler:function(e){e&&(this.value=e.toString())},immediate:!0}},methods:{keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.match(/done/i)){n.next=5;break}return n.next=3,d["g"].dismiss(t.value);case 3:n.next=16;break;case 5:if(!t.strictNumbers){n.next=14;break}if(!e.includes(".")||!t.value.includes(".")){n.next=8;break}return n.abrupt("return");case 8:e.includes(".")||"0"!==t.value||(t.value=""),t.value=Object(l["a"])(e,t.value),t.value||(t.value="0"),t.onKeyPress(parseInt(t.value)),n.next=16;break;case 14:t.value=Object(l["a"])(e,t.value),t.onKeyPress(t.value);case 16:case"end":return n.stop()}}),n)})))()}}}),b=(n("30bd"),n("d959")),f=n.n(b);const m=f()(p,[["render",i],["__scopeId","data-v-0816833e"]]);t["a"]=m},1497:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),o=n("262e"),i=n("2caf"),c=n("5969"),s=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this),e.programID=23,e}return Object(a["a"])(n,[{key:"getSamplesDrawnReport",value:function(){return this.getReport("samples_drawn")}},{key:"getLabResultsReport",value:function(){return this.getReport("lab_test_results")}}]),n}(c["a"])},"156d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4160"),n("caad"),n("d3b7"),n("2532"),n("159b");var r,a=n("5530"),o=(n("96cf"),n("1da1")),i=n("0ba8");(function(e){e["BEFORE_API_REQUEST"]="before_api_request",e["AFTER_API_REQUEST"]="after_api_request",e["ON_API_CRASH"]="un_reachable_api"})(r||(r={}));var c=function(){function e(){return t.apply(this,arguments)}function t(){return t=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/config.json");case 2:if(t=e.sent,t.ok){e.next=5;break}throw"Unable to retrieve configuration file/ Invalid config.json";case 5:return e.next=7,t.json();case 7:return n=e.sent,r=n.apiURL,a=n.apiPort,o=n.apiProtocol,sessionStorage.setItem("apiURL",r),sessionStorage.setItem("apiPort",a),sessionStorage.setItem("apiProtocol",o),e.abrupt("return",{host:r,port:a,protocol:o});case 15:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function n(){var e=localStorage.apiURL,t=localStorage.apiPort,n=localStorage.apiProtocol;if(e&&t&&n)return{host:e,port:t,protocol:n}}function c(){var e=sessionStorage.apiURL,t=sessionStorage.apiPort,n=sessionStorage.apiProtocol;if(e&&t&&n)return{host:e,port:t,protocol:n}}function s(){var t=n(),r=c();return localStorage.useLocalStorage&&t?t:r||e()}function u(e){return l.apply(this,arguments)}function l(){return l=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return n=e.sent,e.abrupt("return","".concat(n.protocol,"://").concat(n.host,":").concat(n.port,"/api/v1/").concat(t));case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(){return{Authorization:sessionStorage.apiKey,"Content-Type":"application/json"}}function p(e,t,n){localStorage.setItem("useLocalStorage","true"),localStorage.setItem("apiURL",t),localStorage.setItem("apiPort",n),localStorage.setItem("apiProtocol",e)}function b(e){e.forEach((function(t){e.includes(t)&&localStorage.removeItem(t)}))}function f(e,t){return m.apply(this,arguments)}function m(){return m=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(a["a"])(Object(a["a"])({},n),{},{mode:"cors"}),"headers"in n||(n=Object(a["a"])(Object(a["a"])({},n),{},{headers:d()})),e.next=4,u(t);case 4:return o=e.sent,e.prev=5,i["a"].emit(r.BEFORE_API_REQUEST,t),e.next=9,fetch(o,n);case 9:return c=e.sent,i["a"].emit(r.AFTER_API_REQUEST,c),e.abrupt("return",c);case 14:e.prev=14,e.t0=e["catch"](5),console.error(e.t0),i["a"].emit(r.ON_API_CRASH,e.t0);case 18:case"end":return e.stop()}}),e,null,[[5,14]])}))),m.apply(this,arguments)}var h=function(e){return f(e,{method:"GET"})},g=function(e,t){return f(e,{method:"POST",body:JSON.stringify(t)})},O=function(e,t){return f(e,{method:"DELETE",body:JSON.stringify(t)})},v=function(e,t){return f(e,{method:"PUT",body:JSON.stringify(t)})},_=function(){return h("_health")};return{get:h,post:g,put:v,remove:O,getConfig:s,setLocalStorage:p,removeOnly:b,expandPath:u,healthCheck:_}}();t["b"]=c},1718:function(e,t,n){"use strict";function r(e){return"/assets/images/".concat(e)}n.d(t,"a",(function(){return r}))},1924:function(e,t,n){},"19f2":function(e,t,n){},"19f9":function(e,t,n){"use strict";n("2a32")},"1c74":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g}));n("99af"),n("caad"),n("96cf");var r=n("1da1"),a=n("bee2"),o=n("d4ec"),i=n("262e"),c=n("2caf"),s=n("9072"),u=n("156d"),l=n("bef6"),d=n("3e53"),p=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var a;return Object(o["a"])(this,n),a=t.call(this,"ENTITY Error: ".concat(e)),a.entity=r,a}return n}(Object(s["a"])(Error)),b=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,"RECORD NOT FOUND: ".concat(e))}return n}(Object(s["a"])(Error)),f=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var a;return Object(o["a"])(this,n),a=t.call(this,e),a.errors=r,a}return n}(Object(s["a"])(Error)),m=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,"API SERVICE_ERROR: ".concat(e))}return n}(Object(s["a"])(Error)),h=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,"API ERROR: ".concat(e))}return n}(Object(s["a"])(Error)),g=function(){function e(){Object(o["a"])(this,e)}return Object(a["a"])(e,null,[{key:"ajxGet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u["b"].get("".concat(e,"?").concat(l["a"].parameterizeObjToString(t)))}},{key:"getText",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["b"].get(t);case 2:if(n=e.sent,!n||!n.ok){e.next=5;break}return e.abrupt("return",null===n||void 0===n?void 0:n.text());case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getJson",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r="".concat(t,"?").concat(l["a"].parameterizeObjToString(n)),e.abrupt("return",this.jsonResponseHandler(u["b"].get(r)));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"postJson",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.jsonResponseHandler(u["b"].post(t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"putJson",value:function(e,t){return this.jsonResponseHandler(u["b"].put(e,t))}},{key:"void",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.jsonResponseHandler(u["b"].remove(t,n)));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"jsonResponseHandler",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,s,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(n=e.sent,!n){e.next=33;break}if(![200,201].includes(n.status)){e.next=6;break}return e.abrupt("return",null===n||void 0===n?void 0:n.json());case 6:if(400!==n.status){e.next=12;break}return e.next=9,null===n||void 0===n?void 0:n.json();case 9:throw r=e.sent,a=r.errors,new f(n.statusText,a);case 12:if(404!==n.status){e.next=18;break}return e.next=15,null===n||void 0===n?void 0:n.json();case 15:throw o=e.sent,i=o.errors,new b(i);case 18:if(422!==n.status){e.next=25;break}return e.next=21,null===n||void 0===n?void 0:n.json();case 21:throw c=e.sent,s=c.errors,u=c.entity,new p(s,u);case 25:if(502!==n.status){e.next=31;break}return e.next=28,null===n||void 0===n?void 0:n.json();case 28:throw l=e.sent,d=l.errors,new m(d||"Getway Error");case 31:if(500!==n.status){e.next=33;break}throw new h("An internal server errror has occured");case 33:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getApiDate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("current_time");case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return",t.date);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getApiVersion",value:function(){return sessionStorage.getItem("APIVersion")||"N/A"}},{key:"getActiveApp",value:function(){return d["a"].getActiveApp()||{}}},{key:"getUserID",value:function(){var e=sessionStorage.getItem("userID");return e?parseInt(e):null}},{key:"getUserLocation",value:function(){return sessionStorage.getItem("userLocation")}},{key:"getLocationName",value:function(){return sessionStorage.getItem("locationName")}},{key:"getSessionDate",value:function(){return sessionStorage.getItem("sessionDate")||""}},{key:"getCachedApiDate",value:function(){return sessionStorage.getItem("apiDate")}},{key:"setSessionDate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getApiDate();case 2:if(n=e.sent,!n){e.next=7;break}return sessionStorage.setItem("apiDate",n),sessionStorage.setItem("sessionDate",t),e.abrupt("return");case 7:throw"Unable to set api date";case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetSessionDate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getApiDate();case 2:if(t=e.sent,!t){e.next=7;break}return sessionStorage.removeItem("apiDate"),sessionStorage.setItem("sessionDate",t),e.abrupt("return");case 7:throw"Unable to reset session date";case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isBDE",value:function(){var e=sessionStorage.getItem("apiDate"),t=sessionStorage.getItem("sessionDate");return e&&e!=t}},{key:"getProgramID",value:function(){var e=this.getActiveApp();return"programID"in e?e.programID:0}},{key:"getUserRoles",value:function(){var e=sessionStorage.getItem("userRoles");return e?JSON.parse(e):[]}},{key:"getUserName",value:function(){return sessionStorage.username}},{key:"getCoreVersion",value:function(){return sessionStorage.coreVersion||"N/A"}},{key:"getAppVersion",value:function(){return sessionStorage.appVersion||"N/A"}}]),e}()},"1cd4":function(e,t,n){},"1ea2":function(e,t,n){"use strict";n("a2fe")},"1eb2":function(e,t,n){},"1fff":function(e,t,n){},"205c":function(e,t,n){"use strict";n("ae74")},"207f":function(e,t,n){"use strict";n("5c4a")},2345:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("fb6a"),n("ac1f"),n("466d");function r(e,t){var n=t;return e.match(/clear/i)?"":(n=e.match(/delete|del/i)?n.match(/unknown/i)||n.match(/n\/a/i)?"":n.substring(0,n.length-1):e.match(/space/i)?"".concat(t," "):e.match(/unknown/i)?"Unknown":e.match(/n\/a/i)?"N/A":n.match(/unknown/i)||n.match(/n\/a/i)?e:"".concat(t).concat(e),"string"===typeof n&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n)}},"23e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n("99af"),n("a623"),n("4de4"),n("caad"),n("a15b"),n("d81d"),n("b0c0"),n("07ac"),n("ac1f"),n("466d");var r=n("2909"),a=(n("96cf"),n("1da1")),o=n("d4ec"),i=n("bee2"),c=n("45eb"),s=n("7e84"),u=n("262e"),l=n("2caf"),d=n("8e47"),p=function(e,t){var n=e.filter((function(e){return e.person_attribute_type_id==t}));return n.length>0?n[0].value:""},b=function(e,t){var n=e.filter((function(e){return e.type.patient_identifier_type_id===t}));return n.length>0?n[0].identifier:""},f=n("7957"),m=n("8158"),h=n("1c74"),g=n("9283"),O=n("aee2"),v=n("2ef0"),_=n("0011"),j=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.patient=e,r}return Object(i["a"])(n,[{key:"assignNpid",value:function(){return n.assignNHID(this.getID())}},{key:"isMale",value:function(){return["Male","M"].includes(this.getGender())}},{key:"isFemale",value:function(){return["Female","F"].includes(this.getGender())}},{key:"isChildBearing",value:function(){var e=this.getAge();return this.isFemale()&&e>=12&&e<=50}},{key:"getRecentWeight",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getConceptID("weight",!0);case 2:return t=e.sent,e.next=5,f["a"].getObs({person_id:this.getID(),concept_id:t,page_size:1});case 5:return n=e.sent,e.abrupt("return",n.length>=1?n[0].value_numeric:-1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRecentHeight",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getConceptID("Height",!0);case 2:return t=e.sent,e.next=5,f["a"].getObs({person_id:this.getID(),concept_id:t,page_size:1});case 5:return n=e.sent,e.abrupt("return",n.length>=1?n[0].value_numeric:-1);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getWeightHistory",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getAll(this.getID(),"weight");case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{weight:e.value_numeric,date:e.obs_datetime}})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCompleteTBTherapyHistory",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getAll(this.getID(),"TB treatment history");case 2:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.value_text.match(/Complete/i)})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBMI",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRecentWeight();case 2:return t=e.sent,e.next=5,this.getRecentHeight();case 5:if(n=e.sent,t&&n){e.next=8;break}return e.abrupt("return",0);case 8:return r=this.isMale()?"M":"F",e.next=11,O["a"].getBMI(t,n,r,this.getAge());case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"calculateWeightPercentile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRecentWeight();case 2:return t=e.sent,e.next=5,this.getMedianWeightHeight();case 5:return n=e.sent,e.prev=6,e.abrupt("return",parseFloat(t)/parseFloat(n["weight"])*100);case 10:return e.prev=10,e.t0=e["catch"](6),e.abrupt("return",0);case 13:case"end":return e.stop()}}),e,this,[[6,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMedianWeightHeight",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",h["c"].getJson("patients/".concat(this.getID(),"/median_weight_height")));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getObj",value:function(){return this.patient}},{key:"getID",value:function(){return this.patient.patient_id}},{key:"getPatientInfoString",value:function(){var e=[this.getFullName(),"(".concat(this.getGender(),")"),this.getBirthdate(),", ".concat(this.getCurrentDistrict())];return e.join(" ")}},{key:"getCurrentDistrict",value:function(){return this.getAddresses().currentDistrict}},{key:"getGender",value:function(){return this.patient.person.gender}},{key:"getAge",value:function(){return g["a"].getAgeInYears(this.patient.person.birthdate)}},{key:"getAgeInMonths",value:function(){return 12*this.getAge()}},{key:"getBirthdate",value:function(){return this.patient.person.birthdate}},{key:"getGivenName",value:function(){return this.patient.person.names[0].given_name}},{key:"getFamilyName",value:function(){return this.patient.person.names[0].family_name}},{key:"getFullName",value:function(){return Object(d["a"])(this.patient.person.names[0])}},{key:"getNationalID",value:function(){return this.findIdentifierByType("National id")}},{key:"getArvNumber",value:function(){return this.findIdentifierByType("ARV Number")}},{key:"hasActiveFilingNumber",value:function(){return this.hasIdentifierType("Filing number")}},{key:"hasDormantFilingNumber",value:function(){return this.hasIdentifierType("Archived filing number")}},{key:"hasIdentifierType",value:function(e){var t=Object(v["find"])(this.patient.patient_identifiers,{type:{name:e}});return!!t}},{key:"getFilingNumber",value:function(){var e=this.patient.patient_identifiers.filter((function(e){return"Filing number"===e.type.name||"Archived filing number"===e.type.name}));return Object(v["isEmpty"])(e)?"":e[0].identifier}},{key:"findIdentifierByType",value:function(e){var t=this.patient.patient_identifiers.filter((function(t){return t.type.name===e}));return t.length>=1?t[0].identifier:"Unknown"}},{key:"getIdentifiers",value:function(){return this.patient.patient_identifiers}},{key:"getHomeDistrict",value:function(){return this.getAddresses().ancestryDistrict}},{key:"getHomeTA",value:function(){return this.getAddresses().ancestryTA}},{key:"getHomeVillage",value:function(){return this.getAddresses().ancestryVillage}},{key:"getCurrentVillage",value:function(){return this.getAddresses().currentVillage}},{key:"getCurrentTA",value:function(){return this.getAddresses().currentTA}},{key:"getPhoneNumber",value:function(){return this.getAttribute(12)}},{key:"getAttribute",value:function(e){return p(this.patient.person.person_attributes,e)}},{key:"getPatientIdentifier",value:function(e){return b(this.patient.patient_identifiers,e)}},{key:"patientIsComplete",value:function(){var e=[this.getNationalID(),this.getGender(),this.getBirthdate(),this.getGivenName(),this.getFamilyName()].concat(Object(r["a"])(Object.values(this.getAddresses())));return e.map((function(e){return!Object(_["a"])(e)})).every(Boolean)}},{key:"getAddresses",value:function(){var e={ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",currentDistrict:"",currentTA:"",currentVillage:""};if(this.patient.person.addresses.length>0){var t=this.patient.person.addresses[0];e.ancestryDistrict=t.address2,e.ancestryTA=t.county_district,e.ancestryVillage=t.neighborhood_cell,e.currentDistrict=t.state_province,e.currentTA=t.township_division,e.currentVillage=t.city_village}return e}}],[{key:"mergePatients",value:function(e){return e["program_id"]=Object(c["a"])(Object(s["a"])(n),"getProgramID",this).call(this),Object(c["a"])(Object(s["a"])(n),"postJson",this).call(this,"dde/patients/merge",e)}},{key:"voidPatient",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(c["a"])(Object(s["a"])(n),"void",this).call(this,"patients/".concat(e),{reason:t})}},{key:"search",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"/search/patients",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findByNpid",value:function(e){return Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"search/patients/by_npid",{npid:e})}},{key:"findByOtherID",value:function(e,t){return Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"search/patients/by_identifier",{type_id:e,identifier:t})}},{key:"findByID",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"/patients/".concat(t)));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"assignNHID",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(c["a"])(Object(s["a"])(n),"postJson",this).call(this,"/patients/".concat(t,"/npid"),{}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toPatient",value:function(e){return JSON.parse(e)}},{key:"patientToJson",value:function(e){return JSON.stringify(e)}},{key:"getPatientVisits",value:function(e){return Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"patients/".concat(e,"/visits"),{program_id:Object(c["a"])(Object(s["a"])(n),"getProgramID",this).call(this)})}}]),n}(h["c"])},"247f":function(e,t,n){},"268a":function(e,t,n){"use strict";n("e37b")},"26b9":function(e,t,n){"use strict";n("97b0")},2706:function(e,t,n){"use strict";n("99af"),n("4de4"),n("ac1f"),n("466d");var r=n("2ef0");function a(e){try{for(var t in e){var n=e[t]();if(n)return n}}catch(r){return[r]}}function o(e){return Object(r["isEmpty"])(e)?["Value is required"]:null}function i(e){var t=/^(\+?265|0)(((88|9[89])\d{7})|(1\d{6})|(2\d{8})|(31\d{8}))$/;return e&&e.value.match(t)?null:["Not a valid phone number"]}function c(e){var t=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;return e&&e.value.match(t)?null:["Not a valid IP address"]}function s(e){var t=/^(?=.{2,100}$)[a-z!A-Z]+(?:['_.\-!\][a-z]+[a-z!A-Z])*$/;return e&&e.label.match(t)?null:["Invalid name Input"]}function u(e){return isNaN(parseInt(e.value))?["Value must be a number"]:null}function l(e,t,n){var r=e?e.label.length:0;return r>=t&&r<=n?null:["Value length not within range of ".concat(t," - ").concat(n)]}function d(e,t,n){var r=parseInt(e.label);return r>=t&&r<=n?null:["".concat(r," not within range of ").concat(t," - ").concat(n)]}function p(e){var t=e.filter((function(e){var t=e.value||e.other.value;return"No"===t}));return t.length==e.length?["All values can not be no"]:null}function b(e){var t=["all must be selected"];if(!e)return t;var n=e.filter((function(e){return""===e.value}));return n.length>0?t:null}function f(e,t){return e.value===t?["Values can not be the same"]:null}t["a"]={validateSeries:a,required:o,isMWPhoneNumber:i,isName:s,isNumber:u,hasLengthRangeOf:l,rangeOf:d,neitherOr:p,anyEmpty:b,notTheSame:f,isIPAddress:c}},"270c":function(e,t,n){"use strict";n("8cbc")},"28c8":function(e,t,n){},2915:function(e,t,n){"use strict";n("9b41")},"2a32":function(e,t,n){},"2ab8":function(e,t,n){"use strict";n("0167")},"2b3a":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["createTextVNode"])("Select Module"),o=Object(r["createTextVNode"])(" Close ");function i(e,t,n,i,c,s){var u=Object(r["resolveComponent"])("ion-title"),l=Object(r["resolveComponent"])("ion-toolbar"),d=Object(r["resolveComponent"])("ion-header"),p=Object(r["resolveComponent"])("application-card"),b=Object(r["resolveComponent"])("ion-col"),f=Object(r["resolveComponent"])("ion-row"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[a]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,{class:"ion-padding"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.apps,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:n,"size-md":"6","size-sm":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{onClick:function(n){return e.setApplication(t)},name:t.applicationName,details:t.applicationDescription,programID:t.programID,iconURL:e.img(t.applicationIcon)},null,8,["onClick","name","details","programID","iconURL"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[e.canClose?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,color:"danger",size:"large",onClick:e.closeModal},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})],64)}n("4de4"),n("d3b7"),n("96cf");var c=n("1da1"),s=n("f768"),u=(n("b0c0"),Object(r["withScopeId"])("data-v-72da8143")),l=u((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("ion-card-title"),l=Object(r["resolveComponent"])("ion-card-header"),d=Object(r["resolveComponent"])("ion-card-content"),p=Object(r["resolveComponent"])("center"),b=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(b,{class:"his-card"},{default:u((function(){return[Object(r["createVNode"])(p,null,{default:u((function(){return[Object(r["createVNode"])(c,{src:e.iconURL},null,8,["src"]),Object(r["createVNode"])(l,null,{default:u((function(){return[Object(r["createVNode"])(s,null,{default:u((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:u((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.details),1)]})),_:1})]})),_:1})]})),_:1})})),d=n("8a30"),p=Object(r["defineComponent"])({props:["name","details","programID","iconURL"],components:{IonCard:d["f"],IonCardContent:d["g"],IonCardTitle:d["i"],IonCardHeader:d["h"],IonImg:d["r"]},setup:function(){return{}},methods:{getImgUrl:function(e){return n("78ac")("./assets ".concat(e))}}}),b=(n("6136"),n("d959")),f=n.n(b);const m=f()(p,[["render",l],["__scopeId","data-v-72da8143"]]);var h=m,g=n("b5e4"),O=n("2ef0"),v=n("1718"),_=Object(r["defineComponent"])({name:"Modal",props:{title:{type:String,default:""},canClose:{type:Boolean,default:function(){return!1}}},methods:{closeModal:function(){d["S"].dismiss()},img:function(e){return Object(v["a"])(e)},setApplication:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["S"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/config.json");case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,a=r.apps,e.apps=s["a"].filter((function(e){var t=Object(O["find"])(a,{name:e.applicationName});return t&&!0===t.available})),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0),Object(g["c"])("An error occured while loading applications");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},data:function(){return{content:"Content",apps:[]}},components:{IonFooter:d["n"],IonContent:d["m"],IonHeader:d["p"],IonTitle:d["J"],IonToolbar:d["K"],ApplicationCard:h,IonButton:d["d"],IonCol:d["l"],IonRow:d["E"]}});const j=f()(_,[["render",i]]);t["a"]=j},"2b47":function(e,t,n){"use strict";var r=n("7a23"),a={class:"tool-bar-medium-card"};function o(e,t,n,o,i,c){return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["renderSlot"])(e.$slots,"default")])}var i=Object(r["defineComponent"])({name:"ToolBarMediumCard"}),c=n("d959"),s=n.n(c);const u=s()(i,[["render",o]]);t["a"]=u},"2c0f":function(e,t,n){},"2e03":function(e,t,n){},"2e16":function(e,t,n){"use strict";n("6d4b")},"2fdd":function(e,t,n){},"30bd":function(e,t,n){"use strict";n("45f1")},3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return p}));var r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],a=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],o=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],i=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],s=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],u=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],l=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","m","n",",",".","A-Z"]],d=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],p=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"38b8":function(e,t,n){"use strict";n("c9c0")},"38d2":function(e,t,n){},"3b1f":function(e,t,n){},"3c4b":function(e,t,n){"use strict";n("cc57")},"3d6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("4de4"),n("caad"),n("2532");var r=n("d4ec"),a=n("bee2"),o=n("262e"),i=n("2caf"),c=n("1c74"),s=[{drugID:105,shortName:"Acyclovir 200mg",fullName:"Acyclovir 200mg",packSizes:[30]},{drugID:1044,shortName:"ABC 120 /3TC 300mg",fullName:"Abacavir and Lamivudine 120mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:969,shortName:"ABC 600 / 3TC 300mg",fullName:"Abacavir sulfate 600mg / Lamivudine 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:932,shortName:"ATV 300 / r 100mg",fullName:"Atazanavir / Ritonavir 300 / 100mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:39,shortName:"AZT 300 /3TC 150mg",fullName:"Zidovudine / lamivudine 300 / 150mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:731,shortName:"AZT 300 / 3TC 150 / NVP 200mg",fullName:"Zidovudine / lamivudine /Nevirapine 300 / 150 / 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:732,shortName:"AZT 60 / 3TC 30 / NVP 50mg",fullName:"Zidovudine / lamivudine /Nevirapine 60 / 30 / 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:736,shortName:"AZT 60 / 3TC 30mg",fullName:"Zidovudine / lamivudine 60 / 30mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:963,shortName:"CPT 120mg",fullName:"Cotrimoxazole 120mg, blister pack of 1000 dispersible tablets",packSizes:[1e3],categories:["p"]},{drugID:297,shortName:"CPT 480mg",fullName:"Cotrimoxazole 480mg, tin of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:576,shortName:"CPT 960mg",fullName:"Cotrimoxazole 960mg, blister pack of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:976,shortName:"DRV 600mg",fullName:"Darunavir 600mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:980,shortName:"DTG 10mg",fullName:"Dolutegravir 10mg pack of 90 tablets",packSizes:[90]},{drugID:982,shortName:"DTG 50mg",fullName:"Dolutegravir 50mg pack of 30 tablets",packSizes:[30],categories:["a"]},{drugID:30,shortName:"EFV 200mg",fullName:"Efavirenz 200mg, tin of 90 tablets",packSizes:[90],categories:["p"]},{drugID:11,shortName:"EFV 600mg",fullName:"Efavirenz 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:978,shortName:"ETV 100mg",fullName:"Etravirine 100mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:24,shortName:"Isoniazid 100mg",fullName:"Isoniazid (H) 100mg, blist packs of 100 tablets",packSizes:[100],categories:["p"]},{drugID:991,shortName:"Isoniazid 300mg",fullName:"Isoniazid (H) 300mg, blist packs of 1000 tablets",packSizes:[1e3,672]},{drugID:74,shortName:"LPV 100 / r 25mg",fullName:"Lopinavir / Ritonavir 100 / 25mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:73,shortName:"LPV 200 / r 50mg",fullName:"Lopinavir / Ritonavir 200 / 50mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:1045,shortName:"LPV 40 / r 10mg granules",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 sachets",packSizes:[120]},{drugID:979,shortName:"LPV 40 / r 10mg pellets",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 pellets",packSizes:[120],categories:["p"]},{drugID:22,shortName:"NVP 200mg",fullName:"Nevirapine 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:968,shortName:"NVP 50mg",fullName:"Nevirapine 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:1039,shortName:"Pyridoxine 25mg",fullName:"Pyridoxine (25mg)",packSizes:[1e3],categories:["a"]},{drugID:977,shortName:"r 100mg",fullName:"Ritonavir 100mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1043,shortName:"RAL 25mg",fullName:"Raltegravir 25mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:954,shortName:"RAL 400mg",fullName:"Raltegravir 400mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1056,shortName:"Rifapentine 150mg",fullName:"Rifapentine 150mg pack of 24 tablets",packSizes:[24],categories:["a"]},{drugID:734,shortName:"TDF 300 / 3TC 300mg ",fullName:"Lamivudine / Tenofovir disoproxil fumarate 300 / 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:735,shortName:"TDF 300 / 3TC 300 / EFV 600mg",fullName:"Tenofovir disoproxil fumarate / Lamivudine / Efavirenz 300 / 300 / 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:983,shortName:"TDF 300 / 3TC 300 / DTG 50mg",fullName:"Tenofovir Disoproxil Fumarate/Lamivudine/Dolutegravir (TDF/3TC /DTG), 300/300/50mg, pack of 90 tablets",packSizes:[90],categories:["a"]}],u=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,[{key:"postItems",value:function(e){return c["c"].postJson("/pharmacy/batches",e)}},{key:"getItems",value:function(){return c["c"].getJson("pharmacy/items",{paginate:!1})}},{key:"getItem",value:function(e){return c["c"].getJson("pharmacy/items",{drug_id:e})}},{key:"updateItem",value:function(e,t){return c["c"].putJson("pharmacy/items/".concat(e),t)}},{key:"relocateItems",value:function(e,t){return c["c"].postJson("pharmacy/items/".concat(e,"/reallocate"),t)}},{key:"disposeItems",value:function(e,t){return c["c"].postJson("pharmacy/items/".concat(e,"/dispose"),t)}},{key:"getConsumptionRate",value:function(e){return c["c"].getJson("pharmacy/drug_consumption",{drug_id:e})}},{key:"drugList",value:function(){return s}}],[{key:"getShortName",value:function(e){var t=s.filter((function(t){return t.drugID===e}));return t.length>0?t[0].shortName:""}},{key:"getPackSize",value:function(e){var t=s.filter((function(t){return t.drugID===e}));return t.length>0?t[0].packSizes[0]:30}},{key:"getPaedeatricDrugs",value:function(){return console.log(s.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")}))),s.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")}))}},{key:"getAdultDrugs",value:function(){return s.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("a")}))}}]),n}(c["c"])},"3e53":function(e,t,n){"use strict";n("99af"),n("96cf");var r=n("1da1"),a=n("2909"),o=n("5530"),i=n("f768"),c=n("2b3a"),s=n("8a30"),u=n("2ef0"),l=n("4db7"),d=n("c1e4"),p={GlobalAppSettings:[{name:"Session Management",icon:"time.png",files:[{name:"Change session date",pathUrl:"/session/date"}]},{name:"Portal Settings",icon:"portal.png",condition:function(){return d["a"].isAdmin()},files:[{name:"Portal settings",pathUrl:"/portal/config"}]},{name:"Network",icon:"portal.png",condition:function(){return d["a"].isAdmin()},files:[{name:"IP Configuration",pathUrl:"/settings/host"}]},{name:"Location",icon:"location.png",files:[{name:"Print Location",pathUrl:"/print/location"},{name:"Set Site Location",condition:function(){return d["a"].isAdmin()},pathUrl:"/location/update/site"},{name:"Set Site Code",condition:function(){return d["a"].isAdmin()},pathUrl:"/location/update/code"}]},{name:"User management",icon:"edit-user.png",files:[{name:"New user",condition:function(){return d["a"].isAdmin()},pathUrl:"/user?activity=add"},{name:"Edit Users",condition:function(){return d["a"].isAdmin()},pathUrl:"/user?activity=edit"},{name:"Change Password",pathUrl:"/user?activity=edit&update_password=true"},{name:"System usage report",pathUrl:"/users/usage",condition:function(){return d["a"].isAdmin()}}]},{name:"Data Management",icon:"list.png",condition:function(){return d["a"].isAdmin()},files:[{name:"View Duplicates",pathUrl:"/view_duplicates"},{name:"Data Cleaning",pathUrl:"/data_cleaning"},{name:"Merge patients",pathUrl:"/patients/merge"}]},{name:"DDE Settings",icon:"programs.png",condition:function(){return d["a"].isAdmin()},files:[{name:"DDE Activation",pathUrl:"/preferences?label=Activate DDE&property=dde_enabled"}]}],GlobalProgramActivities:[{id:"npid",name:"National Health ID (Print)",description:"Print Patient National Health ID",action:function(e){var t=e.patient,n=new l["a"](t.patient_id);return n.printNidLbl()},icon:"barcode.png"},{id:"lab activities",name:"Lab activities",description:"Do lab orders",icon:"lab.png"},{id:"demographics",name:"Demographics (Print)",description:"Print Patient Demographics",action:function(e){var t=e.patient,n=new l["a"](t.patient_id);return n.printDemographicsLbl()},icon:"print.png"},{id:"demographics_edit",name:"Demographics (Edit)",description:"Edit Patient Demographics",action:function(e,t){var n=e.patient;t.push({path:"/patient/registration",query:{edit_person:n.patient_id}})},icon:"print.png"},{id:"change_session_Date",name:"Change session date",description:"Change session date (for retrospective entry)",url:"/session/date",icon:"time.png"},{id:"program_management",name:"Program(s)",description:"View / update patient's programs",action:function(e,t){var n=e.patient;t.push({path:"/patient/programs/".concat(n.patient_id)})},icon:"programs.png"},{id:"visit_summary",name:"Visit Summary (Print)",description:"Print Patient Visit Summary",action:function(e){var t=e.patient,n=e.visitDate,r=new l["a"](t.patient_id);return r.printVisitSummaryLbl(n)},icon:"folder.png"},{id:"enter_lab_result",name:"Enter Lab Result",description:"Enter Lab Test Result",action:function(e,t){var n=e.patient;t.push({path:"/lab/results/".concat(n.patient_id)})},icon:"enter.png"}]};function b(e){var t=Object(o["a"])({},e);return t.secondaryPatientActivites=[].concat(Object(a["a"])(p.GlobalProgramActivities),Object(a["a"])(t.secondaryPatientActivites)),t.globalPropertySettings?t.globalPropertySettings=[].concat(Object(a["a"])(p.GlobalAppSettings),Object(a["a"])(t.globalPropertySettings)):t.globalPropertySettings=p.GlobalAppSettings,t}function f(){var e=sessionStorage.getItem("applicationName");if(e){var t=Object(u["find"])(i["a"],{applicationName:e});if(t)return b(t)}}function m(){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]&&l[1],e.next=4,s["S"].create({component:c["a"],cssClass:"large-modal",backdropDismiss:!1,componentProps:{canClose:n}});case 4:return r=e.sent,r.present(),e.next=8,r.onDidDismiss();case 8:if(a=e.sent,o=a.data,o&&!Object(u["isEmpty"])(o)){e.next=12;break}return e.abrupt("return");case 12:if(i=b(o),!i.init){e.next=16;break}return e.next=16,i.init(t);case 16:return sessionStorage.setItem("applicationName",i.applicationName),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}t["a"]={selectApplication:m,getActiveApp:f}},"3e96":function(e,t,n){},"41dd":function(e,t,n){},"43e5":function(e,t,n){},"44e3":function(e,t,n){"use strict";n("99af"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("2909"),a=(n("96cf"),n("1da1")),o=n("1c74"),i=n("7a23"),c=n("b446"),s=n("23e6"),u=n("9283"),l=n("8a30"),d=n("7f12"),p=n("5969"),b=n("d95e"),f=n("2706"),m=n("9ceb"),h=Object(i["defineComponent"])({data:function(){return{fields:[],report:{},reportReady:!1,period:"",startDate:"",endDate:""}},methods:{toDate:function(e){return u["a"].toStandardHisDisplayFormat(e)},confirmPatient:function(e){return this.$router.push("/patients/confirm?person_id=".concat(e))},tableDrill:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["S"].create({component:d["a"],cssClass:"custom-modal",componentProps:{title:"DrillTable",columns:e.columns,onRows:e.onRows}});case 2:n=t.sent,n.present();case 4:case"end":return t.stop()}}),t)})))()},patientTableColumns:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=["ARV number","Gender","Birth Date","actions"],o=function(){return Promise.all(e.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].findByID(n);case 2:return r=e.sent,o=new s["a"](r),e.abrupt("return",[o.getArvNumber(),o.getGender(),u["a"].toStandardHisDisplayFormat(o.getBirthdate()),{type:"button",name:"Show",action:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["S"].dismiss({});case 2:t.$router.push({path:"/patient/dashboard/".concat(n)});case 3:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()}]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},n.abrupt("return",{onRows:o,columns:r});case 3:case"end":return n.stop()}}),n)})))()},runTableDrill:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.patientTableColumns(e);case 2:return r=n.sent,n.next=5,t.tableDrill(r);case 5:case"end":return n.stop()}}),n)})))()},drill:function(e){var t=this;return e.length>0?m["a"].tdLink(e.length,(function(){return t.runTableDrill(e)})):m["a"].td(e.length)},getQuaterOptions:function(){var e=p["a"].getReportQuarters();return e.map((function(e){return{label:e.name,value:e.start,other:e}}))},getDateDurationFields:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="2001-01-01",i=o["c"].getSessionDate();return[{id:"quarter",helpText:"Select Quarter",type:b["b"].TT_SELECT,condition:function(){return t},validation:function(e){return f["a"].required(e)},options:function(){var e=p["a"].getReportQuarters(),t=e.map((function(e){return{label:e.name,value:e.start,other:e}}));return n&&(t=[{label:"Set custom period",value:"custom_period",other:{}}].concat(Object(r["a"])(t))),t}}].concat(Object(r["a"])(Object(c["b"])({id:"start_date",helpText:"Start",required:!0,condition:function(e){return e.quarter&&"custom_period"===e.quarter.value||!t},minDate:function(){return a},maxDate:function(){return i},estimation:{allowUnknown:!1},computeValue:function(e){return e}})),Object(r["a"])(Object(c["b"])({id:"end_date",helpText:"End",required:!0,condition:function(e){return e.quarter&&"custom_period"===e.quarter.value||!t},unload:function(t,n,r,a){"next"===n&&(e.endDate=a.end_date)},minDate:function(e,t){return t.start_date},maxDate:function(){return i},estimation:{allowUnknown:!1},computeValue:function(e){return e}})))}}});const g=h;t["a"]=g},"45c6":function(e,t,n){"use strict";n("83b8")},"45f1":function(e,t,n){},"47eb":function(e,t,n){},"47eb4":function(e,t,n){"use strict";n("b033")},"4a99":function(e,t,n){"use strict";n("1fff")},"4ba2":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-249e9484");Object(r["pushScopeId"])("data-v-249e9484");var o=Object(r["createTextVNode"])("Title"),i=Object(r["createTextVNode"])("Period"),c={class:"report-content"},s=Object(r["createTextVNode"])("Date Created: "),u=Object(r["createTextVNode"])("His-Core Version: "),l=Object(r["createTextVNode"])("Art Version: "),d=Object(r["createTextVNode"])("API Version: ");Object(r["popScopeId"])();var p=a((function(e,t,n,p,b,f){var m=Object(r["resolveComponent"])("his-standard-form"),h=Object(r["resolveComponent"])("ion-title"),g=Object(r["resolveComponent"])("ion-col"),O=Object(r["resolveComponent"])("ion-row"),v=Object(r["resolveComponent"])("ion-label"),_=Object(r["resolveComponent"])("ion-toolbar"),j=Object(r["resolveComponent"])("ion-header"),w=Object(r["resolveComponent"])("report-table"),y=Object(r["resolveComponent"])("ion-content"),k=Object(r["resolveComponent"])("ion-chip"),x=Object(r["resolveComponent"])("ion-footer"),N=Object(r["resolveComponent"])("his-footer"),V=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["withDirectives"])(Object(r["createVNode"])(m,{onOnFinish:e.onFinish,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"]),[[r["vShow"],!e.canShowReport]]),e.canShowReport?(Object(r["openBlock"])(),Object(r["createBlock"])(V,{key:0},{default:a((function(){return[Object(r["createVNode"])(j,null,{default:a((function(){return[Object(r["createVNode"])(_,null,{default:a((function(){return[e.showtitleOnly?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0},{default:a((function(){return[Object(r["createVNode"])("span",{innerHTML:e.title},null,8,["innerHTML"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.showtitleOnly?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:1},{default:a((function(){return[e.reportLogo?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,size:"2"},{default:a((function(){return[Object(r["createVNode"])("img",{class:"logo",src:e.reportLogo},null,8,["src"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(g,null,{default:a((function(){return[Object(r["createVNode"])(O,null,{default:a((function(){return[Object(r["createVNode"])(g,{size:"2"},{default:a((function(){return[o]})),_:1}),Object(r["createVNode"])(g,null,{default:a((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1}),e.period?(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:0},{default:a((function(){return[Object(r["createVNode"])(g,{size:"2"},{default:a((function(){return[i]})),_:1}),Object(r["createVNode"])(g,null,{default:a((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.period),1)]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.headerInfoList,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:t},{default:a((function(){return[Object(r["createVNode"])(g,{size:"2"},{default:a((function(){return[Object(r["createVNode"])(v,null,{default:a((function(){return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.label),1)]})),_:2},1024)]})),_:2},1024),Object(r["createVNode"])(g,null,{default:a((function(){var t,n;return[e&&(null===e||void 0===e||null===(t=e.other)||void 0===t?void 0:t.onclick)?(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:0,href:"#",onClick:Object(r["withModifiers"])((function(t){return e.other.onclick()}),["prevent"])},Object(r["toDisplayString"])(e.value),9,["onClick"])):Object(r["createCommentVNode"])("",!0),e&&!(null===e||void 0===e||null===(n=e.other)||void 0===n?void 0:n.onclick)?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1},{default:a((function(){return[Object(r["createVNode"])("b",null,[Object(r["createVNode"])("span",{innerHTML:e.value},null,8,["innerHTML"])])]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}))]})),_:1})]})),_:1}),Object(r["createVNode"])(y,null,{default:a((function(){return[Object(r["createVNode"])("div",c,[Object(r["createVNode"])(w,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])]})),_:1}),Object(r["createVNode"])(x,null,{default:a((function(){return[Object(r["createVNode"])(_,null,{default:a((function(){return[Object(r["createVNode"])(k,{color:"primary"},{default:a((function(){return[s,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.date),1)]})),_:1}),Object(r["createVNode"])(k,{color:"primary"},{default:a((function(){return[u,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.coreVersion),1)]})),_:1}),Object(r["createVNode"])(k,{color:"primary"},{default:a((function(){return[l,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.artVersion),1)]})),_:1}),Object(r["createVNode"])(k,{color:"primary"},{default:a((function(){return[d,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.apiVersion),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(N,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)})),b=(n("99af"),n("2909")),f=(n("96cf"),n("1da1")),m=n("0f25"),h=n("80e3"),g=n("ba82"),O=n("9ceb"),v=n("7920"),_=n("8a30"),j=n("b5e4"),w=n("1718"),y=n("1c74"),k=n("5a0c"),x=n.n(k),N=Object(r["defineComponent"])({components:{HisStandardForm:v["a"],IonHeader:_["p"],ReportTable:h["a"],HisFooter:m["a"],IonPage:_["A"],IonContent:_["m"],IonToolbar:_["K"],IonRow:_["E"],IonCol:_["l"],IonChip:_["k"],IonFooter:_["n"]},props:{headerInfoList:{type:Array,default:function(){return[]}},reportPrefix:{type:String,default:"HIS-Core"},reportLogo:{type:String,default:Object(w["a"])("login-logos/Malawi-Coat_of_arms_of_arms.png")},showtitleOnly:{type:Boolean,default:!1},title:{type:String,required:!0},period:{type:String},fields:{type:Object,required:!0},columns:{type:Object,required:!0},rows:{type:Object,required:!0},customBtns:{type:Array,default:function(){return[]}},canExportPDf:{type:Boolean,default:!0},canExportCsv:{type:Boolean,default:!0},enabledPDFHorizontalPageBreak:{type:Boolean,default:!1},onReportConfiguration:{type:Function,required:!0}},data:function(){return{date:"",formData:{},btns:[],computeFormData:{},isLoadingData:!1,canShowReport:!1,apiVersion:y["c"].getApiVersion(),coreVersion:y["c"].getCoreVersion(),artVersion:y["c"].getAppVersion()}},methods:{getFileName:function(){return"".concat(this.reportPrefix," ").concat(y["c"].getLocationName()," ").concat(this.title," ").concat(this.period)},onFinish:function(e,t){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.formData=e,n.computeFormData=t,n.canShowReport=!0,r.next=5,n.presentLoading();case 5:return r.prev=5,n.date=x()().format("YYYY-MM-DD:h:m:s"),r.next=9,n.onReportConfiguration(n.formData,n.computeFormData);case 9:_["Q"].dismiss(),r.next=17;break;case 12:r.prev=12,r.t0=r["catch"](5),Object(j["c"])(r.t0),console.error(r.t0),_["Q"].dismiss();case 17:case"end":return r.stop()}}),r,null,[[5,12]])})))()},reloadReport:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onFinish(e.formData,e.computeFormData);case 2:case"end":return t.stop()}}),t)})))()},presentLoading:function(){return Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["Q"].create({message:"Please wait...",backdropDismiss:!1});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var e=this;this.btns=this.customBtns,this.canExportCsv&&this.btns.push({name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(O["b"])(e.columns,e.rows),r=n.columns,a=n.rows,Object(g["a"])(r,[].concat(Object(b["a"])(a),[[],["Date Created: ".concat(e.date)],["HIS-Core Version: ".concat(e.coreVersion)],["ART Version: ".concat(e.artVersion)],["API Version: ".concat(e.apiVersion)]]),e.getFileName());case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),this.canExportPDf&&this.btns.push({name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(O["b"])(e.columns,e.rows),r=n.columns,a=n.rows,Object(g["b"])(r,a,e.getFileName(),e.enabledPDFHorizontalPageBreak);case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),this.btns.push({name:"Back",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return e.canShowReport=!1}}),this.btns.push({name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.reloadReport());case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),this.btns.push({name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$router.push({path:"/"}));case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})}}),V=(n("a392"),n("d959")),C=n.n(V);const D=C()(N,[["render",p],["__scopeId","data-v-249e9484"]]);t["a"]=D},"4db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("99af");var r=n("d4ec"),a=n("bee2"),o=n("262e"),i=n("2caf"),c=n("b89f"),s=n("bef6"),u=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(e){var a;return Object(r["a"])(this,n),a=t.call(this),a.patient=e,a.baseUrl="patients/".concat(a.patient,"/labels/"),a}return Object(a["a"])(n,[{key:"getLblUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s["a"].parameterizeObjToString(t);return"".concat(this.baseUrl).concat(e).concat(n?"?"+n:"")}},{key:"printPatientLbl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.printLbl(this.getLblUrl(e,t))}},{key:"printFilingNumberLbl",value:function(){return this.printPatientLbl("filing_number")}},{key:"printNidLbl",value:function(){return this.printPatientLbl("national_health_id")}},{key:"printVisitSummaryLbl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c["a"].getSessionDate(),t="programs/".concat(c["a"].getProgramID(),"/").concat(this.baseUrl,"/visits?date=").concat(e);return this.printLbl(t)}},{key:"printDemographicsLbl",value:function(){var e="programs/".concat(c["a"].getProgramID(),"/").concat(this.baseUrl,"/patient_history");return this.printLbl(e)}},{key:"printTransferOutLbl",value:function(){return this.printPatientLbl("transfer_out")}}]),n}(c["a"])},"4e28":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-6734b6b0");Object(r["pushScopeId"])("data-v-6734b6b0");var o={class:"keypad"};Object(r["popScopeId"])();var i=a((function(e,t,n,i,c,s){var u=Object(r["resolveComponent"])("ion-input"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("center"),p=Object(r["resolveComponent"])("his-keyboard"),b=Object(r["resolveComponent"])("ion-content");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:a((function(){return[Object(r["createVNode"])("div",o,[Object(r["createVNode"])(u,{value:e.value,disabled:!0,class:"keypad-input"},null,8,["value"]),Object(r["createVNode"])(d,null,{default:a((function(){return[Object(r["createVNode"])(l,null,{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title||"keypad"),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])])]})),_:1})})),c=(n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("96cf"),n("1da1")),s=n("3800"),u=n("2345"),l=n("db10"),d=n("fe70"),p=Object(r["defineComponent"])({components:{HisKeyboard:l["a"]},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0}},data:function(){return{value:"",keypad:s["d"],keyboard:[s["c"],[["Done","Clear"],["Space","Delete"]]]}},watch:{preset:{handler:function(e){e&&(this.value=e.toString())},immediate:!0}},methods:{keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.match(/done/i)){n.next=5;break}return n.next=3,d["g"].dismiss(t.value);case 3:n.next=16;break;case 5:if(!e.match(/clear/i)){n.next=10;break}t.value="",t.onKeyPress(parseInt(t.value)),n.next=16;break;case 10:if(!e.includes(".")||!t.value.includes(".")){n.next=12;break}return n.abrupt("return");case 12:e.includes(".")||"0"!==t.value||(t.value=""),t.value=Object(u["a"])(e,t.value),t.value||(t.value="0"),t.onKeyPress(parseInt(t.value));case 16:case"end":return n.stop()}}),n)})))()}}}),b=(n("8344"),n("d959")),f=n.n(b);const m=f()(p,[["render",i],["__scopeId","data-v-6734b6b0"]]);t["a"]=m},"4f05":function(e,t,n){"use strict";n("247f")},"4f48":function(e,t,n){"use strict";n("fb40")},"4f9b":function(e,t,n){"use strict";n("8685")},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("99af"),n("b0c0"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"nextTask",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/workflows/".concat(Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),"/").concat(e),{date:Object(i["a"])(Object(c["a"])(n),"getSessionDate",this).call(this)})}},{key:"getNextTaskParams",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:"",a=r,e.prev=2,a){e.next=9;break}return e.next=6,n.nextTask(t);case 6:o=e.sent,i=o.name,a=i;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),a="";case 14:return e.abrupt("return",{name:a.toLowerCase(),params:{patient_id:t}});case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(l["c"])},5117:function(e,t,n){"use strict";n("c7ca")},5126:function(e,t,n){},5188:function(e,t,n){"use strict";n("fef5")},5245:function(e,t,n){"use strict";n("6009")},5385:function(e,t,n){},"553a":function(e,t,n){"use strict";n("d97d")},"55e6":function(e,t,n){},5713:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),o=n("45eb"),i=n("7e84"),c=n("262e"),s=n("2caf"),u=n("1c74"),l=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,null,[{key:"getFacilities",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"/locations",e)}},{key:"getRegions",value:function(){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"/regions")}},{key:"getDistricts",value:function(e){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"/districts",{region_id:e,page_size:1e3})}},{key:"getVillages",value:function(e){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"/villages",{traditional_authority_id:e})}},{key:"getTraditionalAuthorities",value:function(e){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"/traditional_authorities",{district_id:e})}}]),n}(u["c"])},"578a":function(e,t,n){"use strict";n("1924")},"57e3":function(e,t,n){},5969:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("99af");var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("1c74"),u=n("9283"),l=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.endDate="",e.startDate="",e.quarter="",e.date=s["c"].getSessionDate(),e.programID=s["c"].getProgramID(),e}return Object(o["a"])(n,[{key:"getDateIntervalPeriod",value:function(){return"".concat(u["a"].toStandardHisDisplayFormat(this.startDate)," - ").concat(u["a"].toStandardHisDisplayFormat(this.endDate))}},{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"setQuarter",value:function(e){this.quarter=e}},{key:"getReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s["c"].getJson(e,this.buildRequest(t))}},{key:"buildRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.quarter&&(t["quarter"]=this.quarter),Object(r["a"])(Object(r["a"])({},t),e)}}],[{key:"getReportQuarters",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=u["a"].getCurrentYear(),r=0;r<e;++r)t.push({name:"Q4 ".concat(n),start:"".concat(n,"-10-01"),end:"".concat(n,"-12-31")}),t.push({name:"Q3 ".concat(n),start:"".concat(n,"-07-01"),end:"".concat(n,"-09-30")}),t.push({name:"Q2 ".concat(n),start:"".concat(n,"-04-01"),end:"".concat(n,"-06-30")}),t.push({name:"Q1 ".concat(n),start:"".concat(n,"-01-01"),end:"".concat(n,"-03-31")}),--n;return t}}]),n}(s["c"])},"59fc":function(e,t,n){"use strict";n("bd00")},"5acd":function(e,t,n){"use strict";n("9db7")},"5c4a":function(e,t,n){},"5d44":function(e,t,n){"use strict";n("d367")},"5e37":function(e,t,n){"use strict";n("7610")},6003:function(e,t,n){"use strict";n("b0f8")},6009:function(e,t,n){},6136:function(e,t,n){"use strict";n("cf85")},"62a0":function(e,t,n){},"631f":function(e,t,n){"use strict";n("79cf")},6460:function(e,t,n){},6744:function(e,t,n){},"68ed":function(e,t,n){},"699d":function(e,t,n){"use strict";n("6f48")},"6a5f":function(e,t,n){},"6b5c":function(e,t,n){},"6b64":function(e,t,n){},"6be2":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n("3800"),a=[r["i"],[["","Delete"]]],o=[r["g"],[["N/A"],["Unknown","Delete"]]],i=[r["g"],[["Unknown","Delete"],["Qwerty","A-Z"]]],c=[r["f"],[["Unknown"]]],s=[r["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],u=[r["h"],[["","Delete"],["","0-9"],["?123","Unknown"]]],l=[{btn:"0-9",keyboard:i},{btn:"?123",keyboard:a},{btn:"A-Z",keyboard:s},{btn:"Qwerty",keyboard:u}]},"6d4b":function(e,t,n){},"6f48":function(e,t,n){},"71c3":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n("99af");var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"create",value:function(e){return this.postJson("drug_orders",e)}},{key:"getDrugOrderHistory",value:function(e){return this.getJson("drug_orders",{patient_id:e})}},{key:"getDrugOrders",value:function(e){return this.getJson("drug_orders",{patient_id:e,date:l["c"].getSessionDate(),program_id:l["c"].getProgramID()})}},{key:"getLastDrugsReceived",value:function(e){return this.getJson("patients/".concat(e,"/last_drugs_received"),{date:this.getSessionDate(),program_id:this.getProgramID()})}},{key:"getDrugDosages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getSessionDate(),r={drug_id:t,date:n};return this.getJson("programs/".concat(this.getProgramID(),"/patients/").concat(e,"/drug_doses"),r)}},{key:"getOrderByPatient",value:function(e,t){return this.getJson("/drug_orders",Object(r["a"])({patient_id:e,program_id:Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this)},t))}}]),n}(l["c"])},"72f1":function(e,t,n){"use strict";n("57e3")},"74f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("99af"),n("4de4"),n("d81d"),n("b0c0"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("ad60"),u=n("cc6f"),l=n("b89f"),d=n("2ef0"),p=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this),r.patientId=e,r.patientProgramId=-1,r.programId=s["a"].getProgramID(),r.stateId=-1,r.programDate=s["a"].getSessionDate(),r.stateDate="",r}return Object(o["a"])(n,[{key:"getProgramId",value:function(){return this.programId}},{key:"getStateDate",value:function(){return this.stateDate}},{key:"getProgramDate",value:function(){return this.programDate}},{key:"getPatientProgramId",value:function(){return this.patientProgramId}},{key:"getPrograms",value:function(){return s["a"].getPatientPrograms(this.patientId)}},{key:"getProgram",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={program:"N/A",outcome:"N/A"},e.next=3,this.getPrograms();case 3:if(n=e.sent,!Object(d["isEmpty"])(n)){e.next=6;break}return e.abrupt("return",t);case 6:return r=n.filter((function(e){return e.program.program_id===s["a"].getProgramID()})).map((function(e){var t=e.patient_states.filter((function(e){return null===e.end_date})),n=Object(d["isEmpty"])(t)?"N/A":t[0].name;return{program:e.program.name,outcome:n}})),e.abrupt("return",Object(d["isEmpty"])(r)?t:r[0]);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProgramStates",value:function(){return s["a"].getPatientStates(this.patientId,this.programId)}},{key:"voidProgram",value:function(e){return s["a"].voidProgram(this.patientProgramId,e)}},{key:"voidState",value:function(e){return s["a"].voidState(this.patientId,this.programId,this.stateId,e)}},{key:"enrollProgram",value:function(){return s["a"].enrollProgram(this.patientId,this.programId,this.programDate)}},{key:"printTransferout",value:function(){var e=new l["a"];return e.printLbl("/programs/".concat(this.programId,"/patients/").concat(this.patientId,"/labels/transfer_out"))}},{key:"transferOutEncounter",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new u["a"](this.patientId,119),e.next=3,n.createEncounter();case 3:if(r=e.sent,r){e.next=6;break}throw"Unable to transfer out encounter";case 6:return e.abrupt("return",n.saveValueTextObs("Transfer to",t.name));case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateState",value:function(){return s["a"].createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})}},{key:"setProgramDate",value:function(e){this.programDate=e}},{key:"setStateDate",value:function(e){this.stateDate=e}},{key:"setPatientProgramId",value:function(e){this.patientProgramId=e}},{key:"setProgramId",value:function(e){this.programId=e}},{key:"setStateId",value:function(e){this.stateId=e}}]),n}(s["a"])},7610:function(e,t,n){},"77a0":function(e,t,n){},"78ac":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="78ac"},7920:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var o=n("9441"),i=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:o["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),c=n("d959"),s=n.n(c);const u=s()(i,[["render",a]]);t["a"]=u},7957:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("99af"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("8158"),d=n("9283"),p=n("2ef0"),b=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"create",value:function(e){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"/observations",e)}},{key:"saveObs",value:function(e,t){return this.create({encounter_id:e,observations:[t]})}},{key:"saveObsArray",value:function(e,t){return this.create({encounter_id:e,observations:t})}},{key:"buildValueCoded",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:this.getSessionDate(),e.next=3,l["a"].getConceptID(t,!0);case 3:return a=e.sent,e.next=6,l["a"].getConceptID(n,!0);case 6:return o=e.sent,e.abrupt("return",{concept_id:a,value_coded:o,obs_datetime:r});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"buildValueText",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.getSessionDate(),e.next=3,l["a"].getConceptID(t,!0);case 3:return a=e.sent,e.abrupt("return",{concept_id:a,value_text:n,obs_datetime:r});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"buildValueNumber",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:null,o=s.length>4&&void 0!==s[4]?s[4]:this.getSessionDate(),e.next=5,l["a"].getConceptID(t,!0);case 5:return i=e.sent,c={concept_id:i,value_numeric:n,obs_datetime:o},r&&Object.assign(c,{value_modifier:r}),a&&Object.assign(c,{order_id:a}),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"buildValueDate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:this.getSessionDate(),e.next=3,l["a"].getConceptID(t,!0);case 3:return a=e.sent,e.abrupt("return",{concept_id:a,value_datetime:n,obs_datetime:r});case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getObservations",value:function(e,t){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/observations?person_id=".concat(e,"&concept_id=").concat(t))}},{key:"getObs",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/observations",e)}},{key:"getAll",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:this.getSessionDate(),a=!(c.length>3&&void 0!==c[3])||c[3],e.next=4,l["a"].getConceptID(n,a);case 4:return o=e.sent,e.next=7,this.getObs({person_id:t,concept_id:o,date:r});case 7:if(i=e.sent,Object(p["isEmpty"])(i)){e.next=10;break}return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getFirstValueText",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:this.getSessionDate(),a=!(c.length>3&&void 0!==c[3])||c[3],e.next=4,l["a"].getConceptID(n,a);case 4:return o=e.sent,e.next=7,this.getObs({person_id:t,concept_id:o,date:r,page_size:1});case 7:if(i=e.sent,Object(p["isEmpty"])(i)){e.next=10;break}return e.abrupt("return",i[0].value_text);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getFirstValueCoded",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:this.getSessionDate(),a=!(c.length>3&&void 0!==c[3])||c[3],e.next=4,l["a"].getConceptID(n,a);case 4:return o=e.sent,e.next=7,this.getObs({person_id:t,concept_id:o,date:r,page_size:1});case 7:if(i=e.sent,Object(p["isEmpty"])(i)){e.next=10;break}return e.abrupt("return",l["a"].getConceptName(i[0].value_coded));case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getFirstValueNumber",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:this.getSessionDate(),a=!(c.length>3&&void 0!==c[3])||c[3],e.next=4,l["a"].getConceptID(n,a);case 4:return o=e.sent,e.next=7,this.getObs({person_id:t,concept_id:o,date:r,page_size:1});case 7:if(i=e.sent,Object(p["isEmpty"])(i)){e.next=10;break}return e.abrupt("return",l["a"].getConceptName(i[0].value_number));case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"resolvePrimaryValue",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="",null!=t.value_datetime&&(r=d["a"].toStandardHisDisplayFormat(t.value_datetime)),null!=t.value_text&&(r=t.value_text),null!=t.value_numeric&&(r=t.value_numeric),null==t.value_coded){e.next=8;break}return e.next=7,Object(i["a"])(Object(c["a"])(n),"getConceptName",this).call(this,t.value_coded);case 7:r=e.sent;case 8:return null!=t.value_modifier&&(r="".concat(r," ").concat(t.value_modifier)),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(l["a"])},"796a":function(e,t,n){"use strict";n("7da2")},7991:function(e,t,n){},"79cf":function(e,t,n){},"7a12":function(e,t,n){"use strict";n("b3c7")},"7b49":function(e,t,n){},"7da2":function(e,t,n){},"7e31":function(e,t,n){"use strict";n("c636")},"7e73":function(e,t,n){"use strict";n("13d5"),n("fb6a");function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.reduce((function(n,r,a){return a%t===0&&n.push(e.slice(a,a+t)),n}),[])}t["a"]={convertArrayToTurples:r}},"7e82":function(e,t,n){"use strict";n("be50")},"7f12":function(e,t,n){"use strict";var r=n("7a23"),a={key:0},o={key:1},i=Object(r["createVNode"])("h1",null,"Loading data, Please wait.....",-1),c=Object(r["createTextVNode"])(" Close ");function s(e,t,n,s,u,l){var d=Object(r["resolveComponent"])("ion-title"),p=Object(r["resolveComponent"])("ion-toolbar"),b=Object(r["resolveComponent"])("ion-header"),f=Object(r["resolveComponent"])("his-basic-table"),m=Object(r["resolveComponent"])("center"),h=Object(r["resolveComponent"])("ion-content"),g=Object(r["resolveComponent"])("ion-button"),O=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[e.ready?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])(f,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[i]})),_:1})]))]})),_:1}),Object(r["createVNode"])(O,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{color:"danger",onClick:e.closeModal,slot:"end"},{default:Object(r["withCtx"])((function(){return[c]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}n("96cf");var u=n("1da1"),l=n("a3a5"),d=n("8a30"),p=Object(r["defineComponent"])({components:{HisBasicTable:l["a"],IonHeader:d["p"],IonToolbar:d["K"],IonContent:d["m"],IonFooter:d["n"],IonButton:d["d"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},onRows:{type:Function,required:!0}},data:function(){return{rows:[],ready:!1}},watch:{onRows:{handler:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,e();case 3:t.rows=n.sent,t.ready=!0;case 5:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{closeModal:function(){return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()}}}),b=n("d959"),f=n.n(b);const m=f()(p,[["render",s]]);t["a"]=m},"7f35":function(e,t,n){"use strict";n.d(t,"d",(function(){return Y})),n.d(t,"b",(function(){return W})),n.d(t,"a",(function(){return J})),n.d(t,"c",(function(){return Q}));n("96cf");var r=n("1da1"),a=n("7a23");function o(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("his-table"),u=Object(a["resolveComponent"])("ion-content"),l=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{columns:e.columns,rowColors:e.rowColors,rows:e.rows},null,8,["columns","rowColors","rows"])]})),_:1}),Object(a["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var i=n("a3a5"),c={key:0};function s(e,t,n,r,o,i){var s=Object(a["resolveComponent"])("center"),u=Object(a["resolveComponent"])("ion-title"),l=Object(a["resolveComponent"])("ion-toolbar"),d=Object(a["resolveComponent"])("ion-header");return Object(a["openBlock"])(),Object(a["createBlock"])(d,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("h4",{class:e.color},Object(a["toDisplayString"])(e.title),3),e.subtitle?(Object(a["openBlock"])(),Object(a["createBlock"])("b",c,Object(a["toDisplayString"])(e.subtitle),1)):Object(a["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var u=Object(a["defineComponent"])({props:{title:{type:String,required:!0},subtitle:{type:String},color:{type:String}}}),l=n("d959"),d=n.n(l);const p=d()(u,[["render",s]]);var b=p,f={style:{padding:"10px"}};function m(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("dynamic-nav");return Object(a["openBlock"])(),Object(a["createBlock"])("div",f,[Object(a["createVNode"])(c,{color:"light",btns:e.btns},null,8,["btns"])])}n("d81d"),n("b0c0");var h=n("0f25"),g=n("8a30"),O=Object(a["defineComponent"])({components:{DynamicNav:h["a"]},props:{buttons:{type:Object,default:function(){return[]}}},computed:{btns:function(){return this.buttons.map((function(e){return e.size="large",e.color=e.color||"primary",e.visible=!0,e.styleClass="full-width-ion-btn",e.onClick||(e.onClick=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g["S"].dismiss({action:e.name});case 2:case"end":return t.stop()}}),t)})))),e}))}}});const v=d()(O,[["render",m]]);var _=v,j=Object(a["defineComponent"])({components:{ActionHeader:b,ActionFooter:_},props:{title:{type:String,required:!0},subtitle:{type:String},actionButtons:{type:Object,required:!0},color:{type:String}}});const w=j;var y=w,k=Object(a["defineComponent"])({mixins:[y],components:{HisTable:i["a"]},props:{rowColors:{type:Object},columns:{type:Object,required:!0},rows:{type:Object,required:!0}}});const x=d()(k,[["render",o]]);var N=x,V=Object(a["withScopeId"])("data-v-1e653d9c");Object(a["pushScopeId"])("data-v-1e653d9c");var C={class:"info-content"};Object(a["popScopeId"])();var D=V((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("ion-content"),u=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(s,null,{default:V((function(){return[Object(a["createVNode"])("div",C,[Object(a["createVNode"])("h3",{class:e.color},Object(a["toDisplayString"])(e.bodyTitle),3),Object(a["createVNode"])("p",{class:"description",innerHTML:e.bodyText},null,8,["innerHTML"])])]})),_:1}),Object(a["createVNode"])(u,{buttons:e.actionButtons},null,8,["buttons"])],64)})),T=Object(a["defineComponent"])({mixins:[y],props:{bodyTitle:{type:String,required:!0},bodyText:{type:String,required:!1}}});n("fa9e");const R=d()(T,[["render",D],["__scopeId","data-v-1e653d9c"]]);var I=R,S=Object(a["withScopeId"])("data-v-0ca92ba4"),P=S((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("interval-card"),u=Object(a["resolveComponent"])("ion-col"),l=Object(a["resolveComponent"])("ion-row"),d=Object(a["resolveComponent"])("ion-content"),p=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(d,null,{default:S((function(){return[Object(a["createVNode"])(l,{class:"vertically-align"},{default:S((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])(u,{key:n,size:"12"},{default:S((function(){return[Object(a["createVNode"])(s,{onOnclick:function(n){return e.onclick(t)},color:e.activeLabel===t?"active-card-color":"",label:t},null,8,["onOnclick","color","label"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(a["createVNode"])(p,{buttons:e.buttons},null,8,["buttons"])],64)})),A=(n("ac1f"),n("466d"),n("5530")),B=n("07a2"),E=n("b5e4"),F=Object(a["defineComponent"])({components:{IntervalCard:B["a"]},mixins:[y],data:function(){return{activeLabel:""}},props:{list:{type:Object,required:!0}},methods:{onclick:function(e){this.activeLabel=e}},computed:{buttons:function(){var e=this;return this.actionButtons.map((function(t){return Object(A["a"])(Object(A["a"])({},t),{},{onClick:function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.role||!t.role.match(/action/i)||e.activeLabel){n.next=2;break}return n.abrupt("return",Object(E["e"])("Please select something chonde!"));case 2:return n.next=4,g["S"].dismiss({selection:e.activeLabel,action:t.name});case 4:case"end":return n.stop()}}),n)})));function a(){return n.apply(this,arguments)}return a}()})}))}}});n("2e16");const L=d()(F,[["render",P],["__scopeId","data-v-0ca92ba4"]]);var M=L,H=Object(a["withScopeId"])("data-v-12747ea0"),U=H((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("action-header"),s=Object(a["resolveComponent"])("ion-content"),u=Object(a["resolveComponent"])("action-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(a["createVNode"])(s,null,{default:H((function(){return[Object(a["createVNode"])("ul",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.list,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("li",{key:t},[Object(a["createVNode"])("span",{innerHTML:e},null,8,["innerHTML"])])})),128))])]})),_:1}),Object(a["createVNode"])(u,{buttons:e.actionButtons},null,8,["buttons"])],64)})),q=Object(a["defineComponent"])({mixins:[y],props:{list:{type:Array,required:!0}}});n("fd60");const z=d()(q,[["render",U],["__scopeId","data-v-12747ea0"]]);var G=z;function Y(e,t,n,r,a){return K.apply(this,arguments)}function K(){return K=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a,o){var i,c,s,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=d.length>5&&void 0!==d[5]?d[5]:"",c=d.length>6&&void 0!==d[6]?d[6]:[],e.next=4,g["S"].create({component:N,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:t,subtitle:n,columns:r,rows:a,rowColors:c,actionButtons:o,color:i}});case 4:return s=e.sent,s.present(),e.next=8,s.onDidDismiss();case 8:return u=e.sent,l=u.data,e.abrupt("return",l.action);case 11:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function W(e,t,n,r){return $.apply(this,arguments)}function $(){return $=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,c,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:"",e.next=3,g["S"].create({component:G,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:t,subtitle:n,actionButtons:a,list:r,color:o}});case 3:return i=e.sent,i.present(),e.next=7,i.onDidDismiss();case 7:return c=e.sent,s=c.data,e.abrupt("return",s.action);case 10:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function J(e,t,n,r){return X.apply(this,arguments)}function X(){return X=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,c,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:"",e.next=3,g["S"].create({component:I,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:t,bodyTitle:n,bodyText:r,actionButtons:a,color:o}});case 3:return i=e.sent,i.present(),e.next=7,i.onDidDismiss();case 7:return c=e.sent,s=c.data,e.abrupt("return",s.action);case 10:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Q(e,t,n,r){return Z.apply(this,arguments)}function Z(){return Z=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,c,s,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=u.length>4&&void 0!==u[4]?u[4]:"",e.next=3,g["S"].create({component:M,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:t,subtitle:n,color:o,list:r,actionButtons:a}});case 3:return i=e.sent,i.present(),e.next=7,i.onDidDismiss();case 7:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}},"80b5":function(e,t,n){"use strict";n("d81d"),n("ac1f"),n("466d"),n("96cf");var r=n("1da1"),a=n("5530"),o=n("e86e"),i=n("d95e"),c=n("2706"),s=n("d10e"),u=n("b446"),l=n("9283"),d=n("23e6"),p=n("2ef0");function b(e){return e.map((function(e){return{label:e,value:e}}))}t["a"]={resolvePerson:function(e){var t={};for(var n in e){var r=e[n];Object(p["isPlainObject"])(r)&&"person"in r&&(Object(p["isPlainObject"])(r.person)?t=Object(a["a"])(Object(a["a"])({},t),r.person):t[n]=r["person"])}return t},getGivenNameField:function(){return{id:"given_name",helpText:"First name",type:i["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].isName(e)},options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.given_name){e.next=5;break}return e.next=3,s["a"].searchGivenName(t.given_name.value);case 3:return n=e.sent,e.abrupt("return",b(n));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},getFamilyNameField:function(){return{id:"family_name",helpText:"Last name",type:i["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].isName(e)},options:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.family_name){e.next=5;break}return e.next=3,s["a"].searchFamilyName(t.family_name.value);case 3:return n=e.sent,e.abrupt("return",b(n));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},getGenderField:function(){return{id:"gender",helpText:"Gender",type:i["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].required(e)},options:function(){return[{label:"Male",value:"M"},{label:"Female",value:"F"}]}}},getDobConfig:function(){return{id:"birth_date",summaryLabel:"Date of Birth",helpText:"Birth",required:!0,minDate:function(){return l["a"].estimateDateFromAge(100)},maxDate:function(){return s["a"].getSessionDate()},estimation:{allowUnknown:!0,estimationFieldType:u["a"].AGE_ESTIMATE_FIELD},computeValue:function(e,t){return{date:e,isEstimate:t,person:{birthdate:e,birthdate_estimated:t}}}}},getHomeRegionField:function(){return{id:"home_region",helpText:"Region of origin",type:i["b"].TT_SELECT,group:"person",requireNext:!1,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(){return Object(o["c"])()}}},getHomeDistrictField:function(){return{id:"home_district",helpText:"Home District",type:i["b"].TT_SELECT,requireNext:!1,computedValue:function(e){return{person:e.label}},options:function(e){return Object(o["a"])(e.home_region.value)}}},getHomeTaField:function(){return{id:"home_traditional_authority",helpText:"Home TA",type:i["b"].TT_SELECT,requireNext:!1,config:{showKeyboard:!0},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(o["d"])(e.home_district.value)}}},getHomeVillageField:function(){return{id:"home_village",helpText:"Home Village",type:i["b"].TT_SELECT,config:{showKeyboard:!0},requireNext:!1,defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(o["e"])(e.home_traditional_authority.value)}}},getCurrentRegionField:function(){return{id:"current_region",helpText:"Current Region",requireNext:!1,type:i["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(){return Object(o["c"])()}}},getCurrentDistrictField:function(){return{id:"current_district",helpText:"District",requireNext:!1,type:i["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(o["a"])(e.current_region.value)}}},getCurrentTAfield:function(){return{id:"current_traditional_authority",helpText:"Current TA",requireNext:!1,type:i["b"].TT_SELECT,defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(o["d"])(e.current_district.value)}}},getCurrentVillageField:function(){return{id:"current_village",helpText:"Current Village",requireNext:!1,type:i["b"].TT_SELECT,defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(o["e"])(e.current_traditional_authority.value)}}},getCellNumberField:function(){return{id:"cell_phone_number",helpText:"Cell phone number",group:"person",type:i["b"].TT_NUMBER,computedValue:function(e){return{person:e.label}},validation:function(e){if(!e||!e.value.match(/Unknown/i)&&!e.value.match(/n\/a/i))return c["a"].isMWPhoneNumber(e)}}},getLandmarkField:function(){return{id:"landmark",helpText:"Closest Landmark or Plot Number",group:"person",type:i["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].required(e)},options:function(){return b(["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"])}}},getFacilityLocationField:function(){return{id:"location",helpText:"Please select facility name",type:i["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(o["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}},getPersonAttributeOptions:function(e){var t=new d["a"](e),n=function(e,t){return t in e?e[t]():"-"};return{label:t.getPatientInfoString(),value:t.getID()||t.getNationalID(),other:{npid:t.getNationalID(),person:e,options:[{label:"National ID",value:n(t,"getNationalID")},{label:"Name",value:n(t,"getFullName")},{label:"Gender",value:n(t,"getGender")},{label:"Birthdate",value:n(t,"getBirthdate")},{label:"Home District",value:n(t,"getHomeDistrict")},{label:"Home Village",value:n(t,"getHomeVillage")},{label:"Current District",value:n(t,"getCurrentDistrict")},{label:"Current T/A",value:n(t,"getCurrentTA")}]}}}}},"80e3":function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-07dc8bca");Object(r["pushScopeId"])("data-v-07dc8bca");var o={class:"report-table"},i={key:0,class:"stick-report-header"},c={key:1},s={key:0},u={key:1},l={key:0,class:"no-data-section his-card"};Object(r["popScopeId"])();var d=a((function(e,t,n,d,p,b){var f=Object(r["resolveComponent"])("ion-icon"),m=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("table",o,[e.tableColumns?(Object(r["openBlock"])(),Object(r["createBlock"])("thead",i,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tableColumns,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("th",{key:n,colspan:t.colspan||0,onClick:function(r){return e.sort(n,t)},style:t.style,class:t.cssClass},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.th)+" ",1),e.sortedIndex===n&&t.sortable?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,icon:"ascSort"===e.sortOrder?e.arrowUp:e.arrowDown},null,8,["icon"])):Object(r["createCommentVNode"])("",!0)],14,["colspan","onClick"])})),128))])})),128))])):Object(r["createCommentVNode"])("",!0),e.rows?(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",c,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tableRows,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,t){var n,o,i;return Object(r["openBlock"])(),Object(r["createBlock"])("td",{key:t,colspan:e.colspan||0,class:e.cssClass,style:e.style},[e.event?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,["link"===(null===e||void 0===e||null===(n=e.event)||void 0===n?void 0:n.obj)?(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:0,href:"#",style:e.style,class:e.cssClass,onClick:Object(r["withModifiers"])((function(t){return e.event.click()}),["prevent"])},Object(r["toDisplayString"])(e.td),15,["onClick"])):Object(r["createCommentVNode"])("",!0),"button"===e.event.obj?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:1,color:(null===e||void 0===e||null===(o=e.event)||void 0===o?void 0:o.color)||"",class:e.cssClass,style:e.style,disabled:void 0!=(null===e||void 0===e||null===(i=e.event)||void 0===i?void 0:i.disabled)&&!0===e.event.disabled,onClick:function(t){return e.event.click()}},{default:a((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.td),1)]})),_:2},1032,["color","class","style","disabled","onClick"])):Object(r["createCommentVNode"])("",!0)])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,[Object(r["createVNode"])("span",{innerHTML:e.td},null,8,["innerHTML"])]))],14,["colspan"])})),128))])})),128))])):Object(r["createCommentVNode"])("",!0)]),!e.rows||e.rows.length<=0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",l," No data available in table ")):Object(r["createCommentVNode"])("",!0)],64)})),p=(n("99af"),n("d81d"),n("2909")),b=n("ff79"),f=n("9ceb"),m=n("2ef0"),h=n("8a30"),g=Object(r["defineComponent"])({components:{IonButton:h["d"],IonIcon:h["q"]},props:{config:{type:Object,default:{}},columns:{type:Object,required:!0},rows:{type:Object,required:!0}},data:function(){return{arrowUp:b["g"],arrowDown:b["f"],sortedIndex:-1,sortOrder:"descSort",tableColumns:[],tableRows:[]}},watch:{columns:{handler:function(e){if(e)if(this.showIndex()&&!Object(m["isEmpty"])(this.columns)){var t=Object(p["a"])(this.columns),n=this.columns.length-1;t[n]=[f["a"].thNum("#")].concat(Object(p["a"])(t[n])),this.tableColumns=t}else this.tableColumns=this.columns},immediate:!0,deep:!0},rows:{handler:function(e){e&&(this.showIndex()&&!Object(m["isEmpty"])(this.rows)?this.tableRows=this.rows.map((function(e,t){return[f["a"].td(t+1)].concat(Object(p["a"])(e))})):this.tableRows=e)},immediate:!0,deep:!0}},methods:{showIndex:function(){return!this.config||!("showIndex"in this.config)||this.config.showIndex},sort:function(e,t){e===this.sortedIndex?this.sortOrder="ascSort"===this.sortOrder?"descSort":"ascSort":(this.sortOrder="ascSort",this.sortedIndex=e),this.sortOrder in t&&(this.tableRows=t[this.sortOrder](e,this.tableRows))}}}),O=(n("699d"),n("d959")),v=n.n(O);const _=v()(g,[["render",d],["__scopeId","data-v-07dc8bca"]]);t["a"]=_},8158:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("4de4"),n("caad"),n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=[{categories:[],concept_id:7054,name:"Art clinic location"},{categories:["art_patient_type"],order:1,concept_id:7572,name:"New patient"},{categories:["art_patient_type"],order:2,concept_id:10522,name:"Drug Refill"},{categories:["risk factors"],concept_id:3720,name:"Diabetes"},{categories:["risk factors"],concept_id:7623,name:"CKD"},{categories:["risk factors"],concept_id:9499,name:"history of CVD"},{categories:["risk factors"],concept_id:9501,name:"relative with CVD"},{categories:["risk factors"],concept_id:3339,name:"patient smokes"},{categories:[],concept_id:3003,name:"Transfer to"},{categories:[],concept_id:1744,name:"Patient transferred out"},{categories:[],concept_id:9144,name:"Repeat / Missing"},{categories:[],concept_id:3280,name:"Targeted"},{categories:[],concept_id:1345,name:"Confirmatory"},{categories:[],concept_id:6383,name:"Stat"},{categories:[],concept_id:432,name:"Routine"},{categories:[],concept_id:730,name:"CD4 percent"},{categories:[],concept_id:2552,name:"Agrees to followup"},{categories:[],concept_id:7882,name:"Confirmatory HIV test date"},{categories:[],concept_id:2516,name:"Date ART started"},{categories:[],concept_id:1499,name:"Drug start date"},{categories:[],concept_id:7750,name:"Location of ART initiation"},{categories:[],concept_id:6394,name:"Has the patient taken ART in the last two weeks"},{categories:[],concept_id:7752,name:"Has the patient taken ART in the last two months"},{categories:[],concept_id:7751,name:"Date ART last taken"},{categories:[],concept_id:6981,name:"ART number at previous location"},{categories:[],concept_id:7881,name:"Confirmatory HIV test location"},{categories:[],concept_id:7754,name:"Ever received ART"},{categories:[],concept_id:7937,name:"Ever registered at ART clinic"},{categories:[],concept_id:6393,name:"Has transfer letter"},{categories:[],concept_id:9685,name:"Phone"},{categories:[],concept_id:9686,name:"Home visit"},{categories:[],concept_id:9974,name:"3HP (RFP + INH)"},{categories:[],concept_id:656,name:"IPT"},{categories:["side_effect"],concept_id:1773,name:"Heavy alcohol use"},{categories:["tb_symptom","side_effect"],concept_id:8260,name:"Weight loss / Failure to thrive / malnutrition"},{categories:[],concept_id:9661,name:"Contraindications"},{categories:[],concept_id:7567,name:"Drug induced"},{categories:["tb_symptom","side_effect","adverse_effect"],concept_id:6029,name:"Night sweats"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:5945,name:"Fever"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:5980,name:"Vomiting"},{categories:["5_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:877,name:"Dizziness"},{categories:["9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:620,name:"Headache"},{categories:["13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:5978,name:"Nausea"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","5_art_regimen_side_effect","6_art_regimen_side_effect","7_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","adverse_effect"],concept_id:843,name:"Treatment failure"},{categories:["2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:1458,name:"Lactic acidosis"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","15_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],concept_id:107,name:"Cough"},{categories:["11_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:821,name:"Peripheral neuropathy"},{categories:["0_art_regimen_contraindication","2_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","8_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:215,name:"Jaundice"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:2148,name:"Lipodystrophy"},{categories:["5_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","10_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:9242,name:"Kidney Failure"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:219,name:"Psychosis"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:9440,name:"Gynaecomastia"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:3,name:"Anemia"},{categories:["0_art_regimen_contraindication","contraindication","adverse_effect"],concept_id:512,name:"Skin rash"},{categories:["contraindication","adverse_effect"],concept_id:867,name:"Insomnia"},{categories:[],concept_id:1588,name:"TB treatment history"},{categories:["fast_track"],concept_id:9533,name:"Adult 18 years +"},{categories:["fast_track"],concept_id:9534,name:"On ART for 12 months "},{categories:["fast_track"],concept_id:9535,name:"On 1st line ART"},{categories:["fast_track"],concept_id:9537,name:"Good current adherence"},{categories:["fast_track"],concept_id:9536,name:"Last VL <1000"},{categories:["fast_track"],concept_id:9538,name:"Pregnant / Breastfeeding"},{categories:["fast_track"],concept_id:9539,name:"Side effects / HIV-rel. diseases"},{categories:["fast_track"],concept_id:9540,name:"Needs BP / diabetes treatment"},{categories:["fast_track"],concept_id:9527,name:"Started IPT <12m ago"},{categories:["fast_track"],concept_id:2186,name:"Any sign for TB"},{categories:["reasons_for_art","stage_1_conditions_adults_who_reason"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason","stage_1_conditions_adults_who_reason"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["reasons_for_art","stage_2_conditions_adults_who_reason"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason","stage_2_conditions_adults_who_reason"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["reasons_for_art","stage_3_conditions_adults_who_reason"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason","stage_3_conditions_adults_who_reason"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["reasons_for_art","stage_4_conditions_adults_who_reason"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason","stage_4_conditions_adults_who_reason"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:[],concept_id:1805,name:"Patient present"},{categories:[],concept_id:2122,name:"Guardian present"},{categories:[],concept_id:5092,name:"SP02"},{categories:[],concept_id:5087,name:"Pulse"},{categories:[],concept_id:5088,name:"Temp"},{categories:[],concept_id:1484,name:"Treatment status"},{categories:[],concept_id:3140,name:"Reason for poor treatment adherence"},{categories:[],concept_id:6987,name:"Drug adherence"},{categories:[],concept_id:2540,name:"Number of tablets brought to clinic"},{categories:[],concept_id:7880,name:"Confirmatory hiv test type"},{categories:["hiv_test_types"],concept_id:1040,name:"HIV rapid test"},{categories:["hiv_test_types"],concept_id:844,name:"HIV DNA polymerase chain reaction"},{categories:["hiv_test_types"],concept_id:1118,name:"Not done"},{categories:["hiv_test_types"],concept_id:1067,name:"Unknown"},{categories:["reason_for_art"],concept_id:8263,name:"PRESUMED SEVERE HIV"},{categories:["reason_for_art"],concept_id:844,name:"HIV DNA POLYMERASE CHAIN REACTION"},{categories:["reason_for_art"],concept_id:1169,name:"HIV infected"},{categories:["reason_for_art"],concept_id:1755,name:"PATIENT PREGNANT"},{categories:["reason_for_art"],concept_id:5632,name:"BREASTFEEDING"},{categories:["reason_for_art"],concept_id:5006,name:"Asymptomatic"},{categories:["reason_for_art"],concept_id:8376,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1"},{categories:["reason_for_art"],concept_id:7559,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2"},{categories:[""],concept_id:2743,name:"Who stages criteria present"},{categories:[""],concept_id:7965,name:"Is patient breast feeding"},{categories:[""],concept_id:6131,name:"Is patient pregnant"},{categories:[""],concept_id:7563,name:"Reason for ART eligibility"},{categories:[""],concept_id:7562,name:"Who stage"},{categories:[""],concept_id:2540,name:"Pills brought"},{categories:[""],concept_id:5089,name:"weight"},{categories:[],concept_id:5090,name:"Height"},{categories:["art_medication_order"],concept_id:9974,name:"Rifapentine"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"CPT"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"INH"},{categories:[""],concept_id:6784,name:"Appointment type"},{categories:[""],concept_id:1779,name:"Reason for ARV switch"},{categories:[""],concept_id:9561,name:"Assess for fast track"},{categories:[""],concept_id:1282,name:"Medication orders"},{categories:[""],concept_id:8471,name:"Fast track"},{categories:[""],concept_id:7755,name:"Art Side effects"},{categories:["art_medication_order"],concept_id:1085,name:"Antiretroviral drugs"},{categories:[""],concept_id:1066,name:"No"},{categories:[""],concept_id:1065,name:"Yes"},{categories:[""],concept_id:5096,name:"Appointment date"},{categories:[""],concept_id:3289,name:"Type of patient"},{categories:["art_patient_type"],concept_id:9684,order:3,name:"External consultation"},{categories:[""],concept_id:6830,name:"Cd4 count location"},{categories:[""],concept_id:6831,name:"Cd4 count datetime"},{categories:[""],concept_id:5497,name:"CD4 count"},{categories:["cd4_count"],concept_id:8208,name:"cd4 less than or equal to 750"},{categories:["cd4_count"],concept_id:8262,name:"cd4 less than or equal to 250"},{categories:["cd4_count"],concept_id:8207,name:"cd4 less than or equal to 350"},{categories:["cd4_count"],concept_id:9389,name:"cd4 less than or equal to 500"},{categories:["whole_staging_numbers"],concept_id:9145,name:"WHO STAGE 1"},{categories:["whole_staging_numbers"],concept_id:9146,name:"WHO STAGE 2"},{categories:["whole_staging_numbers"],concept_id:2932,name:"WHO STAGE 3"},{categories:["whole_staging_numbers"],concept_id:2933,name:"WHO STAGE 4"},{categories:["whole_staging_numbers"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["whole_staging_numbers"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["whole_staging_numbers"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["whole_staging_numbers"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["whole_staging_numbers"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["whole_staging_numbers"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["whole_staging_numbers"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["whole_staging_numbers"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7548,name:"Cryptococcal meningitis or other extrapulmonary cryptococcosis"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5340,name:"Candidiasis of oseophagus, trachea and bronchi or lungs"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1547,name:"Extrapulmonary tuberculosis (EPTB)"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:507,name:"Kaposis sarcoma"},{categories:["stage_3_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1215,name:"Bacterial pneumonia, severe recurrent"},{categories:["stage_4_conditions_adults","staging_4_conditions","who_staging_conditions"],concept_id:7959,name:"Non-typhoidal Salmonella bacteraemia, recurrent"},{categories:["stage_4_conditions_adults","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:7957,name:"Symptomatic HIV-associated nephropathy or cardiomyopathy"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2587,name:"Cerebral or B-cell non Hodgkin lymphoma"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:882,name:"Pneumocystis pneumonia"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5344,name:"Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7551,name:"Cytomegalovirus infection (retinitis or infection or other organs)"},{categories:["pshd_condition","stage_4_conditions_adults","who_staging_conditions"],concept_id:2583,name:"Toxoplasmosis of the brain"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2588,name:"Invasive cancer of cervix"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7040,name:"Unspecified stage 4 condition"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:6408,name:"Other"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:1362,name:"HIV encephalopathy"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:2585,name:"Disseminated non-tuberculosis mycobacterial infection"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7549,name:"Cryptosporidiosis, chronic with diarroea"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7956,name:"Isosporiasis >1 month"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7550,name:"Disseminated mycosis (coccidiomycosis or histoplasmosis)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:5046,name:"Progressive multifocal leukoencephalopathy"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions"],concept_id:3068,name:"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},{categories:["who_staging_conditions"],concept_id:2894,name:"Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7960,name:"Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7552,name:"Cytomegalovirus infection: rentinitis or other organ (from age 1 month)"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:5048,name:"Toxoplasmosis of the brain (from age 1 month)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7961,name:"Recto-vaginal fistula, HIV-associated"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:7540,name:"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:5018,name:"Diarrhoea, chronic (>1 month) unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5027,name:"Fever, persistent unexplained, intermittent or constant, >1 month"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:8206,name:"Pulmonary tuberculosis (current)"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7539,name:"Tuberculosis (PTB or EPTB) within the last 2 years"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:5334,name:"Oral candidiasis"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7546,name:"Acute necrotizing ulcerative gingivitis or periodontitis"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:2582,name:"Anaemia, unexplained < 8 g/dl"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7954,name:"Neutropaenia, unexplained < 500 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7541,name:"Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7955,name:"Thrombocytopaenia, chronic < 50,000 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:8205,name:"Hepatitis B or C infection"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:5337,name:"Oral hairy leukoplakia"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7039,name:"Unspecified stage 3 condition"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7543,name:"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7544,name:"Diarrhoea, persistent unexplained (14 days or more)"},{categories:["pshd_condition","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7545,name:"Oral candidiasis (from age 2 months)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7547,name:"Lymph node tuberculosis"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5024,name:"Symptomatic lymphoid interstitial pneumonia"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:2889,name:"Chronic HIV-associated lung disease, including bronchiectasis"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:5332,name:"Moderate weight loss less than or equal to 10 percent, unexplained"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:5012,name:"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:2578,name:"Seborrhoeic dermatitis"},{categories:["stage_2_conditions_adults","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7536,name:"Papular pruritic eruptions / Fungal nail infections"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:836,name:"Herpes zoster"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2575,name:"Angular cheilitis"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2576,name:"Oral ulcerations, recurrent"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:7038,name:"Unspecified stage 2 condition"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7537,name:"Hepatosplenomegaly, persistent unexplained"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:2891,name:"Lineal gingival erythema"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6775,name:"Wart virus infection, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6776,name:"Molluscum contagiosum, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:1210,name:"Parotid enlargement, persistent unexplained"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5327,name:"Asymptomatic HIV infection"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5328,name:"Persistent generalized lymphadenopathy"}],p=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"getConceptsByCategory",value:function(e){return d.filter((function(t){return t.categories.includes(e)}))}},{key:"getConceptName",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.getCachedConceptName(t),!n){e.next=3;break}return e.abrupt("return",n);case 3:return e.abrupt("return",this.getConceptNameFromApi(t));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getConceptID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return this.getCachedConceptID(e,t)}catch(n){return this.getConceptIDFromApi(e)}}},{key:"getCachedConceptID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=d.filter((function(n){return t?n.name===e:n.name.match(new RegExp(e,"i"))}));return this.resolveConcept(n,e)}},{key:"getConceptIDFromApi",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/concepts",{name:t});case 2:return r=e.sent,e.abrupt("return",this.resolveConcept(r,t));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getConceptNameFromApi",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/concepts/".concat(t));case 2:if(r=e.sent,!r){e.next=5;break}return e.abrupt("return",r.concept_names[0].name);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCachedConceptName",value:function(e){var t=d.filter((function(t){return t.concept_id===e}));if(t.length>=1)return t[0].name}},{key:"resolveConcept",value:function(e,t){if(1===e.length)return e[0].concept_id;throw"Concept name ".concat(t," was not found or has a duplicates")}}]),n}(l["c"])},8344:function(e,t,n){"use strict";n("b1dd")},8378:function(e,t,n){"use strict";n("e507")},"83af":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("99af"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("cc6f"),u=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){return Object(a["a"])(this,n),t.call(this,e,7,r)}return Object(o["a"])(n,[{key:"getNextAppointment",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s["a"].getProgramID(),e.abrupt("return",s["a"].getJson("/programs/".concat(t,"/patients/").concat(this.patientID,"/next_appointment_date"),{date:this.date}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"getDailiyAppointments",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s["a"].getProgramID(),e.abrupt("return",s["a"].getJson("/programs/".concat(n,"/booked_appointments"),{date:t,paginate:!1}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(s["a"])},"83b8":function(e,t,n){},8685:function(e,t,n){},"8adb":function(e,t,n){"use strict";n("9dbc")},"8aef":function(e,t,n){},"8af5":function(e,t,n){"use strict";n("19f2")},"8c28":function(e,t,n){},"8c54":function(e,t,n){},"8cb7":function(e,t,n){},"8cbc":function(e,t,n){},"8ccb":function(e,t,n){},"8df6":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("caad"),n("d81d"),n("b0c0"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("cc6f"),u=n("8158"),l=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var o;return Object(a["a"])(this,n),o=t.call(this,e,5,r),o.patientType="N/A",o.locationName="",o}return Object(o["a"])(n,[{key:"setLocationName",value:function(e){this.locationName=e}},{key:"setPatientType",value:function(e){this.patientType=e}},{key:"getType",value:function(){return this.patientType}},{key:"loadPatientType",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFirstValueCoded("Type of patient");case 2:t=e.sent,t&&(this.patientType=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.savePatientType(this.patientType);case 2:if(!this.locationName||!["External consultation","Drug Refill"].includes(this.patientType)){e.next=5;break}return e.next=5,this.saveLocationClinic(this.locationName);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveLocationClinic",value:function(e){return this.saveValueTextObs("Art clinic location",e)}},{key:"savePatientType",value:function(e){return this.saveValueCodedObs("Type of patient",e)}}],[{key:"getPatientTypes",value:function(){return u["a"].getConceptsByCategory("art_patient_type").map((function(e){var t=e.name;return{label:t,value:t}}))}}]),n}(s["a"])},"8e47":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af");var r=function(e){var t=e.given_name,n=e.family_name,r=e.middle_name?e.middle_name:"";return"".concat(t," ").concat(r," ").concat(n)}},"91e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("d81d"),n("b65f"),n("07ac"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("5969"),u=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.stock=[],e}return Object(o["a"])(n,[{key:"loadStock",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getJson("pharmacy/items",{paginate:!1});case 2:this.stock=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadTrail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getJson("pharmacy/audit_trail",{paginate:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"groupStock",value:function(){var e={};for(var t in this.stock){var n=this.stock[t],r=n["drug_id"];e[r]||(e[r]={current_quantity:0,expiry_dates:[],pack_size:n.pack_size,drug_name:null===n["drug_name"]?n["drug_legacy_name"]:n["drug_name"]}),0!==n.current_quantity&&(e[r]["current_quantity"]+=parseFloat(n.current_quantity),e[r]["expiry_dates"].push(n["expiry_date"]))}return Object.values(e).map((function(e){var t="0";t=null==e.pack_size?e.current_quantity+"(tabs)":Math.trunc(e.current_quantity/e.pack_size);var n=e.expiry_dates.sort((function(e,t){return+new Date(e)-+new Date(t)}))[0];return{drugName:e.drug_name,currentQuantity:t,expiryDate:n}}))}}]),n}(s["a"])},9267:function(e,t,n){"use strict";n("fcbf")},9283:function(e,t,n){"use strict";n("99af"),n("d3b7"),n("ac1f"),n("25f0"),n("466d");var r=n("5a0c"),a=n.n(r),o="YYYY-MM-DD",i="DD/MMM/YYYY";function c(){return a()().format(i)}function s(e,t){return a()(e).diff(t,"days")}function u(e){return a()().diff(e,"years")}function l(e){return a()(e).format("HH:MM")}function d(e){return a()(e).format(i)}function p(e){return a()(e).format(o)}function b(e){var t=a()().subtract(e,"years");return t.format(o)}function f(e){return a()().subtract(e,"years").year()}function m(e){return a()(e).year()}function h(e){return a()(e).format("MMM")}function g(e){return a()(e).date()}function O(e,t,n){return a()(e).add(n,t)}function v(e,t,n){return a()(e).subtract(n,t)}function _(e){return a()().isAfter(e)}function j(){return a()().year()}function w(e,t){var n=new Date(e);return n.setDate(n.getDate()-t),p(n)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=t.toString(),a=n.toString(),o=e,i=function(e){return e.toString().match(/Unknown/i)};return parseInt(o.toString())<1900&&(o="1900"),t&&!i(t)||(r="07"),n&&!i(n)||(a="15"),p("".concat(o,"-").concat(r,"-").concat(a))}t["a"]={getYear:m,dateDiffInDays:s,getAgeInYears:u,toStandardHisTimeFormat:l,toStandardHisDisplayFormat:d,currentDisplayDate:c,dateIsAfter:_,stitchDate:y,toStandardHisFormat:p,estimateDateFromAge:b,getYearFromAge:f,getCurrentYear:j,getDateBeforeByDays:w,getMonth:h,getDay:g,add:O,subtract:v}},9307:function(e,t,n){"use strict";n("55e6")},9441:function(e,t,n){"use strict";n("b0c0");var r=n("7a23");function a(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("info-card"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header"),b=Object(r["resolveComponent"])("ion-content"),f=Object(r["resolveComponent"])("ion-button"),m=Object(r["resolveComponent"])("ion-footer"),h=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.currentField),1),Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){var t,n;return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.helpText),1)]})),_:1})]})),_:1}),(null===(t=e.currentField)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.toolbarInfo)?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0},{default:Object(r["withCtx"])((function(){var t,n;return[Object(r["createVNode"])(u,{style:{height:"100%"},items:null===(t=e.currentField)||void 0===t||null===(n=t.config)||void 0===n?void 0:n.toolbarInfo},null,8,["items"])]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(r["KeepAlive"],null,[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.currentField.type),{key:e.currentField.id,config:e.currentField.config,options:e.currentField.options,preset:e.currentField.preset,clear:e.isClear,fdata:e.formData,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,onOnValue:e.onFieldValue,onOnClear:t[1]||(t[1]=function(t){return e.isClear=!1}),onOnFieldActivated:e.onFieldActivated},null,8,["config","options","preset","clear","fdata","cdata","activationState","onValue","defaultValue","onValueUpdate","onOnValue","onOnFieldActivated"]))],1024))]})),_:1}),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{color:"dark"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.footerBtns,(function(t,n){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:n,slot:t.slot||"start",class:t.styleClass,onClick:function(n){return t.onClick(e.formData,e.computedFormData)},color:t.color||"primary",size:t.size||"large",disabled:e.onDisabledBtnState(t,"disabled",!1)},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1032,["slot","class","onClick","color","size","disabled"])),[[r["vShow"],e.onVisibleBtnState(t,"visible")]])})),128))]})),_:1})]})),_:1})]})),_:1})],64)}n("99af"),n("4de4"),n("4160"),n("caad"),n("a15b"),n("2532"),n("159b");var o=n("2909"),i=(n("96cf"),n("1da1")),c=n("5530"),s=n("d95e"),u=n("2ef0"),l=n("8a30"),d=n("b5e4"),p=Object(r["withScopeId"])("data-v-2a4fc5de"),b=p((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-grid"),l=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:p((function(){return[Object(r["createVNode"])(u,null,{default:p((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rowItems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:t},{default:p((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{class:"col",key:t},{default:p((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.label)+":",1),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1})]})),_:1})})),f=n("2b47"),m=n("7e73"),h=Object(r["defineComponent"])({name:"HisResultCard",components:{ToolBarMediumCard:f["a"],IonGrid:l["o"],IonCol:l["l"],IonRow:l["E"]},props:{items:{type:Object,required:!0}},computed:{rowItems:function(){return m["a"].convertArrayToTurples(this.items,2)}}}),g=(n("5117"),n("d959")),O=n.n(g);const v=O()(h,[["render",b],["__scopeId","data-v-2a4fc5de"]]);var _=v,j=Object(r["defineComponent"])({name:"TouchscreenForm",components:Object(c["a"])({InfoCard:_,IonButtons:l["e"],IonPage:l["A"],IonContent:l["m"],IonFooter:l["n"],IonToolbar:l["K"],IonButton:l["d"],IonHeader:l["p"],IonTitle:l["J"],IonCol:l["l"],IonRow:l["E"]},s["a"]),emits:["onFinish","onIndex"],props:{onFinish:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String}},data:function(){return{isClear:!1,currentIndex:0,currentField:{},formData:{},computedFormData:{},footerBtns:[],currentFields:[],state:""}},computed:{helpText:function(){return this.currentField.dynamicHelpText?this.currentField.dynamicHelpText(this.formData):this.currentField.helpText}},watch:{fields:{handler:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(Object(u["isEmpty"])(e)){n.next=11;break}if(t.buildFormData(e),r=e,t.skipSummary||(r=[].concat(Object(o["a"])(r),[t.getDefaultSummaryField()])),t.currentFields=r,!t.activeField){n.next=9;break}t.mountField(t.activeField),n.next=11;break;case 9:return n.next=11,t.onNext();case 11:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0},activeField:{handler:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&t.mountField(e);case 1:case"end":return n.stop()}}),n)})))()}}},mounted:function(){this.footerBtns=[this.getCancelBtn()]},methods:{mountField:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("_NEXT_FIELD_"!==e){n.next=4;break}return n.next=3,t.goNext();case 3:return n.abrupt("return",t.$emit("onIndex",t.currentIndex));case 4:r=Object(u["findIndex"])(t.currentFields,{id:e}),r>=0&&r<=t.currentFields.length&&(t.setActiveField(r),t.$emit("onIndex",r));case 6:case"end":return n.stop()}}),n)})))()},getCancelBtn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{};return{name:n.name||"Cancel",color:n.color||"danger",onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.onClick){t.next=2;break}return t.abrupt("return",n.onClick());case 2:return t.next=4,Object(d["b"])("Are you sure you want to cancel?");case 4:r=t.sent,r&&(e.cancelDestinationPath?e.$router.push(e.cancelDestinationPath):e.$router.back());case 6:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()}},getClearBtn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{};return{name:n.name||"Clear",color:n.color||"warning",slot:"end",onClick:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.onClick){t.next=2;break}return t.abrupt("return",n.onClick());case 2:return t.next=4,Object(d["b"])("Are you sure you want to clear field data?");case 4:r=t.sent,r&&(e.isClear=!0);case 6:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()}},getBackBtn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},r=function(){return!(1===e.currentFields.length||e.currentIndex<=0)};return{name:(null===n||void 0===n?void 0:n.name)||"Back",slot:"end",state:{disabled:{default:function(){return!1},onsubmit:function(){return!0}},visible:{onload:function(){return r()},default:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():e.goBack()}}},getNextBtn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},r=function(){return!(e.currentIndex+1>=e.currentFields.length||e.currentFields.length<=1)};return{name:(null===n||void 0===n?void 0:n.name)||"Next",color:(null===n||void 0===n?void 0:n.color)||"success",slot:"end",state:{disabled:{onsubmit:function(){return!0},default:function(e){return"requireNext"in e&&!e.requireNext}},visible:{onsubmit:function(){return!1},onfinish:function(){return!1},default:function(){return r()},onload:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():e.goNext()}}},getFinishBtn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t||{},r=function(){return e.currentIndex+1>=e.currentFields.length};return{name:(null===n||void 0===n?void 0:n.name)||"Finish",color:(null===n||void 0===n?void 0:n.color)||"success",slot:"end",state:{disabled:{default:function(){return!1},onsubmit:function(){return!0}},visible:{onfinish:function(){return!0},onsubmit:function(){return!0},default:function(){return r()},onload:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():e.goNext()}}},onVisibleBtnState:function(e){var t;try{var n,r;if(null===(n=this.currentField)||void 0===n||null===(r=n.config)||void 0===r?void 0:r.hiddenFooterBtns.includes(e.name))return!1}catch(a){}if(null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.visible){if(this.state in e.state.visible)return e.state.visible[this.state](this.currentField,this.formData);if("default"in e.state.visible)return e.state.visible["default"](this.currentField,this.formData)}return!0},onDisabledBtnState:function(e){var t;if(null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.disabled){if(this.state in e.state.disabled)return e.state.disabled[this.state](this.currentField,this.formData);if("default"in e.state.disabled)return e.state.disabled["default"](this.currentField,this.formData)}return!1},getDefaultSummaryField:function(){var e=this;return{id:"__form_summary__",helpText:"Summary",type:s["b"].TT_SUMMARY,config:{hiddenFooterBtns:["Clear"]},options:function(t,n){var r=[],a=function(a){var o=e.currentFields.filter((function(e){return e.id===a||e.proxyID===a}))[0],i=t[a];if(!i||void 0!=o.appearInSummary&&!o.appearInSummary(t,a))return"continue";var c=Array.isArray(i)?i:[i];c.forEach((function(e){o.summaryMapValue?r.push(o.summaryMapValue(e,t,n[a])):r.push({label:o.helpText,value:e.label})}))};for(var o in t)a(o);return r}}},resolveFormValues:function(e){var t={};for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},onFinishAction:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.resolveFormValues(e.formData),r=e.resolveFormValues(e.computedFormData),!e.onFinish){t.next=12;break}return t.prev=3,e.state="onsubmit",t.next=7,e.onFinish(n,r);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),Object(d["c"])(t.t0);case 12:e.state="onfinish",e.$emit("onFinish",n,r);case 14:case"end":return t.stop()}}),t,null,[[3,9]])})))()},goNext:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentField.validation){t.next=5;break}if(n=e.formData[e.currentField.id],r=e.currentField.validation(n,e.formData,e.computedFormData),!r){t.next=5;break}return t.abrupt("return",Object(d["e"])(r.join(", "),3500));case 5:if(!e.currentField.beforeNext){t.next=10;break}return t.next=8,e.currentField.beforeNext(e.formData[e.currentField.id],e.formData,e.computedFormData,e);case 8:if(t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,e.onNext();case 12:case"end":return t.stop()}}),t)})))()},goBack:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.currentIndex;case 1:if(!(n>=0)){t.next=21;break}if(r=e.currentFields[n],Object(u["isEmpty"])(e.currentField)||e.currentField.id!==r.id){t.next=5;break}return t.abrupt("continue",18);case 5:return t.prev=5,t.next=8,e.checkFieldCondition(r);case 8:if(t.sent){t.next=10;break}return t.abrupt("continue",18);case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t["catch"](5),t.abrupt("continue",18);case 15:return t.next=17,e.setActiveField(n,"prev");case 17:return t.abrupt("return");case 18:--n,t.next=1;break;case 21:case"end":return t.stop()}}),t,null,[[5,12]])})))()},checkFieldCondition:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.t0=e.condition,!n.t0){n.next=5;break}return n.next=4,e.condition(t.formData,t.computedFormData);case 4:n.t0=!n.sent;case 5:if(!n.t0){n.next=9;break}return t.formData[e.id]=e.defaultOutput?e.defaultOutput(t.formData,t.computedFormData):null,e.computedValue&&(t.computedFormData[e.id]=e.defaultComputedOutput?e.defaultComputedOutput(t.formData,t.computedFormData):null),n.abrupt("return",!1);case 9:return n.abrupt("return",!0);case 10:case"end":return n.stop()}}),n)})))()},onFieldActivated:function(e){this.state="onload",this.currentField.onload&&this.currentField.onload(e)},onUnload:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:"",t.state="unload",Object(u["isEmpty"])(t.currentField)||!t.currentField.unload){n.next=6;break}return a=t.formData[t.currentField.id],n.next=6,t.currentField.unload(a,r,t.formData,t.computedFormData,t);case 6:case"end":return n.stop()}}),n)})))()},buildFormData:function(e){var t=this;this.formData={},e.forEach((function(e){e.proxyID&&(t.formData[e.proxyID]=null),t.formData[e.id]=null}))},setActiveFieldValue:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.state="onValue",r=t.currentField.proxyID,a=t.currentField.id,r&&(t.formData[r]=e),t.formData[a]=e,o=null,t.currentField.computedValue&&(e&&(o=t.currentField.computedValue(e,t.formData,t.computedFormData)),r?t.computedFormData[r]=o:t.computedFormData[a]=o);case 7:case"end":return n.stop()}}),n)})))()},onNext:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.currentFields.length,r=e.currentIndex;case 2:if(!(r<n)){t.next=22;break}if(a=e.currentFields[r],Object(u["isEmpty"])(e.currentField)||e.currentField.id!==a.id){t.next=6;break}return t.abrupt("continue",19);case 6:return t.prev=6,t.next=9,e.checkFieldCondition(a);case 9:if(t.sent){t.next=11;break}return t.abrupt("continue",19);case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t["catch"](6),t.abrupt("continue",19);case 16:return t.next=18,e.setActiveField(r,"next");case 18:return t.abrupt("return");case 19:++r,t.next=2;break;case 22:return t.next=24,e.onFinishAction();case 24:case"end":return t.stop()}}),t,null,[[6,13]])})))()},setActiveField:function(e){var t=arguments,n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=t.length>1&&void 0!==t[1]?t[1]:"",r.next=3,n.onUnload(o);case 3:n.state=o,n.currentIndex=e,n.currentField=n.currentFields[n.currentIndex],n.footerBtns=[n.getCancelBtn()],n.currentField.config&&n.currentField.config.footerBtns&&(n.footerBtns=n.footerBtns.concat(n.currentField.config.footerBtns)),i=null===(a=n.currentField.config)||void 0===a?void 0:a.overrideDefaultFooterBtns,n.footerBtns.push(n.getClearBtn(null===i||void 0===i?void 0:i.clearBtn)),n.footerBtns.push(n.getBackBtn(null===i||void 0===i?void 0:i.backBtn)),n.footerBtns.push(n.getNextBtn(null===i||void 0===i?void 0:i.nextBtn)),n.footerBtns.push(n.getFinishBtn(null===i||void 0===i?void 0:i.finishBtn));case 13:case"end":return r.stop()}}),r)})))()},onFieldValue:function(e){this.setActiveFieldValue(e),"requireNext"in this.currentField&&!this.currentField.requireNext&&this.onNext()}}});const w=O()(j,[["render",a]]);t["a"]=w},9737:function(e,t,n){"use strict";n("8ccb")},9767:function(e,t,n){"use strict";n("2e03")},"97b0":function(e,t,n){},"9a42":function(e,t,n){"use strict";n("9ce8")},"9b41":function(e,t,n){},"9b7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("99af"),n("4de4"),n("d81d"),n("b0c0");var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=n("9283"),p=n("8158"),b=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"create",value:function(e){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"/lab/orders",e)}},{key:"getOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/lab/orders",Object(r["a"])({patient_id:e},t))}},{key:"getTestTypes",value:function(){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/lab/test_types")}},{key:"getTestTypesBySpecimen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/lab/test_types",{specimen_type:e})}},{key:"getSpecimens",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/lab/specimen_types",{test_type:e})}},{key:"getViralLoadOrders",value:function(e){return e.filter((function(e){try{var t=e.tests[0].result;return!!Array.isArray(t)&&(e.tests.length>0&&e.tests[0].result.length>0)}catch(n){console.log(n)}}))}},{key:"formatOrders",value:function(e){var t=e.tests[0],n=t.result[0],r=d["a"].toStandardHisFormat(n.date);return"".concat(t.name," ").concat(n.value_modifier).concat(n.value," ").concat(r)}},{key:"formatLabs",value:function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].accession_number,a="Unknown"==e[n].specimen.name?"N/A":e[n].specimen.name,o=e[n].order_date,i=e[n].tests,c=0;c<i.length;c++){for(var s=i[c].result?i[c].result:[],u=[],l="",p=0;p<s.length;p++){l=null==s[p].date?"":"".concat(s[p].date);var b=s[p].indicator.name,f=s[p].value,m="<"===s[p].value_modifier?"&lt;":s[p].value_modifier;u.push(b+"   "+m+f)}t.push({accession_number:r,test_name:i[c].name,specimen:a,ordered:d["a"].toStandardHisFormat(o),result:u,released:d["a"].toStandardHisFormat(l)})}return t}},{key:"buildLabOrders",value:function(e,t){var r=this;return t.map((function(t){var a=p["a"].getCachedConceptID(t.reason,!0),o={encounter_id:e.encounter_id,tests:[{concept_id:t.concept_id}],reason_for_test_id:a,target_lab:Object(i["a"])(Object(c["a"])(n),"getLocationName",r).call(r),date:d["a"].toStandardHisFormat(Object(i["a"])(Object(c["a"])(n),"getSessionDate",r).call(r)),requesting_clinician:Object(i["a"])(Object(c["a"])(n),"getUserName",r).call(r)};return t.specimenConcept&&(o["specimen"]={concept_id:t.specimenConcept}),o}))}},{key:"saveOrdersArray",value:function(e,t){return this.create({encounter_id:e,orders:t})}}]),n}(l["c"])},"9c73":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("4160"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0");var r=n("15fd"),a=n("5530"),o=(n("96cf"),n("1da1")),i=n("d4ec"),c=n("bee2"),s=n("262e"),u=n("2caf"),l=n("cc6f"),d=n("9b7c"),p=n("b89f"),b=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e){return Object(i["a"])(this,n),t.call(this,e,57)}return Object(c["a"])(n,[{key:"setDate",value:function(e){this.date=e}},{key:"getOrders",value:function(e){return d["a"].getOrders(this.patientID,{status:e,date:this.date})}},{key:"voidOrder",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d["a"].void("lab/orders/".concat(t),{reason:n}));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateOrderSpecimen",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",d["a"].putJson("lab/orders/".concat(t),{specimen:{concept_id:n}}));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"printSpecimenLabel",value:function(e){return(new p["a"]).printLbl("lab/labels/order?order_id=".concat(e))}},{key:"placeOrder",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.createEncounter();case 3:if(r=e.sent,r){e.next=6;break}throw"Unable to create encounter";case 6:return o=Object(a["a"])({encounter_id:r.encounter_id,date:this.date},t),o.requesting_clinician||(o["requesting_clinician"]=d["a"].getUserName()),n=t.combine_tests?[o]:o.tests.map((function(e){var t=Object(a["a"])({},o);return t.tests=[e],t})),e.abrupt("return",d["a"].postJson("lab/orders",{orders:n}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}],[{key:"getSpecimensForTests",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return d["a"].getSpecimens(e.name)})));case 2:return n=e.sent,e.abrupt("return",this.getCommonSpecimens(n));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCommonSpecimens",value:function(e){var t={},n=[];for(var o in e.forEach((function(e){e.forEach((function(e){var n=e.name,o=Object(r["a"])(e,["name"]),i=Object(a["a"])({name:n},o);t[n]?t[n].push(i):t[n]=[i]}))})),t)t[o].length>=e.length&&n.push(t[o][0]);return n}}]),n}(l["a"])},"9ce8":function(e,t,n){},"9ceb":function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n("4160"),n("159b");var r=n("5530"),a=n("9283"),o=n("25da");function i(e,t){var n=[],r=[],a=function(r){var a=[];t[r].forEach((function(t,n){var r=e[e.length-1][n];"exportable"in r&&r.exportable&&a.push(t.value?t.value:t.td)})),n.push(a)};for(var o in t)a(o);var i=function(t){var n=[];e[t].forEach((function(e){e.exportable&&n.push(e.value?e.value:e.th)})),r.push(n)};for(var c in e)i(c);return{columns:r,rows:n}}function c(e){var t={th:function(){return e.th?e.th:""},td:function(){return e.td?e.td:""},value:function(){return e.value?e.value:""},type:function(){return e.type?e.type:"string"},exportable:function(){return!("exportable"in e)||e.exportable},sortable:function(){return!("sortable"in e)||e.sortable},colspan:function(){return e.colspan?e.colspan:0},cssClass:function(){return e.cssClass?e.cssClass:0},style:function(){return e.style?e.style:0},ascSort:function(){return e.ascSort?e.ascSort:function(e,t){return Object(o["a"])(t).asc((function(t){return t[e].td}))}},descSort:function(){return e.descSort?e.descSort:function(e,t){return Object(o["a"])(t).desc((function(t){return t[e].td}))}}},n={};for(var r in t)n[r]=t[r]();return n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return n.th=e,n.type="string",c(n)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return n.th=e,n.type="date",c(n)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return n.th=e,n.type="number",c(n)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return n.td=a["a"].toStandardHisDisplayFormat(e),c(n)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r["a"])({td:e},t)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(r["a"])({td:e,event:{click:t,obj:"link"}},n)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o={td:e,event:{click:t,color:a,obj:"button"}};return n.event&&(o.event=Object(r["a"])(Object(r["a"])({},o.event),n.event),delete n.event),Object.assign(o,n)}t["a"]={thTxt:s,thNum:l,thDate:u,td:p,tdBtn:f,tdDate:d,tdLink:b}},"9cf9":function(e,t,n){"use strict";n("d0f3")},"9db7":function(e,t,n){},"9dbc":function(e,t,n){},"9ed9":function(e,t,n){"use strict";n("b713")},a039:function(e,t,n){"use strict";n("6b5c")},a16a:function(e,t,n){"use strict";n("6b64")},a1cd:function(e,t,n){"use strict";n("43e5")},a1f3:function(e,t,n){},a2fe:function(e,t,n){},a320:function(e,t,n){"use strict";n("3e96")},a392:function(e,t,n){"use strict";n("7991")},a3a5:function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),a={key:0},o={key:0},i={key:1},c={key:1},s={key:2};function u(e,t,n,u,l,d){var p=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])("table",{class:e.classStyles},[Object(r["createVNode"])("tr",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.columns,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("th",{key:t},Object(r["toDisplayString"])(e),1)})),128))]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rows,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(u,l){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{class:e.getColorCodeClass(n,l),key:l},[e.isLink(u)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[u.isActive?(Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("a",{href:"#",onClick:Object(r["withModifiers"])((function(e){return u.action(t)}),["prevent"])},Object(r["toDisplayString"])(u.value),9,["onClick"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,Object(r["toDisplayString"])(u.value),1))])):e.isActionButton(u)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])(p,{onClick:function(e){return u.action(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(u.name),1)]})),_:2},1032,["onClick"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("span",{innerHTML:u},null,8,["innerHTML"])]))],2)})),128))])})),128))],2)}n("4de4"),n("caad"),n("a15b"),n("2532");var l=n("53ca"),d=n("2ef0"),p=n("8a30"),b=Object(r["defineComponent"])({components:{IonButton:p["d"]},props:{styles:{type:Array},rowColors:{type:Array,default:function(){return[]}},cellColors:{type:Array,default:function(){return[]}},columns:{type:Object,required:!0},rows:{type:Object}},computed:{classStyles:function(){var e=this.styles?this.styles.join(" "):"";return"his-table ".concat(e)}},methods:{isLink:function(e){try{return"object"===Object(l["a"])(e)&&"link"===e.type}catch(t){return e}},isActionButton:function(e){try{return"object"===Object(l["a"])(e)&&"button"===e.type}catch(t){return e}},getColorCodeClass:function(e,t){var n="";if(!Object(d["isEmpty"])(this.rowColors)){var r=this.rowColors.filter((function(t){return t.indexes.includes(e)}));Object(d["isEmpty"])(r)||(n+=" "+r[0].class)}if(!Object(d["isEmpty"])(this.cellColors)){var a=this.cellColors.filter((function(n){return n.index===t&&n.row===e}));Object(d["isEmpty"])(a)||(n+=" "+a[0].class)}return n}}}),f=n("d959"),m=n.n(f);const h=m()(b,[["render",u]]);t["a"]=h},a512:function(e,t,n){"use strict";n("5126")},a807:function(e,t,n){"use strict";n("3b1f")},aa55:function(e,t,n){var r={"./ion-action-sheet.entry.js":["6618","chunk-706e4ef2"],"./ion-alert.entry.js":["f06c","chunk-77362677"],"./ion-app_8.entry.js":["c215","chunk-34f7327c"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3","chunk-5ff96a24"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-f858ef4e"],"./ion-nav_2.entry.js":["e44f","chunk-c53d26f0"],"./ion-popover.entry.js":["4285","chunk-1f3fa45a"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8","chunk-858cd918"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-c567cc2a"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="aa55",e.exports=a},ac3a:function(e,t,n){"use strict";n("f0f2")},ad49:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("ac1f"),n("1276");var r=n("3835"),a=(n("96cf"),n("1da1")),o=n("d4ec"),i=n("bee2"),c=n("45eb"),s=n("7e84"),u=n("262e"),l=n("2caf"),d=n("1c74"),p=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this)}return Object(i["a"])(n,null,[{key:"get",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c["a"])(Object(s["a"])(n),"getJson",this).call(this,"global_properties",{property:t});case 3:if(r=e.sent,!r||!(t in r)){e.next=6;break}return e.abrupt("return",r[t]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"isProp",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.split("="),a=Object(r["a"])(n,2),o=a[0],i=a[1],e.next=4,this.get(o);case 4:if(c=e.sent,!c){e.next=7;break}return e.abrupt("return",i===c);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error(e.t0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(e,t){return Object(c["a"])(Object(s["a"])(n),"postJson",this).call(this,"global_properties",{property:e,property_value:t})}},{key:"getSitePrefix",value:function(){return this.get("site_prefix")}},{key:"getSiteUUID",value:function(){return this.get("site_uuid")}},{key:"getCurrentHealthCenterId",value:function(){return this.get("current_health_center_id")}},{key:"isMilitarySite",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.get("military_site");case 3:return t=e.sent,e.abrupt("return","true"===t);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"filingNumbersEnabled",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.get("use.filing.number");case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return","true"===t);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isHTNEnabled",value:function(){return this.get("activate.htn.enhancement")}},{key:"getAppointmentLimit",value:function(){return this.get("clinic.appointment.limit")}},{key:"isStockManagementEnabled",value:function(){return this.get("activate.drug.management")}}]),n}(d["c"])},ad60:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n("99af"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=n("2b3a"),p=n("8a30"),b=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"getAllPrograms",value:function(){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"programs",{page_size:1e3})}},{key:"getPatientPrograms",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"patients/".concat(e,"/programs"))}},{key:"getPatientVLInfo",value:function(e){var t=Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this);return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"programs/".concat(t,"/patients/").concat(e,"/vl_info"),{date:this.getSessionDate()})}},{key:"getProgramWorkflows",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"programs/".concat(e,"/workflows"))}},{key:"getPatientStates",value:function(e,t){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"programs/".concat(t,"/patients/").concat(e,"/states"))}},{key:"voidProgram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(i["a"])(Object(c["a"])(n),"void",this).call(this,"patient_programs/".concat(e,"/"),{reason:t})}},{key:"createState",value:function(e,t,r){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"programs/".concat(t,"/patients/").concat(e,"/states"),r)}},{key:"voidState",value:function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(i["a"])(Object(c["a"])(n),"void",this).call(this,"programs/".concat(t,"/patients/").concat(e,"/states/").concat(r),{reason:a})}},{key:"getProgramInformation",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/programs/".concat(Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),"/patients/").concat(e))}},{key:"getCurrentProgramInformation",value:function(e,t){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/programs/".concat(Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),"/patients/").concat(e,"/visit?date=").concat(t))}},{key:"getMastercardDrugInformation",value:function(e,t){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/programs/".concat(Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),"/patients/").concat(e,"/mastercard_data?date=").concat(t))}},{key:"getNextTask",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/workflows/".concat(Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),"/").concat(e),{date:Object(i["a"])(Object(c["a"])(n),"getSessionDate",this).call(this)})}},{key:"getNextSuggestedARVNumber",value:function(){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/programs/1/next_available_arv_number")}},{key:"getFastTrackStatus",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/on_fast_track",{person_id:e,date:Object(i["a"])(Object(c["a"])(n),"getSessionDate",this).call(this)})}},{key:"createPatient",value:function(e){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"/patients/",{program_id:Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),person_id:e})}},{key:"enrollPatient",value:function(e){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"/patients/".concat(e,"/programs"),{program_id:Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),date_enrolled:Object(i["a"])(Object(c["a"])(n),"getSessionDate",this).call(this)})}},{key:"enrollProgram",value:function(e,t,r){return Object(i["a"])(Object(c["a"])(n),"postJson",this).call(this,"/patients/".concat(e,"/programs"),{program_id:t,date_enrolled:r})}},{key:"getWeightForHeightValues",value:function(){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/patient_weight_for_height_values")}},{key:"selectApplication",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["S"].create({component:d["a"],cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{}});case 2:return t=e.sent,t.present(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(l["c"])},ad8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("d4ec"),a=n("bee2"),o=n("262e"),i=n("2caf"),c=n("5969"),s=["0-5 months","6-11 months","12-23 months","2-4 years","5-9 years","10-14 years","15-17 years","18-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"],u=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"],l=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,[{key:"getBookedAppointments",value:function(e){return c["a"].getJson("programs/".concat(this.programID,"/scheduled_appointments"),{date:e})}},{key:"getViralLoadResults",value:function(e){return this.getReport("/programs/".concat(this.programID,"/reports/high_vl_patients"),{range:e})}},{key:"getOtherOutcome",value:function(e){return this.getReport("patient_outcome_list",{outcome:e})}},{key:"getClientsDueForVl",value:function(){return this.getReport("clients_due_vl")}},{key:"getClientRentention",value:function(){return this.getReport("/programs/".concat(this.programID,"/reports/retention"))}},{key:"getExternalConsultationClients",value:function(){return this.getReport("external_consultation_clients")}},{key:"getMissedAppointments",value:function(){return this.getReport("missed_appointments")}},{key:"getPregnantWomen",value:function(){return this.getReport("/programs/".concat(this.programID,"/reports/pregnant_patients"))}},{key:"getArchivingCandidates",value:function(){return c["a"].getJson("programs/".concat(this.programID,"/reports/archiving_candidates"),{start_date:this.date})}}]),n}(c["a"])},ae74:function(e,t,n){},aee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4160"),n("c975"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getBMIData",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/bmi.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBMIResult",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a={result:"",color:"",index:r},!(n<5&&n>0)){e.next=6;break}a.result="Use MUAC to calculate nutrition status",a.color="red",e.next=12;break;case 6:return n>18&&(n=19),e.next=9,this.getBMIData();case 9:o=e.sent,i=o[t][n],i&&(a=this.buildBounds(Object.keys(i),i,r,o.colors));case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"buildBounds",value:function(e,t,n,r){var a={result:"",color:"",index:n};return e.forEach((function(e){if(e.indexOf("-")>=0){var o=e.split("-");n>=parseFloat(o[0])&&n<=parseFloat(o[1])&&(a.result=t[e],a.color=r[t[e]])}else if(e.indexOf("<")>=0){var i=e.replace("<","");n<parseFloat(i)&&(a.result=t[e],a.color=r[t[e]])}else if(e.indexOf(">=")>=0){var c=e.replace(">=","");n>=parseFloat(c)&&(a.result=t[e],a.color=r[t[e]])}})),a}},{key:"getBMI",value:function(e,t,n,r){var a=this.calculateBMI(e,t);return this.getBMIResult(n,r,a)}},{key:"calculateBMI",value:function(e,t){if(0==t||0==e)return 0;var n=e/t/t*1e4;return Math.round(10*n)/10}}]),e}()},b033:function(e,t,n){},b0f8:function(e,t,n){},b1bd:function(e,t,n){"use strict";n("41dd")},b1dd:function(e,t,n){},b3c7:function(e,t,n){},b446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return w}));n("99af"),n("a623"),n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("1276"),n("96cf");var r,a=n("3835"),o=n("5530"),i=n("1da1"),c=n("d95e"),s=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],u=n("9283"),l=n("2706"),d=n("3800");function p(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return n&&r.push("UNKNOWN"),{id:e,helpText:"".concat(t," Year"),appearInSummary:function(){return!1},type:c["b"].TT_TEXT,config:{customKeyboard:[d["g"],[r,["DELETE"]]]}}}function b(e,t){return{id:e,helpText:"".concat(t," Month"),appearInSummary:function(){return!1},type:c["b"].TT_SELECT,options:function(){return s}}}function f(e,t){return{id:e,helpText:"".concat(t," Day"),type:c["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function m(e,t){return{id:e,helpText:"".concat(t," Estimated period"),type:c["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function h(e,t){return{id:e,helpText:"".concat(t," Age Estimate"),type:c["b"].TT_NUMBER,appearInSummary:function(){return!1}}}function g(e){return parseInt(e)<10?"0".concat(e):e}function O(e,t){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,i,c,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.defaultValue){e.next=12;break}return e.next=3,t.defaultValue();case 3:if(r=e.sent,!r){e.next=12;break}o=r.split("-"),i=Object(a["a"])(o,3),c=i[0],s=i[1],u=i[2],e.t0=n,e.next="Year"===e.t0?9:"Month"===e.t0?10:"Day"===e.t0?11:12;break;case 9:return e.abrupt("return",c||"");case 10:return e.abrupt("return",parseInt(s)||"");case 11:return e.abrupt("return",parseInt(u)||"");case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function _(e){return u["a"].toStandardHisDisplayFormat(e)}function j(e,t,n,r){if(t.minDate){var a=t.minDate(n,r);if(new Date(e)<new Date(a))return["".concat(_(e)," is less than minimum date of ").concat(_(a))]}if(t.maxDate){var o=t.maxDate(n,r);if(new Date(e)>new Date(o))return["".concat(_(e)," is greater than max date of  ").concat(_(o))]}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="",i="",c="",s="",d="year_".concat(e.id),v="month_".concat(e.id),w="day_".concat(e.id),y="age_estimate_".concat(e.id),k="duration_estimate_".concat(e.id),x=p(d,e.helpText,e.estimation.allowUnknown),N=b(v,e.helpText),V=f(w,e.helpText),C=h(y,e.helpText),D=m(k,e.helpText),T=function(t){return!(t[d]&&t[d].value&&["Unknown"].includes(t[d].value))&&(!e.condition||e.condition(t))};x.proxyID=e.id,x.unload=function(e){return i=e.value.toString()},x.config=Object(o["a"])(Object(o["a"])({},x.config),e.config),x.defaultValue=function(){return O(e,"Year")},x.condition=function(t){return!e.condition||e.condition(t)},x.validation=function(t){if(e.required&&l["a"].required(t))return["Year cannot be empty"];var n=t?t.value:"";return!e.estimation.allowUnknown&&n.toString().match(/unknown/i)?["Value unknown is not permitted"]:n&&!["Unknown"].includes(n.toString())&&isNaN(parseInt(n.toString()))||n<1900?["Invalid Year"]:null},x.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:_(n)}},x.appearInSummary=function(t,n){return n===e.id},x.computedValue=function(t){if(n){var r=n.split("-"),o=Object(a["a"])(r,3),i=(o[0],o[1]),c=o[2];return n="".concat(t.value,"-").concat(i,"-").concat(c),e.computeValue(n,!1)}if(t&&"Unknown"===t.value)return e.computeValue("Unknown",!1)},N.proxyID=e.id,N.unload=function(e){return c=g(e.value.toString())},N.condition=function(e){return T(e)},N.validation=function(e){return l["a"].required(e)},N.defaultValue=function(){return O(e,"Month")},N.computedValue=function(t){if(n){var r=n.split("-"),o=Object(a["a"])(r,3),i=o[0],c=(o[1],o[2]);return n="".concat(i,"-").concat(g(t.value.toString()),"-").concat(c),e.computeValue(n,!1)}},V.proxyID=e.id,V.condition=function(e){return T(e)},V.validation=function(t,r,a){return l["a"].required(t)?["Day is required for date"]:j(n,e,r,a)},V.defaultValue=function(){return O(e,"Day")},V.computedValue=function(t){return s=g(t.value.toString()),n="".concat(i,"-").concat(c,"-").concat(s),e.computeValue(n,!1)},V.unload=function(t,n,r,a){e.unload&&e.unload(t,n,r,a)},V.config={keyboardActions:[],year:function(e){return e[d].value},month:function(e){return e[v].value}};var R=function(t,r,a){return l["a"].required(t)?["Please select an estimate"]:isNaN(parseInt(t.value.toString()))?["Please enter a valid number"]:j(n,e,r,a)},I=function(t,n){var r=["Unknown"===t[d].value,!e.condition||e.condition(t),e.estimation.estimationFieldType===n];return r.every(Boolean)};return C.proxyID=e.id,C.validation=R,C.condition=function(e){return I(e,r.AGE_ESTIMATE_FIELD)},C.computedValue=function(t){var r=u["a"].estimateDateFromAge(parseInt(t.value.toString())).split("-"),o=Object(a["a"])(r,1),i=o[0];return n="".concat(i,"-07-15"),e.computeValue(n,!0)},D.proxyID=e.id,D.validation=R,D.condition=function(e){return I(e,r.MONTH_ESTIMATE_FIELD)},D.computedValue=function(r){var o=u["a"].getDateBeforeByDays(t,parseInt(r.value.toString())).split("-"),i=Object(a["a"])(o,1),c=i[0];return n="".concat(c,"-07-15"),e.computeValue(n,!0)},[x,N,V,C,D]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(r||(r={}))},b53b:function(e,t,n){"use strict";n("f535")},b5e4:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));n("d81d"),n("96cf");var r=n("1da1"),a=n("8a30");function o(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"primary",r=i.length>2&&void 0!==i[2]?i[2]:6e3,e.next=4,a["T"].create({message:t,position:"top",animated:!0,duration:r,color:n});case 4:return o=e.sent,e.abrupt("return",o.present());case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return o(e,"warning",t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return o(e,"success",t)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return o(e,"danger",t)}function l(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["N"].create({cssClass:"my-custom-class",mode:"ios",message:t,backdropDismiss:!1,buttons:n});case 2:return r=e.sent,r.present(),e.next=6,r.onDidDismiss();case 6:return o=e.sent,i=o.role,e.abrupt("return",i||"");case 9:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,i,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"Confirmation",e.next=3,a["N"].create({cssClass:"my-custom-class",mode:"ios",header:n,message:t,backdropDismiss:!1,buttons:[{text:"Cancel",role:"cancel"},{text:"Confirm"}]});case 3:return r=e.sent,r.present(),e.next=7,r.onDidDismiss();case 7:return o=e.sent,i=o.role,e.abrupt("return","cancel"!=i);case 10:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}},b713:function(e,t,n){},b80d:function(e,t,n){},b89f:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n("99af"),n("4de4"),n("caad"),n("96cf");var r=n("1da1"),a=n("d4ec"),o=n("bee2"),i=n("262e"),c=n("2caf"),s=n("1c74"),u=n("8a30"),l=n("7a23"),d=Object(l["withScopeId"])("data-v-18701910");Object(l["pushScopeId"])("data-v-18701910");var p={class:"print-section"},b=Object(l["createVNode"])("img",{src:"assets/images/zebra-label-printer.jpeg"},null,-1),f=Object(l["createVNode"])("h1",null," Printing in progress ",-1),m=Object(l["createVNode"])("h3",null," Please wait.... ",-1);Object(l["popScopeId"])();var h=d((function(e,t){var n=Object(l["resolveComponent"])("center");return Object(l["openBlock"])(),Object(l["createBlock"])("div",p,[Object(l["createVNode"])(n,null,{default:d((function(){return[b,f,m]})),_:1})])})),g=(n("d249"),n("d959")),O=n.n(g);const v={},_=O()(v,[["render",h],["__scopeId","data-v-18701910"]]);var j=_;n("d3b7");function w(e){return new Promise((function(t){setTimeout((function(){t("")}),e)}))}var y=n("156d"),k=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"printLbl",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.showPrinterImage(),r=Object(u["O"])().filter((function(e){return["android"].includes(e)})).length>=1,r){e.next=6;break}return e.next=5,y["b"].expandPath(t);case 5:document.location=e.sent;case 6:return e.next=8,w(3e3);case 8:return e.next=10,u["S"].dismiss({});case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"printLocation",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.printLbl("labels/location?location_id=".concat(t));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"printDrug",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.printLbl("drugs/".concat(t,"/barcode?quantity=").concat(n));case 2:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}],[{key:"showPrinterImage",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["S"].create({component:j,backdropDismiss:!1});case 2:t=e.sent,t.present();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(s["c"])},b91f:function(e,t,n){},ba82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));n("99af"),n("4160"),n("a15b"),n("d3b7"),n("25f0"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d");var r=n("8baf"),a=n("0da4"),o=n.n(a);function i(e){var t="";return e.forEach((function(e){return t+=e.join(",")+"\n"})),t.toString()}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"document",r=i(e.concat(t)),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.setAttribute("id","csv"),o.href=window.URL.createObjectURL(a),o.setAttribute("download","".concat(n,".csv")),document.body.appendChild(o),o.click(),o.remove()}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"document",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new r["default"],c={head:[e[e.length-1]],body:t};a&&(c.tableWidth="wrap",c.horizontalPageBreak=!0,c.horizontalPageBreakRepeat=0),o()(i,c),i.save("".concat(n,".pdf"))}},bc25:function(e,t,n){"use strict";n("62a0")},bd00:function(e,t,n){},be50:function(e,t,n){},bede:function(e,t,n){},bef6:function(e,t,n){"use strict";n("99af"),n("4fad");var r=n("3835");function a(e){for(var t="",n=0,a=Object.entries(e);n<a.length;n++){var o=Object(r["a"])(a[n],2),i=o[0],c=o[1];t+="".concat(i,"=").concat(c,"&")}return t}t["a"]={parameterizeObjToString:a}},c17f:function(e,t,n){"use strict";n("7b49")},c1e4:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("4de4"),n("ac1f"),n("466d");var r=n("d4ec"),a=n("bee2"),o=n("45eb"),i=n("7e84"),c=n("262e"),s=n("2caf"),u=n("1c74"),l=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,null,[{key:"getCurrentUser",value:function(){var e=u["c"].getUserID();if(e)return this.getUserByID(e)}},{key:"getUserByID",value:function(e){return this.getJson("users/".concat(e))}},{key:"createUser",value:function(e){return this.postJson("users",e)}},{key:"updateUser",value:function(e,t){return this.putJson("users/".concat(e),t)}},{key:"activateUser",value:function(e){return this.postJson("users/".concat(e,"/activate"),{})}},{key:"deactivateUser",value:function(e){return this.postJson("users/".concat(e,"/deactivate"),{})}},{key:"isAdmin",value:function(){var e=Object(o["a"])(Object(i["a"])(n),"getUserRoles",this).call(this).filter((function(e){return e.role.match(/Program Manager|Superuser|System Developer/i)}));return e.length>0}},{key:"isNurse",value:function(){var e=Object(o["a"])(Object(i["a"])(n),"getUserRoles",this).call(this).filter((function(e){return e.role.match(/Nurse/i)}));return e.length>0}},{key:"isDoctor",value:function(){var e=Object(o["a"])(Object(i["a"])(n),"getUserRoles",this).call(this).filter((function(e){return e.role.match(/Doctor/i)}));return e.length>0}},{key:"isClinician",value:function(){var e=Object(o["a"])(Object(i["a"])(n),"getUserRoles",this).call(this).filter((function(e){return e.role.match(/Clinician/i)}));return e.length>0}},{key:"getAllUsers",value:function(){return this.getJson("users",{page_size:100})}},{key:"getAllRoles",value:function(){return this.getJson("roles",{page_size:100})}},{key:"getUsers",value:function(){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"users",{role:"Superuser"})}},{key:"getSystemUsageByUsers",value:function(e,t){return Object(o["a"])(Object(i["a"])(n),"getJson",this).call(this,"user_system_usage",{start_date:e,end_date:t,program_id:Object(o["a"])(Object(i["a"])(n),"getProgramID",this).call(this),date:Object(o["a"])(Object(i["a"])(n),"getSessionDate",this).call(this)})}}]),n}(u["c"])},c21d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("a623"),n("caad"),n("45fc");function r(e,t){var n=[],r=[-1,"",null,void 0];for(var a in t)if(a in e){var o=e[a];r.includes(o)?n.push(!1):n.push(t[a](o,e))}return n.every(Boolean)}function a(e){return e.sort((function(e,t){return e.priority<t.priority?-1:0}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[];for(var c in t){var s=t[c],u=[s.target&&n&&s.target!=n,s.targetEvent&&o&&s.targetEvent!=o];u.some(Boolean)||r(e,s.conditions)&&(s.title=c,s.description&&(s.description.text=s.description.info(e)),i.push(s))}return a(i)}},c261:function(e,t,n){"use strict";n("cabf")},c46e:function(e,t,n){},c618:function(e,t,n){"use strict";n("bede")},c636:function(e,t,n){},c653:function(e,t,n){"use strict";n("8c54")},c7ca:function(e,t,n){},c924:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])("table",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.layout,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{class:"his-keyboard-margin",key:"btn-".concat(n)},[t?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,style:{width:e.btnSize},class:"his-keyboard-btn",onClick:function(){return e.keyPress(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t),1)]})),_:2},1032,["style","onClick"])):Object(r["createCommentVNode"])("",!0)])})),128))])})),128))])}var o=n("8a30"),i=Object(r["defineComponent"])({components:{IonButton:o["d"]},props:{btnSize:{type:String,default:"90%"},layout:{type:Array,required:!0,default:function(){return[]}},onKeyPress:{type:Function,required:!0}},methods:{keyPress:function(e){this.onKeyPress(e)}}}),c=n("d959"),s=n.n(c);const u=s()(i,[["render",a]]);t["a"]=u},c9c0:function(e,t,n){},cabf:function(e,t,n){},cbb9:function(e,t,n){"use strict";n("6744")},cc57:function(e,t,n){},cc6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("5530"),a=(n("96cf"),n("1da1")),o=n("d4ec"),i=n("bee2"),c=n("262e"),s=n("2caf"),u=n("7957"),l=n("ec2a"),d=n("8158"),p=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Object(o["a"])(this,n),a=t.call(this),a.encounterTypeID=r,a.patientID=e,a.encounterID=0,a.date=u["a"].getSessionDate(),a.providerID=i,a}return Object(i["a"])(n,[{key:"getDate",value:function(){return this.date}},{key:"setDate",value:function(e){this.date=e}},{key:"setEncounterID",value:function(e){this.encounterID=e}},{key:"getEncounterID",value:function(){return this.encounterID}},{key:"getFirstValueCoded",value:function(e){return n.getFirstValueCoded(this.patientID,e,this.date)}},{key:"buildObs",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(r["a"])(Object(r["a"])({},n),{},{person_id:this.patientID,obs_datetime:this.date}),e.next=3,d["a"].getConceptID(t);case 3:if(a["concept_id"]=e.sent,!n.value_coded){e.next=8;break}return e.next=7,d["a"].getConceptID(n.value_coded);case 7:a["value_coded"]=e.sent;case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"buildValueText",value:function(e,t){return n.buildValueText(e,t,this.date)}},{key:"buildValueCoded",value:function(e,t){return n.buildValueCoded(e,t,this.date)}},{key:"buildValueNumber",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return n.buildValueNumber(e,t,r,a,this.date)}},{key:"buildValueDate",value:function(e,t){return n.buildValueDate(e,t,this.date)}},{key:"buildValueDateEstimated",value:function(e,t){return this.buildObs(e,{value_datetime:t,value_text:"Estimated"})}},{key:"saveObservationList",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",u["a"].saveObsArray(this.encounterID,t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveValueTextObs",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].buildValueText(t,n);case 2:return r=e.sent,e.abrupt("return",this.saveObs(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"saveValueCodedObs",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].buildValueCoded(t,n);case 2:return r=e.sent,e.abrupt("return",this.saveObs(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"saveValueNumericObs",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:null,e.next=3,u["a"].buildValueNumber(t,n,r);case 3:return a=e.sent,e.abrupt("return",this.saveObs(a));case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"saveValueDatetimeObs",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].buildValueDate(t,n,u["a"].getSessionDate());case 2:return r=e.sent,e.abrupt("return",this.saveObs(r));case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"createEncounter",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={encounter_type_id:this.encounterTypeID,patient_id:this.patientID,encounter_datetime:this.date},-1!=this.providerID&&(t["provider_id"]=this.providerID),e.next=4,l["a"].create(t);case 4:if(n=e.sent,!n){e.next=8;break}return this.encounterID=n.encounter_id,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveObs",value:function(e){return n.saveObs(this.encounterID,e)}}]),n}(u["a"])},cc98:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=Object(r["withScopeId"])("data-v-06d59bdf");Object(r["pushScopeId"])("data-v-06d59bdf");var o={key:0,id:"api-error",class:"his-card"},i=Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" Unable to connect to BHT-API. Please check: "),Object(r["createVNode"])("ul",{style:{listStyle:"none"}},[Object(r["createVNode"])("li",null," Check the HIS-Core configuration file "),Object(r["createVNode"])("li",null," Your configuration "),Object(r["createVNode"])("li",null," The service is running "),Object(r["createVNode"])("li",null," Your network cable is ok ")])],-1),c=Object(r["createTextVNode"])(" New Config "),s=Object(r["createTextVNode"])(" Refresh ");Object(r["popScopeId"])();var u=a((function(e,t,n,u,l,d){var p=Object(r["resolveComponent"])("ion-router-outlet"),b=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-app");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:a((function(){return[Object(r["createVNode"])(p,{key:e.$route.fullPath}),!e.apiOk&&e.notConfigPage?(Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[i,Object(r["createVNode"])(b,{"router-link":"/settings/host",color:"warning"},{default:a((function(){return[c]})),_:1}),Object(r["createVNode"])(b,{onClick:e.refresh,color:"warning"},{default:a((function(){return[s]})),_:1},8,["onClick"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})})),l=(n("99af"),n("b0c0"),n("96cf"),n("1da1")),d=n("8a30"),p=n("156d"),b=n("0ba8"),f=n("b5e4"),m=n("6c02"),h=(n("a5d8"),n("323e")),g=n.n(h),O=(n("4160"),n("d3b7"),n("159b"),n("2909")),v=n("9f0e"),_=Object(r["withScopeId"])("data-v-3eac38c7");Object(r["pushScopeId"])("data-v-3eac38c7");var j=Object(r["createVNode"])("b",{style:{color:"#8b4513"}},"National ",-1),w=Object(r["createVNode"])("b",{style:{color:"#cd853f"}},"EMR",-1),y=Object(r["createTextVNode"])(" Version: "),k=Object(r["createTextVNode"])(" Configuration ");Object(r["popScopeId"])();var x=_((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-label"),s=Object(r["resolveComponent"])("ion-title"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("inputs"),p=Object(r["resolveComponent"])("ion-content"),b=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer"),m=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(m,null,{default:_((function(){return[Object(r["createVNode"])(l,null,{default:_((function(){return[Object(r["createVNode"])(u,null,{default:_((function(){return[Object(r["createVNode"])(s,null,{default:_((function(){return[Object(r["createVNode"])(c,{style:{fontWeight:"bolder",fontSize:"1.9em"}},{default:_((function(){return[j,w]})),_:1})]})),_:1}),Object(r["createVNode"])(c,{class:"ion-padding",slot:"end"},{default:_((function(){return[y,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(a.version),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{fullscreen:"false"},{default:_((function(){return[Object(r["createVNode"])(d)]})),_:1}),Object(r["createVNode"])(f,null,{default:_((function(){return[Object(r["createVNode"])(u,null,{default:_((function(){return[Object(r["createVNode"])("span",null,[Object(r["createVNode"])("img",{id:"coat",src:a.coatImg,alt:"Malawi Coat of Arms logo"},null,8,["src"]),Object(r["createVNode"])("img",{id:"pepfar",src:a.pepfarImg,alt:"PEPFAR logo"},null,8,["src"])]),a.showConfig?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,slot:"end",class:"config","router-link":"/settings/host"},{default:_((function(){return[k]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),N=Object(r["withScopeId"])("data-v-778f3ee0");Object(r["pushScopeId"])("data-v-778f3ee0");var V={class:"main",ref:"main"},C={class:"rows"},D={class:"cells"},T={class:"rows input-rows"},R={class:"cells"},I={class:"rows"};Object(r["popScopeId"])();var S=N((function(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",V,[Object(r["createVNode"])("div",C,[Object(r["createVNode"])("div",D,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",name:"usename",autocomplete:"off",placeholder:"Username",id:"username",ref:"username","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.userInput.username=t}),onClick:t[2]||(t[2]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",readonly:e.isReadOnly},null,8,["readonly"]),[[r["vModelText"],e.userInput.username]])])]),Object(r["createVNode"])("div",T,[Object(r["createVNode"])("div",R,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.userInput.password=t}),type:"password",name:"password",ref:"password",id:"password",onClick:t[4]||(t[4]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",placeholder:"Password",readonly:e.isReadOnly},null,8,["readonly"]),[[r["vModelText"],e.userInput.password]])])])],512),Object(r["createVNode"])("div",{id:"keyboard",style:e.btnStyles,class:"keyboard"},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.LOGIN_KEYBOARD,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:n},[Object(r["createVNode"])("div",I,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"cells",key:n},["Next"===n||"Login"===n?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,id:e.btnCaption,class:"keyboard-btn login-btn",onClick:t[5]||(t[5]=function(t){return e.keyPress(t)})},Object(r["toDisplayString"])(e.btnCaption),9,["id"])):Object(r["createCommentVNode"])("",!0),"Login"!=n&&"Next"!=n?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:1,id:e.Caps.on?n.toUpperCase():n.toLowerCase(),class:"keyboard-btn",onClick:t[6]||(t[6]=function(t){return e.keyPress(t)})},Object(r["toDisplayString"])("Del."===n||"Caps"===n?n:e.Caps.on?n.toUpperCase():n.toLowerCase()),9,["id"])):Object(r["createCommentVNode"])("",!0)])})),128))])])})),128))],4)],64)})),P=(n("ac1f"),n("466d"),n("25f0"),n("bee2")),A=n("d4ec"),B=n("262e"),E=n("2caf"),F=n("9072"),L=function(e){Object(B["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(A["a"])(this,n),e=t.call(this),e.message="Invalid username/password",e}return n}(Object(F["a"])(Error)),M=function(){function e(){Object(A["a"])(this,e),this.token="",this.username="",this.roles=[],this.userID=-1,this.sessionDate="",this.systemVersion=""}return Object(P["a"])(e,[{key:"setUsername",value:function(e){this.username=e}},{key:"login",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.requestLogin(t);case 2:if(n=e.sent,!n){e.next=16;break}return r=n.authorization,a=r.token,o=r.user,this.token=a,this.roles=o.roles,this.userID=o.user_id,e.next=10,this.getSystemDate();case 10:return this.sessionDate=e.sent,e.next=13,this.getApiVersion();case 13:this.systemVersion=e.sent,e.next=17;break;case 16:throw"Unable to login";case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startSession",value:function(){sessionStorage.setItem("apiKey",this.token),sessionStorage.setItem("username",this.username),sessionStorage.setItem("userID",this.userID.toString()),sessionStorage.setItem("userRoles",JSON.stringify(this.roles)),sessionStorage.setItem("sessionDate",this.sessionDate),sessionStorage.setItem("APIVersion",this.systemVersion)}},{key:"clearSession",value:function(){sessionStorage.clear()}},{key:"requestLogin",value:function(e){return this.postLogin("auth/login",{username:this.username,password:e})}},{key:"getApiVersion",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.getJson("version"),e.abrupt("return",t?t["System version"]||"none":"");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSystemDate",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("current_time");case 2:return t=e.sent,n=t.date,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getJson",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["b"].get(t);case 2:if(n=e.sent,!n||!n.ok){e.next=5;break}return e.abrupt("return",null===n||void 0===n?void 0:n.json());case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"postLogin",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["b"].post(t,n);case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return");case 5:if(!r.ok){e.next=7;break}return e.abrupt("return",r.json());case 7:if(401!==r.status){e.next=9;break}throw new L;case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),H=n("3800"),U=Object(r["defineComponent"])({data:function(){return{LOGIN_KEYBOARD:H["e"],auth:{},isReadOnly:!1,userInput:{type:String,username:"",password:""},focusInput:{type:Object,value:"",id:""},display:"none",keyboardLeft:"",keyboardTop:"",btnCaption:"",Caps:{type:Boolean,on:!1}}},created:function(){this.auth=new M,this.isReadOnly=!Object(d["P"])("desktop")},methods:{renderKeyBoard:function(e){this.focusInput=e.currentTarget,"password"==this.focusInput.id?this.btnCaption="Login":this.btnCaption="Next";var t=document.getElementsByClassName("main")[0],n=t.getBoundingClientRect().width,r=e.currentTarget.getBoundingClientRect().top;r=parseInt(r),this.keyboardLeft=n/2-447+"px;",this.keyboardTop=r+20+"px;",this.display="table",window.scrollTo(0,9999)},keyPress:function(e){var t,n=e.currentTarget.id;try{n.match(/Del./i)?this.focusInput.value=this.focusInput.value.substring(0,this.focusInput.value.length-1):n.match(/Next/i)?(this.display="none",t=this.$refs.password,t.click()):n.match(/Login/i)?(this.display="none",this.doLogin()):n.match(/Caps/i)?(this.Caps.on=!this.Caps.on,this.display="none",t="username"===this.focusInput.id?this.$refs.username:this.$refs.password,t.click()):n.match(/Hide/i)?this.display="none":this.focusInput.value+=n,"username"==this.focusInput.id?this.userInput.username=this.focusInput.value:this.userInput.password=this.focusInput.value}catch(r){console.warn("input error")}},doLogin:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.userInput.username||!this.userInput.password){e.next=14;break}return this.auth.setUsername(this.userInput.username),e.prev=2,e.next=5,this.auth.login(this.userInput.password);case 5:this.auth.startSession(),this.$router.push("/select_hc_location"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),e.t0 instanceof L?Object(f["e"])("Invalid username or password"):Object(f["c"])(e.t0);case 12:e.next=15;break;case 14:Object(f["e"])("Complete form to log in");case 15:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},computed:{btnStyles:function(){return"display: ".concat(this.display,"; left: ").concat(this.keyboardLeft," top: ").concat(this.keyboardTop)}}}),q=(n("4f05"),n("d959")),z=n.n(q);const G=z()(U,[["render",S],["__scopeId","data-v-778f3ee0"]]);var Y=G,K=n("1718"),W={name:"login",components:{Inputs:Y,IonButton:d["d"],IonTitle:d["J"],IonLabel:d["u"],IonPage:d["A"],IonHeader:d["p"],IonToolbar:d["K"],IonContent:d["m"],IonFooter:d["n"]},setup:function(){return{version:"1.0.0",coatImg:Object(K["a"])("login-logos/Malawi-Coat_of_arms_of_arms.png"),pepfarImg:Object(K["a"])("login-logos/PEPFAR.png"),showConfig:"true"===localStorage.getItem("useLocalStorage")}}};n("f7a2");const $=z()(W,[["render",x],["__scopeId","data-v-3eac38c7"]]);var J=$,X=(n("841c"),Object(r["withScopeId"])("data-v-7260092d"));Object(r["pushScopeId"])("data-v-7260092d");var Q={class:"tool-bar-medium-card"},Z={class:"tool-bar-medium-card"},ee={class:"tool-bar-medium-content"},te=Object(r["createTextVNode"])("Facility name: "),ne=Object(r["createTextVNode"])("Location: "),re=Object(r["createTextVNode"])("Date: "),ae=Object(r["createTextVNode"])("User:"),oe=Object(r["createTextVNode"])("Overview"),ie=Object(r["createTextVNode"])("Reports"),ce=Object(r["createTextVNode"])("Administration"),se={key:0,id:"container",class:"his-card overview"},ue=Object(r["createTextVNode"])(" Logout "),le=Object(r["createTextVNode"])(" Find By "),de=Object(r["createTextVNode"])(" Find or Register "),pe=Object(r["createTextVNode"])(" Applications ");Object(r["popScopeId"])();var be=X((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-thumbnail"),u=Object(r["resolveComponent"])("ion-buttons"),l=Object(r["resolveComponent"])("ion-toolbar"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-label"),f=Object(r["resolveComponent"])("program-icon"),m=Object(r["resolveComponent"])("ion-header"),h=Object(r["resolveComponent"])("ion-icon"),g=Object(r["resolveComponent"])("ion-segment-button"),O=Object(r["resolveComponent"])("ion-segment"),v=Object(r["resolveComponent"])("home-folder"),_=Object(r["resolveComponent"])("ion-content"),j=Object(r["resolveComponent"])("ion-button"),w=Object(r["resolveComponent"])("ion-footer"),y=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(y,null,{default:X((function(){return[Object(r["createVNode"])(m,{translucent:!0},{default:X((function(){return[Object(r["createVNode"])(l,{class:"mobile-component-view"},{default:X((function(){return[Object(r["createVNode"])(c,null,{default:X((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.facilityName),1)]})),_:1}),Object(r["createVNode"])(u,{slot:"end"},{default:X((function(){return[Object(r["createVNode"])(s,null,{default:X((function(){return[Object(r["createVNode"])("img",{src:e.appLogo,class:"logo",alt:"App Logo"},null,8,["src"])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{class:"full-component-view"},{default:X((function(){return[Object(r["createVNode"])(p,null,{default:X((function(){return[Object(r["createVNode"])(d,null,{default:X((function(){return[Object(r["createVNode"])("div",Q,[Object(r["createVNode"])(p,null,{default:X((function(){return[Object(r["createVNode"])(d,{"size-lg":"5","size-sm":"4"},{default:X((function(){return[Object(r["createVNode"])("img",{style:{width:"230px",height:"90px",margin:"0"},src:e.barcodeLogo},null,8,["src"])]})),_:1}),Object(r["createVNode"])(d,{"size-lg":"7","size-sm":"8"},{default:X((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{readonly:e.isReadOnly,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.patientBarcode=t}),class:"barcode-input",ref:"scanBarcode"},null,8,["readonly"]),[[r["vModelText"],e.patientBarcode]])]})),_:1})]})),_:1})])]})),_:1}),Object(r["createVNode"])(d,{size:"5"},{default:X((function(){return[Object(r["createVNode"])("div",Z,[Object(r["createVNode"])("div",ee,[Object(r["createVNode"])("p",null,[te,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.facilityName),1)]),Object(r["createVNode"])("p",null,[ne,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.userLocation),1)]),Object(r["createVNode"])("p",null,[re,Object(r["createVNode"])(b,{color:e.isBDE?"danger":"success"},{default:X((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]})),_:1},8,["color"])]),Object(r["createVNode"])("p",null,[ae,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.userName),1)])])])]})),_:1}),Object(r["createVNode"])(d,{size:"3"},{default:X((function(){return[Object(r["createVNode"])(f,{icon:e.appLogo},null,8,["icon"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,null,{default:X((function(){return[Object(r["createVNode"])(O,{scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:X((function(){return[Object(r["createVNode"])(g,{value:1,onClick:t[2]||(t[2]=function(t){return e.activeTab=1})},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.statsChart},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[oe]})),_:1})]})),_:1}),e.canReport?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,value:2,onClick:t[3]||(t[3]=function(t){return e.activeTab=2})},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.pieChart},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[ie]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(g,{value:3,onClick:t[4]||(t[4]=function(t){return e.activeTab=3})},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.settings},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[ce]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(r["createVNode"])(_,{fullscreen:!0},{default:X((function(){return[e.ready?(Object(r["openBlock"])(),Object(r["createBlock"])("div",se,[1==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.appOverview),{key:0})):Object(r["createCommentVNode"])("",!0),2==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1,items:e.appReports},null,8,["items"])):Object(r["createCommentVNode"])("",!0),3==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:2,items:e.app.globalPropertySettings},null,8,["items"])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(w,null,{default:X((function(){return[Object(r["createVNode"])(l,null,{default:X((function(){return[Object(r["createVNode"])(p,null,{default:X((function(){return[Object(r["createVNode"])(d,null,{default:X((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"danger",onClick:e.signOut},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.logOut},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"danger",size:"large",onClick:e.signOut},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.logOut},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[ue]})),_:1})]})),_:1},8,["onClick"])]})),_:1}),Object(r["createVNode"])(d,null,{default:X((function(){return[e.canFindByIdentifier?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:0,class:"xl-button mobile-component-view",color:"primary","router-link":"/patients/search/id"},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.search},null,8,["icon"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.canFindByIdentifier?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:1,class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patients/search/id"},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.search},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[le]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(d,null,{default:X((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"primary","router-link":"/patient/registration"},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.person},null,8,["icon"])]})),_:1}),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patient/registration"},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.person},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[de]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:X((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"primary",onClick:e.openModal},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.apps},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"primary",size:"large",onClick:e.openModal},{default:X((function(){return[Object(r["createVNode"])(h,{icon:e.apps},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:X((function(){return[pe]})),_:1})]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),fe=n("3e53"),me=n("ff79"),he=n("ad49"),ge=n("9283"),Oe=n("1c74"),ve=Object(r["withScopeId"])("data-v-37e12079"),_e=ve((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:ve((function(){return[e.icon?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,src:e.icon,id:"logo"},null,8,["src"])):Object(r["createCommentVNode"])("",!0)]})),_:1})})),je=n("2b47"),we=Object(r["defineComponent"])({name:"AppIcon",components:{IonImg:d["r"],ToolBarMediumCard:je["a"]},props:{icon:{type:String,required:!0}}});n("a320");const ye=z()(we,[["render",_e],["__scopeId","data-v-37e12079"]]);var ke=ye,xe=Object(r["createTextVNode"])(" Back ");function Ne(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("ion-button"),u=Object(r["resolveComponent"])("task-card"),l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.showingChildNodes?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,color:"light",onClick:e.onBack},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{icon:e.arrowBack},null,8,["icon"]),xe]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.viewableItems,(function(t,n){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:n,"size-lg":"4","size-sm":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{onClick:function(n){return e.onClick(t)},title:t.name,icon:e.itemIcon(t)},null,8,["onClick","title","icon"])]})),_:2},1536)),[[r["vShow"],e.canShowItem(t)]])})),128))]})),_:1})]})),_:1})],64)}var Ve=Object(r["withScopeId"])("data-v-10fde7d6"),Ce=Ve((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-thumbnail"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-item"),l=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"his-card task-card clickable"},{default:Ve((function(){return[Object(r["createVNode"])(u,{lines:"none"},{default:Ve((function(){return[Object(r["createVNode"])(c,{slot:"start"},{default:Ve((function(){return[Object(r["createVNode"])("img",{src:e.icon},null,8,["src"])]})),_:1}),Object(r["createVNode"])(s,{class:"title"},{default:Ve((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1})})),De=Object(r["defineComponent"])({components:{IonCard:d["f"],IonThumbnail:d["I"],IonItem:d["t"],IonLabel:d["u"]},props:{title:{type:String,required:!0},icon:{type:String,required:!0},description:{type:String,required:!1}}});n("a807");const Te=z()(De,[["render",Ce],["__scopeId","data-v-10fde7d6"]]);var Re=Te,Ie=Object(r["defineComponent"])({setup:function(){return{arrowBack:me["d"]}},components:{IonIcon:d["q"],TaskCard:Re,IonButton:d["d"],IonGrid:d["o"],IonRow:d["E"],IonCol:d["l"]},props:{items:{type:Object,required:!0}},data:function(){return{defaultIcon:"sys-setting.png",viewableItems:[],showingChildNodes:!1}},watch:{items:{handler:function(e){e&&(this.viewableItems=e)},immediate:!0,deep:!0}},methods:{canShowItem:function(e){return!e.condition||e.condition()},onClick:function(e){if(e.files)return this.showingChildNodes=!0,this.defaultIcon="sys-setting.png",e.defaultFilesIcon&&(this.defaultIcon=e.defaultFilesIcon),this.viewableItems=e.files;e.pathName?this.$router.push({name:e.pathName}):e.pathUrl&&this.$router.push(e.pathUrl)},onBack:function(){this.showingChildNodes=!1,this.viewableItems=this.items},itemIcon:function(e){return Object(K["a"])(e.icon?e.icon:this.defaultIcon)}}});const Se=z()(Ie,[["render",Ne]]);var Pe=Se,Ae=Object(r["defineComponent"])({name:"Home",components:{IonIcon:d["q"],ProgramIcon:ke,HomeFolder:Pe,IonContent:d["m"],IonHeader:d["p"],IonPage:d["A"],IonButtons:d["e"],IonToolbar:d["K"],IonRow:d["E"],IonCol:d["l"],IonButton:d["d"],IonFooter:d["n"],IonSegment:d["F"],IonSegmentButton:d["G"],IonLabel:d["u"]},setup:function(){return{barcode:me["h"],apps:me["b"],person:me["z"],search:me["D"],logOut:me["t"],statsChart:me["H"],pieChart:me["A"],settings:me["G"],isReadOnly:!Object(d["P"])("desktop")}},data:function(){return{app:{},facilityName:"",userLocation:"",sessionDate:"",userName:"",APIVersion:"",activeTab:1,ready:!1,patientBarcode:"",overviewComponent:{},isBDE:!1}},computed:{barcodeLogo:function(){return Object(K["a"])("barcode.svg")},appOverview:function(){return this.app.homeOverviewComponent},appLogo:function(){return Object(K["a"])(this.app.applicationIcon)},appReports:function(){return this.app.programReports?this.app.programReports:[]},appAdministration:function(){return this.app.globalPropertySettings?this.app.globalPropertySettings:[]},canFindByIdentifier:function(){return!!this.app.programPatientIdentifiers},canReport:function(){return!!this.app.programReports}},methods:{fetchLocationID:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he["a"].getCurrentHealthCenterId();case 2:t=e.sent,t&&this.fetchLocationName(t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchLocationUUID:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,he["a"].getSiteUUID();case 2:t=e.sent,t&&(sessionStorage.siteUUID=t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),fetchLocationName:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,p["b"].get("locations/"+e);case 2:if(r=n.sent,r&&200===r.status){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,r.json();case 7:a=n.sent,t.facilityName=a.name,t.createSessionLocationName(a);case 10:case"end":return n.stop()}}),n)})))()},createSessionLocationName:function(e){sessionStorage.location=e.name,sessionStorage.locationName=e.name},loadApplicationData:function(){this.ready=!0,this.isBDE=!0===Oe["c"].isBDE(),this.userLocation=sessionStorage.userLocation,this.userName=sessionStorage.username,this.fetchLocationID(),this.sessionDate=ge["a"].toStandardHisDisplayFormat(Oe["c"].getSessionDate())},openModal:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fe["a"].selectApplication("HomePage");case 2:n=t.sent,n&&(e.app=n,e.activeTab=1,e.loadApplicationData());case 4:case"end":return t.stop()}}),t)})))()},checkForbarcode:function(){if(null!=this.patientBarcode.match(/.+\$$/i)){var e=this.patientBarcode.replaceAll(/\$/gi,"");this.patientBarcode="",this.$router.push("/patients/confirm?patient_barcode="+e)}},signOut:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new M,t.next=3,he["a"].get("portal.enabled");case 3:if(r=t.sent,"true"!==r){t.next=11;break}return t.next=7,he["a"].get("portal.properties");case 7:a=t.sent,window.location=a,t.next=12;break;case 11:e.$router.push("/login");case 12:n.clearSession();case 13:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;setInterval((function(){var t=e.$refs.scanBarcode;t&&t.focus()}),1500)},mounted:function(){var e=fe["a"].getActiveApp();e?(this.app=e,this.loadApplicationData()):this.openModal()},watch:{patientBarcode:function(){this.checkForbarcode()}}});n("1ea2");const Be=z()(Ae,[["render",be],["__scopeId","data-v-7260092d"]]);var Ee=Be,Fe=Object(r["withScopeId"])("data-v-b2c06504");Object(r["pushScopeId"])("data-v-b2c06504");var Le={class:"tool-bar-medium-card"},Me=Object(r["createTextVNode"])(" Patient Name: "),He=Object(r["createTextVNode"])(),Ue=Object(r["createVNode"])("p",null,null,-1),qe=Object(r["createTextVNode"])(" Birthdate: "),ze=Object(r["createTextVNode"])(),Ge=Object(r["createVNode"])("p",null,null,-1),Ye=Object(r["createTextVNode"])(" Gender: "),Ke={class:"tool-bar-medium-card"},We=Object(r["createTextVNode"])(" Ancestry district: "),$e=Object(r["createTextVNode"])(),Je=Object(r["createVNode"])("p",null,null,-1),Xe=Object(r["createTextVNode"])(" Ancestry TA: "),Qe=Object(r["createTextVNode"])(),Ze=Object(r["createVNode"])("p",null,null,-1),et=Object(r["createTextVNode"])(" Ancestry village: "),tt=Object(r["createTextVNode"])(),nt=Object(r["createVNode"])("p",null,null,-1),rt={class:"tool-bar-medium-card"},at=Object(r["createTextVNode"])(" Current District: "),ot=Object(r["createVNode"])("p",null,null,-1),it=Object(r["createTextVNode"])(" Current TA: "),ct=Object(r["createVNode"])("p",null,null,-1),st=Object(r["createTextVNode"])(" Current Village: "),ut=Object(r["createVNode"])("p",null,null,-1),lt={class:"card-content"},dt={key:0},pt=Object(r["createTextVNode"])("Cancel"),bt=Object(r["createTextVNode"])("Void"),ft=Object(r["createTextVNode"])(" Continue ");Object(r["popScopeId"])();var mt,ht,gt=Fe((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("ion-card-title"),p=Object(r["resolveComponent"])("ion-card-header"),b=Object(r["resolveComponent"])("ion-card-content"),f=Object(r["resolveComponent"])("ion-card"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer"),O=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(O,null,{default:Fe((function(){return[Object(r["createVNode"])(l,{translucent:!0},{default:Fe((function(){return[Object(r["createVNode"])(u,null,{default:Fe((function(){return[Object(r["createVNode"])(s,null,{default:Fe((function(){return[Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",Le,[Me,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.patientName),1),He,Ue,qe,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.birthdate),1),ze,Ge,Ye,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.gender),1)])]})),_:1}),Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",Ke,[We,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryDistrict),1),$e,Je,Xe,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryTA),1),Qe,Ze,et,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryVillage),1),tt,nt])]})),_:1}),Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",rt,[at,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentDistrict),1),ot,it,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentTA),1),ct,st,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentVillage),1),ut])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Fe((function(){return[Object(r["createVNode"])(s,null,{default:Fe((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.cards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{size:"4",key:t},{default:Fe((function(){return[Object(r["createVNode"])(f,{class:"his-card"},{default:Fe((function(){return[Object(r["createVNode"])(p,null,{default:Fe((function(){return[Object(r["createVNode"])(d,null,{default:Fe((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title.toUpperCase()),1)]})),_:2},1024)]})),_:2},1024),Object(r["createVNode"])(b,null,{default:Fe((function(){return[Object(r["createVNode"])("ul",lt,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:"li-item",key:t},[e.label?(Object(r["openBlock"])(),Object(r["createBlock"])("span",dt,Object(r["toDisplayString"])(e.label)+" ",1)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("strong",null,Object(r["toDisplayString"])(e.value),1)])})),128))])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(g,null,{default:Fe((function(){return[Object(r["createVNode"])(u,{color:"dark"},{default:Fe((function(){return[Object(r["createVNode"])(h,{color:"danger",size:"large","router-link":"/"},{default:Fe((function(){return[pt]})),_:1}),e.facts.patientFound&&e.isAdmin?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,color:"danger left",size:"large",onClick:e.onVoid},{default:Fe((function(){return[bt]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),e.facts.patientFound?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:1,slot:"end",color:"success",size:"large",onClick:e.nextTask},{default:Fe((function(){return[ft]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),Ot=(n("a15b"),n("d81d"),n("fb6a"),n("4fad"),n("ddb0"),n("4f96")),vt=n("2ef0"),_t=n.n(vt),jt=n("e4bd"),wt=n("0fa1"),yt=n("c1e4"),kt=n("c21d"),xt=n("23e6"),Nt=n("74f4"),Vt=(n("caad"),n("4d63"),n("2532"),n("7f35"));(function(e){e["ON_CONTINUE"]="oncontinue",e["ONLOAD"]="onload"})(mt||(mt={})),function(e){e["FORCE_EXIT"]="forceExit",e["GO_HOME"]="gotoHome",e["GO_BACK"]="goBack",e["CONTINUE"]="continue",e["ENROLL"]="enroll",e["EXIT"]="exit",e["ACTIVATE_FN"]="activateFn",e["ASSIGN_NPID"]="assignNpid",e["UPDATE_DMG"]="updateDemographics",e["PRINT_NPID"]="printNPID",e["CREATE_NPID_WITH_REMOTE_DIFF"]="createNpiDWithRemote",e["REFRESH_DDE_DEMOGRAPHICS"]="refreshDemographicsDDE",e["UPDATE_LOCAL_DDE_DIFFS"]="updateLocalDiffs",e["RESOLVE_DUPLICATE_NPIDS"]="resolveDuplicateNpids"}(ht||(ht={}));var Ct={"Do not proceed if patient is not found in the system":{priority:2,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])(" 0 Search results","Patient has not been found","Choose how to proceed",[{name:"Go Home",slot:"start",color:"primary"},{name:"Go Back",slot:"start",color:"primary"}],"his-danger-color");case 2:return t=e.sent,e.abrupt("return","Go Home"===t?ht.GO_HOME:ht.GO_BACK);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!1===t},patientFound:function(e){return!1===e}}},"[DDE] Show invalid attributes for a patient whose remote":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["d"])("DDE Entity Error","Remote patient has invalid attributes",["Attribute","Errors"],t.demographics.invalidDemographics,[{name:"Exit",slot:"start",color:"danger"}],"his-danger-color");case 2:return e.abrupt("return",ht.GO_BACK);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{demographics:function(e){var t=e.hasInvalidDemographics;return!0===t}}},"[DDE] Do not proceed if NPID is not found and Provide history of voided NPIDS":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["d"])("Voided patients with ID ".concat(t.scannedNpid),"NPID was not found. Please review available patient with similar ID",t.dde.voidedNpids.cols,t.dde.voidedNpids.rows,[{name:"Go Home",slot:"start",color:"primary"},{name:"Go Back",slot:"start",color:"primary"}],"his-danger-color");case 2:return n=e.sent,e.abrupt("return","Go Home"===n?ht.GO_HOME:n===ht.GO_BACK?ht.GO_BACK:ht.FORCE_EXIT);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},patientFound:function(e){return!1===e}}},"[DDE] Notify the user to proceed with Remote NPID if local NPID does not match remote":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dde,e.next=3,Object(Vt["a"])("Missing Local NPID",'Patient has a missing local NPID "'.concat(n.remoteNpidDiff,'"'),"Proceed to Fix issue",[{name:"Resolve issue",slot:"start",color:"danger"}],"his-danger-color");case 3:return e.abrupt("return",ht.CREATE_NPID_WITH_REMOTE_DIFF);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{dde:function(e){var t=e.localNpidDiff,n=e.remoteNpidDiff;return!t&&t!=n},globalProperties:function(e){var t=e.ddeEnabled;return!0===t}}},"Warn if patient is missing National ID and assign them one":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Missing National ID","Patient was found BUT has no National ID","The system is going to assign the patient with a new ID",[{name:"OK",slot:"start",color:"primary"}],"his-danger-color");case 2:return e.abrupt("return",ht.ASSIGN_NPID);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{identifiers:function(e){return!e.includes("National id")},currentNpid:function(e){return!e}}},"Detect NPID duplicates and prompt the user to resolve them":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.scannedNpid,e.next=3,Object(Vt["a"])("DUPLICATE NPID","NPID ".concat(n," is currently assigned to multiple patients"),"Proceed to resolve the issue",[{name:"Resolve Duplicate NPIDs",slot:"start",color:"danger"}],"his-danger-color");case 3:return e.abrupt("return",ht.RESOLVE_DUPLICATE_NPIDS);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{npidHasDuplicates:function(e){return e}}},"Warn before proceeding if patient is deceased based on current Patient state":{priority:1,targetEvent:mt.ON_CONTINUE,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Deceased Patient","Patient outcome is Died!","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color");case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.CONTINUE:ht.FORCE_EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{currentOutcome:function(e){return"Patient died"===e}}},"Warn before proceeding if patient stopped treatment based on current Patient state":{priority:1,targetEvent:mt.ON_CONTINUE,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Stopped Treatment","Patient outcome is Stopped Treatment ","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color");case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.CONTINUE:ht.FORCE_EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{currentOutcome:function(e){return"Treatment stopped"===e}}},"Warn before proceeding if patient is transferred out based on current patient state":{priority:1,targetEvent:mt.ON_CONTINUE,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Transferred out Patient","Patient was transferred out","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color");case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.CONTINUE:ht.FORCE_EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{currentOutcome:function(e){return"Patient transferred out"===e}}},"Prompt patient enrollment in current programme if not enrolled":{priority:4,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Programme Enrollment","Patient is not enrolled in current programme, do you want to enroll?","",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}]);case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.ENROLL:ht.EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{programName:function(e){return!!e.match(/n\/a/i)}}},"(ART Filing numbers) Prompt dormant filing number reactivation if patient has a dormant filing number":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Filing Numbers","Activate dormant #?","",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}]);case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.ACTIVATE_FN:ht.EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{programName:function(e){return"HIV PROGRAM"===e},identifiers:function(e){return e.includes("Archived filing number")},currentOutcome:function(e){return!["Treatment stopped","Patient transferred out","Patient died"].includes(e)},globalProperties:function(e){var t=e.useFilingNumbers;return t}}},"Prompt the user to update patient demographics when data is incomplete":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Demographics","Patient data is incomplete data","Do you want to review and update now?",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}],"his-danger-color");case 2:return t=e.sent,e.abrupt("return","Yes"===t?ht.UPDATE_DMG:ht.EXIT);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!1===t},demographics:function(e){var t=e.patientIsComplete;return!1===t}}},"[DDE] Alert When remote Patient demographics dont match Local Demographics ":{priority:3,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dde,e.next=3,Object(Vt["d"])("Demographics Mismatch","Local Demographics do not match Remote Demographics",["Attributes","Local","Remote"],n.diffRows,[{name:"Use Local",slot:"start",color:"primary"},{name:"Use Remote",slot:"start",color:"primary"}],"his-danger-color",n.diffRowColors);case 3:return r=e.sent,e.abrupt("return","Use Local"===r?ht.UPDATE_LOCAL_DDE_DIFFS:ht.REFRESH_DDE_DEMOGRAPHICS);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{dde:function(e){var t=e.hasDemographicConflict;return t}}},"[DDE] Alert to print newer NPID when the scanned NPID doesnt match active NPID":{priority:2,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.currentNpid,e.next=3,Object(Vt["a"])("[DDE] NATIONAL ID","Patient has a newer National Identifier ".concat(n),"Print and proceed",[{name:"Print",slot:"start",color:"primary"}]);case 3:return e.abrupt("return",ht.PRINT_NPID);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},scannedNpid:function(e,t){var n=t.currentNpid;return!e.match(new RegExp(n,"i"))}}},"[DDE] Force Users to update Incomplete Patient demographics":{priority:1,targetEvent:mt.ONLOAD,actions:{alert:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["a"])("Patient Demographics","Demographic data is incomplete","Continue to update",[{name:"Update",slot:"start",color:"success"},{name:"Cancel",slot:"start",color:"danger"}],"his-warning-color");case 2:return t=e.sent,e.abrupt("return","Cancel"===t?ht.GO_HOME:ht.UPDATE_DMG);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},demographics:function(e){var t=e.patientIsComplete;return!1===t}}}},Dt=n("4db7"),Tt=n("fa73"),Rt=Object(r["defineComponent"])({name:"Patient Confirmation",components:{IonContent:d["m"],IonHeader:d["p"],IonFooter:d["n"],IonPage:d["A"],IonToolbar:d["K"],IonRow:d["E"],IonCol:d["l"],IonButton:d["d"],IonCard:d["f"],IonCardContent:d["g"],IonCardTitle:d["i"],IonCardHeader:d["h"]},data:function(){return{app:{},program:{},patient:{},cards:[],ddeInstance:{},useDDE:!1,facts:{patientFound:!1,npidHasDuplicates:!1,userRoles:[],scannedNpid:"",currentNpid:"",programName:"N/A",currentOutcome:"",programs:[],identifiers:[],dde:{localNpidDiff:"",remoteNpidDiff:"",voidedNpids:{cols:[],rows:[]},hasDemographicConflict:!1,localDiffs:{},diffRows:[],diffRowColors:[]},demographics:{patientIsComplete:!1,hasInvalidDemographics:!1,invalidDemographics:[],givenName:"",familyName:"",patientName:"",landmark:"",phoneNumber:"",currentDistrict:"",currentTA:"",currentVillage:"",ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",gender:"",birthdate:""},globalProperties:{useFilingNumbers:"use.filing.numbers=true",ddeEnabled:"dde_enabled=true"}}}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=fe["a"].getActiveApp(),n&&(e.app=n),e.ddeInstance=new Tt["a"],t.next=5,e.ddeInstance.loadDDEStatus();case 5:e.useDDE=e.ddeInstance.isEnabled();case 6:case"end":return t.stop()}}),t)})))()},computed:{demographics:function(){return this.facts.demographics},birthdate:function(){return ge["a"].toStandardHisDisplayFormat(this.facts.demographics.birthdate)},isAdmin:function(){return yt["a"].isAdmin()}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.query,Object(vt["isEmpty"])(r)||!r.person_id&&!r.patient_barcode){n.next=4;break}return n.next=4,t.findAndSetPatient(r.person_id,r.patient_barcode);case 4:case"end":return n.stop()}}),n)})))()},immediate:!0}},methods:{findAndSetPatient:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.presentLoading();case 2:return n.facts.scannedNpid||(n.facts.scannedNpid=t||""),r.next=5,n.resolveGlobalPropertyFacts();case 5:if(!n.useDDE||!t){r.next=10;break}return r.next=8,n.handleSearchResults(n.ddeInstance.searchNpid(t));case 8:r.next=28;break;case 10:if(!e){r.next=26;break}if(!n.useDDE){r.next=22;break}return r.next=14,xt["a"].findByID(e);case 14:if(a=r.sent,!a){r.next=20;break}return o=new xt["a"](a),n.facts.scannedNpid=o.getNationalID(),r.next=20,n.handleSearchResults(n.ddeInstance.searchNpid(o.getNationalID()));case 20:r.next=24;break;case 22:return r.next=24,n.handleSearchResults(xt["a"].findByID(e));case 24:r.next=28;break;case 26:return r.next=28,n.handleSearchResults(xt["a"].findByNpid(t));case 28:return r.next=30,d["Q"].dismiss();case 30:return r.next=32,n.onEvent(mt.ONLOAD);case 32:case"end":return r.stop()}}),r)})))()},handleSearchResults:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=[],n.prev=1,n.next=4,e;case 4:r=n.sent,n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),n.t0 instanceof Oe["b"]&&!Object(vt["isEmpty"])(n.t0.entity)&&(r=n.t0.entity),n.t0 instanceof Oe["a"]&&Array.isArray(n.t0.errors)&&(a=Object(Ot["a"])(n.t0.errors),o=a[0],i=a.slice(1),"string"===typeof o&&"Invalid parameter(s)"===o&&t.setInvalidParametersFacts(i));case 11:if(t.facts.patientFound=!Object(vt["isEmpty"])(r),!t.facts.patientFound){n.next=23;break}return t.patient=new xt["a"](Array.isArray(r)?r[0]:r),t.setPatientFacts(),n.next=17,t.setProgramFacts();case 17:return n.next=19,t.drawPatientCards();case 19:t.facts.currentNpid=t.patient.getNationalID(),t.facts.npidHasDuplicates=Array.isArray(r)&&r.length>1,n.next=26;break;case 23:if(!t.facts.scannedNpid){n.next=26;break}return n.next=26,t.setVoidedNpidFacts(t.facts.scannedNpid);case 26:case"end":return n.stop()}}),n,null,[[1,7]])})))()},setInvalidParametersFacts:function(e){this.facts.demographics.hasInvalidDemographics=!0,this.facts.demographics.invalidDemographics=e.map((function(e){var t=Object.entries(e),n=t[0][0],r=t[0][1];return[n,r.join(", ")]}))},reloadPatient:function(){return this.findAndSetPatient(this.patient.getID(),void 0)},setPatientFacts:function(){this.facts.demographics.patientIsComplete=this.patient.patientIsComplete(),this.facts.demographics.patientName=this.patient.getFullName(),this.facts.demographics.givenName=this.patient.getGivenName(),this.facts.demographics.familyName=this.patient.getFamilyName(),this.facts.demographics.landmark=this.patient.getAttribute(19),this.facts.demographics.phoneNumber=this.patient.getAttribute(12),this.facts.demographics.gender=this.patient.getGender(),this.facts.demographics.birthdate=this.patient.getBirthdate(),this.facts.demographics.ancestryDistrict=this.patient.getHomeDistrict(),this.facts.demographics.ancestryTA=this.patient.getHomeTA(),this.facts.demographics.ancestryVillage=this.patient.getHomeVillage(),this.facts.demographics.currentDistrict=this.patient.getCurrentDistrict(),this.facts.demographics.currentTA=this.patient.getCurrentTA(),this.facts.demographics.currentVillage=this.patient.getCurrentVillage(),this.facts.identifiers=this.patient.getIdentifiers().map((function(e){return e.type.name}))},buildDDEDiffs:function(e){var t=[],n={givenName:{label:"First Name",ref:"given_name"},familyName:{label:"Last Name",ref:"family_name"},birthdate:{label:"Birthdate",ref:"birthdate"},gender:{label:"Gender",ref:"gender"},phoneNumber:{label:"Phone number",ref:"phone_number"},ancestryDistrict:{label:"Home District",ref:"home_district"},ancestryTA:{label:"Home TA",ref:"home_traditional_authority"},ancestryVillage:{label:"Home Village",ref:"home_village"},currentDistrict:{label:"Current District",ref:"current_district"},currentTA:{label:"Current TA",ref:"current_traditional_authority"},currentVillage:{label:"Current Village",ref:"current_village"}},r=0,a={indexes:[],class:"his-empty-set-color"};for(var o in n){var i=this.facts.demographics[o],c=i;n[o].ref in e&&(a.indexes.push(r),i=e[n[o].ref].local,c=e[n[o].ref].remote),t.push([n[o].label,i,c]),++r}return{comparisons:t,rowColors:[a]}},resolveGlobalPropertyFacts:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.t0=regeneratorRuntime.keys(e.facts.globalProperties);case 1:if((t.t1=t.t0()).done){t.next=9;break}if(n=t.t1.value,"string"!==typeof e.facts.globalProperties[n]){t.next=7;break}return t.next=6,he["a"].isProp(e.facts.globalProperties[n]);case 6:e.facts.globalProperties[n]=t.sent;case 7:t.next=1;break;case 9:case"end":return t.stop()}}),t)})))()},setProgramFacts:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.program=new Nt["a"](e.patient.getID()),t.next=3,e.program.getProgram();case 3:n=t.sent,r=n.program,a=n.outcome,e.facts.currentOutcome=a,e.facts.programName=r,e.facts.userRoles=yt["a"].getUserRoles().map((function(e){return e.role}));case 9:case"end":return t.stop()}}),t)})))()},setDDEFacts:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.ddeInstance.getLocalAndRemoteDiffs();case 3:if(t.t1=n=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===n;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=n.diff;case 12:r=t.t2,e.facts.dde.localDiffs=e.ddeInstance.formatDiffValuesByType(r,"local"),e.facts.dde.hasDemographicConflict=!Object(vt["isEmpty"])(r),a=e.buildDDEDiffs(r),o=a.comparisons,i=a.rowColors,e.facts.dde.diffRows=o,e.facts.dde.diffRowColors=i,r.npid&&(c=r.npid,s=c.local,u=c.remote,e.facts.dde.localNpidDiff=s,e.facts.dde.remoteNpidDiff=u),t.next=24;break;case 21:t.prev=21,t.t3=t["catch"](0),console.warn(t.t3);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},drawPatientCards:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.app.confirmationSummary){t.next=2;break}return t.abrupt("return");case 2:return e.cards=[],t.next=5,e.app.confirmationSummary(e.patient,e.program);case 5:n=t.sent,t.t0=regeneratorRuntime.keys(n);case 7:if((t.t1=t.t0()).done){t.next=15;break}return r=t.t1.value,t.next=11,n[r]();case 11:a=t.sent,e.cards.push({title:r,data:a}),t.next=7;break;case 15:case"end":return t.stop()}}),t)})))()},setVoidedNpidFacts:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=["Name","Birthdate","Gender","Ancestry Home","CurrentID","Action"],a=[],n.next=4,t.ddeInstance.findVoidedIdentifier(e);case 4:o=n.sent,o&&(a=o.map((function(e){var n=new xt["a"](e);return[n.getFullName(),n.getBirthdate(),n.getGender(),n.getHomeTA(),n.getNationalID(),{type:"button",name:"Select",action:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["S"].dismiss({action:ht.FORCE_EXIT});case 2:return e.next=4,t.findAndSetPatient(void 0,n.getNationalID());case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()}]})),t.facts.dde.voidedNpids.cols=r,t.facts.dde.voidedNpids.rows=a);case 6:case"end":return n.stop()}}),n)})))()},presentLoading:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["Q"].create({message:"Please wait...",backdropDismiss:!1});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e)})))()},onEvent:function(e){var t=arguments,n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=t.length>1&&void 0!==t[1]?t[1]:{},o=Object(kt["a"])(n.facts,Ct,"",e),r.t0=regeneratorRuntime.keys(o);case 3:if((r.t1=r.t0()).done){r.next=18;break}if(i=r.t1.value,s=o[i],!(null===s||void 0===s||null===(c=s.actions)||void 0===c?void 0:c.alert)){r.next=16;break}return r.next=9,null===s||void 0===s||null===(u=s.actions)||void 0===u?void 0:u.alert(n.facts);case 9:return l=r.sent,r.next=12,n.runFlowState(l);case 12:if(r.t2=r.sent,r.t3=ht.FORCE_EXIT,r.t2!==r.t3){r.next=16;break}return r.abrupt("return",!1);case 16:r.next=3;break;case 18:"function"===typeof a&&a();case 19:case"end":return r.stop()}}),r)})))()},runFlowState:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r={gotoHome:function(){return t.$router.push("/"),ht.FORCE_EXIT},goBack:function(){return t.$router.back(),ht.FORCE_EXIT},enroll:function(){return t.program.enrollProgram()},activateFn:function(){return t.$router.push("/art/filing_numbers/".concat(t.patient.getID(),"?assign=true")),ht.FORCE_EXIT},updateDemographics:function(){return t.$router.push("/patient/registration?edit_person=".concat(t.patient.getID())),ht.FORCE_EXIT},printNPID:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d["Q"].dismiss(),e.next=3,t.ddeInstance.printNpid();case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),createNpiDWithRemote:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.facts.dde.remoteNpidDiff,e.t0=n,!e.t0){e.next=6;break}return e.next=5,t.ddeInstance.createNPID(n);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=13;break}return t.facts.scannedNpid=n,t.facts.currentNpid=n,t.facts.dde.localNpidDiff=n,e.next=12,t.findAndSetPatient(void 0,n);case 12:return e.abrupt("return",ht.FORCE_EXIT);case 13:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),assignNpid:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.patient.assignNpid();case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=7,Object(f["b"])("Do you want to print National ID?");case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=15;break}return r=new Dt["a"](t.patient.getID()),e.next=12,r.printNidLbl();case 12:return e.next=14,t.reloadPatient();case 14:return e.abrupt("return",ht.FORCE_EXIT);case 15:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),resolveDuplicateNpids:function(){return t.$router.push("/npid/duplicates/".concat(t.facts.scannedNpid)),ht.FORCE_EXIT},refreshDemographicsDDE:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ddeInstance.refreshDemographics();case 2:return e.next=4,t.reloadPatient();case 4:return e.abrupt("return",ht.FORCE_EXIT);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}(),updateLocalDiffs:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.ddeInstance.updateLocalDifferences(t.facts.dde.localDiffs);case 2:return e.next=4,t.reloadPatient();case 4:return e.abrupt("return",ht.FORCE_EXIT);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()},!(e in r)){n.next=11;break}return n.prev=2,n.next=5,r[e]();case 5:return n.abrupt("return",n.sent);case 8:n.prev=8,n.t0=n["catch"](2),Object(f["c"])(n.t0);case 11:return n.abrupt("return",e);case 12:case"end":return n.stop()}}),n,null,[[2,8]])})))()},onVoid:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object(jt["a"])(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt["a"].voidPatient(e.patient.getID(),n);case 2:e.$router.push("/");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},nextTask:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onEvent(mt.ON_CONTINUE,(function(){Object(wt["a"])(e.patient.getID(),e.$router)}));case 2:case"end":return t.stop()}}),t)})))()}}});n("796a");const It=z()(Rt,[["render",gt],["__scopeId","data-v-b2c06504"]]);var St=It,Pt=Object(r["withScopeId"])("data-v-fe8d9204");Object(r["pushScopeId"])("data-v-fe8d9204");var At=Object(r["createTextVNode"])("Scan work-station location"),Bt=Object(r["createTextVNode"])(" Cancel "),Et=Object(r["createTextVNode"])(" Next ");Object(r["popScopeId"])();var Ft=Pt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("barcode-input"),d=Object(r["resolveComponent"])("ion-content"),p=Object(r["resolveComponent"])("his-keyboard"),b=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer"),m=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(m,null,{default:Pt((function(){return[Object(r["createVNode"])(u,{translucent:!0},{default:Pt((function(){return[Object(r["createVNode"])(s,null,{default:Pt((function(){return[Object(r["createVNode"])(c,null,{default:Pt((function(){return[At]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Pt((function(){return[Object(r["createVNode"])(l,{class:"his-card",clearValue:e.clearValue,virtualText:e.kbText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]})),_:1}),e.isTouchPlatform?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(f,null,{default:Pt((function(){return[Object(r["createVNode"])(s,{color:"dark"},{default:Pt((function(){return[Object(r["createVNode"])(b,{color:"danger",size:"large","router-link":"/login"},{default:Pt((function(){return[Bt]})),_:1}),e.barcodeText?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:Pt((function(){return[Et]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),Lt=(n("4de4"),n("efaf")),Mt=n("db10"),Ht=n("6be2"),Ut=Object(r["defineComponent"])({name:"HC location",components:{BarcodeInput:Lt["a"],IonContent:d["m"],IonHeader:d["p"],IonPage:d["A"],IonTitle:d["J"],IonToolbar:d["K"],IonButton:d["d"],IonFooter:d["n"],HisKeyboard:Mt["a"]},setup:function(){var e=Object(r["ref"])(""),t=Object(r["ref"])(""),n=Object(r["ref"])(""),a=Object(d["O"])().filter((function(e){return["ios","iphone","android","mobileweb","tablet"].includes(e)})).length>=1;function o(){return i.apply(this,arguments)}function i(){return i=Object(l["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.value.includes("$")||(e.value+="$"),r.next=3,Oe["c"].getJson("locations/".concat(e.value));case 3:a=r.sent,Object(vt["isEmpty"])(a)?Object(f["e"])("Invalid location"):(o=a,sessionStorage.userLocation=o.name,mc.push("/")),t.value=e.value,e.value="",n.value=e.value;case 8:case"end":return r.stop()}}),r)}))),i.apply(this,arguments)}function c(t){e.value=t}function s(e){n.value=e}function u(e){return p.apply(this,arguments)}function p(){return p=Object(l["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value=n,t.next=3,o();case 3:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}return{onbarcodeText:c,onScan:u,onKbClick:s,searchLocation:o,isTouchPlatform:a,kbText:n,clearValue:t,barcodeText:e,NUMBERS:Ht["c"]}}});n("578a");const qt=z()(Ut,[["render",Ft],["__scopeId","data-v-fe8d9204"]]);var zt=qt;function Gt(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,skipSummary:!0,onOnFinish:e.onFinish},null,8,["fields","onOnFinish"])}var Yt=n("d95e"),Kt=n("d10e"),Wt=n("7920"),$t=n("2706"),Jt=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{fields:[],form:{}}},created:function(){this.fields=this.getFields()},methods:{onFinish:function(e){var t=this.resolveData(e);this.$router.push({path:"/patient/search_results",query:t})},resolveData:function(e){var t={};for(var n in e){var r=e[n];r&&null!=r.value&&(t[n]=r.value)}return t},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},getFields:function(){var e=this;return[{id:"given_name",helpText:"First name",type:Yt["b"].TT_TEXT,validation:function(e){return $t["a"].isName(e)},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.given_name&&null!==n.given_name.value){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Kt["a"].searchGivenName(n.given_name.value);case 4:return r=t.sent,t.abrupt("return",e.mapToOption(r));case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"family_name",helpText:"Last name",type:Yt["b"].TT_TEXT,validation:function(e){return $t["a"].isName(e)},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.family_name&&null!==n.family_name.value){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Kt["a"].searchFamilyName(n.family_name.value);case 4:return r=t.sent,t.abrupt("return",e.mapToOption(r));case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"gender",helpText:"Gender",type:Yt["b"].TT_SELECT,validation:function(e){return $t["a"].required(e)},options:function(){return[{label:"Male",value:"M"},{label:"Female",value:"F"}]}}]}}});const Xt=z()(Jt,[["render",Gt]]);var Qt=Xt,Zt=Object(r["withScopeId"])("data-v-416d2c6b");Object(r["pushScopeId"])("data-v-416d2c6b");var en=Object(r["createTextVNode"])("HIS Core"),tn={id:"container"},nn={id:"page0",class:"content-containers"},rn={id:"page1",class:"content-containers"},an=Object(r["createTextVNode"])("Cancel"),on=Object(r["createTextVNode"])("Next"),cn=Object(r["createTextVNode"])("Back");Object(r["popScopeId"])();var sn=Zt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("input-text"),d=Object(r["resolveComponent"])("input-text-keyboard"),p=Object(r["resolveComponent"])("ion-content"),b=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer"),m=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(m,null,{default:Zt((function(){return[Object(r["createVNode"])(u,{translucent:!0},{default:Zt((function(){return[Object(r["createVNode"])(s,null,{default:Zt((function(){return[Object(r["createVNode"])(c,null,{default:Zt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.helpText),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{fullscreen:!0},{default:Zt((function(){return[Object(r["createVNode"])(u,{collapse:"condense"},{default:Zt((function(){return[Object(r["createVNode"])(s,null,{default:Zt((function(){return[Object(r["createVNode"])(c,{size:"large"},{default:Zt((function(){return[en]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])("div",tn,[Object(r["createVNode"])("div",nn,[Object(r["createVNode"])(l,{passedKey:e.passedKey},null,8,["passedKey"]),Object(r["createVNode"])(d,{onKeyPress:e.keyPressed},null,8,["onKeyPress"])]),Object(r["createVNode"])("div",rn,[Object(r["createVNode"])(l,{passedKey:e.passedKey},null,8,["passedKey"]),Object(r["createVNode"])(d,{onKeyPress:e.keyPressed},null,8,["onKeyPress"])])])]})),_:1}),Object(r["createVNode"])(f,{translucent:!0,class:"loc-footer"},{default:Zt((function(){return[Object(r["createVNode"])(b,{class:"footer-btns",color:"danger"},{default:Zt((function(){return[an]})),_:1}),Object(r["createVNode"])(b,{class:"footer-btns",onClick:e.goNextPage,id:"nextButton",color:"success"},{default:Zt((function(){return[on]})),_:1},8,["onClick"]),Object(r["createVNode"])(b,{class:"footer-btns",onClick:e.goBack,id:"backButton",color:"primary"},{default:Zt((function(){return[cn]})),_:1},8,["onClick"])]})),_:1})]})),_:1})})),un=Object(r["withScopeId"])("data-v-34f065e0");Object(r["pushScopeId"])("data-v-34f065e0");var ln={id:"inputs-container"};Object(r["popScopeId"])();var dn=un((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])("div",ln,[Object(r["createVNode"])(u,{class:"main-table"},{default:un((function(){return[Object(r["createVNode"])(s,null,{default:un((function(){return[Object(r["createVNode"])(c,{"size-md":"12"},{default:un((function(){return[Object(r["createVNode"])("input",{type:"text",id:"touchscreenInput",value:e.passedKey,autofocus:"",ref:"barcodeInputbox"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1})])})),pn=Object(r["defineComponent"])({props:["passedKey"],name:"InputSearchResult",components:{},data:function(){return{barcodeText:this.passedKey}},methods:{},mounted:function(){},watch:{barcodeText:function(){}}});n("ddb2");const bn=z()(pn,[["render",dn],["__scopeId","data-v-34f065e0"]]);var fn=bn,mn=Object(r["withScopeId"])("data-v-5572eb86");Object(r["pushScopeId"])("data-v-5572eb86");var hn={id:"inputs-container"},gn=Object(r["createTextVNode"])("1"),On=Object(r["createTextVNode"])("2"),vn=Object(r["createTextVNode"])("3"),_n=Object(r["createTextVNode"])("4"),jn=Object(r["createTextVNode"])("5"),wn=Object(r["createTextVNode"])("6"),yn=Object(r["createTextVNode"])("7"),kn=Object(r["createTextVNode"])("8"),xn=Object(r["createTextVNode"])("9"),Nn=Object(r["createTextVNode"])("0"),Vn=Object(r["createTextVNode"])("Q"),Cn=Object(r["createTextVNode"])("W"),Dn=Object(r["createTextVNode"])("E"),Tn=Object(r["createTextVNode"])("R"),Rn=Object(r["createTextVNode"])("T"),In=Object(r["createTextVNode"])("Y"),Sn=Object(r["createTextVNode"])("U"),Pn=Object(r["createTextVNode"])("I"),An=Object(r["createTextVNode"])("O"),Bn=Object(r["createTextVNode"])("P"),En=Object(r["createTextVNode"])("Caps"),Fn=Object(r["createTextVNode"])("A"),Ln=Object(r["createTextVNode"])("S"),Mn=Object(r["createTextVNode"])("D"),Hn=Object(r["createTextVNode"])("F"),Un=Object(r["createTextVNode"])("G"),qn=Object(r["createTextVNode"])("H"),zn=Object(r["createTextVNode"])("J"),Gn=Object(r["createTextVNode"])("K"),Yn=Object(r["createTextVNode"])("L"),Kn=Object(r["createTextVNode"])("Del"),Wn=Object(r["createTextVNode"])("Z"),$n=Object(r["createTextVNode"])("X"),Jn=Object(r["createTextVNode"])("C"),Xn=Object(r["createTextVNode"])("V"),Qn=Object(r["createTextVNode"])("B"),Zn=Object(r["createTextVNode"])("N"),er=Object(r["createTextVNode"])("M"),tr=Object(r["createTextVNode"])(">"),nr=Object(r["createTextVNode"])("."),rr=Object(r["createTextVNode"])("<"),ar=Object(r["createTextVNode"])("Space");Object(r["popScopeId"])();var or=mn((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])("div",hn,[Object(r["createVNode"])(l,{class:"main-table"},{default:mn((function(){return[Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,{"size-md":"12",id:"keyboard-elements"},{default:mn((function(){return[Object(r["createVNode"])(l,{class:"keyboard-table",ref:"keyboardElements"},{default:mn((function(){return[Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.keyPress("1")}),class:"keyboard-btn",id:"btn-1",color:"primary"},{default:mn((function(){return[gn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[2]||(t[2]=function(t){return e.keyPress("2")}),class:"keyboard-btn",id:"btn-2",color:"primary"},{default:mn((function(){return[On]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[3]||(t[3]=function(t){return e.keyPress("3")}),class:"keyboard-btn",id:"btn-3",color:"primary"},{default:mn((function(){return[vn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[4]||(t[4]=function(t){return e.keyPress("4")}),class:"keyboard-btn",id:"btn-4",color:"primary"},{default:mn((function(){return[_n]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[5]||(t[5]=function(t){return e.keyPress("5")}),class:"keyboard-btn",id:"btn-5",color:"primary"},{default:mn((function(){return[jn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[6]||(t[6]=function(t){return e.keyPress("6")}),class:"keyboard-btn",id:"btn-6",color:"primary"},{default:mn((function(){return[wn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[7]||(t[7]=function(t){return e.keyPress("7")}),class:"keyboard-btn",id:"btn-7",color:"primary"},{default:mn((function(){return[yn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[8]||(t[8]=function(t){return e.keyPress("8")}),class:"keyboard-btn",id:"btn-8",color:"primary"},{default:mn((function(){return[kn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[9]||(t[9]=function(t){return e.keyPress("9")}),class:"keyboard-btn",id:"btn-9",color:"primary"},{default:mn((function(){return[xn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[10]||(t[10]=function(t){return e.keyPress("0")}),class:"keyboard-btn",id:"btn-0",color:"primary"},{default:mn((function(){return[Nn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[11]||(t[11]=function(t){return e.keyPress("Q")}),class:"keyboard-btn",id:"btn-Q",color:"primary"},{default:mn((function(){return[Vn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[12]||(t[12]=function(t){return e.keyPress("W")}),class:"keyboard-btn",id:"btn-W",color:"primary"},{default:mn((function(){return[Cn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[13]||(t[13]=function(t){return e.keyPress("E")}),class:"keyboard-btn",id:"btn-E",color:"primary"},{default:mn((function(){return[Dn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[14]||(t[14]=function(t){return e.keyPress("R")}),class:"keyboard-btn",id:"btn-R",color:"primary"},{default:mn((function(){return[Tn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[15]||(t[15]=function(t){return e.keyPress("T")}),class:"keyboard-btn",id:"btn-T",color:"primary"},{default:mn((function(){return[Rn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[16]||(t[16]=function(t){return e.keyPress("Y")}),class:"keyboard-btn",id:"btn-Y",color:"primary"},{default:mn((function(){return[In]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[17]||(t[17]=function(t){return e.keyPress("U")}),class:"keyboard-btn",id:"btn-U",color:"primary"},{default:mn((function(){return[Sn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[18]||(t[18]=function(t){return e.keyPress("I")}),class:"keyboard-btn",id:"btn-I",color:"primary"},{default:mn((function(){return[Pn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[19]||(t[19]=function(t){return e.keyPress("O")}),class:"keyboard-btn",id:"btn-O",color:"primary"},{default:mn((function(){return[An]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[20]||(t[20]=function(t){return e.keyPress("P")}),class:"keyboard-btn",id:"btn-P",color:"primary"},{default:mn((function(){return[Bn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[21]||(t[21]=function(t){return e.keyPress("Caps")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[En]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[22]||(t[22]=function(t){return e.keyPress("A")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[Fn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[23]||(t[23]=function(t){return e.keyPress("S")}),class:"keyboard-btn",id:"btn-S",color:"primary"},{default:mn((function(){return[Ln]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[24]||(t[24]=function(t){return e.keyPress("D")}),class:"keyboard-btn",id:"btn-D",color:"primary"},{default:mn((function(){return[Mn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[25]||(t[25]=function(t){return e.keyPress("F")}),class:"keyboard-btn",id:"btn-F",color:"primary"},{default:mn((function(){return[Hn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[26]||(t[26]=function(t){return e.keyPress("G")}),class:"keyboard-btn",id:"btn-G",color:"primary"},{default:mn((function(){return[Un]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[27]||(t[27]=function(t){return e.keyPress("H")}),class:"keyboard-btn",id:"btn-H",color:"primary"},{default:mn((function(){return[qn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[28]||(t[28]=function(t){return e.keyPress("J")}),class:"keyboard-btn",id:"btn-J",color:"primary"},{default:mn((function(){return[zn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[29]||(t[29]=function(t){return e.keyPress("K")}),class:"keyboard-btn",id:"btn-K",color:"primary"},{default:mn((function(){return[Gn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[30]||(t[30]=function(t){return e.keyPress("L")}),class:"keyboard-btn",id:"btn-L",color:"primary"},{default:mn((function(){return[Yn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[31]||(t[31]=function(t){return e.keyPress("Del")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[Kn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[32]||(t[32]=function(t){return e.keyPress("Z")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[Wn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[33]||(t[33]=function(t){return e.keyPress("X")}),class:"keyboard-btn",id:"btn-S",color:"primary"},{default:mn((function(){return[$n]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[34]||(t[34]=function(t){return e.keyPress("C")}),class:"keyboard-btn",id:"btn-D",color:"primary"},{default:mn((function(){return[Jn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[35]||(t[35]=function(t){return e.keyPress("V")}),class:"keyboard-btn",id:"btn-F",color:"primary"},{default:mn((function(){return[Xn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[36]||(t[36]=function(t){return e.keyPress("B")}),class:"keyboard-btn",id:"btn-G",color:"primary"},{default:mn((function(){return[Qn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[37]||(t[37]=function(t){return e.keyPress("N")}),class:"keyboard-btn",id:"btn-H",color:"primary"},{default:mn((function(){return[Zn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[38]||(t[38]=function(t){return e.keyPress("M")}),class:"keyboard-btn",id:"btn-J",color:"primary"},{default:mn((function(){return[er]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[39]||(t[39]=function(t){return e.keyPress("<")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[tr]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[40]||(t[40]=function(t){return e.keyPress(".")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[nr]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[41]||(t[41]=function(t){return e.keyPress(">")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[rr]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[42]||(t[42]=function(t){return e.keyPress("Space")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[ar]})),_:1})]})),_:1})]})),_:1})]})),_:1},512)]})),_:1})]})),_:1})]})),_:1})])})),ir=Object(r["defineComponent"])({props:["onKeyPress"],name:"InputSearchResult",components:{},data:function(){return{keyboardPressedKeys:""}},methods:{keyPress:function(e){var t=this.keyboardPressedKeys;try{e.match(/Del/i)?this.keyboardPressedKeys=t.substring(0,t.length-1):e.match(/Space/i)?this.keyboardPressedKeys+=" ":e.match(/Caps/i)?console.log(e):this.keyboardPressedKeys+=e}catch(n){this.keyboardPressedKeys=t}this.onKeyPress(this.keyboardPressedKeys)}},mounted:function(){this.keyPress(this.keyboardPressedKeys)}});n("a039");const cr=z()(ir,[["render",or],["__scopeId","data-v-5572eb86"]]);var sr=cr,ur=Object(r["defineComponent"])({name:"Client search",components:{IonContent:d["m"],IonHeader:d["p"],IonPage:d["A"],IonTitle:d["J"],IonToolbar:d["K"],IonFooter:d["n"],"input-text":fn,"input-text-keyboard":sr},data:function(){return{helpText:"First Name",passedKey:"",containers:[],pageCount:0,helpTexts:["First Name","Last Name"]}},methods:{keyPressed:function(e){this.passedKey=e},goNextPage:function(){for(var e=this.containers,t=0;t<e.length;t++)e[t].setAttribute("style","visibility: hidden;");this.pageCount+=1;var n=document.getElementById("page"+this.pageCount),r=document.getElementById("backButton"),a=document.getElementById("nextButton");void 0==n?(this.pageCount-=1,n=document.getElementById("page"+this.pageCount)):r.setAttribute("style","display: inline;"),this.pageCount+1==this.helpTexts.length?a.innerHTML="Finish":a.innerHTML="Next",n.setAttribute("style","visibility: visible;"),this.helpText=this.helpTexts[this.pageCount]},goBack:function(){for(var e=this.containers,t=0;t<e.length;t++)e[t].setAttribute("style","visibility: hidden;");this.pageCount-=1;var n=document.getElementById("page"+this.pageCount),r=document.getElementById("backButton"),a=document.getElementById("nextButton");void 0==n?(this.pageCount+=1,n=document.getElementById("page"+this.pageCount)):(r.setAttribute("style","display: none;"),a.innerHTML="Next"),0==this.pageCount&&(r.setAttribute("style","display: none;"),a.innerHTML="Next"),n.setAttribute("style","visibility: visible;"),this.helpText=this.helpTexts[this.pageCount]}},mounted:function(){for(var e=document.getElementsByClassName("content-containers"),t=0;t<e.length;t++)this.containers.push(e[t])}});n("9ed9");const lr=z()(ur,[["render",sn],["__scopeId","data-v-416d2c6b"]]);var dr=lr;function pr(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),skipSummary:e.skipSummary,activeField:e.fieldComponent,fields:e.fields,onFinishAction:e.onFinish},null,8,["skipSummary","activeField","fields","onFinishAction"])}n("07ac");var br=n("b446"),fr=n("50e7"),mr=n("80b5"),hr=n("5530"),gr=n("ad60"),Or=n("45eb"),vr=n("7e84"),_r=function(e){Object(B["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(A["a"])(this,n),t.call(this)}return Object(P["a"])(n,null,[{key:"create",value:function(e){return Object(Or["a"])(Object(vr["a"])(n),"postJson",this).call(this,"/person_attributes",e)}}]),n}(Oe["c"]),jr=function(e){Object(B["a"])(n,e);var t=Object(E["a"])(n);function n(){var e;return Object(A["a"])(this,n),e=t.call(this),e.personId=0,e}return Object(P["a"])(n,[{key:"getPersonID",value:function(){return this.personId}},{key:"setPersonID",value:function(e){this.personId=e}},{key:"registerPatient",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.createPerson(t);case 2:return e.next=4,this.createPersonAttributes(n);case 4:return e.next=6,this.createPatient();case 6:return e.next=8,this.printPatient();case 8:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"registerGuardian",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createPerson(t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePerson",value:function(e){return new Kt["a"](e).update(this.personId)}},{key:"createPerson",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Kt["a"](t).create();case 2:return n=e.sent,this.personId=n.person_id,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPatient",value:function(){return gr["a"].createPatient(this.personId)}},{key:"createPersonAttributes",value:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=7;break}return n=e.t1.value,e.next=5,_r.create(Object(hr["a"])(Object(hr["a"])({},t[n]),{},{person_id:this.personId}));case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"printPatient",value:function(){return new Dt["a"](this.personId).printNidLbl()}}]),n}(Oe["c"]),wr=n("0011"),yr=n("8df6"),kr=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{app:fe["a"].getActiveApp(),ddeInstance:{},ddeDocID:"",ddeIsReassign:!1,skipSummary:!1,addressAttributes:["home_region","home_district","home_traditional_authority","home_village","current_region","current_district","current_village","current_traditional_authority"],hasIncompleteData:!1,patient:{},editPersonData:{},editPerson:-1,activeField:"",fieldComponent:"",fields:[],isMilitarySite:!1,presets:{},form:{}}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.query,t.ddeInstance=new Tt["a"],n.next=4,t.ddeInstance.loadDDEStatus();case 4:if(!r.edit_person){n.next=12;break}return t.ddeIsReassign=r.dde_reassign,t.ddeDocID=r.doc_id,t.ddeInstance.setPatientID(r.edit_person),n.next=10,t.initEditMode(r.edit_person);case 10:n.next=13;break;case 12:t.presets=r;case 13:return t.fields=t.getFields(),n.next=16,he["a"].isMilitarySite();case 16:t.isMilitarySite=n.sent;case 17:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{getFields:function(){var e=[];return e.push(this.personIndexField()),e.push(this.givenNameField()),e.push(this.familyNameField()),e.push(this.genderField()),e.push(this.searchResultField()),e=e.concat(this.dobFields()),e.push(this.homeRegionField()),e.push(this.homeDistrictField()),e.push(this.homeTAField()),e.push(this.homeVillageField()),e.push(this.currentRegionField()),e.push(this.currentDistrictField()),e.push(this.currentTAField()),e.push(this.currentVillage()),e.push(this.landmarkField()),e.push(this.cellPhoneField()),e.push(this.patientTypeField()),e.push(this.facilityLocationField()),e.push(this.occupationField()),e.push(this.regimentField()),e=e.concat(this.dateJoinedMilitaryFields()),e.push(this.rankField()),e.push(this.relationshipField()),e.push(this.possibleDuplicatesField()),e},isEditMode:function(){return this.editPerson>=1},initEditMode:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.editPerson=e,n.next=3,xt["a"].findByID(t.editPerson);case 3:if(r=n.sent,r){n.next=6;break}return n.abrupt("return");case 6:t.patient=new xt["a"](r),a=t.patient.getAddresses(),o=a.ancestryDistrict,i=a.ancestryTA,c=a.ancestryVillage,s=a.currentDistrict,u=a.currentTA,t.editPersonData={given_name:t.patient.getGivenName(),family_name:t.patient.getFamilyName(),gender:t.patient.getGender(),birthdate:t.patient.getBirthdate(),home_district:o,home_traditional_authority:i,home_village:c,current_district:s,current_traditional_authority:u,cell_phone_number:t.patient.getPhoneNumber()},t.presets=t.editPersonData,t.skipSummary=!0;case 11:case"end":return n.stop()}}),n)})))()},onFinish:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.isEditMode()){r.next=4;break}return r.abrupt("return",n.create(e,t));case 4:return r.abrupt("return",n.update(t));case 5:case"end":return r.stop()}}),r)})))()},create:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=mr["a"].resolvePerson(t),a=n.resolvePersonAttributes(t),o=new jr,e.next=5,o.registerPatient(r,a);case 5:if(i=o.getPersonID(),!n.app.onRegisterPatient){e.next=12;break}return e.next=9,n.app.onRegisterPatient(i,r,a,n.$router);case 9:if(c=e.sent,!c){e.next=12;break}return e.abrupt("return");case 12:if("Yes"!==r.relationship){e.next=14;break}return e.abrupt("return",n.$router.push({path:"/guardian/registration",query:{patient:i}}));case 14:return e.next=16,Object(wt["a"])(i,n.$router);case 16:case"end":return e.stop()}}),e)})))()},update:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=mr["a"].resolvePerson(e),a=new jr,a.setPersonID(t.editPerson),n.next=5,a.updatePerson(r);case 5:for(o in r)o in t.editPersonData&&(t.editPersonData[o]=r[o]);t.fieldComponent="edit_user";case 7:case"end":return n.stop()}}),n)})))()},editConditionCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!(this.isEditMode()&&!e.includes(this.activeField))},confirmPatient:function(){if(!this.patient.getNationalID().match(/unknown/i))return this.$router.push("/patients/confirm?patient_barcode=".concat(this.patient.getNationalID()));this.$router.push("/patients/confirm?person_id=".concat(this.patient.getID()))},resolvePersonAttributes:function(e){return Object.values(e).filter((function(e){return Object(vt["isPlainObject"])(e)&&"personAttributes"in e})).map((function(e){var t=e.personAttributes;return t}))},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},givenNameField:function(){var e=this,t=mr["a"].getGivenNameField();return t.condition=function(){return e.editConditionCheck(["given_name"])},t.defaultValue=function(){return e.presets.given_name},t},familyNameField:function(){var e=this,t=mr["a"].getFamilyNameField();return t.condition=function(){return e.editConditionCheck(["family_name"])},t.defaultValue=function(){return e.presets.family_name},t},genderField:function(){var e=this,t=mr["a"].getGenderField();return t.requireNext=this.isEditMode(),t.condition=function(){return e.editConditionCheck(["gender"])},t.defaultValue=function(){return e.presets.gender?"M"===e.presets.gender?{label:"Male",value:"M"}:{label:"Female",value:"F"}:""},t},dobFields:function(){var e=this,t=mr["a"].getDobConfig();return t.defaultValue=function(){return e.presets.birthdate},t.condition=function(){return e.editConditionCheck(["year_birth_date","month_birth_date","day_birth_date"])},Object(br["b"])(t)},homeRegionField:function(){var e=this,t=mr["a"].getHomeRegionField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},homeDistrictField:function(){var e=this,t=mr["a"].getHomeDistrictField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},homeTAField:function(){var e=this,t=mr["a"].getHomeTaField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.home_region.label.match(/foreign/i)},t},homeVillageField:function(){var e=this,t=mr["a"].getHomeVillageField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.home_region.label.match(/foreign/i)},t},currentRegionField:function(){var e=this,t=mr["a"].getCurrentRegionField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},currentDistrictField:function(){var e=this,t=mr["a"].getCurrentDistrictField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},currentTAField:function(){var e=this,t=mr["a"].getCurrentTAfield();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.current_region.label.match(/foreign/i)},t},currentVillage:function(){var e=this,t=mr["a"].getCurrentVillageField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.current_region.label.match(/foreign/i)},t},cellPhoneField:function(){var e=this,t=mr["a"].getCellNumberField();return t.condition=function(){return e.editConditionCheck(["cell_phone_number"])},t.defaultValue=function(){return e.presets.cell_phone_number},t},facilityLocationField:function(){var e=mr["a"].getFacilityLocationField();return e.condition=function(e){return["Drug Refill","External consultation"].includes(e.patient_type.value)},e},landmarkField:function(){var e=this,t=mr["a"].getLandmarkField();return t.condition=function(){return e.editConditionCheck(["land_mark"])},t},patientTypeField:function(){var e=this;return{id:"patient_type",helpText:"Type of patient",type:Yt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["patient_type"])&&"ART"===e.app.applicationName},validation:function(e){return $t["a"].required(e)},options:function(){return yr["a"].getPatientTypes()}}},occupationField:function(){var e=this;return{id:"occupation",helpText:"Occupation",type:Yt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["occupation"])&&e.isMilitarySite},validation:function(e){return $t["a"].required(e)},options:function(){return e.mapToOption(["MDF Reserve","MDF Retired","Civilian"])}}},regimentField:function(){var e=this;return{id:"person_regiment_id",helpText:"Regiment ID",type:Yt["b"].TT_TEXT,computedValue:function(e){var t=e.value;return{personAttributes:{person_attribute_type_id:35,value:t}}},condition:function(t){return e.editConditionCheck(["person_regiment_id"])&&t.occupation&&t.occupation.value.match(/MDF/i)},validation:function(e){return $t["a"].required(e)}}},rankField:function(){var e=this;return{id:"rank",helpText:"Rank",type:Yt["b"].TT_SELECT,validation:function(e){return $t["a"].required(e)},computedValue:function(e){var t=e.value;return{personAttributes:{person_attribute_type_id:36,value:t}}},condition:function(t){return e.editConditionCheck(["rank"])&&t.occupation&&t.occupation.value.match(/MDF/i)},options:function(){return e.mapToOption(["First Lieutenant","Captain","Major","Lieutenant Colonel","Colonel","Brigadier General","Lieutenant General","General","Private","Corporal","Lance Corporal","Seargent","Staff Seargent","Warrant Officer class 1","Warrant Officer class 2"])}}},dateJoinedMilitaryFields:function(){var e=this;return Object(br["b"])({id:"person_date_joined_military",helpText:"Joined Military",required:!0,condition:function(t){return e.editConditionCheck(["year_person_date_joined_military","month_person_date_joined_military","day_person_date_joined_military"])&&t.occupation&&t.occupation.value.match(/MDF/i)},minDate:function(){return ge["a"].estimateDateFromAge(100)},maxDate:function(){return fr["a"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(e){return{date:e,personAttributes:{person_attribute_type_id:37,value:e}}}})},relationshipField:function(){var e=this;return{id:"relationship",helpText:"Register guardian?",type:Yt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["relationship"])},validation:function(e){return $t["a"].required(e)},options:function(){return e.mapToOption(["Yes","No"])}}},searchResultField:function(){var e=this;return{id:"results",helpText:"Search results",type:Yt["b"].TT_PERSON_RESULT_VIEW,dynamicHelpText:function(e){return'Search results for\n                "'.concat(e.given_name.value," ").concat(e.family_name.value," | ").concat(e.gender.label,'"\n                ')},appearInSummary:function(){return!1},condition:function(){return!e.isEditMode()},validation:function(e){return $t["a"].required(e)},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r={given_name:n.given_name.value,family_name:n.family_name.value,gender:n.gender.value},!e.ddeInstance.isEnabled()){t.next=6;break}return t.next=4,e.ddeInstance.searchDemographics(r);case 4:return a=t.sent,t.abrupt("return",a.map((function(e){var t=mr["a"].getPersonAttributeOptions(e);return t.other.options.push({label:"Patient Type",value:e.patient_type}),t.other.options.push({label:"Doc ID",value:e.doc_id}),t})));case 6:return t.next=8,xt["a"].search(r);case 8:return o=t.sent,t.abrupt("return",o.map((function(e){return mr["a"].getPersonAttributeOptions(e)})));case 10:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear","Next","Back"],footerBtns:[{name:"Edit Search",slot:"end",onClick:function(){e.fieldComponent="given_name"}},{name:"New Patient",slot:"end",onClick:function(){e.fieldComponent="year_birth_date"}},{name:"Continue",color:"success",slot:"end",state:{disabled:{default:function(){return!0},onValue:function(e,t){return Object(vt["isEmpty"])(t.results)}}},onClick:function(t){var n,r,a="",o=null===t||void 0===t||null===(n=t.results)||void 0===n||null===(r=n.other)||void 0===r?void 0:r.npid;return a=o&&!Object(wr["a"])(o)?"patient_barcode=".concat(o):"person_id=".concat(t.results.value),e.$router.push("/patients/confirm?".concat(a))}}]}}},possibleDuplicatesField:function(){var e=this,t={},n={};return{id:"possible_duplicates",helpText:"Possible Duplicate(s)",type:Yt["b"].TT_PERSON_MATCH_VIEW,condition:function(){var r=Object(l["a"])(regeneratorRuntime.mark((function r(a,o){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.ddeInstance.isEnabled()||e.editPerson){r.next=6;break}return t=mr["a"].resolvePerson(o),r.next=4,e.ddeInstance.checkPotentialDuplicates(t);case 4:return n=r.sent,r.abrupt("return",n.length>=1);case 6:return r.abrupt("return",!1);case 7:case"end":return r.stop()}}),r)})));function a(e,t){return r.apply(this,arguments)}return a}(),options:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(e){return ge["a"].toStandardHisDisplayFormat(e)},e.abrupt("return",n.map((function(e){var n=e.score,a=e.person,o="".concat(a.given_name," ").concat(a.family_name);return{label:o,value:a.patient_id,other:{score:"".concat(100*n,"%"),newPerson:t,foundPerson:a,comparisons:[["Name","".concat(t.given_name," ").concat(t.family_name),"".concat(a.given_name," ").concat(a.family_name)],["Gender",t.gender,a.gender],["Birthdate",r(t.birthdate),r(a.birthdate)],["Home District",t.home_district,a.home_district],["Home TA",t.home_traditional_authority,a.home_traditional_authority]]}}})));case 2:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),config:{hiddenFooterBtns:["Clear","Next"],footerBtns:[{name:"Not Duplicate",slot:"start",state:{visible:{default:function(){return!1},onValue:function(e,t){return!Object(vt["isEmpty"])(t.possible_duplicates)}}},onClick:function(){e.fieldComponent="_NEXT_FIELD_"}},{name:"Confirm",slot:"end",color:"warning",state:{visible:{default:function(){return!1},onValue:function(e,t){return!Object(vt["isEmpty"])(t.possible_duplicates)}}},onClick:function(t){e.$router.push("/patients/confirm?person_id=".concat(t.possible_duplicates.value))}}]}}},personIndexField:function(){var e=this;return{id:"edit_user",helpText:"Edit Demographics",type:Yt["b"].TT_TABLE_VIEWER,condition:function(){return-1!=e.editPerson},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=function(t){return{name:"Edit",type:"button",action:function(){e.activeField=t,e.fieldComponent=e.activeField}}},r=["Attributes","Values","Edit"],a=[["Given Name",e.editPersonData.given_name,n("given_name")],["Family Name",e.editPersonData.family_name,n("family_name")],["Gender",e.editPersonData.gender,n("gender")],["Birthdate",ge["a"].toStandardHisDisplayFormat(e.editPersonData.birthdate),n("year_birth_date")],["Cell Phone Number",e.editPersonData.cell_phone_number,n("cell_phone_number")],["Current district",e.editPersonData.current_district,n("home_region")],["Current T/A",e.editPersonData.current_traditional_authority,n("home_region")],["Home District",e.editPersonData.home_district,n("home_region")],["Home TA",e.editPersonData.home_traditional_authority,n("home_region")],["Home Village",e.editPersonData.home_village,n("home_region")]],o={indexes:[],class:"his-empty-set-color"},a.forEach((function(e,t){Object(wr["a"])(e[1])&&o.indexes.push(t)})),e.hasIncompleteData=o.indexes.length>=1,t.abrupt("return",[{label:"",value:"",other:{rows:a,columns:r,rowColors:[o]}}]);case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{footerBtns:[{name:"Reassign",slot:"end",color:"success",state:{visible:{default:function(){return!1},onload:function(){return e.ddeInstance.isEnabled()&&e.ddeIsReassign&&!e.hasIncompleteData}}},onClick:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.ddeInstance.reassignNpid(e.ddeDocID,e.editPerson);case 3:return t.next=5,e.ddeInstance.printNpid();case 5:e.confirmPatient(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(f["e"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function n(){return t.apply(this,arguments)}return n}()},{name:"Confirm",slot:"end",color:"warning",state:{visible:{onload:function(){return!e.ddeIsReassign&&!e.hasIncompleteData}}},onClick:function(){return e.confirmPatient()}}],hiddenFooterBtns:["Clear","Next"]}}}}});const xr=z()(kr,[["render",pr]]);var Nr=xr;function Vr(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),skipSummary:!0,activeField:e.fieldComponent,fields:e.fields,onFinishAction:e.onFinish,cancelDestinationPath:"/patient/dashboard/".concat(e.patientData.id)},null,8,["activeField","fields","onFinishAction","cancelDestinationPath"])}n("a4d3"),n("e01a");var Cr=function(e){Object(B["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(A["a"])(this,n),t.call(this)}return Object(P["a"])(n,null,[{key:"getRelations",value:function(){return Object(Or["a"])(Object(vr["a"])(n),"getJson",this).call(this,"types/relationships")}},{key:"createRelation",value:function(e,t,r){return Object(Or["a"])(Object(vr["a"])(n),"postJson",this).call(this,"people/".concat(e,"/relationships"),{relationship_type_id:r,relation_id:t})}}]),n}(Oe["c"]),Dr=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{guardianData:{},patientData:{},fieldAction:"",fieldComponent:"",fields:[],form:{}}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.params,!r.patient_id){n.next=6;break}return n.next=4,xt["a"].findByID(r.patient_id);case 4:a=n.sent,a&&(t.patientData=t.toPersonData(a.person),t.fields=t.getFields());case 6:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{getFields:function(){var e=[];return e.push(this.scanGuardian()),e.push(this.givenNameField()),e.push(this.familyNameField()),e.push(this.genderField()),e.push(this.searchResultField()),e=e.concat(this.dobFields()),e.push(this.homeRegionField()),e.push(this.homeDistrictField()),e.push(this.homeTAField()),e.push(this.homeVillageField()),e.push(this.currentRegionField()),e.push(this.currentDistrictField()),e.push(this.currentTAField()),e.push(this.currentVillage()),e.push(this.landmarkField()),e.push(this.cellPhoneField()),e.push(this.relationsField()),e},onFinish:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=-1,!n.isRegistrationMode()){r.next=8;break}return o=new jr,r.next=5,o.registerGuardian(mr["a"].resolvePerson(t));case 5:a=o.getPersonID(),r.next=9;break;case 8:a=n.guardianData.id;case 9:return r.next=11,Cr.createRelation(n.patientData.id,a,e.relations.other.relationship_type_id);case 11:return r.next=13,Object(wt["a"])(n.patientData.id,n.$router);case 13:case"end":return r.stop()}}),r)})))()},isSearchMode:function(){return["Search","Registration"].includes(this.fieldAction)},isRegistrationMode:function(){return"Registration"===this.fieldAction},toPersonData:function(e){var t=e.addresses[0];return{id:e.person_id,name:"".concat(e.names[0].given_name," ").concat(e.names[0].family_name),birthdate:ge["a"].toStandardHisDisplayFormat(e.birthdate),homeAddress:"".concat(t.county_district," ").concat(t.neighborhood_cell)}},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},givenNameField:function(){var e=this,t=mr["a"].getGivenNameField();return t.helpText="Guardian First name",t.condition=function(){return e.isSearchMode()},t},familyNameField:function(){var e=this,t=mr["a"].getFamilyNameField();return t.helpText="Guardian Last name",t.condition=function(){return e.isSearchMode()},t},genderField:function(){var e=this,t=mr["a"].getGenderField();return t.condition=function(){return e.isSearchMode()},t},dobFields:function(){var e=this,t=mr["a"].getDobConfig();return t.condition=function(){return e.isRegistrationMode()},Object(br["b"])(t)},homeRegionField:function(){var e=this,t=mr["a"].getHomeRegionField();return t.condition=function(){return e.isRegistrationMode()},t},homeDistrictField:function(){var e=this,t=mr["a"].getHomeDistrictField();return t.condition=function(){return e.isRegistrationMode()},t},homeTAField:function(){var e=this,t=mr["a"].getHomeTaField();return t.condition=function(t){return e.isRegistrationMode()&&!t.home_region.label.match(/foreign/i)},t},homeVillageField:function(){var e=this,t=mr["a"].getHomeVillageField();return t.condition=function(t){return e.isRegistrationMode()&&!t.home_region.label.match(/foreign/i)},t},currentRegionField:function(){var e=this,t=mr["a"].getCurrentRegionField();return t.condition=function(){return e.isRegistrationMode()},t},currentDistrictField:function(){var e=this,t=mr["a"].getCurrentDistrictField();return t.condition=function(){return e.isRegistrationMode()},t},currentTAField:function(){var e=this,t=mr["a"].getCurrentTAfield();return t.condition=function(t){return e.isRegistrationMode()&&!t.current_region.label.match(/foreign/i)},t},currentVillage:function(){var e=this,t=mr["a"].getCurrentVillageField();return t.condition=function(t){return e.isRegistrationMode()&&!t.current_region.label.match(/foreign/i)},t},cellPhoneField:function(){var e=this,t=mr["a"].getCellNumberField();return t.condition=function(){return e.isRegistrationMode()},t},landmarkField:function(){var e=this,t=mr["a"].getLandmarkField();return t.condition=function(){return e.isRegistrationMode()},t},relationsField:function(){var e=this;return{id:"relations",helpText:"Select relationship type",type:Yt["b"].TT_RELATION_SELECTION,onload:function(t){if(t.patient=e.patientData,e.isRegistrationMode()){var n=mr["a"].resolvePerson(t.cdata);t.guardian={name:"".concat(n.given_name," ").concat(n.family_name),birthdate:ge["a"].toStandardHisDisplayFormat(n.birthdate),homeAddress:"".concat(n.home_district," ").concat(n.home_traditional_authority)}}else t.guardian=e.guardianData},options:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Cr.getRelations();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.b_is_to_a,value:e.description,other:e}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),config:{hiddenFooterBtns:["Clear"]}}},scanGuardian:function(){var e=this;return{id:"scan",helpText:"Scan or Register Guardian",type:Yt["b"].TT_BARCODE,requireNext:!1,onValue:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt["a"].findByNpid(n);case 2:return r=t.sent,Object(vt["isEmpty"])(r)||(e.guardianData=e.toPersonData(r[0].person),e.fieldComponent="relations",e.fieldAction="Scan"),t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear","Next"],footerBtns:[{name:"Find or Register Guardian",color:"success",slot:"end",onClick:function(){e.fieldAction="Search",e.fieldComponent="given_name"}}]}}},searchResultField:function(){var e=this;return{id:"results",helpText:"Search results",type:Yt["b"].TT_PERSON_RESULT_VIEW,dynamicHelpText:function(e){return'Search results for \n                "'.concat(e.given_name.value," ").concat(e.family_name.value," | ").concat(e.gender.label,'"\n                ')},appearInSummary:function(){return!1},condition:function(){return e.isSearchMode()},validation:function(e){return $t["a"].required(e)},options:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt["a"].search({given_name:t.given_name.value,family_name:t.family_name.value,gender:t.gender.value});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return mr["a"].getPersonAttributeOptions(e)})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),config:{hiddenFooterBtns:["Clear","Next","Back"],footerBtns:[{name:"Edit Search",slot:"end",onClick:function(){e.fieldAction="Search",e.fieldComponent="given_name"}},{name:"New Guardian",slot:"end",onClick:function(){e.fieldAction="Registration",e.fieldComponent="year_birth_date"}},{name:"Continue Guardian",color:"success",slot:"end",state:{disabled:{default:function(){return!0},onValue:function(e,t){return Object(vt["isEmpty"])(t.results)}}},onClick:function(t){e.guardianData=e.toPersonData(t.results.other.person.person),e.fieldComponent="relations",e.fieldAction="Search"}}]}}}}});const Tr=z()(Dr,[["render",Vr]]);var Rr=Tr,Ir=Object(r["withScopeId"])("data-v-710223d9");Object(r["pushScopeId"])("data-v-710223d9");var Sr={class:"large-card"},Pr=Object(r["createVNode"])("h3",null," Patients: ",-1),Ar={class:"large-card"},Br=Object(r["createVNode"])("h3",null," Details: ",-1),Er=Object(r["createTextVNode"])(" Cancel "),Fr=Object(r["createTextVNode"])(" New Search "),Lr=Object(r["createTextVNode"])(" New Patient "),Mr=Object(r["createTextVNode"])(" Continue ");Object(r["popScopeId"])();var Hr=Ir((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("result-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-img"),d=Object(r["resolveComponent"])("ion-avatar"),p=Object(r["resolveComponent"])("ion-label"),b=Object(r["resolveComponent"])("ion-item"),f=Object(r["resolveComponent"])("ion-list"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-toolbar"),O=Object(r["resolveComponent"])("ion-footer"),v=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(v,null,{default:Ir((function(){return[Object(r["createVNode"])(m,null,{default:Ir((function(){return[Object(r["createVNode"])(u,null,{default:Ir((function(){return[Object(r["createVNode"])(s,null,{default:Ir((function(){return[Object(r["createVNode"])(c,{title:e.resultTitle,subtitle:e.resultSubtitle,icon:e.genderIcon},null,8,["title","subtitle","icon"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:Ir((function(){return[Object(r["createVNode"])(s,{size:"5"},{default:Ir((function(){return[Object(r["createVNode"])("div",Sr,[Pr,Object(r["createVNode"])(f,null,{default:Ir((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.results,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{button:"",key:n,detail:!0,color:e.isActive(t.other)?"light":"",onClick:function(n){return e.onselect(t.other)}},{default:Ir((function(){return[Object(r["createVNode"])(d,null,{default:Ir((function(){return[Object(r["createVNode"])(l,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(r["createVNode"])(p,null,{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(r["createVNode"])(s,{size:"7"},{default:Ir((function(){return[Object(r["createVNode"])("div",Ar,[Br,Object(r["createVNode"])(f,null,{default:Ir((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.demographics,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:t,inset:"none"},{default:Ir((function(){return[Object(r["createVNode"])(p,null,{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(p,{slot:"end"},{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(O,null,{default:Ir((function(){return[Object(r["createVNode"])(g,{color:"dark"},{default:Ir((function(){return[Object(r["createVNode"])(h,{color:"danger",size:"large","router-link":"/"},{default:Ir((function(){return[Er]})),_:1}),Object(r["createVNode"])(h,{color:"primary",size:"large","router-link":"/search_patient",slot:"end"},{default:Ir((function(){return[Fr]})),_:1}),Object(r["createVNode"])(h,{onClick:e.onRegisterAsNew,color:"primary",size:"large",slot:"end"},{default:Ir((function(){return[Lr]})),_:1},8,["onClick"]),e.isPersonSelected?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,color:"success",size:"large","router-link":e.confirmationPageUrl,slot:"end"},{default:Ir((function(){return[Mr]})),_:1},8,["router-link"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}));function Ur(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("ion-card-title"),u=Object(r["resolveComponent"])("ion-card-header"),l=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("h2",null,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])(c,{icon:e.icon,size:"medium"},null,8,["icon"]),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.subtitle),1)]})),_:1})]})),_:1})]})),_:1})}var qr=Object(r["defineComponent"])({name:"HisResultCard",components:{IonCard:d["f"],IonIcon:d["q"],IonCardTitle:d["i"],IonCardHeader:d["h"]},props:{title:{required:!0,type:String},subtitle:{required:!0,type:String},icon:{required:!1}}});const zr=z()(qr,[["render",Ur]]);var Gr=zr,Yr=Object(r["defineComponent"])({components:{ResultCard:Gr,IonLabel:d["u"],IonRow:d["E"],IonPage:d["A"],IonFooter:d["n"],IonContent:d["m"],IonButton:d["d"],IonCol:d["l"],IonToolbar:d["K"],IonList:d["v"],IonItem:d["t"]},data:function(){return{person:me["z"],gname:"",fname:"",gender:"",results:[],selectedPerson:{},isPersonSelected:!1,demographics:[]}},computed:{resultTitle:function(){return"".concat(this.results.length," Result(s) found")},resultSubtitle:function(){return'Search term "'.concat(this.gname," ").concat(this.fname,'"')},genderIcon:function(){return"M"===this.gender?me["v"]:me["L"]},confirmationPageUrl:function(){return"/patients/confirm?person_id=".concat(this.selectedPerson.getID())}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.query,t.selectedPerson={},t.isPersonSelected=!1,t.gname=r.given_name,t.fname=r.family_name,t.gender=r.gender,n.next=8,t.fetchResults(t.gname,t.fname,t.gender);case 8:t.results=n.sent,t.showDetails({});case 10:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{fetchResults:function(e,t,n){return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,xt["a"].search({given_name:e,family_name:t,gender:n});case 2:return a=r.sent,r.abrupt("return",a.map((function(e){var t=new xt["a"](e);return{label:t.getPatientInfoString(),value:t.getID(),other:t}})));case 4:case"end":return r.stop()}}),r)})))()},onRegisterAsNew:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["b"])("Do you want to register person as new patient?","Register ".concat(e.gname," ").concat(e.fname));case 2:n=t.sent,n&&(r="M"===e.gender?"Male":"Female",e.$router.push("/patient/registration?given_name=".concat(e.gname,"&family_name=").concat(e.fname,"&gender=").concat(r)));case 4:case"end":return t.stop()}}),t)})))()},isActive:function(e){try{return e.getID()===this.selectedPerson.getID()}catch(t){return!1}},onselect:function(e){this.isPersonSelected=!0,this.selectedPerson=e,this.showDetails(e)},getPatientProp:function(e,t){return t in e?e[t]():"-"},showDetails:function(e){this.demographics=[{label:"Patient ID",value:this.getPatientProp(e,"getNationalID")},{label:"Name",value:this.getPatientProp(e,"getFullName")},{label:"Gender",value:this.getPatientProp(e,"getGender")},{label:"Birthdate",value:this.getPatientProp(e,"getBirthdate")},{label:"Home District",value:this.getPatientProp(e,"getHomeDistrict")},{label:"Home Village",value:this.getPatientProp(e,"getHomeVillage")},{label:"Current District",value:this.getPatientProp(e,"getCurrentDistrict")},{label:"Current T/A",value:this.getPatientProp(e,"getCurrentTA")}]}}});n("38b8");const Kr=z()(Yr,[["render",Hr],["__scopeId","data-v-710223d9"]]);var Wr=Kr;function $r(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onOnFinish:e.onFinish},null,8,["fields","activeField","onOnFinish"])}var Jr=n("9441"),Xr=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],Qr=Object(r["defineComponent"])({components:{HisStandardForm:Jr["a"]},data:function(){return{activeField:"",fields:[]}},created:function(){this.fields=this.getFields()},methods:{onFinish:function(e){console.log(e)},getFields:function(){var e=this;return[{id:"dispense",helpText:"Dispensation",type:Yt["b"].TT_DISPENSATION_INPUT,config:{toolbarInfo:[{label:"Name",value:"Test patient"},{label:"Gender",value:"Female"},{label:"Date Of Birth",value:"12/May/1994"}]},options:function(){return[{label:"TDF300/3TC300/DTG50",value:0,other:{amounted_needed:30}},{label:"Cotrimoxazole (960mg)",value:0,other:{amounted_needed:30}},{label:"Rifapentine (150mg)",value:0,other:{amounted_needed:30}},{label:"INH or H (Isoniazid 100mg tablet)",value:0,other:{amounted_needed:30}}]}},{id:"hello_world",helpText:"BeforeNext",type:Yt["b"].TT_TEXT,beforeNext:function(){var e=confirm("Do you want to continue");return e}},{id:"onvalue_hooks_multiple_select",helpText:"Dynamically toggling values",type:Yt["b"].TT_MULTIPLE_SELECT,config:{showKeyboard:!1},onValueUpdate:function(e,t){if(t.isChecked&&"None"===t.label)return e.map((function(e){return"None"!=e.label&&(e.isChecked=!1),e}));if("None"!=t.label&&t.isChecked){var n=Object(vt["findIndex"])(e,{label:"None"});e[n].isChecked=!1}if(t.isChecked&&"Disable"===t.label){var r=Object(vt["findIndex"])(e,{label:"Disable"});e[r].disabled=!0}if(t.isChecked&&"Enable"===t.label){var a=Object(vt["findIndex"])(e,{label:"Disable"});e[a].disabled=!1}return e},validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Foo",value:"Foo",description:{color:"danger",text:"Optional description"}},{label:"This is prechecked by default",value:"pre_checked"},{label:"Bar",value:"Bar",description:{color:"warning",text:"This has discription of different color"}},{label:"Enable",value:"enabled",description:{color:"secondary",text:"I only appear when checked",show:"onChecked"}},{label:"Disable",value:"disable"},{label:"None",value:"None"}]}},{id:"name_field",helpText:"What is your name",type:Yt["b"].TT_TEXT,validation:function(e){return e?null:["Value is required"]}},{id:"custom_btn",helpText:"Show custom button",type:Yt["b"].TT_TEXT,config:{footerBtns:[{name:"Void",color:"danger",size:"large",visible:!1,slot:"",visibleOnStateChange:function(e){return 1===e.index},onClick:function(){alert("Record has been voided!")}},{name:"Custom Something",color:"primary",size:"large",visible:!1,slot:"end",visibleOnStateChange:function(e){return 1===e.index},onClick:function(){alert("YaY! Custom Button Clicked")}}]}},{id:"patient_chart",helpText:"Patient Chart",type:Yt["b"].TT_WEIGHT_CHART,options:function(){return[{label:"Patient weight",value:54,other:{labels:["10 Jan","11 June","8 Aug"],values:[65,38,89,57]}}]}},{id:"hide_default_btns",helpText:"Default buttons have been hidden",type:Yt["b"].TT_TEXT,config:{hiddenFooterBtns:["Clear","Cancel"]}},{id:"skip_next_field",helpText:"Skip Next Field with custom button",type:Yt["b"].TT_TEXT,config:{footerBtns:[{name:"Skip Dates",color:"light",size:"large",visible:!1,slot:"end",visibleOnStateChange:function(e){return 3===e.index},onClick:function(){e.activeField="multiple_select"}}]}},{id:"year",helpText:"Year of birth",type:Yt["b"].TT_NUMBER},{id:"month",helpText:"Month of birth",type:Yt["b"].TT_SELECT,requireNext:!1,options:function(){return Xr},config:{showKeyboard:!1}},{id:"day",helpText:"Day of birth",type:Yt["b"].TT_MONTHLY_DAYS},{id:"multiple_select",helpText:"Select Multiple values",type:Yt["b"].TT_MULTIPLE_SELECT,config:{showKeyboard:!1},validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Foo",value:"Foo",description:{color:"danger",text:"Optional description"}},{label:"This is prechecked by default",value:"pre_checked",isChecked:!0},{label:"Bar",value:"Bar",description:{color:"warning",text:"This has discription of different color"}},{label:"Baz",value:"Baz",description:{color:"secondary",text:"I only appear when checked",show:"onChecked"}},{label:"Bar",value:"Bar"}]}},{id:"conditional_data",helpText:"Conditionally display next question",type:Yt["b"].TT_SELECT,requireNext:!1,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Show Games",value:"Show Games"},{label:"Show Music",value:"Show Music"}]}},{id:"music_presentation",helpText:"Showing Music",type:Yt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},condition:function(e){return"Show Music"===e.conditional_data.value},options:function(){return[{label:"No Music",value:"No Music"}]}},{id:"games_presentation",helpText:"Showing Games",type:Yt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},condition:function(e){return"Show Games"===e.conditional_data.value},options:function(){return[{label:"No Games",value:"No Games"}]}},{id:"does_not_require_next",helpText:"Click on value to proceed",type:Yt["b"].TT_SELECT,requireNext:!1,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Duke",value:"Duke"},{label:"Dork",value:"Dork"}]}},{id:"option_params",helpText:"Console.log Prop sent via options",type:Yt["b"].TT_SELECT,options:function(e){return console.log(e),[]}},{id:"validated",helpText:"Value is Required before next",type:Yt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Fur",value:"Fur"},{label:"Fume",value:"Fame"}]}}]}}});const Zr=z()(Qr,[["render",$r]]);var ea=Zr;function ta(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}var na=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{app:{},fields:[]}},created:function(){this.setApp(),this.fields=[this.getIdSelectionField(),this.getIdSearchField()]},methods:{getIdSelectionField:function(){var e=this;return{id:"identifier_type",helpText:"Select identifier type",type:Yt["b"].TT_SELECT,requireNext:!1,validation:function(e){return $t["a"].required(e)},options:function(){var t=e.app.programPatientIdentifiers?Object.values(e.app.programPatientIdentifiers):[];return t.filter((function(e){return e.useForSearch})).map((function(e){return{label:e.name,value:e.id,other:e}}))}}},getIdSearchField:function(){return{id:"identifier",helpText:"Identifier",dynamicHelpText:function(e){return"Search by ".concat(e.identifier_type.label)},type:Yt["b"].TT_TEXT,validation:function(e){return $t["a"].required(e)},config:{initialKb:"0-9",prependValue:function(e){return e.identifier_type.other.prefix()}}}},setApp:function(){var e=fe["a"].getActiveApp();e&&(this.app=e)},onFinish:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.identifier_type.value,a=e.identifier.value,n.next=4,xt["a"].findByOtherID(r,a);case 4:o=n.sent,Object(vt["isEmpty"])(o)?Object(f["e"])("Client not found"):(i=new xt["a"](o[0]),t.$router.push("/patients/confirm?person_id=".concat(i.getID())));case 6:case"end":return n.stop()}}),n)})))()}}});const ra=z()(na,[["render",ta]]);var aa=ra,oa=Object(r["withScopeId"])("data-v-c749d742");Object(r["pushScopeId"])("data-v-c749d742");var ia=Object(r["createTextVNode"])("Visits"),ca=Object(r["createTextVNode"])("Patient"),sa=Object(r["createTextVNode"])("Program"),ua=Object(r["createTextVNode"])("Dates"),la={class:"mobile-component-view"},da=Object(r["createVNode"])("p",null,null,-1),pa={class:"his-card info-card-item"},ba=Object(r["createTextVNode"])(" Today "),fa={class:"his-card info-card-item"},ma=Object(r["createTextVNode"])(" Session "),ha={class:"his-card info-card-item"},ga=Object(r["createTextVNode"])(" Current visit date "),Oa={class:"his-card"},va=Object(r["createTextVNode"])(" Today's Date: "),_a={key:0},ja={key:1},wa=Object(r["createTextVNode"])(" Next Task: "),ya=Object(r["createVNode"])("b",null,"NONE",-1),ka={key:0},xa={key:1},Na=Object(r["createTextVNode"])(" Set Date: "),Va={key:1},Ca=Object(r["createTextVNode"])(" Tasks "),Da=Object(r["createTextVNode"])(" Printouts/Other "),Ta=Object(r["createTextVNode"])(" Applications "),Ra=Object(r["createTextVNode"])(" Finish ");Object(r["popScopeId"])();var Ia=oa((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("full-toolbar"),s=Object(r["resolveComponent"])("minimal-toolbar"),u=Object(r["resolveComponent"])("ion-icon"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-segment-button"),p=Object(r["resolveComponent"])("ion-segment"),b=Object(r["resolveComponent"])("ion-toolbar"),f=Object(r["resolveComponent"])("ion-button"),m=Object(r["resolveComponent"])("primary-card"),h=Object(r["resolveComponent"])("ion-col"),g=Object(r["resolveComponent"])("ion-row"),O=Object(r["resolveComponent"])("ion-grid"),v=Object(r["resolveComponent"])("ion-item"),_=Object(r["resolveComponent"])("ion-list"),j=Object(r["resolveComponent"])("visit-dates-card"),w=Object(r["resolveComponent"])("ion-chip"),y=Object(r["resolveComponent"])("ion-content"),k=Object(r["resolveComponent"])("ion-footer"),x=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(x,null,{default:oa((function(){return[Object(r["createVNode"])(c,{class:"full-component-view",appIcon:e.app.applicationIcon,patientCardInfo:e.patientCardInfo,programCardInfo:e.programCardInfo},null,8,["appIcon","patientCardInfo","programCardInfo"]),Object(r["createVNode"])(s,{class:"mobile-component-view",title:e.patientName,menuTitle:e.visitDatesTitle,menuItems:e.visitDates,appIcon:e.app.applicationIcon,onOnClickMenuItem:e.onActiveVisitDate},null,8,["title","menuTitle","menuItems","appIcon","onOnClickMenuItem"]),Object(r["createVNode"])(b,{class:"mobile-component-view"},{default:oa((function(){return[Object(r["createVNode"])(p,{value:e.activeTab,class:"ion-justify-content-center"},{default:oa((function(){return[Object(r["createVNode"])(d,{value:"1",onClick:t[1]||(t[1]=function(t){return e.activeTab=1})},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.calendar},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:oa((function(){return[ia]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"2",onClick:t[2]||(t[2]=function(t){return e.activeTab=2})},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.person},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:oa((function(){return[ca]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"3",onClick:t[3]||(t[3]=function(t){return e.activeTab=3})},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.medical},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:oa((function(){return[sa]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"4",onClick:t[4]||(t[4]=function(t){return e.activeTab=4})},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.time},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:oa((function(){return[ua]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),e.nextTask.name?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,class:"mobile-component-view"},{default:oa((function(){return[Object(r["createVNode"])(f,{style:{width:"100%"},color:"success",onClick:t[5]||(t[5]=function(t){return e.$router.push(e.nextTask)})},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[Object(r["createVNode"])("b",null,"Next Task: "+Object(r["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1}),Object(r["createVNode"])(u,{icon:e.alertCircle},null,8,["icon"])]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(y,{id:"main-content"},{default:oa((function(){return[Object(r["createVNode"])("div",la,[e.appHasCustomContent&&1===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(r["createCommentVNode"])("",!0),e.appHasCustomContent||1!==e.activeTab?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:1},{default:oa((function(){return[Object(r["createVNode"])(g,null,{default:oa((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{size:"12",key:t},{default:oa((function(){return[Object(r["createVNode"])(m,{counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,onClick:e.onClick},null,8,["counter","icon","title","titleColor","items","onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})),2===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:2},{default:oa((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCardInfo,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(r["createVNode"])(v,{lines:"none"},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(l,{slot:"end"},{default:oa((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0),3===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:3},{default:oa((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.programCardInfo,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(r["createVNode"])(v,{lines:"none"},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(l,{slot:"end"},{default:oa((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024),da])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0),4===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:4},{default:oa((function(){return[Object(r["createVNode"])("div",pa,[Object(r["createVNode"])(v,{lines:"none"},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[ba]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:oa((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.currentDate),1)]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",fa,[Object(r["createVNode"])(v,{lines:"none"},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[ma]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:oa((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",ha,[Object(r["createVNode"])(v,{lines:"none"},{default:oa((function(){return[Object(r["createVNode"])(l,null,{default:oa((function(){return[ga]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:oa((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.activeVisitDate),1)]})),_:1})]})),_:1})])]})),_:1})):Object(r["createCommentVNode"])("",!0)]),e.appHasCustomDashboard?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:0,class:"full-component-view grid-custom vertically-align"},{default:oa((function(){return[Object(r["createVNode"])(g,null,{default:oa((function(){return[Object(r["createVNode"])(h,{size:"2.4"},{default:oa((function(){return[Object(r["createVNode"])(j,{title:e.visitDatesTitle,items:e.visitDates,onOnselect:e.onActiveVisitDate},null,8,["title","items","onOnselect"])]})),_:1}),Object(r["createVNode"])(h,{size:"9.6"},{default:oa((function(){return[Object(r["createVNode"])("div",Oa,[Object(r["createVNode"])(g,null,{default:oa((function(){return[Object(r["createVNode"])(h,{"size-md":"4","size-sm":"6"},{default:oa((function(){return[va,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.currentDate),1)]})),_:1}),Object(r["createVNode"])(h,{"size-md":"4","size-sm":"6"},{default:oa((function(){return[e.nextTask.name?(Object(r["openBlock"])(),Object(r["createBlock"])("span",_a,[Object(r["createVNode"])(w,{class:"next-task",color:"success",onClick:t[6]||(t[6]=function(t){return e.$router.push(e.nextTask)})},{default:oa((function(){return[Object(r["createTextVNode"])("Next Task: "+Object(r["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1})])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",ja,[wa,ya]))]})),_:1}),Object(r["createVNode"])(h,{"size-md":"4","size-sm":"12"},{default:oa((function(){return[e.isBDE?(Object(r["openBlock"])(),Object(r["createBlock"])("span",ka,[Object(r["createVNode"])(w,{style:{marginTop:"-8px"},color:"danger",onClick:t[7]||(t[7]=function(t){return e.$router.push({name:"Session Date"})})},{default:oa((function(){return[Object(r["createVNode"])("b",null," BDE: "+Object(r["toDisplayString"])(e.sessionDate.toUpperCase()),1)]})),_:1})])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",xa,[Na,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]))]})),_:1})]})),_:1}),e.appHasCustomContent?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(r["createCommentVNode"])("",!0),e.appHasCustomContent?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",Va,[Object(r["createVNode"])(g,null,{default:oa((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{size:"6",key:t},{default:oa((function(){return[Object(r["createVNode"])(m,{counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,onClick:e.onClick},null,8,["counter","icon","title","titleColor","items","onClick"])]})),_:2},1024)})),128))]})),_:1})]))])]})),_:1})]})),_:1})]})),_:1}))]})),_:1}),Object(r["createVNode"])(k,null,{default:oa((function(){return[Object(r["createVNode"])(b,{color:"dark"},{default:oa((function(){return[Object(r["createVNode"])(f,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.showTasks},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.clipboardOutline},null,8,["icon"]),Ca]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.showTasks},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.clipboard},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.showOptions},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.folderOutline},null,8,["icon"]),Da]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.showOptions},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.folder},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.changeApp},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.appsOutline},null,8,["icon"]),Ta]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.changeApp},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.apps},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"full-component-view",color:"success",size:"large",slot:"end",onClick:e.onCancel},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.logOutOutline},null,8,["icon"]),Ra]})),_:1},8,["onClick"]),Object(r["createVNode"])(f,{class:"mobile-component-view",color:"success",size:"medium",slot:"end",onClick:e.onCancel},{default:oa((function(){return[Object(r["createVNode"])(u,{icon:e.logOut},null,8,["icon"])]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),Sa=Object(r["withScopeId"])("data-v-6f9448e4");Object(r["pushScopeId"])("data-v-6f9448e4");var Pa={class:"card"};Object(r["popScopeId"])();var Aa=Sa((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-badge"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-icon"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list");return Object(r["openBlock"])(),Object(r["createBlock"])("div",Pa,[Object(r["createVNode"])("div",{class:"title-card",style:{backgroundColor:e.titleColor}},[Object(r["createVNode"])(c,{color:"light"},{default:Sa((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.counter),1)]})),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.title),1)],4),Object(r["createVNode"])(p,null,{default:Sa((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:n,style:{fontSize:"0.8em"}},{default:Sa((function(){return[Object(r["createVNode"])(s,null,{default:Sa((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),t.value?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,slot:"end"},{default:Sa((function(){return[Object(r["createVNode"])(u,{icon:e.icon},null,8,["icon"]),Object(r["createVNode"])(s,null,{default:Sa((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.value),1)]})),_:2},1024)]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)]})),_:2},1024)})),128))]})),_:1})])})),Ba=(n("a9e3"),Object(r["defineComponent"])({components:{IonLabel:d["u"],IonList:d["v"],IonItem:d["t"],IonChip:d["k"],IonIcon:d["q"],IonBadge:d["c"]},data:function(){return{time:me["I"]}},props:{counter:{type:Number,required:!1},icon:{type:Object},title:{type:String,required:!0},items:{type:Object},titleColor:{type:String,required:!1,default:function(){return"#337ab7"}}}}));n("9737");const Ea=z()(Ba,[["render",Aa],["__scopeId","data-v-6f9448e4"]]);var Fa=Ea,La=Object(r["withScopeId"])("data-v-50f25598");Object(r["pushScopeId"])("data-v-50f25598");var Ma={class:"card his-card"},Ha={class:"header-section"},Ua={class:"bottom-section"};Object(r["popScopeId"])();var qa=La((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-item"),s=Object(r["resolveComponent"])("ion-list");return Object(r["openBlock"])(),Object(r["createBlock"])("div",Ma,[Object(r["createVNode"])("div",Ha,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("button",{class:"nav-btn nav-btn-top clickable",disabled:!e.showPrevButton,onClick:t[1]||(t[1]=function(){return e.goPrev.apply(e,arguments)})},[Object(r["createVNode"])("img",{src:e.upbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"]),Object(r["createVNode"])("div",{class:e.listAlignmentClass},[Object(r["createVNode"])(s,null,{default:La((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.activeListItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:n,onClick:function(n){return e.onselect(t)},detail:!0,color:e.isActive(t)?"primary":""},{default:La((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick","color"])})),128))]})),_:1})],2),Object(r["createVNode"])("div",Ua,[Object(r["createVNode"])("button",{class:"nav-btn nav-btn-bottom clickable",disabled:!e.showNextButton,onClick:t[2]||(t[2]=function(){return e.goNext.apply(e,arguments)})},[Object(r["createVNode"])("img",{src:e.downbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"])])])})),za=Object(r["defineComponent"])({components:{IonList:d["v"],IonItem:d["t"]},props:{title:{type:String,default:function(){return"Visits"}},items:{type:Object,required:!0}},data:function(){return{active:{},activeListItems:[],paginatedListItems:[],index:-1,perPage:6,btnSize:45}},computed:{listAlignmentClass:function(){return this.activeListItems&&this.activeListItems.length===this.perPage?"vertically-align":""},upbuttonImg:function(){return"/assets/images/drop-up-arrow.svg"},downbuttonImg:function(){return"/assets/images/drop-down-arrow.svg"},showNextButton:function(){return this.index+1<this.paginatedListItems.length},showPrevButton:function(){return this.index>=1}},watch:{items:{handler:function(e){Object(vt["isEmpty"])(e)||(this.index=0,this.paginatedListItems=Object(vt["chunk"])(e,this.perPage),this.activeListItems=this.paginatedListItems[0],this.active=this.activeListItems[0])},deep:!0,immediate:!0},index:{handler:function(e){this.activeListItems=this.paginatedListItems[e]},immediate:!0},active:function(e){this.$emit("onselect",e)}},methods:{onselect:function(e){this.active=e},isActive:function(e){return e.label===this.active.label},goNext:function(){var e=this.index+1;e<=this.paginatedListItems.length&&(this.index=e)},goPrev:function(){this.paginatedListItems.length>=1&&(this.index-=1)}}});n("f36d");const Ga=z()(za,[["render",qa],["__scopeId","data-v-50f25598"]]);var Ya=Ga,Ka=n("7957"),Wa=n("71c3"),$a=n("9b7c"),Ja=Object(r["withScopeId"])("data-v-34bd3736");Object(r["pushScopeId"])("data-v-34bd3736");var Xa=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var Qa=Ja((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("task-card"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),f=Object(r["resolveComponent"])("ion-button"),m=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Ja((function(){return[Object(r["createVNode"])(s,null,{default:Ja((function(){return[Object(r["createVNode"])(c,null,{default:Ja((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,{class:"selector"},{default:Ja((function(){return[Object(r["createVNode"])(p,null,{default:Ja((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filteredItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{"size-lg":"4","size-sm":"6",key:n},{default:Ja((function(){return[Object(r["createVNode"])(l,{onClick:function(n){return e.doTask(t)},title:t.name.toUpperCase(),description:t.description,icon:e.img(t.icon)},null,8,["onClick","title","description","icon"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Ja((function(){return[Object(r["createVNode"])(s,null,{default:Ja((function(){return[Object(r["createVNode"])(f,{class:"close-btn",color:"danger",size:"large",onClick:e.closeModal,slot:"end"},{default:Ja((function(){return[Xa]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),Za=Object(r["defineComponent"])({components:{IonGrid:d["o"],IonRow:d["E"],IonCol:d["l"],TaskCard:Re,IonFooter:d["n"],IonToolbar:d["K"],IonButton:d["d"],IonHeader:d["p"],IonTitle:d["J"]},props:{title:{type:String,default:"Select Activity"},items:{type:Object,required:!0},taskParams:{type:Object,required:!1}},data:function(){return{filteredItems:[]}},watch:{items:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!Object(vt["isEmpty"])(e)){n.next=2;break}return n.abrupt("return");case 2:n.t0=regeneratorRuntime.keys(e);case 3:if((n.t1=n.t0()).done){n.next=19;break}if(r=n.t1.value,a=e[r],!a.globalProperty){n.next=11;break}return n.next=9,he["a"].isProp(a.globalProperty);case 9:if(n.sent){n.next=11;break}return n.abrupt("continue",3);case 11:if(!a.condition){n.next=16;break}return n.next=14,a.condition(t.taskParams);case 14:if(n.sent){n.next=16;break}return n.abrupt("continue",3);case 16:t.filteredItems.push(a),n.next=3;break;case 19:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{img:function(e){return Object(K["a"])(e)},closeModal:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()},doTask:function(e){if(e.action)e.action(this.taskParams,this.$router);else if(e.url)this.$router.push({path:e.url});else{var t;this.$router.push({name:e.id,params:{patient_id:null===(t=this.taskParams)||void 0===t?void 0:t.patient.patient_id}})}this.closeModal()}}});n("4f9b");const eo=z()(Za,[["render",Qa],["__scopeId","data-v-34bd3736"]]);var to=eo,no=Object(r["withScopeId"])("data-v-2e6e8e7e");Object(r["pushScopeId"])("data-v-2e6e8e7e");var ro={class:"tb"},ao=Object(r["createTextVNode"])(" Void "),oo=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var io=no((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("ion-col"),b=Object(r["resolveComponent"])("his-basic-table"),f=Object(r["resolveComponent"])("ion-row"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:no((function(){return[Object(r["createVNode"])(s,null,{default:no((function(){return[Object(r["createVNode"])(c,null,{default:no((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:no((function(){return[Object(r["createVNode"])(f,null,{default:no((function(){return[Object(r["createVNode"])(p,{size:"4"},{default:no((function(){return[Object(r["createVNode"])(d,null,{default:no((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:n,color:t.other.id===e.active.id?"primary":"",detail:!0,onClick:function(){return e.showDetails(t.label,t.other)}},{default:no((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{size:"8"},{default:no((function(){return[Object(r["createVNode"])("div",ro,[Object(r["createVNode"])(b,{columns:e.active.columns,rows:e.active.rows},null,8,["columns","rows"])])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(g,null,{default:no((function(){return[Object(r["createVNode"])(s,null,{default:no((function(){return[Object(r["createVNode"])(h,{color:"danger",onClick:e.voidActiveItem,disabled:!e.canVoid,size:"large"},{default:no((function(){return[ao]})),_:1},8,["onClick","disabled"]),Object(r["createVNode"])(h,{onClick:e.closeModal,size:"large",slot:"end"},{default:no((function(){return[oo]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),co=n("a3a5"),so=Object(r["defineComponent"])({components:{HisBasicTable:co["a"],IonButton:d["d"],IonToolbar:d["K"],IonList:d["v"],IonFooter:d["n"],IonContent:d["m"],IonRow:d["E"],IonCol:d["l"],IonTitle:d["J"],IonHeader:d["p"],IonItem:d["t"]},data:function(){return{active:{id:-1,name:"",rows:[],columns:[]}}},computed:{canVoid:function(){return!Object(vt["isEmpty"])(this.active)}},watch:{items:{handler:function(e){e.length>=1&&this.showDetails(e[0].label,e[0].other)},immediate:!0,deep:!0}},props:{title:{type:String,required:!0},items:{type:Object,required:!0}},methods:{closeModal:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()},initiateVoidReason:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["M"].create({header:"Are you sure you want to void this Encounter?",subHeader:"Please specify reason for voiding this encounter",mode:"ios",buttons:[{text:"Mistake/ Wrong Entry",role:"Mistake/ Wrong Entry"},{text:"Duplicate",role:"Duplicate"},{text:"System Error",role:"System Error"},{text:"Cancel",role:"cancel"}]});case 2:return t=e.sent,t.present(),e.next=6,t.onDidDismiss();case 6:return n=e.sent,r=n.role,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))()},voidActiveItem:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["b"])("Do you really want to void ".concat(e.active.name,"?"));case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.initiateVoidReason();case 7:if(r=t.sent,"cancel"!==r){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,e.active.onVoid(r);case 12:e.active={},e.items.length>=1&&e.showDetails(e.items[0].label,e.items[0].other);case 14:case"end":return t.stop()}}),t)})))()},showDetails:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.id,o=t.columns,i=t.getRows,c=t.onVoid,n.active.id=a,n.active.name=e,n.active.columns=o,n.active.onVoid=c,r.next=7,i();case 7:n.active.rows=r.sent;case 8:case"end":return r.stop()}}),r)})))()}}});n("8af5");const uo=z()(so,[["render",io],["__scopeId","data-v-2e6e8e7e"]]);var lo=uo,po=Object(r["createTextVNode"])(" Close ");function bo(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("his-basic-table"),d=Object(r["resolveComponent"])("ion-content"),p=Object(r["resolveComponent"])("ion-button"),b=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{onClick:e.closeModal,slot:"end"},{default:Object(r["withCtx"])((function(){return[po]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var fo=Object(r["defineComponent"])({components:{HisBasicTable:co["a"],IonHeader:d["p"],IonToolbar:d["K"],IonContent:d["m"],IonFooter:d["n"],IonButton:d["d"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,default:!0}},methods:{closeModal:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()}}});const mo=z()(fo,[["render",bo]]);var ho=mo;function go(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list"),b=Object(r["resolveComponent"])("ion-content"),f=Object(r["resolveComponent"])("ion-menu"),m=Object(r["resolveComponent"])("ion-menu-button"),h=Object(r["resolveComponent"])("ion-buttons"),g=Object(r["resolveComponent"])("ion-thumbnail");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(f,{"menu-id":"app-menu","content-id":"main-content",type:"overlay"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.menuTitle),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.menuItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:n,detail:"true",class:"hydrated",onClick:function(n){return e.onClickItem(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{slot:"start"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m),Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(h,{slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:e.appIconPath,class:"logo",alt:"Master card logo"},null,8,["src"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var Oo=Object(r["defineComponent"])({name:"App",emits:["onClickMenuItem"],props:{title:String,menuTitle:String,menuItems:{type:Array,default:function(){return[]}},appIcon:{type:String,required:!0}},components:{IonContent:d["m"],IonItem:d["t"],IonList:d["v"],IonTitle:d["J"],IonMenu:d["x"],IonButtons:d["e"],IonMenuButton:d["y"],IonThumbnail:d["I"],IonToolbar:d["K"],IonHeader:d["p"],IonLabel:d["u"]},setup:function(e,t){function n(e){d["R"].close("app-menu"),t.emit("onClickMenuItem",e)}return{onClickItem:n,appIconPath:Object(K["a"])(e.appIcon)}}});const vo=z()(Oo,[["render",go]]);var _o=vo;function jo(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("info-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("icon-card"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header");return Object(r["openBlock"])(),Object(r["createBlock"])(p,{translucent:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{size:e.hasProgramInfo?5:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{items:e.patientCardInfo},null,8,["items"])]})),_:1},8,["size"]),e.hasProgramInfo?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,size:"5"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{items:e.programCardInfo},null,8,["items"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{size:"2"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{icon:e.logo},null,8,["icon"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var wo=Object(r["withScopeId"])("data-v-18b213da");Object(r["pushScopeId"])("data-v-18b213da");var yo={style:{marginLeft:"-4%"}};Object(r["popScopeId"])();var ko=wo((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:wo((function(){return[Object(r["createVNode"])("ul",yo,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:n},[e.hasIcon(t)?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,icon:t.other.icon},null,8,["icon"])):Object(r["createCommentVNode"])("",!0),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(t.label)+": ",1),Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.value),1)])})),128))])]})),_:1})})),xo=Object(r["defineComponent"])({name:"HisResultCard",components:{ToolBarMediumCard:je["a"],IonIcon:d["q"]},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{hasIcon:function(e){return"other"in e&&"icon"in e.other}}});n("270c");const No=z()(xo,[["render",ko],["__scopeId","data-v-18b213da"]]);var Vo=No,Co=Object(r["defineComponent"])({name:"PatientToolbar",components:{IonHeader:d["p"],IonToolbar:d["K"],IonCol:d["l"],IonRow:d["E"],InfoCard:Vo,IconCard:ke},props:{patientCardInfo:{type:Array,required:!0},programCardInfo:{type:Array,required:!0},appIcon:{type:String,required:!0}},computed:{hasProgramInfo:function(){return this.programCardInfo.length>=1},logo:function(){return Object(K["a"])(this.appIcon)}}});const Do=z()(Co,[["render",jo]]);var To=Do,Ro=n("ec2a"),Io=Object(r["defineComponent"])({components:{IonSegment:d["F"],IonSegmentButton:d["G"],FullToolbar:To,MinimalToolbar:_o,VisitDatesCard:Ya,PrimaryCard:Fa,IonChip:d["k"],IonPage:d["A"],IonIcon:d["q"],IonFooter:d["n"],IonContent:d["m"],IonButton:d["d"],IonToolbar:d["K"],IonGrid:d["o"],IonRow:d["E"],IonCol:d["l"]},setup:function(){return{man:me["v"],time:me["I"],person:me["z"],calendar:me["i"],medical:me["w"],woman:me["L"],clipboard:me["m"],apps:me["b"],folder:me["r"],logOut:me["t"],timeOutline:me["J"],warningOutline:me["K"],clipboardOutline:me["n"],appsOutline:me["c"],folderOutline:me["s"],logOutOutline:me["u"],alertCircle:me["a"]}},data:function(){return{activeTab:1,app:gr["a"].getActiveApp(),dashboardComponent:{},isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},patientId:0,programID:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],encounters:[],medications:[],labOrders:[],visitDates:[],activeVisitDate:"",encountersCardItems:[],medicationCardItems:[],labOrderCardItems:[],alertCardItems:[],patientCards:[]}},computed:{patientName:function(){return Object(vt["isEmpty"])(this.patient)?"N/A":this.patient.getFullName()},appHasCustomContent:function(){return!_t.a.isEmpty(this.app.customPatientDashboardContentComponent)},customDashboardContent:function(){return this.app.customPatientDashboardContentComponent},visitDatesTitle:function(){return"".concat(this.visitDates.length," Visits")}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.params,r){n.next=3;break}return n.abrupt("return");case 3:if(t.patientId=parseInt(r.id),!t.patientId){n.next=7;break}return n.next=7,t.init();case 7:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0},activeVisitDate:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.appHasCustomContent){n.next=14;break}return n.next=3,Ro["a"].getEncounters(t.patientId,{date:e});case 3:return t.encounters=n.sent,n.next=6,Wa["a"].getOrderByPatient(t.patientId,{start_date:e});case 6:return t.medications=n.sent,n.next=9,$a["a"].getOrders(t.patientId,{date:e});case 9:t.labOrders=n.sent,t.encountersCardItems=t.getActivitiesCardInfo(t.encounters),t.medicationCardItems=t.getMedicationCardInfo(t.medications),t.labOrderCardItems=t.getLabOrderCardInfo(t.labOrders),t.updateCards();case 14:case"end":return n.stop()}}),n)})))()}},methods:{init:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchPatient(e.patientId);case 2:return e.patient=t.sent,t.prev=3,t.next=6,gr["a"].getProgramInformation(e.patientId);case 6:return e.patientProgram=t.sent,t.next=9,e.getProgramCardInfo(e.patientProgram);case 9:if(t.t0=t.sent,t.t0){t.next=12;break}t.t0=[];case 12:e.programCardInfo=t.t0,t.next=18;break;case 15:t.prev=15,t.t1=t["catch"](3),console.warn(t.t1);case 18:return e.patientCardInfo=e.getPatientCardInfo(e.patient),e.currentDate=ge["a"].currentDisplayDate(),e.sessionDate=e.toDate(gr["a"].getSessionDate()),e.isBDE=gr["a"].isBDE()||!1,t.next=24,e.getNextTask(e.patientId);case 24:return e.nextTask=t.sent,t.next=27,e.getPatientVisitDates(e.patientId);case 27:return e.visitDates=t.sent,t.next=30,e.getPatientAlertCardInfo();case 30:if(t.t2=t.sent,t.t2){t.next=33;break}t.t2=[];case 33:e.alertCardItems=t.t2,e.programID=gr["a"].getProgramID(),e.updateCards();case 36:case"end":return t.stop()}}),t,null,[[3,15]])})))()},toDate:function(e){return ge["a"].toStandardHisDisplayFormat(e)},toTime:function(e){return ge["a"].toStandardHisTimeFormat(e)},updateCards:function(){this.patientCards=[this.activitiesCard(),this.labOrderCard(),this.alertsCard(),this.medicationCard()]},activitiesCard:function(){var e=this;return{label:"Activities",items:this.encountersCardItems,icon:me["J"],color:"#658afb",onClick:function(){return e.openModal(e.encountersCardItems,"Select Activities",lo)}}},labOrderCard:function(){var e=this,t="Lab Orders";return{label:t,color:"#69bb7b",icon:me["J"],items:this.labOrderCardItems,onClick:function(){var t=["Accession#","Specimen","Time"],n=e.labOrders.map((function(t){return[t.accession_number,t.specimen.name,e.toTime(t.order_date)]}));e.openTableModal(t,n,"Lab Orders")}}},alertsCard:function(){return{label:"Alerts",color:"#f95d5d",icon:me["K"],items:this.alertCardItems,onClick:function(){}}},medicationCard:function(){var e=this;return{label:"Medications",color:"#fdb044",icon:me["J"],items:this.medicationCardItems,onClick:function(){var t=["Medication","Start date","End date","Amount given"],n=e.medications.map((function(t){return[t.drug.name,e.toDate(t.order.start_date),e.toDate(t.order.auto_expire_date),t.quantity]}));e.openTableModal(t,n,"Medication History")}}},fetchPatient:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xt["a"].findByID(e);case 2:return n=t.sent,t.abrupt("return",n?new xt["a"](n):{});case 4:case"end":return t.stop()}}),t)})))()},getPatientVisitDates:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,xt["a"].getPatientVisits(e);case 2:return r=n.sent,n.abrupt("return",r.map((function(e){return{label:t.toDate(e),value:e}})));case 4:case"end":return n.stop()}}),n)})))()},getNextTask:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fr["a"].getNextTaskParams(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},onActiveVisitDate:function(e){this.activeVisitDate=e.value},getPatientCardInfo:function(e){var t=e.getBirthdate(),n="M"===e.getGender()?me["v"]:me["L"];return[{label:"Name",value:e.getFullName(),other:{icon:n}},{label:"Birthdate",value:"\n                    ".concat(this.toDate(t),"\n                    (").concat(e.getAge(),") \n                    (").concat(e.getNationalID(),")")},{label:"Current Village",value:e.getCurrentVillage()},{label:"Phone#",value:e.getPhoneNumber()}]},getProgramCardInfo:function(e){if("formatPatientProgramSummary"in this.app)return this.app.formatPatientProgramSummary(e)},getActivitiesCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.type.name,value:t.toTime(e.encounter_datetime),other:{id:e.encounter_id,columns:["Observation","Value","Time"],onVoid:function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ro["a"].voidEncounter(e.encounter_id,r);case 3:return _t.a.remove(t.encountersCardItems,{label:e.type.name}),t.updateCards(),n.next=7,t.getNextTask(t.patientId);case 7:t.nextTask=n.sent,Object(f["d"])("Encounter has been voided!",3e3),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),Object(f["c"])("Unable to void encounter!");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));function r(e){return n.apply(this,arguments)}return r}(),getRows:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],r=e.observations,t.t0=regeneratorRuntime.keys(r);case 3:if((t.t1=t.t0()).done){t.next=14;break}return a=t.t1.value,o=r[a],i=o.concept.concept_names[0].name,t.next=9,Ka["a"].resolvePrimaryValue(o);case 9:c=t.sent,s=ge["a"].toStandardHisTimeFormat(o.obs_datetime),n.push([i,c,s]),t.next=3;break;case 14:return t.abrupt("return",n);case 15:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}}}))},getMedicationCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.drug.name,value:t.toTime(e.order.start_date)}}))},getLabOrderCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.specimen.name,value:t.toTime(e.order_date)}}))},getPatientAlertCardInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!("getPatientDashboardAlerts"in e.app)){t.next=2;break}return t.abrupt("return",e.app.getPatientDashboardAlerts(e.patient));case 2:case"end":return t.stop()}}),t)})))()},changeApp:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fe["a"].selectApplication("PatientDashboard",!0);case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:if(n.programID==e.programID){t.next=9;break}return t.abrupt("return",e.$router.push("/patients/confirm?patient_barcode=".concat(e.patient.getNationalID())));case 9:return t.next=11,e.init();case 11:case"end":return t.stop()}}),t)})))()},showTasks:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"primaryPatientActivites"in e.app&&(n=e.app.primaryPatientActivites,e.openModal(n,"Select Task",to));case 1:case"end":return t.stop()}}),t)})))()},showOptions:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"secondaryPatientActivites"in e.app&&(n=e.app.secondaryPatientActivites,e.openModal(n,"Select Activity",to));case 1:case"end":return t.stop()}}),t)})))()},openModal:function(e,t,n){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=r.toDate(r.activeVisitDate.toString()),a.next=3,d["S"].create({component:n,backdropDismiss:!1,cssClass:"large-modal",componentProps:{items:e,title:"".concat(t,": ").concat(o),taskParams:{patient:r.patient.getObj(),program:r.patientProgram,visitDate:r.activeVisitDate,patientID:r.patientId}}});case 3:i=a.sent,i.present();case 5:case"end":return a.stop()}}),a)})))()},openTableModal:function(e,t,n){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=r.toDate(r.activeVisitDate.toString()),a.next=3,d["S"].create({component:ho,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{columns:e,rows:t,title:"".concat(n,": ").concat(o)}});case 3:i=a.sent,i.present();case 5:case"end":return a.stop()}}),a)})))()},onCancel:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(f["b"])("Are you sure you want to cancel?");case 2:if(n=t.sent,!n){t.next=5;break}return t.abrupt("return",e.$router.push({path:"/"}));case 5:case"end":return t.stop()}}),t)})))()}}});n("207f");const So=z()(Io,[["render",Ia],["__scopeId","data-v-c749d742"]]);var Po=So;function Ao(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return e.fields.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,fields:e.fields,onOnSubmit:e.onSubmit,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnSubmit","onOnFinish"])):Object(r["createCommentVNode"])("",!0)}var Bo=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},methods:{onFinish:function(e){var t=this;he["a"].set(this.property,e.preference.value).then((function(){return Object(f["d"])("Property set")})).then((function(){return t.$router.push("/")}))},getFields:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fields=[{id:"preference",helpText:e.label,type:Yt["b"].TT_YES_NO,preset:e.val,config:{showKeyboard:!1,showSummary:!1},validation:function(e){return $t["a"].required(e)},options:function(){return[{label:e.label,property:e.property,values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]}}];case 1:case"end":return t.stop()}}),t)})))()}},data:function(){return{property:null,fields:[],label:null,val:""}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.query,!r.label||!r.property){n.next=14;break}return n.prev=2,n.next=5,he["a"].get(r.property);case 5:t.val=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](2),console.log("fixed global property not found error");case 11:t.property=r.property,t.label=r.label,t.getFields();case 14:case"end":return n.stop()}}),n,null,[[2,8]])})))()},deep:!0,immediate:!0}}});const Eo=z()(Bo,[["render",Ao]]);var Fo=Eo,Lo=n("f768");function Mo(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var Ho=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{apiDate:"",fields:[]}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Oe["c"].getApiDate();case 2:e.apiDate=t.sent,e.fields=Object(br["b"])({id:"session_date",helpText:"Session Date",required:!0,minDate:function(){return"2000-01-01"},maxDate:function(){return e.apiDate},estimation:{allowUnknown:!1},computeValue:function(e){return e},config:{footerBtns:[{name:"Reset",slot:"end",color:"success",state:{visible:{default:function(){return Oe["c"].isBDE()}}},onClick:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.resetSessionDate();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]}},"");case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.showBdeNotice();case 2:case"end":return t.stop()}}),t)})))()},methods:{showBdeNotice:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Oe["c"].isBDE()){t.next=2;break}return t.abrupt("return");case 2:return n=ge["a"].toStandardHisDisplayFormat(Oe["c"].getCachedApiDate()||""),r=ge["a"].toStandardHisDisplayFormat(Oe["c"].getSessionDate()),t.next=6,Object(Vt["a"])("BDE Notice","The system is currently in Back Data Entry Mode(BDE).                 Do you wish to reset the date to ".concat(n,"?"),"BDE Date: ".concat(r),[{name:"Reset Date",slot:"start",color:"success"},{name:"Keep BDE Date",slot:"end",color:"danger"},{name:"New date",slot:"end"}]);case 6:if(a=t.sent,"Reset Date"!==a){t.next=11;break}return t.next=10,e.resetSessionDate();case 10:return t.abrupt("return",t.sent);case 11:"Keep BDE Date"===a&&e.exitPage();case 12:case"end":return t.stop()}}),t)})))()},resetSessionDate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Oe["c"].resetSessionDate();case 3:Object(f["d"])("Session date has been reset to ".concat(e.formatDate(e.apiDate))),e.exitPage(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(f["e"])(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},exitPage:function(){this.$router.back()},onSubmit:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.session_date,e.prev=1,e.next=4,Oe["c"].setSessionDate(r);case 4:Object(f["d"])("Successfully Back dated to ".concat(n.formatDate(r))),n.exitPage(),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),Object(f["e"])(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},formatDate:function(e){return ge["a"].toStandardHisDisplayFormat(e)}}});const Uo=z()(Ho,[["render",Mo]]);var qo=Uo;function zo(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("report-template"),s=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Go=n("44e3"),Yo=n("4ba2"),Ko=n("9ceb"),Wo=Object(r["defineComponent"])({mixins:[Go["a"]],components:{ReportTemplate:Yo["a"],IonPage:d["A"]},data:function(){return{title:"User system usage",rows:[],columns:[[Ko["a"].thTxt("First name"),Ko["a"].thTxt("Last name"),Ko["a"].thTxt("Role"),Ko["a"].thDate("Registered on"),Ko["a"].thDate("Encounters created")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],e.next=3,yt["a"].getSystemUsageByUsers(t.start_date,t.end_date);case 3:r=e.sent,n.period="".concat(ge["a"].toStandardHisDisplayFormat(t.start_date),"-").concat(ge["a"].toStandardHisDisplayFormat(t.end_date)),n.title="User system usage <b>".concat(n.period,"</b>"),n.setRows(r);case 7:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([Ko["a"].td(e.given_name),Ko["a"].td(e.family_name),Ko["a"].td(e.role),Ko["a"].tdDate(e.registered_on),Ko["a"].td(e.encounters)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const $o=z()(Wo,[["render",zo]]);var Jo=$o;function Xo(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var Qo=n("5713"),Zo=n("b89f"),ei=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{fields:[]}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fields=[{id:"location",helpText:"Please select facility name",type:Yt["b"].TT_SELECT,defaultValue:function(){return Qo["a"].getUserLocation()},validation:function(e){return $t["a"].required(e)},options:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.next=3,Qo["a"].getFacilities({name:n});case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.location_id}})));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),config:{showKeyboard:!0,isFilterDataViaApi:!0}}];case 1:case"end":return t.stop()}}),t)})))()},methods:{onSubmit:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=new Zo["a"],n.prev=1,n.next=4,r.printLocation(e.location.value);case 4:t.$router.push({path:"/"}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()}}});const ti=z()(ei,[["render",Xo]]);var ni=ti;function ri(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnFinish"])}var ai=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},methods:{onFinish:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.use_portal.value,n.next=3,he["a"].set("portal.enabled",r);case 3:if(!t.enablePortal){n.next=9;break}return a=e.ip_address.value,o=e.port.value,i="http://".concat(a,":").concat(o),n.next=9,he["a"].set("portal.properties",i);case 9:t.$router.back();case 10:case"end":return n.stop()}}),n)})))()},getFields:function(){var e=this;this.fields=[{id:"use_portal",helpText:"Enable Portal?",type:Yt["b"].TT_SELECT,requireNext:!0,validation:function(e){return $t["a"].required(e)},options:function(){return[{label:"Yes",value:"true"},{label:"No",value:"false"}]},computedValue:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.enablePortal="true"===n.value;case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"ip_address",helpText:"Enter IP Address",type:Yt["b"].TT_TEXT,condition:function(){return e.enablePortal},validation:function(e){return $t["a"].required(e)||$t["a"].isIPAddress(e)},config:{customKeyboard:[H["c"],[["Delete"]]]}},{id:"port",helpText:"Enter Port",condition:function(){return e.enablePortal},validation:function(e){return $t["a"].required(e)},type:Yt["b"].TT_TEXT,config:{customKeyboard:[H["g"],[["Delete"]]]}}]}},data:function(){return{fields:[],enablePortal:!1}},mounted:function(){this.getFields()}});const oi=z()(ai,[["render",ri]]);var ii=oi;function ci(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}var si=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},methods:{onFinish:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.protocol.value,a=e.ip_address.value,o=e.port.value,p["b"].setLocalStorage(r,a,o),n.next=6,d["Q"].create({message:"Please wait...",backdropDismiss:!1});case 6:return i=n.sent,n.next=9,i.present();case 9:return n.next=11,p["b"].healthCheck();case 11:c=n.sent,d["Q"].dismiss(),c&&200===c.status&&c?t.$router.back():(Object(f["e"])("\n          Unable to connect to: ".concat(r,"://").concat(a,": ").concat(o,"\n        ")),t.clearLocalStorage());case 14:case"end":return n.stop()}}),n)})))()},getFields:function(){this.fields=[{id:"protocol",helpText:"Select Protocol",type:Yt["b"].TT_SELECT,requireNext:!1,validation:function(e){return $t["a"].required(e)},options:function(){return[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}]}},{id:"ip_address",helpText:"Enter IP Address",type:Yt["b"].TT_IP_ADDRESS,validation:function(e){return $t["a"].required(e)||$t["a"].isIPAddress(e)}},{id:"port",helpText:"Enter Port",validation:function(e){return $t["a"].required(e)},type:Yt["b"].TT_TEXT,config:{customKeyboard:[H["g"],[["Delete"]]]}}]},showConfigNotice:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isUsingLocalStorage()){t.next=5;break}return t.next=3,Object(Vt["a"])("Config notice","The system is currently using user specified configurations.                 Do you wish to reset back to server configurations?","",[{name:"Reset configurations",slot:"start",color:"success"},{name:"New configurations",slot:"end"}]);case 3:n=t.sent,"Reset configurations"===n&&(e.clearLocalStorage(),e.$router.back());case 5:case"end":return t.stop()}}),t)})))()},isUsingLocalStorage:function(){return"true"===localStorage.getItem("useLocalStorage")},clearLocalStorage:function(){var e=["useLocalStorage","apiURL","apiPort","apiProtocol"];p["b"].removeOnly(e)}},data:function(){return{fields:[]}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.showConfigNotice();case 2:e.getFields();case 3:case"end":return t.stop()}}),t)})))()}});const ui=z()(si,[["render",ci]]);var li=ui;function di(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.hisFormKey,activeField:e.fieldComponent,skipSummary:!0,fields:e.fields,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onOnFinish:e.onFinish},null,8,["activeField","fields","onOnFinish"])}n("a434");function pi(e){return bi.apply(this,arguments)}function bi(){return bi=Object(l["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Vt["c"])("Are you sure you want to void?","Please specify reason for voiding this encounter",["Mistake/ Wrong Entry","Duplicate","System Error"],[{name:"Cancel",slot:"start"},{name:"Void",color:"danger",slot:"end",role:"action"}]);case 2:if(n=e.sent,!n.selection||"Void"!==n.action){e.next=6;break}return e.next=6,t(n.selection);case 6:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}var fi=n("e86e"),mi=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{hisFormKey:0,patient:{},patientProgram:{},fields:[],fieldComponent:"",activeField:"",activeProgram:{},programSelectionFieldContext:{}}},watch:{fieldComponent:function(e){e&&(this.activeField=e)},activeField:function(e){"program_selection"===e&&(this.hisFormKey+=1)},$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.params,r&&r.patient_id&&(t.patient=r.patient_id,t.patientProgram=new Nt["a"](t.patient),t.fields=[t.getProgramSelectionField(),t.getProgramEnrollmentField()].concat(Object(O["a"])(t.getProgramOutcomeDateFields()),[t.getProgramStateField(),t.getTransferOutFacilityFields()],Object(O["a"])(t.getStateOutcomeDateFields())));case 2:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{onFinish:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=t.activeField,n.next="program_enrollment"===n.t0?3:"program_state"===n.t0?6:9;break;case 3:return n.next=5,t.onEnrollProgram();case 5:return n.abrupt("break",9);case 6:return n.next=8,t.onProgramState(e);case 8:return n.abrupt("break",9);case 9:case"end":return n.stop()}}),n)})))()},patientPrograms:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patientProgram.getPrograms();case 2:return n=t.sent,t.abrupt("return",n.map((function(t){return{label:t.program.name,value:t.program.program_id,other:Object(hr["a"])(Object(hr["a"])({},t),{},{programStates:t.patient_states.map((function(t){return{name:t.name,startDate:ge["a"].toStandardHisDisplayFormat(t.start_date),endDate:t.end_date?ge["a"].toStandardHisDisplayFormat(t.end_date):"N/A",actions:e.getStateActions(t)}}))})}})));case 4:case"end":return t.stop()}}),t)})))()},allPrograms:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.programSelectionFieldContext.listData,t.next=3,gr["a"].getAllPrograms();case 3:return r=t.sent,t.abrupt("return",r.map((function(e){return{label:e.name,value:e.program_id,disabled:Object(vt["find"])(n,{value:e.program_id}),other:Object(hr["a"])({},e)}})));case 5:case"end":return t.stop()}}),t)})))()},programWorkflows:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,gr["a"].getProgramWorkflows(e.patientProgram.getProgramId());case 2:if(n=t.sent,Object(vt["isEmpty"])(n)){t.next=5;break}return t.abrupt("return",n[0].states.map((function(e){return{label:e.name,value:e.program_workflow_state_id,other:Object(hr["a"])({},e)}})));case 5:case"end":return t.stop()}}),t)})))()},getStateActions:function(e){var t=this,n=[{name:"Void",color:"danger",action:function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(r,a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.onVoidState(e.patient_state_id,r,a);case 2:case"end":return n.stop()}}),n)})));function r(e,t){return n.apply(this,arguments)}return r}()}];return"Patient transferred out"===e.name&&n.push({name:"Print",color:"primary",action:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.patientProgram.printTransferout();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),n},onUpdateState:function(){if(-1===this.patientProgram.getProgramId())return Object(f["e"])("Please select a program");this.fieldComponent="program_state"},onProgramState:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.patientProgram.updateState();case 3:if(t.fieldComponent="program_selection",!e.transfer_out_state){n.next=7;break}return n.next=7,t.patientProgram.transferOutEncounter(e.transfer_out_state.other);case 7:Object(f["d"])("State has been updated"),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),Object(f["c"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},onEnrollProgram:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.patientProgram.getProgramId(),-1!==n){t.next=3;break}return t.abrupt("return",Object(f["e"])("Please select a program"));case 3:return t.prev=3,t.next=6,e.patientProgram.enrollProgram();case 6:e.activeProgram=t.sent,e.fieldComponent="program_state",Object(f["d"])("Patient has been enrolled!"),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),e.activeProgram={},Object(f["c"])(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},onVoidState:function(e,t,n){var r=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,pi(function(){var a=Object(l["a"])(regeneratorRuntime.mark((function a(o){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r.patientProgram.setStateId(e),a.next=4,r.patientProgram.voidState(o);case 4:r.patientProgram.setStateId(-1),t.other.programStates.splice(n,1),Object(f["d"])("State has been voided"),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object(f["c"])(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}());case 2:case"end":return a.stop()}}),a)})))()},onVoidProgram:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.patientProgram.getPatientProgramId(),-1!==n){t.next=3;break}return t.abrupt("return",Object(f["e"])("Please select a program"));case 3:return t.next=5,pi(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.patientProgram.voidProgram(n);case 3:r=e.programSelectionFieldContext,a=Object(vt["findIndex"])(r.listData,{value:e.patientProgram.getProgramId()}),r.listData.splice(a),e.patientProgram.setPatientProgramId(-1),e.patientProgram.setProgramId(-1),Object(f["d"])("Program removed"),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0),Object(f["c"])(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},getStateOutcomeDateFields:function(){var e=this;return Object(br["b"])({id:"state_outcome_date",helpText:"State",condition:function(e){return e.program_state},required:!0,minDate:function(){return e.patientProgram.getProgramDate()},maxDate:function(){return gr["a"].getSessionDate()},estimation:{allowUnknown:!0,estimationFieldType:br["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t){return e.patientProgram.setStateDate(t)}},this.patientProgram.getProgramDate()||gr["a"].getSessionDate())},getTransferOutFacilityFields:function(){return{id:"transfer_out_state",helpText:"Please Select facility name",type:Yt["b"].TT_SELECT,validation:function(e){return $t["a"].required(e)},condition:function(e){return"Patient transferred out"===e.program_state.label},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(fi["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}},getProgramStateField:function(){var e=this;return{id:"program_state",helpText:"State",type:Yt["b"].TT_SELECT,validation:function(e){return $t["a"].required(e)},options:function(){return e.programWorkflows()},condition:function(){return"program_state"===e.activeField},unload:function(t){return e.patientProgram.setStateId(t.value)}}},getProgramEnrollmentField:function(){var e=this;return{id:"program_enrollment",helpText:"Please select a programme",type:Yt["b"].TT_SELECT,condition:function(){return"program_enrollment"===e.activeField},unload:function(t){return e.patientProgram.setProgramId(t.value)},options:function(){return e.allPrograms()},validation:function(e){return $t["a"].required(e)},config:{showKeyboard:!0}}},getProgramOutcomeDateFields:function(){var e=this;return Object(br["b"])({id:"program_outcome_date",helpText:"Outcome",required:!0,minDate:function(){return ge["a"].estimateDateFromAge(100)},maxDate:function(){return gr["a"].getSessionDate()},condition:function(){return"program_enrollment"===e.activeField},estimation:{allowUnknown:!0,estimationFieldType:br["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t){return e.patientProgram.setProgramDate(t)}},gr["a"].getSessionDate())},getProgramSelectionField:function(){var e=this,t=function(e){return!Object(vt["isEmpty"])(e.program_selection)};return{id:"program_selection",helpText:"Programs",type:Yt["b"].TT_PROGRAM_SELECTION,onload:function(t){e.activeField="program_selection",e.programSelectionFieldContext=t},onValue:function(t){return t&&(e.activeProgram=t.other,e.patientProgram.setProgramId(t.value),e.patientProgram.setPatientProgramId(t.other.patient_program_id),e.patientProgram.setProgramDate(ge["a"].toStandardHisFormat(t.other.date_enrolled))),!0},validation:function(e){return $t["a"].required(e)},options:function(){return e.patientPrograms()},config:{onVoidState:this.onVoidState,hiddenFooterBtns:["Back","Next","Clear"],footerBtns:[{name:"Void Program",slot:"end",color:"danger",state:{visible:{default:function(e,n){return t(n)},onValue:function(e,n){return t(n)}}},onClick:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onVoidProgram();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Update state",slot:"end",state:{visible:{default:function(e,n){return t(n)},onValue:function(e,n){return t(n)}}},onClick:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onUpdateState();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Enroll",color:"success",slot:"end",onClick:function(){e.fieldComponent="program_enrollment"}}]}}}}});const hi=z()(mi,[["render",di]]);var gi=hi;function Oi(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.hisFormKey,fields:e.fields,activeField:e.fieldComponent,skipSummary:!0,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onOnFinish:e.onFinish},null,8,["fields","activeField","onOnFinish"])}n("a623"),n("3ca3");var vi=n("cc6f"),_i=function(e){Object(B["a"])(n,e);var t=Object(E["a"])(n);function n(e){var r;return Object(A["a"])(this,n),r=t.call(this,e,57),r.patientID=e,r.testTypeID=-1,r.resultDate="",r.testID=-1,r}return Object(P["a"])(n,[{key:"createLabResult",value:function(e){return vi["a"].postJson("lab/tests/".concat(this.testID,"/results"),{encounter_id:this.encounterID,date:this.resultDate,measures:e})}},{key:"getTestID",value:function(){return this.testID}},{key:"getTestTypeID",value:function(){return this.testTypeID}},{key:"setTestTypeID",value:function(e){this.testTypeID=e}},{key:"setResultDate",value:function(e){this.resultDate=e}},{key:"setTestID",value:function(e){this.testID=e}},{key:"getTestsWithoutResults",value:function(){return $a["a"].getOrders(this.patientID,{status:"drawn"})}},{key:"getTestIndicators",value:function(){return $a["a"].getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})}}]),n}(vi["a"]),ji=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{fieldComponent:"",labResult:{},hisFormKey:0,patient:{},fields:[],selectedTest:{},testOptions:[],testIndicators:[]}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.params,!r||!r.patient_id){n.next=7;break}return t.patient=r.patient_id,t.labResult=new _i(t.patient),n.next=6,t.initData();case 6:t.fields=t.getFields();case 7:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{onFinish:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=Object.values(t).filter((function(e){return"result_indicator"===e.tag&&e.measures})).map((function(e){return e.measures})),n.labResult.setTestID(n.selectedTest.value),n.labResult.setResultDate(t.result_date),e.next=6,n.labResult.createEncounter();case 6:return e.next=8,n.labResult.createLabResult(r);case 8:return n.testOptions=[],n.selectedTest={},n.testIndicators=[],e.next=13,n.initData();case 13:n.hisFormKey=Math.floor(5e3*Math.random()),Object(f["d"])("Lab result saved!"),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](0),Object(f["c"])(e.t0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))()},generateTestIndicatorsFields:function(){var e=this,t=[];return this.testIndicators.forEach((function(n){t=[].concat(Object(O["a"])(t),Object(O["a"])(e.buildTestIndicatorFields(n.indicatorId,n.indicatorName,n.testId)))})),t},alphaValueIsValid:function(e){try{return!!e.match(/^(>|<|=)(.*)/)}catch(t){return!1}},numericValueIsValid:function(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}},buildTestIndicatorFields:function(e,t,n){var r=this,a=function(e){return[r.selectedTest.value===n,!!Object(vt["find"])(e.result_indicators,{label:t})].every(Boolean)},o=function(t,n){var r=n["type_".concat(e)].value,a=t.value.toString(),o=a.charAt(0),i="numeric"===r?parseInt(a.substring(1)):a.substring(1),c=n["result_indicators"].filter((function(t){return t.value===e}))[0];return{tag:"result_indicator",measures:{indicator:{concept_id:c.value},value:i,value_modifier:o,value_type:r},result:i,modifier:o,test:c.label}};return[{id:"type_".concat(e),helpText:"Result type (".concat(t,")"),type:Yt["b"].TT_SELECT,group:"test_indicator",condition:a,appearInSummary:function(){return!1},validation:function(e){return $t["a"].required(e)},options:function(){return[{label:"Numeric (numbers only)",value:"numeric"},{label:"Alphanumeric(text/text and numbers)",value:"text"}]}},{id:"num_".concat(e),helpText:"Test Result (".concat(t,")"),type:Yt["b"].TT_TEXT,group:"test_indicator",computedValue:o,onValue:function(e){return!(e&&e.value&&!r.numericValueIsValid(e.value.toString()))||(Object(f["e"])("You must enter a modifer and numbers only. i.e =90 / >19 / < 750"),!1)},validation:function(e){return $t["a"].required(e)},condition:function(t){return a(t)&&"numeric"===t["type_".concat(e)].value},config:{customKeyboard:[[["1","2","3"],["4","5","6","=","<",">"],["7","8","9","."],["","0",""]],[["Delete"]]]}},{id:"alpha_".concat(e),helpText:"Test Result (".concat(t,")"),type:Yt["b"].TT_TEXT,group:"test_indicator",onValue:function(e){return!(e&&e.value&&!r.alphaValueIsValid(e.value.toString()))||(Object(f["e"])("You must enter a modifier plus result (for example =LDL)"),!1)},computedValue:o,validation:function(e){return $t["a"].required(e)},condition:function(t){return a(t)&&"text"===t["type_".concat(e)].value}}]},initData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.labResult.getTestsWithoutResults();case 2:n=t.sent,t.t0=regeneratorRuntime.keys(n);case 4:if((t.t1=t.t0()).done){t.next=19;break}r=t.t1.value,a=n[r],o=regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=a.tests[n],Object(vt["isEmpty"])(r.result)){t.next=3;break}return t.abrupt("return","continue");case 3:return e.labResult.setTestTypeID(r.concept_id),t.next=6,e.labResult.getTestIndicators();case 6:o=t.sent,i=o.map((function(e){return{testId:r.id,indicatorName:e.name,indicatorId:e.concept_id}})),e.testIndicators=[].concat(Object(O["a"])(e.testIndicators),Object(O["a"])(i)),e.testOptions.push({label:r.name,value:r.id,other:{accession:a.accession_number,specimen:a.specimen.name,test:r.name,orderDate:a.order_date,testIndicators:i}});case 10:case"end":return t.stop()}}),t)})),t.t2=regeneratorRuntime.keys(a.tests);case 9:if((t.t3=t.t2()).done){t.next=17;break}return i=t.t3.value,t.delegateYield(o(i),"t4",12);case 12:if(c=t.t4,"continue"!==c){t.next=15;break}return t.abrupt("continue",9);case 15:t.next=9;break;case 17:t.next=4;break;case 19:case"end":return t.stop()}}),t)})))()},getFields:function(){var e=this;return[{id:"test_type",helpText:"Tests without results",type:Yt["b"].TT_TABLE_VIEWER,options:function(){var t=e.testOptions.map((function(t){return[t.other.accession,t.other.specimen,t.other.test,ge["a"].toStandardHisDisplayFormat(t.other.orderDate),{type:"button",name:"Select",action:function(){e.selectedTest=t,e.$nextTick((function(){return e.fieldComponent="year_result_date"}))}}]}));return[{label:"",value:"",other:{rows:t,columns:["Acession#","Specimen","Test","Order date"]}}]},requireNext:!1,validation:function(e){return $t["a"].required(e)},config:{hiddenFooterBtns:["Clear","Next"]}}].concat(Object(O["a"])(Object(br["b"])({id:"result_date",helpText:"Result",required:!0,estimation:{allowUnknown:!1},minDate:function(){return ge["a"].toStandardHisFormat(e.selectedTest.other.orderDate)},maxDate:function(){return Oe["c"].getSessionDate()},computeValue:function(e){return e}})),[{id:"result_indicators",helpText:"Select test result indicators",type:Yt["b"].TT_MULTIPLE_SELECT,validation:function(e){return $t["a"].required(e)},options:function(){return e.selectedTest.other.testIndicators.map((function(e){return{label:e.indicatorName,value:e.indicatorId}}))}}],Object(O["a"])(this.generateTestIndicatorsFields()),[{id:"entry_confirmation",helpText:"Confirm entry",type:Yt["b"].TT_TABLE_VIEWER,options:function(e,t){var n=Object.values(t).filter((function(e){return"result_indicator"===e.tag})).map((function(e){return[e.test,e.modifier,e.result]}));return[{label:"",value:"",other:{rows:n,columns:["Test","Modifier","Result"]}}]}}])}}});const wi=z()(ji,[["render",Oi]]);var yi=wi;function ki(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.formKey,fields:e.fields,skipSummary:!0,activeField:e.fieldComponent,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onFinishAction:e.onFinish},null,8,["fields","activeField","onFinishAction"])}var xi=Object(r["defineComponent"])({components:{HisStandardForm:Wt["a"]},data:function(){return{formKey:0,fields:[],activity:"",presets:{},userData:{},fieldComponent:"",isSessionPasswordChange:!1,activeField:"",form:{}}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(r=e.query,["edit","add"].includes(r.activity)?t.activity=r.activity:t.activity="add",!r.update_password){n.next=13;break}return n.t0=t,n.next=8,yt["a"].getCurrentUser();case 8:n.t1=n.sent,t.userData=n.t0.toUserData.call(n.t0,n.t1),t.isSessionPasswordChange=!0,t.activeField="new_password",t.fieldComponent=t.activeField;case 13:t.fields=t.getFields();case 14:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{onFinish:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=n.activity,e.next="add"===e.t0?3:"edit"===e.t0?7:11;break;case 3:return n.activity="edit",e.next=6,n.create(t);case 6:return e.abrupt("break",11);case 7:return e.next=9,n.update(t);case 9:return n.isSessionPasswordChange&&n.$router.push("/"),e.abrupt("break",11);case 11:n.formKey+=1,n.activeField="user_info",n.$nextTick((function(){return n.fieldComponent=n.activeField}));case 14:case"end":return e.stop()}}),e)})))()},create:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,yt["a"].createUser(e);case 2:if(r=n.sent,a=r.user,!a){n.next=6;break}return n.abrupt("return",t.userData=t.toUserData(a));case 6:throw"Unable to create new user, Possibly the user already exists or incorrect info was entered";case 7:case"end":return n.stop()}}),n)})))()},update:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,yt["a"].updateUser(t.userData.id,e);case 2:if(r=n.sent,!r){n.next=5;break}return n.abrupt("return",t.userData=t.toUserData(r));case 5:throw"Unable to update user, possibly server error or incorrect information entered";case 6:case"end":return n.stop()}}),n)})))()},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},getRoles:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt["a"].getAllRoles();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.role,value:e.role,other:e}})));case 4:case"end":return e.stop()}}),e)})))()},toUserData:function(e){var t=e.person.names[0];return{id:e.user_id,given_name:t.given_name,family_name:t.family_name,username:e.username,role:e.roles.map((function(e){return e.role})).join(", "),created:ge["a"].toStandardHisDisplayFormat(e.date_created),status:e.deactivated_on?"Inactive":"Active"}},editConditionCheck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return"edit"!==this.activity||e.includes(this.activeField)},toLcase:function(e){return e.value.toString().toLowerCase()},getFields:function(){var e=this;return[{id:"select_user",helpText:"Select Username",type:Yt["b"].TT_SELECT,condition:function(){return"edit"===e.activity&&yt["a"].isAdmin()},validation:function(e){return $t["a"].required(e)},unload:function(t){var n=t.other;return e.userData=e.toUserData(n)},options:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,yt["a"].getAllUsers();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.username,value:e.user_id,other:e}})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),config:{showKeyboard:!0}},{id:"user_info",helpText:"User information",type:Yt["b"].TT_TABLE_VIEWER,condition:function(){return"edit"===e.activity&&yt["a"].isAdmin()},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n,r,a){var o,i,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=4,i=["Attributes","Values","Actions"],c=function t(n){return{name:"Active"===n?"Deactivate":"Activate",type:"button",action:function(){var r=Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,"Active"!==n){r.next=6;break}return r.next=4,yt["a"].deactivateUser(e.userData.id);case 4:e.userData.status="Inactive",a.rows[o]=["Status","Inactive",t("Inactive")],Object(f["d"])("User has been deactivated",400);case 6:if("Inactive"!==n){r.next=11;break}return r.next=9,yt["a"].activateUser(e.userData.id);case 9:e.userData.status="Active",a.rows[o]=["Status","Active",t("Active")],Object(f["d"])("User has been activated",400);case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),Object(f["e"])(r.t0);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})));function i(){return r.apply(this,arguments)}return i}()}},s=function(t,n){return{name:t,type:"button",action:function(){e.activeField=n,e.fieldComponent=e.activeField}}},u=[["Username",e.userData.username,""],["Role",e.userData.role,s("Update role","roles")],["Name","".concat(e.userData.given_name," ").concat(e.userData.family_name),s("Edit usernames","given_name")],["Password","*******",s("Change password","new_password")],["Status",e.userData.status,c(e.userData.status)],["Date created",e.userData.created,""]],t.abrupt("return",[{label:"",value:"",other:{columns:i,rows:u}}]);case 6:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"],overrideDefaultFooterBtns:{nextBtn:{name:"Finish",onClick:function(){return e.$router.back()}}}}},{id:"given_name",helpText:"First name",type:Yt["b"].TT_TEXT,computedValue:function(e){return e.value},defaultValue:function(){return e.userData.given_name},condition:function(){return e.editConditionCheck(["given_name"])&&yt["a"].isAdmin()},validation:function(e){return $t["a"].isName(e)},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.given_name&&null!==n.given_name.value){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Kt["a"].searchGivenName(n.given_name.value);case 4:return r=t.sent,t.abrupt("return",e.mapToOption(r));case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"family_name",helpText:"Last name",type:Yt["b"].TT_TEXT,computedValue:function(e){return e.value},defaultValue:function(){return e.userData.family_name},validation:function(e){return $t["a"].isName(e)},condition:function(){return e.editConditionCheck(["given_name"])&&yt["a"].isAdmin()},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.family_name&&null!==n.family_name.value){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Kt["a"].searchFamilyName(n.family_name.value);case 4:return r=t.sent,t.abrupt("return",e.mapToOption(r));case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"roles",helpText:"Role",type:Yt["b"].TT_SELECT,computedValue:function(e){return[e.value]},condition:function(){return e.editConditionCheck(["roles"])&&yt["a"].isAdmin()},validation:function(e){return $t["a"].required(e)},options:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getRoles();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{showKeyboard:!0}},{id:"must_append_roles",helpText:"Would you like to append role?",type:Yt["b"].TT_SELECT,computedValue:function(e){return"Yes"===e.label},condition:function(){return"edit"===e.activity&&e.editConditionCheck(["roles"])&&yt["a"].isAdmin()},validation:function(e){return $t["a"].required(e)},options:function(){return[{label:"Yes",value:"true"},{label:"No",value:"false"}]}},{id:"username",helpText:"Username",type:Yt["b"].TT_TEXT,condition:function(){return e.editConditionCheck(["nothing to see here"])&&yt["a"].isAdmin()},computedValue:function(t){return e.toLcase(t)},validation:function(e){return $t["a"].validateSeries([function(){return $t["a"].required(e)},function(){return $t["a"].hasLengthRangeOf(e,4,15)}])}},{id:"new_password",proxyID:"password",helpText:"New Password",type:Yt["b"].TT_TEXT,computedValue:function(t){return e.toLcase(t)},condition:function(){return e.editConditionCheck(["new_password"])},validation:function(e){return $t["a"].validateSeries([function(){return $t["a"].required(e)},function(){return $t["a"].hasLengthRangeOf(e,4,15)}])},config:{inputType:"password"}},{id:"verify_password",proxyID:"password",helpText:"Confirm Password",type:Yt["b"].TT_TEXT,computedValue:function(t){return e.toLcase(t)},condition:function(){return e.editConditionCheck(["new_password"])},validation:function(t,n){return $t["a"].validateSeries([function(){return $t["a"].required(t)},function(){if(e.toLcase(n.verify_password)!=e.toLcase(n.new_password))return["New password does not match current password"]}])},config:{inputType:"password"}}]}}});const Ni=z()(xi,[["render",ki]]);var Vi=Ni,Ci=Object(r["withScopeId"])("data-v-fa5f9e34");Object(r["pushScopeId"])("data-v-fa5f9e34");var Di=Object(r["createVNode"])("h2",null,"Merge Clients",-1),Ti={class:"result-section"},Ri={class:"result-section"},Ii=Object(r["createTextVNode"])(" Cancel "),Si=Object(r["createTextVNode"])(" Merge ");Object(r["popScopeId"])();var Pi=Ci((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("ion-input"),p=Object(r["resolveComponent"])("patient-card"),b=Object(r["resolveComponent"])("view-port"),f=Object(r["resolveComponent"])("his-keyboard"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer"),O=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(O,null,{default:Ci((function(){return[Object(r["createVNode"])(l,null,{default:Ci((function(){return[Object(r["createVNode"])(u,null,{default:Ci((function(){return[Object(r["createVNode"])(s,null,{default:Ci((function(){return[Object(r["createVNode"])(c,null,{default:Ci((function(){return[Di]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Ci((function(){return[Object(r["createVNode"])(b,null,{default:Ci((function(){return[Object(r["createVNode"])(s,null,{default:Ci((function(){return[Object(r["createVNode"])(c,null,{default:Ci((function(){return[Object(r["createVNode"])(d,{onClick:t[1]||(t[1]=function(t){return e.inputFocus="inputA"}),placeholder:"Primary patient",class:["input_display",{"input-focused":"inputA"===e.inputFocus}],modelValue:e.inputA,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.inputA=t})},null,8,["modelValue","class"])]})),_:1}),Object(r["createVNode"])(c,null,{default:Ci((function(){return[Object(r["createVNode"])(d,{onClick:t[3]||(t[3]=function(t){return e.inputFocus="inputB"}),class:["input_display",{"input-focused":"inputB"===e.inputFocus}],placeholder:"Secondary patient",modelValue:e.inputB,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.inputB=t})},null,8,["modelValue","class"])]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:Ci((function(){return[Object(r["createVNode"])(c,null,{default:Ci((function(){return[Object(r["createVNode"])("div",Ti,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.inputASearchResults,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{onClick:function(n){return e.onPrimaryPatient(t)},key:n,patient:t,isActive:e.activeInputACard.index===n},null,8,["onClick","patient","isActive"])})),128))])]})),_:1}),Object(r["createVNode"])(c,null,{default:Ci((function(){return[Object(r["createVNode"])("div",Ri,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.inputBSearchResults,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{onClick:function(n){return e.onSecondaryPatient(t)},key:n,patient:t,isActive:t.isChecked},null,8,["onClick","patient","isActive"])})),128))])]})),_:1})]})),_:1})]})),_:1}),e.inputFocus?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(g,null,{default:Ci((function(){return[Object(r["createVNode"])(u,{color:"dark"},{default:Ci((function(){return[Object(r["createVNode"])(h,{color:"danger",size:"large","router-link":"/"},{default:Ci((function(){return[Ii]})),_:1}),e.canMerge?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,color:"success",size:"large",slot:"end",onClick:e.onMerge},{default:Ci((function(){return[Si]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),Ai=(n("5319"),n("1276"),n("3835")),Bi=n("0a79"),Ei=n("2345"),Fi=Object(r["withScopeId"])("data-v-21a49c7f");Object(r["pushScopeId"])("data-v-21a49c7f");var Li=Object(r["createTextVNode"])(" Arv# : "),Mi=Object(r["createTextVNode"])(" Name : "),Hi=Object(r["createTextVNode"])(" Birth date : "),Ui=Object(r["createTextVNode"])(" Gender : "),qi=Object(r["createTextVNode"])(" Home District : "),zi=Object(r["createTextVNode"])(" Home Village : "),Gi=Object(r["createTextVNode"])(" Current District : "),Yi=Object(r["createTextVNode"])(" Current Village : ");Object(r["popScopeId"])();var Ki=Fi((function(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:["his-card clickable",e.stateClass]},[Object(r["createVNode"])("li",null,[Object(r["createVNode"])("ul",null,[Li,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.arv),1)]),Object(r["createVNode"])("ul",null,[Mi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.name),1)]),Object(r["createVNode"])("ul",null,[Hi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.birthdate),1)]),Object(r["createVNode"])("ul",null,[Ui,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.gender),1)]),Object(r["createVNode"])("ul",null,[qi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.homeDistrict),1)]),Object(r["createVNode"])("ul",null,[zi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.homeVillage),1)]),Object(r["createVNode"])("ul",null,[Gi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.currentDistrict),1)]),Object(r["createVNode"])("ul",null,[Yi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.currentVillage),1)])])],2)})),Wi=Object(r["defineComponent"])({props:{patient:{type:Object,required:!0},isActive:{type:Boolean}},computed:{stateClass:function(){return{"active-card-color":this.isActive,"inactive-card-color":!this.isActive}}}});n("03c5");const $i=z()(Wi,[["render",Ki],["__scopeId","data-v-21a49c7f"]]);var Ji=$i,Xi=Object(r["defineComponent"])({components:{PatientCard:Ji,IonPage:d["A"],IonInput:d["s"],IonButton:d["d"],IonContent:d["m"],IonRow:d["E"],IonCol:d["l"],IonFooter:d["n"],IonHeader:d["p"],ViewPort:Bi["a"],HisKeyboard:Mt["a"]},data:function(){return{inputA:"",inputB:"",inputFocus:"inputA",inputASearchResults:[],inputBSearchResults:[],activeInputACard:{},keyboard:[H["c"],[["","Hide"],["Space","Delete"],["inputA","inputB"],["Search","Clear"]]]}},computed:{canMerge:function(){return!Object(vt["isEmpty"])(this.activeInputACard)&&!Object(vt["isEmpty"])(this.inputBSearchResults.filter((function(e){return e.isChecked})))}},methods:{onMerge:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={primary:{patient_id:e.activeInputACard.id,doc_id:null},secondary:e.inputBSearchResults.map((function(e){return{patient_id:e.id,doc_id:null}}))},t.next=4,xt["a"].mergePatients(n);case 4:return r=new Dt["a"](e.activeInputACard.id),t.next=7,r.printNidLbl();case 7:return e.inputBSearchResults=e.inputBSearchResults.filter((function(e){return!e.isChecked})),t.next=10,Object(f["b"])("Do you want to go to patient encounter?");case 10:if(a=t.sent,!a){t.next=16;break}return t.next=14,fr["a"].getNextTaskParams(e.activeInputACard.id);case 14:o=t.sent,o.name?e.$router.push(o):e.$router.push("/patient/dashboard/".concat(e.activeInputACard.id));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),Object(f["c"])(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))()},onPrimaryPatient:function(e){var t=this;this.inputBSearchResults.forEach((function(n){n.id===e.id&&(t.inputBSearchResults[n.index].isChecked=!1)})),this.activeInputACard=e},onSecondaryPatient:function(e){if(e.isChecked)return this.inputBSearchResults[e.index].isChecked=!1;Object(vt["isEmpty"])(this.activeInputACard)||e.id==this.activeInputACard.id||(this.inputBSearchResults[e.index].isChecked=!0)},searchPatient:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.split(" "),r=Object(Ai["a"])(n,2),a=r[0],o=r[1],t.next=3,xt["a"].search({given_name:a,family_name:o});case 3:return i=t.sent,t.abrupt("return",i.map((function(e,t){var n=new xt["a"](e);return{index:t,id:n.getID(),name:n.getFullName(),birthdate:n.getBirthdate(),arvNum:n.getArvNumber(),gender:n.getGender(),homeDistrict:n.getHomeDistrict(),homeVillage:n.getHomeVillage(),currentDistrict:n.getCurrentDistrict(),currentVillage:n.getCurrentVillage(),isChecked:!1}})));case 5:case"end":return t.stop()}}),t)})))()},keypress:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.inputFocus){n.next=2;break}return n.abrupt("return");case 2:if(r=Object(Ei["a"])(e,t[t.inputFocus]),!r.match(/hide/i)){n.next=7;break}t.inputFocus="",n.next=23;break;case 7:if(!r.match(/search/i)){n.next=22;break}if(r=r.replace("Search",""),"inputA"!==t.inputFocus){n.next=16;break}return n.next=12,t.searchPatient(r);case 12:t.inputASearchResults=n.sent,t.activeInputACard={},n.next=19;break;case 16:return n.next=18,t.searchPatient(r);case 18:t.inputBSearchResults=n.sent;case 19:t.inputFocus="",n.next=23;break;case 22:r.match(/inputA/i)?t.inputFocus="inputA":r.match(/inputB/)?t.inputFocus="inputB":r.match(/clear/i)?(t[t.inputFocus]="","inputA"===t.inputFocus?t.inputASearchResults=[]:t.inputBSearchResults=[]):t[t.inputFocus]=r;case 23:case"end":return n.stop()}}),n)})))()}}});n("e168");const Qi=z()(Xi,[["render",Pi],["__scopeId","data-v-fa5f9e34"]]);var Zi=Qi,ec=Object(r["createVNode"])("br",null,null,-1),tc=Object(r["createTextVNode"])(" Current District: "),nc=Object(r["createTextVNode"])(" Home Village: "),rc=Object(r["createTextVNode"])(" Re-Assign "),ac=Object(r["createTextVNode"])(" Update Missing Data "),oc=Object(r["createTextVNode"])(" Cancel "),ic=Object(r["createTextVNode"])(" Clear "),cc=Object(r["createTextVNode"])(" Next ");function sc(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-checkbox"),d=Object(r["resolveComponent"])("ion-label"),p=Object(r["resolveComponent"])("ion-button"),b=Object(r["resolveComponent"])("ion-item"),f=Object(r["resolveComponent"])("ion-list"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-footer"),g=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:n},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{slot:"start",checked:t.isChecked,onIonChange:function(n){return e.check(n,t)}},null,8,["checked","onIonChange"]),Object(r["createVNode"])(d,{color:t.isComplete?"":"danger"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name)+" ("+Object(r["toDisplayString"])(t.gender)+") "+Object(r["toDisplayString"])(t.birthdate)+" ",1),ec,tc,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.curDistrict||"Unknown"),1),nc,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.homeVillage||"Unknown"),1)]})),_:2},1032,["color"]),Object(r["createVNode"])(p,{onClick:function(n){return e.reassignIdentifier(t)}},{default:Object(r["withCtx"])((function(){return[rc]})),_:1},8,["onClick"]),t.isComplete?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,color:"warning","router-link":"/patient/registration?edit_person=".concat(t.patientID)},{default:Object(r["withCtx"])((function(){return[ac]})),_:2},1032,["router-link"]))]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{color:"dark"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{"router-link":"/",color:"danger",slot:"start",size:"large"},{default:Object(r["withCtx"])((function(){return[oc]})),_:1}),e.itemsChecked.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,onClick:e.clear,color:"warning",slot:"end",size:"large"},{default:Object(r["withCtx"])((function(){return[ic]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),e.itemsChecked.length>1?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:1,onClick:t[1]||(t[1]=function(t){return e.onAction(e.mergeSelected,"merge")}),color:"primary",size:"large",slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Merge ("+Object(r["toDisplayString"])(e.itemsChecked.length)+") ",1)]})),_:1})):Object(r["createCommentVNode"])("",!0),e.items.length<=1?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:2,color:"success",size:"large",slot:"end"},{default:Object(r["withCtx"])((function(){return[cc]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}var uc=Object(r["defineComponent"])({components:{IonPage:d["A"],IonButton:d["d"],IonList:d["v"],IonItem:d["t"],IonToolbar:d["K"],IonHeader:d["p"],IonTitle:d["J"],IonContent:d["m"],IonFooter:d["n"]},data:function(){return{dde:{},items:[],title:""}},watch:{$route:{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.params,!r){n.next=5;break}return t.title="Duplicates for NPID (".concat(r.npid,")"),n.next=5,t.init(r.npid);case 5:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},computed:{itemsChecked:function(){return this.items.filter((function(e){return e.isChecked}))}},methods:{check:function(e,t){t.isChecked=e.detail.checked},toDate:function(e){return ge["a"].toStandardHisDisplayFormat(e)},onAction:function(e){var t=arguments;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"proceed",n.next=3,Object(f["b"])("\n                Are you sure you want to ".concat(r,"?\n            "));case 3:if(a=n.sent,!a){n.next=13;break}return n.prev=5,n.next=8,e();case 8:n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](5),Object(f["e"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[5,10]])})))()},mergeSelected:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dde.postMerge(e.itemsChecked);case 2:if(n=t.sent,!n){t.next=7;break}return t.next=6,e.dde.printNpid(e.dde.patientID);case 6:Object(wt["a"])(e.dde.patientID,e.$router);case 7:case"end":return t.stop()}}),t)})))()},reassignIdentifier:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.isComplete){n.next=7;break}return n.next=3,Object(f["b"])("Do you want to update missing information?","Incomplete Demographics");case 3:r=n.sent,r&&(a="edit_person=".concat(e.patientID),a+="&dde_reassign=true",a+="&doc_id=".concat(e.docID),t.$router.push("/patient/registration?".concat(a))),n.next=8;break;case 7:t.onAction(Object(l["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.dde.reassignNpid(e.docID,e.patientID);case 2:if(r=n.sent,!r){n.next=8;break}return n.next=6,t.dde.printNpid(e.patientID);case 6:return n.next=8,Object(wt["a"])(e.patientID,t.$router);case 8:case"end":return n.stop()}}),n)}))),"Reassign");case 8:case"end":return n.stop()}}),n)})))()},buildItems:function(e){var t=this;return e.map((function(e){try{var n=new xt["a"](e);return{isChecked:!1,patientID:n.getID(),name:n.getFullName(),gender:n.getGender(),birthdate:t.toDate(n.getBirthdate()),curDistrict:n.getCurrentDistrict(),homeVillage:n.getHomeVillage(),docID:n.getPatientIdentifier(27),isComplete:n.patientIsComplete()}}catch(r){Object(f["c"])("An error has occured while building data"),console.error(r)}return{isChecked:!1,patientID:"N/A",name:"N/A",gender:"N/A",birthdate:"N/A",curDistrict:"N/A",homeVillage:"N/A",docID:"N/A",isComplete:!1}}))},clear:function(){this.items=this.items.map((function(e){return e.isChecked=!1,e}))},init:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.dde=new Tt["a"],n.next=3,t.dde.findNpid(e);case 3:r=n.sent,a=r.locals,o=r.remotes,t.items=[].concat(Object(O["a"])(t.buildItems(a)),Object(O["a"])(t.buildItems(o)));case 7:case"end":return n.stop()}}),n)})))()}}});const lc=z()(uc,[["render",sc]]);var dc=lc,pc=function(){var e=[];return Lo["a"].forEach((function(t){t.appRoutes&&(e=[].concat(Object(O["a"])(e),Object(O["a"])(t.appRoutes)))})),e}(),bc=[].concat(Object(O["a"])(pc),[{path:"/",redirect:"/home"},{path:"/npid/duplicates/:npid",name:"NPID Duplicates",component:dc},{path:"/home",name:"Home",component:Ee,beforeEnter:function(e,t,n){sessionStorage.getItem("apiKey")||n("/login"),n()}},{name:"View Duplicates",path:"/view_duplicates",component:function(){return n.e("chunk-2d0e1dc0").then(n.bind(null,"7bdc"))}},{name:"Update site location",path:"/location/update/site",component:function(){return n.e("chunk-2d0a4d35").then(n.bind(null,"07a9"))}},{name:"Update site code",path:"/location/update/code",component:function(){return n.e("chunk-2d0b347d").then(n.bind(null,"2867"))}},{path:"/login",name:"Login",component:J},{path:"/search_patient",name:"Search Patient",component:Qt},{path:"/session/date",name:"Session Date",component:qo},{path:"/users/usage",name:"User system usage",component:Jo},{path:"/print/location",name:"Print Location",component:ni},{path:"/select_hc_location",name:"HC Location",component:zt},{path:"/search_client",name:"Search client",component:dr},{path:"/patient/dashboard/:id",name:"Patient Dashboard",component:Po},{path:"/patient/registration",name:"Patient Registration",component:Nr},{path:"/guardian/registration/:patient_id",name:"Guardian Registration",component:Rr},{path:"/example",name:"Example",component:ea},{path:"/patient/search_results",name:"Patient Search results",component:Wr},{path:"/patients/search/id",name:"ID Search",component:aa},{path:"/patients/confirm",name:"Patient confirmation",component:St},{path:"/patients/merge",name:"Patient Merging",component:Zi},{path:"/patient/programs/:patient_id",name:"Program(s)",component:gi},{path:"/preferences",name:"Preferences",component:Fo},{path:"/user",name:"User",component:Vi},{path:"/settings/host",name:"API host settings",component:li},{path:"/lab/results/:patient_id",name:"Lab Results",component:yi},{path:"/portal/config",name:"Portal settings",component:ii}]),fc=Object(v["a"])({history:Object(v["b"])("/"),routes:bc}),mc=fc,hc=Object(r["defineComponent"])({name:"App",components:{IonApp:d["a"],IonButton:d["d"],IonRouterOutlet:d["D"]},setup:function(){var e=Object(r["ref"])(!0),t=Object(m["e"])(),n=Object(r["ref"])(!0);function a(){location.reload()}return g.a.configure({easing:"ease",speed:870,trickleSpeed:1}),setInterval((function(){e.value||"API host settings"==t.name||p["b"].healthCheck()}),8e3),Object(r["watch"])(t,(function(e){return n.value="API host settings"!=e.name}),{immediate:!0}),b["a"].on(p["a"].BEFORE_API_REQUEST,(function(){return g.a.start()})),b["a"].on(p["a"].AFTER_API_REQUEST,function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(r){var o,i,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.value){n.next=6;break}return e.value=!0,n.next=4,Object(f["b"])("Do you want to refresh the page?","API connection is back");case 4:o=n.sent,o&&a();case 6:if(!r||401!==r.status||"Login"==t.name){n.next=10;break}mc.push("/login"),n.next=17;break;case 10:if(!(r.status>=500)){n.next=17;break}return n.next=13,r.json();case 13:i=n.sent,c=i.error,s=i.exception,Object(f["c"])("".concat(c," - ").concat(s));case 17:g.a.done();case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),b["a"].on(p["a"].ON_API_CRASH,(function(){e.value&&(Object(f["e"])("Unable to reach api. You can fix the error below"),e.value=!1),g.a.done()})),{apiOk:e,refresh:a,notConfigPage:n}}});n("8adb");const gc=z()(hc,[["render",u],["__scopeId","data-v-06d59bdf"]]);var Oc=gc,vc=n("ae27"),_c=n.n(vc),jc=n("5a0c"),wc=n.n(jc),yc=(n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("1eb2"),n("2fdd"),n("6460"),n("8c28"),Object(r["createApp"])(Oc).use(d["L"]).use(mc).use(_c.a));yc.config.globalProperties.$dayjs=wc.a,mc.isReady().then((function(){yc.mount("#app")}))},cf85:function(e,t,n){},d0f3:function(e,t,n){},d10e:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this),r.person=e,r}return Object(o["a"])(n,[{key:"create",value:function(){return l["c"].postJson("/people",this.person)}},{key:"update",value:function(e){return l["c"].putJson("people/".concat(e),Object(r["a"])(Object(r["a"])({},this.person),{},{program_id:l["c"].getProgramID()}))}}],[{key:"searchFamilyName",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/search/family_name",{search_string:e})}},{key:"searchGivenName",value:function(e){return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/search/given_name",{search_string:e})}}]),n}(l["c"])},d249:function(e,t,n){"use strict";n("38d2")},d367:function(e,t,n){},d42f:function(e,t,n){"use strict";n("68ed")},d474:function(e,t,n){"use strict";n("5385")},d65a:function(e,t,n){"use strict";n("2c0f")},d683:function(e,t,n){},d6aa:function(e,t,n){"use strict";var r=n("7a23"),a={class:"report-content"},o=Object(r["createTextVNode"])("Date Generated: "),i=Object(r["createTextVNode"])("API version: ");function c(e,t,n,c,s,u){var l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-toolbar"),b=Object(r["resolveComponent"])("ion-header"),f=Object(r["resolveComponent"])("report-table"),m=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-chip"),g=Object(r["resolveComponent"])("ion-footer"),O=Object(r["resolveComponent"])("his-footer"),v=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(v,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("h1",null,Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",a,[Object(r["createVNode"])(f,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])]})),_:1}),Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{color:"primary"},{default:Object(r["withCtx"])((function(){return[o,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.date),1)]})),_:1}),Object(r["createVNode"])(h,{color:"primary"},{default:Object(r["withCtx"])((function(){return[i,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.apiVersion),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(O,{btns:e.btns},null,8,["btns"])]})),_:1})}n("99af"),n("96cf");var s=n("1da1"),u=n("2909"),l=n("0f25"),d=n("9ceb"),p=n("80e3"),b=n("8a30"),f=n("ba82"),m=n("1c74"),h=n("9283"),g=Object(r["defineComponent"])({components:{ReportTable:p["a"],HisFooter:l["a"],IonPage:b["A"],IonContent:b["m"],IonToolbar:b["K"],IonChip:b["k"],IonFooter:b["n"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,required:!0},customBtns:{type:Array,default:function(){return[]}}},data:function(){return{btns:[],date:h["a"].toStandardHisDisplayFormat(m["c"].getSessionDate()),apiVersion:m["c"].getApiVersion()}},created:function(){var e=this;this.btns=[].concat(Object(u["a"])(this.customBtns),[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(d["b"])(e.columns,e.rows),r=n.columns,a=n.rows,Object(f["a"])(r,a,e.title);case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(d["b"])(e.columns,e.rows),r=n.columns,a=n.rows,Object(f["b"])(r,a,e.title);case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Finish",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$router.push({path:"/"}));case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}])}}),O=n("d959"),v=n.n(O);const _=v()(g,[["render",c]]);t["a"]=_},d95e:function(e,t,n){"use strict";n.d(t,"b",(function(){return fi})),n.d(t,"a",(function(){return hi}));var r=n("7a23"),a=Object(r["withScopeId"])("data-v-a66750c2");Object(r["pushScopeId"])("data-v-a66750c2");var o={class:"his-card"};Object(r["popScopeId"])();var i=a((function(e,t,n,a,i,c){var s=Object(r["resolveComponent"])("barcode-input");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(s,{onOnScan:e.onScan},null,8,["onOnScan"])])})),c=(n("96cf"),n("1da1")),s=n("fe70"),u=Object(r["defineComponent"])({data:function(){return{isReadyOnly:!1}},created:function(){this.isReadyOnly=!Object(s["d"])("desktop")},emits:["onValue","onClear","onFieldActivated"],props:{config:{type:Object,default:function(){return{}}},preset:{type:Object,default:function(){return{label:"",value:""}}},defaultValue:{type:Function},fdata:{type:Object,required:!0},cdata:{type:Object,required:!0},clear:{type:Boolean,required:!0},options:{type:Function,default:function(){return[]}},activationState:{type:String,default:""},onValue:{type:Function},onValueUpdate:{type:Function}}});const l=u;var d=l,p=n("efaf"),b=Object(r["defineComponent"])({mixins:[d],components:{BarcodeInput:p["a"]},methods:{onScan:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.onValue){n.next=6;break}return n.next=3,t.onValue(e);case 3:if(r=n.sent,r){n.next=6;break}return n.abrupt("return");case 6:t.$emit("onValue",e);case 7:case"end":return n.stop()}}),n)})))()}}}),f=(n("a16a"),n("d959")),m=n.n(f);const h=m()(b,[["render",i],["__scopeId","data-v-a66750c2"]]);var g=h,O=Object(r["withScopeId"])("data-v-02bbcb17"),v=O((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-text-input"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-item"),l=Object(r["resolveComponent"])("ion-list"),d=Object(r["resolveComponent"])("view-port"),p=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(d,{showFull:!e.showKeyboard},{default:O((function(){return[Object(r["createVNode"])(c,{value:e.selected,onOnValue:t[1]||(t[1]=function(t){return e.onKbValue(t,e.showKeyboard)})},null,8,["value"]),Object(r["createVNode"])(l,{class:"view-port-content"},{default:O((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{button:"",color:t.label===e.selected?"light":"",key:n,disabled:!(!("disabled"in t)||!t.disabled),onClick:function(n){return e.onselect(t)}},{default:O((function(){return[Object(r["createVNode"])(s,null,{default:O((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","disabled","onClick"])})),128))]})),_:1})]})),_:1},8,["showFull"]),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)],64)})),_=(n("4de4"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("db10")),j=n("2345"),w=Object(r["withScopeId"])("data-v-8adb04b0"),y=w((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-input");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{ref:"input",class:"input_display",modelValue:e.text,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.text=t}),type:e.type,disabled:e.disabled,readonly:e.isReadOnly,autocapitalize:"sentences"},null,8,["modelValue","type","disabled","readonly"])})),k=n("8a30"),x=Object(r["defineComponent"])({name:"HisInput",components:{IonInput:k["s"]},data:function(){return{isReadOnly:!1,text:""}},created:function(){this.isReadOnly=!Object(k["P"])("desktop")},watch:{value:function(e){this.text=e},text:function(e){this.$emit("onValue",e)}},props:{value:{required:!1},type:{type:String,default:function(){return"text"}},disabled:{type:Boolean,default:function(){return!1}}}});n("8378");const N=m()(x,[["render",y],["__scopeId","data-v-8adb04b0"]]);var V=N,C=n("6be2"),D=n("0a79"),T=Object(r["defineComponent"])({components:{IonList:k["v"],IonItem:k["t"],IonLabel:k["u"],HisTextInput:V,HisKeyboard:_["a"],ViewPort:D["a"],IonGrid:k["o"],IonRow:k["E"],IonCol:k["l"]},mixins:[d],data:function(){return{showKeyboard:!1,selected:"",filter:"",filtered:[],keyboard:C["e"],listData:[]}},created:function(){this.config&&!0===this.config.showKeyboard&&(this.showKeyboard=!0)},watch:{listData:{handler:function(e){e&&(this.filtered=e)},deep:!0,immediate:!0},filter:{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",t.filtered=t.listData);case 2:if(!(null===(r=t.config)||void 0===r?void 0:r.isFilterDataViaApi)){n.next=6;break}return n.next=5,t.options(t.fdata,e);case 5:return n.abrupt("return",t.filtered=n.sent);case 6:t.filtered=t.listData.filter((function(e){return t.isMatch(e.label,t.filter)}));case 7:case"end":return n.stop()}}),n)})))()},immediate:!0}},methods:{isMatch:function(e,t){return e.match(new RegExp(t,"i"))},clearSelection:function(){this.filter="",this.selected="",this.$emit("onClear")},onKbValue:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.filter=e,this.selected=this.filter)},keypress:function(e){this.filter||(this.selected=""),this.filter=Object(j["a"])(e,this.selected),this.selected=this.filter}}});const R=T;var I=R,S=n("2ef0"),P=Object(r["defineComponent"])({name:"HisSelect",mixins:[I],watch:{clear:function(e){e&&this.clearSelection()}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:return e.listData=t.sent,t.next=6,e.setDefaultValue();case 6:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata,e.selected);case 3:n=t.sent,n&&(r=Object(S["find"])(e.listData,{label:n})||Object(S["find"])(e.listData,{value:n}),r?e.onselect(r):e.filter=n);case 5:case"end":return t.stop()}}),t)})))()},onselect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.selected=e.label,!t.onValue){n.next=8;break}return n.next=4,t.onValue(e,t);case 4:if(r=n.sent,r){n.next=8;break}return t.selected="",n.abrupt("return");case 8:t.$emit("onValue",e);case 9:case"end":return n.stop()}}),n)})))()}}});n("5e37");const A=m()(P,[["render",v],["__scopeId","data-v-02bbcb17"]]);var B=A,E=Object(r["withScopeId"])("data-v-42f4c54c"),F=E((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-label"),s=Object(r["resolveComponent"])("ion-item"),u=Object(r["resolveComponent"])("ion-list"),l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:E((function(){return[Object(r["createVNode"])(u,{class:"view-port-content"},{default:E((function(){return[Object(r["createVNode"])(p,null,{default:E((function(){return[Object(r["createVNode"])(d,null,{default:E((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{size:"4",key:n},{default:E((function(){return[Object(r["createVNode"])("div",{class:["his-card clickable",{"active-card-color":e.selected===t.label}],onClick:function(n){return e.onselect(t)}},[Object(r["createVNode"])(u,null,{default:E((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.other.list,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:t},{default:E((function(){return[Object(r["createVNode"])(c,null,{default:E((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])("span",{style:e.style||{}},Object(r["toDisplayString"])(e.value),5)]})),_:2},1024)})),128))]})),_:2},1024)],10,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),L=Object(r["defineComponent"])({name:"HisSelect",mixins:[I],watch:{clear:function(e){e&&this.clearSelection()}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:return e.listData=t.sent,t.next=6,e.setDefaultValue();case 6:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata,e.selected);case 3:n=t.sent,n&&(r=Object(S["find"])(e.listData,{label:n})||Object(S["find"])(e.listData,{value:n}),r&&e.onselect(r));case 5:case"end":return t.stop()}}),t)})))()},onselect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.selected=e.label,!t.onValue){n.next=8;break}return n.next=4,t.onValue(e,t);case 4:if(r=n.sent,r){n.next=8;break}return t.selected="",n.abrupt("return");case 8:if(!t.onValueUpdate){n.next=12;break}return n.next=11,t.onValueUpdate(e,t.listData);case 11:t.listData=n.sent;case 12:t.$emit("onValue",e);case 13:case"end":return n.stop()}}),n)})))()}}});n("2ab8");const M=m()(L,[["render",F],["__scopeId","data-v-42f4c54c"]]);var H=M;n("a4d3"),n("e01a");function U(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-text-input"),s=Object(r["resolveComponent"])("ion-chip"),u=Object(r["resolveComponent"])("ion-text"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-checkbox"),p=Object(r["resolveComponent"])("ion-item"),b=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("view-port"),m=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(f,{showFull:!e.showKeyboard},{default:Object(r["withCtx"])((function(){return[e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,value:e.selected,onOnValue:t[1]||(t[1]=function(t){return e.onKbValue(t,e.showKeyboard)}),disabled:!1},null,8,["value"])):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.checkedItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:n},[Object(r["createVNode"])(s,{color:"danger",onClick:function(n){return e.uncheck(t.label)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick"])])})),128)),Object(r["createVNode"])(b,{class:"view-port-content"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:n,color:t.isChecked?"light":""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),e.isDescription(t.description,t.isChecked)?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,color:t.description.color},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("p",null,[Object(r["createVNode"])("i",null,Object(r["toDisplayString"])(t.description.text),1)])]})),_:2},1032,["color"])):Object(r["createCommentVNode"])("",!0)]})),_:2},1024),Object(r["createVNode"])(d,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e},onIonChange:function(n){return e.onselect(t,n)},disabled:null===t||void 0===t?void 0:t.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])]})),_:2},1032,["color"])})),128))]})),_:1})]})),_:1},8,["showFull"]),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)])}n("4160"),n("d81d"),n("159b");var q=n("2909"),z=n("5530"),G=Object(r["defineComponent"])({components:{IonCheckbox:k["j"],IonText:k["H"],IonChip:k["k"]},name:"HisMultipleSelect",mixins:[I],methods:{onselect:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n.$nextTick(Object(c["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=Object(z["a"])({},e),a.isChecked=t.target.checked,!n.onValue||!a.isChecked){r.next=8;break}return r.next=5,n.onValue(a);case 5:if(o=r.sent,o){r.next=8;break}return r.abrupt("return",t.target.checked=!1);case 8:if(!n.onValueUpdate){r.next=12;break}return r.next=11,n.onValueUpdate(Object(q["a"])(n.listData),a);case 11:n.listData=r.sent;case 12:n.$emit("onValue",n.getChecked(n.listData));case 13:case"end":return r.stop()}}),r)}))));case 1:case"end":return r.stop()}}),r)})))()},uncheck:function(e){this.listData.forEach((function(t){t.label===e&&(t.isChecked=!1)}))},getChecked:function(e){return e.filter((function(e){return e.isChecked}))},isDescription:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!e&&(!(null===e||void 0===e?void 0:e.show)||("onChecked"===e.show&&t||"always"===e.show))}},computed:{checkedItems:function(){return this.getChecked(this.listData)}},watch:{clear:function(e){e&&(this.listData=this.listData.map((function(e){return e.isChecked=!1,e})),this.$emit("onClear"))}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata,e.getChecked(e.listData),e.cdata);case 3:n=t.sent,e.listData=n,e.$emit("onValue",e.getChecked(e.listData));case 6:case"end":return t.stop()}}),t)})))()}});const Y=m()(G,[["render",U]]);var K=Y,W=Object(r["withScopeId"])("data-v-fdce71b8"),$=W((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-input"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("base-input"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-grid"),p=Object(r["resolveComponent"])("ion-label"),b=Object(r["resolveComponent"])("ion-item"),f=Object(r["resolveComponent"])("ion-list"),m=Object(r["resolveComponent"])("view-port"),h=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(m,{showFull:!1},{default:W((function(){return[Object(r["createVNode"])(d,null,{default:W((function(){return[Object(r["createVNode"])(l,null,{default:W((function(){return[e.prependValue?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,"size-md":"4"},{default:W((function(){return[Object(r["createVNode"])(c,{readonly:e.isReadOnly,value:e.prependValue,class:"input_display",disabled:!0},null,8,["readonly","value"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{"size-md":""},{default:W((function(){return[Object(r["createVNode"])(u,{type:e.inputType,value:e.value,onOnValue:e.onKbValue},null,8,["type","value","onOnValue"])]})),_:1})]})),_:1})]})),_:1}),e.listData.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,class:"view-port-content"},{default:W((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{button:"",key:n,onClick:function(n){return e.onselect(t)}},{default:W((function(){return[Object(r["createVNode"])(p,null,{default:W((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(h,{initalKeyboardName:e.initalKeyboardName,kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["initalKeyboardName","kbConfig","onKeyPress"])],64)})),J=(n("99af"),n("d3b7"),Object(r["defineComponent"])({components:{IonInput:k["s"],IonRow:k["E"],IonCol:k["l"],IonGrid:k["o"],BaseInput:V,HisKeyboard:_["a"],ViewPort:D["a"],IonList:k["v"],IonItem:k["t"],IonLabel:k["u"]},mixins:[d],data:function(){return{value:"",prependValue:"",initalKeyboardName:"",keyboard:{},listData:[]}},computed:{inputType:function(){return this.config&&"inputType"in this.config?this.config.inputType:"text"}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.keyboard=(null===(n=e.config)||void 0===n?void 0:n.customKeyboard)||C["e"],e.config&&e.config.initialKb&&(e.initalKeyboardName=e.config.initialKb);case 2:case"end":return t.stop()}}),t)})))()},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$emit("onFieldActivated",e),!e.config||!e.config.prependValue){t.next=5;break}return t.next=4,e.config.prependValue(e.fdata);case 4:e.prependValue=t.sent;case 5:return t.next=7,e.setDefaultValue();case 7:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue||e.value){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata);case 3:n=t.sent,n&&(Object(S["isPlainObject"])(n)?(e.emitValue(n),e.value=n.value.toString()):(e.value=n,e.emitValue({label:n,value:n})));case 5:case"end":return t.stop()}}),t)})))()},emitValue:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.onValue){n.next=6;break}return n.next=3,t.onValue(e);case 3:if(r=n.sent,r){n.next=6;break}return n.abrupt("return");case 6:e.value=t.prependValue?"".concat(t.prependValue).concat(e.value):e.value,t.value=e.label,t.$emit("onValue",e);case 9:case"end":return n.stop()}}),n)})))()},onselect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.emitValue(e);case 2:case"end":return n.stop()}}),n)})))()},onKbValue:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.emitValue({label:e,value:e});case 2:case"end":return n.stop()}}),n)})))()},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=Object(j["a"])(e,t.value),n.next=3,t.emitValue({label:r,value:r});case 3:case"end":return n.stop()}}),n)})))()}},watch:{value:{handler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.options){t.next=4;break}return t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},deep:!0},clear:function(e){e&&(this.value="",this.$emit("onClear"))}}}));n("9a42");const X=m()(J,[["render",$],["__scopeId","data-v-fdce71b8"]]);var Q=X;function Z(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("base-input"),s=Object(r["resolveComponent"])("view-port"),u=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"])]})),_:1}),Object(r["createVNode"])(u,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}var ee=Object(r["defineComponent"])({components:{BaseInput:V,HisKeyboard:_["a"],ViewPort:D["a"]},mixins:[d],data:function(){return{value:"",keyboard:C["d"]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.setDefaultValue();case 3:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue||e.value){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata);case 3:n=t.sent,n&&(e.value=n.toString());case 5:case"end":return t.stop()}}),t)})))()},onKbValue:function(e){this.value=e},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()}},watch:{value:function(e){this.$emit("onValue",{label:e,value:e})},clear:function(e){e&&(this.value="",this.$emit("onClear"))}}});const te=m()(ee,[["render",Z]]);var ne=te;function re(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("base-input"),s=Object(r["resolveComponent"])("view-port"),u=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:e.value},null,8,["value"])]})),_:1}),Object(r["createVNode"])(u,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}var ae=n("3800"),oe=Object(r["defineComponent"])({components:{BaseInput:V,HisKeyboard:_["a"],ViewPort:D["a"]},mixins:[d],data:function(){return{value:"",keyboard:[]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),n=ae["f"],e.config?(e.config.year&&e.config.month&&(n=e.generateKeypad(e.config.year(e.fdata),e.config.month(e.fdata))),e.config.keyboardActions?e.keyboard=[n,e.config.keyboardActions]:e.keyboard=[n,[["Unknown"]]]):e.keyboard=C["b"],t.next=5,e.setDefaultValue();case 5:case"end":return t.stop()}}),t)})))()},methods:{generateKeypad:function(e,t){for(var n=[[]],r=new Date(e,t,0).getDate(),a=0,o=0,i=0;i<r;++i)o>7&&(++a,n[a]=[],o=0),n[a].push("".concat(i+1)),++o;return n},setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue||e.value){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata);case 3:n=t.sent,n&&(e.value=n,e.$emit("onValue",{label:e.value,value:e.value}));case 5:case"end":return t.stop()}}),t)})))()},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,""),t.$emit("onValue",{label:t.value,value:t.value});case 2:case"end":return n.stop()}}),n)})))()}},watch:{clear:function(e){e&&(this.value="")}}});const ie=m()(oe,[["render",re]]);var ce=ie,se=Object(r["withScopeId"])("data-v-32eca5fb");Object(r["pushScopeId"])("data-v-32eca5fb");var ue={class:"view-port-content"};Object(r["popScopeId"])();var le=se((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("regimen-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:se((function(){return[Object(r["createVNode"])("div",ue,[Object(r["createVNode"])(u,null,{default:se((function(){return[Object(r["createVNode"])(s,{"size-md":"6","size-sm":"12"},{default:se((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.leftItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{class:"regimen-item",key:n,label:t.label,value:t.value,onOnclick:function(n){return e.onselect(t)},color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["label","value","onOnclick","color"])})),128))]})),_:1}),Object(r["createVNode"])(s,{"size-md":"6","size-sm":"12"},{default:se((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rightItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{class:"regimen-item",key:n,label:t.label,value:t.value,onOnclick:function(n){return e.onselect(t)},color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["label","value","onOnclick","color"])})),128))]})),_:1})]})),_:1})])]})),_:1})})),de=Object(r["withScopeId"])("data-v-388e601a");Object(r["pushScopeId"])("data-v-388e601a");var pe={class:"title"},be={style:{textAlign:"center"}};Object(r["popScopeId"])();var fe=de((function(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card ".concat(e.state),onClick:t[1]||(t[1]=function(){return e.onclick.apply(e,arguments)})},[Object(r["createVNode"])("table",null,[Object(r["createVNode"])("td",pe,Object(r["toDisplayString"])(e.value)+" ",1),Object(r["createVNode"])("td",be,Object(r["toDisplayString"])(e.label),1)])],2)})),me=Object(r["defineComponent"])({props:{showTitle:{type:Boolean,default:!0},enabled:{type:Boolean,default:!0},color:{type:String},label:{type:String,required:!0},value:{type:String,required:!0}},computed:{state:function(){return this.enabled?"".concat(this.color," clickable"):"disabled-card-color"}},methods:{onclick:function(){this.enabled&&this.$emit("onclick")}}});n("a1cd");const he=m()(me,[["render",fe],["__scopeId","data-v-388e601a"]]);var ge=he,Oe=Object(r["defineComponent"])({components:{ViewPort:D["a"],RegimenCard:ge,IonRow:k["E"],IonCol:k["l"]},mixins:[I],watch:{clear:function(e){e&&this.clearSelection()}},computed:{leftItems:function(){return Object(S["isEmpty"])(this.listData)?[]:this.listData[0]},rightItems:function(){return Object(S["isEmpty"])(this.listData)?[]:this.listData[1]}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}}),t)})))()},activated:function(){this.$emit("onFieldActivated",this)},methods:{init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:n=t.sent,e.listData=e.buildList(n);case 4:case"end":return t.stop()}}),t)})))()},buildList:function(e){var t=[[],[]];return e.forEach((function(e){var n=parseInt(e.value.toString());n<10?t[0].push(e):t[1].push(e)})),t},onselect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.selected=e.label,!t.onValue){n.next=9;break}return n.next=4,t.onValue(e);case 4:if(r=n.sent,r){n.next=9;break}return t.selected="",t.$emit("onValue",null),n.abrupt("return");case 9:if(!t.onValueUpdate){n.next=13;break}return n.next=12,t.onValueUpdate(Object(q["a"])(t.listData),e);case 12:t.listData=n.sent;case 13:t.$emit("onValue",e);case 14:case"end":return n.stop()}}),n)})))()}}});n("a512");const ve=m()(Oe,[["render",le],["__scopeId","data-v-32eca5fb"]]);var _e=ve,je=Object(r["withScopeId"])("data-v-53c96af3");Object(r["pushScopeId"])("data-v-53c96af3");var we={class:"view-port-content"};Object(r["popScopeId"])();var ye=je((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("interval-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-chip"),b=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("ion-card-content"),m=Object(r["resolveComponent"])("ion-card"),h=Object(r["resolveComponent"])("ion-grid"),g=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(g,null,{default:je((function(){return[Object(r["createVNode"])("div",we,[Object(r["createVNode"])(h,null,{default:je((function(){return[Object(r["createVNode"])(u,null,{default:je((function(){return[Object(r["createVNode"])(s,{size:"4"},{default:je((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:n},{default:je((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{"size-md":"6","size-sm":"12",key:n},{default:je((function(){return[Object(r["createVNode"])(c,{showTitle:e.config.showRegimenCardTitle,label:t.label,onOnclick:function(n){return e.onselect(t)},enabled:t.other.enabled,color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["showTitle","label","onOnclick","enabled","color"])]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(s,{size:"8"},{default:je((function(){return[Object(r["createVNode"])(m,{style:{height:"65vh"}},{default:je((function(){return[e.active.label?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0},{default:je((function(){return[Object(r["createVNode"])("h3",null,Object(r["toDisplayString"])(e.active.other.label),1),Object(r["createVNode"])(d,null,{default:je((function(){return[Object(r["createVNode"])(l,null,{default:je((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.active.other.value),1)]})),_:1})]})),_:1}),Object(r["createVNode"])("h3",null,Object(r["toDisplayString"])(e.active.other.other.label),1),Object(r["createVNode"])(b,null,{default:je((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.active.other.other.value,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:t},{default:je((function(){return[Object(r["createVNode"])(l,null,{default:je((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(p,{color:"primary",slot:"end"},{default:je((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),ke=n("07a2"),xe=n("7e73"),Ne=Object(r["defineComponent"])({components:{IntervalCard:ke["a"],ViewPort:D["a"],IonGrid:k["o"],IonCard:k["f"],IonCardContent:k["g"]},mixins:[I],data:function(){return{active:{}}},watch:{clear:function(e){e&&(this.active={},this.clearSelection())}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init(),e.$emit("onFieldActivated",e),"next"===e.activationState&&(e.active={},e.clearSelection());case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.init();case 1:case"end":return t.stop()}}),t)})))()},methods:{init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:n=t.sent,e.listData=xe["a"].convertArrayToTurples(n);case 4:case"end":return t.stop()}}),t)})))()},onselect:function(e){this.selected=e.label,this.active=e,this.$emit("onValue",e)}}});n("9307");const Ve=m()(Ne,[["render",ye],["__scopeId","data-v-53c96af3"]]);var Ce=Ve,De=Object(r["withScopeId"])("data-v-5d9fc4b0");Object(r["pushScopeId"])("data-v-5d9fc4b0");var Te={class:"view-port-content"};Object(r["popScopeId"])();var Re=De((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("his-table"),s=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:De((function(){return[Object(r["createVNode"])("div",Te,[Object(r["createVNode"])(c,{columns:e.columns,styles:e.styles,rows:e.rows,rowColors:e.rowColors,cellColors:e.cellColors},null,8,["columns","styles","rows","rowColors","cellColors"])])]})),_:1})})),Ie=n("a3a5"),Se=Object(r["defineComponent"])({components:{ViewPort:D["a"],HisTable:Ie["a"]},mixins:[d],data:function(){return{columns:[],rows:[],rowColors:[],cellColors:[],styles:[]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata,e.cdata,e);case 3:if(n=t.sent,!Object(S["isEmpty"])(n)){t.next=6;break}return t.abrupt("return");case 6:r=n[0].other,e.columns=r.columns,e.rows=r.rows,e.rowColors=r.rowColors,e.cellColors=r.cellColors,e.styles=e.config?e.config.styles:[];case 12:case"end":return t.stop()}}),t)})))()}});n("5245");const Pe=m()(Se,[["render",Re],["__scopeId","data-v-5d9fc4b0"]]);var Ae=Pe,Be=Object(r["withScopeId"])("data-v-dd51f436");Object(r["pushScopeId"])("data-v-dd51f436");var Ee={class:"view-port-content"},Fe={class:"his-table"},Le=Object(r["createVNode"])("th",null," Medication",-1),Me=Object(r["createTextVNode"])(" Morning "),He=Object(r["createTextVNode"])(" Noon "),Ue=Object(r["createTextVNode"])(" Evening "),qe=Object(r["createTextVNode"])(" Frequency "),ze=Object(r["createVNode"])("option",{value:"Weekly (QW)"}," Weekly ",-1),Ge=Object(r["createVNode"])("option",{value:"Daily (QOD)"}," Daily ",-1);Object(r["popScopeId"])();var Ye=Be((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("ion-input"),u=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Be((function(){return[Object(r["createVNode"])("div",Ee,[Object(r["createVNode"])("table",Fe,[Object(r["createVNode"])("tr",null,[Le,Object(r["createVNode"])("th",null,[Object(r["createVNode"])(c,{class:"ico",src:e.img("morning")},null,8,["src"]),Me]),Object(r["createVNode"])("th",null,[Object(r["createVNode"])(c,{class:"ico",src:e.img("noon")},null,8,["src"]),He]),Object(r["createVNode"])("th",null,[Object(r["createVNode"])(c,{class:"ico",src:e.img("evening")},null,8,["src"]),Ue]),Object(r["createVNode"])("th",null,[Object(r["createVNode"])(c,{class:"ico",src:e.img("frequency")},null,8,["src"]),qe])]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.label),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(s,{value:t.other.am,onClick:function(n){return e.launchKeyPad(t,"am")},class:"dosage-input"},null,8,["value","onClick"])]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(s,{value:t.other.noon,onClick:function(n){return e.launchKeyPad(t,"noon")},class:"dosage-input"},null,8,["value","onClick"])]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(s,{value:t.other.pm,onClick:function(n){return e.launchKeyPad(t,"pm")},class:"dosage-input"},null,8,["value","onClick"])]),Object(r["createVNode"])("td",null,[Object(r["withDirectives"])(Object(r["createVNode"])("select",{"onUpdate:modelValue":function(e){return t.other.frequency=e},class:"custom-med-frequency"},[ze,Ge],8,["onUpdate:modelValue"]),[[r["vModelSelect"],t.other.frequency]])])])})),128))])])]})),_:1})})),Ke=n("10be"),We=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonImg:k["r"],IonInput:k["s"]},mixins:[d],data:function(){return{listData:[]}},watch:{clear:{handler:function(e){e&&this.onClear(),this.$emit("onClear")},immediate:!0},listData:{handler:function(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:n=t.sent,e.updateListData(n);case 5:case"end":return t.stop()}}),t)})))()},methods:{img:function(e){return"assets/images/prescription/".concat(e,".png")},onClear:function(){this.listData=this.listData.filter((function(e){return e.other.am=0,e.other.noon=0,e.other.pm=0,e.other.frequency="Daily (QOD)",!0}))},updateListData:function(e){var t=this;this.listData=e.map((function(e){var n=Object(S["find"])(t.listData,{label:e.label,value:e.value});return n||(n||e)}))},launchKeyPad:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k["S"].create({component:Ke["a"],backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:e.label,preset:e.other[t],onKeyPress:function(n){e.other[t]=n}}});case 2:r=n.sent,r.present();case 4:case"end":return n.stop()}}),n)})))()}}});n("fc3f");const $e=m()(We,[["render",Ye],["__scopeId","data-v-dd51f436"]]);var Je=$e,Xe=(n("ddb0"),Object(r["withScopeId"])("data-v-6e91218e")),Qe=Xe((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-segment-button"),l=Object(r["resolveComponent"])("ion-segment"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(b,{showFull:!1},{default:Xe((function(){return[Object(r["createVNode"])(p,null,{default:Xe((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(n,a){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{button:"",key:a},{default:Xe((function(){return[Object(r["createVNode"])(c,{size:"6"},{default:Xe((function(){return[Object(r["createVNode"])("h1",null,Object(r["toDisplayString"])(n.label),1)]})),_:2},1024),Object(r["createVNode"])(c,{size:"6"},{default:Xe((function(){return[Object(r["createVNode"])(l,{mode:"ios",onIonChange:t[1]||(t[1]=function(t){return e.segmentChanged(t)}),modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.value=t})},{default:Xe((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.values,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{class:"yes-no",key:t,value:e.value},{default:Xe((function(){return[Object(r["createVNode"])(s,null,{default:Xe((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["modelValue"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])})),Ze=Object(r["defineComponent"])({components:{IonRow:k["E"],IonGrid:k["o"],IonLabel:k["u"],IonCol:k["l"],IonSegmentButton:k["G"],IonSegment:k["F"]},name:"HisSelect",mixins:[I],watch:{clear:function(e){e&&this.clearSelection()},value:function(e){this.$emit("onValue",{label:this.filtered[0].label,value:e})}},data:function(){return{value:null}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:e.listData=t.sent,e.preset&&(e.value=e.preset);case 4:case"end":return t.stop()}}),t)})))()},methods:{onselect:function(e){this.$emit("onValue",e)},segmentChanged:function(e){this.onselect(e.detail.value)}}});n("0f91");const et=m()(Ze,[["render",Qe],["__scopeId","data-v-6e91218e"]]);var tt=et,nt=Object(r["withScopeId"])("data-v-54deedff"),rt=nt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-segment-button"),l=Object(r["resolveComponent"])("ion-segment"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(b,{showFull:!0},{default:nt((function(){return[Object(r["createVNode"])(p,null,{default:nt((function(){return[Object(r["createVNode"])(d,null,{default:nt((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{size:e.getSize,key:n},{default:nt((function(){return[Object(r["createVNode"])(p,null,{default:nt((function(){return[Object(r["createVNode"])(d,null,{default:nt((function(){return[Object(r["createVNode"])(c,{size:"6"},{default:nt((function(){return[Object(r["createVNode"])("h1",null,Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(c,{size:"6"},{default:nt((function(){return[Object(r["createVNode"])(l,{mode:"ios",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},onIonChange:e.onChange},{default:nt((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.other.values,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{class:"yes-no",key:t,value:e.value},{default:nt((function(){return[Object(r["createVNode"])(s,null,{default:nt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","onIonChange"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["size"])})),128))]})),_:1})]})),_:1})]})),_:1})])})),at=(n("a623"),Object(r["defineComponent"])({components:{IonRow:k["E"],IonGrid:k["o"],IonLabel:k["u"],IonCol:k["l"],IonSegmentButton:k["G"],IonSegment:k["F"]},name:"HisMultiYesNo",mixins:[I],watch:{clear:function(e){e&&(this.listData=this.listData.map((function(e){return e.value="",e})),this.$emit("onClear"))}},computed:{getSize:function(){return this.listData.length>6?"6":"12"}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),n=e.listData.filter((function(e){return""!=e.value})),t.next=4,e.options(e.fdata,n);case 4:e.listData=t.sent;case 5:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(){var e=this;this.$nextTick((function(){var t=e.listData.map((function(e){return""!=e.value}));t.every(Boolean)&&e.$emit("onValue",e.listData)}))}}}));n("631f");const ot=m()(at,[["render",rt],["__scopeId","data-v-54deedff"]]);var it=ot,ct=Object(r["withScopeId"])("data-v-c02ca4c2");Object(r["pushScopeId"])("data-v-c02ca4c2");var st={class:"view-port-content"},ut=Object(r["createTextVNode"])("Previous weight"),lt=Object(r["createTextVNode"])("Lastest weight"),dt=Object(r["createTextVNode"])("Latest weight change"),pt=Object(r["createTextVNode"])("Patient Age"),bt=Object(r["createTextVNode"])("Patient BMI");Object(r["popScopeId"])();var ft=ct((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("apexchart"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list"),b=Object(r["resolveComponent"])("ion-row"),f=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:ct((function(){return[Object(r["createVNode"])("div",st,[Object(r["createVNode"])(b,{class:"parent-row"},{default:ct((function(){return[Object(r["createVNode"])(s,{size:"8"},{default:ct((function(){return[Object(r["createVNode"])(c,{width:e.width,height:e.height,type:e.type,options:e.chartOptions,series:e.series},null,8,["width","height","type","options","series"])]})),_:1}),Object(r["createVNode"])(s,{size:"4"},{default:ct((function(){return[Object(r["createVNode"])(p,null,{default:ct((function(){return[Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{class:"title"},{default:ct((function(){return[ut]})),_:1}),Object(r["createVNode"])(l,{slot:"end",color:"primary"},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.prevWeight),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{class:"title"},{default:ct((function(){return[lt]})),_:1}),Object(r["createVNode"])(l,{slot:"end",color:"primary"},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.curWeight),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{class:"title"},{default:ct((function(){return[dt]})),_:1}),Object(r["withDirectives"])(Object(r["createVNode"])("img",{src:e.stats.weightState,width:"50"},null,8,["src"]),[[r["vShow"],e.stats.weightState]]),Object(r["createVNode"])(l,{slot:"end",color:"primary"},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.curWeightChange),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{class:"title"},{default:ct((function(){return[pt]})),_:1}),Object(r["createVNode"])(l,{slot:"end",color:"primary"},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.age),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{class:"title"},{default:ct((function(){return[bt]})),_:1}),Object(r["createVNode"])(l,{slot:"end",color:"primary"},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.bmi.index),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:ct((function(){return[Object(r["createVNode"])(u,{style:{"background-color":e.stats.bmi.color,color:"white",padding:"10px","text-align":"center"}},{default:ct((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.stats.bmi.result),1)]})),_:1},8,["style"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),mt=(n("b680"),n("1276"),n("3835")),ht=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonCol:k["l"],IonRow:k["E"],IonItem:k["t"],IonChip:k["k"]},mixins:[d],data:function(){return{stats:{prevWeight:"-",curWeight:"-",curWeightChange:"-",weightState:"",age:"-",bmi:{}},type:"area",width:"100%",height:"560px",series:[],chartOptions:{chart:{id:"weight_chart"},title:{text:"Weight trail (2 year period)"},stroke:{curve:"smooth"},yaxis:{title:{text:"Weight Kg(s)"},min:0},xaxis:{categories:[]},dataLabels:{enabled:!0,textAnchor:"start",formatter:function(e,t){var n,r=null===(n=t.w.config.series[0].data[t.dataPointIndex-1])||void 0===n?void 0:n.y;return r&&r>0?(e/r*100-100).toFixed(2)+" %":"0.0%"}}}}},activated:function(){this.$emit("onFieldActivated",this)},methods:{setStats:function(e){var t,n,r=(null===(t=e.values[e.values.length-2])||void 0===t?void 0:t.y)||0,a=(null===(n=e.values[e.values.length-1])||void 0===n?void 0:n.y)||0;if(this.stats.curWeight=a||"-",this.stats.prevWeight=r||"-",this.stats.age=e.age,this.stats.bmi=e.bmi,a>0&&r>0){this.stats.curWeightChange=(a/r*100-100).toFixed(2)+" %";var o="/assets/images/drop-up-arrow.svg",i="/assets/images/drop-down-arrow.svg";this.stats.weightState=a>r?o:i}}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:n=t.sent,r=n[0].other,a=r.values,e.series=[{name:"Weight",data:a.sort((function(e,t){var n=new Date(e.x),r=new Date(t.x);return n-r})).map((function(e){var t=e.x.split("/"),n=Object(mt["a"])(t,2),r=n[0],a=n[1];return{x:"".concat(r,".").concat(a),y:e.y}}))}],e.type=r.type?r.type:"area",e.width=r.width?r.width:"100%",e.setStats(r);case 9:case"end":return t.stop()}}),t)})))()}});n("72f1");const gt=m()(ht,[["render",ft],["__scopeId","data-v-c02ca4c2"]]);var Ot=gt,vt=Object(r["withScopeId"])("data-v-347bf248");Object(r["pushScopeId"])("data-v-347bf248");var _t={class:"view-port-content"},jt=Object(r["createVNode"])("p",null,null,-1),wt={class:"centered his-card"},yt={class:"keypad"},kt={class:"value-highlight"},xt=Object(r["createVNode"])("b",null,"BMI",-1),Nt={class:"value-highlight"};Object(r["popScopeId"])();var Vt=vt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-row"),s=Object(r["resolveComponent"])("option-button"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-input"),d=Object(r["resolveComponent"])("ion-button"),p=Object(r["resolveComponent"])("ion-label"),b=Object(r["resolveComponent"])("ion-item"),f=Object(r["resolveComponent"])("ion-list"),m=Object(r["resolveComponent"])("ion-grid"),h=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(h,null,{default:vt((function(){return[Object(r["createVNode"])("div",_t,[Object(r["createVNode"])(m,null,{default:vt((function(){return[Object(r["createVNode"])(c,{class:"mobile-component-view",style:{width:"100%","background-color":e.BMI.color,color:"white",padding:"10px",textAlign:"center"}},{default:vt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.BMI.result),1)]})),_:1},8,["style"]),jt,Object(r["createVNode"])(c,null,{default:vt((function(){return[Object(r["createVNode"])(u,{size:"2"},{default:vt((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.keys,(function(t,n){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n,label:t.label,isActive:e.activeField===n,image:"vitals/"+t.other.icon,onClick:function(t){return e.activeField=n}},null,8,["label","isActive","image","onClick"])),[[r["vShow"],!1!==t.other.visible]])})),128))]})),_:1}),Object(r["createVNode"])(u,{"size-lg":"6","size-sm":"10"},{default:vt((function(){return[Object(r["createVNode"])("div",wt,[e.keys.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,type:"text",class:"keypad-input",value:e.keys[e.activeField].value},null,8,["value"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("table",yt,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.keyboard,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{class:"his-keyboard-margin",key:"btn-".concat(n)},[Object(r["createVNode"])(d,{color:"primary",class:"his-keyboard-btn",onClick:function(n){return e.onKeyPress(t)}},{default:vt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t),1)]})),_:2},1032,["onClick"])])})),128))])})),128))])])]})),_:1}),Object(r["createVNode"])(u,{class:"full-component-view",size:"4"},{default:vt((function(){return[Object(r["createVNode"])(f,null,{default:vt((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.keys,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:n,color:e.activeField===n?"secondary":""},{default:vt((function(){return[Object(r["createVNode"])(p,null,{default:vt((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(p,{slot:"end"},{default:vt((function(){return[Object(r["createVNode"])("span",kt,Object(r["toDisplayString"])(t.value||"-"),1),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(t.other.modifier),1)]})),_:2},1024)]})),_:2},1032,["color"])})),128)),Object(r["createVNode"])(b,null,{default:vt((function(){return[Object(r["createVNode"])(p,null,{default:vt((function(){return[xt]})),_:1}),Object(r["createVNode"])(p,{slot:"end"},{default:vt((function(){return[Object(r["createVNode"])("span",Nt,Object(r["toDisplayString"])(e.BMI.index),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:vt((function(){return[Object(r["createVNode"])(p,{style:{"background-color":e.BMI.color,color:"white",padding:"10px","text-align":"center"}},{default:vt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.BMI.result),1)]})),_:1},8,["style"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Ct=n("aee2"),Dt=Object(r["withScopeId"])("data-v-5436bf92"),Tt=Dt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("center");return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card ".concat(e.state," clickable")},[Object(r["createVNode"])("img",{src:e.icon},null,8,["src"]),Object(r["createVNode"])(c,null,{default:Dt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:1})],2)})),Rt=Object(r["defineComponent"])({props:{label:{type:String,required:!0},image:{type:String,required:!0},isActive:{type:Boolean,default:!0}},computed:{state:function(){return this.isActive?"active-card-color":"disabled-card-color"},icon:function(){return"assets/images/".concat(this.image,".png")}}});n("4a99");const It=m()(Rt,[["render",Tt],["__scopeId","data-v-5436bf92"]]);var St=It,Pt=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],OptionButton:St},mixins:[d],data:function(){return{keys:[],patientID:"",activeField:0,age:null,gender:null,keyboard:ae["j"],BMI:{index:0,result:"Normal",color:""}}},activated:function(){this.$emit("onFieldActivated",this)},watch:{keys:{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$emit("onValue",e);case 1:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{img:function(e){return"assets/images/vitals/".concat(e,".png")},getBMI:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ct["a"].getBMI(e.getWeight(),e.getHeight(),e.gender,e.getAge());case 2:n=t.sent,e.BMI.index=n.index,e.BMI.result=n.result,e.BMI.color=n.color;case 6:case"end":return t.stop()}}),t)})))()},onKeyPress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.keys[t.activeField].value,e.match(/del/i)?t.keys[t.activeField].value=r.substring(0,r.length-1):e.match(/clear/i)?t.keys[t.activeField].value="":t.keys[t.activeField].value+=e,t.getBMI();case 3:case"end":return n.stop()}}),n)})))()},getWeight:function(){var e=this.keys.filter((function(e){return"Weight"===e.label}));return""===e[0].value?0:parseFloat(e[0].value)},getHeight:function(){var e=this.keys.filter((function(e){return"Height"===e.label}));return""===e[0].value?0:parseFloat(e[0].value)},getAge:function(){var e=this.keys.filter((function(e){return"Age"===e.label}));return""===e[0].value?0:parseFloat(e[0].value)},init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:e.keys=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.init(),this.preset&&(this.gender=this.preset.value)}});n("c261");const At=m()(Pt,[["render",Vt],["__scopeId","data-v-347bf248"]]);var Bt=At,Et=Object(r["withScopeId"])("data-v-d9ca3cea");Object(r["pushScopeId"])("data-v-d9ca3cea");var Ft={class:"view-port-content"},Lt={key:0,class:"appointments"},Mt=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("b",null,"Medication Run out Date")])],-1),Ht=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("b",null," User set appointment date ")])],-1),Ut=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("b",null,"Appointment(s)")])],-1),qt=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("b",null,"Appointment limit (per/day)")])],-1);Object(r["popScopeId"])();var zt=Et((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("Calendar"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid"),d=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(d,null,{default:Et((function(){return[Object(r["createVNode"])("div",Ft,[Object(r["createVNode"])(l,null,{default:Et((function(){return[Object(r["createVNode"])(u,null,{default:Et((function(){return[Object(r["createVNode"])(s,{size:"9"},{default:Et((function(){return[Object(r["createVNode"])(c,{color:"blue",ref:"calendar","is-expanded":"",class:"custom-calendar max-w-full","min-date":e.sessionDate,"max-date":e.runOutDate,attributes:e.attributes},{"day-content":Et((function(t){var n=t.day;return[Object(r["createVNode"])("div",{class:{selected:n.id===e.cDate,isDisabled:n.isDisabled}},[Object(r["createVNode"])("span",{onClick:function(t){return e.dayClicked(n)}},Object(r["toDisplayString"])(n.day),9,["onClick"]),n.id===e.cDate?(Object(r["openBlock"])(),Object(r["createBlock"])("sup",Lt,Object(r["toDisplayString"])(e.appointments.length),1)):Object(r["createCommentVNode"])("",!0)],2)]})),_:1},8,["min-date","max-date","attributes"])]})),_:1}),Object(r["createVNode"])(s,{size:"3"},{default:Et((function(){return[Object(r["createVNode"])("table",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Mt,Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.rDate),1)])])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Ht,Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.aDate),1)])])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Ut,Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.appointments.length),1)])])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[qt,Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.appointmentLimit),1)])])])])]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Gt=n("7b37"),Yt=n("9283"),Kt=n("83af"),Wt=n("ad49"),$t=Object(r["defineComponent"])({components:{ViewPort:D["a"],Calendar:Gt["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"]},mixins:[d],watch:{startDate:{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e?(t.getAppointments(),t.emitVal(e)):t.emitVal(Yt["a"].toStandardHisDisplayFormat(t.sessionDate));case 1:case"end":return n.stop()}}),n)})))()},immediate:!0}},data:function(){return{rows:[],startDate:null,runOutDate:null,appointments:[],appointmentLimit:0,sessionDate:null}},activated:function(){this.$emit("onFieldActivated",this)},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:n=t.sent,e.sessionDate=Kt["a"].getSessionDate(),r=n[0].other.appointmentDate,e.setDate(r),e.getAppointmentLimit(),e.runOutDate=new Date(n[0].other.runOutDate);case 8:case"end":return t.stop()}}),t)})))()},methods:{getAppointments:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Kt["a"].getDailiyAppointments(Yt["a"].toStandardHisFormat(e.aDate));case 2:e.appointments=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getAppointmentLimit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt["a"].getAppointmentLimit();case 2:n=t.sent,n&&(e.appointmentLimit=n);case 4:case"end":return t.stop()}}),t)})))()},setDate:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.startDate=new Date(e),r=t.$refs.calendar,n.next=4,r.move(t.startDate);case 4:return n.next=6,r.focusDate(t.startDate);case 6:case"end":return n.stop()}}),n)})))()},dayClicked:function(e){!e.isDisabled&&this.setDate(e.id)},emitVal:function(e){this.$emit("onValue",{label:"",value:e})}},computed:{aDate:function(){return Yt["a"].toStandardHisDisplayFormat(this.startDate)},rDate:function(){return Yt["a"].toStandardHisDisplayFormat(this.runOutDate)},cDate:function(){return Yt["a"].toStandardHisFormat(this.startDate)},attributes:function(){return[{highlight:!0,dates:this.aDate}]}}});n("ac3a"),n("0ca4");const Jt=m()($t,[["render",zt],["__scopeId","data-v-d9ca3cea"]]);var Xt=Jt,Qt=Object(r["withScopeId"])("data-v-acebb584");Object(r["pushScopeId"])("data-v-acebb584");var Zt={class:"view-port-content"};Object(r["popScopeId"])();var en=Qt((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-label"),s=Object(r["resolveComponent"])("ion-item"),u=Object(r["resolveComponent"])("ion-list"),l=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:Qt((function(){return[Object(r["createVNode"])("div",Zt,[Object(r["createVNode"])(u,null,{default:Qt((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:t},{default:Qt((function(){return[Object(r["createVNode"])(c,null,{default:Qt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(c,{slot:"end"},{default:Qt((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})})),tn=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonList:k["v"],IonLabel:k["u"],IonItem:k["t"]},mixins:[d],data:function(){return{listData:[]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onFieldActivated",e),e.listData=e.options(e.fdata,e.cdata);case 2:case"end":return t.stop()}}),t)})))()}});n("7a12");const nn=m()(tn,[["render",en],["__scopeId","data-v-acebb584"]]);var rn=nn,an=Object(r["withScopeId"])("data-v-541eef98");Object(r["pushScopeId"])("data-v-541eef98");var on={class:"primary-info"},cn={class:"view-port-content"},sn={style:{marginLeft:"3%"}},un={class:"secondary-info"};Object(r["popScopeId"])();var ln=an((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(c,null,{default:an((function(){return[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("ul",on,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.titleItems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t},[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.label)+":",1),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.value),1)])})),128))])]),Object(r["createVNode"])("div",cn,[Object(r["createVNode"])("b",sn,Object(r["toDisplayString"])(e.config.title),1),Object(r["createVNode"])("ul",un,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.bodyItems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t},Object(r["toDisplayString"])(e.value),1)})),128))])])]})),_:1})})),dn=Object(r["defineComponent"])({components:{ViewPort:D["a"]},mixins:[d],data:function(){return{listData:[]}},computed:{titleItems:function(){return this.listData.filter((function(e){var t;return"title-section"===(null===(t=e.other)||void 0===t?void 0:t.type)}))},bodyItems:function(){return this.listData.filter((function(e){var t;return"title-section"!=(null===e||void 0===e||null===(t=e.other)||void 0===t?void 0:t.type)}))}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onFieldActivated",e),e.listData=e.options(e.fdata);case 2:case"end":return t.stop()}}),t)})))()}});n("9767");const pn=m()(dn,[["render",ln],["__scopeId","data-v-541eef98"]]);var bn=pn,fn=Object(r["withScopeId"])("data-v-0d5c5048");Object(r["pushScopeId"])("data-v-0d5c5048");var mn={class:"view-port-content"},hn=Object(r["createVNode"])("b",null," Medication ",-1),gn=Object(r["createVNode"])("b",null," Amount Remaining ",-1),On={class:"his-card",style:{textAlign:"left"}};Object(r["popScopeId"])();var vn=fn((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-input"),l=Object(r["resolveComponent"])("ion-grid"),d=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(d,null,{default:fn((function(){return[Object(r["createVNode"])("div",mn,[Object(r["createVNode"])(l,null,{default:fn((function(){return[Object(r["createVNode"])(s,null,{default:fn((function(){return[Object(r["createVNode"])(c,{size:"8"},{default:fn((function(){return[hn]})),_:1}),Object(r["createVNode"])(c,{size:"4"},{default:fn((function(){return[gn]})),_:1})]})),_:1}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n},{default:fn((function(){return[Object(r["createVNode"])(c,{size:"8"},{default:fn((function(){return[Object(r["createVNode"])("div",On,Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(c,{size:"4"},{default:fn((function(){return[Object(r["createVNode"])(u,{value:t.value,onClick:function(n){return e.launchKeyPad(t)},class:"his-card"},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})})),_n=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],IonInput:k["s"]},mixins:[d],data:function(){return{listData:[]}},watch:{clear:{handler:function(e){e&&this.onClear(),this.$emit("onClear")},immediate:!0},listData:{handler:function(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:{onClear:function(){this.listData=this.listData.filter((function(e){return e.value="",!0}))},launchKeyPad:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k["S"].create({component:Ke["a"],backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:e.label,preset:e.value,strictNumbers:!0,onKeyPress:function(t){e.value=t}}});case 2:n=t.sent,n.present();case 4:case"end":return t.stop()}}),t)})))()}}});n("d474");const jn=m()(_n,[["render",vn],["__scopeId","data-v-0d5c5048"]]);var wn=jn,yn=Object(r["withScopeId"])("data-v-6338108b");Object(r["pushScopeId"])("data-v-6338108b");var kn={class:"view-port-content"},xn=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null,"Accession #"),Object(r["createVNode"])("th",null,"Test Name"),Object(r["createVNode"])("th",null,"Specimen"),Object(r["createVNode"])("th",null,"Ordered"),Object(r["createVNode"])("th",null,"Result"),Object(r["createVNode"])("th",null,"Released")],-1),Nn=Object(r["createVNode"])("br",null,null,-1);Object(r["popScopeId"])();var Vn=yn((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(c,null,{default:yn((function(){return[Object(r["createVNode"])("div",kn,[Object(r["createVNode"])("table",null,[xn,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rows,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.accession_number),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.test_name),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.specimen),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.ordered),1),Object(r["createVNode"])("td",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.result,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:t},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e)+" ",1),Nn])})),128))]),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.released),1)])})),128))])])]})),_:1})})),Cn=(n("b0c0"),Object(r["withScopeId"])("data-v-e8a35458"));Object(r["pushScopeId"])("data-v-e8a35458");var Dn=Object(r["createTextVNode"])("Lab orders"),Tn={style:{}},Rn=Object(r["createVNode"])("div",{class:"side-title"}," Select specimen ",-1),In=Object(r["createVNode"])("div",{class:"side-title"}," Main test(s) reason ",-1),Sn=Object(r["createVNode"])("p",null,null,-1),Pn={style:{background:"lightyellow",height:"200px"}},An=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,"Test"),Object(r["createVNode"])("td",null,"Specimen"),Object(r["createVNode"])("td",null,"Reason"),Object(r["createVNode"])("td",null,"Action")])],-1),Bn=Object(r["createTextVNode"])("X"),En=Object(r["createTextVNode"])(" Place orders "),Fn=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var Ln=Cn((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-checkbox"),p=Object(r["resolveComponent"])("ion-item"),b=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("ion-col"),m=Object(r["resolveComponent"])("ion-radio"),h=Object(r["resolveComponent"])("ion-radio-group"),g=Object(r["resolveComponent"])("ion-button"),O=Object(r["resolveComponent"])("ion-row"),v=Object(r["resolveComponent"])("ion-grid"),_=Object(r["resolveComponent"])("ion-content"),j=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Cn((function(){return[Object(r["createVNode"])(s,null,{default:Cn((function(){return[Object(r["createVNode"])(c,null,{default:Cn((function(){return[Dn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(_,{style:{overflowY:"hidden",background:"grey"}},{default:Cn((function(){return[Object(r["createVNode"])(v,null,{default:Cn((function(){return[Object(r["createVNode"])(O,null,{default:Cn((function(){return[Object(r["createVNode"])(f,{size:"4"},{default:Cn((function(){return[Object(r["createVNode"])(b,{style:{overflowY:"auto",height:"78vh"}},{default:Cn((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.testTypes,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:t,onClick:function(r){return e.getSpecimens(t.name,n)},detail:!0},{default:Cn((function(){return[Object(r["createVNode"])(l,null,{default:Cn((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1024),Object(r["createVNode"])(d,{modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e},slot:"start"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1}),null!=e.activeIndex&&e.selectedOrders.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:Cn((function(){return[Object(r["createVNode"])("div",Tn,[e.extendedLabsEnabled?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0},{default:Cn((function(){return[Object(r["createVNode"])(h,{modelValue:e.testTypes[e.activeIndex]["specimen"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.testTypes[e.activeIndex]["specimen"]=t})},{default:Cn((function(){return[Rn,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.specimens,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:t},{default:Cn((function(){return[Object(r["createVNode"])(l,null,{default:Cn((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1024),Object(r["createVNode"])(m,{slot:"start",value:t.name,onClick:function(n){return e.addSpecimen(t)}},null,8,["value","onClick"])]})),_:2},1024)})),128))]})),_:1},8,["modelValue"])]})),_:1})),Object(r["createVNode"])(h,{modelValue:e.testTypes[e.activeIndex]["reason"],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.testTypes[e.activeIndex]["reason"]=t})},{default:Cn((function(){return[In,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.reasons,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:e},{default:Cn((function(){return[Object(r["createVNode"])(l,null,{default:Cn((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1024),Object(r["createVNode"])(m,{slot:"start",value:e},null,8,["value"])]})),_:2},1024)})),128))]})),_:1},8,["modelValue"])]),Sn,Object(r["createVNode"])("div",Pn,[Object(r["createVNode"])("table",null,[An,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.finalOrders,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.name),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.specimen||"N/A"),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.reason),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(g,{onClick:function(n){return e.removeOrder(t.currentIndex)},slot:"end",color:"danger"},{default:Cn((function(){return[Bn]})),_:1},8,["onClick"])])])})),128))])])])]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(j,null,{default:Cn((function(){return[Object(r["createVNode"])(s,null,{default:Cn((function(){return[Object(r["createVNode"])(g,{onClick:e.postActivities,slot:"end",disabled:0===e.finalOrders.length},{default:Cn((function(){return[En]})),_:1},8,["onClick","disabled"]),Object(r["createVNode"])(g,{onClick:t[3]||(t[3]=function(t){return e.closeModal([])}),slot:"start",color:"danger"},{default:Cn((function(){return[Fn]})),_:1})]})),_:1})]})),_:1})],64)})),Mn=n("b5e4"),Hn=n("9b7c"),Un=n("d4ec"),qn=n("262e"),zn=n("2caf"),Gn=n("cc6f"),Yn=function(e){Object(qn["a"])(n,e);var t=Object(zn["a"])(n);function n(e,r){return Object(Un["a"])(this,n),t.call(this,e,57,r)}return n}(Gn["a"]),Kn=n("b89f"),Wn=Object(r["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},title:{type:String,default:""}},watch:{activities:{handler:function(e){e&&(this.appActivities=Object(q["a"])(e),this.getActivities())},immediate:!0}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt["a"].get("extended_labs");case 2:n=t.sent,e.extendedLabsEnabled="true"===n;case 4:case"end":return t.stop()}}),t)})))()},methods:{getActivities:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Hn["a"].getTestTypes();case 2:e.testTypes=t.sent;case 3:case"end":return t.stop()}}),t)})))()},getSpecimens:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Hn["a"].getSpecimens(e);case 2:n.specimens=r.sent,n.testTypes[t]["currentIndex"]=t,n.activeIndex=t;case 5:case"end":return r.stop()}}),r)})))()},removeOrder:function(e){this.testTypes[e]["isChecked"]=!1},addSpecimen:function(e){this.testTypes[this.activeIndex]["specimenConcept"]=e.concept_id},postActivities:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(e.$route.params.patient_id),r=new Yn(parseInt(n),-1),t.next=4,r.createEncounter();case 4:if(a=t.sent,!a){t.next=15;break}return t.next=8,Hn["a"].buildLabOrders(a,e.finalOrders);case 8:return o=t.sent,t.next=11,Hn["a"].saveOrdersArray(a.encounter_id,o);case 11:if(i=t.sent,i){t.next=14;break}return t.abrupt("return",Object(Mn["e"])("Unable to save lab orders"));case 14:Object(Mn["a"])("Lab orders and encounter created!, print out your last orders?",[{text:"Yes",handler:function(){return e.printOrders(i)}},{text:"No",handler:function(){return e.closeModal(i)}}]);case 15:case"end":return t.stop()}}),t)})))()},closeModal:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k["S"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()},printOrders:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Kn["a"],t.next=3,e.forEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="lab/labels/order?order_id=".concat(t.order_id),e.next=3,n.printLbl(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.next=5,k["S"].dismiss(e);case 5:case"end":return t.stop()}}),t)})))()}},computed:{selectedOrders:function(){return this.testTypes.filter((function(e){return!0===e.isChecked}))},finalOrders:function(){var e=this;return this.selectedOrders.filter((function(t){return t.reason&&(t.specimen&&!e.extendedLabsEnabled||e.extendedLabsEnabled)}))}},mounted:function(){this.getActivities()},data:function(){return{content:"Content",extendedLabsEnabled:!1,appActivities:[],testTypes:[],specimens:[],reasons:["Routine","Targeted","Confirmatory","Stat","Repeat / Missing"],activeIndex:null}},components:{IonButton:k["d"],IonContent:k["m"],IonHeader:k["p"],IonTitle:k["J"],IonToolbar:k["K"],IonLabel:k["u"],IonList:k["v"],IonItem:k["t"],IonCheckbox:k["j"],IonRadioGroup:k["C"],IonRow:k["E"]}});n("47eb4");const $n=m()(Wn,[["render",Ln],["__scopeId","data-v-e8a35458"]]);var Jn=$n,Xn=Object(r["defineComponent"])({components:{ViewPort:D["a"]},mixins:[d],data:function(){return{rows:[]}},methods:{formatOrders:function(e){return e.map((function(e){return{accession_number:e.accession_number,test_name:e.tests[0].name,specimen:e.specimen.name,ordered:e.order_date,result:[],release:""}}))},launchOrderSelection:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k["S"].create({component:Jn,backdropDismiss:!1,cssClass:"large-modal"});case 2:return n=t.sent,n.present(),t.next=6,n.onDidDismiss();case 6:r=t.sent,a=r.data,Object(S["isEmpty"])(a)||(e.rows=[].concat(Object(q["a"])(e.formatOrders(a)),Object(q["a"])(e.rows)));case 9:case"end":return t.stop()}}),t)})))()}},activated:function(){this.$emit("onFieldActivated",this)},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options(e.fdata);case 2:n=t.sent,e.rows=n[0].other.values;case 4:case"end":return t.stop()}}),t)})))()}});n("e8ee");const Qn=m()(Xn,[["render",Vn],["__scopeId","data-v-6338108b"]]);var Zn=Qn,er=Object(r["withScopeId"])("data-v-154432c2");Object(r["pushScopeId"])("data-v-154432c2");var tr={class:"view-port-content"},nr={key:0,class:"his-card history"},rr={class:"his-table"},ar=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null," Medication"),Object(r["createVNode"])("th",null," Date"),Object(r["createVNode"])("th",null," Amount dispensed ")],-1),or={key:1,class:"prescription-tab"},ir={class:"prescription-table-section his-card"},cr={class:"his-table"},sr=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null," Medication"),Object(r["createVNode"])("th",null," Amount in stock"),Object(r["createVNode"])("th",null," Amount needed"),Object(r["createVNode"])("th",null," Amount dispensed "),Object(r["createVNode"])("th",null," Reset ")],-1),ur={class:"barcode-section"};Object(r["popScopeId"])();var lr=er((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("nav-button"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-input"),l=Object(r["resolveComponent"])("reset-button"),d=Object(r["resolveComponent"])("barcode"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:er((function(){return[Object(r["createVNode"])("div",tr,[Object(r["createVNode"])(p,null,{default:er((function(){return[Object(r["createVNode"])(s,{size:"2"},{default:er((function(){return[Object(r["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.tab="prescribe"}),isActive:"prescribe"===e.tab,image:"prescription/rx",label:"Prescribed"},null,8,["isActive"]),Object(r["createVNode"])(c,{onClick:t[2]||(t[2]=function(t){return e.tab="history"}),isActive:"history"===e.tab,image:"prescription/history",label:"History"},null,8,["isActive"])]})),_:1}),Object(r["createVNode"])(s,{size:"10"},{default:er((function(){return["history"===e.tab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",nr,[Object(r["createVNode"])("table",rr,[ar,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.medicationHistory,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.medication),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.date),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.amount),1)])})),128))])])):Object(r["createCommentVNode"])("",!0),"prescribe"===e.tab?(Object(r["openBlock"])(),Object(r["createBlock"])("div",or,[Object(r["createVNode"])("div",ir,[Object(r["createVNode"])("table",cr,[sr,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.label),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.other.available_stock||"-"),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.other.amount_needed),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(u,{disabled:t.value>0,value:t.value,onClick:function(n){return t.value<=0?e.launchDispenser(t):null},class:"dosage-input"},null,8,["disabled","value","onClick"])]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(l,{disabled:t.value<=0,onClick:function(n){return t.value>0?e.onReset(t):null}},null,8,["disabled","onClick"])])])})),128))])]),Object(r["createVNode"])("div",ur,[Object(r["createVNode"])(d,{onOnScan:e.onScan},null,8,["onOnScan"])])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})})),dr=(n("13d5"),n("3ca3"),Object(r["withScopeId"])("data-v-7970cd10")),pr=dr((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("center");return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:e.state},[Object(r["createVNode"])(c,null,{default:dr((function(){return[Object(r["createVNode"])("img",{src:e.icon},null,8,["src"])]})),_:1})],2)})),br=Object(r["defineComponent"])({props:{label:{type:String,required:!0},disabled:{type:Boolean}},computed:{state:function(){return this.disabled?"disabled-btn":"clickable"},icon:function(){return"assets/images/reset.png"}}});n("de49");const fr=m()(br,[["render",pr],["__scopeId","data-v-7970cd10"]]);var mr=fr,hr=Object(r["withScopeId"])("data-v-0444bd9a");Object(r["pushScopeId"])("data-v-0444bd9a");var gr={colspan:"6"},Or=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null,"Total tab(s) needed "),Object(r["createVNode"])("th",{colspan:"2"}," Available stock "),Object(r["createVNode"])("th",{colspan:"2"}," Dispensed "),Object(r["createVNode"])("th")],-1),vr=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th"),Object(r["createVNode"])("th",null," Pack size "),Object(r["createVNode"])("th",null," Packs "),Object(r["createVNode"])("th",null," Total Tab(s)"),Object(r["createVNode"])("th",null," Packs "),Object(r["createVNode"])("th")],-1),_r={class:"btn-list"},jr=Object(r["createTextVNode"])(" + "),wr=Object(r["createTextVNode"])(" - "),yr=Object(r["createTextVNode"])(" Close "),kr=Object(r["createTextVNode"])(" Dispense ");Object(r["popScopeId"])();var xr=hr((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-content"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:hr((function(){return[Object(r["createVNode"])("table",null,[Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",gr,Object(r["toDisplayString"])(e.drugName),1)]),Or,vr]),Object(r["createVNode"])("tbody",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",{rowspan:e.amountNeededRowSpan},Object(r["toDisplayString"])(e.tabsNeeded)+" tab(s) ",9,["rowspan"])]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{key:t,class:t>=2?"input-field":""},Object(r["toDisplayString"])(e),3)})),128)),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("ul",_r,[Object(r["createVNode"])("li",null,[Object(r["createVNode"])(c,{onClick:function(t){return e.incrementAmount(n)},class:"dispense-btn",size:"large"},{default:hr((function(){return[jr]})),_:1},8,["onClick"])]),Object(r["createVNode"])("li",null,[Object(r["createVNode"])(c,{onClick:function(t){return e.decrementAmount(n)},class:"dispense-btn",size:"large"},{default:hr((function(){return[wr]})),_:1},8,["onClick"])])])])])})),128))])])]})),_:1}),Object(r["createVNode"])(l,null,{default:hr((function(){return[Object(r["createVNode"])(u,null,{default:hr((function(){return[Object(r["createVNode"])(c,{onClick:e.onClose,color:"danger",size:"large",slot:"end"},{default:hr((function(){return[yr]})),_:1},8,["onClick"]),Object(r["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.onDispense(e.dispensedValues)}),disabled:e.totalTabs<=0,color:"success",size:"large",slot:"end"},{default:hr((function(){return[kr]})),_:1},8,["disabled"])]})),_:1})]})),_:1})],64)})),Nr=Object(r["defineComponent"])({data:function(){return{listData:[],tabsIndex:2,packsIndex:3}},props:{drugName:{type:String,required:!0},tabsNeeded:{type:String,required:!0},items:{type:Array,required:!0},onDispense:{type:Function,required:!0}},computed:{dispensedValues:function(){var e=this;return this.listData.filter((function(t){return t[e.tabsIndex]>0})).map((function(t){return[t[e.tabsIndex],t[e.packsIndex]]}))},amountNeededRowSpan:function(){return this.listData.length+1}},watch:{items:{handler:function(e){e&&(this.listData=Object(q["a"])(e))},deep:!0,immediate:!0}},methods:{onClose:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()},incrementAmount:function(e){var t=Object(mt["a"])(this.listData[e],4),n=t[0],r=(t[1],t[2]),a=t[3],o=n+r,i=a+1;this.listData[e][2]=o,this.listData[e][3]=i},decrementAmount:function(e){var t=Object(mt["a"])(this.listData[e],4),n=t[0],r=(t[1],t[2]),a=t[3],o=a-1;if(o>=0){var i=r-n;this.listData[e][2]=i,this.listData[e][3]=o}}}});n("c653");const Vr=m()(Nr,[["render",xr],["__scopeId","data-v-0444bd9a"]]);var Cr=Vr,Dr=Object(r["defineComponent"])({components:{ViewPort:D["a"],Barcode:p["a"],NavButton:St,ResetButton:mr,IonRow:k["E"],IonCol:k["l"]},mixins:[d],data:function(){return{tab:"prescribe",listData:[]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},computed:{medicationHistory:function(){return this.config&&this.config.medicationHistory?this.config.medicationHistory:[]}},methods:{onScan:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.split("-"),a=Object(mt["a"])(r,2),o=a[0],i=a[1],s=t.listData.map(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n){var r,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.other.drug_id!==parseInt(o)){e.next=7;break}return r=parseInt(n.value.toString()),a=parseInt(i),e.next=5,t.updateOnValue(n,a,[],!0);case 5:c=e.sent,c&&(n.value=a+r);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.next=4,Promise.all(s);case 4:t.listData=n.sent;case 5:case"end":return n.stop()}}),n)})))()},onReset:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.updateOnValue(e,-1);case 2:case"end":return n.stop()}}),n)})))()},updateOnValue:function(e,t){var n=arguments,r=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var o,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=n.length>2&&void 0!==n[2]?n[2]:[],i=n.length>3&&void 0!==n[3]&&n[3],!r.onValue){a.next=8;break}return a.next=5,r.onValue({label:e.label,other:Object(z["a"])({dispenses:o},e.other),value:t},i);case 5:if(c=a.sent,c){a.next=8;break}return a.abrupt("return",!1);case 8:if(e.value=t<0?0:t,r.$emit("onValue",e),!r.onValueUpdate){a.next=14;break}return a.next=13,r.onValueUpdate(e,r.listData);case 13:r.listData=a.sent;case 14:return a.abrupt("return",!0);case 15:case"end":return a.stop()}}),a)})))()},launchDispenser:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k["S"].create({component:Cr,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{drugName:e.label,tabsNeeded:e.other.amount_needed,items:e.other.pack_sizes,onDispense:function(){var n=Object(c["a"])(regeneratorRuntime.mark((function n(r){var a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=0,o=r.reduce((function(e,t){return e+t[a]}),0),n.next=4,t.updateOnValue(e,o,r);case 4:if(i=n.sent,!i){n.next=8;break}return n.next=8,k["S"].dismiss({});case 8:case"end":return n.stop()}}),n)})));function r(e){return n.apply(this,arguments)}return r}()}});case 2:r=n.sent,r.present();case 4:case"end":return n.stop()}}),n)})))()}}});n("5acd");const Tr=m()(Dr,[["render",lr],["__scopeId","data-v-154432c2"]]);var Rr=Tr,Ir=Object(r["withScopeId"])("data-v-7962b9da");Object(r["pushScopeId"])("data-v-7962b9da");var Sr={class:"view-port-content"},Pr={key:0,style:{textAlign:"center"}},Ar={key:1,class:"his-table"},Br=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null,"State"),Object(r["createVNode"])("th",null,"State Date"),Object(r["createVNode"])("th",null,"End Date"),Object(r["createVNode"])("th",null,"Actions")],-1);Object(r["popScopeId"])();var Er=Ir((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-label"),s=Object(r["resolveComponent"])("ion-item"),u=Object(r["resolveComponent"])("ion-list"),l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-button"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:Ir((function(){return[Object(r["createVNode"])("div",Sr,[Object(r["createVNode"])(p,null,{default:Ir((function(){return[Object(r["createVNode"])(l,{size:"4"},{default:Ir((function(){return[Object(r["createVNode"])(u,null,{default:Ir((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{color:t.label===e.activeProgram.label?"primary":"",key:n,onClick:function(n){return e.onselect(t)},detail:""},{default:Ir((function(){return[Object(r["createVNode"])(c,null,{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"8"},{default:Ir((function(){return[e.activeProgram.label&&e.states.length<=0?(Object(r["openBlock"])(),Object(r["createBlock"])("h3",Pr," Program has no states ")):Object(r["createCommentVNode"])("",!0),e.activeProgram.label&&e.states.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("table",Ar,[Br,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.states,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.name),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.startDate),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.endDate||"N/A"),1),Object(r["createVNode"])("td",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.actions,(function(t,a){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:a,color:t.color,onClick:function(r){return t.action(e.activeProgram,n)}},{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1032,["color","onClick"])})),128))])])})),128))])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})})),Fr=Object(r["defineComponent"])({name:"HisSelect",components:{ViewPort:D["a"],IonCol:k["l"],IonRow:k["E"],IonLabel:k["u"],IonList:k["v"],IonButton:k["d"],IonItem:k["t"]},mixins:[d],watch:{clear:function(e){e&&(this.activeProgram={},this.$emit("onClear"))}},data:function(){return{listData:[],activeProgram:{}}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},computed:{states:function(){return Object(S["isEmpty"])(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{formatDate:function(e){return e?Yt["a"].toStandardHisDisplayFormat(e):"N/A"},onselect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.activeProgram=e,!t.onValue){n.next=8;break}return n.next=4,t.onValue(e,t);case 4:if(r=n.sent,r){n.next=8;break}return t.activeProgram={},n.abrupt("return");case 8:t.$emit("onValue",e);case 9:case"end":return n.stop()}}),n)})))()}}});n("b1bd");const Lr=m()(Fr,[["render",Er],["__scopeId","data-v-7962b9da"]]);var Mr=Lr,Hr=Object(r["withScopeId"])("data-v-1beb1770");Object(r["pushScopeId"])("data-v-1beb1770");var Ur={class:"view-port-content"},qr=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("b",null,"Appointment(s)")])],-1);Object(r["popScopeId"])();var zr=Hr((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("DatePicker"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid"),d=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(d,null,{default:Hr((function(){return[Object(r["createVNode"])("div",Ur,[Object(r["createVNode"])(l,null,{default:Hr((function(){return[Object(r["createVNode"])(u,null,{default:Hr((function(){return[Object(r["createVNode"])(s,{size:"9"},{default:Hr((function(){return[Object(r["createVNode"])(c,{"is-expanded":"",modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.date=t}),"max-date":e.maxDate,class:"custom-calendar max-w-full"},null,8,["modelValue","max-date"])]})),_:1}),Object(r["createVNode"])(s,{size:"3"},{default:Hr((function(){return[Object(r["createVNode"])("table",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[qr,Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.appointmentCounter),1)])])])])]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Gr=n("1c74"),Yr=Object(r["defineComponent"])({components:{DatePicker:Gt["b"],ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"]},mixins:[d],watch:{date:{handler:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=9;break}if(r=Yt["a"].toStandardHisFormat(e),!t.onValue){n.next=8;break}return n.next=5,t.onValue(r,t);case 5:if(a=n.sent,a){n.next=8;break}return n.abrupt("return");case 8:t.$emit("onValue",r);case 9:case"end":return n.stop()}}),n)})))()},immediate:!0}},data:function(){return{date:"",minDate:"",appointmentCounter:0}},created:function(){this.minDate=Gr["c"].getSessionDate()},activated:function(){this.$emit("onFieldActivated",this)}});n("06b8"),n("d65a");const Kr=m()(Yr,[["render",zr],["__scopeId","data-v-1beb1770"]]);var Wr=Kr,$r=Object(r["withScopeId"])("data-v-126e8d03");Object(r["pushScopeId"])("data-v-126e8d03");var Jr={class:"large-card"},Xr={class:"large-card"};Object(r["popScopeId"])();var Qr=$r((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("ion-avatar"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("ion-col"),b=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:$r((function(){return[Object(r["createVNode"])(p,{size:"5"},{default:$r((function(){return[Object(r["createVNode"])("div",Jr,[Object(r["createVNode"])("h3",null,Object(r["toDisplayString"])(e.foundRecordsTitle)+" ("+Object(r["toDisplayString"])(e.listData.length)+"): ",1),Object(r["createVNode"])(d,null,{default:$r((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{button:"",key:n,detail:!0,color:t.value===e.selectedResult.value?"light":"",onClick:function(n){return e.onSelect(t)}},{default:$r((function(){return[Object(r["createVNode"])(s,null,{default:$r((function(){return[Object(r["createVNode"])(c,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(r["createVNode"])(u,null,{default:$r((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(r["createVNode"])(p,{size:"7"},{default:$r((function(){return[Object(r["createVNode"])("div",Xr,[Object(r["createVNode"])("h3",null,Object(r["toDisplayString"])(e.detailsTitle),1),Object(r["createVNode"])(d,null,{default:$r((function(){var t,n;return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])((null===(t=e.selectedResult)||void 0===t||null===(n=t.other)||void 0===n?void 0:n.options)||[],(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:t,inset:"none"},{default:$r((function(){return[Object(r["createVNode"])(u,null,{default:$r((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(u,{slot:"end"},{default:$r((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})})),Zr=Object(r["defineComponent"])({mixins:[d],components:{IonLabel:k["u"],IonAvatar:k["b"],IonRow:k["E"],IonImg:k["r"],IonCol:k["l"],IonList:k["v"],IonItem:k["t"]},data:function(){return{listData:[],selectedResult:{}}},computed:{foundRecordsTitle:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.foundRecordsTitle)||"Found People"},detailsTitle:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.detailsTitle)||"Details:"}},methods:{onSelect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(!t.onValue){n.next=8;break}return n.next=5,t.onValue(e,t);case 5:if(r=n.sent,r){n.next=8;break}return n.abrupt("return");case 8:t.selectedResult=e,t.$emit("onValue",e);case 10:case"end":return n.stop()}}),n)})))()}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.onSelect({}),e.$emit("onFieldActivated",e),t.next=4,e.options(e.fdata,e);case 4:e.listData=t.sent;case 5:case"end":return t.stop()}}),t)})))()}});n("7e82");const ea=m()(Zr,[["render",Qr],["__scopeId","data-v-126e8d03"]]);var ta=ea,na=Object(r["withScopeId"])("data-v-cd6d6c58");Object(r["pushScopeId"])("data-v-cd6d6c58");var ra={class:"tool-bar-medium-card"},aa=Object(r["createTextVNode"])(" Patient "),oa=Object(r["createTextVNode"])("Name: "),ia=Object(r["createTextVNode"])("Birthdate: "),ca=Object(r["createTextVNode"])("Home Address: "),sa=Object(r["createTextVNode"])(" TO "),ua={class:"tool-bar-medium-card"},la=Object(r["createTextVNode"])(" Guardian "),da=Object(r["createTextVNode"])("Name: "),pa=Object(r["createTextVNode"])("Birthdate: "),ba=Object(r["createTextVNode"])("Home Address: "),fa={class:"view-port-content"},ma=Object(r["createTextVNode"])("Relationship "),ha=Object(r["createTextVNode"])("Desc ");Object(r["popScopeId"])();var ga=na((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("center"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:na((function(){return[Object(r["createVNode"])(u,null,{default:na((function(){return[Object(r["createVNode"])(s,null,{default:na((function(){return[Object(r["createVNode"])("div",ra,[Object(r["createVNode"])(c,{class:"relation-category",style:{color:"#3880ff"}},{default:na((function(){return[aa]})),_:1}),Object(r["createVNode"])("ul",null,[Object(r["createVNode"])("li",null,[oa,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.name),1)]),Object(r["createVNode"])("li",null,[ia,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.birthdate),1)]),Object(r["createVNode"])("li",null,[ca,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.homeAddress),1)])])])]})),_:1}),Object(r["createVNode"])(s,{size:"2"},{default:na((function(){return[Object(r["createVNode"])(c,{class:"relation-category",style:{marginTop:"20%"}},{default:na((function(){return[sa]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:na((function(){return[Object(r["createVNode"])("div",ua,[Object(r["createVNode"])(c,{class:"relation-category",style:{color:"#3dc2ff"}},{default:na((function(){return[la]})),_:1}),Object(r["createVNode"])("ul",null,[Object(r["createVNode"])("li",null,[da,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.guardian.name),1)]),Object(r["createVNode"])("li",null,[pa,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.guardian.birthdate),1)]),Object(r["createVNode"])("li",null,[ba,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.guardian.homeAddress),1)])])])]})),_:1})]})),_:1}),Object(r["createVNode"])("div",fa,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.relationList,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:n},{default:na((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{size:"6",key:n},{default:na((function(){return[Object(r["createVNode"])("div",{class:"his-card clickable ".concat(e.selected===t.label?"active-card-color":""),onClick:function(n){return e.onClick(t)}},[Object(r["createVNode"])("ul",null,[Object(r["createVNode"])("li",null,[ma,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.label),1)]),Object(r["createVNode"])("li",null,[ha,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.value),1)])])],10,["onClick"])]})),_:2},1024)})),128))]})),_:2},1024)})),128))])]})),_:1})})),Oa=Object(r["defineComponent"])({mixins:[d],components:{ViewPort:D["a"],IonCol:k["l"],IonRow:k["E"]},data:function(){return{patient:{},guardian:{},selected:"",listData:[]}},computed:{relationList:function(){return xe["a"].convertArrayToTurples(this.listData,2)}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()},methods:{onClick:function(e){this.selected=e.label,this.$emit("onValue",e)}}});n("45c6");const va=m()(Oa,[["render",ga],["__scopeId","data-v-cd6d6c58"]]);var _a=va,ja=Object(r["withScopeId"])("data-v-46eb461a");Object(r["pushScopeId"])("data-v-46eb461a");var wa=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null,"  "),Object(r["createVNode"])("th",null," Name "),Object(r["createVNode"])("th",null," New Number "),Object(r["createVNode"])("th",null," Old Number ")],-1),ya={class:"f-number f-active-col"},ka={class:"f-number f-inactive-col"};Object(r["popScopeId"])();var xa=ja((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(c,null,{default:ja((function(){return[Object(r["createVNode"])("table",null,[wa,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.label),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.value),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("div",ya,Object(r["toDisplayString"])(e.other.activeNumber),1)]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])("div",ka,Object(r["toDisplayString"])(e.other.dormantNumber),1)])])})),128))])]})),_:1})})),Na=Object(r["defineComponent"])({components:{ViewPort:D["a"]},mixins:[d],data:function(){return{listData:[]}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata,e.cdata);case 3:e.listData=t.sent;case 4:case"end":return t.stop()}}),t)})))()}});n("b53b");const Va=m()(Na,[["render",xa],["__scopeId","data-v-46eb461a"]]);var Ca=Va,Da=Object(r["withScopeId"])("data-v-7c5351d3");Object(r["pushScopeId"])("data-v-7c5351d3");var Ta={class:"large-card"},Ra=Object(r["createVNode"])("br",null,null,-1),Ia=Object(r["createTextVNode"])(" Home District: "),Sa=Object(r["createTextVNode"])(),Pa=Object(r["createVNode"])("br",null,null,-1),Aa=Object(r["createTextVNode"])(" Home TA: "),Ba=Object(r["createTextVNode"])(" Score: "),Ea={class:"large-card"};Object(r["popScopeId"])();var Fa=Da((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("ion-avatar"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("ion-col"),b=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:Da((function(){return[Object(r["createVNode"])(p,{size:"5"},{default:Da((function(){return[Object(r["createVNode"])("div",Ta,[Object(r["createVNode"])("h3",null," Matches found: ("+Object(r["toDisplayString"])(e.listData.length)+"): ",1),Object(r["createVNode"])(d,null,{default:Da((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{button:"",key:n,detail:!0,color:t.value===e.selectedResult.value?"light":"",onClick:function(n){return e.onSelect(t)}},{default:Da((function(){return[Object(r["createVNode"])(s,null,{default:Da((function(){return[Object(r["createVNode"])(c,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(r["createVNode"])(u,null,{default:Da((function(){var e;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label)+" ",1),Ra,Ia,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.other.foundPerson.home_district),1),Sa,Pa,Aa,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.other.home_traditional_authority),1),Ba,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])((null===t||void 0===t||null===(e=t.other)||void 0===e?void 0:e.score)||"-"),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(r["createVNode"])(p,{size:"7"},{default:Da((function(){var t,n;return[Object(r["createVNode"])("div",Ea,[Object(r["createVNode"])("h1",null," Match score: "+Object(r["toDisplayString"])((null===(t=e.selectedResult)||void 0===t||null===(n=t.other)||void 0===n?void 0:n.score)||"-"),1),Object(r["createVNode"])(d,null,{default:Da((function(){var t,n;return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])((null===(t=e.selectedResult)||void 0===t||null===(n=t.other)||void 0===n?void 0:n.comparisons)||[],(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:t,inset:"none"},{default:Da((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{color:"danger",key:t},{default:Da((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e),1)]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})})),La=Object(r["defineComponent"])({mixins:[d],components:{IonLabel:k["u"],IonAvatar:k["b"],IonRow:k["E"],IonImg:k["r"],IonCol:k["l"],IonList:k["v"],IonItem:k["t"]},data:function(){return{listData:[],selectedResult:{}}},methods:{onSelect:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:if(!t.onValue){n.next=8;break}return n.next=5,t.onValue(e,t);case 5:if(r=n.sent,r){n.next=8;break}return n.abrupt("return");case 8:t.selectedResult=e,t.$emit("onValue",e);case 10:case"end":return n.stop()}}),n)})))()}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),t.next=3,e.options(e.fdata,e);case 3:e.listData=t.sent,e.onSelect(e.listData[0]||{});case 5:case"end":return t.stop()}}),t)})))()}});n("7e31");const Ma=m()(La,[["render",Fa],["__scopeId","data-v-7c5351d3"]]);var Ha=Ma,Ua=Object(r["withScopeId"])("data-v-2a0f64ba");Object(r["pushScopeId"])("data-v-2a0f64ba");var qa=Object(r["createTextVNode"])("+"),za=Object(r["createTextVNode"])("+"),Ga=Object(r["createTextVNode"])("+"),Ya=Object(r["createTextVNode"])(" Today "),Ka=Object(r["createTextVNode"])("-"),Wa=Object(r["createTextVNode"])("-"),$a=Object(r["createTextVNode"])("-");Object(r["popScopeId"])();var Ja=Ua((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("base-input"),s=Object(r["resolveComponent"])("view-port"),u=Object(r["resolveComponent"])("ion-button"),l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-input"),b=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:Ua((function(){return[Object(r["createVNode"])(c,{value:e.fullDate,onOnValue:e.onKbValue},null,8,["value","onOnValue"])]})),_:1}),Object(r["createVNode"])(b,null,{default:Ua((function(){return[Object(r["createVNode"])(d,null,{default:Ua((function(){return[Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[1]||(t[1]=function(t){return e.add("day")}),size:"large"},{default:Ua((function(){return[qa]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[2]||(t[2]=function(t){return e.add("month")}),size:"large"},{default:Ua((function(){return[za]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[3]||(t[3]=function(t){return e.add("year")}),size:"large"},{default:Ua((function(){return[Ga]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Ua((function(){return[Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(p,{class:"date-inputs"},{default:Ua((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getDay),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(p,{class:"date-inputs"},{default:Ua((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getMonth),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(p,{class:"date-inputs"},{default:Ua((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getYear),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[4]||(t[4]=function(t){return e.today()}),size:"large"},{default:Ua((function(){return[Ya]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Ua((function(){return[Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[5]||(t[5]=function(t){return e.subtract("day")}),size:"large"},{default:Ua((function(){return[Ka]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[6]||(t[6]=function(t){return e.subtract("month")}),size:"large"},{default:Ua((function(){return[Wa]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"2"},{default:Ua((function(){return[Object(r["createVNode"])(u,{onClick:t[7]||(t[7]=function(t){return e.subtract("year")}),size:"large"},{default:Ua((function(){return[$a]})),_:1})]})),_:1})]})),_:1})]})),_:1})],64)})),Xa=Object(r["defineComponent"])({components:{BaseInput:V,ViewPort:D["a"],IonInput:k["s"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],IonButton:k["d"]},mixins:[d],data:function(){return{value:"",keyboard:C["d"],date:""}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),e.date=new Date,t.next=4,e.setDefaultValue();case 4:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.defaultValue||e.value){t.next=5;break}return t.next=3,e.defaultValue(e.fdata,e.cdata);case 3:n=t.sent,n&&(e.value=n.toString());case 5:case"end":return t.stop()}}),t)})))()},onKbValue:function(e){this.value=e},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()},add:function(e){this.date=Yt["a"].add("".concat(this.date),e,1)},subtract:function(e){this.date=Yt["a"].subtract("".concat(this.date),e,1)},today:function(){this.date=Gr["c"].getSessionDate()}},computed:{getYear:function(){return Yt["a"].getYear("".concat(this.date))},getMonth:function(){return Yt["a"].getMonth("".concat(this.date))},getDay:function(){return Yt["a"].getDay("".concat(this.date))},fullDate:function(){return Yt["a"].toStandardHisFormat(this.date)}},watch:{value:function(e){this.$emit("onValue",{label:e,value:this.fullDate})},clear:function(e){e&&(this.value="",this.$emit("onClear"))}}});n("4f48");const Qa=m()(Xa,[["render",Ja],["__scopeId","data-v-2a0f64ba"]]);var Za=Qa,eo=Object(r["withScopeId"])("data-v-1e032746");Object(r["pushScopeId"])("data-v-1e032746");var to={key:0},no={class:"drug-info"},ro={id:"batch-table",style:{border:"1.5px solid rgb(92, 166, 196)","border-radius":"10px",width:"94%","margin-top":"20px","margin-left":"20px","padding-top":"35px","padding-bottom":"20px"}},ao=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{style:{width:"5%",display:"none"}},"Tabs Per Tin"),Object(r["createVNode"])("th",{style:{width:"5%"}},"Total tins"),Object(r["createVNode"])("th",{style:{width:"5%"}},"Date Of Expiry"),Object(r["createVNode"])("th",{style:{width:"5%"}},"Batch Number")],-1),oo={style:{width:"50px","text-align":"center",display:"none"}},io={style:{width:"50px","text-align":"center"}},co={style:{width:"50px","text-align":"center"}},so={style:{width:"50px","text-align":"center"}},uo=Object(r["createVNode"])("br",null,null,-1),lo=Object(r["createTextVNode"])("Add row");Object(r["popScopeId"])();var po=eo((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-item"),s=Object(r["resolveComponent"])("ion-list"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-button"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:eo((function(){return[Object(r["createVNode"])(p,null,{default:eo((function(){return[Object(r["createVNode"])(d,null,{default:eo((function(){return[Object(r["createVNode"])(u,{size:"4",class:"side left"},{default:eo((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n},{default:eo((function(){return[Object(r["createVNode"])(c,{color:n===e.selectedDrug?"primary":"",onClick:function(t){return e.selectDrug(n)}},{default:eo((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])("".concat(t.shortName," (").concat(t.packSizes[0],")")),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(u,{size:"8",class:"side"},{default:eo((function(){return[null!==e.selectedDrug?(Object(r["openBlock"])(),Object(r["createBlock"])("div",to,[Object(r["createVNode"])("p",no,Object(r["toDisplayString"])(e.drugs[e.selectedDrug].fullName),1),Object(r["createVNode"])("table",ro,[ao,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",oo,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field","onUpdate:modelValue":function(e){return t.tabs=e},onClick:function(t){return e.launchKeyPad("tabs",n)}},null,8,["onUpdate:modelValue","onClick"]),[[r["vModelText"],t.tabs]])]),Object(r["createVNode"])("td",io,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field","onUpdate:modelValue":function(e){return t.tins=e},onClick:function(t){return e.launchKeyPad("tins",n)},field_type:"total_tins"},null,8,["onUpdate:modelValue","onClick"]),[[r["vModelText"],t.tins]])]),Object(r["createVNode"])("td",co,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field",onClick:function(t){return e.launchKeyPad("expiry",n)},"onUpdate:modelValue":function(e){return t.expiry=e}},null,8,["onClick","onUpdate:modelValue"]),[[r["vModelText"],t.expiry]])]),Object(r["createVNode"])("td",so,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field",onClick:function(t){return e.launchKeyPad("batchNumber",n)},"onUpdate:modelValue":function(e){return t.batchNumber=e}},null,8,["onClick","onUpdate:modelValue"]),[[r["vModelText"],t.batchNumber]])])])})),128))])]),uo,Object(r["createVNode"])(l,{onClick:e.addRow,siz:"large"},{default:eo((function(){return[lo]})),_:1},8,["onClick"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),bo=Object(r["withScopeId"])("data-v-18940ec0");Object(r["pushScopeId"])("data-v-18940ec0");var fo={class:"keypad"},mo=Object(r["createTextVNode"])("+"),ho=Object(r["createTextVNode"])("+"),go=Object(r["createTextVNode"])("+"),Oo=Object(r["createTextVNode"])(" Today "),vo=Object(r["createTextVNode"])("-"),_o=Object(r["createTextVNode"])("-"),jo=Object(r["createTextVNode"])("-"),wo=Object(r["createTextVNode"])(" Done ");Object(r["popScopeId"])();var yo=bo((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-input"),s=Object(r["resolveComponent"])("ion-chip"),u=Object(r["resolveComponent"])("center"),l=Object(r["resolveComponent"])("ion-button"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),f=Object(r["resolveComponent"])("ion-content");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:bo((function(){return[Object(r["createVNode"])("div",fo,[Object(r["createVNode"])(c,{value:e.fullDate,disabled:!0,class:"keypad-input"},null,8,["value"]),Object(r["createVNode"])(u,null,{default:bo((function(){return[Object(r["createVNode"])(s,null,{default:bo((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title||"keypad"),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:bo((function(){return[Object(r["createVNode"])(p,null,{default:bo((function(){return[Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[1]||(t[1]=function(t){return e.add("day")}),size:"large"},{default:bo((function(){return[mo]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[2]||(t[2]=function(t){return e.add("month")}),size:"large"},{default:bo((function(){return[ho]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[3]||(t[3]=function(t){return e.add("year")}),size:"large"},{default:bo((function(){return[go]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,null,{default:bo((function(){return[Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(c,{class:"date-inputs"},{default:bo((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getDay),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(c,{class:"date-inputs"},{default:bo((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getMonth),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(c,{class:"date-inputs"},{default:bo((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.getYear),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[4]||(t[4]=function(t){return e.today()}),size:"large"},{default:bo((function(){return[Oo]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,null,{default:bo((function(){return[Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[5]||(t[5]=function(t){return e.subtract("day")}),size:"large"},{default:bo((function(){return[vo]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[6]||(t[6]=function(t){return e.subtract("month")}),size:"large"},{default:bo((function(){return[_o]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{size:"2"},{default:bo((function(){return[Object(r["createVNode"])(l,{onClick:t[7]||(t[7]=function(t){return e.subtract("year")}),size:"large"},{default:bo((function(){return[jo]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{size:"large",onClick:e.closeModal},{default:bo((function(){return[wo]})),_:1},8,["onClick"])])]})),_:1})})),ko=Object(r["defineComponent"])({components:{IonInput:k["s"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],IonButton:k["d"]},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0},strictNumbers:{type:Boolean,default:!1}},data:function(){return{date:Gr["c"].getSessionDate(),keypad:ae["d"],value:""}},methods:{onKbValue:function(e){this.value=e},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()},add:function(e){this.date=Yt["a"].add("".concat(this.date),e,1)},subtract:function(e){this.date=Yt["a"].subtract("".concat(this.date),e,1)},today:function(){this.date=Gr["c"].getSessionDate()},closeModal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["g"].dismiss(e.fullDate);case 2:case"end":return t.stop()}}),t)})))()}},computed:{getYear:function(){return Yt["a"].getYear("".concat(this.date))},getMonth:function(){return Yt["a"].getMonth("".concat(this.date))},getDay:function(){return Yt["a"].getDay("".concat(this.date))},fullDate:function(){return Yt["a"].toStandardHisFormat(this.date)}}});n("9267");const xo=m()(ko,[["render",yo],["__scopeId","data-v-18940ec0"]]);var No=xo,Vo=n("4e28"),Co=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],IonButton:k["d"]},mixins:[d],data:function(){return{value:"",keyboard:C["d"],date:"",drugs:[],selectedDrug:null}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),e.date=new Date,t.next=4,e.setDefaultValue();case 4:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options();case 2:if(n=t.sent,e.drugs=[],n.forEach((function(t){var n={tabs:t.value.packSizes[0],tins:null,expiry:null,batchNumber:null},r=Object(z["a"])(Object(z["a"])({},t.value),{},{entries:[Object(z["a"])({},n),Object(z["a"])({},n),Object(z["a"])({},n)]});e.drugs.push(r)})),!e.defaultValue||e.value){t.next=10;break}return t.next=8,e.defaultValue(e.fdata,e.cdata);case 8:r=t.sent,r&&(e.value=r.toString());case 10:case"end":return t.stop()}}),t)})))()},launchKeyPad:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,k["S"].create({component:"expiry"===e?No:Vo["a"],backdropDismiss:!1,cssClass:"large-modal"});case 2:return a=r.sent,a.present(),r.next=6,a.onDidDismiss();case 6:if(o=r.sent,i=o.data,"tins"!==e){r.next=12;break}if(!isNaN(i)){r.next=12;break}return Object(Mn["e"])("Invalid entry for number of tins"),r.abrupt("return");case 12:return n.drugs[n.selectedDrug].entries[t][e]=i,r.abrupt("return",i);case 14:case"end":return r.stop()}}),r)})))()},onKbValue:function(e){this.value=e},addRow:function(){this.drugs[this.selectedDrug].entries.push({tabs:this.drugs[this.selectedDrug].packSizes[0],tins:null,expiry:null,batchNumber:null})},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()},add:function(e){this.date=Yt["a"].add("".concat(this.date),e,1)},subtract:function(e){this.date=Yt["a"].subtract("".concat(this.date),e,1)},today:function(){this.date=Gr["c"].getSessionDate()},selectDrug:function(e){this.selectedDrug=e},validateEntry:function(e){return!Object(S["isEmpty"])(e.tins)&&!Object(S["isEmpty"])(e.expiry)&&!Object(S["isEmpty"])(e.batchNumber)}},computed:{getYear:function(){return Yt["a"].getYear("".concat(this.date))},getMonth:function(){return Yt["a"].getMonth("".concat(this.date))},getDay:function(){return Yt["a"].getDay("".concat(this.date))},fullDate:function(){return Yt["a"].toStandardHisFormat(this.date)},enteredDrugs:function(){var e=this,t=[];return this.drugs.forEach((function(n){var r=n.entries.filter((function(t){return e.validateEntry(t)}));r.forEach((function(e){t.push({label:n.shortName,value:Object(z["a"])(Object(z["a"])({},e),n)})}))})),t}},watch:{drugs:{handler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onValue",e.enteredDrugs);case 1:case"end":return t.stop()}}),t)})))()},immediate:!0,deep:!0}}});n("6003");const Do=m()(Co,[["render",po],["__scopeId","data-v-1e032746"]]);var To=Do,Ro=Object(r["withScopeId"])("data-v-280f189e");Object(r["pushScopeId"])("data-v-280f189e");var Io={key:0},So={class:"drug-info"},Po={id:"batch-table",style:{border:"1.5px solid rgb(92, 166, 196)","border-radius":"10px",width:"94%","margin-top":"20px","margin-left":"20px","padding-top":"35px","padding-bottom":"20px"}},Ao=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",null,"Expiry date"),Object(r["createVNode"])("th",null,"Available tins"),Object(r["createVNode"])("th")],-1),Bo={style:{"text-align":"center"}},Eo={style:{"text-align":"center"}},Fo=Object(r["createTextVNode"])("update stock");Object(r["popScopeId"])();var Lo=Ro((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-item"),s=Object(r["resolveComponent"])("ion-list"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-button"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:Ro((function(){return[Object(r["createVNode"])(p,null,{default:Ro((function(){return[Object(r["createVNode"])(d,null,{default:Ro((function(){return[Object(r["createVNode"])(u,{size:"4",class:"side left"},{default:Ro((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n},{default:Ro((function(){return[Object(r["createVNode"])(c,{color:n===e.selectedDrug?"primary":"",onClick:function(t){return e.selectDrug(n)}},{default:Ro((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])("".concat(t.shortName," (").concat(t.packSizes[0],") ")),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(u,{size:"8",class:"side"},{default:Ro((function(){return[null!==e.selectedDrug?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Io,[Object(r["createVNode"])("p",So,Object(r["toDisplayString"])(e.drugs[e.selectedDrug].fullName),1),Object(r["createVNode"])("table",Po,[Ao,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n,style:t.updated?"color: green":""},[Object(r["createVNode"])("td",Bo,[Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(t.expiry_date),1)]),Object(r["createVNode"])("td",Eo,[Object(r["createVNode"])("p",null,Object(r["toDisplayString"])(t.current_quantity),1)]),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(l,{onClick:function(t){return e.launchKeyPad(n)}},{default:Ro((function(){return[Fo]})),_:1},8,["onClick"])])],4)})),128))])])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),Mo=n("3d6c"),Ho=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"],IonButton:k["d"]},mixins:[d],data:function(){return{value:"",keyboard:C["d"],date:"",drugs:[],selectedDrug:null,stockService:{}}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),e.stockService=new Mo["a"],e.date=new Date,t.next=5,e.setDefaultValue();case 5:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options();case 2:if(n=t.sent,e.drugs=[],n.forEach((function(t){var n=Object(z["a"])({},t.value);e.drugs.push(n)})),!e.defaultValue||e.value){t.next=10;break}return t.next=8,e.defaultValue(e.fdata,e.cdata);case 8:r=t.sent,r&&(e.value=r.toString());case 10:case"end":return t.stop()}}),t)})))()},launchKeyPad:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k["S"].create({component:Vo["a"],backdropDismiss:!1,cssClass:"large-modal"});case 2:return r=n.sent,r.present(),n.next=6,r.onDidDismiss();case 6:if(a=n.sent,o=a.data,!isNaN(o)){n.next=11;break}return Object(Mn["c"])("Invalid entry for number of tins"),n.abrupt("return");case 11:return parseInt(o)!==t.drugs[t.selectedDrug].entries[e]["current_quantity"]&&(t.drugs[t.selectedDrug].entries[e]["current_quantity"]=o,t.drugs[t.selectedDrug].entries[e].updated=!0),n.abrupt("return",o);case 13:case"end":return n.stop()}}),n)})))()},onKbValue:function(e){this.value=e},addRow:function(){this.drugs[this.selectedDrug].entries.push({tabs:this.drugs[this.selectedDrug].packSizes[0],tins:null,expiry:null,batchNumber:null})},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()},add:function(e){this.date=Yt["a"].add("".concat(this.date),e,1)},subtract:function(e){this.date=Yt["a"].subtract("".concat(this.date),e,1)},today:function(){this.date=Gr["c"].getSessionDate()},selectDrug:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.selectedDrug=e,n.next=3,t.stockService.getItem(t.drugs[t.selectedDrug].drugID);case 3:r=n.sent,t.drugs[e]["entries"]=r;case 5:case"end":return n.stop()}}),n)})))()},validateEntry:function(e){return!Object(S["isEmpty"])(e.tins)&&!Object(S["isEmpty"])(e.authorization)}},computed:{getYear:function(){return Yt["a"].getYear("".concat(this.date))},getMonth:function(){return Yt["a"].getMonth("".concat(this.date))},getDay:function(){return Yt["a"].getDay("".concat(this.date))},fullDate:function(){return Yt["a"].toStandardHisFormat(this.date)},enteredDrugs:function(){var e=[];return this.drugs.forEach((function(t){if(t.entries){var n=t.entries.filter((function(e){return e.updated}));n.forEach((function(n){e.push({label:t.shortname,value:Object(z["a"])(Object(z["a"])({},n),t)})}))}})),e}},watch:{drugs:{handler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onValue",e.enteredDrugs);case 1:case"end":return t.stop()}}),t)})))()},immediate:!0,deep:!0}}});n("9cf9");const Uo=m()(Ho,[["render",Lo],["__scopeId","data-v-280f189e"]]);var qo=Uo,zo=Object(r["withScopeId"])("data-v-0c0cb2b4");Object(r["pushScopeId"])("data-v-0c0cb2b4");var Go={key:0},Yo={class:"drug-info"},Ko={id:"batch-table",style:{border:"1.5px solid rgb(92, 166, 196)","border-radius":"10px",width:"94%","margin-top":"20px","margin-left":"20px","padding-top":"35px","padding-bottom":"20px"}},Wo=Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{style:{width:"5%"}},"Total tins"),Object(r["createVNode"])("th",{style:{width:"5%"}},"Authorization code")],-1),$o={style:{width:"50px","text-align":"center"}},Jo={style:{width:"50px","text-align":"center"}};Object(r["popScopeId"])();var Xo=zo((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-item"),s=Object(r["resolveComponent"])("ion-list"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-grid"),p=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(p,null,{default:zo((function(){return[Object(r["createVNode"])(d,null,{default:zo((function(){return[Object(r["createVNode"])(l,null,{default:zo((function(){return[Object(r["createVNode"])(u,{size:"4",class:"side left"},{default:zo((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n},{default:zo((function(){return[Object(r["createVNode"])(c,{color:n===e.selectedDrug?"primary":"",onClick:function(t){return e.selectDrug(n)}},{default:zo((function(){var e;return[Object(r["createTextVNode"])(Object(r["toDisplayString"])("".concat(null!==(e=t.drug_name)&&void 0!==e?e:t.drug_legacy_name," ")),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(r["createVNode"])(u,{size:"8",class:"side"},{default:zo((function(){return[null!==e.selectedDrug?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Go,[Object(r["createVNode"])("p",Yo,Object(r["toDisplayString"])(e.drugs[e.selectedDrug].fullName),1),Object(r["createVNode"])("table",Ko,[Wo,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",$o,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field","onUpdate:modelValue":function(e){return t.tins=e},onClick:function(t){return e.launchKeyPad("tins",n)}},null,8,["onUpdate:modelValue","onClick"]),[[r["vModelText"],t.tins]])]),Object(r["createVNode"])("td",Jo,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:"input-field","onUpdate:modelValue":function(e){return t.authorization=e},onClick:function(t){return e.launchKeyPad("authorization",n)}},null,8,["onUpdate:modelValue","onClick"]),[[r["vModelText"],t.authorization]])])])})),128))])])])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),Qo=(n("fb6a"),n("a9e3"),n("25eb"),n("bee2")),Zo=function(){function e(){var t=this;Object(Un["a"])(this,e),this.BASE30_DIGITS_INDEX={},this.BASE30_DIGITS="0123456789ABCDEFGHJKLMNPRTVWXY".split(""),this.BASE30_DIGITS.forEach((function(e,n){return t.BASE30_DIGITS_INDEX[e]=n}))}return Object(Qo["a"])(e,[{key:"convertFromDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(t<2||t>30)throw"Invalid base ${toBase}";var n="";while(e>0)n=this.BASE30_DIGITS[e%t]+n,e=Math.floor(e/t);return n}},{key:"isValidDHACode",value:function(t){try{var n=this.convertToDecimal(t).toString(),r=(Number.parseInt(n[0],10),e.calculateLuhnCheckDigit(10*Number.parseInt(n,10)));return 0===r}catch(a){return console.error(a),!1}}},{key:"convertToDecimal",value:function(e){if(0==e.length)return 0;var t=this.BASE30_DIGITS_INDEX[e[0]];if(void 0===t||null===t)throw"Invalid base ${fromBase} number: ${number}";return t*Math.pow(30,e.length-1)+this.convertToDecimal(e.slice(1))}}],[{key:"calculateLuhnCheckDigit",value:function(e){var t=e.toString().split("").map((function(e){return Number.parseInt(e,10)})),n=t.length%2,r=0;t.forEach((function(e,t){t%2===n&&(e*=2),e>9&&(e-=9),r+=e}));var a=r%10;return 0===a?0:10-a}}]),e}(),ei=Object(r["defineComponent"])({components:{ViewPort:D["a"],IonGrid:k["o"],IonCol:k["l"],IonRow:k["E"]},mixins:[d],data:function(){return{value:"",keyboard:C["d"],date:"",drugs:[],selectedDrug:null}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$emit("onFieldActivated",e),e.date=new Date,t.next=4,e.setDefaultValue();case 4:case"end":return t.stop()}}),t)})))()},methods:{setDefaultValue:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options();case 2:if(n=t.sent,e.drugs=[],n.forEach((function(t){var n={tins:null,authorization:null},r=Object(z["a"])(Object(z["a"])({},t.value),{},{entries:[Object(z["a"])({},n)]});e.drugs.push(r)})),!e.defaultValue||e.value){t.next=10;break}return t.next=8,e.defaultValue(e.fdata,e.cdata);case 8:r=t.sent,r&&(e.value=r.toString());case 10:case"end":return t.stop()}}),t)})))()},launchKeyPad:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,k["S"].create({component:Vo["a"],backdropDismiss:!1,cssClass:"large-modal"});case 2:return a=r.sent,a.present(),r.next=6,a.onDidDismiss();case 6:if(o=r.sent,i=o.data,"authorization"!==e){r.next=13;break}c=new Zo,c.isValidDHACode(i.toUpperCase())?n.drugs[n.selectedDrug].entries[t][e]=i.toUpperCase():Object(Mn["c"])("Invalid authorization code"),r.next=17;break;case 13:if(!isNaN(i)){r.next=16;break}return Object(Mn["c"])("Invalid entry for number of tins"),r.abrupt("return");case 16:n.drugs[n.selectedDrug].entries[t][e]=i;case 17:return r.abrupt("return",i);case 18:case"end":return r.stop()}}),r)})))()},onKbValue:function(e){this.value=e},addRow:function(){this.drugs[this.selectedDrug].entries.push({tabs:this.drugs[this.selectedDrug].packSizes[0],tins:null,expiry:null,batchNumber:null})},keypress:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.value=Object(j["a"])(e,t.value);case 1:case"end":return n.stop()}}),n)})))()},add:function(e){this.date=Yt["a"].add("".concat(this.date),e,1)},subtract:function(e){this.date=Yt["a"].subtract("".concat(this.date),e,1)},today:function(){this.date=Gr["c"].getSessionDate()},selectDrug:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.selectedDrug=e;case 1:case"end":return n.stop()}}),n)})))()},validateEntry:function(e){return!Object(S["isEmpty"])(e.tins)&&!Object(S["isEmpty"])(e.authorization)}},computed:{getYear:function(){return Yt["a"].getYear("".concat(this.date))},getMonth:function(){return Yt["a"].getMonth("".concat(this.date))},getDay:function(){return Yt["a"].getDay("".concat(this.date))},fullDate:function(){return Yt["a"].toStandardHisFormat(this.date)},enteredDrugs:function(){var e=this,t=[];return this.drugs.forEach((function(n){if(n.entries){var r=n.entries.filter((function(t){return e.validateEntry(t)}));r.forEach((function(e){t.push({label:n.shortname,value:Object(z["a"])(Object(z["a"])({},e),n)})}))}})),t}},watch:{drugs:{handler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("onValue",e.enteredDrugs);case 1:case"end":return t.stop()}}),t)})))()},immediate:!0,deep:!0}}});n("5d44");const ti=m()(ei,[["render",Xo],["__scopeId","data-v-0c0cb2b4"]]);var ni=ti,ri=Object(r["withScopeId"])("data-v-03a37fd7"),ai=ri((function(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("ion-input"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid"),d=Object(r["resolveComponent"])("view-port"),p=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(d,{showFull:!1},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[Object(r["createVNode"])(u,null,{default:ri((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.addressInputs,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:n},{default:ri((function(){return[Object(r["createVNode"])(c,{mode:"md",inputmode:"numeric",type:"number",max:255,class:[{"highlighted-input":n===e.activeIndex},"input_display"],modelValue:e.addressInputs[n],"onUpdate:modelValue":function(t){return e.addressInputs[n]=t},onIonFocus:function(t){return e.onAddressClick(n)},style:{textAlign:"center"},placeholder:"0"},null,8,["class","modelValue","onUpdate:modelValue","onIonFocus"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,onKeyPress:e.keypress,kbConfig:e.numbers},null,8,["onKeyPress","kbConfig"])):Object(r["createCommentVNode"])("",!0)],64)})),oi=(n("a15b"),n("07ac"),Object(r["defineComponent"])({components:{IonInput:k["s"],IonRow:k["E"],IonCol:k["l"],IonGrid:k["o"],HisKeyboard:_["a"],ViewPort:D["a"]},mixins:[d],watch:{clear:function(e){e&&(this.addressInputs={first:"",second:"",third:"",fourth:""},this.$emit("onClear"))}},setup:function(e,t){var n=this,a=t.emit;Object(r["onActivated"])((function(){return a("onFieldActivated",n)}));var o=Object(r["ref"])(!1),i=Object(r["ref"])(""),c=Object(r["ref"])({first:"",second:"",third:"",fourth:""});function s(e){if(i.value){var t=i.value,n=Object(j["a"])(e,c.value[t]);if(n.length>3)switch(i.value){case"first":i.value="second";break;case"second":i.value="third";break;case"third":i.value="fourth";break;case"fourth":i.value=""}else c.value[t]="0"===n.charAt(0)&&n.length>1?n.substring(1):n}}function u(e){i.value=e,o.value=!0}return Object(r["watch"])(c,(function(e){if(e){var t=Object.values(e).map((function(e){return!Object(S["isEmpty"])(e)}));if(t.every(Boolean)){var n=Object.values(e).map((function(e){return e})).join(".");a("onValue",{label:n,value:n})}else a("onValue",null)}}),{deep:!0,immediate:!0}),{keypress:s,activeIndex:i,onAddressClick:u,showKeyboard:o,addressInputs:c,numbers:[ae["g"],[["Delete"],["Clear"]]]}}}));n("bc25");const ii=m()(oi,[["render",ai],["__scopeId","data-v-03a37fd7"]]);var ci=ii,si=Object(r["withScopeId"])("data-v-5b4dbb06");Object(r["pushScopeId"])("data-v-5b4dbb06");var ui={class:"center"},li={class:"text"};Object(r["popScopeId"])();var di=si((function(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",ui,[Object(r["createVNode"])("p",li,Object(r["toDisplayString"])(e.value),1)])})),pi=Object(r["defineComponent"])({mixins:[d],data:function(){return{value:""}},activated:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.options();case 2:n=t.sent,e.value=n[0].value;case 4:case"end":return t.stop()}}),t)})))()}});n("f379");const bi=m()(pi,[["render",di],["__scopeId","data-v-5b4dbb06"]]);var fi,mi=bi;(function(e){e["TT_BARCODE"]="BarcodeInput",e["TT_MONTHLY_DAYS"]="monthly-days",e["TT_TEXT"]="text-input",e["TT_NUMBER"]="number-input",e["TT_DATETIME"]="datetime",e["TT_SELECT"]="single-select",e["TT_MULTIPLE_SELECT"]="multiple-select",e["TT_ART_REGIMEN_SELECTION"]="art-regimen-selection",e["TT_NEXT_VISIT_INTERVAL_SELECTION"]="next-visit-interval",e["TT_TABLE_VIEWER"]="table-viewer",e["TT_DOSAGE_INPUT"]="dosage-input",e["TT_YES_NO"]="yes-no",e["TT_MULTIPLE_YES_NO"]="multi-yes-no",e["TT_SUMMARY"]="summary-page",e["TT_WEIGHT_CHART"]="weight-chart",e["TT_VITALS_ENTRY"]="vitals-entry",e["TT_ADHERENCE_INPUT"]="adherence-input",e["TT_ART_STAGING_SUMMARY"]="art-staging-summary",e["TT_LAB_ORDERS"]="lab-orders",e["TT_APPOINTMENTS_ENTRY"]="appointments-entry",e["TT_DISPENSATION_INPUT"]="dispensation-input",e["TT_PROGRAM_SELECTION"]="ProgamSelection",e["TT_APPOINTMENT_PICKER"]="appointment-picker",e["TT_PERSON_RESULT_VIEW"]="PersonSearchView",e["TT_RELATION_SELECTION"]="RelationSelection",e["TT_FILING_NUMBER_VIEW"]="FilingNumberView",e["TT_CARD_SELECTOR"]="SingleSelectCards",e["TT_PERSON_MATCH_VIEW"]="PersonMatchView",e["TT_FULL_DATE"]="date-input",e["TT_BATCH_ENTRY"]="batch-entry",e["TT_BATCH_VERIFICATION"]="batch-verification",e["TT_BATCH_MOVEMENT"]="batch-movement",e["TT_IP_ADDRESS"]="IPAddressInput",e["TT_TEXT_BANNER"]="text-banner"})(fi||(fi={}));var hi={TextInput:Q,SingleSelect:B,MultipleSelect:K,NumberInput:ne,MonthlyDays:ce,BarcodeInput:g,ArtRegimenSelection:_e,NextVisitInterval:Ce,TableViewer:Ae,DosageInput:Je,YesNo:tt,SummaryPage:rn,MultiYesNo:it,WeightChart:Ot,VitalsEntry:Bt,AdherenceInput:wn,ArtStagingSummary:bn,LabOrders:Zn,AppointmentsEntry:Xt,DispensationInput:Rr,ProgamSelection:Mr,AppointmentPicker:Wr,PersonSearchView:ta,RelationSelection:_a,FilingNumberView:Ca,SingleSelectCards:H,PersonMatchView:Ha,DateInput:Za,BatchEntry:To,BatchVerification:qo,BatchMovement:ni,IPAddressInput:ci,TextBanner:mi}},d97d:function(e,t,n){},db10:function(e,t,n){"use strict";var r=n("7a23"),a={class:"his-floating-keyboard"},o={class:"his-floating-keyboard-content"};function i(e,t,n,i,c,s){var u=Object(r["resolveComponent"])("base-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("div",o,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.activeLayout,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:n},[Object(r["createVNode"])(u,{layout:t,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])})),128))])])}n("c975"),n("d81d");var c=n("6be2"),s=n("c924"),u=Object(r["defineComponent"])({components:{BaseKeyboard:s["a"]},props:{initalKeyboardName:{type:String},kbConfig:{type:Array,required:!0},onKeyPress:{type:Function,required:!0}},data:function(){return{activeLayout:{}}},watch:{initalKeyboardName:{handler:function(e){var t=this;e&&this.$nextTick((function(){return t.switchKeyboard(e)}))},immediate:!0},kbConfig:{handler:function(e){e&&(this.activeLayout=e)},deep:!0,immediate:!0}},methods:{keypress:function(e){this.isFunctionKey(e)||this.onKeyPress(e)},isFunctionKey:function(e){return!!this.switchKeyboard(e)},switchKeyboard:function(e){var t=c["a"].map((function(e){return e.btn})).indexOf(e);return t>=0&&(this.activeLayout=c["a"][t].keyboard,!0)}}}),l=n("d959"),d=n.n(l);const p=d()(u,[["render",i]]);t["a"]=p},ddb2:function(e,t,n){"use strict";n("8cb7")},de49:function(e,t,n){"use strict";n("28c8")},e168:function(e,t,n){"use strict";n("77a0")},e1cf:function(e,t,n){var r={"./ion-icon.entry.js":["ec64","chunk-2d2304d2"]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id="e1cf",e.exports=a},e37b:function(e,t,n){},e4bd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d81d"),n("96cf");var r=n("1da1"),a=n("b5e4"),o=n("8a30"),i=n("2ef0");function c(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,s,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:[],e.next=3,Object(a["b"])("Are you sure you want to void?");case 3:if(r=e.sent,r){e.next=6;break}return e.abrupt("return");case 6:return c=[{text:"Mistake/ Wrong Entry",role:"Mistake/ Wrong Entry"},{text:"Duplicate",role:"Duplicate"},{text:"System Error",role:"System Error"},{text:"Cancel",role:"cancel"}],Object(i["isEmpty"])(n)||(c=n.map((function(e){return{text:e,role:e}})),c.push({text:"Cancel",role:"Cancel"})),e.next=10,o["M"].create({header:"Are you sure you want to void this Encounter?",subHeader:"Please specify reason for voiding this encounter",mode:"ios",buttons:c});case 10:return s=e.sent,s.present(),e.next=14,s.onDidDismiss();case 14:u=e.sent,l=u.role,"cancel"!=l&&t(l);case 17:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},e4e3:function(e,t,n){"use strict";n("99af"),n("4de4"),n("4160"),n("d81d"),n("b0c0"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("3ca3"),n("1276"),n("159b"),n("ddb0");var r=n("2909"),a=n("3835"),o=(n("96cf"),n("1da1")),i=n("7a23"),c=n("23e6"),s=n("ad60"),u=n("7920"),l=n("7f35"),d=n("c1e4"),p=n("2ef0"),b=n("0fa1"),f=n("9283"),m=Object(i["defineComponent"])({components:{HisStandardForm:u["a"]},data:function(){return{patient:{},programInfo:{},fields:[],form:{},patientID:"",providerID:-1,providers:[],bdeChecked:!1,ready:!1}},watch:{$route:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.params.patient_id){n.next=12;break}return n.next=3,t.checkBDE();case 3:return t.patientID=e.params.patient_id,n.next=6,c["a"].findByID(t.patientID);case 6:return r=n.sent,t.patient=new c["a"](r),n.next=10,s["a"].getProgramInformation(t.patientID);case 10:t.programInfo=n.sent,t.ready=!0;case 12:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},computed:{cancelDestination:function(){return this.patientDashboardUrl()}},methods:{checkBDE:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!s["a"].isBDE()||e.bdeChecked){t.next=12;break}return e.bdeChecked=!0,t.next=4,d["a"].getUsers();case 4:return e.providers=t.sent,n=e.providers.map((function(e){return"".concat(e.username,"                     (").concat(e.person.names[0].given_name," ").concat(e.person.names[0].family_name,")")})),t.next=8,e.selectProvider(n);case 8:r=t.sent,o=r.split(" "),i=Object(a["a"])(o,1),c=i[0],u=Object(p["find"])(e.providers,{username:c}),u&&(e.providerID=u.person_id);case 12:case"end":return t.stop()}}),t)})))()},selectProvider:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=function(e){return f["a"].toStandardHisDisplayFormat(e)},a=t.$route.name?t.$route.name.toString().toUpperCase():"Kaya",n.next=4,Object(l["c"])("Please select a provider for ".concat(a),"BDE: ".concat(r(s["a"].getSessionDate())," \n                    | Current: ").concat(r(s["a"].getCachedApiDate())),e,[{name:"Confirm",slot:"end",role:"action"}]);case 4:return o=n.sent,n.abrupt("return",o.selection);case 6:case"end":return n.stop()}}),n)})))()},patientDashboardUrl:function(){return"/patient/dashboard/".concat(this.patientID)},gotoPatientDashboard:function(){return this.$router.push({path:this.patientDashboardUrl()})},nextTask:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b["a"])(e.patientID,e.$router));case 1:case"end":return t.stop()}}),t)})))()},yesNoOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},yesNoUnknownOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Unknown",value:"Unknown"}]},resolveObs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[];return console.log(Object.values(e)),Object.values(e).filter((function(e){return e&&(e.tag===t||""===t)})).forEach((function(e){Array.isArray(e.obs)?n=[].concat(Object(r["a"])(n),Object(r["a"])(e.obs)):n.push(e.obs)})),Promise.all(n)},validateSeries:function(e){try{for(var t in e){var n=e[t]();if(n)return n}}catch(r){return[r]}}}});const h=m;t["a"]=h},e507:function(e,t,n){},e86e:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return f}));n("d81d"),n("a434"),n("b0c0"),n("96cf");var r=n("1da1"),a=n("5713"),o=n("2ef0");function i(){return c.apply(this,arguments)}function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t});case 3:return n=e.sent,Object(o["isEmpty"])(n)||n.splice(0,1),e.abrupt("return",n.map((function(e){return{label:e.name,value:e.location_id,other:e}})));case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function s(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getRegions();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.region_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getDistricts(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.district_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e){return b.apply(this,arguments)}function b(){return b=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getTraditionalAuthorities(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.traditional_authority_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getVillages(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},e8ee:function(e,t,n){"use strict";n("ea2c")},e948:function(e,t,n){"use strict";n("b91f")},e96c:function(e,t,n){"use strict";n("ecfc")},ea2c:function(e,t,n){},ec2a:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("45eb"),c=n("7e84"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,null,[{key:"create",value:function(e){var t=Object(r["a"])({},e);return"program_id"in t||Object.assign(t,{program_id:this.getProgramID()}),"encounter_datetime"in t||Object.assign(t,{encounter_datetime:this.getSessionDate()}),l["c"].postJson("/encounters",t)}},{key:"voidEncounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Unknown";return Object(i["a"])(Object(c["a"])(n),"void",this).call(this,"/encounters/".concat(e),{reason:t})}},{key:"getEncounters",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i["a"])(Object(c["a"])(n),"getJson",this).call(this,"/encounters",Object(r["a"])({program_id:Object(i["a"])(Object(c["a"])(n),"getProgramID",this).call(this),patient_id:e,paginate:!1},t))}}]),n}(l["c"])},ecfc:function(e,t,n){},edb1:function(e,t,n){},efaf:function(e,t,n){"use strict";var r=n("7a23"),a=Object(r["withScopeId"])("data-v-44457fae");Object(r["pushScopeId"])("data-v-44457fae");var o=Object(r["createVNode"])("img",{id:"barcode-img",src:"/assets/images/barcode.svg"},null,-1);Object(r["popScopeId"])();var i=a((function(e,t,n,i,c,s){var u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:a((function(){return[Object(r["createVNode"])(u,{size:"2"},{default:a((function(){return[o]})),_:1}),Object(r["createVNode"])(u,{size:"10"},{default:a((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{readonly:e.isReadOnly,ref:"barcode",id:"barcode-inputbox","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.barcodeText=t})},null,8,["readonly"]),[[r["vModelText"],e.barcodeText]])]})),_:1})]})),_:1})})),c=(n("ac1f"),n("466d"),n("5319"),n("8a30")),s=n("2345"),u=Object(r["defineComponent"])({name:"BarcodeInput",components:{IonRow:c["E"],IonCol:c["l"]},props:["clearValue","virtualText"],data:function(){return{barcodeText:"",isReadOnly:!1}},mounted:function(){var e=this;Object(c["P"])("desktop")?setInterval((function(){try{e.$refs.barcode.focus()}catch(t){}}),1500):this.isReadOnly=!0},methods:{checkForbarcode:function(){if(null!=this.barcodeText.match(/.+\$$/i)){var e=this.barcodeText.replace(/\$/gi,"");this.$emit("onScan",e),this.barcodeText=""}}},watch:{clearValue:function(){this.barcodeText=""},virtualText:function(e){this.barcodeText=Object(s["a"])(e,this.barcodeText)},barcodeText:function(e){e&&(this.checkForbarcode(),this.$emit("onValue",e))}}}),l=(n("c618"),n("d959")),d=n.n(l);const p=d()(u,[["render",i],["__scopeId","data-v-44457fae"]]);t["a"]=p},f0f2:function(e,t,n){},f36d:function(e,t,n){"use strict";n("07f0")},f379:function(e,t,n){"use strict";n("8aef")},f535:function(e,t,n){},f768:function(e,t,n){"use strict";n("96cf");var r=n("1da1"),a=(n("d3b7"),n("7a23"));function o(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{skipSummary:!0,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),activeField:e.fieldComponent,cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["activeField","cancelDestinationPath","fields","onFinishAction"])}n("99af"),n("a15b"),n("d81d"),n("45fc"),n("b0c0"),n("ac1f"),n("25f0"),n("466d"),n("ddb0");var i,c=n("5530"),s=n("2909"),u=n("d95e"),l=n("2706"),d=(n("4de4"),n("4160"),n("caad"),n("07ac"),n("2532"),n("3ca3"),n("159b"),n("d4ec")),p=n("bee2"),b=n("262e"),f=n("2caf"),m=n("71c3"),h=n("9283"),g=n("1c74"),O=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,null,[{key:"getRegimens",value:function(e){return this.getJson("programs/".concat(this.getProgramID(),"/regimens"),{patient_id:e})}},{key:"getCustomIngridients",value:function(){return this.getJson("programs/".concat(this.getProgramID(),"/custom_regimen_ingredients"))}},{key:"getCurrentRegimen",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getSessionDate();return this.getJson("programs/".concat(this.getProgramID(),"/").concat(e),{date:t})}}]),n}(g["c"]),v=n("2ef0"),_=n("cc6f");(function(e){e["CONTRAINDICATION"]="contraindication",e["SIDE_EFFECT"]="side_effect"})(i||(i={}));var j,w,y,k=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){var a;return Object(d["a"])(this,n),a=t.call(this,e,25,r),a.nextVisitInterval=0,a.fastTrack=!1,a.regimenExtras=[],a.fastTrackMedications=[],a.hangingPills=[],a.medicationOrders=[],a.treatmentState="",a.contraindications={},a.sideEffects={},a.tptPrescriptionCount=0,a.lastSideEffectDate="",a}return Object(p["a"])(n,[{key:"setNextVisitInterval",value:function(e){this.nextVisitInterval=e}},{key:"getHangingPills",value:function(){return this.hangingPills}},{key:"getMedicationOrders",value:function(){return this.medicationOrders.map((function(e){return _["a"].getCachedConceptName(e)}))}},{key:"getTptPrescriptionCount",value:function(){return this.tptPrescriptionCount}},{key:"getLastSideEffectDate",value:function(){return this.lastSideEffectDate}},{key:"getContraindications",value:function(){return this.contraindications}},{key:"getSideEffects",value:function(){return this.sideEffects}},{key:"getRegimenExtras",value:function(){return this.regimenExtras}},{key:"getPatientRegimens",value:function(){return O.getRegimens(this.patientID)}},{key:"getCustomIngridients",value:function(){return O.getCustomIngridients()}},{key:"getFastTrackMedications",value:function(){return this.fastTrackMedications}},{key:"getTreatmentState",value:function(){return this.treatmentState}},{key:"isFastTrack",value:function(){return this.fastTrack}},{key:"medicationOrdersAvailable",value:function(){return!Object(v["isEmpty"])(this.medicationOrders)}},{key:"shouldPrescribeArvs",value:function(){var e=_["a"].getCachedConceptID("Antiretroviral drugs");return this.medicationOrders.includes(e)}},{key:"shouldPrescribeExtras",value:function(){var e=this,t=_["a"].getConceptsByCategory("art_extra_medication_order"),n=t.map((function(t){return e.medicationOrders.includes(t.concept_id)}));return n.some(Boolean)}},{key:"getRegimenStarterpack",value:function(e,t){var n={weight:t,regimen:e};return _["a"].getJson("programs/".concat(_["a"].getProgramID(),"/regimen_starter_packs"),n)}},{key:"getLvpDrugsByType",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",_["a"].getJson("programs/".concat(_["a"].getProgramID(),"/regimens/").concat(n),{patient_id:this.patientID,lpv_drug_type:t}));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadContraindications",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("Contraindications");case 2:return t=e.sent,e.next=5,_["a"].getObs({concept_id:t,person_id:this.patientID});case 5:n=e.sent,n.forEach((function(e){var t=h["a"].toStandardHisFormat(e.obs_datetime);r.contraindications[t]||(r.contraindications[t]=[]);var n=_["a"].getCachedConceptName(e.value_coded);r.contraindications[t].push(n)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadDrugInduced",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("Drug induced");case 2:return t=e.sent,e.next=5,_["a"].getObs({concept_id:t,person_id:this.patientID});case 5:if(n=e.sent,n){e.next=8;break}return e.abrupt("return");case 8:n.forEach((function(e){var t=h["a"].toStandardHisFormat(e.obs_datetime);if(r.lastSideEffectDate||(r.lastSideEffectDate=t),e.value_drug&&e.value_coded){r.sideEffects[t]||(r.sideEffects[t]={}),r.sideEffects[t][e.value_drug]||(r.sideEffects[t][e.value_drug]=[]);var n=_["a"].getCachedConceptName(e.value_coded);r.sideEffects[t][e.value_drug].push(n)}}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadTptPrescriptionCount",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getJson("tpt_prescription_count",{patient_id:this.patientID,date:_["a"].getSessionDate()});case 2:t=e.sent,t&&(n=t.count+1,this.tptPrescriptionCount=n>3?3:n);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadFastTrackStatus",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getFirstValueCoded(this.patientID,"Fast track");case 2:return t=e.sent,e.next=5,_["a"].getConceptID("yes");case 5:n=e.sent,t&&(this.fastTrack=t===n);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadRegimenExtras",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:O.getSessionDate(),e.next=3,O.getJson("programs/".concat(O.getProgramID(),"/patients/").concat(this.patientID,"/dosages"),{date:t});case 3:n=e.sent,n&&(this.regimenExtras=Object.values(n));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadMedicationOrders",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("Medication orders");case 2:return t=e.sent,e.next=5,_["a"].getObs({concept_id:t,date:_["a"].getSessionDate(),person_id:this.patientID,page_size:5});case 5:n=e.sent,this.medicationOrders=n.map((function(e){return e.value_coded}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadHangingPills",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getAll(this.patientID,"Pills brought");case 2:t=e.sent,t&&(this.hangingPills=t.filter((function(e){return e.value_numeric>=1&&e.order})).map((function(e){return e.order.drug_order.drug_inventory_id})));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadFastTrackMedications",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getLastDrugsReceived(this.patientID);case 2:return t=e.sent,n=t.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.drug,e.next=3,m["a"].getDrugDosages(a.patientID,n.drug_id);case 3:return r=e.sent,e.abrupt("return",{drug_id:n.drug_id,drug_name:n.name,units:n.units,am:r.am,noon:r.noon,pm:r.pm,frequency:t.frequency});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(n);case 6:this.fastTrackMedications=e.sent;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadTreatmentState",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={date:_["a"].getSessionDate()},e.next=3,_["a"].getJson("programs/".concat(_["a"].getProgramID(),"/patients/").concat(this.patientID,"/status"),t);case 3:n=e.sent,n&&(this.treatmentState=n["status"]);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"findAndGroupDrugSideEffects",value:function(e){var t={};for(var n in this.sideEffects){var r=this.sideEffects[n];for(var a in r)e.includes(parseInt(a))&&(t[n]||(t[n]=[]),t[n]=[].concat(Object(s["a"])(t[n]),Object(s["a"])(r[a])))}return t}},{key:"calculatePillsPerDay",value:function(e,t,n){return parseFloat(e.toString())+t+n}},{key:"estimatePackSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e*this.nextVisitInterval/t,r=Math.round(n);return r<=0&&(r+=1),r}},{key:"calculateDosage",value:function(e,t){var n=0;return 0===t&&(n=e),0==e&&(n=t),e>0&&t>0&&(n=(e+t)/2),n}},{key:"calculateEquivalentDosage",value:function(e,t){return e+t}},{key:"calculateDateFromInterval",value:function(){var e=new Date(O.getSessionDate());return e.setDate(e.getDate()+this.nextVisitInterval),h["a"].toStandardHisFormat(e)}},{key:"getDrugPackSize",value:function(e){if(e.pack_size)return e.pack_size;try{return e.barcodes[0].tabs}catch(t){return 30}}},{key:"getInstructions",value:function(e,t,n,r){return"".concat(e," :- Morning: ").concat(t," ").concat(r,", Evening: ").concat(n," ").concat(r)}},{key:"toOrderObj",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{drug_inventory_id:e,equivalent_daily_dose:this.calculateEquivalentDosage(r,a),start_date:O.getSessionDate(),auto_expire_date:this.calculateDateFromInterval(),units:n,instructions:this.getInstructions(t,r,a,n),dose:this.calculateDosage(r,a),frequency:o}}},{key:"getReasonForRegimenSwitch",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getFirstValueText(this.patientID,"Reason for ARV switch");case 2:return t=e.sent,e.abrupt("return",t||"N/A");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createDrugOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",m["a"].create({encounter_id:this.encounterID,drug_orders:t}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createHangingPillsObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveValueTextObs("appointment type",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createRegimenSwitchObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveValueTextObs("Reason for ARV switch",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(_["a"]),x=n("b5e4"),N=n("c21d"),V=n("e4e3"),C=n("7f35");(function(e){e["ARV_REGIMENS"]="arv_regimens",e["INTERVAL_SELECTION"]="next_visit_interval"})(j||(j={})),function(e){e["EXIT"]="exit",e["CONTINUE"]="continue"}(w||(w={})),function(e){e["ON_VALUE"]="onValue",e["ON_BUILD"]="onBuild",e["BEFORE_NEXT"]="beforeNext"}(y||(y={}));var D={"Do not prescribe LPV regimens together with 3HP":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.regimenName,e.next=3,Object(C["a"])("3HP - LPV/r conflict",n,"Regimens containing LPV/r <b>cannot</b> be prescribed together with 3HP",[{name:"Close",slot:"end",color:"danger"}],"his-danger-color");case 3:return e.abrupt("return",w.EXIT);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.ON_VALUE,conditions:{regimenCode:function(e){return[7,8,9,10,11,12].includes(e)},medicationOrders:function(e){var t=["Rifapentine","INH"];return e.filter((function(e){return t.includes(e)})).length>=1}}},"Check for any adverse effects or contraindications associated with the regimen":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.regimenCodeStr,r=t.sideEffectsTable,a=r.columns,o=r.rows,e.next=4,Object(C["d"])("Contraindications / Side effects for ".concat(n),"",a,o,[{name:"Select other regimen",slot:"start"},{name:"Keep selected regimen",slot:"end",color:"danger"}],"his-danger-color");case 4:return i=e.sent,e.abrupt("return","Select other regimen"===i?w.EXIT:w.CONTINUE);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{hasSideEffects:function(e){return e},lastSideEffectDate:function(e,t){var n=t.currentDate;return e>=n}}},"Recommend 2nd line regimen to children under 3":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["b"])("Recommendation","",["Children under 3 years often have a high viral load and may be infected with drug-resistant HIV from previous exposure to ARVs (mother's ART and/or infant nevirapine prophylaxis)","Therefore, children under <b>3 years</b> respond better when <b>started immediately on 2nd line regimen</b> (Regimen <b>11</b>)"],[{name:"Select another regimen",slot:"start"},{name:"Keep selected regimen",slot:"end",color:"danger"}],"his-warning-color");case 2:return t=e.sent,e.abrupt("return","Select another regimen"===t?w.EXIT:w.CONTINUE);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{age:function(e){return e<3},regimenCode:function(e){return 11!=e}}},"Provide a reason for switching regimens when patient already has one":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["c"])("Are you sure you want to replace ".concat(t.currentRegimenStr,"?"),"Specify reason for switching regimen",["Policy change","Ease of administration (pill burden, swallowing)","Drug drug interaction","Pregnancy intention","Side effects","Treatment failure","Weight Change","Other"],[{name:"Cancel",slot:"start",color:"danger"},{name:"Continue",slot:"end",role:"action"}]);case 2:if(n=e.sent,!n.selection||"Cancel"==n.action){e.next=6;break}return t.reasonForSwitch=n.selection,e.abrupt("return",w.CONTINUE);case 6:return e.abrupt("return",w.EXIT);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.ON_VALUE,conditions:{regimenCode:function(e,t){var n=t.currentRegimenCode;return-1!=n&&e!=n}}},"Provide 14 day starter pack for LPV regimens for children under 3 years old":{priority:3,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["a"])("Starter pack needed for 14 days","".concat(t.treatmentInitiationState),"".concat(t.regimenName),[{name:"Cancel",slot:"start",color:"danger"},{name:"Prescribe starter pack",slot:"end"}],"his-info-color");case 2:if(n=e.sent,"Prescribe starter pack"!==n){e.next=6;break}return t.starterPackNeeded=!0,e.abrupt("return",w.CONTINUE);case 6:return e.abrupt("return",w.EXIT);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{age:function(e){return e<3},regimenCode:function(e){return 11===e},treatmentInitiationState:function(e){return["Initiation","Re-initiation"].includes(e)}}},"Provide 14 day starter pack for NVP based regimens on newly initiated/re-initiation patients":{priority:3,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["a"])("Starter pack needed for 14 days","".concat(t.treatmentInitiationState),"".concat(t.regimenName),[{name:"Cancel",slot:"start",color:"danger"},{name:"Prescribe starter pack",slot:"end"}],"his-info-color");case 2:if(n=e.sent,"Prescribe starter pack"!==n){e.next=6;break}return t.starterPackNeeded=!0,e.abrupt("return",w.CONTINUE);case 6:return e.abrupt("return",w.EXIT);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{regimenCode:function(e){return[0,2,6].includes(e)},treatmentInitiationState:function(e){return["Initiation","Re-initiation"].includes(e)}}},"Ask to reuse hanging pills if any":{priority:5,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["a"])("Hanging pills recommendation","Add hanging pills?","",[{name:"No",slot:"start",color:"warning"},{name:"Yes",slot:"end"}],"his-info-color");case 2:return n=e.sent,t.hangingPillsStatus="Yes"===n?"Optimize - including hanging pills":"Exact - excluding hanging pills",e.abrupt("return",w.CONTINUE);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.INTERVAL_SELECTION,targetEvent:y.BEFORE_NEXT,conditions:{drugs:function(e,t){var n=t.hangingPills,r=e.map((function(e){return n.includes(e)}));return r.some(Boolean)}}},"Provide warning of use of DTG regimen to women of reproductive age":{priority:2,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.regimenName,e.next=3,Object(C["a"])("Use of DTG or EFV in women of reproductive age",n,["There is currently <u>no confirmation</u>","that <b>DTG</b> is safe in <u>very early pregnancy</u>","DTG-based regimens are therefore not used as standard 1st line regimens for","<u>girls and women</u> who may get pregnancy"].join(" "),[{name:"Select another regimen",slot:"start"},{name:"Continue with regimen",slot:"end",color:"danger"}],"his-danger-color");case 3:return r=e.sent,e.abrupt("return","Select another regimen"===r?w.EXIT:w.CONTINUE);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{regimenCode:function(e){return e>=12},isChildBearing:function(e){return e}}},"Provide pallet options for LPV regimens for patient's whose weight is between 3 and 25 kgs":{priority:6,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["a"])("Pellets (cups) / Tabs","","Prescribe LPV/r in <b>Pellets (cups)</b> or <b>Tablets</b>?",[{name:"Granules",slot:"start"},{name:"Pellets",slot:"end"},{name:"Tabs",slot:"end"}],"his-info-color");case 2:return n=e.sent,t.lpvType=n.toLowerCase(),e.abrupt("return",w.CONTINUE);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},target:j.ARV_REGIMENS,targetEvent:y.BEFORE_NEXT,conditions:{weight:function(e){return e>=3&&e<=25},regimenCode:function(e){return 11===e||9===e}}},"Provide 14 day interval for NVP or LVP Regimen starter pack":{priority:1,data:{enabled:!1},target:j.INTERVAL_SELECTION,targetEvent:y.ON_BUILD,conditions:{prescriptionType:function(e){return"Regimen"===e},selectedInterval:function(e){return e>14},starterPackNeeded:function(e){return e},regimenCode:function(e){return[0,2,6,11].includes(e)}}},"Provide intervals upto 1 month, 2nd up to 2 months, and 3rd up to 6 months for Patients receiving TPT":{priority:2,data:{enabled:!1},target:j.INTERVAL_SELECTION,targetEvent:y.ON_BUILD,conditions:{prescriptionType:function(e){return"Regimen"===e},medicationOrders:function(e){var t=["Rifapentine","INH"];return e.filter((function(e){return t.includes(e)})).length>=1},tptPrescriptionCount:function(e,t){var n=t.selectedInterval;return Math.round(n/30)>e}}}},T={"Rifapentine or isoniazid should be taken weekly":{concept:"Weekly (QW)",priority:1,conditions:{drug:function(e){return e.match(/Rifapentine|Isoniazid/i)}}},"Use daily frequency for any other drugs":{concept:"Daily (QOD)",priority:2,conditions:{drug:function(e){return!e.match(/Rifapentine|Isoniazid/i)}}}},R=Object(a["defineComponent"])({mixins:[V["a"]],data:function(){return{drugs:[],prescription:{},patientToolbar:[],fieldComponent:"",facts:{age:-1,gender:"",weight:-1,currentDate:"",isChildBearing:!1,prescriptionType:"",tptPrescriptionCount:0,currentRegimenCode:-1,currentRegimenStr:"",drug:"",drugs:[],contraindications:{},hasSideEffects:!1,sideEffectsTable:{},lastSideEffectDate:"",regimenCode:-1,regimenCodeStr:"",regimenName:"",regimenDrugs:[],hangingPills:[],reasonForSwitch:"",starterPackNeeded:!1,hangingPillsStatus:"",treatmentInitiationState:"",lpvType:"",medicationOrders:[],selectedInterval:0}}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.prescription=new k(e.getID(),t.providerID),n.next=3,t.prescription.loadMedicationOrders();case 3:return n.next=5,t.prescription.loadFastTrackStatus();case 5:if(t.prescription.medicationOrdersAvailable()||t.prescription.isFastTrack()){n.next=8;break}return Object(x["e"])("Patient is not eligible for treatment Today! Please check HIV Clinic Consultation"),n.abrupt("return",t.gotoPatientDashboard());case 8:return n.next=10,t.prescription.loadRegimenExtras();case 10:return n.next=12,t.prescription.loadHangingPills();case 12:return n.next=14,t.prescription.loadTreatmentState();case 14:return n.next=16,t.prescription.loadDrugInduced();case 16:return n.next=18,t.prescription.loadContraindications();case 18:return n.next=20,t.prescription.loadTptPrescriptionCount();case 20:return n.next=22,t.initFacts(e);case 22:if(!t.prescription.isFastTrack()){n.next=29;break}return n.next=25,t.prescription.loadFastTrackMedications();case 25:t.drugs=t.prescription.getFastTrackMedications(),t.fieldComponent="next_visit_interval",n.next=30;break;case 29:!t.prescription.shouldPrescribeArvs()&&t.prescription.shouldPrescribeExtras()&&(t.drugs=t.prescription.getRegimenExtras());case 30:return n.next=32,t.getPatientToolBar();case 32:t.patientToolbar=n.sent,t.fields=t.getFields();case 34:case"end":return n.stop()}}),n)})))()},deep:!0},drugs:{handler:function(e){this.facts.drugs=e.map((function(e){return e.drug_id}))},immediate:!0,deep:!0}},methods:{initFacts:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.facts.age=e.getAge(),t.facts.gender=e.getGender(),n.next=4,e.getRecentWeight();case 4:t.facts.weight=n.sent,t.facts.hangingPills=t.prescription.getHangingPills(),t.facts.treatmentInitiationState=t.prescription.getTreatmentState(),t.facts.currentRegimenStr=t.programInfo.current_regimen,t.facts.currentRegimenCode=t.extractRegimenCode(t.programInfo.current_regimen),t.facts.medicationOrders=t.prescription.getMedicationOrders(),t.facts.contraindications=t.prescription.getContraindications(),t.facts.tptPrescriptionCount=t.prescription.getTptPrescriptionCount(),t.facts.lastSideEffectDate=t.prescription.getLastSideEffectDate(),t.facts.currentDate=k.getSessionDate(),t.facts.isChildBearing=e.isChildBearing();case 15:case"end":return n.stop()}}),n)})))()},onSubmit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.prescription.createEncounter();case 2:if(r=n.sent,t.prescription.setNextVisitInterval(e[j.INTERVAL_SELECTION].value),a=t.mapOrder(t.drugs),r){n.next=7;break}return n.abrupt("return",Object(x["e"])("Unable to create treatment encounter"));case 7:return n.next=9,t.prescription.createDrugOrder(a);case 9:if(o=n.sent,o){n.next=12;break}return n.abrupt("return",Object(x["e"])("Unable to create drug orders!"));case 12:if(!t.facts.reasonForSwitch){n.next=15;break}return n.next=15,t.prescription.createRegimenSwitchObs(t.facts.reasonForSwitch);case 15:if(!t.facts.hangingPillsStatus){n.next=18;break}return n.next=18,t.prescription.createHangingPillsObs(t.facts.hangingPillsStatus);case 18:Object(x["d"])("Drug order has been created"),t.nextTask();case 20:case"end":return n.stop()}}),n)})))()},onEvent:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c,s,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=Object(N["a"])(n.facts,D,e,t),r.t0=regeneratorRuntime.keys(a);case 2:if((r.t1=r.t0()).done){r.next=13;break}if(o=r.t1.value,c=a[o],!(null===c||void 0===c||null===(i=c.actions)||void 0===i?void 0:i.alert)){r.next=11;break}return r.next=8,null===c||void 0===c||null===(s=c.actions)||void 0===s?void 0:s.alert(n.facts);case 8:if(u=r.sent,u!==w.EXIT){r.next=11;break}return r.abrupt("return",!1);case 11:r.next=2;break;case 13:return r.abrupt("return",!0);case 14:case"end":return r.stop()}}),r)})))()},onBuildOptions:function(e,t){var n=Object(N["a"])(this.facts,D,e,t);for(var r in n){var a=n[r];if(a.data)return a.data}return{}},onRegimen:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.label,a=e.value,o=e.other,t.facts.lpvType="",t.facts.hangingPillsStatus="",t.facts.starterPackNeeded=!1,t.facts.regimenName="".concat(a," (").concat(r,")"),t.facts.regimenCodeStr=a.toString(),t.facts.regimenCode=t.extractRegimenCode(a.toString()),t.facts.regimenDrugs=o.regimenDrugs,t.facts.drugs=o.regimenDrugs.map((function(e){return e.drug_id})),i=t.prescription.findAndGroupDrugSideEffects(t.facts.drugs),t.facts.hasSideEffects=!Object(v["isEmpty"])(i),t.facts.sideEffectsTable=t.buildSideEffectsTable(i);case 12:case"end":return n.stop()}}),n)})))()},onBeforeRegimenNext:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onEvent(j.ARV_REGIMENS,y.BEFORE_NEXT);case 2:if(n=t.sent,r=[],n){t.next=6;break}return t.abrupt("return",!1);case 6:if(!e.facts.lpvType){t.next=12;break}return t.next=9,e.getLpvDrugs();case 9:r=t.sent,t.next=19;break;case 12:if(!e.facts.starterPackNeeded){t.next=18;break}return t.next=15,e.getStarterPackDrugs();case 15:r=t.sent,t.next=19;break;case 18:r=e.facts.regimenDrugs;case 19:return e.drugs=[].concat(Object(s["a"])(e.prescription.getRegimenExtras()),Object(s["a"])(r)),t.abrupt("return",!0);case 21:case"end":return t.stop()}}),t)})))()},getLpvDrugs:function(){return this.prescription.getLvpDrugsByType(this.facts.lpvType,this.facts.regimenCode)},getStarterPackDrugs:function(){return this.prescription.getRegimenStarterpack(this.facts.regimenCode,this.facts.weight)},setCustomDrugs:function(e){this.drugs=e.map((function(e){return e.other}))},buildSideEffectsTable:function(e){var t=["Date","Contraindication(s)","Side effect(s)"],n=[];for(var r in e){var a=this.facts.contraindications[r]||[];n.push([h["a"].toStandardHisDisplayFormat(r),a.join(", "),e[r].join(", ")])}return{columns:t,rows:n}},buildRegimenOptions:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.prescription.getPatientRegimens();case 2:for(a in n=t.sent,r=[],n)o=n[a],i=o.map((function(e){return e.alternative_drug_name||e.concept_name})).join(" + "),r.push({label:i,value:a,other:{regimenDrugs:o}});return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},buildIntervalOptions:function(){var e=this,t=[{label:"2 weeks",value:14},{label:"1 month",value:28},{label:"2 months",value:56},{label:"3 months",value:84},{label:"4 months",value:112},{label:"5 months",value:140},{label:"6 months",value:168},{label:"7 months",value:196},{label:"8 months",value:224},{label:"9 months",value:252},{label:"10 months",value:280},{label:"11 months",value:308},{label:"12 months",value:336}];return t.map((function(t){var n=t.label,r=t.value;e.facts.selectedInterval=parseInt(r.toString());var a=e.onBuildOptions(j.INTERVAL_SELECTION,y.ON_BUILD);return{label:n,value:r,other:Object(c["a"])(Object(c["a"])({},a),e.getDrugEstimates(e.drugs,e.facts.selectedInterval))}}))},getDrugFrequency:function(e){this.facts.drug=e;var t=Object(N["a"])(this.facts,T);if(!Object(v["isEmpty"])(t))return t[0].concept},extractRegimenCode:function(e){return e.match(/n\/a/i)?-1:parseInt(e.substring(0,e.length))},getDosageTableOptions:function(e){var t=this,n=[{indexes:[],class:"adult-regimen-formulation"},{indexes:[],class:"peads-regimen-formulation"}],r=["Drug name","Units","AM","Noon","PM","Frequency"],a=e.map((function(e,r){switch(e.regimen_category){case"A":n[0].indexes.push(r);break;case"P":n[1].indexes.push(r);break}return[e.drug_name,e.units,e.am,e.noon,e.pm,e.frequency||t.getDrugFrequency(e.drug_name)]}));return[{label:"Selected Medication",value:"Table",other:{columns:r,rows:a,rowColors:n}}]},getDrugEstimates:function(e,t){var n=this;this.prescription.setNextVisitInterval(t);var r=this.prescription.calculateDateFromInterval(),a=e.map((function(e){var t=n.prescription.getDrugPackSize(e),r=n.prescription.calculatePillsPerDay(e.am,e.noon,e.pm),a=n.prescription.estimatePackSize(r,t);return{label:e.alternative_drug_name||e.drug_name,value:a}}));return{label:"Medication run-out date:",value:h["a"].toStandardHisDisplayFormat(r),other:{label:"Estimated packs/tins:",value:a}}},mapOrder:function(e){var t=this;return e.map((function(e){return t.prescription.toOrderObj(e.drug_id,e.drug_name,e.units,e.am,e.pm,e.frequency||t.getDrugFrequency(e.drug_name))}))},getPatientToolBar:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.prescription.getReasonForRegimenSwitch();case 2:return n=t.sent,t.abrupt("return",[{label:"Age",value:"".concat(e.patient.getAge()," Year(s)")},{label:"Gender",value:e.patient.getGender()},{label:"Current Regimen",value:e.programInfo.current_regimen},{label:"Current weight",value:"".concat(e.facts.weight," kg(s)")||!1},{label:"Reason for change",value:n}]);case 4:case"end":return t.stop()}}),t)})))()},getFields:function(){var e=this;return[{id:j.ARV_REGIMENS,helpText:"ARV Regimen(s)",type:u["b"].TT_ART_REGIMEN_SELECTION,condition:function(){return e.prescription.shouldPrescribeArvs()},validation:function(e){return l["a"].required(e)},options:function(){return e.buildRegimenOptions()},onload:function(){return e.facts.prescriptionType="Regimen"},onValue:function(t){return e.onRegimen(t),e.onEvent(j.ARV_REGIMENS,y.ON_VALUE)},beforeNext:function(){return e.onBeforeRegimenNext()},config:{toolbarInfo:this.patientToolbar,footerBtns:[{name:"Custom Regimen",slot:"end",onClick:function(){e.fieldComponent="custom_regimen"}}]}},{id:"custom_regimen",helpText:"Custom prescription",type:u["b"].TT_MULTIPLE_SELECT,condition:function(){return"Custom"===e.facts.prescriptionType},onload:function(){return e.facts.prescriptionType="Custom"},validation:function(e){return l["a"].required(e)},options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.prescription.getCustomIngridients();case 2:return n=t.sent,t.abrupt("return",n.map((function(e){return{label:e.name,value:e.drug_id,other:Object(c["a"])({},e)}})));case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{showKeyboard:!0,hiddenFooterBtns:["Back"],footerBtns:[{name:"Standard Regimen",size:"large",slot:"end",color:"primary",visible:!1,visibleOnStateChange:function(e){return 1===e.index},onClick:function(){e.fieldComponent="arv_regimens"}}]}},{id:"custom_dosage",helpText:"Custom dose",type:u["b"].TT_DOSAGE_INPUT,condition:function(e){return!Object(v["isEmpty"])(e.custom_regimen)},validation:function(e){if(l["a"].required(e))return["Drugs are not available"];var t=e.map((function(e){var t=e.other;return t.am<=0&&t.pm<=0}));return t.some(Boolean)?["Missing dosage configuration on some drugs"]:null},unload:function(t){return e.setCustomDrugs(t)},summaryMapValue:function(t){var n=t.other;return{label:"Dosages",value:e.prescription.getInstructions(n.drug_name,n.am,n.pm,n.units)}},options:function(t){return t.custom_regimen.map((function(t){return{label:t.label,value:t.value,other:{drug_id:t.other.drug_id,drug_name:t.label,barcodes:t.other.barcodes,units:t.other.units,am:0,noon:0,pm:0,frequency:e.getDrugFrequency(t.label)}}}))}},{id:"selected_meds",helpText:"Selected medication",type:u["b"].TT_TABLE_VIEWER,options:function(){return e.getDosageTableOptions(e.drugs)},config:{toolbarInfo:this.patientToolbar,hiddenFooterBtns:["Clear"],styles:["his-table","table-borders"]}},{id:j.INTERVAL_SELECTION,helpText:"Interval to next visit",type:u["b"].TT_NEXT_VISIT_INTERVAL_SELECTION,validation:function(e){return l["a"].required(e)},options:function(){return e.buildIntervalOptions()},onValue:function(){return e.onEvent(j.INTERVAL_SELECTION,y.ON_VALUE)},beforeNext:function(){return e.onEvent(j.INTERVAL_SELECTION,y.BEFORE_NEXT)},config:{showRegimenCardTitle:!1}}]}}}),I=n("d959"),S=n.n(I);const P=S()(R,[["render",o]]);var A=P;function B(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}n("a4d3"),n("e01a");var E,F=n("45eb"),L=n("7e84"),M=n("5713"),H=(n("13d5"),n("8158")),U={"Adults with stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:function(e){return 4===e}}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{reasonForArt:function(e){return"WHO STAGE IV ADULT"===e}}},"Adults with stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:function(e){return 3===e}}},"Adults with stage 2 conditions":{concept:"WHO STAGE II ADULT",priority:4,conditions:{stage:function(e){return 2===e}}},"Adults with stage 1 conditions":{concept:"WHO STAGE I ADULT",priority:5,conditions:{stage:function(e){return 1===e}}}},q={"Children with stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:function(e){return 4===e}}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{reasonForArt:function(e){return"WHO STAGE IV PEDS"===e}}},"For children with stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:function(e){return 3===e}}},"Children with stage 2 conditions":{concept:"WHO STAGE II PEDS",priority:4,conditions:{stage:function(e){return 2===e}}},"Children with stage 1 conditions":{concept:"WHO STAGE I PEDS",priority:5,conditions:{stage:function(e){return 1===e}}}},z={"Warn if Severe weight loss is selected when actual patient BMI is acceptable":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["a"])("Patient's BMI of ".concat(t.bmi," greater than 18.5, do you wish to proceed?"),[{text:"Yes, keep severe weightloss",role:"keep"},{text:"No, cancel",role:"discard"}]);case 2:return n=e.sent,e.abrupt("return","keep"===n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{selectedCondition:function(e){return"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"===e},bmi:function(e){return e>18.5}}},"Warn for contradicting stage defining conditions":{priority:1,actions:{alert:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["a"])("CONTRADICTING STAGE DEFINING CONDITIONS",[{text:"Keep Asymptomatic",role:"asymptomatic"},{text:"Keep other(s)",role:"keep"}]);case 2:if(n=e.sent,"asymptomatic"!==n){e.next=10;break}return t.stage=1,t.selectedConditions=[],t.stageThreeConditions=[],t.stageFourConditions=[],t.stageTwoConditions=[],e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{selectedCondition:function(e){return"Asymptomatic HIV infection"===e},stage:function(e){return e>=2}}}},G={"For children whose current weight percentile is less than 70":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Child has a low weight percentile of ".concat(e.weightPercentile)}},conditions:{selectedCondition:function(e){return"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"===e},weightPercentile:function(e){return e<70}}},"Enable Moderate unexplained malnutrition for children whose weight for height is 70-79%":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Child has weight percentile of ".concat(e.weightPercentile)}},conditions:{selectedCondition:function(e){return"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"===e},weightPercentile:function(e){return e>=70&&e<=79}}},"Disable moderate weight loss when Severe unexplained weight loss is chosen":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:function(){return"Severe weight loss/manutrition was already selected"}},conditions:{selectedCondition:function(e){return"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"===e},selectedConditions:function(e){return e.includes("Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)")}}}},Y={"Adults with a BMI less than 16":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Adult has a low BMI of ".concat(e.bmi)}},conditions:{selectedCondition:function(e){return"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"===e},bmi:function(e){return e<16}}},"Adults whose BMI is between 16 and 18":{priority:3,actions:{isChecked:!0},description:{color:"warning",show:"onChecked",info:function(e){return"BMI of ".concat(e.bmi," is between 16 and 18")}},conditions:{selectedCondition:function(e){return"Moderate weight loss less than or equal to 10 percent, unexplained"===e},bmi:function(e){return e>=16&&e<=18.5}}},"Disable Moderate weight loss if severe weightloss is selected":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:function(){return"Severe weight loss was already selected"}},conditions:{selectedCondition:function(e){return"Moderate weight loss less than or equal to 10 percent, unexplained"===e},selectedConditions:function(e){return e.includes("Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained")}}}},K={"Has stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:function(e){return 4===e}}},"Has stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:2,conditions:{stage:function(e){return 3===e}}},"Children under twelve months who tested positive on Rapid test and have presumed severe HIV":{concept:"PRESUMED SEVERE HIV",priority:3,conditions:{ageInMonths:function(e){return e<12},selectedConditions:function(e){var t=H["a"].getConceptsByCategory("pshd_condition");for(var n in t)if(e.includes(n))return!0;return!1},testType:function(e){return"HIV rapid test"===e}}},"Children under twelve who tested positive via HIV DNA Polymerase Chain Reaction test":{concept:"HIV DNA POLYMERASE CHAIN REACTION",priority:4,conditions:{ageInMonths:function(e){return e<12},testType:function(e){return"HIV DNA POLYMERASE CHAIN REACTION"===e}}},"Children who are less than 24 months":{concept:"HIV infected",priority:5,conditions:{ageInMonths:function(e){return e<24}}},"Children between 24 and 56 months who have stage 2 or 1 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 750",priority:6,conditions:{ageInMonths:function(e){return e>=24&&e<=56},cd4:function(e){return e<=750},cd4Modifier:function(e){return"<"===e},stage:function(e){return e<=2}}},"Children with CD4 count less than 500 and have stage 1 and stage 2 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:7,conditions:{cd4:function(e){return e<500},cd4Modifier:function(e){return"<"===e},stage:function(e){return e<=2}}},"Children over the date 2014-04-01 who are more than five years old and have cd4 count less than 500":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:9,conditions:{date:function(e){return e>="2014-04-01"},age:function(e){return e>5},cd4:function(e){return e<500},cd4Modifier:function(e){return"<"===e}}},"Children over date 2014-04-01 and less than Five years old":{concept:"HIV infected",priority:10,conditions:{date:function(e){return e>="2014-04-01"},age:function(e){return e<=5}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:11,conditions:{stage:function(e){return e<=2}}}},W={"Has stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:function(e){return 4===e}}},"Has HIV wasting syndrome identified in stage 3":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{selectedConditions:function(e){var t=H["a"].getConceptsByCategory("severe_hiv_wasting_syndrome"),n=t.reduce((function(t,n){return e.includes(n.name)?t+1:0}),0);return n>=2}}},"Has stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:function(e){return 3===e}}},"CD4 less than 350 for adults before 2014":{concept:"cd4 less than or equal to 350",priority:4,conditions:{date:function(e){return e<"2014-04-01"},cd4:function(e){return e<=350},cd4Modifier:function(e){return"<"===e}}},"CD4 less than 250 for adults after 2014":{concept:"cd4 less than or equal to 250",priority:4,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=250},cd4Modifier:function(e){return"<"===e}}},"CD4 less than 350 for adults after 2014":{concept:"cd4 less than or equal to 350",priority:5,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=350},cd4Modifier:function(e){return"<"===e}}},"CD4 less than 500 for adults after 2014":{concept:"cd4 less than or equal to 500",priority:6,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=500},cd4Modifier:function(e){return"<"===e}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:8,conditions:{gender:function(e){return"F"===e},breastFeeding:function(e){return"Yes"===e},stage:function(e){return e<=2}}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:7,conditions:{gender:function(e){return"F"===e},pregnant:function(e){return"Yes"===e},stage:function(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:9,conditions:{stage:function(e){return e<=2}}}};(function(e){e["ADULT_STAGE_4"]="stage_4_conditions_adults",e["ADULT_STAGE_3"]="stage_3_conditions_adults",e["ADULT_STAGE_2"]="stage_2_conditions_adults",e["ADULT_STAGE_1"]="stage_1_conditions_adults",e["PEDAID_STAGE_4"]="stage_4_conditions_pedaids",e["PEDAID_STAGE_3"]="stage_3_conditions_pedaids",e["PEDAID_STAGE_2"]="stage_2_conditions_pedaids",e["PEDAID_STAGE_1"]="stage_1_conditions_pedaids"})(E||(E={}));var $=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r,a){var o;return Object(d["a"])(this,n),o=t.call(this,e,52,a),o.age=r,o.confirmatoryTest=null,o}return Object(p["a"])(n,[{key:"isAdult",value:function(){return this.age>=15}},{key:"isPedaid",value:function(){return this.age<=14}},{key:"getFacilities",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return M["a"].getFacilities({name:e})}},{key:"getConfirmatoryTestType",value:function(){return this.confirmatoryTest}},{key:"cd4CountIsValid",value:function(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}}},{key:"getAlertGuidelines",value:function(){return z}},{key:"getWhoStageGuidelines",value:function(){return this.isAdult()?U:q}},{key:"getProgramEligibilityGuidelines",value:function(){return this.isAdult()?W:K}},{key:"getRecommendedConditionGuidelines",value:function(){return this.isAdult()?Y:G}},{key:"getStagingConditions",value:function(e){var t=this.getStagingCategoryByNum(e);return _["a"].getConceptsByCategory(t)}},{key:"buildWhoStageObs",value:function(e){return this.buildValueCoded("Who stage",e)}},{key:"buildWhoCriteriaObs",value:function(e){return this.buildValueCoded("Who stages criteria present",e)}},{key:"buildReasonForArtObs",value:function(e){return this.buildValueCoded("Reason for ART eligibility",e)}},{key:"getStagingCategoryByNum",value:function(e){switch(e){case 1:return this.isAdult()?E.ADULT_STAGE_1:E.PEDAID_STAGE_1;case 2:return this.isAdult()?E.ADULT_STAGE_2:E.PEDAID_STAGE_2;case 3:return this.isAdult()?E.ADULT_STAGE_3:E.PEDAID_STAGE_3;case 4:return this.isAdult()?E.ADULT_STAGE_4:E.PEDAID_STAGE_4;default:return""}}},{key:"loadHivConfirmatoryTestType",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getFirstValueCoded(Object(F["a"])(Object(L["a"])(n.prototype),"patientID",this),"Confirmatory hiv test type");case 2:t=e.sent,t&&(this.confirmatoryTest=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(_["a"]),J=n("b446"),X=n("3800"),Q=n("e86e"),Z=Object(a["defineComponent"])({mixins:[V["a"]],data:function(){return{staging:{},showStagingWeightChart:!0,canShowStagingFields:!0,bmiObj:{},stagingFacts:{age:-1,bmi:-1,gender:"",stage:-1,cd4:-1,date:"",isChildBearing:!1,stageOneConditions:[],stageTwoConditions:[],stageThreeConditions:[],stageFourConditions:[],reasonForArt:"",testType:"",pregnant:"",breastFeeding:"",selectedCondition:"",selectedConditions:[],weightPercentile:-1,ageInMonths:-1,cd4Modifier:"",whoStage:""}}},methods:{initStaging:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.staging=new $(e.getID(),e.getAge(),t.providerID),n.next=3,t.staging.loadHivConfirmatoryTestType();case 3:return n.next=5,e.getBMI();case 5:if(t.bmiObj=n.sent,t.stagingFacts.age=e.getAge(),t.stagingFacts.bmi=t.bmiObj["index"],t.stagingFacts.date=$.getSessionDate(),t.stagingFacts.gender=e.isMale()?"M":"F",t.stagingFacts.testType=t.staging.getConfirmatoryTestType(),t.stagingFacts.ageInMonths=e.getAgeInMonths(),t.stagingFacts.isChildBearing=e.isChildBearing(),!t.staging.isPedaid()){n.next=17;break}return n.next=16,e.calculateWeightPercentile();case 16:t.stagingFacts.weightPercentile=n.sent;case 17:case"end":return n.stop()}}),n)})))()},submitStaging:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.staging.createEncounter();case 2:if(r=n.sent,r){n.next=5;break}throw"Unable to create staging encounter";case 5:return n.next=7,t.resolveObs(e,"staging");case 7:return a=n.sent,n.next=10,Promise.all([t.buildReasonForArtObs(),t.buildWhoStageObs()]);case 10:return o=n.sent,n.next=13,t.staging.saveObservationList([].concat(Object(s["a"])(a),Object(s["a"])(o)));case 13:if(i=n.sent,i){n.next=16;break}throw"Unable to save patient observations";case 16:case"end":return n.stop()}}),n)})))()},onStagingCondition:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,c,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.label,t.stagingFacts.selectedCondition=o,i=t.staging.getAlertGuidelines(),c=Object(N["a"])(t.stagingFacts,i),!Object(v["isEmpty"])(c)){n.next=6;break}return n.abrupt("return",!0);case 6:if(!(null===(r=c[0])||void 0===r?void 0:r.actions)||!(null===(a=c[0])||void 0===a?void 0:a.actions.alert)){n.next=11;break}return n.next=9,null===(s=c[0])||void 0===s?void 0:s.actions.alert(t.stagingFacts);case 9:return u=n.sent,n.abrupt("return",!!u);case 11:return n.abrupt("return",!0);case 12:case"end":return n.stop()}}),n)})))()},getFacilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(Q["b"])(e)},updateStagingFacts:function(e,t){var n=null===this.stagingFacts.stage?0:this.stagingFacts.stage;e>=n&&!Object(v["isEmpty"])(t)&&(this.stagingFacts.stage=e),this.stagingFacts.selectedConditions=[].concat(Object(s["a"])(this.stagingFacts.stageFourConditions),Object(s["a"])(this.stagingFacts.stageThreeConditions),Object(s["a"])(this.stagingFacts.stageTwoConditions),Object(s["a"])(this.stagingFacts.stageOneConditions))},buildReasonForArtObs:function(){return this.staging.buildReasonForArtObs(this.stagingFacts.reasonForArt)},buildWhoStageObs:function(){return this.staging.buildWhoStageObs(this.stagingFacts.whoStage)},buildStagingOptions:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.staging.getRecommendedConditionGuidelines();return this.staging.getStagingConditions(e).map((function(e){var a,o=!1,i=n.includes(e.name);t.stagingFacts.selectedCondition=e.name;var c=Object(N["a"])(t.stagingFacts,r);if(!Object(v["isEmpty"])(c)){var s,u,l=c[0];(null===l||void 0===l||null===(s=l.actions)||void 0===s?void 0:s.isChecked)&&(i=!0),(null===l||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.disabled)&&(o=!0),a=l.description}return{label:e.name,value:e.concept_id,isChecked:i,disabled:o,description:a}}))},setWhoStage:function(){var e,t=this.staging.getWhoStageGuidelines(),n=Object(N["a"])(this.stagingFacts,t);this.stagingFacts.whoStage=(null===(e=n[0])||void 0===e?void 0:e.concept)||""},setReasonForArt:function(){var e,t=this.staging.getProgramEligibilityGuidelines(),n=Object(N["a"])(this.stagingFacts,t);this.stagingFacts.reasonForArt=(null===(e=n[0])||void 0===e?void 0:e.concept)||""},notAsymptomatic:function(e){var t=e.stage_1_conditions;if(t){var n=t.filter((function(e){return e.label.match(/asymptomatic/i)&&e.isChecked}));return Object(v["isEmpty"])(n)}return!0},hasStaging:function(e){return"has_transfer_letter"in e?e.has_transfer_letter&&"Yes"===e.has_transfer_letter.value:this.canShowStagingFields},getStagingSummaryField:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Summary";return{id:"summary",helpText:t,type:u["b"].TT_ART_STAGING_SUMMARY,condition:function(t){return e.hasStaging(t)},onload:function(){e.setWhoStage(),e.setReasonForArt()},options:function(){return[{label:"WHO Stage",value:e.stagingFacts.whoStage,other:{type:"title-section"}},{label:"Condition on starting ART",value:e.stagingFacts.reasonForArt,other:{type:"title-section"}}].concat(Object(s["a"])(e.stagingFacts.selectedConditions.map((function(e){return{label:e,value:e}}))))},config:{title:"Selected stage defining conditions",hiddenFooterBtns:["Clear"]}}},getStagingFields:function(){var e=this;return[{id:"pregnancy_status",helpText:"Pregnant / Breastfeeding",type:u["b"].TT_MULTIPLE_YES_NO,validation:function(e){return l["a"].anyEmpty(e)},summaryMapValue:function(e){return{label:e.label,value:e.value}},computedValue:function(t){return{tag:"staging",obs:t.map((function(t){var n=t.value,r=t.other,a=r.factID;return e.stagingFacts[a]=n.toString().match(/Yes/i)?"Yes":"No",e.staging.buildValueCoded(r.concept,n)}))}},options:function(){return[{label:"Pregnant?",value:"",other:{values:e.yesNoOptions(),concept:"Is patient pregnant",factID:"pregnant"}},{label:"Breastfeeding?",value:"",other:{values:e.yesNoOptions(),concept:"Is patient breast feeding",factID:"breastFeeding"}}]},condition:function(t){return e.hasStaging(t)&&e.stagingFacts.isChildBearing}},{id:"patient_weight_chart",helpText:"Weight history",type:u["b"].TT_WEIGHT_CHART,options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patient.getWeightHistory();case 2:return n=t.sent,n=n.map((function(e){return{x:h["a"].toStandardHisDisplayFormat(e.date),y:e.weight}})),t.abrupt("return",[{label:"Weight for patient",value:"Weight trail",other:{values:n,age:e.patient.getAge(),bmi:e.bmiObj}}]);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"]},condition:function(t){return e.hasStaging(t)&&e.showStagingWeightChart}},{id:"stage_4_conditions",helpText:"Stage 4 conditions",type:u["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(4,e.stagingFacts.stageFourConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){var n=t.map((function(e){return e.label}));return e.stagingFacts.stageFourConditions=n,e.updateStagingFacts(4,t),{tag:"staging",obs:n.map((function(t){return e.staging.buildWhoCriteriaObs(t)}))}},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_3_conditions",helpText:"Stage 3 conditions",type:u["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(3,e.stagingFacts.stageThreeConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){var n=t.map((function(e){return e.label}));return e.stagingFacts.stageThreeConditions=n,e.updateStagingFacts(3,t),{tag:"staging",obs:n.map((function(t){return e.staging.buildWhoCriteriaObs(t)}))}},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_2_conditions",helpText:"Stage 2 conditions",type:u["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(2,e.stagingFacts.stageTwoConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){var n=t.map((function(e){return e.label}));return e.stagingFacts.stageTwoConditions=n,e.updateStagingFacts(2,t),{tag:"staging",obs:n.map((function(t){return e.staging.buildWhoCriteriaObs(t)}))}},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_1_conditions",helpText:"Stage 1 conditions",type:u["b"].TT_MULTIPLE_SELECT,validation:function(t){if(Object(v["isEmpty"])(t)&&Object(v["isEmpty"])(e.stagingFacts.selectedConditions))return["Please provide atleast one staging condition"]},options:function(){return e.buildStagingOptions(1,e.stagingFacts.stageOneConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){var n=t.map((function(e){return e.label}));return e.stagingFacts.stageOneConditions=n,e.updateStagingFacts(1,t),{tag:"staging",obs:n.map((function(t){return e.staging.buildWhoCriteriaObs(t)}))}},condition:function(t){return e.hasStaging(t)}},{id:"cd4_available",helpText:"Recent CD4 count results available?",type:u["b"].TT_SELECT,condition:function(t){return e.hasStaging(t)},validation:function(e){return l["a"].required(e)},options:function(){return e.yesNoOptions()}},{id:"cd4_count",helpText:"CD4 Count",type:u["b"].TT_TEXT,computedValue:function(t){var n=t.value.toString(),r=n.charAt(0),a=parseInt(n.substring(1));return e.stagingFacts.cd4=a,e.stagingFacts.cd4Modifier=r,{tag:"staging",obs:e.staging.buildValueNumber("CD4 count",a,r)}},validation:function(t){var n=function(){return e.staging.cd4CountIsValid(t.value)};return e.validateSeries([function(){return l["a"].required(t)},function(){return n()?null:["Please start with either modifier first: >, <, or ="]}])},config:{customKeyboard:[X["b"],[["Unknown","Delete"]]]},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value}}].concat(Object(s["a"])(Object(J["b"])({id:"cd4_result_date",helpText:"Cd4 Results",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value},estimation:{allowUnknown:!1},computeValue:function(t,n){return{date:t,tag:"staging",isEstimate:n,obs:e.staging.buildValueDate("Cd4 count datetime",t)}}},this.staging.getDate())),[{id:"location",helpText:"CD4 Location",type:u["b"].TT_SELECT,computedValue:function(t){var n=t.label;return{tag:"staging",obs:e.staging.buildValueText("Cd4 count location",n)}},validation:function(e){return l["a"].required(e)},options:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value}}])}}});const ee=Z;var te=ee,ne=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,9,r)}return n}(_["a"]),re=(n("1276"),function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,6,r)}return Object(p["a"])(n,[{key:"isNotEmptyandNumber",value:function(e){return"".concat(e.value).match(/^-?\d+\.?\d*$/)?null:["Invalid entry for ".concat(e.label)]}},{key:"isNotEmptyandFloat",value:function(e){return"".concat(e.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["Invalid entry for ".concat(e.label)]}},{key:"checkMinMax",value:function(e,t,n){var r=[];return parseFloat("".concat(e.value))<t&&r.push(["".concat(e.label," entered is less than minimum ").concat(e.label)]),parseFloat("".concat(e.value))>n&&r.push(["".concat(e.label," entered is greater than maximum ").concat(e.label)]),r.length>0?r:null}},{key:"validateAll",value:function(e){var t=this,n=[];return e.map((function(e){var r=t.validator(e);return Object(v["isArray"])(r)?n.push(r):null})),n.length>0?n:null}},{key:"mergeErrors",value:function(e){var t=[];return e.forEach((function(e){Object(v["isArray"])(e)&&t.push(e)})),t.length>0?t:null}},{key:"isValidBPReading",value:function(e){var t=[],n="".concat(e.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(t.push(n),null==n){var r="".concat(e.value).split("/"),a={label:"Systolic",value:r[0]},o={label:"Diastolic",value:r[1]};t.push(this.checkMinMax(o,30,200)),t.push(this.checkMinMax(a,40,250))}return this.mergeErrors(t)}},{key:"validator",value:function(e){var t=this,n=[{name:"Weight",validator:function(e){var n=t.isNotEmptyandFloat(e),r=t.checkMinMax(e,1,300);return t.mergeErrors([n,r])}},{name:"Height",validator:function(e){var n=t.isNotEmptyandNumber(e),r=t.checkMinMax(e,40,220);return t.mergeErrors([n,r])}},{name:"BP",validator:function(e){return t.isValidBPReading(e)}},{name:"Temp",validator:function(e){var n=t.isNotEmptyandNumber(e),r=t.checkMinMax(e,30,42);return t.mergeErrors([n,r])}},{name:"SP02",validator:function(e){var n=t.checkMinMax(e,40,100);return t.mergeErrors([n])}},{name:"Pulse",validator:function(e){var n=t.checkMinMax(e,50,120);return t.mergeErrors([n])}}],r=n.filter((function(t){return t.name===e.label}));return r.length>0?r[0].validator(e):null}}]),n}(_["a"])),ae=n("aee2"),oe=Object(a["defineComponent"])({mixins:[te],data:function(){return{registration:{},vitals:{}}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.canShowStagingFields=!1,t.registration=new ne(e.getID(),t.providerID),t.vitals=new re(e.getID(),t.providerID),n.next=5,t.initStaging(t.patient);case 5:t.showStagingWeightChart=!1,t.fields=t.getRegistrationFields();case 7:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{onSubmit:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o,i,s,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=Object(c["a"])({},t),r.next=3,n.registration.createEncounter();case 3:if(o=r.sent,o){r.next=6;break}return r.abrupt("return",Object(x["e"])("Unable to create registration encounter"));case 6:if(r.prev=6,!n.hasStaging(e)){r.next=17;break}return r.next=10,n.submitStaging(t);case 10:return r.next=12,n.vitals.createEncounter();case 12:return r.next=14,n.resolveObs(a,"vitals");case 14:return i=r.sent,r.next=17,n.vitals.saveObservationList(i);case 17:r.next=22;break;case 19:return r.prev=19,r.t0=r["catch"](6),r.abrupt("return",Object(x["e"])(r.t0));case 22:return r.next=24,n.resolveObs(a,"reg");case 24:return s=r.sent,r.next=27,n.registration.saveObservationList(s);case 27:if(u=r.sent,u){r.next=30;break}return r.abrupt("return",Object(x["e"])("Unable to save observations"));case 30:Object(x["d"])("Clinic registration complete!"),n.nextTask();case 32:case"end":return r.stop()}}),r,null,[[6,19]])})))()},buildDateObs:function(e,t,n){var r={};return r=t.match(/unknown/i)?this.registration.buildValueText(e,"Unknown"):n?this.registration.buildValueDateEstimated(e,t):this.registration.buildValueDate(e,t),r},getRegistrationFields:function(){var e=this;return[{id:"followup_agreement",helpText:"Agrees to follow-up",type:u["b"].TT_MULTIPLE_YES_NO,summaryMapValue:function(e){var t=e.value,n=e.label;return{value:t,label:"".concat(n," followup")}},validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].anyEmpty(t)}])},computedValue:function(t){var n=[];return t.forEach((function(t){var r=t.label,a=t.value;n.push(e.registration.buildValueCoded(r,a)),n.push(e.registration.buildValueCoded("Agrees to followup",r))})),{tag:"reg",obs:n}},options:function(){return[{label:"Phone",value:"",other:{values:e.yesNoOptions()}},{label:"Home visit",value:"",other:{values:e.yesNoOptions()}}]}},{id:"received_arvs",helpText:"Ever received ARVs for treatment or prophylaxis?",type:u["b"].TT_SELECT,computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Ever registered at ART clinic",n)}},validation:function(e){return l["a"].required(e)},options:function(){return e.yesNoOptions()}}].concat(Object(s["a"])(Object(J["b"])({id:"date_last_taken_arvs",helpText:"Last taken ARVS",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},condition:function(e){return"Yes"===e.received_arvs.value},estimation:{allowUnknown:!0},computeValue:function(t,n){return{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Date ART last taken",t,n)}}},this.registration.getDate())),[{id:"taken_art_in_last_two_months",helpText:"Taken ARVs in the last two months?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"reg",obs:[e.registration.buildValueCoded("Has the patient taken ART in the last two months",n)]}},options:function(){return e.yesNoUnknownOptions()},condition:function(e){return"Unknown"===e.year_date_last_taken_arvs.value}},{id:"taken_art_in_last_two_weeks",helpText:"Taken ARV's in the last two weeks?",type:u["b"].TT_SELECT,computedValue:function(t,n){var r=t.value,a="",o=[],i=-1;return"Yes"===r?i=14:"Yes"===n.taken_art_in_last_two_months.value&&(i=60),i>0&&(a=h["a"].getDateBeforeByDays(e.registration.getDate(),i),o.push(e.registration.buildValueDateEstimated("Date ART last taken",a))),{date:a,tag:"reg",obs:[].concat(o,[e.registration.buildValueCoded("Has the patient taken ART in the last two weeks",r)])}},validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.taken_art_in_last_two_months.value},options:function(){return e.yesNoUnknownOptions()}},{id:"ever_registered_at_art_clinic",helpText:"Ever registered at an ART clinic?",type:u["b"].TT_SELECT,computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Ever registered at ART clinic",n)}},validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.received_arvs.value},options:function(){return e.yesNoOptions()}},{id:"location_of_art_initialization",helpText:"Location of ART initiation",type:u["b"].TT_SELECT,computedValue:function(t){var n=t.label;return{tag:"reg",obs:e.registration.buildValueText("Location of ART initiation",n)}},validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},options:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}],Object(s["a"])(Object(J["b"])({id:"date_started_art",helpText:"Started ART",condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},estimation:{allowUnknown:!0,estimationFieldType:J["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t,n){return e.staging.setDate(t),e.vitals.setDate(t),{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Drug start date",t,n)}}},this.registration.getDate())),[{id:"previous_art_number",helpText:"ART number at previous location",type:u["b"].TT_TEXT,condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},computedValue:function(t){return{tag:"reg",obs:e.registration.buildValueText("ART number at previous location",t.value)}},validation:function(e){return l["a"].required(e)}},{id:"has_transfer_letter",helpText:"Has staging information?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Has transfer letter",n)}},options:function(){return e.yesNoOptions()},condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value}},{id:"height",helpText:"Height (CM)",type:u["b"].TT_NUMBER,condition:function(e){return"Yes"===e.has_transfer_letter.value},computedValue:function(t){var n=t.value;return{tag:"vitals",obs:e.vitals.buildValueNumber("Height",n)}},validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].isNumber(t)},function(){return l["a"].rangeOf(t,40,222)}])}},{id:"weight",helpText:"Weight (Kg)",type:u["b"].TT_TEXT,unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,r,a){var o,i,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=a.weight.value,i=a.height.value,t.next=4,ae["a"].getBMI(o,i,e.patient.getGender(),e.patient.getAge());case 4:if(c=t.sent,e.stagingFacts.bmi=c["index"],e.staging.isPedaid()){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,e.patient.getMedianWeightHeight();case 10:s=t.sent;try{e.stagingFacts.weightPercentile=parseFloat(o)/parseFloat(s["weight"])*100}catch(n){e.stagingFacts.weightPercentile=0}case 12:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}(),computedValue:function(t){var n=t.value;return{tag:"vitals",obs:e.vitals.buildValueNumber("weight",n)}},condition:function(e){return"Yes"===e.has_transfer_letter.value},validation:function(t){return e.validateSeries([function(){return e.vitals.isNotEmptyandFloat(t)},function(){return l["a"].rangeOf(t,1,300)}])},config:{customKeyboard:[[["1","2","3",""],["4","5","6",""],["7","8","9","."],["","0","",""]],[["Delete"]]]}}],Object(s["a"])(this.getStagingFields()),[{id:"new_cd4_percent_available",helpText:"CD4 percent available",type:u["b"].TT_SELECT,options:function(){return e.yesNoOptions()},condition:function(e){return"Yes"===e.has_transfer_letter.value},validation:function(e){return l["a"].required(e)}},{id:"cd4_percent",helpText:"CD4 Percent",type:u["b"].TT_TEXT,condition:function(e){return"Yes"===e.new_cd4_percent_available.value},computedValue:function(t){var n=t.value;return{tag:"staging",obs:e.registration.buildValueNumber("CD4 percent",parseInt(n.toString().substring(1)),"%")}},onValue:function(t){return!(t.value&&!e.staging.cd4CountIsValid(t.value))||(Object(x["e"])("Cd4 percentage invalid. Use one modifier or start with either of these symbols: >, < or ="),!1)},validation:function(e){return l["a"].required(e)},config:{customKeyboard:[X["b"],[["Delete"]]]}},{id:"type_of_confirmatory_hiv_test",helpText:"Confirmatory HIV test",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Confirmatory hiv test type",n)}},options:function(){return[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done"}]}},{id:"confirmatory_hiv_test_location",helpText:"Location of confirmatory HIV test",type:u["b"].TT_SELECT,computedValue:function(t){return{tag:"reg",obs:e.registration.buildValueText("Confirmatory HIV test location",t.label)}},validation:function(e){return l["a"].required(e)},condition:function(e){return"Not done"!=e.type_of_confirmatory_hiv_test.value},options:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}],Object(s["a"])(Object(J["b"])({id:"date_of_confirmatory_hiv_test",helpText:"Confirmatory HIV test",condition:function(e){return e.confirmatory_hiv_test_location.value},required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},estimation:{allowUnknown:!0},computeValue:function(t,n){return{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Confirmatory HIV test date",t,n)}}},this.registration.getDate())),[this.getStagingSummaryField("Staging summary")])}}});const ie=S()(oe,[["render",B]]);var ce=ie;function se(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var ue=n("7920"),le=n("83af"),de=n("4db7"),pe=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{appointmentDate:"",medicationRunOutDate:"",appointment:{}}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.appointment=new le["a"](e.getID(),t.providerID),t.init();case 2:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{onFinish:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.appointment.createEncounter();case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return",Object(x["e"])("Unable to create encounter"));case 5:return e.next=7,n.resolveObs(t,"obs");case 7:return a=e.sent,e.next=10,n.appointment.buildValueDate("Estimated date",n.appointmentDate);case 10:return o=e.sent,a.push(o),e.next=14,n.appointment.saveObservationList(a);case 14:if(i=e.sent,i){e.next=17;break}return e.abrupt("return",Object(x["e"])("Unable to create Obs"));case 17:return Object(x["d"])("Encounter created"),c=new de["a"](n.patientID),e.next=21,c.printVisitSummaryLbl();case 21:n.nextTask();case 22:case"end":return e.stop()}}),e)})))()},init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.appointment.getNextAppointment();case 3:n=t.sent,e.appointmentDate=n.appointment_date,e.medicationRunOutDate=n.drugs_run_out_date,e.fields=e.getFields(),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(x["e"])("Next appointment is not available"),e.gotoPatientDashboard();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getFields:function(){var e=this;return[{id:"set_appointment",helpText:"Appointments booking",type:u["b"].TT_APPOINTMENTS_ENTRY,validation:function(e){return l["a"].required(e)},computedValue:function(t){return{tag:"obs",obs:e.appointment.buildValueDate("Appointment date",t.value)}},config:{hiddenFooterBtns:["Clear"]},options:function(){return[{label:"",value:"",other:{runOutDate:e.medicationRunOutDate,appointmentDate:e.appointmentDate}}]}}]}}});const be=S()(pe,[["render",se]]);var fe=be;function me(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{skipSummary:!0,fields:e.fields,onFinishAction:e.onSubmit,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var he=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){var a;return Object(d["a"])(this,n),a=t.call(this,e,68,r),a.lastDrugs=[],a.lastReceiptDate="",a}return Object(p["a"])(n,[{key:"loadPreviousDrugs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Date(this.date),t.setDate(t.getDate()-1),e.next=4,_["a"].getJson("patients/".concat(this.patientID,"/drugs_received"),{date:h["a"].toStandardHisFormat(t)});case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return");case 7:this.lastDrugs=n.filter((function(e){return r.lastReceiptDate?new Date(e.order.start_date)>=new Date(r.lastReceiptDate):(r.lastReceiptDate=e.order.start_date,!0)}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getReceiptDate",value:function(){return this.lastReceiptDate}},{key:"getLastDrugs",value:function(){return this.lastDrugs}},{key:"receivedDrugsBefore",value:function(){return!Object(v["isEmpty"])(this.lastDrugs)}},{key:"buildPillCountObs",value:function(e,t){return this.buildValueNumber("Number of tablets brought to clinic",t,null,e)}},{key:"buildAdherenceObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("Drug adherence",!0);case 2:return a=e.sent,e.abrupt("return",{concept_id:a,value_numeric:r,value_drug:n,value_modifier:"%",order_id:t,person_id:this.patientID,obs_datetime:_["a"].getSessionDate()});case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"isAdherenceGood",value:function(e){return e>=95&&e<=105}},{key:"calculateAdherence",value:function(e,t,n){return Math.round(100*(e-t)/(e-n))}},{key:"calculateExpected",value:function(e,t,n){var r=this.calculateDaysElapsed(n);return e-r*parseFloat(t.toString())}},{key:"calculateDaysElapsed",value:function(e){var t=_["a"].getSessionDate(),n=Math.abs(new Date(t).getTime()-new Date(e).getTime()),r=Math.ceil(n/864e5);return r}},{key:"calculateUnaccountedOrMissed",value:function(e,t){var n=parseFloat(e)-parseFloat(t);return n<0?-1*n+" missed":n+" unacc"}}]),n}(_["a"]),ge=Object(a["defineComponent"])({mixins:[V["a"]],data:function(){return{adherence:{},drugObs:[],askReasonForPoorAdherence:!1,calculationAgreementObs:[]}},methods:{initAdherence:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.adherence=new he(e.getID(),t),r.next=3,n.adherence.loadPreviousDrugs();case 3:case"end":return r.stop()}}),r)})))()},saveAdherence:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.adherence.createEncounter();case 2:return t.next=4,Promise.all([].concat(Object(s["a"])(e.drugObs),Object(s["a"])(e.calculationAgreementObs)));case 4:return n=t.sent,t.next=7,e.adherence.saveObservationList(n);case 7:if(r=t.sent,r){t.next=10;break}return t.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 10:case"end":return t.stop()}}),t)})))()},buildAdherenceReport:function(e){var t=this,n=this.adherence.getReceiptDate(),r=this.adherence.calculateDaysElapsed(n),a="\n                Last visit: ".concat(h["a"].toStandardHisDisplayFormat(n)," \n                (").concat(r," Days Elapsed)\n            "),o=[{indexes:[0,3,6],class:"adherence-col-bg"}],i=[],c=[a],s=[["Prescription"],["Tabs given"],["Tabs per day"],["Tabs remaining"],["Expected"],["Actual (counted)"],["Adherence"],["Doses missed/ Unaccounted for"],["Doses consumed"],["Art Adherence"]];return e.forEach((function(e,n){var r=t.adherenceStatus(e);c.push(e.drug.name),s[0].push(""),s[1].push(e.quantity),s[2].push(e.equivalent_daily_dose),s[3].push(""),s[4].push(t.calcPillsExpected(e)<0?0:t.calcPillsExpected(e)),s[5].push(e.pillsBrought),s[6].push(""),s[7].push(t.calcUnaccountedDoses(e)),s[8].push("".concat(t.calcAdherence(e),"%")),s[9].push(r),i.push({index:n+1,row:9,class:r.match(/good/i)?"adherence-txt-good":"adherence-txt-bad"})})),[{label:"Selected Medication",value:"Table",other:{columns:c,rows:s,rowColors:o,cellColors:i}}]},adherenceStatus:function(e){var t=this.calcAdherence(e);return this.adherence.isAdherenceGood(t)?"Good adherence":"Explore problem"},calcAdherence:function(e){var t=this.calcPillsExpected(e);return this.adherence.calculateAdherence(e.quantity,e.pillsBrought,t)},calcUnaccountedDoses:function(e){var t=this.calcPillsExpected(e);return this.adherence.calculateUnaccountedOrMissed(t,e.pillsBrought)},calcPillsExpected:function(e){return this.adherence.calculateExpected(e.quantity,e.equivalent_daily_dose,e.order.start_date)},getAdherenceFields:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return[{id:"pills_brought",helpText:"Pills remaining (brought to clinic)",type:u["b"].TT_ADHERENCE_INPUT,condition:function(){return t},validation:function(e){if(l["a"].required(e))return["No drugs available"];var t=e.map((function(e){return""===e.value}));return t.some(Boolean)?["Some values are missing"]:null},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.drugObs=[],n.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a,o,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n.other,a=r.drug,o=r.order,i=Object(c["a"])(Object(c["a"])({},n.other),{},{pillsBrought:n.value}),s=e.calcAdherence(i),e.drugObs.push(e.adherence.buildAdherenceObs(o.order_id,a.drug_id,s)),e.drugObs.push(e.adherence.buildPillCountObs(o.order_id,n.value)),e.askReasonForPoorAdherence||(e.askReasonForPoorAdherence=!e.adherence.isAdherenceGood(i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(){return e.adherence.getLastDrugs().map((function(e){return{label:e.drug.name,value:"",other:Object(c["a"])({},e)}}))}},{id:"adherence_report",helpText:"ART adherence",type:u["b"].TT_TABLE_VIEWER,condition:function(){return t},options:function(t){return e.buildAdherenceReport(t.pills_brought.map((function(e){return Object(c["a"])(Object(c["a"])({},e.other),{},{pillsBrought:e.value})})))},config:{hiddenFooterBtns:["Clear"]}},{id:"agree_with_calculation",helpText:"Agree with adherence calculation",type:u["b"].TT_SELECT,condition:function(){return e.askReasonForPoorAdherence&&t},validation:function(e){return l["a"].required(e)},unload:function(t){var n=t.value;e.calculationAgreementObs=[e.adherence.buildValueCoded("Reason for poor treatment adherence",n)]},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}}]}}});const Oe=ge;var ve=Oe,_e=Object(a["defineComponent"])({mixins:[ve],watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.initAdherence(e,t.providerID);case 2:t.fields=t.getAdherenceFields();case 3:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{onSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.saveAdherence();case 2:e.nextTask();case 3:case"end":return t.stop()}}),t)})))()}}});const je=S()(_e,[["render",me]]);var we=je;function ye(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("4d63");var ke=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,53,r)}return Object(p["a"])(n,[{key:"getFamilyPlanningMethods",value:function(){return["ORAL CONTRACEPTIVE PILLS","DEPO-PROVERA","INTRAUTERINE CONTRACEPTION","CONTRACEPTIVE IMPLANT","MALE CONDOMS","FEMALE CONDOMS","TUBAL LIGATION","NONE"]}},{key:"getDrugSideEffects",value:function(){var e=_["a"].getSessionDate();return _["a"].getJson("/programs/1/patients/".concat(this.patientID,"/medication_side_effects"),{date:e})}},{key:"getClient",value:function(){return _["a"].getFirstValueCoded(this.patientID,"Patient Present")}},{key:"getTLObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("Tubal ligation");case 2:return t=e.sent,e.next=5,_["a"].getConceptID("Family planning method");case 5:return n=e.sent,e.next=8,_["a"].getObs({person_id:this.patientID,concept_id:n,value_coded:t});case 8:if(r=e.sent,!(r.length>0)){e.next=13;break}return e.abrupt("return",!0);case 13:return e.next=15,_["a"].getConceptID("Family planning, action to take");case 15:return a=e.sent,e.next=18,_["a"].getObs({person_id:this.patientID,concept_id:a,value_coded:t});case 18:if(o=e.sent,!(o.length>0)){e.next=21;break}return e.abrupt("return",!0);case 21:return e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPreviousDrugs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getJson("patients/".concat(this.patientID,"/drugs_received"));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return n={},t.forEach((function(e){n[e.drug_inventory_id]=e})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"familyPlanningMethods",value:function(e,t){var n={"ORAL CONTRACEPTIVE PILLS":{"DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"DEPO-PROVERA":{"ORAL CONTRACEPTIVE PILLS":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"INTRAUTERINE CONTRACEPTION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"CONTRACEPTIVE IMPLANT":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"MALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"FEMALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","MALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"RYTHM METHOD":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","CONTRACEPTIVE IMPLANT":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"TUBAL LIGATION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N",VASECTOMY:"N"},VASECTOMY:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N"},NONE:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N","TUBAL LIGATION":"N"}},r=n[e];return t.map((function(e){return"N"===r[e.label]?{label:e.label,value:e.value,isChecked:!1,disabled:!0}:{label:e.label,value:e.value,isChecked:e.isChecked,disabled:!1}}))}}]),n}(_["a"]),xe=n("c1e4"),Ne=n("9b7c"),Ve=n("8a30"),Ce=Object(a["withScopeId"])("data-v-10a26cd2");Object(a["pushScopeId"])("data-v-10a26cd2");var De=Object(a["createTextVNode"])("VL milestone has been reached"),Te=Object(a["createTextVNode"])(" Order VL"),Re=Object(a["createTextVNode"])(" Wait till next milestone"),Ie=Object(a["createTextVNode"])(" Remind me later ");Object(a["popScopeId"])();var Se=Ce((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),l=Object(a["resolveComponent"])("ion-content"),d=Object(a["resolveComponent"])("ion-button"),p=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(u,null,{default:Ce((function(){return[Object(a["createVNode"])(s,null,{default:Ce((function(){return[Object(a["createVNode"])(c,null,{default:Ce((function(){return[De]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(l,{style:{overflowY:"hidden",background:"grey"}},{default:Ce((function(){return[Object(a["createVNode"])("p",null,"ART start date : "+Object(a["toDisplayString"])(e.artStartDate),1),Object(a["createVNode"])("p",null,"Months on ART: "+Object(a["toDisplayString"])(e.monthsOnART),1),Object(a["createVNode"])("p",null,"Last VL order date "+Object(a["toDisplayString"])(e.lastOrder),1),Object(a["createVNode"])("p",null,"Current regimen / start date: "+Object(a["toDisplayString"])(e.currentRegimen)+" - "+Object(a["toDisplayString"])(e.regimenStartDate),1)]})),_:1}),Object(a["createVNode"])(p,null,{default:Ce((function(){return[Object(a["createVNode"])(s,null,{default:Ce((function(){return[Object(a["createVNode"])(d,{slot:"end",color:"success",size:"large",onClick:t[1]||(t[1]=function(t){return e.closeModal("order")})},{default:Ce((function(){return[Te]})),_:1}),Object(a["createVNode"])(d,{slot:"end",size:"large",onClick:t[2]||(t[2]=function(t){return e.closeModal("wait")})},{default:Ce((function(){return[Re]})),_:1}),Object(a["createVNode"])(d,{slot:"start",color:"danger",size:"large",onClick:t[3]||(t[3]=function(t){return e.closeModal("later")})},{default:Ce((function(){return[Ie]})),_:1})]})),_:1})]})),_:1})],64)})),Pe=Object(a["defineComponent"])({name:"Modal",props:{VLData:{type:Object,required:!0}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.artStartDate=h["a"].toStandardHisDisplayFormat(e.VLData.earliest_start_date),e.monthsOnART=e.VLData.period_on_art,e.lastOrder=e.VLData.last_order_date?h["a"].toStandardHisDisplayFormat(e.VLData.last_order_date):"N/A",e.currentRegimen=e.VLData.current_regimen.name?e.VLData.current_regimen.name:"Other",e.regimenStartDate=h["a"].toStandardHisDisplayFormat(e.VLData.current_regimen.date_started);case 5:case"end":return t.stop()}}),t)})))()},methods:{closeModal:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve["S"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()}},data:function(){return{content:"Content",artStartDate:"",monthsOnART:"",lastOrder:"",currentRegimen:"",regimenStartDate:""}},components:{IonHeader:Ve["p"],IonToolbar:Ve["K"],IonTitle:Ve["J"],IonContent:Ve["m"],IonFooter:Ve["n"],IonButton:Ve["d"]}});n("d42f");const Ae=S()(Pe,[["render",Se],["__scopeId","data-v-10a26cd2"]]);var Be=Ae,Ee=n("ad60"),Fe=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,13,r)}return Object(p["a"])(n,[{key:"buildDefferedOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getConceptID("HIV viral load");case 2:return n=e.sent,e.next=5,_["a"].getConceptID("Delayed milestones");case 5:return r=e.sent,e.abrupt("return",[{concept_id:n,value_text:"Wait till next milestone",value_coded:r,value_numeric:t}]);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(_["a"]),Le=Object(a["withScopeId"])("data-v-546674a2");Object(a["pushScopeId"])("data-v-546674a2");var Me=Object(a["createTextVNode"])("Side effects suspected causes"),He={style:{}},Ue=Object(a["createVNode"])("div",{class:"side-title"}," Select reason ",-1),qe=Object(a["createVNode"])("p",null,"Current Medication",-1),ze=Object(a["createVNode"])("p",null,"Previous Medication",-1),Ge=Object(a["createTextVNode"])("Other, not drug related"),Ye=Object(a["createTextVNode"])("Drug side effect"),Ke=Object(a["createVNode"])("p",null,null,-1),We=Object(a["createTextVNode"])(" Close "),$e=Object(a["createTextVNode"])(" Save ");Object(a["popScopeId"])();var Je=Le((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),l=Object(a["resolveComponent"])("ion-label"),d=Object(a["resolveComponent"])("ion-item"),p=Object(a["resolveComponent"])("ion-list"),b=Object(a["resolveComponent"])("ion-col"),f=Object(a["resolveComponent"])("ion-radio"),m=Object(a["resolveComponent"])("ion-radio-group"),h=Object(a["resolveComponent"])("ion-row"),g=Object(a["resolveComponent"])("ion-grid"),O=Object(a["resolveComponent"])("ion-content"),v=Object(a["resolveComponent"])("ion-button"),_=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(u,null,{default:Le((function(){return[Object(a["createVNode"])(s,null,{default:Le((function(){return[Object(a["createVNode"])(c,null,{default:Le((function(){return[Me]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(O,{style:{overflowY:"hidden",background:"grey"}},{default:Le((function(){return[Object(a["createVNode"])(g,null,{default:Le((function(){return[Object(a["createVNode"])(h,null,{default:Le((function(){return[Object(a["createVNode"])(b,{size:"4"},{default:Le((function(){return[Object(a["createVNode"])(p,{style:{overflowY:"auto",height:"78vh"}},{default:Le((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.sides,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:t,onClick:function(t){return e.selectSideEffect(n)},detail:!0,style:e.activeIndex===n?"color: green":"color: black"},{default:Le((function(){return[Object(a["createVNode"])(l,null,{default:Le((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick","style"])})),128))]})),_:1})]})),_:1}),Object(a["createVNode"])(b,{style:{overflowY:"auto",height:"78vh"}},{default:Le((function(){return[Object(a["createVNode"])("div",He,[Object(a["createVNode"])(p,null,{default:Le((function(){return[null!==e.activeIndex?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:0,modelValue:e.sides[e.activeIndex]["reason"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.sides[e.activeIndex]["reason"]=t})},{default:Le((function(){return[Ue,qe,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:t},{default:Le((function(){return[Object(a["createVNode"])(l,null,{default:Le((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.drug.name),1)]})),_:2},1024),Object(a["createVNode"])(f,{slot:"start",value:e.drug_inventory_id},null,8,["value"])]})),_:2},1024)})),128)),ze,Object(a["createVNode"])(d,null,{default:Le((function(){return[Object(a["createVNode"])(l,null,{default:Le((function(){return[Ge]})),_:1}),Object(a["createVNode"])(f,{slot:"start",value:"other"})]})),_:1}),Object(a["createVNode"])(d,null,{default:Le((function(){return[Object(a["createVNode"])(l,null,{default:Le((function(){return[Ye]})),_:1}),Object(a["createVNode"])(f,{slot:"start",value:"drug"})]})),_:1})]})),_:1},8,["modelValue"])):Object(a["createCommentVNode"])("",!0)]})),_:1})]),Ke]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(_,null,{default:Le((function(){return[Object(a["createVNode"])(s,null,{default:Le((function(){return[Object(a["createVNode"])(v,{onClick:e.closeModal,slot:"end",color:"danger"},{default:Le((function(){return[We]})),_:1},8,["onClick"]),Object(a["createVNode"])(v,{onClick:e.postSideEffects,slot:"end",disabled:!e.allSelected},{default:Le((function(){return[$e]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})],64)})),Xe=Object(a["defineComponent"])({name:"Modal",props:{sideEffects:{type:Object,required:!0},drugs:{type:Array,default:[]}},methods:{closeModal:function(){Ve["S"].dismiss()},postSideEffects:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve["S"].dismiss(e.sides);case 2:case"end":return t.stop()}}),t)})))()},selectSideEffect:function(e){this.activeIndex=e}},computed:{allSelected:function(){return this.sides.filter((function(e){return e["reason"]})).length===this.sides.length}},mounted:function(){this.sides=this.sideEffects},data:function(){return{content:"Content",extendedLabsEnabled:!1,appActivities:[],sides:[],specimens:[],reasons:["Routine","Targeted","Confirmatory","Stat","Repeat / Missing"],activeIndex:null}},components:{IonButton:Ve["d"],IonContent:Ve["m"],IonHeader:Ve["p"],IonTitle:Ve["J"],IonToolbar:Ve["K"],IonLabel:Ve["u"],IonList:Ve["v"],IonItem:Ve["t"],IonRadioGroup:Ve["C"],IonRow:Ve["E"]}});n("e96c");const Qe=S()(Xe,[["render",Je],["__scopeId","data-v-546674a2"]]);var Ze=Qe,et=Object(a["defineComponent"])({mixins:[ve],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],labOrderFieldContext:{},prescriptionContext:{},consultation:{},hasTBTherapyObs:!1,allergicToSulphur:!1,TBSuspected:!1,presentedTBSymptoms:!1,pregnancy:[],currentFPM:[],newFPM:[],reasonForNoFPM:{},specificReasonForNoFPM:{},offerContraceptives:{},sideEffects:[],otherSideEffects:[],tbObs:{},tbSideEffectsObs:[],tbStatusObs:{},treatmentStatusObs:{},sulphurObs:{},referObs:{},medicationObs:[],relatedObs:[],askAdherence:!1,lastDrugsReceived:[],sideEffectsHistory:[],onPermanentFPMethods:!1,guardianVisit:!1}},watch:{ready:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=17;break}return t.consultation=new ke(t.patientID,t.providerID),n.next=4,t.initAdherence(t.patient,t.providerID);case 4:return n.next=6,t.getSideEffectsHistory();case 6:return n.next=8,t.guardianOnlyVisit();case 8:return t.askAdherence=t.adherence.receivedDrugsBefore(),t.fields=t.getFields(),n.next=12,t.consultation.getTLObs();case 12:return t.onPermanentFPMethods=n.sent,n.next=15,t.consultation.getPreviousDrugs();case 15:t.lastDrugsReceived=n.sent,t.completedTBTherapy();case 17:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{onFinish:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.setDrugOrderObs(e.prescription),n.next=3,t.consultation.createEncounter();case 3:if(r=n.sent,r){n.next=6;break}return n.abrupt("return",Object(x["e"])("Unable to create encounter"));case 6:return n.next=8,Promise.all([].concat(Object(s["a"])(t.pregnancy),Object(s["a"])(t.currentFPM),Object(s["a"])(t.newFPM),[t.reasonForNoFPM,t.specificReasonForNoFPM,t.offerContraceptives],Object(s["a"])(t.sideEffects),Object(s["a"])(t.otherSideEffects),[t.tbObs],Object(s["a"])(t.tbSideEffectsObs),[t.tbStatusObs,t.treatmentStatusObs,t.sulphurObs,t.referObs],Object(s["a"])(t.medicationObs),Object(s["a"])(t.relatedObs)));case 8:return a=n.sent,o=a.filter((function(e){return!Object(v["isEmpty"])(e)})),n.next=12,t.consultation.saveObservationList(o);case 12:if(i=n.sent,!t.askAdherence||t.guardianVisit){n.next=16;break}return n.next=16,t.saveAdherence();case 16:if(i){n.next=18;break}return n.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 18:Object(x["d"])("Observations and encounter created!"),t.nextTask();case 20:case"end":return n.stop()}}),n)})))()},isGender:function(e){return this.patient.getGender()===e},guardianOnlyVisit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.getClient();case 2:n=t.sent,e.guardianVisit="No"===n;case 4:case"end":return t.stop()}}),t)})))()},checkVLReminder:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee["a"].getPatientVLInfo(e.patientID);case 2:if(n=t.sent,!0!==n.eligibile){t.next=23;break}return t.next=6,Ve["S"].create({component:Be,backdropDismiss:!1,cssClass:"large-modal",componentProps:{VLData:n}});case 6:return r=t.sent,r.present(),t.next=10,r.onDidDismiss();case 10:a=t.sent,o=a.data,t.t0=o,t.next="order"===t.t0?15:"wait"===t.t0?18:"later"===t.t0?21:22;break;case 15:return t.next=17,e.labOrderFieldContext.launchOrderSelection();case 17:return t.abrupt("break",23);case 18:return t.next=20,e.waitForVL();case 20:return t.abrupt("break",23);case 21:return t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})))()},waitForVL:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,a=new Fe(t.patientID,t.providerID),n.next=4,a.createEncounter();case 4:return o=n.sent,n.next=7,a.buildDefferedOrder(r);case 7:if(i=n.sent,o){n.next=10;break}return n.abrupt("return",Object(x["e"])("Unable to create encounter"));case 10:return n.next=12,a.saveObservationList(i);case 12:case"end":return n.stop()}}),n)})))()},getSideEffectsHistory:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.consultation.getDrugSideEffects();case 3:for(a in r=t.sent,r){for(s in o=r[a],i=h["a"].toStandardHisDisplayFormat(a),c=[],o)u=o[s],l=u.drug_induced?"(Drug induced) ".concat(u.drug):"(Not drug induced)",c.push(u.name,l);n.push([i,c.join("\n")])}e.sideEffectsHistory=n;case 6:case"end":return t.stop()}}),t)})))()},completedTBTherapy:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patient.getCompleteTBTherapyHistory();case 2:n=t.sent,e.hasTBTherapyObs=n.length>0;case 4:case"end":return t.stop()}}),t)})))()},isOfChildBearingAge:function(){var e=this.patient.getAge();return e>=9&&e<=55},ontubalLigation:function(){return!this.onPermanentFPMethods},showPregnancyQuestions:function(){return this.isGender("F")&&this.isOfChildBearingAge()&&this.ontubalLigation()},showCurrentContraceptionMethods:function(e){return this.showPregnancyQuestions()&&!this.isPregnant(e)},showNewContraceptionMethods:function(e){return this.showPregnancyQuestions()&&!this.isPregnant(e)&&!this.isOnTubalLigation(e)},isPregnant:function(e){return e.pregnant_breastfeeding.filter((function(e){return"Yes"===e.value})).length>0},isOnTubalLigation:function(e){return e.current_fp_methods.filter((function(e){return"TUBAL LIGATION"===e.value})).length>0},offerCxCa:function(){return this.isGender("F")},disableFPMethods:function(e,t){if(t.isChecked&&"NONE"===t.label)return e.map((function(e){return"NONE"!=e.label&&(e.isChecked=!1,e.disabled=!1),e}));if("NONE"!=t.label&&t.isChecked){t.label.match(/condom/gi)&&Object(x["a"])("Combine with other modern methods of family planning",[{text:"OK",handler:function(){return null}}]);var n=Object(v["findIndex"])(e,{label:"NONE"});e[n].isChecked=!1;var r=this.consultation.familyPlanningMethods(t.label,e),a=Object(v["findIndex"])(r,{label:t.label});return r[a].isChecked=!0,r}return e.map((function(e){return e.disabled=!1,e}))},disablePrescriptions:function(e,t){if(t.isChecked&&"NONE OF THE ABOVE"===t.label)return e.map((function(e){return"NONE OF THE ABOVE"!=e.label&&(e.isChecked=!1),e}));if("NONE OF THE ABOVE"!=t.label&&t.isChecked){var n=Object(v["findIndex"])(e,{label:"NONE OF THE ABOVE"});e[n].isChecked=!1}return e},setDrugOrderObs:function(e){var t=this,n="Yes";e.forEach((function(e){"NONE OF THE ABOVE"!=e.label&&e.isChecked&&t.medicationObs.push(t.consultation.buildValueCoded("Medication orders",e.label)),"NONE OF THE ABOVE"===e.label&&e.isChecked&&(n="No")})),this.medicationObs.push(this.consultation.buildValueCoded("Prescribe drugs",n))},declinedFPM:function(e){return!!e.fp_methods&&e.fp_methods.filter((function(e){return"NONE"===e.value})).length>0},riskOfUnplannedPregnancy:function(e){return!!e.reason_for_no_fpm&&"At risk of unplanned pregnancy"===e.reason_for_no_fpm.value},acceptedIntervention:function(e){return!!e.offer_contraceptives&&"Accepted"===e.offer_contraceptives.value},notOnTBTreatment:function(e){return!!e.on_tb_treatment&&"No"===e.on_tb_treatment.value},declinedCxCa:function(e){return!!e.offer_cxca&&"No"===e.offer_cxca.value},updateAllergicToSulphur:function(e){"Yes"===e.value?this.allergicToSulphur=!0:"No"!==e.value&&"Unknown"!==e.value||(this.allergicToSulphur=!1)},updateCompletedTPT:function(e){e.value.match(/Complete/gi)?this.hasTBTherapyObs=!0:this.hasTBTherapyObs=!1},showOtherSideEffects:function(e){return e.side_effects.filter((function(e){return"Other"===e.label&&"Yes"===e.value})).length>0},hasTBSymptoms:function(e){if(!e.tb_side_effects)return!1;var t=e.tb_side_effects.filter((function(e){return"Yes"===e.value})).length>0;return this.presentedTBSymptoms=t,t},getFieldPreset:function(){if(this.presentedTBSymptoms)return{label:"TB Suspected",value:"TB Suspected"}},getYesNo:function(){return[{label:"yes",value:"Yes"},{label:"no",value:"No"}]},getSideEffectsReasons:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.lastDrugsReceived,a=e.filter((function(e){return"Yes"===e.value&&"Other"!==e.label})),!(a.length>=1)){n.next=12;break}return n.next=5,Ve["S"].create({component:Ze,backdropDismiss:!1,cssClass:"large-modal",componentProps:{sideEffects:a,drugs:r}});case 5:return o=n.sent,o.present(),n.next=9,o.onDidDismiss();case 9:return i=n.sent,c=i.data,n.abrupt("return",c);case 12:return n.abrupt("return",-1);case 13:case"end":return n.stop()}}),n)})))()},getFPMethods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.consultation.getFamilyPlanningMethods(),r=n.filter((function(t){return!e.includes(t)}));return r.map((function(e){return{label:e,value:e,isChecked:t.map((function(e){return e.label})).includes(e)}}))},getOptions:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",e.map((function(e){var r=Object(v["find"])(t,{label:e});return{label:e,value:r?r.value:"",other:{values:n.getYesNo()}}})));case 1:case"end":return r.stop()}}),r)})))()},getContraindications:function(e){var t=H["a"].getConceptsByCategory("contraindication").map((function(e){return e.name}));return this.getOptions([].concat(Object(s["a"])(t),["Other"]),e)},getOtherContraindications:function(e){var t=H["a"].getConceptsByCategory("side_effect").map((function(e){return e.name}));return this.getOptions([].concat(Object(s["a"])(t),["Other (Specify)"]),e)},getTBSymptoms:function(e){var t=H["a"].getConceptsByCategory("tb_symptom").map((function(e){return e.name}));return this.getOptions(Object(s["a"])(t),e)},getPrescriptionFields:function(e){var t=[{label:"ARVs",value:"ARVs",isChecked:!0},{label:"CPT",value:"CPT",isChecked:!0},{label:"3HP (RFP + INH)",value:"3HP (RFP + INH)",isChecked:!0},{label:"IPT",value:"IPT"},{label:"NONE OF THE ABOVE",value:"NONE OF THE ABOVE"}],n=[];this.allergicToSulphur&&n.push({value:"CPT",description:"Allergic to CPT"}),this.TBSuspected&&n.push({value:"IPT",description:"TB Suspect"},{value:"3HP (RFP + INH)",description:"TB Suspect"}),this.hasTBTherapyObs&&n.push({value:"IPT",description:"Completed TPT"},{value:"3HP (RFP + INH)",description:"Completed TPT"});var r=t.map((function(t){return Object(v["isEmpty"])(e)||(t.isChecked=e.map((function(e){return e.value})).includes(t.value)),t}));return Object(s["a"])(this.removeAndDisable(r,n))},removeAndDisable:function(e,t){return e.map((function(e){var n=t.filter((function(t){return t.value===e.value})),r=!(n.length>0)&&e.isChecked,a=n.length>0,o={label:e.label,value:e.value,isChecked:r,disabled:a};return a&&Object.assign(o,{description:{show:"always",text:n[0].description,color:"danger"}}),o}))},getFields:function(){var e=this;return[{id:"prescription",helpText:"Medication to prescribe during this visit",type:u["b"].TT_MULTIPLE_SELECT,validation:function(e){return l["a"].required(e)},onValueUpdate:function(t,n){return e.disablePrescriptions(t,n)},options:function(t,n){return e.getPrescriptionFields(n)},unload:function(t,n,r){return e.onFinish(r)},condition:function(){return e.guardianVisit}},{id:"patient_lab_orders",helpText:"Lab orders",type:u["b"].TT_LAB_ORDERS,unload:function(){return e.checkVLReminder()},onload:function(t){e.labOrderFieldContext=t},options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ne["a"].getOrders(e.patientID);case 2:return n=t.sent,r=Ne["a"].formatLabs(n),t.abrupt("return",[{label:"Lab orders",value:"order trail",other:{values:r}}]);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Order",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object(v["isEmpty"])(e.labOrderFieldContext)){t.next=3;break}return t.next=3,e.labOrderFieldContext.launchOrderSelection();case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),visibleOnStateChange:function(e){return 1===e.index}}]}},{id:"pregnant_breastfeeding",helpText:"Patient Pregnant or breastfeeding?",condition:function(){return e.showPregnancyQuestions()},type:u["b"].TT_MULTIPLE_YES_NO,validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].anyEmpty(t)}])},unload:function(t){t&&(e.pregnancy=t.map((function(t){return e.consultation.buildValueCoded(t.other.concept,t.value)})))},options:function(){return[{label:"Pregnant",value:"",other:{values:e.getYesNo(),concept:"Is patient pregnant"}},{label:"Breastfeeding",value:"",other:{values:e.getYesNo(),concept:"Is patient breast feeding"}}]}},{id:"patient_weight_chart",helpText:"Patient weight chart",type:u["b"].TT_WEIGHT_CHART,options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patient.getBMI();case 2:return n=t.sent,t.next=5,e.patient.getWeightHistory();case 5:return r=t.sent,t.abrupt("return",[{label:"Weight for patient",value:"Weight trail",other:{bmi:n,values:r.map((function(e){return{x:h["a"].toStandardHisDisplayFormat(e.date),y:e.weight}})),age:e.patient.getAge()}}]);case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"]}},{id:"has_fp_methods",helpText:"",condition:function(t){return e.onPermanentFPMethods},type:u["b"].TT_TEXT_BANNER,options:function(){return[{label:"Patient is on Tubal ligation method",value:"Patient is on Tubal ligation method"}]}},{id:"current_fp_methods",helpText:"What method are you currently on?",onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},unload:function(t){e.currentFPM=t.map((function(t){return e.consultation.buildValueCoded("Family planning method",t.value)}))},validation:function(e){return l["a"].required(e)},condition:function(t){return e.showCurrentContraceptionMethods(t)},type:u["b"].TT_MULTIPLE_SELECT,options:function(t,n){return e.getFPMethods([],n)}},{id:"fp_methods",condition:function(t){return e.showNewContraceptionMethods(t)},helpText:"What method are you providing today?",validation:function(e){return l["a"].required(e)},onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},unload:function(t){e.newFPM=t.map((function(t){return e.consultation.buildValueCoded("Family planning, action to take",t.value)}))},type:u["b"].TT_MULTIPLE_SELECT,options:function(t,n){return e.getFPMethods([],n)}},{id:"reason_for_no_fpm",helpText:"Main reason for not using family planning methods",validation:function(e){return l["a"].required(e)},condition:function(t){return e.declinedFPM(t)},unload:function(t){e.reasonForNoFPM=e.consultation.buildValueText("Why does the woman not use birth control",t.value)},type:u["b"].TT_SELECT,options:function(){return[{label:"Not Sexually active",value:"Not Sexually active"},{label:"Patient want to get pregnant",value:"Patient want to get pregnant"},{label:"Not needed for medical reasons",value:"Not needed for medical reasons"},{label:"At risk of unplanned pregnancy",value:"At risk of unplanned pregnancy"}]}},{id:"specific_reason_for_no_fpm",helpText:"Specific reason for not using family planning methods",validation:function(e){return l["a"].required(e)},condition:function(t){return e.riskOfUnplannedPregnancy(t)},unload:function(t){e.specificReasonForNoFPM=e.consultation.buildValueText("Reason for not using contraceptives",t.value)},type:u["b"].TT_SELECT,options:function(){return[{label:"Following wishes of spouse",value:"Following wishes of spouse"},{label:"Religious reasons",value:"Religious reasons"},{label:"Afraid of side effects",value:"Afraid of side effects"},{label:"Never though about it",value:"Never though about it"},{label:"Indifferent (does not mind getting pregnant)",value:"Indifferent (does not mind getting pregnant)"}]}},{id:"offer_contraceptives",helpText:"Offer contraceptives",validation:function(e){return l["a"].required(e)},condition:function(t){return e.riskOfUnplannedPregnancy(t)},unload:function(t){e.offerContraceptives=e.consultation.buildValueCoded("Family planning, action to take",t.value)},type:u["b"].TT_SELECT,options:function(){return[{label:"Accepted",value:"Accepted"},{label:"Declined",value:"Declined"},{label:"Discuss with spouse",value:"Discuss with spouse"}]}},{id:"offered_intervention",helpText:"Offered intervention",validation:function(e){return l["a"].required(e)},condition:function(t){return e.acceptedIntervention(t)},type:u["b"].TT_MULTIPLE_SELECT,unload:function(t){e.newFPM=t.map((function(t){return e.consultation.buildValueCoded(t.label,t.value)}))},options:function(t,n){return e.getFPMethods(["NONE"],n)}},{id:"previous_side_effects",helpText:"Side effects / Contraindications history",type:u["b"].TT_TABLE_VIEWER,options:function(){var t=["Date","Condition"],n=[];return 0===e.sideEffectsHistory.length?(t=[""],n=[["No Past","side effects / contraindications"]]):n=e.sideEffectsHistory,[{label:"Side effects / Contraindications history",value:"trail",other:{columns:t,rows:n}}]}},{id:"side_effects",helpText:"Contraindications / Side effects (select either 'Yes' or 'No')",type:u["b"].TT_MULTIPLE_YES_NO,validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].anyEmpty(t)}])},beforeNext:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSideEffectsReasons(n);case 2:if(a=t.sent,-1!==a){t.next=5;break}return t.abrupt("return",!0);case 5:if(!Object(v["isEmpty"])(a)){t.next=7;break}return t.abrupt("return",!1);case 7:return o=H["a"].getCachedConceptID("Drug induced"),i=a.map((function(e){var t=H["a"].getCachedConceptID(e.label);return"other"===e.reason||"drug"===e.reason?{concept_id:o,value_coded:t,value_text:"Past medication history"}:{concept_id:o,value_coded:t,value_drug:e.reason}})),e.relatedObs=[].concat(Object(s["a"])(e.relatedObs),Object(s["a"])(i)),t.next=12,n.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.buildValueCoded("Malawi ART side effects",n.label);case 2:return r=t.sent,t.next=5,e.consultation.buildValueCoded(n.label,n.value);case 5:return a=t.sent,t.abrupt("return",Object(c["a"])(Object(c["a"])({},r),{},{child:Object(c["a"])({},a)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 12:return e.sideEffects=t.sent,t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(t,n){return e.getContraindications(n)}},{id:"other_side_effects",condition:function(t){return e.showOtherSideEffects(t)},validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].anyEmpty(t)}])},helpText:"Other Contraindications / Side effects (select either 'Yes' or 'No')",type:u["b"].TT_MULTIPLE_YES_NO,unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a,o,i,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getSideEffectsReasons(n);case 2:return a=t.sent,o=H["a"].getCachedConceptID("Drug induced"),i=a.map((function(e){var t=H["a"].getCachedConceptID(e.label);return"other"===e.reason||"drug"===e.reason?{concept_id:o,value_coded:t,value_text:"Past medication history"}:{concept_id:o,value_coded:t,value_drug:e.reason}})),e.relatedObs=[].concat(Object(s["a"])(e.relatedObs),Object(s["a"])(i)),u=n.filter((function(e){return"Other (Specify)"!==e.label})),t.next=9,u.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.buildValueCoded("Other side effect",n.label);case 2:return r=t.sent,t.next=5,e.consultation.buildValueCoded(n.label,n.value);case 5:return a=t.sent,t.abrupt("return",Object(c["a"])(Object(c["a"])({},r),{},{child:Object(c["a"])({},a)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 9:e.otherSideEffects=t.sent;case 10:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(t,n){return e.getOtherContraindications(n)}},{id:"on_tb_treatment",helpText:"On TB Treatment?",validation:function(e){return l["a"].required(e)},type:u["b"].TT_SELECT,unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"Yes"===n.value?e.TBSuspected=!0:e.TBSuspected=!1,e.tbObs=e.consultation.buildValueCoded(n.label,n.value);case 2:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(){return e.getYesNo()}},{id:"tb_side_effects",helpText:"TB Associated symptoms",validation:function(t){return e.validateSeries([function(){return l["a"].required(t)},function(){return l["a"].anyEmpty(t)}])},condition:function(t){return e.notOnTBTreatment(t)},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=n.filter((function(e){return"Yes"===e.value})).length>0,e.presentedTBSymptoms=a,t.next=4,n.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.buildValueCoded("Routine TB Screening",n.label);case 2:return r=t.sent,t.next=5,e.consultation.buildValueCoded(n.label,n.value);case 5:return a=t.sent,t.abrupt("return",Object(c["a"])(Object(c["a"])({},r),{},{child:Object(c["a"])({},a)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 4:e.tbSideEffectsObs=t.sent;case 5:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),type:u["b"].TT_MULTIPLE_YES_NO,options:function(t,n){return e.getTBSymptoms(n)}},{id:"tb_status",helpText:"TB Status",type:u["b"].TT_SELECT,preset:this.getFieldPreset(),validation:function(e){return l["a"].required(e)},condition:function(t){return e.hasTBSymptoms(t)},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"TB Suspected"===n.value?e.TBSuspected=!0:e.TBSuspected=!1,e.tbStatusObs=e.consultation.buildValueText("TB Status",n.value);case 2:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(){return[{label:"TB NOT suspected",value:"TB NOT suspected"},{label:"TB Suspected",value:"TB Suspected"},{label:"Confirmed TB Not on treatment",value:"Confirmed TB Not on treatment"}]}},{id:"routine_tb_therapy",helpText:"TB preventive therapy (TPT) history",validation:function(e){return l["a"].required(e)},condition:function(){return!e.hasTBTherapyObs},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updateCompletedTPT(n),e.treatmentStatusObs=e.consultation.buildValueText("TB Status",n.value);case 2:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),type:u["b"].TT_SELECT,options:function(){var t=function(t){return Object.values(e.lastDrugsReceived).map((function(e){return e.drug.name.match(new RegExp(t,"i"))})).some(Boolean)},n=t("inh"),r=t("Rifapentine");return[{label:"Currently on IPT",value:"Currently on IPT"},{label:"Currently on 3HP",value:"Currently on 3HP"},{label:"Complete course of 3HP in the past (3 months RFP+INH)",value:"Complete course of 3HP in the past (3 months RFP+INH)"},{label:"Complete course of IPT in the past (min. 6 months of INH)",value:"Complete course of IPT in the past (min. 6 months of INH)"},{label:"Aborted course of 3HP or IPT in the past",value:"Aborted course of 3HP or IPT in the past"},{label:"Never taken IPT or 3HP",value:"Never taken IPT or 3HP",disabled:n||r}]}},{id:"allergic_to_sulphur",helpText:"Allergic to Cotrimoxazole",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updateAllergicToSulphur(n),e.sulphurObs=e.consultation.buildValueCoded("Allergic to sulphur",n.value);case 2:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(){return[].concat(Object(s["a"])(e.getYesNo()),[{label:"Unknown",value:"Unknown"}])}}].concat(Object(s["a"])(this.getAdherenceFields(this.askAdherence)),[{id:"refer_to_clinician",helpText:"Refer to clinician",condition:function(){return xe["a"].isNurse()},validation:function(e){return l["a"].required(e)},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.referObs=e.consultation.buildValueCoded("Refer to clinician",n.value);case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),type:u["b"].TT_SELECT,options:function(){return e.getYesNo()}},{id:"prescription",helpText:"Medication to prescribe during this visit",type:u["b"].TT_MULTIPLE_SELECT,validation:function(e){return l["a"].required(e)},onload:function(t){e.prescriptionContext=t},onValueUpdate:function(t,n){return e.disablePrescriptions(t,n)},config:{footerBtns:[{name:"Update allergic to CPT",onClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(C["a"])("Allergic to Cotrimoxazole update","Is the patient allergic to cotrimoxazole.","",[{name:"Allergic",slot:"start",color:"success"},{name:"NOT Allergic",slot:"end"}]);case 2:n=t.sent,"Allergic"===n?(e.allergicToSulphur=!0,e.prescriptionContext.listData=e.getPrescriptionFields([])):(e.allergicToSulphur=!1,e.prescriptionContext.listData=e.getPrescriptionFields([]));case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]},options:function(t,n){return e.getPrescriptionFields(n)}}])}}});const tt=S()(et,[["render",ye]]);var nt=tt;function rt(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{skipSummary:!0,cancelDestinationPath:e.cancelDestination,fields:e.fields},null,8,["cancelDestinationPath","fields"])}n("a623");var at=n("3835"),ot=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,null,[{key:"fetchAvailableDrugStock",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("pharmacy/items",{drug_id:t});case 2:if(n=e.sent,!(n&&n.length>0)){e.next=5;break}return e.abrupt("return",n.reduce((function(e,t){return e+t.current_quantity}),0));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(g["c"]),it={11:[30],21:[25],22:[60],24:[30,60,90,100],30:[90],39:[60],73:[120],74:[60],76:[1e3],297:[30,60,90],576:[30,60,90],613:[60],731:[60],732:[60],733:[60],734:[30],735:[30],736:[60],738:[60],931:[30,60,90],932:[30],954:[60],963:[30,60,90],968:[60],969:[30],971:[30,60,90],976:[60],977:[30],982:[30],983:[30],1039:[30,60,90],1043:[60],1044:[30],1056:[24]},ct=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){var a;return Object(d["a"])(this,n),a=t.call(this,e,54,r),a.drugHistory=[],a.currentDrugOrder=[],a}return Object(p["a"])(n,[{key:"getDrugHistory",value:function(){return this.drugHistory}},{key:"getCurrentOrder",value:function(){return this.currentDrugOrder}},{key:"buildDispensations",value:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push({drug_order_id:e,date:this.date,quantity:t/n});return r}},{key:"saveDispensations",value:function(e){return _["a"].postJson("/dispensations",{dispensations:e,program_id:_["a"].getProgramID()})}},{key:"voidOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",_["a"].void("/dispensations/".concat(t),{}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadDrugHistory",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getDrugOrderHistory(this.patientID);case 2:t=e.sent,t&&(this.drugHistory=t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadCurrentDrugOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].getDrugOrders(this.patientID);case 2:if(t=e.sent,!t){e.next=8;break}return n=t.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ot.fetchAvailableDrugStock(t.drug.drug_id);case 2:return t["available_stock"]=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=7,Promise.all(n);case 7:this.currentDrugOrder=e.sent;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDrugPackSizes",value:function(e){return e in it?it[e]:[30,60,90]}},{key:"calcCompletePack",value:function(e,t){var n=e.barcodes.sort((function(e,t){return e.tabs-t.tabs}));if(0==n.length||0==t)return t;for(var r in n){var a=n[r].tabs;if(parseInt(a)>=t)return a}var o=parseInt(n[0].tabs),i=parseInt(n[n.length-1].tabs);while(i<t)i+=o;return i}}]),n}(_["a"]),st=Object(a["defineComponent"])({mixins:[V["a"]],data:function(){return{dispensation:{}}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.dispensation=new ct(e.getID(),t.providerID),n.next=3,t.dispensation.loadCurrentDrugOrder();case 3:return n.next=5,t.dispensation.loadDrugHistory();case 5:t.fields=t.getFields();case 6:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{saveDispensations:function(e){var t=this.buildDispensations(e);return this.dispensation.saveDispensations(t)},buildDispensations:function(e){var t,n=this;if(!Object(v["isEmpty"])(null===(t=e.other)||void 0===t?void 0:t.dispenses)){var r=[];return e.other.dispenses.forEach((function(t){var a=Object(at["a"])(t,2),o=a[0],i=a[1];r=[].concat(Object(s["a"])(r),Object(s["a"])(n.dispensation.buildDispensations(e.other.order_id,o,i)))})),r}return this.dispensation.buildDispensations(e.other.order_id,parseInt(e.value.toString()),1)},buildMedicationHistory:function(){return this.dispensation.getDrugHistory().sort((function(e,t){var n=new Date(e.order.start_date),r=new Date(t.order.start_date);return r-n})).map((function(e){return{medication:e.drug.name,date:h["a"].toStandardHisDisplayFormat(e.order.start_date),amount:e.quantity}}))},buildOrderOptions:function(){var e=this;return this.dispensation.getCurrentOrder().map((function(t){return{label:t.drug.name,value:t.quantity||0,other:{drug_id:t.drug.drug_id,order_id:t.order.order_id,available_stock:t.available_stock,amount_needed:e.calculateCompletePack(t),pack_sizes:e.getPackSizesRows(t.drug.drug_id,t.available_stock||0)}}}))},getPackSizesRows:function(e,t){var n=this.dispensation.getDrugPackSizes(e);return n.map((function(e){var n=t>0?t/e:"-";return[e,n,0,0]}))},calculateCompletePack:function(e){var t=parseFloat(e.amount_needed)-(e.quantity||0),n=this.dispensation.calcCompletePack(e,t);return n<0?0:n},isDoneDispensing:function(e){return e.map((function(e){return 0!=e.value})).every(Boolean)},isValidDispensation:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=!0,r=parseInt(e.value.toString()),a=e.other["amount_needed"],o=r/a*100,!(o>110)){t.next=8;break}return t.next=7,Object(x["b"])("Are you sure you want to dispense over 110% of the prescribed pill count?");case 7:n=t.sent;case 8:if(!(o<100)){t.next=12;break}return t.next=11,Object(x["b"])("Are you sure you want to dispense less than 100% of the prescribe amount?");case 11:n=t.sent;case 12:return t.abrupt("return",n);case 13:case"end":return t.stop()}}),t)})))()},getFields:function(){var e=this;return[{id:"dispenses",helpText:"Dispensation",type:u["b"].TT_DISPENSATION_INPUT,onValueUpdate:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1==n.value||!e.isDoneDispensing(r)){t.next=2;break}return t.abrupt("return",e.$router.push({name:"appointment"}));case 2:return n.other["amount_needed"]=0,t.next=5,e.dispensation.loadCurrentDrugOrder();case 5:return t.abrupt("return",e.buildOrderOptions());case 6:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}(),onValue:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,r){var a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==n.value){t.next=5;break}return t.next=3,e.dispensation.voidOrder(n.other.order_id);case 3:return a=t.sent,t.abrupt("return",!!a);case 5:if(r){t.next=11;break}return t.next=8,e.isValidDispensation(n);case 8:if(o=t.sent,o){t.next=11;break}return t.abrupt("return",!1);case 11:return t.next=13,e.saveDispensations(n);case 13:if(i=t.sent,!i){t.next=16;break}return t.abrupt("return",!0);case 16:return Object(x["e"])("Unable to save dispensation"),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}(),config:{medicationHistory:this.buildMedicationHistory(),toolbarInfo:[{label:"Name",value:this.patient.getFullName()},{label:"Gender",value:this.patient.getGender()},{label:"Date Of Birth",value:h["a"].toStandardHisDisplayFormat(this.patient.getBirthdate())}],hiddenFooterBtns:["Clear","Finish"]},options:function(){return e.buildOrderOptions()}}]}}});const ut=S()(st,[["render",rt]]);var lt=ut;function dt(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","activeField","onFinishAction","cancelDestinationPath"])}n("5319");var pt=n("ad49"),bt=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){var a;return Object(d["a"])(this,n),a=t.call(this,e,51,r),a.sitePrefix="",a}return Object(p["a"])(n,[{key:"getSitePrefix",value:function(){return this.sitePrefix}},{key:"loadSitePrefix",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt["a"].getSitePrefix();case 2:this.sitePrefix=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"createArvNumber",value:function(e){return Ee["a"].postJson("/patient_identifiers/",{patient_id:this.patientID,identifier_type:4,identifier:e})}},{key:"buildArvNumber",value:function(e){return"".concat(this.sitePrefix,"-ARV-").concat(e)}}]),n}(_["a"]),ft=n("3e53"),mt=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{reception:{},activeField:"",hasARVNumber:!0,suggestedNumber:""}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.reception=new bt(e.getID(),t.providerID),n.next=3,t.reception.loadSitePrefix();case 3:if(r=e.getPatientIdentifier(4),""!==r){n.next=10;break}return t.hasARVNumber=!1,n.next=8,Ee["a"].getNextSuggestedARVNumber();case 8:a=n.sent,t.suggestedNumber=a.arv_number.replace(/^\D+/g,"");case 10:t.fields=t.getFields();case 11:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{onFinish:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.reception.createEncounter();case 2:if(a=r.sent,a){r.next=5;break}return r.abrupt("return",Object(x["e"])("Unable to create encounter"));case 5:return r.next=7,n.resolveObs(t,"obs");case 7:return o=r.sent,r.next=10,n.reception.saveObservationList(o);case 10:if(i=r.sent,i){r.next=13;break}return r.abrupt("return",Object(x["e"])("Unable to create Obs"));case 13:if(!e.capture_arv||"Yes"!==e.capture_arv.value){r.next=19;break}return r.next=16,n.reception.createArvNumber(t.arv_number);case 16:if(c=r.sent,c){r.next=19;break}return r.abrupt("return",Object(x["e"])("Unable to save Arv number"));case 19:Object(x["d"])("Encounter created"),n.nextTask();case 21:case"end":return r.stop()}}),r)})))()},getFields:function(){var e=this;return[{id:"who_is_present",helpText:"Hiv Reception",type:u["b"].TT_MULTIPLE_YES_NO,validation:function(e){return l["a"].required(e)||l["a"].neitherOr(e)||l["a"].anyEmpty(e)},computedValue:function(t){return{tag:"obs",obs:t.map((function(t){var n=t.other,r=t.value;return e.reception.buildValueCoded(n.concept,r)}))}},options:function(){return[{label:"Patient Present?",value:"",other:{concept:"Patient Present",property:"patient_present",values:e.yesNoOptions()}},{label:"Guardian Present?",value:"",other:{concept:"Guardian Present",property:"guardian_present",values:e.yesNoOptions()}}]}},{id:"capture_arv",helpText:"Capture ARV Number?",type:u["b"].TT_SELECT,requireNext:!0,condition:function(){return!e.hasARVNumber},validation:function(e){return l["a"].required(e)},options:function(){return e.yesNoOptions()}},{id:"arv_number",helpText:"ART number",type:u["b"].TT_TEXT,computedValue:function(e){var t=e.value;return t},validation:function(e){return l["a"].required(e)},condition:function(t){return!e.hasARVNumber&&"Yes"===t.capture_arv.value},defaultValue:function(){return e.suggestedNumber},config:{prependValue:function(){var e=ft["a"].getActiveApp();if(e&&e.programPatientIdentifiers){var t=e.programPatientIdentifiers["ARV Number"];return t.prefix()}return""}}}]}}});const ht=S()(mt,[["render",dt]]);var gt=ht;function Ot(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{skipSummary:!0,cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}var vt=Object(a["defineComponent"])({mixins:[te],watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=4;break}return n.next=3,t.initStaging(e);case 3:t.fields=[].concat(Object(s["a"])(t.getStagingFields()),[t.getStagingSummaryField()]);case 4:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{onSubmit:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.submitStaging(t);case 2:Object(x["d"])("Staging information has been saved"),n.nextTask();case 4:case"end":return e.stop()}}),e)})))()}}});const _t=S()(vt,[["render",Ot]]);var jt=_t;function wt(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onOnskip:t[1]||(t[1]=function(t){return e.activeField=""}),onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","activeField","onFinishAction","cancelDestinationPath"])}n("b680");var yt=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{activeField:"",age:null,gender:null,hasBPinfo:!1,recentHeight:null,HTNEnabled:!1,hasHTNObs:!1,vitals:{},weightForHeight:{},medianWeightandHeight:{}}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.init(e);case 2:case"end":return n.stop()}}),n)})))()},deep:!0}},methods:{init:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.vitals=new re(e.getID(),t.providerID),t.age=e.getAge(),t.gender=e.getGender(),n.next=5,e.getRecentHeight();case 5:if(r=n.sent,t.recentHeight=-1==r?null:r,!(t.age<=14)){n.next=14;break}return n.next=10,e.getMedianWeightHeight();case 10:return t.medianWeightandHeight=n.sent,n.next=13,Ee["a"].getWeightForHeightValues();case 13:t.weightForHeight=n.sent;case 14:return n.next=16,re.getAll(e.getID(),"Treatment status").then((function(e){t.hasHTNObs=e&&e.length>0}));case 16:return n.next=18,pt["a"].isHTNEnabled().then((function(e){e&&"true"===e&&(t.HTNEnabled=!0)}));case 18:t.fields=t.getFields();case 19:case"end":return n.stop()}}),n)})))()},onFinish:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.vitals.createEncounter();case 2:if(r=n.sent,r){n.next=5;break}return n.abrupt("return",Object(x["e"])("Unable to create treatment encounter"));case 5:return n.next=7,t.buildObs(e);case 7:return a=n.sent,n.next=10,t.vitals.saveObservationList(a);case 10:if(o=n.sent,o){n.next=13;break}return n.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 13:Object(x["d"])("Observations and encounter created!"),t.nextTask();case 15:case"end":return n.stop()}}),n)})))()},buildObs:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.mapObs(t.sanitizeVitals(e.vitals).filter((function(e){return"BP"!==e.label})));case 2:if(r=n.sent,!t.HTNEnabled||t.hasHTNObs){n.next=8;break}return n.next=6,t.vitals.buildValueText("Treatment status",e.on_htn_medication.value);case 6:a=n.sent,r.push(a);case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))()},splitBP:function(e){var t=[];return e.forEach((function(e){if("BP"===e.label){var n="".concat(e.value).split("/"),r=n[0],a=n[1];t.push({label:"Systolic",value:r}),t.push({label:"Diastolic",value:a})}})),t},getBMI:function(e){var t=this.getVal(e,"Weight"),n=this.getVal(e,"Height"),r=[];if(this.age<=14){var a=(t/parseFloat(this.medianWeightandHeight["weight"])*100).toFixed(0),o=(n/parseFloat(this.medianWeightandHeight["height"])*100).toFixed(0),i=(n%Math.floor(n)<.5?0:.5)+Math.floor(n),c=this.weightForHeight[i.toFixed(1)],s=(t/c*100).toFixed(0);isNaN(parseFloat(s))||r.push({label:"Weight for height percent of median",value:s}),r.push({label:"Weight for age percent of median",value:a}),r.push({label:"Height for age percent of median",value:o})}else{var u=ae["a"].calculateBMI(t,n);r.push({label:"BMI",value:u})}return r},getVal:function(e,t){var n=e.filter((function(e){return e.label===t}));return""===n[0].value?0:parseFloat("".concat(n[0].value))},mapObs:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.vitals.buildValueNumber(n.label,n.value);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.abrupt("return",Promise.all(a));case 2:case"end":return n.stop()}}),n)})))()},validateVitals:function(e){var t=this.checkRequiredVitals(e);if(t.length>0)return t.map((function(e){return["".concat(e.label," can not be empty")]}));var n=this.sanitizeVitals(e);return this.vitals.validateAll(n)},sanitizeVitals:function(e){var t=e.filter((function(e){return("Height"!==e.label||0!=e.other.required)&&(""!==e.value&&"Age"!==e.label)}));return[].concat(Object(s["a"])(this.splitBP(t)),Object(s["a"])(t),Object(s["a"])(this.getBMI(e)))},checkRequiredVitals:function(e){return e.filter((function(e){return""===e.value&&!0===e.other.required}))},getFields:function(){var e=this,t=this.recentHeight&&this.age>18?this.recentHeight:"",n=this.HTNEnabled,r=this.hasHTNObs,a=!(t&&this.age>18);return[{id:"on_htn_medication",helpText:"Already taking drugs for blood pressure?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},condition:function(){return n&&!r},options:function(){return[{label:"Yes",value:"BP Drugs started"},{label:"No",value:"Not on BP Drugs"}]}},{id:"vitals",helpText:"Vitals entry",type:u["b"].TT_VITALS_ENTRY,validation:function(t){return e.validateVitals(t)},preset:{label:"Gender",value:this.gender},config:{hiddenFooterBtns:["Clear"]},options:function(){return[{label:"Weight",value:"",other:{modifier:"KG",icon:"weight",required:!0}},{label:"Height",value:"".concat(t),other:{modifier:"CM",icon:"height",visible:a,required:a}},{label:"BP",value:"",other:{modifier:"mmHG",icon:"bp"}},{label:"Temp",value:"",other:{modifier:"C",icon:"temp"}},{label:"SP02",value:"",other:{modifier:"%",icon:"spo2"}},{label:"Pulse",value:"",other:{modifier:"BPM",icon:"pulse-rate"}},{label:"Age",value:e.age,other:{modifier:"Years old",icon:"",visible:!1}}]}}]}}});const kt=S()(yt,[["render",wt]]);var xt=kt;function Nt(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var Vt=n("8df6"),Ct=n("80b5"),Dt=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{patientType:{}}},watch:{patient:{handler:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.patientType=new Vt["a"](e.patientID,e.providerID),t.next=3,e.patientType.loadPatientType();case 3:e.fields=e.getFields();case 4:case"end":return t.stop()}}),t)})))()},deep:!0}},methods:{onFinish:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.patientType.createEncounter();case 2:if(o=n.sent,o){n.next=5;break}return n.abrupt("return",Object(x["e"])("Unable to create encounter"));case 5:return t.patientType.setLocationName(null===e||void 0===e||null===(r=e.location)||void 0===r?void 0:r.label),t.patientType.setPatientType(null===e||void 0===e||null===(a=e.patient_type)||void 0===a?void 0:a.value),n.next=9,t.patientType.save();case 9:Object(x["d"])("Observations and encounter created!"),t.nextTask();case 11:case"end":return n.stop()}}),n)})))()},facilityLocationField:function(){var e=Ct["a"].getFacilityLocationField();return e.condition=function(e){return["Drug Refill","External consultation"].includes(e.patient_type.value)},e},getFields:function(){var e=this;return[{id:"patient_type",helpText:"Current type: ".concat(this.patientType.getType()),type:u["b"].TT_SELECT,validation:function(t){return l["a"].required(t)||l["a"].notTheSame(t,e.patientType.getType())},options:function(){return Vt["a"].getPatientTypes()}},this.facilityLocationField()]}}});const Tt=S()(Dt,[["render",Nt]]);var Rt=Tt;function It(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var St=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,156,r)}return Object(p["a"])(n,[{key:"getAssessmentValues",value:function(){return _["a"].getConceptsByCategory("fast_track")}}]),n}(_["a"]),Pt=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],fastTrack:{},options:[],values:[],gender:null}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.init(e);case 1:case"end":return n.stop()}}),n)})))()},immediate:!0}},methods:{onFinish:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.fastTrack.createEncounter();case 2:if(r=n.sent,!r){n.next=16;break}return n.next=6,t.buildObs(e);case 6:return a=n.sent,n.next=9,t.fastTrack.saveObservationList(a);case 9:if(o=n.sent,o){n.next=12;break}return n.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 12:Object(x["d"])("Observations and encounter created!"),t.nextTask(),n.next=17;break;case 16:return n.abrupt("return",Object(x["e"])("Unable to create fast track encounter"));case 17:case"end":return n.stop()}}),n)})))()},init:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.gender=e.getGender(),t.fastTrack=new St(e.getID(),t.providerID),n.next=4,t.getYesNo();case 4:return t.values=n.sent,n.next=7,t.getOptions();case 7:t.options=n.sent,t.fields=t.getFields();case 9:case"end":return n.stop()}}),n)})))()},buildObs:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=[],n.t0=a,n.next=4,t.fastTrack.buildValueCoded("Assess for fast track",e.ft_assessment.value);case 4:if(n.t1=n.sent,n.t0.push.call(n.t0,n.t1),!e.ft_questions){n.next=14;break}return n.next=9,e.ft_questions.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,t.fastTrack.buildValueCoded(n.label,n.value);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return n.t2=a,n.next=12,t.fastTrack.buildValueCoded("Fast track",e.book_client.value);case 12:n.t3=n.sent,n.t2.push.call(n.t2,n.t3);case 14:return n.abrupt("return",a);case 15:case"end":return n.stop()}}),n)})))()},getOptions:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.getYesNo(),t.next=3,e.fastTrack.getAssessmentValues("fast_track").map((function(e){return{label:e.name,value:"",other:{values:n}}}));case 3:if(r=t.sent,"M"!==e.gender){t.next=6;break}return t.abrupt("return",r.filter((function(e){return!e.label.match(/Pregnant/i)})));case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},getYesNo:function(){return[{label:"yes",value:"Yes"},{label:"no",value:"No"}]},getFields:function(){var e=this;return[{id:"ft_assessment",helpText:"Assess client for FT",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return e.getYesNo()}},{id:"ft_questions",helpText:"Assess client for FT",type:u["b"].TT_MULTIPLE_YES_NO,condition:function(e){return"Yes"===e.ft_assessment.value},validation:function(e){return l["a"].anyEmpty(e)},options:function(){return e.options}},{id:"book_client",helpText:"Select type of visit to book",type:u["b"].TT_SELECT,condition:function(e){return"Yes"===e.ft_assessment.value},validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Fast track",value:"No"},{label:"Normal visit",value:"No"}]}}]}}});const At=S()(Pt,[["render",It]]);var Bt=At,Et={key:0,style:{color:"green"}},Ft={slot:"end"},Lt=Object(a["createTextVNode"])("add riskfactors"),Mt={class:"view-port-content"},Ht={style:{height:"100%"}},Ut={class:"his-floating-keyboard"},qt=Object(a["createTextVNode"])(" cancel "),zt=Object(a["createTextVNode"])(" Refer to clinician "),Gt=Object(a["createTextVNode"])(" Hypertension Diagnosis "),Yt=Object(a["createTextVNode"])(" Finish ");function Kt(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-button"),u=Object(a["resolveComponent"])("ion-toolbar"),l=Object(a["resolveComponent"])("ion-header"),d=Object(a["resolveComponent"])("his-table"),p=Object(a["resolveComponent"])("ion-row"),b=Object(a["resolveComponent"])("ion-grid"),f=Object(a["resolveComponent"])("ion-content"),m=Object(a["resolveComponent"])("view-port"),h=Object(a["resolveComponent"])("ion-label"),g=Object(a["resolveComponent"])("ion-radio"),O=Object(a["resolveComponent"])("ion-item"),v=Object(a["resolveComponent"])("ion-col"),_=Object(a["resolveComponent"])("ion-radio-group"),j=Object(a["resolveComponent"])("ion-footer"),w=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(w,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("span",null,"BP management screening on "+Object(a["toDisplayString"])(e.date),1),e.patientOnBPDrugs?(Object(a["openBlock"])(),Object(a["createBlock"])("span",Et," Patient already on BP drugs")):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createVNode"])("span",Ft,[e.totalRiskFactors>0?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,color:"danger",onClick:e.showRiskFactors},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("View/Edit risk factors "+Object(a["toDisplayString"])(e.totalRiskFactors),1)]})),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),0===e.totalRiskFactors?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1,onClick:e.showRiskFactors},{default:Object(a["withCtx"])((function(){return[Lt]})),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0)])]})),_:1})]})),_:1}),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(m,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",Mt,[Object(a["createVNode"])(l),Object(a["createVNode"])(f,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",Ht,[Object(a["createVNode"])(b,{style:{height:"100%"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,{style:{"max-height":"80%",overflow:"scroll"}},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(d,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1})]})),_:1})])]})),_:1})])]})),_:1}),Object(a["createVNode"])("div",Ut,[Object(a["createVNode"])(_,{modelValue:e.action,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.action=t})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(v,{size:"4",key:t},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.label),1)]})),_:2},1024),Object(a["createVNode"])(g,{value:e},null,8,["value"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])]})),_:1}),Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{color:"black"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:Object(a["withCtx"])((function(){return[qt]})),_:1},8,["onClick"]),e.showClinicianButton?(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,size:"large",color:"danger",slot:"start",onClick:e.referPatient},{default:Object(a["withCtx"])((function(){return[zt]})),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),e.patientHasHyperTensionObs?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:1,size:"large",slot:"start",onClick:e.goToDiagnosis},{default:Object(a["withCtx"])((function(){return[Gt]})),_:1},8,["onClick"])),Object(a["createVNode"])(s,{size:"large",color:"success",slot:"end",onClick:e.onFinish},{default:Object(a["withCtx"])((function(){return[Yt]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})}n("b64b");var Wt=n("0a79"),$t=n("a3a5"),Jt=Object(a["withScopeId"])("data-v-c6bae6c4");Object(a["pushScopeId"])("data-v-c6bae6c4");var Xt=Object(a["createTextVNode"])("Risk Factors"),Qt=Object(a["createTextVNode"])(" Save "),Zt=Object(a["createTextVNode"])(" Close ");Object(a["popScopeId"])();var en=Jt((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),l=Object(a["resolveComponent"])("ion-label"),d=Object(a["resolveComponent"])("ion-checkbox"),p=Object(a["resolveComponent"])("ion-item"),b=Object(a["resolveComponent"])("ion-list"),f=Object(a["resolveComponent"])("ion-col"),m=Object(a["resolveComponent"])("ion-row"),h=Object(a["resolveComponent"])("ion-grid"),g=Object(a["resolveComponent"])("ion-content"),O=Object(a["resolveComponent"])("ion-button"),v=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(u,null,{default:Jt((function(){return[Object(a["createVNode"])(s,null,{default:Jt((function(){return[Object(a["createVNode"])(c,null,{default:Jt((function(){return[Xt]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(g,{style:{overflowY:"hidden",background:"grey"}},{default:Jt((function(){return[Object(a["createVNode"])(h,null,{default:Jt((function(){return[Object(a["createVNode"])(m,null,{default:Jt((function(){return[Object(a["createVNode"])(f,null,{default:Jt((function(){return[Object(a["createVNode"])(b,{style:{overflowY:"auto",height:"78vh"}},{default:Jt((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.riskFactors,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:e},{default:Jt((function(){return[Object(a["createVNode"])(l,null,{default:Jt((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]})),_:2},1024),Object(a["createVNode"])(d,{modelValue:e.isChecked,"onUpdate:modelValue":function(t){return e.isChecked=t},slot:"start"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(v,null,{default:Jt((function(){return[Object(a["createVNode"])(s,null,{default:Jt((function(){return[Object(a["createVNode"])(O,{onClick:e.postActivities,slot:"end"},{default:Jt((function(){return[Qt]})),_:1},8,["onClick"]),Object(a["createVNode"])(O,{onClick:t[1]||(t[1]=function(t){return e.closeModal()}),slot:"start",color:"danger"},{default:Jt((function(){return[Zt]})),_:1})]})),_:1})]})),_:1})],64)})),tn=(n("c740"),function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,30,r)}return n}(_["a"])),nn=Object(a["defineComponent"])({name:"Modal",props:{factors:{type:Object,required:!0},title:{type:String,default:""}},methods:{postActivities:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="".concat(e.$route.params.patient_id),r=new tn(parseInt(n),-1),t.next=4,r.createEncounter();case 4:if(a=t.sent,!a){t.next=13;break}return t.next=8,e.buildObs();case 8:return o=t.sent,t.next=11,r.saveObservationList(o);case 11:return t.next=13,e.closeModal();case 13:case"end":return t.stop()}}),t)})))()},closeModal:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve["S"].dismiss(e.riskFactors);case 2:case"end":return t.stop()}}),t)})))()},buildObs:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.riskFactors.map((function(e){var t=!0===e.isChecked?"Yes":"No",n=H["a"].getConceptID(t,!0),r=H["a"].getConceptID(e.concept,!0);return{concept_id:r,value_coded:n}})));case 1:case"end":return t.stop()}}),t)})))()}},data:function(){return{riskFactors:[{name:"Diabetes",isChecked:!1,concept:"Diabetes"},{name:"Cronic kidney disease",isChecked:!1,concept:"CKD"},{name:"Past history of IHD or CVD",isChecked:!1,concept:"history of CVD"},{name:"First degree relative with IHD or CVD <65",isChecked:!1,concept:"relative with CVD"},{name:"Patient currently smokes",isChecked:!1,concept:"patient smokes"}]}},mounted:function(){var e=this;this.factors.forEach((function(t){if("Yes"===t.value){var n=e.riskFactors.findIndex((function(e){return e.concept===t.concept}));e.riskFactors[n].isChecked=!0}}))},components:{IonButton:Ve["d"],IonContent:Ve["m"],IonHeader:Ve["p"],IonTitle:Ve["J"],IonToolbar:Ve["K"],IonLabel:Ve["u"],IonList:Ve["v"],IonItem:Ve["t"],IonCheckbox:Ve["j"],IonRow:Ve["E"],IonFooter:Ve["n"],IonGrid:Ve["o"],IonCol:Ve["l"]}});n("26b9");const rn=S()(nn,[["render",en],["__scopeId","data-v-c6bae6c4"]]);var an=rn,on=n("7957"),cn=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,48,r)}return Object(p["a"])(n,[{key:"getBPTrail",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getJson("/patients/".concat(this.patientID,"/bp_trail"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCurrentDrugs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getJson("/patients/".concat(this.patientID,"/current_bp_drugs"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLastDrugs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getJson("/patients/".concat(this.patientID,"/last_bp_drugs_dispensation"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAdherence",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].postJson("/patients/".concat(this.patientID,"/remaining_bp_drugs"),{drug_id:t,pills:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"enrollPatient",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].postJson("/patients/".concat(this.patientID,"/update_or_create_htn_state"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDrugs",value:function(){return{HCZ:{drugs:[{drugName:"HCZ (25mg tablet)",drugID:275,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null}],selected:null,notes:[]},Enalapril:{drugs:[{drugName:"Enalapril (5mg tablet)",drugID:942,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Enalapril (10mg tablet)",drugID:943,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]},Amlodipine:{drugs:[{drugName:"Amlodipine (5mg tablet)",drugID:558,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Amlodipine (10mg tablet)",drugID:559,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]},Atenolol:{drugs:[{drugName:"Atenolol (50mg tablet)",drugID:117,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Atenolol(100mg tablet)",drugID:11,current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]}}}}]),n}(_["a"]),sn=Object(a["defineComponent"])({mixins:[V["a"]],components:{ViewPort:Wt["a"],HisTable:$t["a"],IonTitle:Ve["J"],IonToolbar:Ve["K"],IonHeader:Ve["p"],IonContent:Ve["m"],IonGrid:Ve["o"],IonRow:Ve["E"],IonButton:Ve["d"],IonRadioGroup:Ve["C"],IonRadio:Ve["B"],IonCol:Ve["l"],IonFooter:Ve["n"],IonPage:Ve["A"],IonItem:Ve["t"],IonLabel:Ve["u"]},data:function(){return{htn:{},hasARVNumber:!0,suggestedNumber:"",columns:["Date","Systolic","Diastolic","BP Drugs","Action / Note"],rows:[],rowColors:[],cellColors:[],styles:[],riskFactors:[],action:null,trail:[],date:null,patientOnBPDrugs:!1,patientFirstVisit:!1,normatensive:!1,patientHasHyperTensionObs:!1,currentDrugs:[],items:[],isEnrolledInHTN:!1,isAliveOnHTN:!1,HTNProgramID:20,aliveState:160,refer:!1}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.htn=new cn(t.patientID,t.providerID),e.next=3,t.getRiskFactors();case 3:return t.riskFactors=e.sent,e.next=6,t.formatTrail();case 6:return t.rows=e.sent,t.date=h["a"].toStandardHisDisplayFormat(g["c"].getSessionDate()),e.next=10,t.isTransfered();case 10:return e.next=12,t.hasHyperTenstion();case 12:return e.next=14,t.getTreatmentStatus();case 14:return e.next=16,t.getProgramStatus();case 16:t.getItems();case 17:case"end":return e.stop()}}),e)})))()},deep:!0}},computed:{totalRiskFactors:function(){return this.riskFactors.filter((function(e){return"Yes"===e.value})).length},showClinicianButton:function(){return!xe["a"].isClinician()&&!xe["a"].isDoctor()}},methods:{onFinish:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.action&&!e.refer){t.next=26;break}return t.next=3,e.htn.createEncounter();case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return",Object(x["e"])("Unable to create encounter"));case 6:if(!e.refer){t.next=15;break}return t.next=9,e.htn.saveValueCodedObs("Refer patient to clinician","Yes");case 9:if(r=t.sent,r){t.next=12;break}return t.abrupt("return",Object(x["e"])("Unable to create Obs"));case 12:e.gotoPatientDashboard(),t.next=24;break;case 15:return t.next=17,e.htn.saveValueTextObs("Plan",e.action.label);case 17:if(a=t.sent,a){t.next=20;break}return t.abrupt("return",Object(x["e"])("Unable to create Obs"));case 20:return o={state:e.action.value},t.next=23,e.htn.enrollPatient(o);case 23:e.nextAction(e.action.value);case 24:t.next=27;break;case 26:Object(x["e"])("Please select an action");case 27:case"end":return t.stop()}}),t)})))()},referPatient:function(){this.refer=!0,this.onFinish()},goToDiagnosis:function(){return this.$router.push({path:"/art/encounters/hypertension_diagnosis/".concat(this.patientID)})},nextAction:function(e){switch(e){case"Start anti-hypertensives":this.$router.push("/art/encounters/bp_prescription/".concat(this.patientID));break;case"Review Drugs":this.$router.push("/art/encounters/bp_adherence/".concat(this.patientID,"?review=true")),this.nextTask();break;case"Continue Drugs":this.$router.push("/art/encounters/bp_adherence/".concat(this.patientID)),this.nextTask();break;case"Did not take prescribed BP drugs today":this.$router.push("/art/encounters/bp_adherence/".concat(this.patientID));break;default:this.nextTask();break}},hasHyperTenstion:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,on["a"].getFirstValueCoded(e.patientID,"Patient has hypertension");case 2:n=t.sent,e.patientHasHyperTensionObs="Yes"===n;case 4:case"end":return t.stop()}}),t)})))()},isTransfered:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,on["a"].getFirstValueCoded(e.patientID,"Transferred");case 2:n=t.sent,e.patientFirstVisit="Yes"!==n;case 4:case"end":return t.stop()}}),t)})))()},getTreatmentStatus:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,on["a"].getFirstValueText(e.patientID,"Treatment status");case 2:n=t.sent,e.patientOnBPDrugs=n&&n.match(/BP Drugs started/i);case 4:case"end":return t.stop()}}),t)})))()},getProgramStatus:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee["a"].getPatientPrograms(e.patientID);case 2:if(n=t.sent,e.isEnrolledInHTN=n.filter((function(e){return"HYPERTENSION PROGRAM"===e.program.name})).length>0,!e.isEnrolledInHTN){t.next=7;break}return t.next=7,e.programState();case 7:case"end":return t.stop()}}),t)})))()},programState:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ee["a"].getPatientStates(e.patientID,e.HTNProgramID);case 2:n=t.sent,e.isAliveOnHTN=n.filter((function(e){return"Alive"===e.name})).length>0;case 4:case"end":return t.stop()}}),t)})))()},getRiskFactors:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=H["a"].getConceptsByCategory("risk factors"),a=n.map(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,on["a"].getFirstValueCoded(e.patientID,n.name);case 2:return r=t.sent,t.abrupt("return",{concept:n.name,value:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",Promise.all(a));case 3:case"end":return t.stop()}}),t)})))()},formatTrail:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.htn.getBPTrail();case 2:return n=t.sent,t.abrupt("return",Object.keys(n).map((function(t){var r=h["a"].toStandardHisDisplayFormat(t);return e.currentDrugs=n[t]["drugs"],Object(c["a"])(Object(c["a"])({},n[t]),{},{date:r,drugs:n[t]["drugs"].join("")})})));case 4:case"end":return t.stop()}}),t)})))()},showRiskFactors:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve["S"].create({component:an,backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:e.riskFactors}});case 2:return n=t.sent,n.present(),t.next=6,n.onDidDismiss();case 6:r=t.sent,a=r.data,Object(v["isEmpty"])(a)||(e.riskFactors=a.map((function(e){var t=!0===e.isChecked?"Yes":"No";return{concept:e.concept,value:t}})));case 9:case"end":return t.stop()}}),t)})))()},enrollInHTN:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Ee["a"].getSessionDate(),t.next=3,Ee["a"].enrollProgram(e.patientID,e.HTNProgramID,n);case 3:return t.next=5,Ee["a"].createState(e.patientID,e.HTNProgramID,{state:e.aliveState});case 5:case"end":return t.stop()}}),t)})))()},getItems:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.patientOnBPDrugs||!e.patientFirstVisit){t.next=10;break}if(e.isEnrolledInHTN){t.next=5;break}Object(x["a"])("Do you want to enroll this client in the HTN program?",[{text:"Yes",handler:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.enrollInHTN();case 2:return e.patientFirstVisit=!1,t.next=5,e.getItems();case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{text:"No",handler:function(){return e.nextTask()}}]),t.next=8;break;case 5:return e.patientFirstVisit=!1,t.next=8,e.getItems();case 8:t.next=11;break;case 10:e.currentDrugs.length>0?e.items=[{label:"Did not take prescribed drugs",value:"on treatment"},{label:"Continue drugs",value:"on treatment"},{label:"Review drugs",value:"on treatment"}]:(e.items=[{label:"Lifestyle advice given",value:"Lifestyle changes only"},{label:"Not yet stable on ART",value:"Symptomatic but not in treatment"},{label:"Patient declining BP drugs ",value:"Symptomatic but not in treatment"}],e.normatensive&&e.items.push({label:"Return to annual screening",value:"Alive"}),e.items.push({label:"Start anti hypertensives",value:"On treatment"}));case 11:case"end":return t.stop()}}),t)})))()}}});const un=S()(sn,[["render",Kt]]);var ln=un;function dn(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onOnFinish","cancelDestinationPath"])}var pn=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],fieldContext:{}}},watch:{ready:{handler:function(e){e&&(this.fields=this.getFields())}}},methods:{onFinish:function(){this.nextTask()},getFields:function(){var e=this;return[{id:"patient_lab_orders",helpText:"Lab orders",type:u["b"].TT_LAB_ORDERS,onload:function(t){e.fieldContext=t},options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ne["a"].getOrders(e.patientID);case 2:return n=t.sent,r=Ne["a"].formatLabs(n),t.abrupt("return",[{label:"Lab orders",value:"order trail",other:{values:r}}]);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Order",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object(v["isEmpty"])(e.fieldContext)){t.next=3;break}return t.next=3,e.fieldContext.launchOrderSelection();case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),visibleOnStateChange:function(e){return 0===e.index}}]}}]}}});const bn=S()(pn,[["render",dn]]);var fn=bn,mn=Object(a["withScopeId"])("data-v-7961e805");Object(a["pushScopeId"])("data-v-7961e805");var hn=Object(a["createTextVNode"])(" Cancel ");Object(a["popScopeId"])();var gn=mn((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("information-header"),s=Object(a["resolveComponent"])("visit-information"),u=Object(a["resolveComponent"])("ion-content"),l=Object(a["resolveComponent"])("ion-button"),d=Object(a["resolveComponent"])("ion-toolbar"),p=Object(a["resolveComponent"])("ion-footer"),b=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(b,null,{default:mn((function(){return[Object(a["createVNode"])(u,null,{default:mn((function(){return[Object(a["createVNode"])(c,{items:e.patientCardInfo},null,8,["items"]),Object(a["createVNode"])(s,{items:e.visitDates,onOnPrint:e.printLabel,onOnDetails:e.showMore},null,8,["items","onOnPrint","onOnDetails"])]})),_:1}),Object(a["createVNode"])(p,null,{default:mn((function(){return[Object(a["createVNode"])(d,{color:"dark"},{default:mn((function(){return[Object(a["createVNode"])(l,{color:"danger",size:"large",onClick:e.onCancel},{default:mn((function(){return[hn]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),On=(n("fb6a"),n("23e6")),vn=Object(a["withScopeId"])("data-v-7a64e037");Object(a["pushScopeId"])("data-v-7a64e037");var _n={class:"val"};Object(a["popScopeId"])();var jn=vn((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(u,null,{default:vn((function(){return[Object(a["createVNode"])(s,null,{default:vn((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(c,{size:"4",key:e,class:"data"},{default:vn((function(){return[Object(a["createVNode"])(s,null,{default:vn((function(){return[Object(a["createVNode"])(c,{siz:"6"},{default:vn((function(){return[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(e.label),1)]})),_:2},1024),Object(a["createVNode"])(c,{siz:"6"},{default:vn((function(){return[Object(a["createVNode"])("p",_n,Object(a["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})})),wn=Object(a["defineComponent"])({name:"HisResultCard",components:{IonGrid:Ve["o"],IonRow:Ve["E"],IonCol:Ve["l"]},props:{icon:{required:!1},items:{type:Object,required:!0}}});n("59fc");const yn=S()(wn,[["render",jn],["__scopeId","data-v-7a64e037"]]);var kn=yn,xn=Object(a["withScopeId"])("data-v-715e1012");Object(a["pushScopeId"])("data-v-715e1012");var Nn=Object(a["createTextVNode"])("Date"),Vn=Object(a["createTextVNode"])("Weight"),Cn=Object(a["createTextVNode"])("Reg"),Dn=Object(a["createTextVNode"])("ADH"),Tn=Object(a["createTextVNode"])("Out"),Rn=Object(a["createTextVNode"])("Act"),In={class:"small"},Sn=Object(a["createTextVNode"])("show more");Object(a["popScopeId"])();var Pn=xn((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-button"),l=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:xn((function(){return[Object(a["createVNode"])(s,null,{default:xn((function(){return[Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Nn]})),_:1}),Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Vn]})),_:1}),Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Cn]})),_:1}),Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Dn]})),_:1}),Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Tn]})),_:1}),Object(a["createVNode"])(c,{size:"2",class:"headers"},{default:xn((function(){return[Rn]})),_:1})]})),_:1}),(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:n,class:"data-row"},{default:xn((function(){return[Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])(u,{onClick:function(n){return e.printLabel(t.value)}},{default:xn((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick"])]})),_:2},1024),Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.data.weight),1)]})),_:2},1024),Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.data.regimen),1)]})),_:2},1024),Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])("p",In,Object(a["toDisplayString"])(e.formatAdherence(t.data.adherence)),1)]})),_:2},1024),Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])("p",null,Object(a["toDisplayString"])(t.data.outcome),1)]})),_:2},1024),Object(a["createVNode"])(c,{size:"2"},{default:xn((function(){return[Object(a["createVNode"])(u,{color:"success",onClick:function(n){return e.showMore(t.value)}},{default:xn((function(){return[Sn]})),_:1},8,["onClick"])]})),_:1})]})),_:2},1024)})),128))]})),_:1})})),An=Object(a["defineComponent"])({name:"HisResultCard",components:{IonGrid:Ve["o"],IonRow:Ve["E"],IonCol:Ve["l"],IonButton:Ve["d"]},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{printLabel:function(e){this.$emit("onPrint",e)},showMore:function(e){this.$emit("onDetails",e)},formatAdherence:function(e){if(console.log(e),Object(v["isArray"])(e)){var t=Object(s["a"])(e);if(Object(v["isArray"])(t)){var n="";return t.forEach((function(e){n+="".concat(e.join(":")," (%), ")})),n}return t}return e}}});n("014e");const Bn=S()(An,[["render",Pn],["__scopeId","data-v-715e1012"]]);var En=Bn,Fn=Object(a["createTextVNode"])(" Close ");function Ln(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),l=Object(a["resolveComponent"])("information-header"),d=Object(a["resolveComponent"])("ion-content"),p=Object(a["resolveComponent"])("ion-button"),b=Object(a["resolveComponent"])("ion-footer");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,{items:e.visitData},null,8,["items"])]})),_:1}),Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,{onClick:e.closeModal,slot:"end"},{default:Object(a["withCtx"])((function(){return[Fn]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var Mn=Object(a["defineComponent"])({components:{InformationHeader:kn},props:{title:{type:String,required:!0},visitData:{type:Object,required:!0}},methods:{closeModal:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve["S"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()}}});const Hn=S()(Mn,[["render",Ln]]);var Un=Hn,qn=n("ec2a"),zn=n("8e47"),Gn=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,null,[{key:"getRelationships",value:function(e){return Object(F["a"])(Object(L["a"])(n),"getJson",this).call(this,"/people/".concat(e,"/relationships"))}},{key:"getGuardianDetails",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getRelationships(t).then((function(e){return e.map((function(e){return{name:Object(zn["a"])(e.relation.names[0]),relationshipType:e.type.b_is_to_a}}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(g["c"]),Yn=Object(a["defineComponent"])({components:{IonPage:Ve["A"],IonFooter:Ve["n"],IonContent:Ve["m"],IonButton:Ve["d"],IonToolbar:Ve["K"],VisitInformation:En,InformationHeader:kn},data:function(){return{isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},patientId:0,programID:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],encounters:[],medications:[],labOrders:[],visitDates:[],activeVisitDate:"",encountersCardItems:[],medicationCardItems:[],labOrderCardItems:[],alertCardItems:[]}},computed:{visitDatesTitle:function(){return"".concat(this.visitDates.length," Visits")}},watch:{$route:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.params,r){n.next=3;break}return n.abrupt("return");case 3:t.patientId=parseInt(r.patient_id),t.patientId&&t.init();case 5:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0},activeVisitDate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,qn["a"].getEncounters(t.patientId,{date:e});case 2:t.encounters=n.sent;case 3:case"end":return n.stop()}}),n)})))()}},methods:{init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchPatient(e.patientId);case 2:return e.patient=t.sent,t.next=5,e.getPatientCardInfo(e.patient);case 5:return e.patientCardInfo=t.sent,t.next=8,e.getPatientVisitDates(e.patientId);case 8:e.visitDates=t.sent;case 9:case"end":return t.stop()}}),t)})))()},fetchPatient:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,On["a"].findByID(e);case 2:return n=t.sent,t.abrupt("return",n?new On["a"](n):{});case 4:case"end":return t.stop()}}),t)})))()},getProp:function(e,t){return t in e?e[t]():"-"},getPatientVisitDates:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,On["a"].getPatientVisits(e);case 2:return r=n.sent,a=r.map((function(e){return t.getExtras(e).then((function(t){return{label:h["a"].toStandardHisDisplayFormat(e),value:e,data:t}}))})),n.next=6,Promise.all(a);case 6:return o=n.sent,n.abrupt("return",o);case 8:case"end":return n.stop()}}),n)})))()},getExtras:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ee["a"].getCurrentProgramInformation(t.patientId,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},onActiveVisitDate:function(e){this.activeVisitDate=e.value},getPatientCardInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i,c,s,u,l,d,p,b,f,m,g,O,v,_,j,w;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=h["a"].toStandardHisDisplayFormat,h["a"].getAgeInYears,t.getProp(e,"getBirthdate"),a=e.getAge(),o=e.getPatientIdentifier(4),i=e.getPatientIdentifier(3),c=t.getProp(e,"getFullName"),s=e.getGender(),e.getCurrentDistrict(),u=e.getCurrentVillage(),e.getCurrentTA(),l=e.getAttribute(19),e.getPhoneNumber(),n.next=14,on["a"].getAll(t.patientId,"Confirmatory HIV test date");case 14:return d=n.sent,d&&(d=r(d[0].value_datetime)),n.next=18,on["a"].getFirstValueText(t.patientId,"Confirmatory HIV test location");case 18:return p=n.sent,n.next=21,on["a"].getAll(t.patientId,"Date ART started");case 21:return b=n.sent,b=r(b[0].value_datetime),f="",Gn.getGuardianDetails(t.patientId).then((function(e){var t=e.map((function(e){return" ".concat(e.name," (").concat(e.relationshipType,")")}));f=t.join(" ")})),n.next=27,t.getInitial("weight");case 27:return m=n.sent,n.next=30,t.getInitial("Height");case 30:return g=n.sent,n.next=33,t.getInitial("BMI");case 33:return O=n.sent,n.next=36,on["a"].getFirstValueCoded(t.patientId,"Ever received ART");case 36:return v=n.sent,n.next=39,on["a"].getFirstValueCoded(t.patientId,"Agrees to followup");case 39:return _=n.sent,n.next=42,on["a"].getFirstValueCoded(t.patientId,"Reason for ART eligibility");case 42:return j=n.sent,w=[{label:"ARV #",value:o},{label:"National Patient ID",value:i},{label:"Name",value:c},{label:"Age",value:a},{label:"Sex",value:s},{label:"Location",value:u},{label:"Landmark",value:l},{label:"Guardian",value:f},{label:"Init W(KG)",value:m},{label:"Init H(CM)",value:g},{label:"BMI(CM)",value:O},{label:"TI",value:v},{label:"Agrees to follow up",value:_},{label:"Reason for starting",value:j},{label:"Date + place of HIV test",value:"".concat(d||""," ").concat(p||"")},{label:"Date of starting first line ART",value:b}],n.abrupt("return",w);case 45:case"end":return n.stop()}}),n)})))()},getInitial:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,on["a"].getAll(t.patientId,e);case 2:return r=n.sent,a=r.length-1,n.abrupt("return",r[a].value_numeric);case 5:case"end":return n.stop()}}),n)})))()},openModal:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=h["a"].toStandardHisDisplayFormat(a.activeVisitDate.toString()),r.next=3,Ve["S"].create({component:n,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{items:e,title:"".concat(t,": ").concat(o),taskParams:{patient:a.patient.getObj(),program:a.patientProgram,visitDate:a.activeVisitDate,patientID:a.patientId}}});case 3:i=r.sent,i.present();case 5:case"end":return r.stop()}}),r)})))()},onCancel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(x["b"])("Are you sure you want to cancel?");case 2:if(n=t.sent,!n){t.next=5;break}return t.abrupt("return",e.$router.back());case 5:case"end":return t.stop()}}),t)})))()},printLabel:function(e){new de["a"](this.patientId).printVisitSummaryLbl(e)},FormData:function(e){var t=this;return Object.keys(e).map((function(n){var r=e[n];return{label:t.camelCase(n),value:t.joinData(r)}}))},joinData:function(e){if(Object(v["isArray"])(e)){var t=Object(s["a"])(e);if(Object(v["isArray"])(t)){var n="";return t.forEach((function(e){n+="".concat(e.join(":"),", ")})),n}return t}return e},camelCase:function(e){var t=e.split("_");return"".concat(this.capitalize(t[0])," ").concat(this.capitalize(t[1]))},capitalize:function(e){try{return e.charAt(0).toUpperCase()+e.slice(1)}catch(t){return""}},showMore:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="Visit details for",n.next=3,t.getExtras(e);case 3:return a=n.sent,n.next=6,Ve["S"].create({component:Un,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{title:"".concat(r,": ").concat(e),visitData:t.FormData(a)}});case 6:o=n.sent,o.present();case 8:case"end":return n.stop()}}),n)})))()}}});n("268a");const Kn=S()(Yn,[["render",gn],["__scopeId","data-v-7961e805"]]);var Wn=Kn;function $n(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,headerInfoList:e.headerList,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}var Jn,Xn=n("44e3"),Qn=n("5969"),Zn=["0-5 months","6-11 months","12-23 months","2-4 years","5-9 years","10-14 years","15-17 years","18-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"];(function(e){e["PEPFAR_OUTCOME_TEMP"]="temp_pepfar_patient_outcomes",e["PATIENT_OUTCOME_TEMP"]="temp_patient_outcomes"})(Jn||(Jn={}));var er,tr=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.gender="",e.ageGroup=Zn[0],e.initialize=!0,e.rebuildOutcome=!0,e.outComeTable=Jn.PEPFAR_OUTCOME_TEMP,e}return Object(p["a"])(n,[{key:"init",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.initialize=!0,this.rebuildOutcome=!0,e.next=4,this.getReport("cohort_disaggregated",this.getRequestParams());case 4:if(t=e.sent,!t||"created"!==t.temp_disaggregated){e.next=9;break}return this.initialize=!1,this.rebuildOutcome=!1,e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setOutcomeTable",value:function(e){this.outComeTable=e}},{key:"setAgeGroup",value:function(e){this.ageGroup=e}},{key:"setInitialization",value:function(e){this.initialize=e}},{key:"setRebuildOutcome",value:function(e){this.rebuildOutcome=e}},{key:"setGender",value:function(e){this.gender=e}},{key:"getGender",value:function(){return this.gender}},{key:"getRequestParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buildRequest(Object(c["a"])({age_group:this.ageGroup,rebuild_outcome:this.rebuildOutcome,initialize:this.initialize},e))}},{key:"getCohort",value:function(){return this.getReport("cohort_disaggregated",this.getRequestParams())}},{key:"getTxIpt",value:function(){return this.getReport("clients_given_ipt",this.getRequestParams({gender:this.gender,outcome_table:this.outComeTable}))}},{key:"getTxCurrTB",value:function(){return this.getReport("screened_for_tb",this.getRequestParams({gender:this.gender,outcome_table:this.outComeTable}))}},{key:"getRegimenDistribution",value:function(){return this.getReport("disaggregated_regimen_distribution",this.getRequestParams({gender:this.gender,outcome_table:this.outComeTable}))}}]),n}(Qn["a"]),nr=n("4ba2"),rr=n("9ceb");(function(e){e["MOH_CACHE"]="mohCache"})(er||(er={}));var ar=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.regenerate=!1,e}return Object(p["a"])(n,[{key:"cohortUrl",value:function(){return"programs/".concat(this.programID,"/reports/cohort")}},{key:"setRegenerate",value:function(e){this.regenerate=e}},{key:"getCohortDrillDown",value:function(e){return Qn["a"].getJson("cohort_report_drill_down",{id:e,date:this.date,program_id:this.programID})}},{key:"requestCohort",value:function(e){return Qn["a"].ajxGet(this.cohortUrl(),e)}},{key:"qaurterRequestParams",value:function(){return{name:this.quarter,regenerate:this.regenerate}}},{key:"datePeriodRequestParams",value:function(){return{name:"Cohort-".concat(this.startDate,"-").concat(this.endDate),start_date:this.startDate,end_date:this.endDate,regenerate:this.regenerate}}},{key:"getCohortIndicatorValue",value:function(e,t){return t.filter((function(t){return t.name===e})).map((function(e){return parseInt(e.contents)}))[0]}},{key:"getCachedCohortValues",value:function(){var e=sessionStorage.getItem(er.MOH_CACHE);if(e){var t=JSON.parse(e);if(t.quarter===this.quarter)return t.values;if(t.start_date===this.startDate&&t.end_date===this.endDate)return t.values}}},{key:"cacheCohort",value:function(e){sessionStorage.setItem(er.MOH_CACHE,JSON.stringify({start_date:this.startDate,end_date:this.endDate,quarter:this.quarter,data:e}))}},{key:"validateIndicators",value:function(e,t){var n=this,a=function(t){return n.runValidations(e,t)},o=this.getCachedCohortValues();if(o)return t(a(o));var i=this.quarter?this.qaurterRequestParams():this.datePeriodRequestParams(),c=setInterval(Object(r["a"])(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.requestCohort(i);case 2:if(r=e.sent,!r||200!==r.status){e.next=12;break}return e.next=6,r.json();case 6:o=e.sent,n.cacheCohort(o.values),t(a(o.values)),clearInterval(c),e.next=13;break;case 12:r&&![200,204].includes(r.status)&&t(["Unable to validate report"]);case 13:case"end":return e.stop()}}),e)}))),3e3);return-1}},{key:"runValidations",value:function(e,t){var n=[];for(var r in e){var a=this.getCohortIndicatorValue(r,t),o=e[r].param,i=e[r].check(a,o);i&&n.push(e[r].error(a,o))}return n}}]),n}(Qn["a"]),or=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"PEPFAR Diseggregated Report",rows:[],headerList:[],columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("Tx new (new on ART)"),rr["a"].thNum("Tx curr (receiving ART)"),rr["a"].thNum("TX curr (received IPT)"),rr["a"].thNum("TX curr (screened for TB)")]],mohCohort:{},ageGroupCohort:{},totalNewF:[],totalCurF:[],totalIptF:[],totalTbF:[],totalNewM:[],totalCurM:[],totalIptM:[],totalTbM:[],pregnantF:[],canValidate:!1}},created:function(){this.fields=this.getDateDurationFields()},watch:{canValidate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.validateReport();case 3:case"end":return n.stop()}}),n)})))()}},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.canValidate=!1,n.rows=[],n.report=new tr,n.mohCohort=new ar,n.report.setQuarter("pepfar"),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.mohCohort.setStartDate(t.start_date),n.mohCohort.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=12,n.report.init();case 12:if(r=e.sent,r){e.next=15;break}return e.abrupt("return",Object(x["e"])("Unable to initialise report"));case 15:return e.next=17,n.setTableRows();case 17:n.setHeaderInfoList(),n.canValidate=!0;case 19:case"end":return e.stop()}}),e)})))()},setHeaderInfoList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'<span style="color: orange;font-weight:bold">Validating report....please wait...</span>',n=this.totalCurF.concat(this.totalCurM);this.headerList=[{label:"Total Alive and on ART",value:n.length,other:{onclick:function(){return e.runTableDrill(n)}}},{label:"Validation status",value:t}]},setTableRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setFemaleRows();case 2:return t.next=4,e.setMaleRows();case 4:return t.next=6,e.setFemalePregnantRows();case 6:return t.next=8,e.setFemaleBreastFeedingRows();case 8:e.setTotalMalesRow(),e.setFemaleNotPregnantRows();case 10:case"end":return t.stop()}}),t)})))()},getValue:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=[],r.t0=e,r.next="tx_given_ipt"===r.t0?4:"tx_screened_for_tb"===r.t0?8:12;break;case 4:return r.next=6,a.report.getTxIpt();case 6:return o=r.sent,r.abrupt("break",14);case 8:return r.next=10,a.report.getTxCurrTB();case 10:return o=r.sent,r.abrupt("break",14);case 12:return o=t in n?n[t][e]:[],r.abrupt("break",14);case 14:return r.abrupt("return",o);case 15:case"end":return r.stop()}}),r)})))()},setTotalMalesRow:function(){this.rows.push([rr["a"].td("All"),rr["a"].td("Male"),this.drill(this.totalNewM),this.drill(this.totalCurM),this.drill(this.totalIptM),this.drill(this.totalTbM)])},setFemaleNotPregnantRows:function(){var e=this,t=[this.totalNewF,this.totalCurF,this.totalIptF,this.totalTbF].map((function(t){return e.drill(t.filter((function(t){return!e.pregnantF.includes(t)})))}));this.rows.push([rr["a"].td("All"),rr["a"].td("FNP")].concat(Object(s["a"])(t)))},setFemaleRows:function(){var e=this;return this.report.setGender("female"),this.setRows("F",Zn,(function(t,n,r,a,o){return e.totalNewF=Object(v["uniq"])(e.totalNewF.concat(n)),e.totalCurF=Object(v["uniq"])(e.totalCurF.concat(r)),e.totalIptF=Object(v["uniq"])(e.totalIptF.concat(a)),e.totalTbF=Object(v["uniq"])(e.totalTbF.concat(o)),[rr["a"].td(t),rr["a"].td("Female"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setMaleRows:function(){var e=this;return this.report.setGender("male"),this.setRows("M",Zn,(function(t,n,r,a,o){return e.totalNewM=Object(v["uniq"])(e.totalNewM.concat(n)),e.totalCurM=Object(v["uniq"])(e.totalCurM.concat(r)),e.totalIptM=Object(v["uniq"])(e.totalIptM.concat(a)),e.totalTbM=Object(v["uniq"])(e.totalTbM.concat(o)),[rr["a"].td(t),rr["a"].td("Male"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setFemalePregnantRows:function(){var e=this;return this.report.setGender("pregnant"),this.setRows("F",["Pregnant"],(function(t,n,r,a,o){return e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(n)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(r)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(a)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(o)),[rr["a"].td("All"),rr["a"].td("FP"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setFemaleBreastFeedingRows:function(){var e=this;return this.report.setGender("breastfeeding"),this.setRows("F",["Breastfeeding"],(function(t,n,r,a,o){return e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(n)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(r)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(a)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(o)),[rr["a"].td("All"),rr["a"].td("FBf"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setRows:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var i,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=regeneratorRuntime.mark((function o(i){var c,s,u,l,d,p,b;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(c=[],s=[],u=[],l=[],d=t[i],a.report.setAgeGroup(d),d in a.ageGroupCohort){o.next=11;break}return o.next=9,a.report.getCohort();case 9:p=o.sent,a.ageGroupCohort[d]=Object(v["isEmpty"])(p)?{}:p[d];case 11:if(Object(v["isEmpty"])(a.ageGroupCohort[d])){o.next=25;break}return b=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",a.getValue(n,e,a.ageGroupCohort[d]));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.next=15,b("tx_new");case 15:return c=o.sent,o.next=18,b("tx_curr");case 18:return s=o.sent,o.next=21,b("tx_given_ipt");case 21:return u=o.sent,o.next=24,b("tx_screened_for_tb");case 24:l=o.sent;case 25:a.rows.push(n(d,c,s,u,l));case 26:case"end":return o.stop()}}),o)})),o.t0=regeneratorRuntime.keys(t);case 2:if((o.t1=o.t0()).done){o.next=7;break}return c=o.t1.value,o.delegateYield(i(c),"t2",5);case 5:o.next=2;break;case 7:case"end":return o.stop()}}),o)})))()},validateReport:function(){var e=this,t={initiated_on_art_first_time:{param:this.totalNewF.concat(this.totalNewM).length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MOH cohort initiated on ART first time (".concat(e,") is not matching Tx New (").concat(t,")\n                    ")}},initial_pregnant_females_all_ages:{param:this.pregnantF.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MOH cohort initial pregnant females all ages \n                        (".concat(e,") is not matching with TX new Pregnant women ").concat(t,"\n                    ")}},males_initiated_on_art_first_time:{param:this.totalNewM.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MoH Cohort males initiated on ART first time (".concat(e,")\n                        is not matching with TX new All male (").concat(t,")\n                    ")}}},n=this.mohCohort.validateIndicators(t,(function(t){Object(v["isEmpty"])(t)?e.setHeaderInfoList("<span style='color:green'>Report is consistent</span>"):e.setHeaderInfoList("<span style='color:red'>".concat(t.join(","),"</span>"))}));-1===n&&Object(x["e"])("Running cohort report to check consistency. This may take a while")}}});const ir=S()(or,[["render",$n]]);var cr=ir;function sr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var ur=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.pepfar=!0,e}return Object(p["a"])(n,[{key:"setIsPepfar",value:function(e){this.pepfar=e}},{key:"getDefaulters",value:function(){return this.getReport("defaulter_list",{pepfar:this.pepfar})}}]),n}(Qn["a"]),lr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Defaulters report",rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Gender"),rr["a"].thDate("Birthdate"),rr["a"].thDate("Date defaulted"),rr["a"].thTxt("Address")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new ur,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getDefaulters();case 7:r=e.sent,n.setRows(r),n.title="PEPFAR Defaulters report <b>(".concat(r.length," Defaulters)</b>");case 10:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdDate(e.defaulter_date),rr["a"].td((e.cell_number?"CELL: ".concat(e.cell_number," <br/>"):"")+(e.village?"VILLAGE: ".concat(e.village," <br/>"):"")+(e.district?"DISTRICT: ".concat(e.district," <br/>"):"")+(e.ta?"TA: ".concat(e.ta):""))])}));case 1:case"end":return n.stop()}}),n)})))()}}});const dr=S()(lr,[["render",sr]]);var pr=dr;function br(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var fr=["0A","2A","4A","5A","6A","7A","8A","9A","10A","11A","12A","13A","14A","15A","16A","17A","0P","2P","4P","9P","11P","14P","14PP","15P","15PP","16P","17P"],mr=["10 - 13.9 Kg","14 - 19.9 Kg","20 - 24.9 Kg","25 - 29.9 Kg","3 - 3.9 Kg","30 - 34.9 Kg","35 - 39.9 Kg","4 - 4.9 Kg","40 Kg +","6 - 9.9 Kg","Unknown"],hr=["pellets","tablets","granules"],gr=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.type="pepfar",e}return Object(p["a"])(n,[{key:"setReportType",value:function(e){this.type=e}},{key:"getTptNewInitiations",value:function(){return this.getReport("programs/".concat(this.programID,"/reports/tpt_newly_initiated"))}},{key:"getRegimenFormulationReport",value:function(e,t){return this.getReport("programs/".concat(this.programID,"/reports/regimens_and_formulations"),{regimen:e,formulation:t})}},{key:"getRegimenReport",value:function(){return this.getReport("regimen_report",{type:this.type})}},{key:"getRegimenSwitchReport",value:function(){return this.getReport("regimen_switch",{type:this.type})}},{key:"getRegimensByWeight",value:function(){return this.getReport("programs/".concat(this.programID,"/reports/regimens_by_weight_and_gender"))}}]),n}(Qn["a"]),Or=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"PEPFAR Regimen Report",rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Curr.Reg"),rr["a"].thTxt("ARVs"),rr["a"].thTxt("Curr.reg dispensed")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new gr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=8,n.report.getRegimenReport();case 8:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1);case 10:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;Object.values(e).forEach((function(e){var n="",r=e.medication.map((function(e){return n=t.toDate(e.start_date),"".concat(e.medication," (").concat(e.quantity,")")}));t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td(e.current_regimen),rr["a"].td(r.join(", ")),rr["a"].tdDate(n)])}))}}});const vr=S()(Or,[["render",br]]);var _r=vr;function jr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var wr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"PEPFAR Regimen Switch Report",rows:[],columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Patient type"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Prev.Reg"),rr["a"].thTxt("Curr.Reg"),rr["a"].thTxt("ARVs"),rr["a"].thTxt("Curr.reg dispensed date")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new gr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=8,n.report.getRegimenSwitchReport();case 8:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1);case 10:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:Object.values(e).forEach((function(e){var n="",r=e.medication.map((function(e){return n=e.start_date,"".concat(e.medication," (").concat(e.quantity,")")}));t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.patient_type),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td(e.previous_regimen),rr["a"].td(e.current_regimen),rr["a"].td(r.join(", ")),rr["a"].tdDate(n)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const yr=S()(wr,[["render",jr]]);var kr=yr;function xr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Nr=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,[{key:"getVLCoverage",value:function(){return this.getReport("programs/".concat(this.programID,"/reports/viral_load_coverage"),{rebuild_outcomes:!0})}}]),n}(Qn["a"]),Vr=n("ad8d"),Cr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"VL Coverage report",cohort:{},rows:[],columns:[[rr["a"].thTxt("",{colspan:5,exportable:!1}),rr["a"].thTxt("Sample Drawn",{colspan:2,exportable:!1}),rr["a"].thTxt("VL <1000 copies",{colspan:2,exportable:!1}),rr["a"].thTxt("VL >= 1000 copies",{colspan:2,exportable:!1})],[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thTxt("TX CURR"),rr["a"].thTxt("Due for VL"),rr["a"].thTxt("Routine",{value:"Routine (Sample Drawn)"}),rr["a"].thTxt("Targeted",{value:"Targeted (Sample Drawn)"}),rr["a"].thTxt("Routine",{value:"Routine (VL <1000 copies)"}),rr["a"].thTxt("Targeted",{value:"Targeted (VL <1000 copies)"}),rr["a"].thTxt("Routine",{value:"Routine (VL >= 1000 copies)"}),rr["a"].thTxt("Targeted",{value:"Targeted (VL >= 1000 copies)"})]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Nr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getVLCoverage();case 7:return n.cohort=e.sent,e.next=10,n.setRows("F");case 10:return e.next=12,n.setRows("M");case 12:case"end":return e.stop()}}),e)})))()},drillDown:function(e,t){var n=this,r=e.filter((function(e){return e.gender===t}));if(r.length>=1){var a=["ARV #","DOB","Gender"],o=function(){return r.map((function(e){return[e.arv_number,n.toDate(e.birthdate),e.gender,{type:"button",name:"Show",action:function(){return n.$router.push({path:"/patient/dashboard/".concat(e.patient_id)})}}]}))};return rr["a"].tdLink(r.length,(function(){return n.tableDrill({columns:a,onRows:o})}))}return rr["a"].td(0)},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(r in Vr["a"])a=Vr["a"][r],a in t.cohort?(o=t.cohort[a],t.rows.push([rr["a"].td(a),rr["a"].td(e),t.drillDown(o.tx_curr,e),t.drillDown(o.due_for_vl,e),t.drillDown(o.drawn.routine,e),t.drillDown(o.drawn.targeted,e),t.drillDown(o.low_vl.routine,e),t.drillDown(o.low_vl.targeted,e),t.drillDown(o.high_vl.routine,e),t.drillDown(o.high_vl.targeted,e)])):t.rows.push([rr["a"].td(a),rr["a"].td(e),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)]);case 1:case"end":return n.stop()}}),n)})))()}}});const Dr=S()(Cr,[["render",xr]]);var Tr=Dr;function Rr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Ir=["0-5 months","6-11 months","12-23 months","2-4 years","5-9 years","10-14 years","15-17 years","18-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"],Sr=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,[{key:"getTBPrevReport",value:function(){return this.getReport("/programs/".concat(this.programID,"/reports/tb_prev2"))}}]),n}(Qn["a"]),Pr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"TB PREV Report",cohort:{},rows:[],columns:[[rr["a"].thTxt("",{sortable:!1,exportable:!1}),rr["a"].thTxt("",{sortable:!1,exportable:!1}),rr["a"].thTxt("",{sortable:!1,exportable:!1}),rr["a"].thTxt("Started new on ART",{colspan:2,sortable:!1,exportable:!1}),rr["a"].thTxt("Started previously on ART",{colspan:2,sortable:!1,exportable:!1}),rr["a"].thTxt("Completed New on ART",{colspan:2,sortable:!1,exportable:!1}),rr["a"].thTxt("Completed previously on ART",{colspan:2,sortable:!1,exportable:!1})],[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("3HP",{value:"3HP (Started new on ART)"}),rr["a"].thNum("6HP",{value:"6HP (Started new on ART)"}),rr["a"].thNum("3HP",{value:"3HP (Started previously on ART)"}),rr["a"].thNum("6HP",{value:"6HP (Started previously on ART)"}),rr["a"].thNum("3HP",{value:"3HP (Completed New on ART)"}),rr["a"].thNum("6HP",{value:"6HP (Completed New on ART)"}),rr["a"].thNum("3HP",{value:"3HP (Completed previously on ART)"}),rr["a"].thNum("6HP",{value:"6HP (Completed previously on ART)"})]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Sr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getTBPrevReport();case 7:n.cohort=e.sent,n.setRows("F"),n.setRows("M");case 10:case"end":return e.stop()}}),e)})))()},makeDrilldown:function(e){var t=e.map((function(e){return e.patient_id}));return this.drill(t)},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(r in Ir)a=Ir[r],o=t.cohort[a][e],t.rows.push([rr["a"].td(a),rr["a"].td(e),t.makeDrilldown(o["3HP"]["started_new_on_art"]),t.makeDrilldown(o["6H"]["started_new_on_art"]),t.makeDrilldown(o["3HP"]["started_previously_on_art"]),t.makeDrilldown(o["6H"]["started_previously_on_art"]),t.makeDrilldown(o["3HP"]["completed_new_on_art"]),t.makeDrilldown(o["6H"]["completed_new_on_art"]),t.makeDrilldown(o["3HP"]["completed_previously_on_art"]),t.makeDrilldown(o["6H"]["completed_previously_on_art"])]);case 1:case"end":return n.stop()}}),n)})))()}}});const Ar=S()(Pr,[["render",Rr]]);var Br=Ar;function Er(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",headerInfoList:e.headerInfoList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}n("a630"),n("6062");var Fr=n("bef6"),Lr=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"],Mr=["0-5 months","6-11 months","12-23 months","2-4 years","5-9 years","10-14 years","15-17 years","18-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50 plus years"],Hr=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.org="pepfar",e}return Object(p["a"])(n,[{key:"setOrg",value:function(e){this.org=e}},{key:"getTxMMDClientLevelData",value:function(e){var t=Fr["a"].parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),n="tx_mmd_client_level_data?".concat(t);return Qn["a"].postJson(n,{patient_ids:e})}},{key:"remapTxClientLevelData",value:function(e){return e.map((function(e){var t=null,n=[];for(var r in e){var a=Object.values(e[r]);a.forEach((function(e){for(var r in e){var a=e[r];t||(t={id:a.arv_number,dob:a.birthdate,dispenseDate:a.start_date}),n.push({name:a.drug_name,quantity:a.quantity,dose:a.dose_per_day})}}))}return Object(c["a"])(Object(c["a"])({},t),{},{drugs:n})}))}},{key:"getTxCurrMMDReport",value:function(e,t){return this.getReport("arv_refill_periods",{org:this.org,min_age:e,max_age:t})}},{key:"getTxMlReport",value:function(){return this.getReport("tx_ml")}},{key:"getTxRttReport",value:function(){return this.getReport("tx_rtt")}}]),n}(Qn["a"]),Ur=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"TX Curr MMD Report",cohort:{},rows:[],totals:new Set,columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("# of clients on < 3 months of ARVs"),rr["a"].thNum("# of clients on 3 - 5 months of ARVs"),rr["a"].thNum("# of clients on  >= 6 months of ARVs")]],headerInfoList:[],mohCohort:{},canValidate:!1}},watch:{canValidate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.validateReport();case 3:case"end":return n.stop()}}),n)})))()}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.canValidate=!1,n.rows=[],n.report=new Hr,n.mohCohort=new ar,n.mohCohort.setStartDate(t.start_date),n.mohCohort.setEndDate(t.end_date),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=11,n.setRows();case 11:n.canValidate=!0,n.setHeaderInfoList();case 13:case"end":return e.stop()}}),e)})))()},getValues:function(e){var t=[],n=[],r=[];for(var a in e){var o=e[a],i=o.prescribed_days;this.totals.add(a),i<90&&t.push(a),i>=90&&i<=150&&n.push(a),i>150&&r.push(a)}return[this.drill(t),this.drill(n),this.drill(r)]},setRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,u,l,d,p,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=0,a=[],o=[],t.t0=regeneratorRuntime.keys(Lr);case 5:if((t.t1=t.t0()).done){t.next=16;break}return i=t.t1.value,c=Lr[i],"<1 year"===c?(n=0,r=0):"50 plus years"===c?(n=50,r=120):(u=c.split("-"),l=Object(at["a"])(u,2),d=l[0],p=l[1],n=parseInt(d),r=parseInt(p)),t.next=11,e.report.getTxCurrMMDReport(n,r);case 11:b=t.sent,b?(o.push([rr["a"].td(c),rr["a"].td("Female")].concat(Object(s["a"])(e.getValues(b["Female"])))),a.push([rr["a"].td(c),rr["a"].td("Male")].concat(Object(s["a"])(e.getValues(b["Male"]))))):(o.push([rr["a"].td(c),rr["a"].td("Female"),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)]),a.push([rr["a"].td(c),rr["a"].td("Male"),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)])),e.rows=[].concat(o,a),t.next=5;break;case 16:case"end":return t.stop()}}),t)})))()},setHeaderInfoList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'<span style="color: orange;font-weight:bold">Validating report....please wait...</span>';this.headerInfoList=[{label:"Total clients",value:this.totals.size,other:{onclick:function(){return e.runTableDrill(Array.from(e.totals))}}},{label:"Validation status",value:t}]},validateReport:function(){var e=this,t={total_alive_and_on_art:{param:this.totals.size,check:function(e,t){return e!=t},error:function(e,t){return"\n                        <b>\n                            MoH cohort Alive and on ART clients (".concat(e,") is not\n                            not matching with total TX MMD clients (").concat(t,").\n                        </b>\n                    ")}}},n=this.mohCohort.validateIndicators(t,(function(t){Object(v["isEmpty"])(t)?e.setHeaderInfoList("<span style='color:green'>Report is consistent</span>"):e.setHeaderInfoList("<span style='color:red'>".concat(t.join(","),"</span>"))}));-1===n&&Object(x["e"])("Running cohort report to check consistency. This may take a while")}}});const qr=S()(Ur,[["render",Er]]);var zr=qr;function Gr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Yr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"PEPFAR Curr Ml Report",rows:[],columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Defaulted (new registration)"),rr["a"].thTxt("Defaulted (old registration)"),rr["a"].thTxt("Died"),rr["a"].thTxt("Stopped"),rr["a"].thTxt("Tranferred out"),rr["a"].thTxt("Unknown")]],cohort:{}}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Hr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getTxMlReport();case 7:return n.cohort=e.sent,e.next=10,n.setRows("F");case 10:return e.next=12,n.setRows("M");case 12:case"end":return e.stop()}}),e)})))()},drilldown:function(e){var t=this,n=["ARV#","DOB","Dispensed","ARVs"],a=function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.report.getTxMMDClientLevelData(e);case 2:if(r=n.sent,r){n.next=5;break}return n.abrupt("return",[]);case 5:return n.abrupt("return",t.report.remapTxClientLevelData(r).map((function(e){var n=e.drugs.map((function(e){return"\n                            <table style='width: 100%;'> \n                                <td style='width: 65%;'>".concat(e.name,"</td>\n                                <td style='width: 30%;'>(").concat(e.quantity,", ").concat(e.dose," a day)</td>\n                            </table>")}));return[e.id||"N/A",t.toDate(e.dob),t.toDate(e.dispenseDate),n.join("<p/>")]})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return e.length<=0?rr["a"].td(0):rr["a"].tdLink(e.length,(function(){return t.tableDrill({columns:n,onRows:a})}))},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(r in Mr){a=Mr[r];try{o=t.cohort[a][e],i=o.map((function(e){return t.drilldown(e)})),t.rows.push([rr["a"].td(a),rr["a"].td(e)].concat(Object(s["a"])(i)))}catch(c){t.rows.push([rr["a"].td(a),rr["a"].td(e),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)])}}case 1:case"end":return n.stop()}}),n)})))()}}});const Kr=S()(Yr,[["render",Gr]]);var Wr=Kr;function $r(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Jr=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"TX RTT Report",cohort:{},rows:[],columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Returned after 30+ days")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Hr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getTxRttReport();case 7:return n.cohort=e.sent,e.next=10,n.setRows("F");case 10:return e.next=12,n.setRows("M");case 12:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(r in Mr)a=Mr[r],a in t.cohort?(o=t.cohort[a][e],t.rows.push([rr["a"].td(a),rr["a"].td(e),t.drill(o)])):t.rows.push([rr["a"].td(a),rr["a"].td(e),rr["a"].td(0)]);case 1:case"end":return n.stop()}}),n)})))()}}});const Xr=S()(Jr,[["render",$r]]);var Qr=Xr;function Zr(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var ea=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Clinic Missed Appointments",totalClients:[],rows:[],columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Appointment"),rr["a"].thTxt("Days missed"),rr["a"].thTxt("Current outcome"),rr["a"].thTxt("Contact details")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=8,n.report.getMissedAppointments();case 8:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1);case 10:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdDate(e.appointment_date),rr["a"].td(e.days_missed),rr["a"].td(e.current_outcome),rr["a"].td("CELL: ".concat(e.cell_number," <br/>\n                        District: ").concat(e.district," <br/>\n                        Village: ").concat(e.village," <br/>\n                        TA: ").concat(e.ta,"\n                    "))])}));case 1:case"end":return n.stop()}}),n)})))()}}});const ta=S()(ea,[["render",Zr]]);var na=ta;function ra(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var aa=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Clinic Defaulters report",rows:[],columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Gender"),rr["a"].thTxt("birthdate"),rr["a"].thTxt("Date defaulted"),rr["a"].thTxt("Address")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new ur,n.report.setIsPepfar(!1),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=8,n.report.getDefaulters();case 8:r=e.sent,n.setRows(r),n.title="Clinic Defaulters report <b>(".concat(r.length," Defaulters)</b>");case 11:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdDate(e.defaulter_date),rr["a"].td((e.cell_number?"CELL: ".concat(e.cell_number," <br/>"):"")+(e.village?"VILLAGE: ".concat(e.village," <br/>"):"")+(e.district?"DISTRICT: ".concat(e.district," <br/>"):"")+(e.ta?"TA: ".concat(e.ta):""))])}));case 1:case"end":return n.stop()}}),n)})))()}}});const oa=S()(aa,[["render",ra]]);var ia=oa;function ca(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var sa=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Clinic Regimen Report",rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Curr.Reg"),rr["a"].thTxt("ARVs"),rr["a"].thTxt("Curr.reg dispensed")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new gr,n.report.setReportType("moh"),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=11,n.report.getRegimenReport();case 11:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1),n.isLoading=!1;case 14:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;Object.values(e).map((function(e){var n="",r=e.medication.map((function(e){return n=t.toDate(e.start_date),"".concat(e.medication," (").concat(e.quantity,")")}));t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td(e.current_regimen),rr["a"].td(r.join(", ")),rr["a"].tdDate(n)])}))}}});const ua=S()(sa,[["render",ca]]);var la=ua;function da(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var pa=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Clinic Regimen Switch Report",rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Patient type"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Prev.Reg"),rr["a"].thTxt("Curr.Reg"),rr["a"].thTxt("ARVs"),rr["a"].thTxt("Curr.reg dispensed date")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new gr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=10,n.report.getRegimenSwitchReport();case 10:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1),n.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))()},setRows:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Object.values(e).map((function(e){var t="",n=e.medication.map((function(e){return t=e.start_date,"".concat(e.medication," (").concat(e.quantity,")")}));return[rr["a"].td(e.arv_number),rr["a"].td(e.patient_type),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td(e.previous_regimen),rr["a"].td(e.current_regimen),rr["a"].td(n.join(", ")),rr["a"].tdDate(t)]}));case 1:case"end":return t.stop()}}),t)})))()}}});const ba=S()(pa,[["render",da]]);var fa=ba;function ma(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var ha=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Clinic Pregnant patients report",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("birthdate")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=10,n.report.getPregnantWomen();case 10:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1),n.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].tdDate(e.birthdate)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const ga=S()(ha,[["render",ma]]);var Oa=ga;function va(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,canExportPDf:!1,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var _a=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Clinic Clients due for VL <small>(clients with appointments in specified period)</small>",rows:[],columns:[]}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt["a"].isProp("use.filing.numbers=true");case 2:n=t.sent,e.columns.push([rr["a"].thTxt(n?"Filing #":"ARV#"),rr["a"].thTxt("App."),rr["a"].thTxt("ART started"),rr["a"].thTxt("Months on ART"),rr["a"].thTxt("Milestone"),rr["a"].thTxt("Ordered"),rr["a"].thTxt("Result"),rr["a"].thTxt("Released")]),e.fields=e.getDateDurationFields();case 5:case"end":return t.stop()}}),t)})))()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getClientsDueForVl();case 7:r=e.sent,n.setRows(r);case 9:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].tdLink(e.arv_number,(function(){return t.confirmPatient(e.patient_id)})),rr["a"].tdDate(e.appointment_date),rr["a"].tdDate(e.start_date),rr["a"].td(e.months_on_art),rr["a"].td(e.mile_stone),rr["a"].tdDate(e.last_result_order_date),rr["a"].td(e.last_result),rr["a"].tdDate(e.last_result_date)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const ja=S()(_a,[["render",va]]);var wa=ja;function ya(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var ka=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Clinic Retention report",totalClients:[],rows:[],reportReady:!1,cohort:{},isLoading:!1,columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Initiated one month"),rr["a"].thTxt("Completed one month"),rr["a"].thTxt("Initiated Three months"),rr["a"].thTxt("Completed Three months"),rr["a"].thTxt("Initiated Six months"),rr["a"].thTxt("Completed Six months")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=9,n.report.getClientRentention();case 9:n.cohort=e.sent,n.setRows("F"),n.setRows("M"),n.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))()},getValue:function(e,t,n,r){try{var a=this.cohort[e][r].filter((function(e){return e.gender===t&&e.age_group===n})).map((function(e){return e.patient_id}));return this.drill(a)}catch(o){return console.warn(o),0}},setRows:function(e){var t=[].concat(Object(s["a"])(Vr["b"]),["Unknown"]);for(var n in t){var r=t[n],a=[rr["a"].td(r),rr["a"].td(e)];if(Object(v["isEmpty"])(this.cohort))this.rows.push([].concat(a,[rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)]));else{for(var o in this.cohort)a.push(this.getValue(parseInt(o),e,r,"all")),a.push(this.getValue(parseInt(o),e,r,"retained"));this.rows.push(a)}}}}});const xa=S()(ka,[["render",ya]]);var Na=xa;function Va(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var Ca=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Clinic External consultation clients",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("NPID"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB"),rr["a"].thTxt("Date set")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.t0=n,e.next=10,n.report.getExternalConsultationClients();case 10:e.t1=e.sent,e.t0.setRows.call(e.t0,e.t1),n.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.npid),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdDate(e.date_set)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const Da=S()(Ca,[["render",Va]]);var Ta=Da;function Ra(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportPDf:!1,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Ia=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Birthdate"),rr["a"].thTxt("Specimen"),rr["a"].thTxt("Ordered"),rr["a"].thTxt("Result"),rr["a"].thTxt("Released")]]}},created:function(){this.fields=[].concat(Object(s["a"])(this.getDateDurationFields()),[{id:"result_type",helpText:"Select result type",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Viraemia 1000+",value:"viraemia-1000"},{label:"Suppressed",value:"suppressed"},{label:"Low level viraemia",value:"low-level-viraemia"}]}}])},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.result_type,n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),n.title="".concat(a.label," Report <small><b>(between the period of (").concat(n.period,")</b></small>"),r.t0=n,r.next=10,n.report.getViralLoadResults(a.value.toLowerCase());case 10:r.t1=r.sent,r.t0.setRows.call(r.t0,r.t1);case 12:case"end":return r.stop()}}),r)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td(e.specimen),rr["a"].tdDate(e.order_date),rr["a"].td(e.result),rr["a"].tdDate(e.result)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const Sa=S()(Ia,[["render",Ra]]);var Pa=Sa;function Aa(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var Ba=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"",totalClients:[],rows:[],outcome:"",isLoading:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Birthdate"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Outcome date")]]}},created:function(){this.fields=[].concat(Object(s["a"])(this.getDateDurationFields()),[{id:"outcome",helpText:"Select outcome",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Transfer Out",value:"Transfer Out"},{label:"Died",value:"Died"},{label:"Stopped",value:"Stopped"}]}}])},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.outcome,n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new Vr["c"],n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.outcome=a.value.toString(),n.title="".concat(n.outcome," Report"),n.period=n.report.getDateIntervalPeriod(),r.t0=n,r.next=13,n.report.getOtherOutcome(n.outcome);case 13:r.t1=r.sent,r.t0.setRows.call(r.t0,r.t1),n.isLoading=!1;case 16:case"end":return r.stop()}}),r)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.outcome.match(/trans/i),r&&t.columns[0].push(rr["a"].thTxt("TO Location")),t.columns[0].push(rr["a"].thTxt("Action")),e.forEach((function(e){var n=[];n.push(rr["a"].td(e.identifier)),n.push(rr["a"].td(e.given_name)),n.push(rr["a"].td(e.family_name)),n.push(rr["a"].tdDate(e.birthdate)),n.push(e.gender),n.push(rr["a"].tdDate(e.start_date)),r&&n.push(rr["a"].td(e.transferred_out_to)),n.push(rr["a"].tdBtn("View",(function(){t.$router.push({path:"/patient/dashboard/".concat(e.patient_id)})}))),t.rows.push(n)}));case 4:case"end":return n.stop()}}),n)})))()}}});const Ea=S()(Ba,[["render",Aa]]);var Fa=Ea;function La(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var Ma=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Regimen Formulation: Patient level report",totalClients:[],rows:[],isLoading:!1,reportReady:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Gender"),rr["a"].thTxt("DOB")]]}},created:function(){this.fields=[].concat(Object(s["a"])(this.getDateDurationFields()),[{id:"regimen",helpText:"Select regimen",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return fr.map((function(e){return{label:e,value:e}}))}},{id:"formulation",helpText:"Select formulation",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return hr.map((function(e){return{label:e,value:e}}))}}])},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.regimen,o=e.formulation,n.reportReady=!0,n.isLoading=!0,n.rows=[],n.report=new gr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),r.t0=n,r.next=11,n.report.getRegimenFormulationReport(a.value,o.value);case 11:r.t1=r.sent,r.t0.setRows.call(r.t0,r.t1),n.isLoading=!1;case 14:case"end":return r.stop()}}),r)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate)])}));case 1:case"end":return n.stop()}}),n)})))()}}});const Ha=S()(Ma,[["render",La]]);var Ua=Ha;function qa(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!0,canExportPDf:!0,reportReady:e.reportReady,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","onReportConfiguration"])}var za=n("1497"),Ga=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"]},data:function(){return{title:"Lab test result(s)",rows:[],cohort:[],reportType:"",reportReady:!1,columns:[],patientLevelColumns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Birthdate"),rr["a"].thTxt("Ordered"),rr["a"].thTxt("Specimen"),rr["a"].thTxt("Test"),rr["a"].thTxt("Result"),rr["a"].thTxt("Released")]],disaggregatedColumns:[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender")]}},created:function(){this.report=new za["a"],this.fields=this.getFormFields()},methods:{onPeriod:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.type,a=e.tests,t.reportReady=!0,t.rows=[],t.period=t.report.getDateIntervalPeriod(),t.reportType=r.value,"disaggregated"===t.reportType?t.setDisaggregatedRows(a):"patient_level"===t.reportType&&t.setPatientLevelRows(a);case 6:case"end":return n.stop()}}),n)})))()},getFormFields:function(){var e=this;return[].concat(Object(s["a"])(this.getDateDurationFields()),[{id:"tests",helpText:"Available test(s) results",type:u["b"].TT_MULTIPLE_SELECT,options:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,r,a){var o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.report.setStartDate(a.start_date),e.report.setEndDate(a.end_date),t.next=4,e.report.getLabResultsReport();case 4:return o=t.sent,i=e.buildAvailableTests(o),t.abrupt("return",e.buildAvailableTestOptions(i));case 7:case"end":return t.stop()}}),t)})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{id:"type",helpText:"Select report type",type:u["b"].TT_SELECT,options:function(){return[{label:"Disaggregated",value:"disaggregated"},{label:"Patient level",value:"patient_level"}]}}])},buildAvailableTests:function(e){var t=this,n={};return e.forEach((function(e){e.measures.forEach((function(r){r.name in n||(n[r.name]=[]),n[r.name].push({id:e.patient_id,arv:e.arv_number,gender:e.gender,ageGroup:e.age_group,birthdate:t.toDate(e.birthdate),ordered:t.toDate(e.order_date),specimen:e.test,test:r.name,result:"".concat(r.modifier," ").concat(r.value),released:t.toDate(e.result_date)})}))})),n},buildAvailableTestOptions:function(e){var t=[];for(var n in e){var r=e[n];t.push({label:n,value:r.length,other:r})}return t},setDisaggregatedRows:function(e){var t=this,n=[],r=[];this.columns=[this.disaggregatedColumns.concat(e.map((function(e){return rr["a"].thTxt(e.label)})))];var a=function(a){var o=Vr["a"][a],i=[rr["a"].td(o),rr["a"].td("M")],c=[rr["a"].td(o),rr["a"].td("F")];e.forEach((function(e){var n=e.other,r=function(e){return n.filter((function(t){return t.gender===e&&t.ageGroup===o})).map((function(e){return e.id}))};i.push(t.drill(r("M"))),c.push(t.drill(r("F")))})),n.push(i),r.push(c),t.rows=[].concat(r,n)};for(var o in Vr["a"])a(o)},setPatientLevelRows:function(e){var t=this;this.columns=[this.patientLevelColumns],e.forEach((function(e){var n=e.other;n.forEach((function(e){t.rows.push([rr["a"].td(e.arv),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdDate(e.ordered),rr["a"].td(e.specimen),rr["a"].td(e.test),rr["a"].td(e.result),rr["a"].tdDate(e.released)])}))}))}}});const Ya=S()(Ga,[["render",qa]]);var Ka=Ya;function Wa(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,rows:e.rows,columns:e.columns},null,8,["title","rows","columns"])]})),_:1})}var $a=n("d6aa"),Ja=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:$a["a"],IonPage:Ve["A"]},data:function(){return{title:"Active clients with adverse outcomes",rows:[],columns:[[rr["a"].thTxt("Filing#"),rr["a"].thTxt("Outcome"),rr["a"].thTxt("Outcome date")]]}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new Vr["c"],t.next=3,n.getArchivingCandidates();case 3:r=t.sent,r.forEach((function(t){e.rows.push([rr["a"].td(t.filing_number),rr["a"].td(t.outcome),rr["a"].tdDate(t.outcome_date)])}));case 5:case"end":return t.stop()}}),t)})))()}});const Xa=S()(Ja,[["render",Wa]]);var Qa=Xa;function Za(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,headerInfoList:e.headerList,reportPrefix:"MoH",enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}var eo=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{reportReady:!1,rows:[],title:"Disaggregated report",columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("Tx new (new on ART)"),rr["a"].thNum("Tx curr (receiving ART)"),rr["a"].thNum("TX curr (received IPT)"),rr["a"].thNum("TX curr (screened for TB)"),rr["a"].thNum("0A"),rr["a"].thNum("2A"),rr["a"].thNum("4A"),rr["a"].thNum("5A"),rr["a"].thNum("6A"),rr["a"].thNum("7A"),rr["a"].thNum("8A"),rr["a"].thNum("9A"),rr["a"].thNum("10A"),rr["a"].thNum("11A"),rr["a"].thNum("12A"),rr["a"].thNum("13A"),rr["a"].thNum("14A"),rr["a"].thNum("15A"),rr["a"].thNum("16A"),rr["a"].thNum("17A"),rr["a"].thNum("0P"),rr["a"].thNum("2P"),rr["a"].thNum("4P"),rr["a"].thNum("9P"),rr["a"].thNum("11P"),rr["a"].thNum("14P"),rr["a"].thNum("14PP"),rr["a"].thNum("15P"),rr["a"].thNum("15PP"),rr["a"].thNum("16P"),rr["a"].thNum("17P"),rr["a"].thNum("Unknown"),rr["a"].thNum("Total (regimen)")]],mohCohort:{},ageGroupCohort:{},totalNewF:[],totalCurF:[],totalIptF:[],totalTbF:[],totalNewM:[],totalCurM:[],totalIptM:[],totalTbM:[],pregnantF:[],headerList:[],canValidate:!1}},created:function(){this.fields=this.getDateDurationFields(!0,!1)},watch:{canValidate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.validateReport();case 3:case"end":return n.stop()}}),n)})))()}},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.canValidate=!1,n.rows=[],n.report=new tr,n.mohCohort=new ar,n.report.setOutcomeTable(Jn.PATIENT_OUTCOME_TEMP),e.quarter?(n.mohCohort.setQuarter(e.quarter.label),n.mohCohort.setStartDate(e.quarter.other.start),n.mohCohort.setEndDate(e.quarter.other.end),n.report.setQuarter(e.quarter.label),n.report.setStartDate(e.quarter.other.start),n.report.setEndDate(e.quarter.other.end),n.period=e.quarter.label):(n.mohCohort.setStartDate(t.start_date),n.mohCohort.setEndDate(t.end_date),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod()),r.next=8,n.report.init();case 8:if(a=r.sent,a){r.next=11;break}return r.abrupt("return",Object(x["e"])("Unable to initialise report"));case 11:return r.next=13,n.setTableRows();case 13:n.setHeaderInfoList([]),n.canValidate=!0;case 15:case"end":return r.stop()}}),r)})))()},setTableRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setFemaleRows();case 2:return t.next=4,e.setMaleRows();case 4:return t.next=6,e.setFemalePregnantRows();case 6:return t.next=8,e.setFemaleBreastFeedingRows();case 8:return t.next=10,e.setTotalMalesRow();case 10:e.setFemaleNotPregnantRows();case 11:case"end":return t.stop()}}),t)})))()},appendRegimensToRow:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:n.t0=t.report.getGender(),n.next="breastfeeding"===n.t0?3:"pregnant"===n.t0?6:9;break;case 3:return t.report.setAgeGroup("All"),t.report.setGender("Fbf"),n.abrupt("break",9);case 6:return t.report.setAgeGroup("All"),t.report.setGender("FP"),n.abrupt("break",9);case 9:return n.next=11,t.report.getRegimenDistribution();case 11:return r=n.sent,a=[].concat(Object(s["a"])(fr),["N/A"]),o=e,i=[],a.forEach((function(e){r[e]?(i=i.concat(r[e]),o.push(t.drill(r[e]))):o.push(rr["a"].td(0))})),n.abrupt("return",[].concat(Object(s["a"])(o),[t.drill(i)]));case 17:case"end":return n.stop()}}),n)})))()},getValue:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=[],r.t0=e,r.next="tx_given_ipt"===r.t0?4:"tx_screened_for_tb"===r.t0?8:12;break;case 4:return r.next=6,a.report.getTxIpt();case 6:return o=r.sent,r.abrupt("break",14);case 8:return r.next=10,a.report.getTxCurrTB();case 10:return o=r.sent,r.abrupt("break",14);case 12:return o=t in n?n[t][e]:[],r.abrupt("break",14);case 14:return r.abrupt("return",o);case 15:case"end":return r.stop()}}),r)})))()},setTotalMalesRow:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.report.setGender("Male"),e.report.setAgeGroup("All"),t.next=4,e.appendRegimensToRow([rr["a"].td("All"),rr["a"].td("Male"),e.drill(e.totalNewM),e.drill(e.totalCurM),e.drill(e.totalIptM),e.drill(e.totalTbM)]);case 4:n=t.sent,e.rows.push(n);case 6:case"end":return t.stop()}}),t)})))()},setFemaleNotPregnantRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[e.totalNewF,e.totalCurF,e.totalIptF,e.totalTbF].map((function(t){return e.drill(t.filter((function(t){return!e.pregnantF.includes(t)})))})),e.report.setGender("FNP"),e.report.setAgeGroup("All"),t.next=5,e.appendRegimensToRow([rr["a"].td("All"),rr["a"].td("FNP")].concat(Object(s["a"])(n)));case 5:r=t.sent,e.rows.push(r);case 7:case"end":return t.stop()}}),t)})))()},setFemaleRows:function(){var e=this;return this.report.setGender("female"),this.setRows("F",Zn,(function(t,n,r,a,o){return e.totalNewF=Object(v["uniq"])(e.totalNewF.concat(n)),e.totalCurF=Object(v["uniq"])(e.totalCurF.concat(r)),e.totalIptF=Object(v["uniq"])(e.totalIptF.concat(a)),e.totalTbF=Object(v["uniq"])(e.totalTbF.concat(o)),[rr["a"].td(t),rr["a"].td("Female"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setMaleRows:function(){var e=this;return this.report.setGender("male"),this.setRows("M",Zn,(function(t,n,r,a,o){return e.totalNewM=Object(v["uniq"])(e.totalNewM.concat(n)),e.totalCurM=Object(v["uniq"])(e.totalCurM.concat(r)),e.totalIptM=Object(v["uniq"])(e.totalIptM.concat(a)),e.totalTbM=Object(v["uniq"])(e.totalTbM.concat(o)),[rr["a"].td(t),rr["a"].td("Male"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setFemalePregnantRows:function(){var e=this;return this.report.setGender("pregnant"),this.setRows("F",["Pregnant"],(function(t,n,r,a,o){return e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(n)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(r)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(a)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(o)),[rr["a"].td("All"),rr["a"].td("FP"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setFemaleBreastFeedingRows:function(){var e=this;return this.report.setGender("breastfeeding"),this.setRows("F",["Breastfeeding"],(function(t,n,r,a,o){return e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(n)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(r)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(a)),e.pregnantF=Object(v["uniq"])(e.pregnantF.concat(o)),[rr["a"].td("All"),rr["a"].td("FBf"),e.drill(n),e.drill(r),e.drill(a),e.drill(o)]}))},setRows:function(e,t,n){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var i,c;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=regeneratorRuntime.mark((function o(i){var c,s,u,l,d,p,b,f;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(c=[],s=[],u=[],l=[],d=t[i],a.report.setAgeGroup(d),d in a.ageGroupCohort){o.next=11;break}return o.next=9,a.report.getCohort();case 9:p=o.sent,a.ageGroupCohort[d]=Object(v["isEmpty"])(p)?{}:p[d];case 11:if(Object(v["isEmpty"])(a.ageGroupCohort[d])){o.next=25;break}return b=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",a.getValue(n,e,a.ageGroupCohort[d]));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o.next=15,b("tx_new");case 15:return c=o.sent,o.next=18,b("tx_curr");case 18:return s=o.sent,o.next=21,b("tx_given_ipt");case 21:return u=o.sent,o.next=24,b("tx_screened_for_tb");case 24:l=o.sent;case 25:return o.next=27,a.appendRegimensToRow(n(d,c,s,u,l));case 27:f=o.sent,a.rows.push(f);case 29:case"end":return o.stop()}}),o)})),o.t0=regeneratorRuntime.keys(t);case 2:if((o.t1=o.t0()).done){o.next=7;break}return c=o.t1.value,o.delegateYield(i(c),"t2",5);case 5:o.next=2;break;case 7:case"end":return o.stop()}}),o)})))()},setHeaderInfoList:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'<span style="color: orange;font-weight:bold">Validating report....please wait...</span>';this.headerList=[{label:"Total Alive and on ART",value:e.length,other:{onclick:function(){return t.runTableDrill(e)}}},{label:"Validation status",value:n}]},validateReport:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(v["uniq"])([].concat(Object(s["a"])(e.totalNewF),Object(s["a"])(e.totalCurF),Object(s["a"])(e.totalIptF),Object(s["a"])(e.totalTbF),Object(s["a"])(e.totalNewM),Object(s["a"])(e.totalCurM),Object(s["a"])(e.totalIptM),Object(s["a"])(e.totalTbM),Object(s["a"])(e.pregnantF))),r={total_alive_and_on_art:{param:n.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        Total alive of <b>".concat(t,"</b>\n                        Does not match total alive of <b>").concat(e,"</b> on MOH report\n                    ")}}},a=e.mohCohort.validateIndicators(r,(function(t){Object(v["isEmpty"])(t)?e.setHeaderInfoList(n,"<span style='color:green'>Report is consistent</span>"):e.setHeaderInfoList(n,"<span style='color:red'>".concat(t.join(","),"</span>"))})),-1===a&&Object(x["e"])("Running cohort report to check consistency. This may take a while...");case 4:case"end":return t.stop()}}),t)})))()}}});const to=S()(eo,[["render",Za]]);var no,ro=to;function ao(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}(function(e){e["GENERAL"]="General",e["CHILDREN"]="Children",e["WOMEN"]="Women"})(no||(no={}));var oo=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){var e;return Object(d["a"])(this,n),e=t.call(this),e.quarter="",e.regenerate=!0,e.ageGroup=no.GENERAL,e}return Object(p["a"])(n,[{key:"getAgeGroup",value:function(){return this.ageGroup}},{key:"setQuarter",value:function(e){this.quarter=e}},{key:"setAgeGroup",value:function(e){this.ageGroup=e}},{key:"getSurvivalAnalysis",value:function(){return this.getReport("cohort_survival_analysis",{quarter:this.quarter,regenerate:this.regenerate,date:this.date,age_group:this.ageGroup,program_id:this.programID})}}]),n}(Qn["a"]),io=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Survival analysis report",totalClients:[],rows:[],columns:[[rr["a"].thTxt("Reg cohort"),rr["a"].thTxt("Interval (months)"),rr["a"].thTxt("Sub group"),rr["a"].thTxt("Total Reg (database)"),rr["a"].thTxt("Total Reg (Confirmed)",{style:{borderRight:"5px solid black !important"}}),rr["a"].thTxt("Alive"),rr["a"].thTxt("Died"),rr["a"].thTxt("Defaulted"),rr["a"].thTxt("Stopped"),rr["a"].thTxt("TO"),rr["a"].thTxt("Unknown")]]}},created:function(){this.fields=[].concat(Object(s["a"])(this.getDateDurationFields(!0)),[{id:"group",helpText:"Select sub-group",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"General",value:no.GENERAL},{label:"Children",value:no.CHILDREN},{label:"Option B+",value:no.WOMEN}]}}])},methods:{onPeriod:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.quarter,a=e.group,t.rows=[],t.period=r.label,t.report=new oo,t.report.setQuarter(r.label),t.report.setAgeGroup(a.value),n.t0=t,n.next=9,t.report.getSurvivalAnalysis();case 9:n.t1=n.sent,n.t0.setRows.call(n.t0,n.t1);case 11:case"end":return n.stop()}}),n)})))()},setRows:function(e){for(var t in e){var n=e[t],r=0,a=0,o={"On antiretrovirals":0,Defaulted:0,"Patient died":0,"Patient transferred out":0,"Treatment stopped":0,unknown:0};if(!Object(v["isEmpty"])(n)){for(var i in n){var c=n[i];for(var s in c){r=parseInt(s);var u=c[s];a+=u,i in o?o[i]=u:o["unknown"]=u}}this.rows.push([rr["a"].td(t),rr["a"].td(r),rr["a"].td(this.report.getAgeGroup()),rr["a"].td(a),rr["a"].td(0,{style:{"border-right":"5px solid black"}}),rr["a"].td(o["On antiretrovirals"]),rr["a"].td(o["Patient died"]),rr["a"].td(o["Defaulted"]),rr["a"].td(o["Treatment stopped"]),rr["a"].td(o["Patient transferred out"]),rr["a"].td(o["unknown"])])}}}}});const co=S()(io,[["render",ao]]);var so=co;function uo(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",headerInfoList:e.headerList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}var lo=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"TPT new initiations report",rows:[],cohort:{},canValidate:!1,mohCohort:{},headerList:[],columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("3HP"),rr["a"].thNum("6H")]],totalIpt:[],total3hp:[]}},watch:{canValidate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.validateReport();case 3:case"end":return n.stop()}}),n)})))()}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.canValidate=!1,n.rows=[],n.report=new gr,n.mohCohort=new ar,n.mohCohort.setStartDate(t.start_date),n.mohCohort.setEndDate(t.end_date),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=11,n.report.getTptNewInitiations();case 11:n.cohort=e.sent,n.setRows("F"),n.setRows("M"),n.setHeaderInfoList(),n.canValidate=!0;case 16:case"end":return e.stop()}}),e)})))()},drilldown:function(e){var t=this,n=["ARV #","DOB","Dispensed date"],r=function(){return e.map((function(e){return[e.arv_number,t.toDate(e.birthdate),t.toDate(e.prescription_date)]}))};return e.length<=0?rr["a"].td(0):rr["a"].tdLink(e.length,(function(){return t.tableDrill({columns:n,onRows:r})}))},setRows:function(e){for(var t in Vr["a"]){var n=Vr["a"][t];if(!Object(v["isEmpty"])(this.cohort)&&n in this.cohort){var r=this.cohort[n];this.total3hp=Object(v["uniq"])([].concat(Object(s["a"])(this.total3hp),Object(s["a"])(r["3HP"][e]))),this.totalIpt=Object(v["uniq"])([].concat(Object(s["a"])(this.totalIpt),Object(s["a"])(r["6H"][e]))),this.rows.push([rr["a"].td(n),rr["a"].td(e),this.drilldown(r["3HP"][e]),this.drilldown(r["6H"][e])])}else this.rows.push([rr["a"].td(n),rr["a"].td(e),rr["a"].td(0),rr["a"].td(0)])}},setHeaderInfoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'<span style="color: orange;font-weight:bold">Validating report....please wait...</span>';this.headerList=[{label:"Validation status",value:e}]},validateReport:function(){var e=this,t={newly_initiated_on_3hp:{param:this.total3hp.length,check:function(e,t){return e!=t},error:function(e,t){return'\n                        <b style="color:red;">\n                            Total newly initiated on 3HP('.concat(t,") is not matching newly \n                            initiated on 3HP in Cohort report (").concat(e,").\n                        </b>\n                    ")}},newly_initiated_on_ipt:{param:this.totalIpt.length,check:function(e,t){return e!=t},error:function(e,t){return'\n                        <b style="color:red;">\n                            Total newly initiated on IPT ('.concat(t,") is not matching \n                            newly initiated on IPT in Cohort report(").concat(e,").\n                        </b>\n                    ")}}},n=this.mohCohort.validateIndicators(t,(function(t){Object(v["isEmpty"])(t)?e.setHeaderInfoList("<span style='color:green'>Report is consistent</span>"):e.setHeaderInfoList("<span style='color:red'>".concat(t.join(","),"</span>"))}));-1===n&&Object(x["e"])("Running cohort report to check consistency. This may take a while...")}}});const po=S()(lo,[["render",uo]]);var bo=po;function fo(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",headerInfoList:e.headerInfoList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","headerInfoList","onReportConfiguration"])]})),_:1})}var mo=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Moh TX CURR MMD Report",cohort:{},rows:[],headerInfoList:[],totals:new Set,mohCohort:{},columns:[[rr["a"].thTxt("Age group"),rr["a"].thTxt("Gender"),rr["a"].thNum("# of clients on < 3 months of ARVs"),rr["a"].thNum("# of clients on 3 - 5 months of ARVs"),rr["a"].thNum("# of clients on  >= 6 months of ARVs")]],canValidate:!1}},created:function(){this.fields=this.getDateDurationFields()},watch:{canValidate:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.validateReport();case 3:case"end":return n.stop()}}),n)})))()}},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.canValidate=!1,n.rows=[],n.report=new Hr,n.mohCohort=new ar,n.mohCohort.setStartDate(t.start_date),n.mohCohort.setEndDate(t.end_date),n.report.setOrg("moh"),n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=12,n.setRows();case 12:n.setHeaderInfoList(),n.canValidate=!0;case 14:case"end":return e.stop()}}),e)})))()},setHeaderInfoList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'<span style="color: orange;font-weight:bold">Validating report....please wait...</span>';this.headerInfoList=[{label:"Total clients",value:this.totals.size,other:{onclick:function(){return e.runTableDrill(Array.from(e.totals))}}},{label:"Validation status",value:t}]},getValues:function(e){var t=[],n=[],r=[];for(var a in e){var o=e[a],i=o.prescribed_days;this.totals.add(a),i<90&&t.push(a),i>=90&&i<=150&&n.push(a),i>150&&r.push(a)}return[this.drill(t),this.drill(n),this.drill(r)]},setRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i,c,u,l,d,p,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0,r=0,a=[],o=[],t.t0=regeneratorRuntime.keys(Lr);case 5:if((t.t1=t.t0()).done){t.next=16;break}return i=t.t1.value,c=Lr[i],"<1 year"===c?(n=0,r=0):"50 plus years"===c?(n=50,r=120):(u=c.split("-"),l=Object(at["a"])(u,2),d=l[0],p=l[1],n=parseInt(d),r=parseInt(p)),t.next=11,e.report.getTxCurrMMDReport(n,r);case 11:b=t.sent,b?(o.push([rr["a"].td(c),rr["a"].td("Female")].concat(Object(s["a"])(e.getValues(b["Female"])))),a.push([rr["a"].td(c),rr["a"].td("Male")].concat(Object(s["a"])(e.getValues(b["Male"]))))):(o.push([rr["a"].td(c),rr["a"].td("Female"),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)]),a.push([rr["a"].td(c),rr["a"].td("Male"),rr["a"].td(0),rr["a"].td(0),rr["a"].td(0)])),e.rows=[].concat(o,a),t.next=5;break;case 16:case"end":return t.stop()}}),t)})))()},validateReport:function(){var e=this,t={total_alive_and_on_art:{param:this.totals.size,check:function(e,t){return e!=t},error:function(e,t){return"\n                        <b>MoH cohort Alive and on ART clients (".concat(e,") is not\n                        not matching with total TX MMD clients (").concat(t,").</b>\n                    ")}}},n=this.mohCohort.validateIndicators(t,(function(t){Object(v["isEmpty"])(t)?e.setHeaderInfoList("<span style='color:green'>Report is consistent</span>"):e.setHeaderInfoList("<span style='color:red'>".concat(t.join(","),"</span>"))}));-1===n&&Object(x["e"])("Running cohort report to check consistency. This may take a while")}}});const ho=S()(mo,[["render",fo]]);var go=ho;function Oo(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var vo=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{rows:[],title:"Regimen distribution (Weight)",columns:[[rr["a"].thTxt("Weight band"),rr["a"].thTxt("Gender"),rr["a"].thNum("0A"),rr["a"].thNum("2A"),rr["a"].thNum("4A"),rr["a"].thNum("5A"),rr["a"].thNum("6A"),rr["a"].thNum("7A"),rr["a"].thNum("8A"),rr["a"].thNum("9A"),rr["a"].thNum("10A"),rr["a"].thNum("11A"),rr["a"].thNum("12A"),rr["a"].thNum("13A"),rr["a"].thNum("14A"),rr["a"].thNum("15A"),rr["a"].thNum("16A"),rr["a"].thNum("17A"),rr["a"].thNum("0P"),rr["a"].thNum("2P"),rr["a"].thNum("4P"),rr["a"].thNum("9P"),rr["a"].thNum("11P"),rr["a"].thNum("14P"),rr["a"].thNum("14PP"),rr["a"].thNum("15P"),rr["a"].thNum("15PP"),rr["a"].thNum("16P"),rr["a"].thNum("17P"),rr["a"].thNum("Unknown"),rr["a"].thNum("Total (regimen)")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.rows=[],n.report=new gr,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),e.next=7,n.report.getRegimensByWeight();case 7:return r=e.sent,e.next=10,n.setRows(r);case 10:case"end":return e.stop()}}),e)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=function(e){return[].concat(Object(s["a"])(fr),["N/A"]).map((function(t){var n=e.filter((function(e){return!!e[t]})).map((function(e){return Object.values(e)[0]}));return rr["a"].td(Object(v["isEmpty"])(n)?0:n[0])}))},a=function(e){return e.reduce((function(e,t){return e+t.td}),0)},mr.forEach((function(n){var o=e.filter((function(e){return e.weight===n}));o.forEach((function(e){var o=r(e.males),i=r(e.females),c=[rr["a"].td(n),rr["a"].td("Male")].concat(Object(s["a"])(o),[rr["a"].td(a(o))]),u=[rr["a"].td(n),rr["a"].td("Female")].concat(Object(s["a"])(i),[rr["a"].td(a(i))]);if(t.rows.push(c),t.rows.push(u),!Object(v["isEmpty"])(e.unknown_gender)){var l=r(e.unknown_gender),d=a(l);t.rows.push([rr["a"].td(n),rr["a"].td("Unknown Gender")].concat(Object(s["a"])(l),[rr["a"].td(d)]))}}))}));case 3:case"end":return n.stop()}}),n)})))()}}});const _o=S()(vo,[["render",Oo]]);var jo=_o,wo=Object(a["withScopeId"])("data-v-6483a536");Object(a["pushScopeId"])("data-v-6483a536");var yo={class:"report-content",ref:"cohort"};Object(a["popScopeId"])();var ko=wo((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-loading"),s=Object(a["resolveComponent"])("his-standard-form"),u=Object(a["resolveComponent"])("cohort-v"),l=Object(a["resolveComponent"])("cohort-h"),d=Object(a["resolveComponent"])("cohort-ft"),p=Object(a["resolveComponent"])("ion-content"),b=Object(a["resolveComponent"])("his-footer"),f=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(c,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),e.reportReady?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:0,onOnFinish:e.onPeriod,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"])),e.reportReady?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:1},{default:wo((function(){return[Object(a["createVNode"])(p,null,{default:wo((function(){return[Object(a["createVNode"])("div",yo,[Object(a["createVNode"])(u,{key:e.componentKey,dataparams:e.vCohort,ref:"validation"},null,8,["dataparams"]),Object(a["createVNode"])(l,{key:e.componentKey,reportparams:e.period,ref:"header",clinicName:e.clinicName},null,8,["reportparams","clinicName"]),Object(a["createVNode"])(d,{key:e.componentKey,onDrillDown:e.onDrillDown,params:e.cohort,reportid:e.reportID,quarter:e.period,ref:"rep"},null,8,["onDrillDown","params","reportid","quarter"])],512)]})),_:1}),Object(a["createVNode"])(b,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(a["createCommentVNode"])("",!0)],64)})),xo=n("0f25"),No=Object(a["withScopeId"])("data-v-62a63e5f");Object(a["pushScopeId"])("data-v-62a63e5f");var Vo=Object(a["createVNode"])("tr",{id:"version-row"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"4",id:"version"},"Version 26")],-1),Co=Object(a["createVNode"])("td",{class:"numbers"},"1.",-1),Do=Object(a["createVNode"])("td",{class:"row-title",style:{"border-right-style":"solid","border-bottom":"0px !important","font-weight":"bold"}},"Clinic name",-1),To={class:"row-title",colspan:"3",style:{"border-bottom-style":"solid"}},Ro=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{class:"numbers"},"2."),Object(a["createVNode"])("td",{class:"row-title",style:{border:"0px !important"}},"Supervisors"),Object(a["createVNode"])("td",{class:"row-name",style:{"font-weight":"bold"}},"Name"),Object(a["createVNode"])("td",{colspan:"2",class:"signatures",style:{"font-weight":"bold"}},"Signature")],-1),Io={class:"numbers"},So=Object(a["createVNode"])("td",{class:"row-title no-borders"},"",-1),Po=Object(a["createVNode"])("td",{class:"row-name name-left"},"",-1),Ao=Object(a["createVNode"])("td",{colspan:"2",class:"signatures"},"",-1),Bo=Object(a["createVNode"])("td",{class:"numbers"},"10.",-1),Eo=Object(a["createVNode"])("td",{class:"row-title",style:{"border-bottom-style":"solid","border-top-style":"none"}},"Quarter evaluated",-1),Fo={class:"row-name name-left",style:{"border-bottom-style":"solid"}},Lo=Object(a["createTextVNode"])("Year:"),Mo={colspan:"2",class:"signatures",style:{"border-bottom-style":"solid"}},Ho=Object(a["createTextVNode"])("Quarter:");Object(a["popScopeId"])();var Uo=No((function(e,t,n,r,o,i){return Object(a["openBlock"])(),Object(a["createBlock"])("table",null,[Vo,Object(a["createVNode"])("tr",null,[Co,Do,Object(a["createVNode"])("td",To,Object(a["toDisplayString"])(n.clinicName),1)]),Ro,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.items,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e},[Object(a["createVNode"])("td",Io,Object(a["toDisplayString"])(e),1),So,Po,Ao])})),128)),Object(a["createVNode"])("tr",null,[Bo,Eo,Object(a["createVNode"])("td",Fo,[Lo,Object(a["createVNode"])("b",null,Object(a["toDisplayString"])(e.quarterYr),1)]),Object(a["createVNode"])("td",Mo,[Ho,Object(a["createVNode"])("b",null,Object(a["toDisplayString"])(e.quarterStr),1)])])])})),qo={props:{clinicName:{type:String,default:""},reportparams:{type:Object,required:!0}},data:function(){return{items:["3.","4.","5.","6.","7.","8.","9."],quarterStr:null,quarterYr:null}},methods:{renderQuarter:function(){if(this.reportparams){var e=this.reportparams;this.quarterStr=e.split(" ")[0],this.quarterYr=e.split(" ")[1]}}},watch:{reportparams:{immediate:!0,handler:function(){this.renderQuarter()}}}};n("e948");const zo=S()(qo,[["render",Uo],["__scopeId","data-v-62a63e5f"]]);var Go=zo,Yo=Object(a["withScopeId"])("data-v-5801b4ad");Object(a["pushScopeId"])("data-v-5801b4ad");var Ko={id:"consistency_check"};Object(a["popScopeId"])();var Wo=Yo((function(e,t,n,r,o,i){return Object(a["openBlock"])(),Object(a["createBlock"])("div",Ko,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(this.report_consistency_string,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",{key:t},Object(a["toDisplayString"])(e),1)})),128))])})),$o={data:function(){return{re_initiated_on_art:0,cum_re_initiated_on_art:0,newly_registered_quarterly:0,newly_registered_cum:0,quarterly_all_males:0,cummulative_all_males:0,pregnant_females_all_ages:0,cum_pregnant_females_all_ages:0,non_pregnant_females:0,cum_non_pregnant_females:0,children_below_24_months_at_art_initiation:0,cum_children_below_24_months_at_art_initiation:0,confirmed_hiv_infection_in_infants_pcr:0,cum_confirmed_hiv_infection_in_infants_pcr:0,quarterly_children_12_59_months:0,cum_children_12_59_months:0,breastfeeding_mothers:0,cum_breastfeeding_mothers:0,who_stage_two:0,cum_who_stage_two:0,asymptomatic:0,cum_asymptomatic:0,who_stage_three:0,cum_who_stage_three:0,who_stage_four:0,cum_who_stage_four:0,unknown_other_reason_outside_guidelines:0,cum_unknown_other_reason_outside_guidelines:0,no_tb:0,cum_no_tb:0,tb_within_the_last_two_years:0,cum_tb_within_the_last_two_years:0,current_episode_of_tb:0,cum_current_episode_of_tb:0,kaposis_sarcoma:0,cum_kaposis_sarcoma:0,total_alive_and_on_art:0,died_within_the_1st_month_of_art_initiation:0,died_within_the_2nd_month_of_art_initiation:0,died_within_the_3rd_month_of_art_initiation:0,died_after_the_3rd_month_of_art_initiation:0,died_total:0,defaulted:0,stopped_art:0,transfered_out:0,zero_p:0,zero_a:0,two_p:0,two_a:0,four_p:0,four_a:0,five_a:0,six_a:0,seven_a:0,eight_a:0,nine_p:0,nine_p_tabs:0,nine_p_granules:0,nine_a:0,ten_a:0,eleven_p:0,eleven_p_tabs:0,eleven_p_granules:0,eleven_a:0,twelve_a:0,thirteen_a:0,fourteen_p:0,fourteen_a:0,fifteen_p:0,fifteen_a:0,sixteen_p:0,sixteen_a:0,seventeen_p:0,seventeen_a:0,unknown_regimen:0,total_pregnant_women:0,total_breastfeeding_women:0,total_other_patients:0,tb_not_suspected:0,tb_suspected:0,tb_confirmed_currently_not_yet_on_tb_treatment:0,tb_confirmed_on_tb_treatment:0,unknown_tb_status:0,total_patients_without_side_effects:0,total_patients_with_side_effects:0,unknown_side_effects:0,patients_with_0_6_doses_missed_at_their_last_visit:0,patients_with_7_plus_doses_missed_at_their_last_visit:0,patients_with_unknown_adhrence:0,total_patients_on_arvs_and_cpt:0,total_patients_on_arvs_and_ipt:0,total_patients_on_family_planning:0,total_patients_with_screened_bp:0,transfer_in:0,cum_transfer_in:0,males_initiated_on_art_first_time:0,cum_males_initiated_on_art_first_time:0,initial_pregnant_females_all_ages:0,cum_initial_pregnant_females_all_ages:0,initial_non_pregnant_females_all_ages:0,cum_initial_non_pregnant_females_all_ages:0,unknown_gender:0,cum_unknown_gender:0,initiated_on_art_first_time:0,cum_initiated_on_art_first_time:0,report_consistency_string:[]}},methods:{startValidating:function(){for(var e=0;e<this.dataparams.length;e++)"re_initiated_on_art"==this.dataparams[e].name&&(this.re_initiated_on_art=parseInt(this.dataparams[e].contents)),"cum_re_initiated_on_art"==this.dataparams[e].name&&(this.cum_re_initiated_on_art=parseInt(this.dataparams[e].contents)),"transfer_in"==this.dataparams[e].name&&(this.transfer_in=parseInt(this.dataparams[e].contents)),"cum_transfer_in"==this.dataparams[e].name&&(this.cum_transfer_in=parseInt(this.dataparams[e].contents)),"total_registered"==this.dataparams[e].name&&(this.newly_registered_quarterly=parseInt(this.dataparams[e].contents)),"cum_total_registered"==this.dataparams[e].name&&(this.newly_registered_cum=parseInt(this.dataparams[e].contents)),"cum_all_males"==this.dataparams[e].name&&(this.cummulative_all_males=parseInt(this.dataparams[e].contents)),"all_males"==this.dataparams[e].name&&(this.quarterly_all_males=parseInt(this.dataparams[e].contents)),"non_pregnant_females"==this.dataparams[e].name&&(this.non_pregnant_females=parseInt(this.dataparams[e].contents)),"cum_non_pregnant_females"==this.dataparams[e].name&&(this.cum_non_pregnant_females=parseInt(this.dataparams[e].contents)),"pregnant_females_all_ages"==this.dataparams[e].name&&(this.pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"children_below_24_months_at_art_initiation"==this.dataparams[e].name&&(this.children_below_24_months_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_children_below_24_months_at_art_initiation"==this.dataparams[e].name&&(this.cum_children_below_24_months_at_art_initiation=parseInt(this.dataparams[e].contents)),"children_24_months_14_years_at_art_initiation"==this.dataparams[e].name&&(this.children_24_months_14_years_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_children_24_months_14_years_at_art_initiation"==this.dataparams[e].name&&(this.cum_children_24_months_14_years_at_art_initiation=parseInt(this.dataparams[e].contents)),"adults_at_art_initiation"==this.dataparams[e].name&&(this.adults_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_adults_at_art_initiation"==this.dataparams[e].name&&(this.cum_adults_at_art_initiation=parseInt(this.dataparams[e].contents)),"presumed_severe_hiv_disease_in_infants"==this.dataparams[e].name&&(this.presumed_severe_hiv_disease_in_infants=parseInt(this.dataparams[e].contents)),"cum_presumed_severe_hiv_disease_in_infants"==this.dataparams[e].name&&(this.cum_presumed_severe_hiv_disease_in_infants=parseInt(this.dataparams[e].contents)),"confirmed_hiv_infection_in_infants_pcr"==this.dataparams[e].name&&(this.confirmed_hiv_infection_in_infants_pcr=parseInt(this.dataparams[e].contents)),"cum_confirmed_hiv_infection_in_infants_pcr"==this.dataparams[e].name&&(this.cum_confirmed_hiv_infection_in_infants_pcr=parseInt(this.dataparams[e].contents)),"quarterly_children_12_59_months"==this.dataparams[e].name&&(this.quarterly_children_12_59_months=parseInt(this.dataparams[e].contents)),"cum_children_12_59_months"==this.dataparams[e].name&&(this.cum_children_12_59_months=parseInt(this.dataparams[e].contents)),"pregnant_women"==this.dataparams[e].name&&(this.pregnant_women=parseInt(this.dataparams[e].contents)),"cum_pregnant_women"==this.dataparams[e].name&&(this.cum_pregnant_women=parseInt(this.dataparams[e].contents)),"breastfeeding_mothers"==this.dataparams[e].name&&(this.breastfeeding_mothers=parseInt(this.dataparams[e].contents)),"cum_breastfeeding_mothers"==this.dataparams[e].name&&(this.cum_breastfeeding_mothers=parseInt(this.dataparams[e].contents)),"who_stage_two"==this.dataparams[e].name&&(this.who_stage_two=parseInt(this.dataparams[e].contents)),"cum_who_stage_two"==this.dataparams[e].name&&(this.cum_who_stage_two=parseInt(this.dataparams[e].contents)),"asymptomatic"==this.dataparams[e].name&&(this.asymptomatic=parseInt(this.dataparams[e].contents)),"cum_asymptomatic"==this.dataparams[e].name&&(this.cum_asymptomatic=parseInt(this.dataparams[e].contents)),"who_stage_three"==this.dataparams[e].name&&(this.who_stage_three=parseInt(this.dataparams[e].contents)),"cum_who_stage_three"==this.dataparams[e].name&&(this.cum_who_stage_three=parseInt(this.dataparams[e].contents)),"who_stage_four"==this.dataparams[e].name&&(this.who_stage_four=parseInt(this.dataparams[e].contents)),"cum_who_stage_four"==this.dataparams[e].name&&(this.cum_who_stage_four=parseInt(this.dataparams[e].contents)),"unknown_other_reason_outside_guidelines"==this.dataparams[e].name&&(this.unknown_other_reason_outside_guidelines=parseInt(this.dataparams[e].contents)),"cum_unknown_other_reason_outside_guidelines"==this.dataparams[e].name&&(this.cum_unknown_other_reason_outside_guidelines=parseInt(this.dataparams[e].contents)),"no_tb"==this.dataparams[e].name&&(this.no_tb=parseInt(this.dataparams[e].contents)),"cum_no_tb"==this.dataparams[e].name&&(this.cum_no_tb=parseInt(this.dataparams[e].contents)),"tb_within_the_last_two_years"==this.dataparams[e].name&&(this.tb_within_the_last_two_years=parseInt(this.dataparams[e].contents)),"cum_tb_within_the_last_two_years"==this.dataparams[e].name&&(this.cum_tb_within_the_last_two_years=parseInt(this.dataparams[e].contents)),"current_episode_of_tb"==this.dataparams[e].name&&(this.current_episode_of_tb=parseInt(this.dataparams[e].contents)),"cum_current_episode_of_tb"==this.dataparams[e].name&&(this.cum_current_episode_of_tb=parseInt(this.dataparams[e].contents)),"kaposis_sarcoma"==this.dataparams[e].name&&(this.kaposis_sarcoma=parseInt(this.dataparams[e].contents)),"cum_kaposis_sarcoma"==this.dataparams[e].name&&(this.cum_kaposis_sarcoma=parseInt(this.dataparams[e].contents)),"total_alive_and_on_art"==this.dataparams[e].name&&(this.total_alive_and_on_art=parseInt(this.dataparams[e].contents)),"died_within_the_1st_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_1st_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_within_the_2nd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_2nd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_within_the_3rd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_3rd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_after_the_3rd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_after_the_3rd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_total"==this.dataparams[e].name&&(this.died_total=parseInt(this.dataparams[e].contents)),"defaulted"==this.dataparams[e].name&&(this.defaulted=parseInt(this.dataparams[e].contents)),"stopped_art"==this.dataparams[e].name&&(this.stopped_art=parseInt(this.dataparams[e].contents)),"transfered_out"==this.dataparams[e].name&&(this.transfered_out=parseInt(this.dataparams[e].contents)),"zero_p"==this.dataparams[e].name&&(this.zero_p=parseInt(this.dataparams[e].contents)),"zero_a"==this.dataparams[e].name&&(this.zero_a=parseInt(this.dataparams[e].contents)),"two_p"==this.dataparams[e].name&&(this.two_p=parseInt(this.dataparams[e].contents)),"two_a"==this.dataparams[e].name&&(this.two_a=parseInt(this.dataparams[e].contents)),"four_p"==this.dataparams[e].name&&(this.four_p=parseInt(this.dataparams[e].contents)),"four_a"==this.dataparams[e].name&&(this.four_a=parseInt(this.dataparams[e].contents)),"five_a"==this.dataparams[e].name&&(this.five_a=parseInt(this.dataparams[e].contents)),"six_a"==this.dataparams[e].name&&(this.six_a=parseInt(this.dataparams[e].contents)),"seven_a"==this.dataparams[e].name&&(this.seven_a=parseInt(this.dataparams[e].contents)),"eight_a"==this.dataparams[e].name&&(this.eight_a=parseInt(this.dataparams[e].contents)),"nine_p_tabs"==this.dataparams[e].name&&(this.nine_p_tabs=parseInt(this.dataparams[e].contents)),"nine_p_granules"==this.dataparams[e].name&&(this.nine_p_granules=parseInt(this.dataparams[e].contents)),"nine_a"==this.dataparams[e].name&&(this.nine_a=parseInt(this.dataparams[e].contents)),"ten_a"==this.dataparams[e].name&&(this.ten_a=parseInt(this.dataparams[e].contents)),"eleven_p_tabs"==this.dataparams[e].name&&(this.eleven_p_tabs=parseInt(this.dataparams[e].contents)),"eleven_p_granules"==this.dataparams[e].name&&(this.eleven_p_granules=parseInt(this.dataparams[e].contents)),"eleven_a"==this.dataparams[e].name&&(this.eleven_a=parseInt(this.dataparams[e].contents)),"twelve_a"==this.dataparams[e].name&&(this.twelve_a=parseInt(this.dataparams[e].contents)),"thirteen_a"==this.dataparams[e].name&&(this.thirteen_a=parseInt(this.dataparams[e].contents)),"fourteen_p"==this.dataparams[e].name&&(this.fourteen_p=parseInt(this.dataparams[e].contents)),"fourteen_a"==this.dataparams[e].name&&(this.fourteen_a=parseInt(this.dataparams[e].contents)),"fifteen_p"==this.dataparams[e].name&&(this.fifteen_p=parseInt(this.dataparams[e].contents)),"fifteen_a"==this.dataparams[e].name&&(this.fifteen_a=parseInt(this.dataparams[e].contents)),"sixteen_p"==this.dataparams[e].name&&(this.sixteen_p=parseInt(this.dataparams[e].contents)),"sixteen_a"==this.dataparams[e].name&&(this.sixteen_a=parseInt(this.dataparams[e].contents)),"seventeen_p"==this.dataparams[e].name&&(this.seventeen_p=parseInt(this.dataparams[e].contents)),"seventeen_a"==this.dataparams[e].name&&(this.seventeen_a=parseInt(this.dataparams[e].contents)),"unknown_regimen"==this.dataparams[e].name&&(this.unknown_regimen=parseInt(this.dataparams[e].contents)),"total_pregnant_women"==this.dataparams[e].name&&(this.total_pregnant_women=parseInt(this.dataparams[e].contents)),"total_breastfeeding_women"==this.dataparams[e].name&&(this.total_breastfeeding_women=parseInt(this.dataparams[e].contents)),"total_other_patients"==this.dataparams[e].name&&(this.total_other_patients=parseInt(this.dataparams[e].contents)),"tb_not_suspected"==this.dataparams[e].name&&(this.tb_not_suspected=parseInt(this.dataparams[e].contents)),"tb_suspected"==this.dataparams[e].name&&(this.tb_suspected=parseInt(this.dataparams[e].contents)),"tb_not_suspected"==this.dataparams[e].name&&(this.tb_not_suspected=parseInt(this.dataparams[e].contents)),"tb_confirmed_currently_not_yet_on_tb_treatment"==this.dataparams[e].name&&(this.tb_confirmed_currently_not_yet_on_tb_treatment=parseInt(this.dataparams[e].contents)),"tb_confirmed_on_tb_treatment"==this.dataparams[e].name&&(this.tb_confirmed_on_tb_treatment=parseInt(this.dataparams[e].contents)),"unknown_tb_status"==this.dataparams[e].name&&(this.unknown_tb_status=parseInt(this.dataparams[e].contents)),"total_patients_without_side_effects"==this.dataparams[e].name&&(this.total_patients_without_side_effects=parseInt(this.dataparams[e].contents)),"total_patients_with_side_effects"==this.dataparams[e].name&&(this.total_patients_with_side_effects=parseInt(this.dataparams[e].contents)),"unknown_side_effects"==this.dataparams[e].name&&(this.unknown_side_effects=parseInt(this.dataparams[e].contents)),"patients_with_0_6_doses_missed_at_their_last_visit"==this.dataparams[e].name&&(this.patients_with_0_6_doses_missed_at_their_last_visit=parseInt(this.dataparams[e].contents)),"patients_with_7_plus_doses_missed_at_their_last_visit"==this.dataparams[e].name&&(this.patients_with_7_plus_doses_missed_at_their_last_visit=parseInt(this.dataparams[e].contents)),"patients_with_unknown_adhrence"==this.dataparams[e].name&&(this.patients_with_unknown_adhrence=parseInt(this.dataparams[e].contents)),"total_patients_on_arvs_and_cpt"==this.dataparams[e].name&&(this.total_patients_on_arvs_and_cpt=parseInt(this.dataparams[e].contents)),"total_patients_on_arvs_and_ipt"==this.dataparams[e].name&&(this.total_patients_on_arvs_and_ipt=parseInt(this.dataparams[e].contents)),"total_patients_on_family_planning"==this.dataparams[e].name&&(this.total_patients_on_family_planning=parseInt(this.dataparams[e].contents)),"total_patients_with_screened_bp"==this.dataparams[e].name&&(this.total_patients_with_screened_bp=parseInt(this.dataparams[e].contents)),"males_initiated_on_art_first_time"==this.dataparams[e].name&&(this.males_initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"cum_males_initiated_on_art_first_time"==this.dataparams[e].name&&(this.cum_males_initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"initial_pregnant_females_all_ages"==this.dataparams[e].name&&(this.initial_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_initial_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_initial_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"initial_non_pregnant_females_all_ages"==this.dataparams[e].name&&(this.initial_non_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_initial_non_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_initial_non_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"unknown_gender"==this.dataparams[e].name&&(this.unknown_gender=parseInt(this.dataparams[e].contents)),"cum_unknown_gender"==this.dataparams[e].name&&(this.cum_unknown_gender=parseInt(this.dataparams[e].contents)),"initiated_on_art_first_time"==this.dataparams[e].name&&(this.initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"cum_initiated_on_art_first_time"==this.dataparams[e].name&&(this.cum_initiated_on_art_first_time=parseInt(this.dataparams[e].contents))},validateReport:function(){if(!(this.newly_registered_cum<1)){var e="";this.report_consistency_string=[];var t=this.initial_non_pregnant_females_all_ages;t+=this.males_initiated_on_art_first_time,t+=this.initial_pregnant_females_all_ages,t+=this.unknown_gender,t+=this.re_initiated_on_art,t+=this.transfer_in,this.newly_registered_quarterly!=t&&(e="Section 26 - 32: Total registered (Quartely) is not equal to ",e+="CHECK: Total FT + Re Patients re-initiated on ART + TI Patients transferred in on ART",this.report_consistency_string.push(e)),t=this.cum_initial_non_pregnant_females_all_ages,t+=this.cum_males_initiated_on_art_first_time,t+=this.cum_initial_pregnant_females_all_ages,t+=this.cum_unknown_gender,t+=this.cum_re_initiated_on_art,t+=this.cum_transfer_in,this.newly_registered_cum!=t&&(e="Section 26 - 32: Total registered (Cummulative) is not equal to ",e+="CHECK: Total FT + Re Patients re-initiated on ART + TI Patients transferred in on ART",this.report_consistency_string.push(e));var n=this.quarterly_all_males;n+=this.non_pregnant_females,n+=this.pregnant_females_all_ages,this.newly_registered_quarterly!=n&&(e="Section 33 - 35: Total registered (Quartely) is not equal to ",e+="M Males (all ages) + FNP Non-pregnant Females (all ages)  + FP Pregnant Females (all ages)",this.report_consistency_string.push(e)),n=this.cummulative_all_males,n+=this.cum_non_pregnant_females,n+=this.cum_pregnant_females_all_ages,this.newly_registered_cum!=n&&(e="Section 33 - 35: Total registered (Cummulative) is not equal to ",e+="M Males (all ages) + FNP Non-pregnant Females (all ages)  + FP Pregnant Females (all ages)",this.report_consistency_string.push(e));var r=this.children_below_24_months_at_art_initiation;r+=this.children_24_months_14_years_at_art_initiation,r+=this.adults_at_art_initiation,this.newly_registered_quarterly!=r&&(e="Section 36 - 38: Total registered (Quartely) is not equal to ",e+="A Children below 24 m at ART initiation + B Children 24 m - 14 yrs at ART initiation + C Adults 15 years+ at ART initiation",this.report_consistency_string.push(e)),r=this.cum_children_below_24_months_at_art_initiation,r+=this.cum_children_24_months_14_years_at_art_initiation,r+=this.cum_adults_at_art_initiation,this.newly_registered_cum!=r&&(e="Section 36 - 38: Total registered (Cummulative) is not equal to ",e+="A Children below 24 m at ART initiation + B Children 24 m - 14 yrs at ART initiation + C Adults 15 years+ at ART initiation",this.report_consistency_string.push(e));var a=this.presumed_severe_hiv_disease_in_infants;a+=this.confirmed_hiv_infection_in_infants_pcr,a+=this.quarterly_children_12_59_months,a+=this.pregnant_women,a+=this.breastfeeding_mothers,a+=this.who_stage_two,a+=this.asymptomatic,a+=this.who_stage_three,a+=this.who_stage_four,a+=this.unknown_other_reason_outside_guidelines,this.newly_registered_quarterly!=a&&(e="Section 39 - 48: Total registered (Quartely) is not equal to ",e+="Pres. Sev. HIV disease age <12 m + PCR Infants <12 mths PCR + U5 Children 12-59mths",e+=" + Preg Pregnant women + BF Breastfeeding mothers + CD4 CD4 below threshold",e+=" + Asy Asymptomatic / mild + WHO stage 3 + WHO stage 4",e+=" + Unknown / reason outside guidelines",this.report_consistency_string.push(e)),a=this.cum_presumed_severe_hiv_disease_in_infants,a+=this.cum_confirmed_hiv_infection_in_infants_pcr,a+=this.cum_children_12_59_months,a+=this.cum_pregnant_women,a+=this.cum_breastfeeding_mothers,a+=this.cum_who_stage_two,a+=this.cum_asymptomatic,a+=this.cum_who_stage_three,a+=this.cum_who_stage_four,a+=this.cum_unknown_other_reason_outside_guidelines,this.newly_registered_cum!=a&&(e="Section 39 - 48: Total registered (Cummulative) is not equal to ",e+="Pres. Sev. HIV disease age <12 m + PCR Infants <12 mths PCR + U5 Children 12-59mths",e+=" + Preg Pregnant women + BF Breastfeeding mothers + CD4 CD4 below threshold",e+=" + Asy Asymptomatic / mild + WHO stage 3 + WHO stage 4",e+=" + Unknown / reason outside guidelines",this.report_consistency_string.push(e));var o=this.no_tb;o+=this.tb_within_the_last_two_years,o+=this.current_episode_of_tb,this.newly_registered_quarterly!=o&&(e="Section 49 - 51: Total registered (Quartely) is not equal to ",e+="Nev/>2yrs\tNever TB / TB over 2 years ago + Last 2yrs\tTB within the last 2 years + Curr Current episode of TB",this.report_consistency_string.push(e)),o=this.cum_no_tb,o+=this.cum_tb_within_the_last_two_years,o+=this.cum_current_episode_of_tb,this.newly_registered_cum!=o&&(e="Section 49 - 51: Total registered (Cummulative) is not equal to ",e+="Nev/>2yrs\tNever TB / TB over 2 years ago + Last 2yrs\tTB within the last 2 years + Curr Current episode of TB",this.report_consistency_string.push(e));var i=this.total_alive_and_on_art;i+=this.died_total,i+=this.defaulted,i+=this.stopped_art,i+=this.transfered_out,this.newly_registered_cum!=i&&(e="Section 53 - 61: Total registered (Cummulative) is not equal to ",e+="Total alive and on ART + Died total + Defaulted (more than 2 months overdue after expected to have run out of ARVs)",e+=" + Stopped taking ARVs (clinician or patient own decision, last known alive)",e+=" + Transferred Out",this.report_consistency_string.push(e));var c=[this.zero_p,this.zero_a,this.two_p,this.two_a,this.four_p,this.four_a,this.five_a,this.six_a,this.seven_a,this.eight_a,this.nine_p_tabs,this.nine_p_granules,this.nine_a,this.ten_a,this.eleven_p_tabs,this.eleven_p_granules,this.eleven_a,this.twelve_a,this.unknown_regimen,this.thirteen_a,this.fourteen_a,this.fifteen_a,this.sixteen_a,this.seventeen_a,this.fourteen_p,this.fifteen_p,this.sixteen_p,this.seventeen_p];p(this.total_alive_and_on_art,c)||this.report_consistency_string.push("Section 64 - 80: Total alive and on ART is not equal to Regimens sections");var s=this.total_pregnant_women;s+=this.total_breastfeeding_women,s+=this.total_other_patients,this.total_alive_and_on_art!=s&&(e="Section 81 - 83: Total alive and on ART is not equal to ",e+=" Pregnant + Breastfeeding + All others (not circled)",this.report_consistency_string.push(e));var u=this.tb_not_suspected;u+=this.tb_suspected,u+=this.tb_confirmed_currently_not_yet_on_tb_treatment,u+=this.tb_confirmed_on_tb_treatment,u+=this.unknown_tb_status,this.total_alive_and_on_art!=u&&(e="Section 84 - 88: Total alive and on ART is not equal to ",e+=" TB not suspected + TB suspected + TB conf., not on Rx + TB conf., on TB Rx + Unknown (not circled)",this.report_consistency_string.push(e));var l=this.total_patients_without_side_effects;l+=this.total_patients_with_side_effects,l+=this.unknown_side_effects,this.total_alive_and_on_art!=l&&(e="Section 88 - 91: Total alive and on ART is not equal to ",e+=" None + Any side effects + Unknown (not circled)",this.report_consistency_string.push(e));var d=this.patients_with_0_6_doses_missed_at_their_last_visit;d+=this.patients_with_7_plus_doses_missed_at_their_last_visit,d+=this.patients_with_unknown_adhrence,this.total_alive_and_on_art!=d&&(e="Section 92 - 94: Total alive and on ART is not equal to ",e+=" 0  3 doses missed + 4+ doses missed + Unknown (not circled)",this.report_consistency_string.push(e))}function p(e,t){var n=t.reduce((function(e,t){return e+t}),0);return e===n}}},props:["dataparams"],watch:{dataparams:{immediate:!0,handler:function(){this.startValidating(),this.validateReport()}}}};n("205c");const Jo=S()($o,[["render",Wo],["__scopeId","data-v-5801b4ad"]]);var Xo=Jo,Qo=Object(a["withScopeId"])("data-v-3eb842ef");Object(a["pushScopeId"])("data-v-3eb842ef");var Zo=Object(a["createVNode"])("tr",{class:"section-description"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{style:{"font-weight":"bold"},colspan:"2"},"ART Clinic"),Object(a["createVNode"])("td",{colspan:"3",style:{"text-align":"center","font-weight":"bold"}},"Newly registered in quarter"),Object(a["createVNode"])("td",{class:"vertical-separator"},""),Object(a["createVNode"])("td",{colspan:"3",style:{"text-align":"center","font-weight":"bold"}},"Cumulative ever registered")],-1),ei=Object(a["createVNode"])("tr",{class:"section-description"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{style:{"font-weight":"bold"},colspan:"2"},"Patients registration details"),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"PoC"),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Clinic own*"),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Checked data"),Object(a["createVNode"])("td",{class:"vertical-separator"},""),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"PoC"),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Clinic own*"),Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Checked data")],-1),ti=Object(a["createVNode"])("td",{class:"numbers"},"25.",-1),ni=Object(a["createVNode"])("td",{style:{"font-weight":"normal","text-align":"left","padding-left":"5px"},colspan:"2"},"Total registered",-1),ri={style:{"font-weight":"normal"}},ai=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),oi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ii=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),ci={style:{"font-weight":"normal"}},si=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ui=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),li=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{colspan:"10"},"")],-1),di=Object(a["createVNode"])("td",{class:"numbers"},"26.",-1),pi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","border-bottom-style":"none !important","padding-left":"5px","text-align":"left"}},[Object(a["createVNode"])("b",null,"FT"),Object(a["createTextVNode"])("Patients initiated ")],-1),bi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-bottom-style":"none !important"}},"Male",-1),fi={style:{"font-weight":"normal"}},mi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),hi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),gi=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Oi={style:{"font-weight":"normal"}},vi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),_i=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ji=Object(a["createVNode"])("td",{class:"numbers"},"27.",-1),wi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"10px","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important",width:"100px"}},"on ART ",-1),yi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important"}},"Female Non-pregnant",-1),ki={style:{"font-weight":"normal"}},xi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ni=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Vi=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Ci={style:{"font-weight":"normal"}},Di=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ti=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ri=Object(a["createVNode"])("td",{class:"numbers"},"28.",-1),Ii=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"10px","border-top-style":"none !important","border-bottom-style":"none !important","text-align":"left"}}," first time ",-1),Si=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important"}},"Female pregnant",-1),Pi={style:{"font-weight":"normal"}},Ai=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Bi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ei=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Fi={style:{"font-weight":"normal"}},Li=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Mi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Hi=Object(a["createVNode"])("td",{class:"numbers"},"29.",-1),Ui=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"28px","border-top-style":"none !important","border-bottom-style":"none !important"}},"  ",-1),qi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"dotted !important","border-bottom-style":"none !important"}},"FT Init., Non-disagg.",-1),zi={style:{"font-weight":"normal"}},Gi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Yi=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ki=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Wi={style:{"font-weight":"normal"}},$i=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ji=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xi=Object(a["createVNode"])("td",{class:"numbers"},"30.",-1),Qi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"28px","border-top-style":"none !important"}},"  ",-1),Zi=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"dotted !important"}},"CHECK: Total FT",-1),ec={style:{"font-weight":"normal"}},tc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),nc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),rc=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),ac={style:{"font-weight":"normal"}},oc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ic=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),cc=Object(a["createVNode"])("td",{class:"numbers"},"31.",-1),sc=Object(a["createVNode"])("td",{style:{"text-align":"left","border-bottom-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"Re"),Object(a["createTextVNode"])("Patients re-initiated on ART")],-1),uc={style:{"font-weight":"normal"}},lc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),dc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),pc=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),bc={style:{"font-weight":"normal"}},fc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),mc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),hc=Object(a["createVNode"])("td",{class:"numbers"},"32.",-1),gc=Object(a["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"TI"),Object(a["createTextVNode"])("Patients transferred in on ART ")],-1),Oc={style:{"font-weight":"normal"}},vc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),_c=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),jc=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),wc={style:{"font-weight":"normal"}},yc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),kc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),xc=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{colspan:"10"},"")],-1),Nc=Object(a["createVNode"])("td",{class:"numbers"},"33.",-1),Vc=Object(a["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"M"),Object(a["createTextVNode"])("Males (all ages) ")],-1),Cc={style:{"font-weight":"normal"}},Dc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Tc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Rc=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Ic={style:{"font-weight":"normal"}},Sc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Pc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ac=Object(a["createVNode"])("td",{class:"numbers"},"34.",-1),Bc=Object(a["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"FNP"),Object(a["createTextVNode"])("Non-pregnant Females (all ages) ")],-1),Ec={style:{"font-weight":"normal"}},Fc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Lc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Mc=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Hc={style:{"font-weight":"normal"}},Uc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),qc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zc=Object(a["createVNode"])("td",{class:"numbers"},"35.",-1),Gc=Object(a["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"FP"),Object(a["createTextVNode"])("Pregnant Females (all ages) ")],-1),Yc={style:{"font-weight":"normal"}},Kc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Wc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),$c=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Jc={style:{"font-weight":"normal"}},Xc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Qc=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Zc=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{colspan:"10"},"")],-1),es=Object(a["createVNode"])("td",{class:"numbers"},"36.",-1),ts=Object(a["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"A"),Object(a["createTextVNode"])("Children below 24 m at ART initiation ")],-1),ns={style:{"font-weight":"normal"}},rs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),as=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),os=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),is={style:{"font-weight":"normal"}},cs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ss=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),us=Object(a["createVNode"])("td",{class:"numbers"},"37.",-1),ls=Object(a["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"B"),Object(a["createTextVNode"])("Children 24 m - 14 yrs at ART initiation ")],-1),ds={style:{"font-weight":"normal"}},ps=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),bs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fs=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),ms={style:{"font-weight":"normal"}},hs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),gs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Os=Object(a["createVNode"])("td",{class:"numbers"},"38.",-1),vs=Object(a["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(a["createVNode"])("b",null,"C"),Object(a["createTextVNode"])("Adults 15 years+ at ART initiation ")],-1),_s={style:{"font-weight":"normal"}},js=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ws=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ys=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),ks={style:{"font-weight":"normal"}},xs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ns=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Vs=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"Reason for starting ART")],-1),Cs=Object(a["createVNode"])("td",{class:"numbers"},"39.",-1),Ds=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","text-align":"left","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"PSHD")],-1),Ts=Object(a["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},"Pres. Sev. HIV disease age "+Object(a["toDisplayString"])("<12")+" m",-1),Rs={style:{"font-weight":"normal"}},Is=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ss=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ps=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),As={style:{"font-weight":"normal"}},Bs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Es=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Fs=Object(a["createVNode"])("td",{class:"numbers"},"40.",-1),Ls=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-width":"0px !important","border-bottom-style":"none","border-left-width":"1px","border-top-width":"0px"}},"",-1),Ms=Object(a["createVNode"])("td",{style:{"border-left-width":"1px !important","border-right-width":"1px !important","border-bottom-width":"0px !important","border-style":"dotted","text-align":"left","padding-left":"10px","border-top-width":"0px"}},[Object(a["createVNode"])("b",null,"PCR"),Object(a["createTextVNode"])(" Infants "+Object(a["toDisplayString"])("<12")+" mths PCR",1)],-1),Hs={style:{"border-top-width":"0px","border-bottom-width":"0px","font-weight":"normal"}},Us=Object(a["createVNode"])("td",{style:{"border-top-width":"0px","border-bottom-width":"0px","font-weight":"normal"}},"",-1),qs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zs=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Gs={style:{"font-weight":"normal"}},Ys=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ks=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ws=Object(a["createVNode"])("td",{class:"numbers"},"41.",-1),$s=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-bottom-width":"0px","border-top-width":"0px"}},"",-1),Js=Object(a["createVNode"])("td",{style:{"border-left-width":"1px","border-top-width":"0px","border-style":"dotted","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"U5"),Object(a["createTextVNode"])(" Children 12-59mths")],-1),Xs={style:{"font-weight":"normal"}},Qs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Zs=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),eu=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),tu={style:{"font-weight":"normal"}},nu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ru=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),au=Object(a["createVNode"])("td",{class:"numbers"},"42.",-1),ou=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-width":"1px !important","border-bottom-width":"0px","border-top-width":"0px","border-style":"dotted"}},"",-1),iu=Object(a["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"Preg"),Object(a["createTextVNode"])(" Pregnant women")],-1),cu={style:{"font-weight":"normal"}},su=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),uu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),lu=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),du={style:{"font-weight":"normal"}},pu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),bu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fu=Object(a["createVNode"])("td",{class:"numbers"},"43.",-1),mu=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),hu=Object(a["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"BF"),Object(a["createTextVNode"])(" Breastfeeding mothers")],-1),gu={style:{"font-weight":"normal"}},Ou=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),vu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),_u=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),ju={style:{"font-weight":"normal"}},wu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),yu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ku=Object(a["createVNode"])("td",{class:"numbers"},"44.",-1),xu=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),Nu=Object(a["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"CD4"),Object(a["createTextVNode"])(" CD4 below threshold")],-1),Vu={style:{"font-weight":"normal"}},Cu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Du=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Tu=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Ru={style:{"font-weight":"normal"}},Iu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Su=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Pu=Object(a["createVNode"])("td",{class:"numbers"},"45.",-1),Au=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),Bu=Object(a["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"Asy"),Object(a["createTextVNode"])(" Asymptomatic / mild")],-1),Eu={style:{"font-weight":"normal"}},Fu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Lu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Mu=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Hu={style:{"font-weight":"normal"}},Uu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),qu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zu=Object(a["createVNode"])("td",{class:"numbers"},"46.",-1),Gu=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-top-width":"0px","text-align":"left","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"3")],-1),Yu=Object(a["createVNode"])("td",{style:{"border-left-style":"none","border-bottom-width":"0px","text-align":"left","padding-left":"10px","border-top-width":"0px"}},"WHO stage 3",-1),Ku={style:{"font-weight":"normal"}},Wu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),$u=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ju=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Xu={style:{"font-weight":"normal"}},Qu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Zu=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),el=Object(a["createVNode"])("td",{class:"numbers"},"47.",-1),tl=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-top-width":"0px","text-align":"left","border-bottom-width":"0px"}},[Object(a["createVNode"])("b",null,"4")],-1),nl=Object(a["createVNode"])("td",{style:{"border-left-width":"0px","border-bottom-style":"none","text-align":"left","padding-left":"10px","border-top-width":"0px"}},"WHO stage 4",-1),rl={style:{"font-weight":"normal"}},al=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ol=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),il=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),cl={style:{"font-weight":"normal"}},sl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ul=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ll=Object(a["createVNode"])("td",{class:"numbers"},"48.",-1),dl=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","text-align":"left","border-top-style":"none"}},[Object(a["createVNode"])("b",null,"Unk")],-1),pl=Object(a["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px","border-top-style":"none"}},"Unknown / reason outside guidelines",-1),bl={style:{"font-weight":"normal"}},fl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ml=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),hl=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),gl={style:{"font-weight":"normal"}},Ol=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),vl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),_l=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"Stage defining conditions at ART initiation")],-1),jl=Object(a["createVNode"])("td",{class:"numbers"},"49.",-1),wl=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(a["createVNode"])("b",null,"Nev/>2yrs")],-1),yl=Object(a["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Never TB / TB over 2 years ago",-1),kl={style:{"font-weight":"normal"}},xl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Nl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Vl=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Cl={style:{"font-weight":"normal"}},Dl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Tl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Rl=Object(a["createVNode"])("td",{class:"numbers"},"50.",-1),Il=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(a["createVNode"])("b",null,"Last 2yrs")],-1),Sl=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-left-style":"none"}},"TB within the last 2 years",-1),Pl={style:{"font-weight":"normal"}},Al=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Bl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),El=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Fl={style:{"font-weight":"normal"}},Ll=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ml=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Hl=Object(a["createVNode"])("td",{class:"numbers"},"51.",-1),Ul=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(a["createVNode"])("b",null,"Curr")],-1),ql=Object(a["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Current episode of TB",-1),zl={style:{"font-weight":"normal"}},Gl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Yl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Kl=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),Wl={style:{"font-weight":"normal"}},$l=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Jl=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xl=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{colspan:"10",style:{"text-align":"left"}},"")],-1),Ql=Object(a["createVNode"])("td",{class:"numbers"},"52.",-1),Zl=Object(a["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(a["createVNode"])("b",null,"KS")],-1),ed=Object(a["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Kaposis Sarcoma",-1),td={style:{"font-weight":"normal"}},nd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),rd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ad=Object(a["createVNode"])("td",{class:"vertical-separator"},"",-1),od={style:{"font-weight":"normal"}},id=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),cd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),sd=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"6",style:{"text-align":"left"}},[Object(a["createVNode"])("b",null,"Primary outcomes as of the end of the quarter evaluated")]),Object(a["createVNode"])("td",{colspan:"3",style:{"text-align":"center"}},[Object(a["createVNode"])("b",null,"Out of all patients ever registered")])],-1),ud=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"6",style:{"text-align":"left"}},""),Object(a["createVNode"])("td",{style:{"text-align":"center"}},"PoC"),Object(a["createVNode"])("td",{style:{"text-align":"center"}},"Clinic own**"),Object(a["createVNode"])("td",{style:{"text-align":"center"}},"Checked data")],-1),ld=Object(a["createVNode"])("td",{class:"numbers"},"53.",-1),dd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px"},colspan:"6"},"Total alive and on ART",-1),pd={style:{"font-weight":"normal"}},bd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),md=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"center"}},"")],-1),hd=Object(a["createVNode"])("td",{class:"numbers"},"54.",-1),gd=Object(a["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"2"},"M1",-1),Od=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 1st month after ART initiation",-1),vd={style:{"font-weight":"normal"}},_d=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),jd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),wd=Object(a["createVNode"])("td",{class:"numbers"},"55.",-1),yd=Object(a["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-top-style":"none","border-left-style":"none","border-bottom-style":"none"},colspan:"2"},"M2",-1),kd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 2nd month after ART initiation",-1),xd={style:{"font-weight":"normal"}},Nd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Vd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Cd=Object(a["createVNode"])("td",{class:"numbers"},"56.",-1),Dd=Object(a["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-bottom-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"2"},"M3",-1),Td=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 3rd month after ART initiation",-1),Rd={style:{"font-weight":"normal"}},Id=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Sd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Pd=Object(a["createVNode"])("td",{class:"numbers"},"57.",-1),Ad=Object(a["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"2"},"M4+",-1),Bd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-right-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"4"},"Died after the end of the 3rd month after ART initiation",-1),Ed={style:{"font-weight":"normal"}},Fd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ld=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Md=Object(a["createVNode"])("td",{class:"numbers"},"58.",-1),Hd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-style":"none"},colspan:"6"},"Died total",-1),Ud={style:{"font-weight":"normal"}},qd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Gd=Object(a["createVNode"])("td",{class:"numbers"},"59.",-1),Yd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-bottom-style":"none"},colspan:"6"},"Defaulted (more than 2 months overdue after expected to have run out of ARVs)",-1),Kd={style:{"font-weight":"normal"}},Wd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),$d=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Jd=Object(a["createVNode"])("td",{class:"numbers"},"60.",-1),Xd=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-bottom-style":"none"},colspan:"6"},"Stopped taking ARVs (clinician or patient own decision, last known alive)",-1),Qd={style:{"font-weight":"normal"}},Zd=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ep=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),tp=Object(a["createVNode"])("td",{class:"numbers"},"61.",-1),np=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none"},colspan:"6"},"Transferred Out",-1),rp={style:{"font-weight":"normal"}},ap=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),op=Object(a["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ip=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"6",style:{"font-style":"italic","text-align":"center"}},"Check completeness of Clinic own data"),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("img",{src:"/assets/images/sum-arrow.png",class:"sum-arrows"})]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("img",{src:"/assets/images/sum-arrow.png",class:"sum-arrows"})])],-1),cp=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},"62."),Object(a["createVNode"])("td",{colspan:"2"},""),Object(a["createVNode"])("td",{colspan:"5",style:{"text-align":"left","border-style":"dotted","border-width":"1px 1px 0px 1px","padding-left":"10px"}},"Total adv. outcomes = Died total + Defaulted + Stopped + TO"),Object(a["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(a["createVNode"])("span",{class:"postfixes"},"A")]),Object(a["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(a["createVNode"])("span",{class:"postfixes"},"B")])],-1),sp=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},"63."),Object(a["createVNode"])("td",{colspan:"2"},""),Object(a["createVNode"])("td",{colspan:"5",style:{"text-align":"left","border-style":"dotted","border-width":"0px 0px 1px 1px","padding-left":"10px"}},"Calculate completeness % A / B x 100 (Use difference if greater than 100%)"),Object(a["createVNode"])("td",{style:{"border-style":"dotted","border-bottom-width":"1px"}},""),Object(a["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(a["createVNode"])("span",{style:{left:"40px"},class:"postfixes"},"%")])],-1),up=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"7",style:{"text-align":"left","font-weight":"bold","padding-left":"10px"}},"Secondary outcomes of those alive on ART"),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("b",null,"P"),Object(a["createTextVNode"])("aeds formul.")]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("b",null,"A"),Object(a["createTextVNode"])("dults formul.")])],-1),lp=Object(a["createVNode"])("td",{class:"numbers"},"64.",-1),dp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"ART Regimens",-1),pp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px"},colspan:"3"},"",-1),bp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px"}},"Regimen",-1),fp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"0",-1),mp=Object(a["createVNode"])("td",{class:"numbers"},"65.",-1),hp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),gp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Op=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),vp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"2",-1),_p=Object(a["createVNode"])("td",{class:"numbers"},"66.",-1),jp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),wp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},[Object(a["createTextVNode"])("Count regimen for "),Object(a["createVNode"])("u",null,"all patients registered")],-1),yp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),kp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"4",-1),xp=Object(a["createVNode"])("td",{class:"numbers"},"67.",-1),Np=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Vp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"at this site, including those who currently",-1),Cp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Dp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"5",-1),Tp=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Rp=Object(a["createVNode"])("td",{class:"numbers"},"68.",-1),Ip=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-style":"dotted","border-bottom-width":"1px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Sp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px","text-align":"left"},colspan:"3"},"get supplies from another site",-1),Pp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Ap=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"6",-1),Bp=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Ep=Object(a["createVNode"])("td",{class:"numbers"},"69.",-1),Fp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Lp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Mp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Hp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"7",-1),Up=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),qp=Object(a["createVNode"])("td",{class:"numbers"},"70.",-1),zp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Gp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Yp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Kp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"8",-1),Wp=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),$p=Object(a["createVNode"])("td",{class:"numbers"},"71.",-1),Jp=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Xp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Qp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Zp=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"9",-1),eb={class:"granules"},tb=Object(a["createVNode"])("div",{class:"granules-row"},[Object(a["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(a["createVNode"])("span",null,"Tabs")]),Object(a["createVNode"])("div",{class:"granules-cell"},[Object(a["createVNode"])("span",null,"Granules")])],-1),nb={class:"granules-row"},rb={class:"granules-cell granules-right-td"},ab={class:"granules-cell"},ob=Object(a["createVNode"])("td",{class:"numbers"},"72.",-1),ib=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),cb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),sb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),ub=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"10",-1),lb=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),db=Object(a["createVNode"])("td",{class:"numbers"},"73.",-1),pb=Object(a["createVNode"])("td",{colspan:"1",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),bb=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"4"},"Specify Other Regimens and number of patients on each",-1),fb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),mb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"11",-1),hb={class:"granules"},gb=Object(a["createVNode"])("div",{class:"granules-row"},[Object(a["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(a["createVNode"])("span",null,"Tabs")]),Object(a["createVNode"])("div",{class:"granules-cell"},[Object(a["createVNode"])("span",null,"Granules")])],-1),Ob={class:"granules-row"},vb={class:"granules-cell granules-right-td"},_b={class:"granules-cell"},jb=Object(a["createVNode"])("td",{class:"numbers"},"74.",-1),wb=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),yb=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),kb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),xb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"12",-1),Nb=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Vb=Object(a["createVNode"])("td",{class:"numbers"},"75.",-1),Cb=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Db=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Tb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Rb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"13",-1),Ib=Object(a["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Sb=Object(a["createVNode"])("td",{class:"numbers"},"76.",-1),Pb=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Ab=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Bb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Eb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"14",-1),Fb={class:"granules"},Lb=Object(a["createVNode"])("div",{class:"granules-row"},[Object(a["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(a["createVNode"])("span",null,"PP")]),Object(a["createVNode"])("div",{class:"granules-cell"},[Object(a["createVNode"])("span",null,"P")])],-1),Mb={class:"granules-row"},Hb={class:"granules-cell granules-right-td"},Ub={class:"granules-cell"},qb=Object(a["createVNode"])("td",{class:"numbers"},"77.",-1),zb=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Gb=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Yb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Kb=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"15",-1),Wb={class:"granules"},$b=Object(a["createVNode"])("div",{class:"granules-row"},[Object(a["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(a["createVNode"])("span",null,"PP")]),Object(a["createVNode"])("div",{class:"granules-cell"},[Object(a["createVNode"])("span",null,"P")])],-1),Jb={class:"granules-row"},Xb={class:"granules-cell granules-right-td"},Qb={class:"granules-cell"},Zb=Object(a["createVNode"])("td",{class:"numbers"},"78.",-1),ef=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),tf=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),nf=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),rf=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"16",-1),af=Object(a["createVNode"])("td",{class:"numbers"},"79.",-1),of=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),cf=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),sf=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),uf=Object(a["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"17",-1),lf=Object(a["createVNode"])("td",{class:"numbers"},"80.",-1),df=Object(a["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"1px","border-right-width":"0px","border-top-width":"1px"}},"",-1),pf=Object(a["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"1px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),bf=Object(a["createVNode"])("td",{colspan:"2",style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"left","padding-left":"10px"}},"Other (paed./adult)",-1),ff=Object(a["createVNode"])("td",null,"",-1),mf=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),hf=Object(a["createVNode"])("td",{class:"numbers"},"81.",-1),gf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Pregnant / Breastfeeding",-1),Of=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),vf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Pregnant",-1),_f={colspan:"2",style:{"font-weight":"normal"}},jf=Object(a["createVNode"])("td",{class:"numbers"},"82.",-1),wf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),yf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),kf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Breastfeeding",-1),xf={colspan:"2",style:{"font-weight":"normal"}},Nf=Object(a["createVNode"])("td",{class:"numbers"},"83.",-1),Vf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Cf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),Df=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"All others (not circled)",-1),Tf={colspan:"2",style:{"font-weight":"normal"}},Rf=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),If=Object(a["createVNode"])("td",{class:"numbers"},"84.",-1),Sf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"},colspan:"2"},[Object(a["createTextVNode"])("Current TB status"),Object(a["createVNode"])("br"),Object(a["createTextVNode"])("any form of TB")],-1),Pf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"3"},"(as of the last visit before end of quarter)",-1),Af=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"TB not suspected",-1),Bf={colspan:"2",style:{"font-weight":"normal"}},Ef=Object(a["createVNode"])("td",{class:"numbers"},"85.",-1),Ff=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Lf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),Mf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"TB suspected",-1),Hf={colspan:"2",style:{"font-weight":"normal"}},Uf=Object(a["createVNode"])("td",{class:"numbers"},"86.",-1),qf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),zf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),Gf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},[Object(a["createTextVNode"])("TB conf., "),Object(a["createVNode"])("b",null,"not"),Object(a["createTextVNode"])(" on Rx")],-1),Yf={colspan:"2",style:{"font-weight":"normal"}},Kf=Object(a["createVNode"])("td",{class:"numbers"},"87.",-1),Wf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),$f=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),Jf=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},[Object(a["createTextVNode"])("TB conf., "),Object(a["createVNode"])("b",null,"on"),Object(a["createTextVNode"])(" TB Rx")],-1),Xf={colspan:"2",style:{"font-weight":"normal"}},Qf=Object(a["createVNode"])("td",{class:"numbers"},"88.",-1),Zf=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),em=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),tm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),nm={colspan:"2",style:{"font-weight":"normal"}},rm=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),am=Object(a["createVNode"])("td",{class:"numbers"},"89.",-1),om=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Side effects",-1),im=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),cm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"None",-1),sm={colspan:"2",style:{"font-weight":"normal"}},um=Object(a["createVNode"])("td",{class:"numbers"},"90.",-1),lm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),dm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"ADRReportformfilledforeachcase?(seeQ110.)",-1),pm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Any side effects",-1),bm={colspan:"2",style:{"font-weight":"normal"}},fm=Object(a["createVNode"])("td",{class:"numbers"},"91.",-1),mm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),hm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),gm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),Om={colspan:"2",style:{"font-weight":"normal"}},vm=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",null,""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),_m=Object(a["createVNode"])("td",{class:"numbers"},"92.",-1),jm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Adherence",-1),wm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),ym=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"0  3 doses missed",-1),km={colspan:"2",style:{"font-weight":"normal"}},xm=Object(a["createVNode"])("td",{class:"numbers"},"93.",-1),Nm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Vm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},null,-1),Cm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"4+ doses missed",-1),Dm={colspan:"2",style:{"font-weight":"normal"}},Tm=Object(a["createVNode"])("td",{class:"numbers"},"94.",-1),Rm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Im=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),Sm=Object(a["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),Pm={colspan:"2",style:{"font-weight":"normal"}},Am=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"9",style:{"text-align":"left","font-weight":"bold","padding-left":"10px"}},"Preventive services / HIV related diseases")],-1),Bm=Object(a["createVNode"])("td",{class:"numbers"},"95.",-1),Em=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"TPT",-1),Fm=Object(a["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Number of ART patients newly started on TB preventive therapy this quarter",-1),Lm={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Mm=Object(a["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"6H",-1),Hm={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Um=Object(a["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"3HP",-1),qm=Object(a["createVNode"])("td",{class:"numbers"},"96.",-1),zm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"CPT / IPT",-1),Gm=Object(a["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of patients retained in ART who are currently on CPT / IPT",-1),Ym={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Km=Object(a["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"CPT%",-1),Wm={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},$m=Object(a["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"IPT%",-1),Jm=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"9"},"")],-1),Xm=Object(a["createVNode"])("td",{class:"numbers"},"97.",-1),Qm=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"PIFP",-1),Zm=Object(a["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of women who received Depo at ART in the last quarter",-1),eh={colspan:"4",style:{"text-align":"right","padding-right":"10px","order-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px"}},th=Object(a["createTextVNode"])("%"),nh=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"9"},"")],-1),rh=Object(a["createVNode"])("td",{class:"numbers"},"98.",-1),ah=Object(a["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"BP screen",-1),oh=Object(a["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of adult ART patients with BP recorded at least once this year",-1),ih={colspan:"4",style:{"text-align":"right","padding-right":"10px","order-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px"}},ch=Object(a["createTextVNode"])("%"),sh=Object(a["createVNode"])("tr",{class:"horisonatl-separator"},[Object(a["createVNode"])("td",{class:"numbers"},""),Object(a["createVNode"])("td",{colspan:"9"},"")],-1);Object(a["popScopeId"])();var uh=Qo((function(e,t,n,r,o,i){return Object(a["openBlock"])(),Object(a["createBlock"])("table",null,[Zo,ei,Object(a["createVNode"])("tr",null,[ti,ni,Object(a["createVNode"])("td",ri,[Object(a["createVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(a["withModifiers"])((function(e){i.drillDown("total_registered")}),["prevent"]))},Object(a["toDisplayString"])(e.total_registered),1)]),ai,oi,ii,Object(a["createVNode"])("td",ci,[Object(a["createVNode"])("a",{href:"#",onClick:t[2]||(t[2]=Object(a["withModifiers"])((function(e){i.drillDown("cum_total_registered")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_total_registered),1)]),si,ui]),li,Object(a["createVNode"])("tr",null,[di,pi,bi,Object(a["createVNode"])("td",fi,[Object(a["createVNode"])("a",{href:"#",onClick:t[3]||(t[3]=Object(a["withModifiers"])((function(e){i.drillDown("males_initiated_on_art_first_time")}),["prevent"]))},Object(a["toDisplayString"])(e.males_initiated_on_art_first_time),1)]),mi,hi,gi,Object(a["createVNode"])("td",Oi,[Object(a["createVNode"])("a",{href:"#",onClick:t[4]||(t[4]=Object(a["withModifiers"])((function(e){i.drillDown("cum_males_initiated_on_art_first_time")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_males_initiated_on_art_first_time),1)]),vi,_i]),Object(a["createVNode"])("tr",null,[ji,wi,yi,Object(a["createVNode"])("td",ki,[Object(a["createVNode"])("a",{href:"#",onClick:t[5]||(t[5]=Object(a["withModifiers"])((function(e){i.drillDown("initial_non_pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.initial_non_pregnant_females_all_ages),1)]),xi,Ni,Vi,Object(a["createVNode"])("td",Ci,[Object(a["createVNode"])("a",{href:"#",onClick:t[6]||(t[6]=Object(a["withModifiers"])((function(e){i.drillDown("cum_initial_non_pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_initial_non_pregnant_females_all_ages),1)]),Di,Ti]),Object(a["createVNode"])("tr",null,[Ri,Ii,Si,Object(a["createVNode"])("td",Pi,[Object(a["createVNode"])("a",{href:"#",onClick:t[7]||(t[7]=Object(a["withModifiers"])((function(e){i.drillDown("initial_pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.initial_pregnant_females_all_ages),1)]),Ai,Bi,Ei,Object(a["createVNode"])("td",Fi,[Object(a["createVNode"])("a",{href:"#",onClick:t[8]||(t[8]=Object(a["withModifiers"])((function(e){i.drillDown("cum_initial_pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_initial_pregnant_females_all_ages),1)]),Li,Mi]),Object(a["createVNode"])("tr",null,[Hi,Ui,qi,Object(a["createVNode"])("td",zi,[Object(a["createVNode"])("a",{href:"#",onClick:t[9]||(t[9]=Object(a["withModifiers"])((function(e){i.drillDown("unknown_gender")}),["prevent"]))},Object(a["toDisplayString"])(e.unknown_gender),1)]),Gi,Yi,Ki,Object(a["createVNode"])("td",Wi,[Object(a["createVNode"])("a",{href:"#",onClick:t[10]||(t[10]=Object(a["withModifiers"])((function(e){i.drillDown("cum_unknown_gender")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_unknown_gender),1)]),$i,Ji]),Object(a["createVNode"])("tr",null,[Xi,Qi,Zi,Object(a["createVNode"])("td",ec,[Object(a["createVNode"])("a",{href:"#",onClick:t[11]||(t[11]=Object(a["withModifiers"])((function(e){i.drillDown("initiated_on_art_first_time")}),["prevent"]))},Object(a["toDisplayString"])(e.initiated_on_art_first_time),1)]),tc,nc,rc,Object(a["createVNode"])("td",ac,[Object(a["createVNode"])("a",{href:"#",onClick:t[12]||(t[12]=Object(a["withModifiers"])((function(e){i.drillDown("cum_initiated_on_art_first_time")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_initiated_on_art_first_time),1)]),oc,ic]),Object(a["createVNode"])("tr",null,[cc,sc,Object(a["createVNode"])("td",uc,[Object(a["createVNode"])("a",{href:"#",onClick:t[13]||(t[13]=Object(a["withModifiers"])((function(e){i.drillDown("re_initiated_on_art")}),["prevent"]))},Object(a["toDisplayString"])(e.re_initiated_on_art),1)]),lc,dc,pc,Object(a["createVNode"])("td",bc,[Object(a["createVNode"])("a",{href:"#",onClick:t[14]||(t[14]=Object(a["withModifiers"])((function(e){i.drillDown("cum_re_initiated_on_art")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_re_initiated_on_art),1)]),fc,mc]),Object(a["createVNode"])("tr",null,[hc,gc,Object(a["createVNode"])("td",Oc,[Object(a["createVNode"])("a",{href:"#",onClick:t[15]||(t[15]=Object(a["withModifiers"])((function(e){i.drillDown("transfer_in")}),["prevent"]))},Object(a["toDisplayString"])(e.transfer_in),1)]),vc,_c,jc,Object(a["createVNode"])("td",wc,[Object(a["createVNode"])("a",{href:"#",onClick:t[16]||(t[16]=Object(a["withModifiers"])((function(e){i.drillDown("cum_transfer_in")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_transfer_in),1)]),yc,kc]),xc,Object(a["createVNode"])("tr",null,[Nc,Vc,Object(a["createVNode"])("td",Cc,[Object(a["createVNode"])("a",{href:"#",onClick:t[17]||(t[17]=Object(a["withModifiers"])((function(e){i.drillDown("quarterly_all_males")}),["prevent"]))},Object(a["toDisplayString"])(e.quarterly_all_males),1)]),Dc,Tc,Rc,Object(a["createVNode"])("td",Ic,[Object(a["createVNode"])("a",{href:"#",onClick:t[18]||(t[18]=Object(a["withModifiers"])((function(e){i.drillDown("cummulative_all_males")}),["prevent"]))},Object(a["toDisplayString"])(e.cummulative_all_males),1)]),Sc,Pc]),Object(a["createVNode"])("tr",null,[Ac,Bc,Object(a["createVNode"])("td",Ec,[Object(a["createVNode"])("a",{href:"#",onClick:t[19]||(t[19]=Object(a["withModifiers"])((function(e){i.drillDown("non_pregnant_females")}),["prevent"]))},Object(a["toDisplayString"])(e.non_pregnant_females),1)]),Fc,Lc,Mc,Object(a["createVNode"])("td",Hc,[Object(a["createVNode"])("a",{href:"#",onClick:t[20]||(t[20]=Object(a["withModifiers"])((function(e){i.drillDown("cum_non_pregnant_females")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_non_pregnant_females),1)]),Uc,qc]),Object(a["createVNode"])("tr",null,[zc,Gc,Object(a["createVNode"])("td",Yc,[Object(a["createVNode"])("a",{href:"#",onClick:t[21]||(t[21]=Object(a["withModifiers"])((function(e){i.drillDown("pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.pregnant_females_all_ages),1)]),Kc,Wc,$c,Object(a["createVNode"])("td",Jc,[Object(a["createVNode"])("a",{href:"#",onClick:t[22]||(t[22]=Object(a["withModifiers"])((function(e){i.drillDown("cum_pregnant_females_all_ages")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_pregnant_females_all_ages),1)]),Xc,Qc]),Zc,Object(a["createVNode"])("tr",null,[es,ts,Object(a["createVNode"])("td",ns,[Object(a["createVNode"])("a",{href:"#",onClick:t[23]||(t[23]=Object(a["withModifiers"])((function(e){i.drillDown("children_below_24_months_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.children_below_24_months_at_art_initiation),1)]),rs,as,os,Object(a["createVNode"])("td",is,[Object(a["createVNode"])("a",{href:"#",onClick:t[24]||(t[24]=Object(a["withModifiers"])((function(e){i.drillDown("cum_children_below_24_months_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_children_below_24_months_at_art_initiation),1)]),cs,ss]),Object(a["createVNode"])("tr",null,[us,ls,Object(a["createVNode"])("td",ds,[Object(a["createVNode"])("a",{href:"#",onClick:t[25]||(t[25]=Object(a["withModifiers"])((function(e){i.drillDown("children_24_months_14_years_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.children_24_months_14_years_at_art_initiation),1)]),ps,bs,fs,Object(a["createVNode"])("td",ms,[Object(a["createVNode"])("a",{href:"#",onClick:t[26]||(t[26]=Object(a["withModifiers"])((function(e){i.drillDown("cum_children_24_months_14_years_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_children_24_months_14_years_at_art_initiation),1)]),hs,gs]),Object(a["createVNode"])("tr",null,[Os,vs,Object(a["createVNode"])("td",_s,[Object(a["createVNode"])("a",{href:"#",onClick:t[27]||(t[27]=Object(a["withModifiers"])((function(e){i.drillDown("adults_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.adults_at_art_initiation),1)]),js,ws,ys,Object(a["createVNode"])("td",ks,[Object(a["createVNode"])("a",{href:"#",onClick:t[28]||(t[28]=Object(a["withModifiers"])((function(e){i.drillDown("cum_adults_at_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_adults_at_art_initiation),1)]),xs,Ns]),Vs,Object(a["createVNode"])("tr",null,[Cs,Ds,Ts,Object(a["createVNode"])("td",Rs,[Object(a["createVNode"])("a",{href:"#",onClick:t[29]||(t[29]=Object(a["withModifiers"])((function(e){i.drillDown("presumed_severe_hiv_disease_in_infants")}),["prevent"]))},Object(a["toDisplayString"])(e.presumed_severe_hiv_disease_in_infants),1)]),Is,Ss,Ps,Object(a["createVNode"])("td",As,[Object(a["createVNode"])("a",{href:"#",onClick:t[30]||(t[30]=Object(a["withModifiers"])((function(e){i.drillDown("cum_presumed_severe_hiv_disease_in_infants")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_presumed_severe_hiv_disease_in_infants),1)]),Bs,Es]),Object(a["createVNode"])("tr",null,[Fs,Ls,Ms,Object(a["createVNode"])("td",Hs,[Object(a["createVNode"])("a",{href:"#",onClick:t[31]||(t[31]=Object(a["withModifiers"])((function(e){i.drillDown("confirmed_hiv_infection_in_infants_pcr")}),["prevent"]))},Object(a["toDisplayString"])(e.confirmed_hiv_infection_in_infants_pcr),1)]),Us,qs,zs,Object(a["createVNode"])("td",Gs,[Object(a["createVNode"])("a",{href:"#",onClick:t[32]||(t[32]=Object(a["withModifiers"])((function(e){i.drillDown("cum_confirmed_hiv_infection_in_infants_pcr")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_confirmed_hiv_infection_in_infants_pcr),1)]),Ys,Ks]),Object(a["createVNode"])("tr",null,[Ws,$s,Js,Object(a["createVNode"])("td",Xs,[Object(a["createVNode"])("a",{href:"#",onClick:t[33]||(t[33]=Object(a["withModifiers"])((function(e){i.drillDown("quarterly_children_12_59_months")}),["prevent"]))},Object(a["toDisplayString"])(e.quarterly_children_12_59_months),1)]),Qs,Zs,eu,Object(a["createVNode"])("td",tu,[Object(a["createVNode"])("a",{href:"#",onClick:t[34]||(t[34]=Object(a["withModifiers"])((function(e){i.drillDown("cum_children_12_59_months")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_children_12_59_months),1)]),nu,ru]),Object(a["createVNode"])("tr",null,[au,ou,iu,Object(a["createVNode"])("td",cu,[Object(a["createVNode"])("a",{href:"#",onClick:t[35]||(t[35]=Object(a["withModifiers"])((function(e){i.drillDown("pregnant_women")}),["prevent"]))},Object(a["toDisplayString"])(e.pregnant_women),1)]),su,uu,lu,Object(a["createVNode"])("td",du,[Object(a["createVNode"])("a",{href:"#",onClick:t[36]||(t[36]=Object(a["withModifiers"])((function(e){i.drillDown("cum_pregnant_women")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_pregnant_women),1)]),pu,bu]),Object(a["createVNode"])("tr",null,[fu,mu,hu,Object(a["createVNode"])("td",gu,[Object(a["createVNode"])("a",{href:"#",onClick:t[37]||(t[37]=Object(a["withModifiers"])((function(e){i.drillDown("breastfeeding_mothers")}),["prevent"]))},Object(a["toDisplayString"])(e.breastfeeding_mothers),1)]),Ou,vu,_u,Object(a["createVNode"])("td",ju,[Object(a["createVNode"])("a",{href:"#",onClick:t[38]||(t[38]=Object(a["withModifiers"])((function(e){i.drillDown("cum_breastfeeding_mothers")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_breastfeeding_mothers),1)]),wu,yu]),Object(a["createVNode"])("tr",null,[ku,xu,Nu,Object(a["createVNode"])("td",Vu,[Object(a["createVNode"])("a",{href:"#",onClick:t[39]||(t[39]=Object(a["withModifiers"])((function(e){i.drillDown("who_stage_two")}),["prevent"]))},Object(a["toDisplayString"])(e.who_stage_two),1)]),Cu,Du,Tu,Object(a["createVNode"])("td",Ru,[Object(a["createVNode"])("a",{href:"#",onClick:t[40]||(t[40]=Object(a["withModifiers"])((function(e){i.drillDown("cum_who_stage_two")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_who_stage_two),1)]),Iu,Su]),Object(a["createVNode"])("tr",null,[Pu,Au,Bu,Object(a["createVNode"])("td",Eu,[Object(a["createVNode"])("a",{href:"#",onClick:t[41]||(t[41]=Object(a["withModifiers"])((function(e){i.drillDown("asymptomatic")}),["prevent"]))},Object(a["toDisplayString"])(e.asymptomatic),1)]),Fu,Lu,Mu,Object(a["createVNode"])("td",Hu,[Object(a["createVNode"])("a",{href:"#",onClick:t[42]||(t[42]=Object(a["withModifiers"])((function(e){i.drillDown("cum_asymptomatic")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_asymptomatic),1)]),Uu,qu]),Object(a["createVNode"])("tr",null,[zu,Gu,Yu,Object(a["createVNode"])("td",Ku,[Object(a["createVNode"])("a",{href:"#",onClick:t[43]||(t[43]=Object(a["withModifiers"])((function(e){i.drillDown("who_stage_three")}),["prevent"]))},Object(a["toDisplayString"])(e.who_stage_three),1)]),Wu,$u,Ju,Object(a["createVNode"])("td",Xu,[Object(a["createVNode"])("a",{href:"#",onClick:t[44]||(t[44]=Object(a["withModifiers"])((function(e){i.drillDown("cum_who_stage_three")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_who_stage_three),1)]),Qu,Zu]),Object(a["createVNode"])("tr",null,[el,tl,nl,Object(a["createVNode"])("td",rl,[Object(a["createVNode"])("a",{href:"#",onClick:t[45]||(t[45]=Object(a["withModifiers"])((function(e){i.drillDown("who_stage_four")}),["prevent"]))},Object(a["toDisplayString"])(e.who_stage_four),1)]),al,ol,il,Object(a["createVNode"])("td",cl,[Object(a["createVNode"])("a",{href:"#",onClick:t[46]||(t[46]=Object(a["withModifiers"])((function(e){i.drillDown("cum_who_stage_four")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_who_stage_four),1)]),sl,ul]),Object(a["createVNode"])("tr",null,[ll,dl,pl,Object(a["createVNode"])("td",bl,[Object(a["createVNode"])("a",{href:"#",onClick:t[47]||(t[47]=Object(a["withModifiers"])((function(e){i.drillDown("unknown_other_reason_outside_guidelines")}),["prevent"]))},Object(a["toDisplayString"])(e.unknown_other_reason_outside_guidelines),1)]),fl,ml,hl,Object(a["createVNode"])("td",gl,[Object(a["createVNode"])("a",{href:"#",onClick:t[48]||(t[48]=Object(a["withModifiers"])((function(e){i.drillDown("cum_unknown_other_reason_outside_guidelines")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_unknown_other_reason_outside_guidelines),1)]),Ol,vl]),_l,Object(a["createVNode"])("tr",null,[jl,wl,yl,Object(a["createVNode"])("td",kl,[Object(a["createVNode"])("a",{href:"#",onClick:t[49]||(t[49]=Object(a["withModifiers"])((function(e){i.drillDown("no_tb")}),["prevent"]))},Object(a["toDisplayString"])(e.no_tb),1)]),xl,Nl,Vl,Object(a["createVNode"])("td",Cl,[Object(a["createVNode"])("a",{href:"#",onClick:t[50]||(t[50]=Object(a["withModifiers"])((function(e){i.drillDown("cum_no_tb")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_no_tb),1)]),Dl,Tl]),Object(a["createVNode"])("tr",null,[Rl,Il,Sl,Object(a["createVNode"])("td",Pl,[Object(a["createVNode"])("a",{href:"#",onClick:t[51]||(t[51]=Object(a["withModifiers"])((function(e){i.drillDown("tb_within_the_last_two_years")}),["prevent"]))},Object(a["toDisplayString"])(e.tb_within_the_last_two_years),1)]),Al,Bl,El,Object(a["createVNode"])("td",Fl,[Object(a["createVNode"])("a",{href:"#",onClick:t[52]||(t[52]=Object(a["withModifiers"])((function(e){i.drillDown("cum_tb_within_the_last_two_years")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_tb_within_the_last_two_years),1)]),Ll,Ml]),Object(a["createVNode"])("tr",null,[Hl,Ul,ql,Object(a["createVNode"])("td",zl,[Object(a["createVNode"])("a",{href:"#",onClick:t[53]||(t[53]=Object(a["withModifiers"])((function(e){i.drillDown("current_episode_of_tb")}),["prevent"]))},Object(a["toDisplayString"])(e.current_episode_of_tb),1)]),Gl,Yl,Kl,Object(a["createVNode"])("td",Wl,[Object(a["createVNode"])("a",{href:"#",onClick:t[54]||(t[54]=Object(a["withModifiers"])((function(e){i.drillDown("cum_current_episode_of_tb")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_current_episode_of_tb),1)]),$l,Jl]),Xl,Object(a["createVNode"])("tr",null,[Ql,Zl,ed,Object(a["createVNode"])("td",td,[Object(a["createVNode"])("a",{href:"#",onClick:t[55]||(t[55]=Object(a["withModifiers"])((function(e){i.drillDown("kaposis_sarcoma")}),["prevent"]))},Object(a["toDisplayString"])(e.kaposis_sarcoma),1)]),nd,rd,ad,Object(a["createVNode"])("td",od,[Object(a["createVNode"])("a",{href:"#",onClick:t[56]||(t[56]=Object(a["withModifiers"])((function(e){i.drillDown("cum_kaposis_sarcoma")}),["prevent"]))},Object(a["toDisplayString"])(e.cum_kaposis_sarcoma),1)]),id,cd]),sd,ud,Object(a["createVNode"])("tr",null,[ld,dd,Object(a["createVNode"])("td",pd,[Object(a["createVNode"])("a",{href:"#",onClick:t[57]||(t[57]=Object(a["withModifiers"])((function(e){i.drillDown("total_alive_and_on_art")}),["prevent"]))},Object(a["toDisplayString"])(e.total_alive_and_on_art),1)]),bd,fd]),md,Object(a["createVNode"])("tr",null,[hd,gd,Od,Object(a["createVNode"])("td",vd,[Object(a["createVNode"])("a",{href:"#",onClick:t[58]||(t[58]=Object(a["withModifiers"])((function(e){i.drillDown("died_within_the_1st_month_of_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.died_within_the_1st_month_of_art_initiation),1)]),_d,jd]),Object(a["createVNode"])("tr",null,[wd,yd,kd,Object(a["createVNode"])("td",xd,[Object(a["createVNode"])("a",{href:"#",onClick:t[59]||(t[59]=Object(a["withModifiers"])((function(e){i.drillDown("died_within_the_2nd_month_of_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.died_within_the_2nd_month_of_art_initiation),1)]),Nd,Vd]),Object(a["createVNode"])("tr",null,[Cd,Dd,Td,Object(a["createVNode"])("td",Rd,[Object(a["createVNode"])("a",{href:"#",onClick:t[60]||(t[60]=Object(a["withModifiers"])((function(e){i.drillDown("died_within_the_3rd_month_of_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.died_within_the_3rd_month_of_art_initiation),1)]),Id,Sd]),Object(a["createVNode"])("tr",null,[Pd,Ad,Bd,Object(a["createVNode"])("td",Ed,[Object(a["createVNode"])("a",{href:"#",onClick:t[61]||(t[61]=Object(a["withModifiers"])((function(e){i.drillDown("died_after_the_3rd_month_of_art_initiation")}),["prevent"]))},Object(a["toDisplayString"])(e.died_after_the_3rd_month_of_art_initiation),1)]),Fd,Ld]),Object(a["createVNode"])("tr",null,[Md,Hd,Object(a["createVNode"])("td",Ud,[Object(a["createVNode"])("a",{href:"#",onClick:t[62]||(t[62]=Object(a["withModifiers"])((function(e){i.drillDown("died_total")}),["prevent"]))},Object(a["toDisplayString"])(e.died_total),1)]),qd,zd]),Object(a["createVNode"])("tr",null,[Gd,Yd,Object(a["createVNode"])("td",Kd,[Object(a["createVNode"])("a",{href:"#",onClick:t[63]||(t[63]=Object(a["withModifiers"])((function(e){i.drillDown("defaulted")}),["prevent"]))},Object(a["toDisplayString"])(e.defaulted),1)]),Wd,$d]),Object(a["createVNode"])("tr",null,[Jd,Xd,Object(a["createVNode"])("td",Qd,[Object(a["createVNode"])("a",{href:"#",onClick:t[64]||(t[64]=Object(a["withModifiers"])((function(e){i.drillDown("stopped_art")}),["prevent"]))},Object(a["toDisplayString"])(e.stopped_art),1)]),Zd,ep]),Object(a["createVNode"])("tr",null,[tp,np,Object(a["createVNode"])("td",rp,[Object(a["createVNode"])("a",{href:"#",onClick:t[65]||(t[65]=Object(a["withModifiers"])((function(e){i.drillDown("transfered_out")}),["prevent"]))},Object(a["toDisplayString"])(e.transfered_out),1)]),ap,op]),ip,cp,sp,up,Object(a["createVNode"])("tr",null,[lp,dp,pp,bp,fp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[66]||(t[66]=Object(a["withModifiers"])((function(e){i.drillDown("zero_p")}),["prevent"]))},Object(a["toDisplayString"])(e.zero_p),1)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[67]||(t[67]=Object(a["withModifiers"])((function(e){i.drillDown("zero_a")}),["prevent"]))},Object(a["toDisplayString"])(e.zero_a),1)])]),Object(a["createVNode"])("tr",null,[mp,hp,gp,Op,vp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[68]||(t[68]=Object(a["withModifiers"])((function(e){i.drillDown("two_p")}),["prevent"]))},Object(a["toDisplayString"])(e.two_p),1)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[69]||(t[69]=Object(a["withModifiers"])((function(e){i.drillDown("two_a")}),["prevent"]))},Object(a["toDisplayString"])(e.two_a),1)])]),Object(a["createVNode"])("tr",null,[_p,jp,wp,yp,kp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[70]||(t[70]=Object(a["withModifiers"])((function(e){i.drillDown("four_p")}),["prevent"]))},Object(a["toDisplayString"])(e.four_p),1)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[71]||(t[71]=Object(a["withModifiers"])((function(e){i.drillDown("four_a")}),["prevent"]))},Object(a["toDisplayString"])(e.four_a),1)])]),Object(a["createVNode"])("tr",null,[xp,Np,Vp,Cp,Dp,Tp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[72]||(t[72]=Object(a["withModifiers"])((function(e){i.drillDown("five_a")}),["prevent"]))},Object(a["toDisplayString"])(e.five_a),1)])]),Object(a["createVNode"])("tr",null,[Rp,Ip,Sp,Pp,Ap,Bp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[73]||(t[73]=Object(a["withModifiers"])((function(e){i.drillDown("six_a")}),["prevent"]))},Object(a["toDisplayString"])(e.six_a),1)])]),Object(a["createVNode"])("tr",null,[Ep,Fp,Lp,Mp,Hp,Up,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[74]||(t[74]=Object(a["withModifiers"])((function(e){i.drillDown("seven_a")}),["prevent"]))},Object(a["toDisplayString"])(e.seven_a),1)])]),Object(a["createVNode"])("tr",null,[qp,zp,Gp,Yp,Kp,Wp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[75]||(t[75]=Object(a["withModifiers"])((function(e){i.drillDown("eight_a")}),["prevent"]))},Object(a["toDisplayString"])(e.eight_a),1)])]),Object(a["createVNode"])("tr",null,[$p,Jp,Xp,Qp,Zp,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",eb,[tb,Object(a["createVNode"])("div",nb,[Object(a["createVNode"])("div",rb,[Object(a["createVNode"])("a",{href:"#",onClick:t[76]||(t[76]=Object(a["withModifiers"])((function(e){i.drillDown("nine_p_tabs")}),["prevent"])),id:"nine_p_tabs"},Object(a["toDisplayString"])(e.nine_p_tabs),1)]),Object(a["createVNode"])("div",ab,[Object(a["createVNode"])("a",{href:"#",onClick:t[77]||(t[77]=Object(a["withModifiers"])((function(e){i.drillDown("nine_p_granules")}),["prevent"])),id:"nine_p_granules"},Object(a["toDisplayString"])(e.nine_p_granules),1)])])])]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[78]||(t[78]=Object(a["withModifiers"])((function(e){i.drillDown("nine_a")}),["prevent"]))},Object(a["toDisplayString"])(e.nine_a),1)])]),Object(a["createVNode"])("tr",null,[ob,ib,cb,sb,ub,lb,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[79]||(t[79]=Object(a["withModifiers"])((function(e){i.drillDown("ten_a")}),["prevent"]))},Object(a["toDisplayString"])(e.ten_a),1)])]),Object(a["createVNode"])("tr",null,[db,pb,bb,fb,mb,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",hb,[gb,Object(a["createVNode"])("div",Ob,[Object(a["createVNode"])("div",vb,[Object(a["createVNode"])("a",{href:"#",onClick:t[80]||(t[80]=Object(a["withModifiers"])((function(e){i.drillDown("eleven_p_tabs")}),["prevent"])),id:"eleven_p_tabs"},Object(a["toDisplayString"])(e.eleven_p_tabs),1)]),Object(a["createVNode"])("div",_b,[Object(a["createVNode"])("a",{href:"#",onClick:t[81]||(t[81]=Object(a["withModifiers"])((function(e){i.drillDown("eleven_p_granules")}),["prevent"])),id:"eleven_p_granules"},Object(a["toDisplayString"])(e.eleven_p_granules),1)])])])]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[82]||(t[82]=Object(a["withModifiers"])((function(e){i.drillDown("eleven_a")}),["prevent"]))},Object(a["toDisplayString"])(e.eleven_a),1)])]),Object(a["createVNode"])("tr",null,[jb,wb,yb,kb,xb,Nb,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[83]||(t[83]=Object(a["withModifiers"])((function(e){i.drillDown("twelve_a")}),["prevent"]))},Object(a["toDisplayString"])(e.twelve_a),1)])]),Object(a["createVNode"])("tr",null,[Vb,Cb,Db,Tb,Rb,Ib,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[84]||(t[84]=Object(a["withModifiers"])((function(e){i.drillDown("thirteen_a")}),["prevent"]))},Object(a["toDisplayString"])(e.thirteen_a),1)])]),Object(a["createVNode"])("tr",null,[Sb,Pb,Ab,Bb,Eb,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",Fb,[Lb,Object(a["createVNode"])("div",Mb,[Object(a["createVNode"])("div",Hb,[Object(a["createVNode"])("a",{href:"#",onClick:t[85]||(t[85]=function(e){i.drillDown("fourteen_pp")}),id:"fourteen_pp"},Object(a["toDisplayString"])(e.fourteen_pp),1)]),Object(a["createVNode"])("div",Ub,[Object(a["createVNode"])("a",{href:"#",onClick:t[86]||(t[86]=function(e){i.drillDown("fourteen_p")}),id:"fourteen_p"},Object(a["toDisplayString"])(e.fourteen_p),1)])])])]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[87]||(t[87]=Object(a["withModifiers"])((function(e){i.drillDown("fourteen_a")}),["prevent"]))},Object(a["toDisplayString"])(e.fourteen_a),1)])]),Object(a["createVNode"])("tr",null,[qb,zb,Gb,Yb,Kb,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",Wb,[$b,Object(a["createVNode"])("div",Jb,[Object(a["createVNode"])("div",Xb,[Object(a["createVNode"])("a",{href:"#",onClick:t[88]||(t[88]=function(e){i.drillDown("fifteen_pp")}),id:"fifteen_pp"},Object(a["toDisplayString"])(e.fifteen_pp),1)]),Object(a["createVNode"])("div",Qb,[Object(a["createVNode"])("a",{href:"#",onClick:t[89]||(t[89]=function(e){i.drillDown("fifteen_p")}),id:"fifteen_p"},Object(a["toDisplayString"])(e.fifteen_p),1)])])])]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[90]||(t[90]=Object(a["withModifiers"])((function(e){i.drillDown("fifteen_a")}),["prevent"]))},Object(a["toDisplayString"])(e.fifteen_a),1)])]),Object(a["createVNode"])("tr",null,[Zb,ef,tf,nf,rf,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[91]||(t[91]=Object(a["withModifiers"])((function(e){i.drillDown("sixteen_p")}),["prevent"]))},Object(a["toDisplayString"])(e.sixteen_p),1)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[92]||(t[92]=Object(a["withModifiers"])((function(e){i.drillDown("sixteen_a")}),["prevent"]))},Object(a["toDisplayString"])(e.sixteen_a),1)])]),Object(a["createVNode"])("tr",null,[af,of,cf,sf,uf,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[93]||(t[93]=Object(a["withModifiers"])((function(e){i.drillDown("seventeen_p")}),["prevent"]))},Object(a["toDisplayString"])(e.seventeen_p),1)]),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[94]||(t[94]=Object(a["withModifiers"])((function(e){i.drillDown("seventeen_a")}),["prevent"]))},Object(a["toDisplayString"])(e.seventeen_a),1)])]),Object(a["createVNode"])("tr",null,[lf,df,pf,bf,ff,Object(a["createVNode"])("td",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[95]||(t[95]=Object(a["withModifiers"])((function(e){i.drillDown("unknown_regimen")}),["prevent"]))},Object(a["toDisplayString"])(e.unknown_regimen),1)])]),mf,Object(a["createVNode"])("tr",null,[hf,gf,Of,vf,Object(a["createVNode"])("td",_f,[Object(a["createVNode"])("a",{href:"#",onClick:t[96]||(t[96]=Object(a["withModifiers"])((function(e){i.drillDown("total_pregnant_women")}),["prevent"]))},Object(a["toDisplayString"])(e.total_pregnant_women),1)])]),Object(a["createVNode"])("tr",null,[jf,wf,yf,kf,Object(a["createVNode"])("td",xf,[Object(a["createVNode"])("a",{href:"#",onClick:t[97]||(t[97]=Object(a["withModifiers"])((function(e){i.drillDown("total_breastfeeding_women")}),["prevent"]))},Object(a["toDisplayString"])(e.total_breastfeeding_women),1)])]),Object(a["createVNode"])("tr",null,[Nf,Vf,Cf,Df,Object(a["createVNode"])("td",Tf,[Object(a["createVNode"])("a",{href:"#",onClick:t[98]||(t[98]=Object(a["withModifiers"])((function(e){i.drillDown("total_other_patients")}),["prevent"]))},Object(a["toDisplayString"])(e.total_other_patients),1)])]),Rf,Object(a["createVNode"])("tr",null,[If,Sf,Pf,Af,Object(a["createVNode"])("td",Bf,[Object(a["createVNode"])("a",{href:"#",onClick:t[99]||(t[99]=Object(a["withModifiers"])((function(e){i.drillDown("tb_not_suspected")}),["prevent"]))},Object(a["toDisplayString"])(e.tb_not_suspected),1)])]),Object(a["createVNode"])("tr",null,[Ef,Ff,Lf,Mf,Object(a["createVNode"])("td",Hf,[Object(a["createVNode"])("a",{href:"#",onClick:t[100]||(t[100]=Object(a["withModifiers"])((function(e){i.drillDown("tb_suspected")}),["prevent"]))},Object(a["toDisplayString"])(e.tb_suspected),1)])]),Object(a["createVNode"])("tr",null,[Uf,qf,zf,Gf,Object(a["createVNode"])("td",Yf,[Object(a["createVNode"])("a",{href:"#",onClick:t[101]||(t[101]=Object(a["withModifiers"])((function(e){i.drillDown("tb_confirmed_currently_not_yet_on_tb_treatment")}),["prevent"]))},Object(a["toDisplayString"])(e.tb_confirmed_currently_not_yet_on_tb_treatment),1)])]),Object(a["createVNode"])("tr",null,[Kf,Wf,$f,Jf,Object(a["createVNode"])("td",Xf,[Object(a["createVNode"])("a",{href:"#",onClick:t[102]||(t[102]=Object(a["withModifiers"])((function(e){i.drillDown("tb_confirmed_on_tb_treatment")}),["prevent"]))},Object(a["toDisplayString"])(e.tb_confirmed_on_tb_treatment),1)])]),Object(a["createVNode"])("tr",null,[Qf,Zf,em,tm,Object(a["createVNode"])("td",nm,[Object(a["createVNode"])("a",{href:"#",onClick:t[103]||(t[103]=Object(a["withModifiers"])((function(e){i.drillDown("unknown_tb_status")}),["prevent"]))},Object(a["toDisplayString"])(e.unknown_tb_status),1)])]),rm,Object(a["createVNode"])("tr",null,[am,om,im,cm,Object(a["createVNode"])("td",sm,[Object(a["createVNode"])("a",{href:"#",onClick:t[104]||(t[104]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_without_side_effects")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_without_side_effects),1)])]),Object(a["createVNode"])("tr",null,[um,lm,dm,pm,Object(a["createVNode"])("td",bm,[Object(a["createVNode"])("a",{href:"#",onClick:t[105]||(t[105]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_with_side_effects")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_with_side_effects),1)])]),Object(a["createVNode"])("tr",null,[fm,mm,hm,gm,Object(a["createVNode"])("td",Om,[Object(a["createVNode"])("a",{href:"#",onClick:t[106]||(t[106]=Object(a["withModifiers"])((function(e){i.drillDown("unknown_side_effects")}),["prevent"]))},Object(a["toDisplayString"])(e.unknown_side_effects),1)])]),vm,Object(a["createVNode"])("tr",null,[_m,jm,wm,ym,Object(a["createVNode"])("td",km,[Object(a["createVNode"])("a",{href:"#",onClick:t[107]||(t[107]=Object(a["withModifiers"])((function(e){i.drillDown("patients_with_0_6_doses_missed_at_their_last_visit")}),["prevent"]))},Object(a["toDisplayString"])(e.patients_with_0_6_doses_missed_at_their_last_visit),1)])]),Object(a["createVNode"])("tr",null,[xm,Nm,Vm,Cm,Object(a["createVNode"])("td",Dm,[Object(a["createVNode"])("a",{href:"#",onClick:t[108]||(t[108]=Object(a["withModifiers"])((function(e){i.drillDown("patients_with_7_plus_doses_missed_at_their_last_visit")}),["prevent"]))},Object(a["toDisplayString"])(e.patients_with_7_plus_doses_missed_at_their_last_visit),1)])]),Object(a["createVNode"])("tr",null,[Tm,Rm,Im,Sm,Object(a["createVNode"])("td",Pm,[Object(a["createVNode"])("a",{href:"#",onClick:t[109]||(t[109]=Object(a["withModifiers"])((function(e){i.drillDown("patients_with_unknown_adhrence")}),["prevent"]))},Object(a["toDisplayString"])(e.patients_with_unknown_adhrence),1)])]),Am,Object(a["createVNode"])("tr",null,[Bm,Em,Fm,Object(a["createVNode"])("td",Lm,[Object(a["createVNode"])("a",{href:"#",onClick:t[110]||(t[110]=Object(a["withModifiers"])((function(e){i.drillDown("newly_initiated_on_ipt")}),["prevent"]))},Object(a["toDisplayString"])(e.newly_initiated_on_ipt),1)]),Mm,Object(a["createVNode"])("td",Hm,[Object(a["createVNode"])("a",{href:"#",onClick:t[111]||(t[111]=Object(a["withModifiers"])((function(e){i.drillDown("newly_initiated_on_3hp")}),["prevent"]))},Object(a["toDisplayString"])(e.newly_initiated_on_3hp),1)]),Um]),Object(a["createVNode"])("tr",null,[qm,zm,Gm,Object(a["createVNode"])("td",Ym,[Object(a["createVNode"])("a",{href:"#",onClick:t[112]||(t[112]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_on_arvs_and_cpt")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_on_arvs_and_cpt),1)]),Km,Object(a["createVNode"])("td",Wm,[Object(a["createVNode"])("a",{href:"#",onClick:t[113]||(t[113]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_on_arvs_and_ipt")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_on_arvs_and_ipt),1)]),$m]),Jm,Object(a["createVNode"])("tr",null,[Xm,Qm,Zm,Object(a["createVNode"])("td",eh,[Object(a["createVNode"])("span",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[114]||(t[114]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_on_family_planning")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_on_family_planning),1)]),th])]),nh,Object(a["createVNode"])("tr",null,[rh,ah,oh,Object(a["createVNode"])("td",ih,[Object(a["createVNode"])("span",null,[Object(a["createVNode"])("a",{href:"#",onClick:t[115]||(t[115]=Object(a["withModifiers"])((function(e){i.drillDown("total_patients_on_family_planning")}),["prevent"]))},Object(a["toDisplayString"])(e.total_patients_with_screened_bp),1)]),ch])]),sh])})),lh=(n("2b3d"),n("5a0c")),dh=n.n(lh),ph={data:function(){return{items:[3,4,5,6,7,8,9],re_initiated_on_art:0,cum_re_initiated_on_art:0,total_registered:0,cum_total_registered:0,quarterly_all_males:0,cummulative_all_males:0,pregnant_females_all_ages:0,cum_pregnant_females_all_ages:0,non_pregnant_females:0,cum_non_pregnant_females:0,children_below_24_months_at_art_initiation:0,cum_children_below_24_months_at_art_initiation:0,confirmed_hiv_infection_in_infants_pcr:0,cum_confirmed_hiv_infection_in_infants_pcr:0,quarterly_children_12_59_months:0,cum_children_12_59_months:0,breastfeeding_mothers:0,cum_breastfeeding_mothers:0,who_stage_two:0,cum_who_stage_two:0,asymptomatic:0,cum_asymptomatic:0,who_stage_three:0,cum_who_stage_three:0,who_stage_four:0,cum_who_stage_four:0,unknown_other_reason_outside_guidelines:0,cum_unknown_other_reason_outside_guidelines:0,no_tb:0,cum_no_tb:0,tb_within_the_last_two_years:0,cum_tb_within_the_last_two_years:0,current_episode_of_tb:0,cum_current_episode_of_tb:0,kaposis_sarcoma:0,cum_kaposis_sarcoma:0,total_alive_and_on_art:0,died_within_the_1st_month_of_art_initiation:0,died_within_the_2nd_month_of_art_initiation:0,died_within_the_3rd_month_of_art_initiation:0,died_after_the_3rd_month_of_art_initiation:0,died_total:0,defaulted:0,stopped_art:0,transfered_out:0,zero_p:0,zero_a:0,two_p:0,two_a:0,four_p:0,four_a:0,five_a:0,six_a:0,seven_a:0,eight_a:0,nine_p:0,nine_p_tabs:0,nine_p_granules:0,nine_a:0,ten_a:0,eleven_p:0,eleven_p_tabs:0,eleven_p_granules:0,eleven_a:0,twelve_a:0,thirteen_a:0,fourteen_p:0,fourteen_a:0,fifteen_p:0,fifteen_a:0,sixteen_p:0,sixteen_a:0,seventeen_p:0,seventeen_a:0,unknown_regimen:0,total_pregnant_women:0,total_breastfeeding_women:0,total_other_patients:0,tb_not_suspected:0,tb_suspected:0,tb_confirmed_currently_not_yet_on_tb_treatment:0,tb_confirmed_on_tb_treatment:0,unknown_tb_status:0,total_patients_without_side_effects:0,total_patients_with_side_effects:0,unknown_side_effects:0,patients_with_0_6_doses_missed_at_their_last_visit:0,patients_with_7_plus_doses_missed_at_their_last_visit:0,patients_with_unknown_adhrence:0,total_patients_on_arvs_and_cpt:0,total_patients_on_arvs_and_ipt:0,total_patients_on_family_planning:0,total_patients_with_screened_bp:0,transfer_in:0,cum_transfer_in:0,males_initiated_on_art_first_time:0,cum_males_initiated_on_art_first_time:0,initial_pregnant_females_all_ages:0,cum_initial_pregnant_females_all_ages:0,initial_non_pregnant_females_all_ages:0,cum_initial_non_pregnant_females_all_ages:0,unknown_gender:0,cum_unknown_gender:0,initiated_on_art_first_time:0,cum_initiated_on_art_first_time:0,cum_children_24_months_14_years_at_art_initiation:0,adults_at_art_initiation:0,cum_adults_at_art_initiation:0,presumed_severe_hiv_disease_in_infants:0,cum_presumed_severe_hiv_disease_in_infants:0,pregnant_women:0,cum_pregnant_women:0,children_24_months_14_years_at_art_initiation:0,newly_initiated_on_3hp:0,newly_initiated_on_ipt:0}},props:["params","reportid","quarter","onDrillDown"],methods:{onDownload:function(){var e="Indicator,\tValue,\n      total_registered,".concat(this.total_registered,",\n      cum_total_registered,").concat(this.cum_total_registered,",\n      initiated_on_art_first_time,").concat(this.initiated_on_art_first_time,",\n      cum_initiated_on_art_first_time,").concat(this.cum_initiated_on_art_first_time,",\n      males_initiated_on_art_first_time,").concat(this.males_initiated_on_art_first_time,",\n      cum_males_initiated_on_art_first_time,").concat(this.cum_males_initiated_on_art_first_time,",\n      re_initiated_on_art,").concat(this.re_initiated_on_art,",\n      cum_re_initiated_on_art,").concat(this.cum_re_initiated_on_art,",\n      transfer_in,").concat(this.transfer_in,",\n      cum_transfer_in,").concat(this.cum_transfer_in,",\n      cum_all_males,").concat(this.cummulative_all_males,",\n      quarterly_all_males,").concat(this.quarterly_all_males,",\n      pregnant_females_all_ages,").concat(this.pregnant_females_all_ages,",\n      cum_pregnant_females_all_ages,").concat(this.cum_pregnant_females_all_ages,",\n      initial_pregnant_females_all_ages,").concat(this.initial_pregnant_females_all_ages,",\n      cum_initial_pregnant_females_all_ages,").concat(this.cum_initial_pregnant_females_all_ages,",\n      non_pregnant_females,").concat(this.non_pregnant_females,",\n      cum_non_pregnant_females,").concat(this.cum_non_pregnant_females,",\n      initial_non_pregnant_females_all_ages,").concat(this.initial_non_pregnant_females_all_ages,",\n      cum_initial_non_pregnant_females_all_ages,").concat(this.cum_initial_non_pregnant_females_all_ages,",\n      children_below_24_months_at_art_initiation,").concat(this.children_below_24_months_at_art_initiation,",\n      cum_children_below_24_months_at_art_initiation,").concat(this.cum_children_below_24_months_at_art_initiation,",\n      children_24_months_14_years_at_art_initiation,").concat(this.children_24_months_14_years_at_art_initiation,",\n      cum_children_24_months_14_years_at_art_initiation,").concat(this.cum_children_24_months_14_years_at_art_initiation,",\n      adults_at_art_initiation,").concat(this.adults_at_art_initiation,",\n      cum_adults_at_art_initiation,").concat(this.cum_adults_at_art_initiation,",\n      unknown_gender,").concat(this.unknown_gender,",\n      cum_unknown_gender,").concat(this.cum_unknown_gender,",\n      presumed_severe_hiv_disease_in_infants,").concat(this.presumed_severe_hiv_disease_in_infants,",\n      cum_presumed_severe_hiv_disease_in_infants,").concat(this.cum_presumed_severe_hiv_disease_in_infants,",\n      confirmed_hiv_infection_in_infants_pcr,").concat(this.confirmed_hiv_infection_in_infants_pcr,",\n      cum_confirmed_hiv_infection_in_infants_pcr,").concat(this.cum_confirmed_hiv_infection_in_infants_pcr,",\n      who_stage_two,").concat(this.who_stage_two,",\n      cum_who_stage_two,").concat(this.cum_who_stage_two,",\n      breastfeeding_mothers,").concat(this.breastfeeding_mothers,",\n      cum_breastfeeding_mothers,").concat(this.cum_breastfeeding_mothers,",\n      pregnant_women,").concat(this.pregnant_women,",\n      cum_pregnant_women,").concat(this.cum_pregnant_women,",\n      who_stage_three,").concat(this.who_stage_three,",\n      cum_who_stage_three,").concat(this.cum_who_stage_three,",\n      who_stage_four,").concat(this.who_stage_four,",\n      cum_who_stage_four,").concat(this.cum_who_stage_four,",\n      asymptomatic,").concat(this.asymptomatic,",\n      cum_asymptomatic,").concat(this.cum_asymptomatic,",\n      unknown_other_reason_outside_guidelines,").concat(this.unknown_other_reason_outside_guidelines,",\n      cum_unknown_other_reason_outside_guidelines,").concat(this.cum_unknown_other_reason_outside_guidelines,",\n      cum_children_12_59_months,").concat(this.cum_children_12_59_months,",\n      quarterly_children_12_59_months,").concat(this.quarterly_children_12_59_months,",\n      current_episode_of_tb,").concat(this.current_episode_of_tb,",\n      cum_current_episode_of_tb,").concat(this.cum_current_episode_of_tb,",\n      tb_within_the_last_two_years,").concat(this.tb_within_the_last_two_years,",\n      cum_tb_within_the_last_two_years,").concat(this.cum_tb_within_the_last_two_years,",\n      no_tb,").concat(this.no_tb,",\n      cum_no_tb,").concat(this.cum_no_tb,",\n      kaposis_sarcoma,").concat(this.kaposis_sarcoma,",\n      cum_kaposis_sarcoma,").concat(this.cum_kaposis_sarcoma,",\n      total_alive_and_on_art,").concat(this.total_alive_and_on_art,",\n      died_within_the_1st_month_of_art_initiation,").concat(this.died_within_the_1st_month_of_art_initiation,",\n      died_within_the_2nd_month_of_art_initiation,").concat(this.died_within_the_2nd_month_of_art_initiation,",\n      died_within_the_3rd_month_of_art_initiation,").concat(this.died_within_the_3rd_month_of_art_initiation,",\n      died_after_the_3rd_month_of_art_initiation,").concat(this.died_after_the_3rd_month_of_art_initiation,",\n      died_total,").concat(this.died_total,",\n      defaulted,").concat(this.defaulted,",\n      stopped_art,").concat(this.stopped_art,",\n      transfered_out,").concat(this.transfered_out,",\n      zero_a,").concat(this.zero_a,",\n      zero_p,").concat(this.zero_p,",\n      two_a,").concat(this.two_a,",\n      two_p,").concat(this.two_p,",\n      four_a,").concat(this.four_a,",\n      four_p,").concat(this.four_p,",\n      five_a,").concat(this.five_a,",\n      six_a,").concat(this.six_a,",\n      seven_a,").concat(this.seven_a,",\n      eight_a,").concat(this.eight_a,",\n      nine_a,").concat(this.nine_a,",\n      nine_p_granules,").concat(this.nine_p_granules,",\n      nine_p_tabs,").concat(this.nine_p_tabs,",\n      ten_a,").concat(this.ten_a,",\n      eleven_a,").concat(this.eleven_a,",\n      eleven_p_granules,").concat(this.eleven_p_granules,",\n      eleven_p_tabs,").concat(this.eleven_p_tabs,",\n      twelve_a,").concat(this.twelve_a,",\n      thirteen_a,").concat(this.thirteen_a,",\n      fourteen_p,").concat(this.fourteen_p,",\n      fourteen_p,").concat(this.fourteen_pp,",\n      fourteen_a,").concat(this.fourteen_a,",\n      fifteen_p,").concat(this.fifteen_p,",\n      fifteen_p,").concat(this.fifteen_pp,",\n      fifteen_a,").concat(this.fifteen_a,",\n      sixteen_p,").concat(this.sixteen_p,",\n      sixteen_a,").concat(this.sixteen_a,",\n      seventeen_p,").concat(this.seventeen_p,",\n      seventeen_a,").concat(this.seventeen_a,",\n      unknown_regimen,").concat(this.unknown_regimen,",\n      total_patients_with_side_effects,").concat(this.total_patients_with_side_effects,",\n      total_patients_without_side_effects,").concat(this.total_patients_without_side_effects,",\n      unknown_side_effects,").concat(this.unknown_side_effects,",\n      tb_suspected,").concat(this.tb_suspected,",\n      tb_not_suspected,").concat(this.tb_not_suspected,",\n      tb_confirmed_on_tb_treatment,").concat(this.tb_confirmed_on_tb_treatment,",\n      tb_confirmed_currently_not_yet_on_tb_treatment,").concat(this.tb_confirmed_currently_not_yet_on_tb_treatment,"\n      unknown_tb_status,").concat(this.unknown_tb_status,",\n      patients_with_0_6_doses_missed_at_their_last_visit,").concat(this.patients_with_0_6_doses_missed_at_their_last_visit,",\n      patients_with_7_plus_doses_missed_at_their_last_visit,").concat(this.patients_with_7_plus_doses_missed_at_their_last_visit,",\n      patients_with_unknown_adhrence,").concat(this.patients_with_unknown_adhrence,",\n      total_pregnant_women,").concat(this.total_pregnant_women,",\n      total_breastfeeding_women,").concat(this.total_breastfeeding_women,",\n      total_other_patients,").concat(this.total_other_patients,",\n      total_patients_on_arvs_and_cpt,").concat(this.total_patients_on_arvs_and_cpt,",\n      total_patients_on_arvs_and_ipt,").concat(this.total_patients_on_arvs_and_ipt,",\n      total_patients_on_family_planning,").concat(this.total_patients_on_family_planning,",\n      total_patients_with_screened_bp,").concat(this.total_patients_with_screened_bp,",\n      newly_initiated_on_ipt,").concat(this.newly_initiated_on_ipt,",\n      newly_initiated_on_3hp,").concat(this.newly_initiated_on_3hp,",\n      ");e+="\n          His-Core Version: ".concat(g["c"].getCoreVersion(),"\n          ART Version : ").concat(g["c"].getAppVersion(),"\n          API Version: ").concat(g["c"].getApiVersion(),"\n          Report Period: ").concat(this.quarter,"\n          Site: ").concat(g["c"].getLocationName());var t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n="".concat(g["c"].getLocationName()," cohort report ").concat(this.quarter);if(navigator.msSaveBlob)navigator.msSaveBlob(t,"exportFilename");else{var r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download","".concat(n,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},renderResults:function(){for(var e=0;e<this.params.length;e++)"re_initiated_on_art"==this.params[e].name&&(this.re_initiated_on_art=this.params[e].contents),"cum_re_initiated_on_art"==this.params[e].name&&(this.cum_re_initiated_on_art=this.params[e].contents),"transfer_in"==this.params[e].name&&(this.transfer_in=this.params[e].contents),"cum_transfer_in"==this.params[e].name&&(this.cum_transfer_in=this.params[e].contents),"total_registered"==this.params[e].name&&(this.total_registered=this.params[e].contents),"cum_total_registered"==this.params[e].name&&(this.cum_total_registered=this.params[e].contents),"cum_all_males"==this.params[e].name&&(this.cummulative_all_males=this.params[e].contents),"all_males"==this.params[e].name&&(this.quarterly_all_males=this.params[e].contents),"non_pregnant_females"==this.params[e].name&&(this.non_pregnant_females=this.params[e].contents),"cum_non_pregnant_females"==this.params[e].name&&(this.cum_non_pregnant_females=this.params[e].contents),"pregnant_females_all_ages"==this.params[e].name&&(this.pregnant_females_all_ages=this.params[e].contents),"cum_pregnant_females_all_ages"==this.params[e].name&&(this.cum_pregnant_females_all_ages=this.params[e].contents),"children_below_24_months_at_art_initiation"==this.params[e].name&&(this.children_below_24_months_at_art_initiation=this.params[e].contents),"cum_children_below_24_months_at_art_initiation"==this.params[e].name&&(this.cum_children_below_24_months_at_art_initiation=this.params[e].contents),"children_24_months_14_years_at_art_initiation"==this.params[e].name&&(this.children_24_months_14_years_at_art_initiation=this.params[e].contents),"cum_children_24_months_14_years_at_art_initiation"==this.params[e].name&&(this.cum_children_24_months_14_years_at_art_initiation=this.params[e].contents),"adults_at_art_initiation"==this.params[e].name&&(this.adults_at_art_initiation=this.params[e].contents),"cum_adults_at_art_initiation"==this.params[e].name&&(this.cum_adults_at_art_initiation=this.params[e].contents),"presumed_severe_hiv_disease_in_infants"==this.params[e].name&&(this.presumed_severe_hiv_disease_in_infants=this.params[e].contents),"cum_presumed_severe_hiv_disease_in_infants"==this.params[e].name&&(this.cum_presumed_severe_hiv_disease_in_infants=this.params[e].contents),"confirmed_hiv_infection_in_infants_pcr"==this.params[e].name&&(this.confirmed_hiv_infection_in_infants_pcr=this.params[e].contents),"cum_confirmed_hiv_infection_in_infants_pcr"==this.params[e].name&&(this.cum_confirmed_hiv_infection_in_infants_pcr=this.params[e].contents),"quarterly_children_12_59_months"==this.params[e].name&&(this.quarterly_children_12_59_months=this.params[e].contents),"cum_children_12_59_months"==this.params[e].name&&(this.cum_children_12_59_months=this.params[e].contents),"pregnant_women"==this.params[e].name&&(this.pregnant_women=this.params[e].contents),"cum_pregnant_women"==this.params[e].name&&(this.cum_pregnant_women=this.params[e].contents),"breastfeeding_mothers"==this.params[e].name&&(this.breastfeeding_mothers=this.params[e].contents),"cum_breastfeeding_mothers"==this.params[e].name&&(this.cum_breastfeeding_mothers=this.params[e].contents),"who_stage_two"==this.params[e].name&&(this.who_stage_two=this.params[e].contents),"cum_who_stage_two"==this.params[e].name&&(this.cum_who_stage_two=this.params[e].contents),"asymptomatic"==this.params[e].name&&(this.asymptomatic=this.params[e].contents),"cum_asymptomatic"==this.params[e].name&&(this.cum_asymptomatic=this.params[e].contents),"who_stage_three"==this.params[e].name&&(this.who_stage_three=this.params[e].contents),"cum_who_stage_three"==this.params[e].name&&(this.cum_who_stage_three=this.params[e].contents),"who_stage_four"==this.params[e].name&&(this.who_stage_four=this.params[e].contents),"cum_who_stage_four"==this.params[e].name&&(this.cum_who_stage_four=this.params[e].contents),"unknown_other_reason_outside_guidelines"==this.params[e].name&&(this.unknown_other_reason_outside_guidelines=this.params[e].contents),"cum_unknown_other_reason_outside_guidelines"==this.params[e].name&&(this.cum_unknown_other_reason_outside_guidelines=this.params[e].contents),"no_tb"==this.params[e].name&&(this.no_tb=this.params[e].contents),"cum_no_tb"==this.params[e].name&&(this.cum_no_tb=this.params[e].contents),"tb_within_the_last_two_years"==this.params[e].name&&(this.tb_within_the_last_two_years=this.params[e].contents),"cum_tb_within_the_last_two_years"==this.params[e].name&&(this.cum_tb_within_the_last_two_years=this.params[e].contents),"current_episode_of_tb"==this.params[e].name&&(this.current_episode_of_tb=this.params[e].contents),"cum_current_episode_of_tb"==this.params[e].name&&(this.cum_current_episode_of_tb=this.params[e].contents),"kaposis_sarcoma"==this.params[e].name&&(this.kaposis_sarcoma=this.params[e].contents),"cum_kaposis_sarcoma"==this.params[e].name&&(this.cum_kaposis_sarcoma=this.params[e].contents),"total_alive_and_on_art"==this.params[e].name&&(this.total_alive_and_on_art=this.params[e].contents),"died_within_the_1st_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_1st_month_of_art_initiation=this.params[e].contents),"died_within_the_2nd_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_2nd_month_of_art_initiation=this.params[e].contents),"died_within_the_3rd_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_3rd_month_of_art_initiation=this.params[e].contents),"died_after_the_3rd_month_of_art_initiation"==this.params[e].name&&(this.died_after_the_3rd_month_of_art_initiation=this.params[e].contents),"died_total"==this.params[e].name&&(this.died_total=this.params[e].contents),"defaulted"==this.params[e].name&&(this.defaulted=this.params[e].contents),"stopped_art"==this.params[e].name&&(this.stopped_art=this.params[e].contents),"transfered_out"==this.params[e].name&&(this.transfered_out=this.params[e].contents),"zero_p"==this.params[e].name&&(this.zero_p=this.params[e].contents),"zero_a"==this.params[e].name&&(this.zero_a=this.params[e].contents),"two_p"==this.params[e].name&&(this.two_p=this.params[e].contents),"two_a"==this.params[e].name&&(this.two_a=this.params[e].contents),"four_p"==this.params[e].name&&(this.four_p=this.params[e].contents),"four_a"==this.params[e].name&&(this.four_a=this.params[e].contents),"five_a"==this.params[e].name&&(this.five_a=this.params[e].contents),"six_a"==this.params[e].name&&(this.six_a=this.params[e].contents),"seven_a"==this.params[e].name&&(this.seven_a=this.params[e].contents),"eight_a"==this.params[e].name&&(this.eight_a=this.params[e].contents),"nine_p"==this.params[e].name&&(this.nine_p=this.params[e].contents),"nine_p_tabs"==this.params[e].name&&(this.nine_p_tabs=this.params[e].contents),"nine_p_granules"==this.params[e].name&&(this.nine_p_granules=this.params[e].contents),"nine_a"==this.params[e].name&&(this.nine_a=this.params[e].contents),"ten_a"==this.params[e].name&&(this.ten_a=this.params[e].contents),"eleven_p"==this.params[e].name&&(this.eleven_p=this.params[e].contents),"eleven_p_tabs"==this.params[e].name&&(this.eleven_p_tabs=this.params[e].contents),"eleven_p_granules"==this.params[e].name&&(this.eleven_p_granules=this.params[e].contents),"eleven_a"==this.params[e].name&&(this.eleven_a=this.params[e].contents),"twelve_a"===this.params[e].name&&(this.twelve_a=this.params[e].contents),"thirteen_a"==this.params[e].name&&(this.thirteen_a=this.params[e].contents),"fourteen_p"==this.params[e].name&&(this.fourteen_p=this.params[e].contents),"fourteen_pp"==this.params[e].name&&(this.fourteen_pp=this.params[e].contents),"fourteen_a"==this.params[e].name&&(this.fourteen_a=this.params[e].contents),"fifteen_p"==this.params[e].name&&(this.fifteen_p=this.params[e].contents),"fifteen_pp"==this.params[e].name&&(this.fifteen_pp=this.params[e].contents),"fifteen_a"==this.params[e].name&&(this.fifteen_a=this.params[e].contents),"sixteen_a"==this.params[e].name&&(this.sixteen_a=this.params[e].contents),"sixteen_p"==this.params[e].name&&(this.sixteen_p=this.params[e].contents),"seventeen_a"==this.params[e].name&&(this.seventeen_a=this.params[e].contents),"seventeen_p"==this.params[e].name&&(this.seventeen_p=this.params[e].contents),"unknown_regimen"==this.params[e].name&&(this.unknown_regimen=this.params[e].contents),"total_pregnant_women"==this.params[e].name&&(this.total_pregnant_women=this.params[e].contents),"total_breastfeeding_women"==this.params[e].name&&(this.total_breastfeeding_women=this.params[e].contents),"total_other_patients"==this.params[e].name&&(this.total_other_patients=this.params[e].contents),"tb_not_suspected"==this.params[e].name&&(this.tb_not_suspected=this.params[e].contents),"tb_suspected"==this.params[e].name&&(this.tb_suspected=this.params[e].contents),"tb_not_suspected"==this.params[e].name&&(this.tb_not_suspected=this.params[e].contents),"tb_confirmed_currently_not_yet_on_tb_treatment"==this.params[e].name&&(this.tb_confirmed_currently_not_yet_on_tb_treatment=this.params[e].contents),"tb_confirmed_on_tb_treatment"==this.params[e].name&&(this.tb_confirmed_on_tb_treatment=this.params[e].contents),"unknown_tb_status"==this.params[e].name&&(this.unknown_tb_status=this.params[e].contents),"total_patients_without_side_effects"==this.params[e].name&&(this.total_patients_without_side_effects=this.params[e].contents),"total_patients_with_side_effects"==this.params[e].name&&(this.total_patients_with_side_effects=this.params[e].contents),"unknown_side_effects"==this.params[e].name&&(this.unknown_side_effects=this.params[e].contents),"patients_with_0_6_doses_missed_at_their_last_visit"==this.params[e].name&&(this.patients_with_0_6_doses_missed_at_their_last_visit=this.params[e].contents),"patients_with_7_plus_doses_missed_at_their_last_visit"==this.params[e].name&&(this.patients_with_7_plus_doses_missed_at_their_last_visit=this.params[e].contents),"patients_with_unknown_adhrence"==this.params[e].name&&(this.patients_with_unknown_adhrence=this.params[e].contents),"total_patients_on_arvs_and_cpt"==this.params[e].name&&(this.total_patients_on_arvs_and_cpt=this.params[e].contents),"total_patients_on_arvs_and_ipt"==this.params[e].name&&(this.total_patients_on_arvs_and_ipt=this.params[e].contents),"total_patients_on_family_planning"==this.params[e].name&&(this.total_patients_on_family_planning=this.params[e].contents),"total_patients_with_screened_bp"==this.params[e].name&&(this.total_patients_with_screened_bp=this.params[e].contents),"males_initiated_on_art_first_time"==this.params[e].name&&(this.males_initiated_on_art_first_time=this.params[e].contents),"cum_males_initiated_on_art_first_time"==this.params[e].name&&(this.cum_males_initiated_on_art_first_time=this.params[e].contents),"initial_pregnant_females_all_ages"==this.params[e].name&&(this.initial_pregnant_females_all_ages=this.params[e].contents),"cum_initial_pregnant_females_all_ages"==this.params[e].name&&(this.cum_initial_pregnant_females_all_ages=this.params[e].contents),"initial_non_pregnant_females_all_ages"==this.params[e].name&&(this.initial_non_pregnant_females_all_ages=this.params[e].contents),"cum_initial_non_pregnant_females_all_ages"==this.params[e].name&&(this.cum_initial_non_pregnant_females_all_ages=this.params[e].contents),"unknown_gender"==this.params[e].name&&(this.unknown_gender=this.params[e].contents),"cum_unknown_gender"==this.params[e].name&&(this.cum_unknown_gender=this.params[e].contents),"initiated_on_art_first_time"==this.params[e].name&&(this.initiated_on_art_first_time=this.params[e].contents),"cum_initiated_on_art_first_time"==this.params[e].name&&(this.cum_initiated_on_art_first_time=this.params[e].contents),"newly_initiated_on_3hp"==this.params[e].name&&(this.newly_initiated_on_3hp=this.params[e].contents),"newly_initiated_on_ipt"==this.params[e].name&&(this.newly_initiated_on_ipt=this.params[e].contents)},drillDown:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.reportid){n.next=2;break}return n.abrupt("return");case 2:for(a=0;a<t.params.length;a++)t.params[a].name===e&&(r=t.params[a].id);return n.next=5,t.onDrillDown(r);case 5:case"end":return n.stop()}}),n)})))()}},watch:{params:{immediate:!0,handler:function(){this.renderResults()}}}};n("553a");const bh=S()(ph,[["render",uh],["__scopeId","data-v-3eb842ef"]]);var fh=bh,mh=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{IonLoading:Ve["w"],CohortH:Go,CohortV:Xo,CohortFt:fh,HisStandardForm:ue["a"],HisFooter:xo["a"],IonPage:Ve["A"],IonContent:Ve["m"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},cohort:{},vCohort:{},btns:[],isLoading:!1,fields:[],reportID:-1,clinicName:ar.getUserLocation(),reportReady:!1}},created:function(){this.btns=this.getBtns(),this.fields=this.getDateDurationFields(!0,!0)},methods:{onPeriod:function(e,t){var n=arguments,a=this;return Object(r["a"])(regeneratorRuntime.mark((function o(){var i,c,s,u;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=n.length>2&&void 0!==n[2]&&n[2],a.componentKey+=1,a.formData=e,a.computedFormData=t,a.reportReady=!0,a.isLoading=!0,a.report=new ar,a.report.setRegenerate(i),c={},"custom_period"===e.quarter.value?(a.report.setStartDate(t.start_date),a.report.setEndDate(t.end_date),a.period="Custom ".concat(a.report.getDateIntervalPeriod()),c=a.report.datePeriodRequestParams()):(a.report.setQuarter(e.quarter.label),c=a.report.qaurterRequestParams(),a.period=e.quarter.label),o.next=12,a.report.requestCohort(c);case 12:s=o.sent,s.ok&&(u=setInterval(Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c.regenerate=!1,e.next=3,a.report.requestCohort(c);case 3:if(t=e.sent,200!==t.status){e.next=14;break}return e.next=7,t.json();case 7:n=e.sent,a.reportID=n.id,a.vCohort=n.values,a.cohort=n.values,a.isLoading=!1,a.report.cacheCohort(n.values),clearInterval(u);case 14:case"end":return e.stop()}}),e)}))),3e3));case 14:case"end":return o.stop()}}),o)})))()},regenerate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPeriod(e.formData,e.computedFormData,!0);case 2:case"end":return t.stop()}}),t)})))()},onDrillDown:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=["ARV number","Name","Gender","Birth Date","Action"],o=function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.report.getCohortDrillDown(e);case 2:return a=n.sent,n.abrupt("return",a.map((function(e){return[e["arv_number"],"".concat(e["given_name"]," ").concat(e["family_name"]),e["gender"],h["a"].getAgeInYears(e["birthdate"]),e["outcome"]||"N/A",{type:"button",name:"Select",action:function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ve["S"].dismiss({});case 2:t.$router.push({path:"/patient/dashboard/".concat(e.person_id)});case 3:case"end":return n.stop()}}),n)})));function a(){return n.apply(this,arguments)}return a}()}]})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.next=4,t.tableDrill({columns:a,onRows:o});case 4:case"end":return n.stop()}}),n)})))()},getBtns:function(){var e=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$refs.rep,n.onDownload();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",print());case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{name:"Regenerate",size:"large",slot:"end",color:"danger",visible:!0,onClick:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.regenerate());case 1:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Disaggregeted",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){return document.location="/art/report/moh/moh_disaggregated"}},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return e.$router.push({path:"/"})}}]}}});n("5188");const hh=S()(mh,[["render",ko],["__scopeId","data-v-6483a536"]]);var gh=hh;function Oh(e,t){var n=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createBlock"])(n)}const vh={},_h=S()(vh,[["render",Oh]]);var jh=_h;function wh(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{title:e.title,rows:e.rows,columns:e.columns},null,8,["title","rows","columns"])}var yh=n("91e4"),kh=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:$a["a"]},data:function(){return{title:"HIV Stock report",rows:[],stock:[],columns:[[rr["a"].thTxt("Medication"),rr["a"].thTxt("Earliest Expiry date"),rr["a"].thTxt("Stock on hand(Tins)")]]}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.report=new yh["a"],t.next=3,e.report.loadStock();case 3:n=e.report.groupStock(),n.forEach((function(t){e.rows.push([rr["a"].td(t.drugName),rr["a"].tdDate(t.expiryDate),rr["a"].td(t.currentQuantity)])}));case 5:case"end":return t.stop()}}),t)})))()}});const xh=S()(kh,[["render",wh]]);var Nh=xh;function Vh(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Ch=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Booked clients",date:"",rows:[],appointments:[],reportReady:!1,columns:[[rr["a"].thTxt("ARV#"),rr["a"].thTxt("First name"),rr["a"].thTxt("Last name"),rr["a"].thTxt("Gender"),rr["a"].thTxt("birthdate"),rr["a"].thTxt("Current Address"),rr["a"].thTxt("Actions")]]}},created:function(){var e=this;this.report=new Vr["c"],this.fields=[{id:"date",helpText:"Select date",type:u["b"].TT_APPOINTMENT_PICKER,validation:function(e){return l["a"].required(e)},onValue:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.report.getBookedAppointments(n);case 2:if(a=t.sent,!(a.length>0)){t.next=7;break}return e.appointments=a,r.appointmentCounter=e.appointments.length,t.abrupt("return",!0);case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}]},methods:{onPeriod:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.reportReady=!0,t.rows=[],t.period=h["a"].toStandardHisDisplayFormat(e.date),t.setRows(t.appointments);case 4:case"end":return n.stop()}}),n)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number||"N/A"),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].td("District: ".concat(e.district,"\n                        Village: ").concat(e.village,"\n                        Land-mark: ").concat(e.land_mark)),rr["a"].tdBtn("Select",(function(){return t.confirmPatient(e.person_id)}))])}));case 1:case"end":return n.stop()}}),n)})))()}}});const Dh=S()(Ch,[["render",Vh]]);var Th=Dh;function Rh(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-template"),s=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Ih=["DOB MORE THAN DATE ENROLLED","CLIENTS WITH ENCOUNTERS AFTER DECLARED DEAD","DOB MORE THAN DATE ENROLLED","DATE ENROLLED LESS THAN EARLIEST START DATE","MALE CLIENTS WITH FEMALE OBS","PRESCRIPTION WITHOUT DISPENSATION","MISSING DEMOGRAPHICS","MISSING START REASONS","MULTIPLE START REASONS","PRE ART OR UNKNOWN OUTCOMES"],Sh=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,[{key:"getCleaningToolReport",value:function(e){return this.getReport("art_data_cleaning_tools",{report_name:e})}}]),n}(Qn["a"]),Ph=Object(a["defineComponent"])({mixins:[Xn["a"]],components:{ReportTemplate:nr["a"],IonPage:Ve["A"]},data:function(){return{title:"Data cleaning report",rows:[],cohort:{},columns:[[rr["a"].thTxt("ARV Number"),rr["a"].thTxt("First Name"),rr["a"].thTxt("Last Name"),rr["a"].thTxt("Gender"),rr["a"].thTxt("Date of birth"),rr["a"].thTxt("Action")]]}},created:function(){this.fields.push({id:"indicator",helpText:"Select indicator",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return Ih.map((function(e){return{label:e,value:e}}))}}),this.fields=this.fields.concat(this.getDateDurationFields())},methods:{onPeriod:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.rows=[],n.title=e.indicator.value,n.report=new Sh,n.report.setStartDate(t.start_date),n.report.setEndDate(t.end_date),n.period=n.report.getDateIntervalPeriod(),r.next=8,n.report.getCleaningToolReport(e.indicator.value);case 8:a=r.sent,n.setRows(a);case 10:case"end":return r.stop()}}),r)})))()},setRows:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.forEach((function(e){t.rows.push([rr["a"].td(e.arv_number),rr["a"].td(e.given_name),rr["a"].td(e.family_name),rr["a"].td(e.gender),rr["a"].tdDate(e.birthdate),rr["a"].tdBtn("View",(function(){return t.$router.push("/patient/dashboard/".concat(e.patient_id))}))])}));case 1:case"end":return n.stop()}}),n)})))()}}});const Ah=S()(Ph,[["render",Rh]]);var Bh=Ah;function Eh(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination,activeField:e.fieldComponent},null,8,["fields","onOnFinish","cancelDestinationPath","activeField"])}var Fh=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],consultation:{},options:[],values:[],gender:null,activeField:""}},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.init(e);case 1:case"end":return n.stop()}}),n)})))()},immediate:!0}},methods:{onFinish:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c,s,u,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.consultation.createEncounter();case 2:if(a=r.sent,o=e.has_hypertension.value,!a){r.next=25;break}return i=[],r.next=8,on["a"].buildValueCoded("Patient has hypertension",e.has_hypertension.value);case 8:if(c=r.sent,i.push(c),"Yes"!==o){r.next=16;break}return s=t.hypertension_diagnosis,r.next=14,on["a"].buildValueDate("Hypertension diagnosis date",s);case 14:u=r.sent,i.push(u);case 16:return r.next=18,n.consultation.saveObservationList(i);case 18:if(l=r.sent,l){r.next=21;break}return r.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 21:Object(x["d"])("Observations and encounter created!"),n.nextTask(),r.next=26;break;case 25:return r.abrupt("return",Object(x["e"])("Unable to create fast track encounter"));case 26:case"end":return r.stop()}}),r)})))()},init:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.consultation=new ke(t.patientID,t.providerID),t.fields=t.getFields();case 2:case"end":return e.stop()}}),e)})))()},getYesNo:function(){return[{label:"yes",value:"Yes"},{label:"no",value:"No"}]},getFields:function(){var e=this,t=[{id:"has_hypertension",helpText:"Does the patient have hypertension",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return e.getYesNo()}}].concat(Object(s["a"])(Object(J["b"])({condition:function(e){return"Yes"===e.has_hypertension.value},id:"hypertension_diagnosis",helpText:"Date the patient was diagnosed with hypertension",required:!0,estimation:{allowUnknown:!1},computeValue:function(e){return e}},"")));return t}}});const Lh=S()(Fh,[["render",Eh]]);var Mh=Lh,Hh=Object(a["withScopeId"])("data-v-c60f0e0e");Object(a["pushScopeId"])("data-v-c60f0e0e");var Uh=Object(a["createVNode"])("label",{class:"his-title"}," Prescribe BP drugs ",-1),qh={key:0,class:"view-port-content"},zh={id:"main-table"},Gh=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",null,""),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" HCZ "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"100%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"25mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Enalapril "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"5mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"10mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Amlodipine "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"5mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"10mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Atenolol "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"50mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"100mg")])])])])],-1),Yh=Object(a["createVNode"])("td",{class:"td-current td-title"},[Object(a["createVNode"])("span",null,"Current")],-1),Kh={class:"td-current td-value"},Wh={style:{width:"100%"}},$h={class:"td-current td-value"},Jh={style:{width:"100%"}},Xh=Object(a["createVNode"])("tr",null,null,-1),Qh={class:"td-current td-value"},Zh={style:{width:"100%"}},eg={class:"td-current td-value"},tg={style:{width:"100%"}},ng=Object(a["createVNode"])("td",{class:"td-remaining td-title"},[Object(a["createVNode"])("span",null,"New")],-1),rg={class:"td-current td-value"},ag={style:{width:"100%"}},og={class:"td-current td-value"},ig={style:{width:"100%"}},cg=Object(a["createVNode"])("tr",null,null,-1),sg={class:"td-current td-value"},ug={style:{width:"100%"}},lg={class:"td-current td-value"},dg={style:{width:"100%"}},pg=Object(a["createVNode"])("td",{class:"td-remaining td-title"},[Object(a["createVNode"])("span",null,"")],-1),bg={style:{width:"100%"}},fg={colspan:"1",style:{"max-height":"20px !important",margin:"0px !important",padding:"0px !important",height:"15px !important"}},mg={id:"table-notes"},hg=Object(a["createVNode"])("caption",{style:{"font-size":"1.2em"}}," Notes ",-1),gg=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"HCZ")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Enalapril")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Amlodipine")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Atenolol")])],-1),Og={class:"table-inner-notes",id:"notes-HCZ"},vg={class:"date-td today-td"},_g={class:"date-td today-td"},jg=Object(a["createTextVNode"])("X"),wg=Object(a["createTextVNode"])(" cancel "),yg=Object(a["createTextVNode"])(" Continue ");Object(a["popScopeId"])();var kg=Hh((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-toolbar"),l=Object(a["resolveComponent"])("ion-header"),d=Object(a["resolveComponent"])("ion-checkbox"),p=Object(a["resolveComponent"])("ion-button"),b=Object(a["resolveComponent"])("ion-content"),f=Object(a["resolveComponent"])("view-port"),m=Object(a["resolveComponent"])("ion-footer"),h=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(h,null,{default:Hh((function(){return[Object(a["createVNode"])(l,null,{default:Hh((function(){return[Object(a["createVNode"])(u,null,{default:Hh((function(){return[Object(a["createVNode"])(s,null,{default:Hh((function(){return[Object(a["createVNode"])(c,null,{default:Hh((function(){return[Uh]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(b,null,{default:Hh((function(){return[Object(a["createVNode"])(f,null,{default:Hh((function(){return[e.drugs?(Object(a["openBlock"])(),Object(a["createBlock"])("div",qh,[Object(a["createVNode"])(b,null,{default:Hh((function(){return[Object(a["createVNode"])("table",zh,[Gh,Object(a["createVNode"])("tr",null,[Yh,Object(a["createVNode"])("td",Kh,[Object(a["createVNode"])("table",Wh,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["HCZ"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"100%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])]),Object(a["createVNode"])("td",$h,[Object(a["createVNode"])("table",Jh,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Enalapril"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128)),Xh])]),Object(a["createVNode"])("td",Qh,[Object(a["createVNode"])("table",Zh,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Amlodipine"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])]),Object(a["createVNode"])("td",eg,[Object(a["createVNode"])("table",tg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Atenolol"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])])]),Object(a["createVNode"])("tr",null,[ng,Object(a["createVNode"])("td",rg,[Object(a["createVNode"])("table",ag,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["HCZ"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"100%"},key:n},[Object(a["createVNode"])(d,{checked:t.selected,onIonChange:function(t){return e.selectDrug("HCZ",n,t)}},null,8,["checked","onIonChange"])])})),128))])])]),Object(a["createVNode"])("td",og,[Object(a["createVNode"])("table",ig,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Enalapril"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:n},[Object(a["createVNode"])(d,{checked:t.selected,onIonChange:function(t){return e.selectDrug("Enalapril",n,t)}},null,8,["checked","onIonChange"])])})),128)),cg])]),Object(a["createVNode"])("td",sg,[Object(a["createVNode"])("table",ug,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Amlodipine"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:n},[Object(a["createVNode"])(d,{checked:t.selected,onIonChange:function(t){return e.selectDrug("Amlodipine",n,t)}},null,8,["checked","onIonChange"])])})),128))])])]),Object(a["createVNode"])("td",lg,[Object(a["createVNode"])("table",dg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Atenolol"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:n},[Object(a["createVNode"])(d,{checked:t.selected,onIonChange:function(t){return e.selectDrug("Atenolol",n,t)}},null,8,["checked","onIonChange"])])})),128))])])])]),Object(a["createVNode"])("tr",null,[pg,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(Object.keys(e.drugs),(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{class:"td-remaining td-value",key:n},[Object(a["createVNode"])("table",bg,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",fg,[Object(a["createVNode"])("div",{class:"button button-success",id:"alert_HCZ (25mg tablet)",onClick:function(n){return e.launchKeyPad(t)}}," Add notes ",8,["onClick"])])])])])})),128))])]),Object(a["createVNode"])("table",mg,[hg,gg,Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(Object.keys(e.drugs),(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{id:"HCZ",style:{"padding-top":"2px !important"},valign:"top",key:n},[Object(a["createVNode"])("table",Og,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs[t].notes,(function(n,r){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:r},[Object(a["createVNode"])("td",vg,Object(a["toDisplayString"])(n.date),1),Object(a["createVNode"])("td",_g,Object(a["toDisplayString"])(n.description),1),Object(a["createVNode"])("td",null,[Object(a["createVNode"])(p,{color:"danger",onClick:function(n){return e.removeNote(t,r)}},{default:Hh((function(){return[jg]})),_:1},8,["onClick"])])])})),128))])])})),128))])])]})),_:1})])):Object(a["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(a["createVNode"])(m,null,{default:Hh((function(){return[Object(a["createVNode"])(u,{color:"black"},{default:Hh((function(){return[Object(a["createVNode"])(p,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:Hh((function(){return[wg]})),_:1},8,["onClick"]),Object(a["createVNode"])(p,{size:"large",color:"success",slot:"end",onClick:e.gotoPatientDashboard},{default:Hh((function(){return[yg]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),xg=(n("a434"),n("4e28")),Ng=Object(a["defineComponent"])({mixins:[V["a"]],components:{ViewPort:Wt["a"],IonToolbar:Ve["K"],IonHeader:Ve["p"],IonContent:Ve["m"],IonRow:Ve["E"],IonButton:Ve["d"],IonCol:Ve["l"],IonFooter:Ve["n"],IonPage:Ve["A"],IonCheckbox:Ve["j"]},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.HTN=new cn(t.patientID,t.providerID),t.drugs=t.HTN.getDrugs(),e.next=4,t.getCurrentDrugs();case 4:case"end":return e.stop()}}),e)})))()},deep:!0}},data:function(){return{input:"",HTN:{},keyboard:[X["c"],[["Done","Hide"],["Space","Delete"],["","Clear"]]],drugs:null}},methods:{removeNote:function(e,t,n){this.drugs[e].notes.splice(n,1)},getCurrentDrugs:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.HTN.getCurrentDrugs();case 2:n=t.sent,n.drugs.forEach((function(t){var n=function(n){e.drugs[n].drugs.forEach((function(r,a){t.drug_id===r.drugID&&(e.drugs[n].drugs[a].current=!0,e.drugs[n].drugs[a].selected=!0,e.drugs[n].selected=t.drug_id)}))};for(var r in e.drugs)n(r)}));case 4:case"end":return t.stop()}}),t)})))()},selectDrug:function(e,t,n){var r=this;this.drugs[e].drugs.forEach((function(t,n){r.drugs[e].drugs[n].selected=!1})),this.drugs[e].drugs[t].selected=n.detail.checked},launchKeyPad:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ve["S"].create({component:xg["a"],backdropDismiss:!1,cssClass:"large-modal"});case 2:return r=n.sent,r.present(),n.next=6,r.onDidDismiss();case 6:return a=n.sent,o=a.data,t.drugs[e].notes.push({date:Ee["a"].getSessionDate(),description:o}),n.abrupt("return",o);case 10:case"end":return n.stop()}}),n)})))()}},computed:{selectedDrugs:function(){var e=this,t=[];return Object.keys(this.drugs).forEach((function(n){var r=e.drugs[n].drugs.filter((function(e){return!0===e.selected}));t=[].concat(Object(s["a"])(t),Object(s["a"])(r))})),t}}});n("2915");const Vg=S()(Ng,[["render",kg],["__scopeId","data-v-c60f0e0e"]]);var Cg=Vg;function Dg(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!1,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var Tg=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(e,r){return Object(d["a"])(this,n),t.call(this,e,84,r)}return n}(_["a"]),Rg=Object(a["defineComponent"])({mixins:[V["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{socialHistory:{},obs:[]}},watch:{patient:{handler:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.socialHistory=new Tg(e.patientID,e.providerID),t.next=3,e.getFields();case 3:e.fields=t.sent;case 4:case"end":return t.stop()}}),t)})))()},deep:!0}},methods:{onFinish:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.socialHistory.createEncounter();case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",Object(x["e"])("Unable to create encounter"));case 5:return e.next=7,Promise.all(Object(s["a"])(t.obs));case 7:return r=e.sent,e.next=10,t.socialHistory.saveObservationList(r);case 10:if(a=e.sent,a){e.next=13;break}return e.abrupt("return",Object(x["e"])("Unable to save patient observations"));case 13:Object(x["d"])("Observations and encounter created!"),t.nextTask();case 15:case"end":return e.stop()}}),e)})))()},getFields:function(){var e=this;return[{id:"smoking_history",helpText:"Have you ever smoked cigarettes?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueCoded("SMOKE_HIS",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"number_of_cigarettes",helpText:"Number of cigarettes smoked per day",type:u["b"].TT_NUMBER,validation:function(e){return l["a"].rangeOf(e,1,90)},condition:function(e){return"Yes"===e.smoking_history.value},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueNumber("Number of cigarettes smoked per day",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"smoking_duration",helpText:"How long have you been smoking?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.smoking_history.value},options:function(){return[{label:"Less than five years",value:"Less than five years"},{label:"Five years or more",value:"Five years or more"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueText("Smoking duration",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"current_smoker",helpText:"Do you still smoke?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.smoking_history.value},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueCoded("Current smoker",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"alcohol_history",helpText:"Do you drink alcohol?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueCoded("Does the patient drink alcohol?",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"number_of_drinks",helpText:"How many alcoholic drinks do you have per day?",type:u["b"].TT_NUMBER,validation:function(e){return l["a"].required(e)},condition:function(e){return"Yes"===e.alcohol_history.value},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueNumber("Alcoholic drinks per day",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"number_of_days_drank",helpText:"Number of days per week alcohol is used?",type:u["b"].TT_NUMBER,validation:function(e){return l["a"].rangeOf(e,1,7)},condition:function(e){return"Yes"===e.alcohol_history.value},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueNumber("Number of days per week alcohol is used",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"exercise",helpText:"Do you do any physical exercise?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueCoded("Physical Exercises",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},{id:"employment",helpText:"Type of employment?",type:u["b"].TT_SELECT,validation:function(e){return l["a"].required(e)},options:function(){return[{label:"Active",value:"Active"},{label:"Sedentary",value:"Sedentary"}]},unload:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.obs.push(e.socialHistory.buildValueText("Type of employment",n.value));case 1:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()}]}}});const Ig=S()(Rg,[["render",Dg]]);var Sg=Ig,Pg=Object(a["withScopeId"])("data-v-6d8de646");Object(a["pushScopeId"])("data-v-6d8de646");var Ag=Object(a["createVNode"])("label",{class:"his-title"}," BP Drug management ",-1),Bg={key:0,class:"view-port-content"},Eg={id:"main-table"},Fg=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",null,""),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" HCZ "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"100%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"25mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Enalapril "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"5mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"10mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Amlodipine "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"5mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"10mg")])])])]),Object(a["createVNode"])("th",null,[Object(a["createTextVNode"])(" Atenolol "),Object(a["createVNode"])("table",{style:{width:"100%"}},[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"50mg")]),Object(a["createVNode"])("td",{style:{width:"50%",border:"1px dotted lightgray","border-radius":"3px"}},[Object(a["createVNode"])("span",null,"100mg")])])])])],-1),Lg=Object(a["createVNode"])("td",{class:"td-current td-title"},[Object(a["createVNode"])("span",null,"Current")],-1),Mg={class:"td-current td-value"},Hg={style:{width:"100%"}},Ug={class:"td-current td-value"},qg={style:{width:"100%"}},zg=Object(a["createVNode"])("tr",null,null,-1),Gg={class:"td-current td-value"},Yg={style:{width:"100%"}},Kg={class:"td-current td-value"},Wg={style:{width:"100%"}},$g=Object(a["createVNode"])("td",{class:"td-remaining td-title"},[Object(a["createVNode"])("span",null,"Pills remaining")],-1),Jg={class:"td-current td-value"},Xg={style:{width:"100%"}},Qg={class:"td-current td-value"},Zg={style:{width:"100%"}},eO=Object(a["createVNode"])("tr",null,null,-1),tO={class:"td-current td-value"},nO={style:{width:"100%"}},rO={class:"td-current td-value"},aO={style:{width:"100%"}},oO={id:"table-notes"},iO=Object(a["createVNode"])("caption",{style:{"font-size":"1.6em"}}," Adherence summary ",-1),cO=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Drug")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Pills dispensed during last visit")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Expected pills remaining")]),Object(a["createVNode"])("th",{style:{width:"25%"}},[Object(a["createVNode"])("span",null,"Adherence for drug")])],-1),sO={class:"date-td today-td"},uO={class:"date-td today-td"},lO={class:"date-td today-td"},dO={class:"date-td today-td"},pO=Object(a["createTextVNode"])(" cancel "),bO=Object(a["createTextVNode"])(" Change BP drugs "),fO=Object(a["createTextVNode"])(" Continue without prescribing "),mO=Object(a["createTextVNode"])(" continue ");Object(a["popScopeId"])();var hO=Pg((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-col"),s=Object(a["resolveComponent"])("ion-row"),u=Object(a["resolveComponent"])("ion-toolbar"),l=Object(a["resolveComponent"])("ion-header"),d=Object(a["resolveComponent"])("ion-checkbox"),p=Object(a["resolveComponent"])("ion-input"),b=Object(a["resolveComponent"])("ion-content"),f=Object(a["resolveComponent"])("view-port"),m=Object(a["resolveComponent"])("ion-button"),h=Object(a["resolveComponent"])("ion-footer"),g=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(g,null,{default:Pg((function(){return[Object(a["createVNode"])(l,null,{default:Pg((function(){return[Object(a["createVNode"])(u,null,{default:Pg((function(){return[Object(a["createVNode"])(s,null,{default:Pg((function(){return[Object(a["createVNode"])(c,null,{default:Pg((function(){return[Ag]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(b,null,{default:Pg((function(){return[Object(a["createVNode"])(f,null,{default:Pg((function(){return[e.drugs?(Object(a["openBlock"])(),Object(a["createBlock"])("div",Bg,[Object(a["createVNode"])(b,null,{default:Pg((function(){return[Object(a["createVNode"])("table",Eg,[Fg,Object(a["createVNode"])("tr",null,[Lg,Object(a["createVNode"])("td",Mg,[Object(a["createVNode"])("table",Hg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["HCZ"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"100%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])]),Object(a["createVNode"])("td",Ug,[Object(a["createVNode"])("table",qg,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Enalapril"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128)),zg])]),Object(a["createVNode"])("td",Gg,[Object(a["createVNode"])("table",Yg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Amlodipine"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])]),Object(a["createVNode"])("td",Kg,[Object(a["createVNode"])("table",Wg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Atenolol"].drugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:t},[Object(a["createVNode"])(d,{checked:e.current,disabled:""},null,8,["checked"])])})),128))])])])]),Object(a["createVNode"])("tr",null,[$g,Object(a["createVNode"])("td",Jg,[Object(a["createVNode"])("table",Xg,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["HCZ"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"100%"},key:n},[Object(a["createVNode"])(p,{disabled:!t.dispensed,modelValue:t.remaining,"onUpdate:modelValue":function(e){return t.remaining=e},onClick:function(t){return e.launchKeyPad("HCZ",n)},type:"number"},null,8,["disabled","modelValue","onUpdate:modelValue","onClick"])])})),128))])])]),Object(a["createVNode"])("td",Qg,[Object(a["createVNode"])("table",Zg,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Enalapril"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:n},[Object(a["createVNode"])(p,{disabled:!t.dispensed,modelValue:t.remaining,"onUpdate:modelValue":function(e){return t.remaining=e},onClick:function(t){return e.launchKeyPad("Enalapril",n)},type:"number"},null,8,["disabled","modelValue","onUpdate:modelValue","onClick"])])})),128)),eO])]),Object(a["createVNode"])("td",tO,[Object(a["createVNode"])("table",nO,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Amlodipine"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},key:n},[Object(a["createVNode"])(p,{disabled:!t.dispensed,modelValue:t.remaining,"onUpdate:modelValue":function(e){return t.remaining=e},onClick:function(t){return e.launchKeyPad("Amlodipine",n)},type:"number"},null,8,["disabled","modelValue","onUpdate:modelValue","onClick"])])})),128))])])]),Object(a["createVNode"])("td",rO,[Object(a["createVNode"])("table",aO,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.drugs["Atenolol"].drugs,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{style:{width:"50%"},onClick:function(t){return e.launchKeyPad("Atenolol",n)},key:n},[Object(a["createVNode"])(p,{disabled:!t.dispensed,modelValue:t.remaining,"onUpdate:modelValue":function(e){return t.remaining=e},type:"number"},null,8,["disabled","modelValue","onUpdate:modelValue"])],8,["onClick"])})),128))])])])])]),Object(a["createVNode"])("table",oO,[iO,cO,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.selectedDrugs,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t,class:"dispensation-row"},[Object(a["createVNode"])("td",sO,Object(a["toDisplayString"])(e.drugName),1),Object(a["createVNode"])("td",uO,Object(a["toDisplayString"])(e.dispensed),1),Object(a["createVNode"])("td",lO,Object(a["toDisplayString"])(e.expectedRemaining),1),Object(a["createVNode"])("td",dO,Object(a["toDisplayString"])(e.adherence?"".concat(e.adherence," %"):"?"),1)])})),128))])]})),_:1})])):Object(a["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(a["createVNode"])(h,null,{default:Pg((function(){return[Object(a["createVNode"])(u,{color:"black"},{default:Pg((function(){return[Object(a["createVNode"])(m,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:Pg((function(){return[pO]})),_:1},8,["onClick"]),Object(a["createVNode"])(m,{size:"default",color:"primary",slot:"end",onClick:e.goToPrescription},{default:Pg((function(){return[bO]})),_:1},8,["onClick"]),Object(a["createVNode"])(m,{color:"success",slot:"end",onClick:e.nextTask},{default:Pg((function(){return[fO]})),_:1},8,["onClick"]),Object(a["createVNode"])(m,{color:"success",slot:"end",onClick:e.onFinish},{default:Pg((function(){return[mO]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),gO=n("10be"),OO=Object(a["defineComponent"])({mixins:[V["a"]],components:{ViewPort:Wt["a"],IonToolbar:Ve["K"],IonHeader:Ve["p"],IonContent:Ve["m"],IonRow:Ve["E"],IonInput:Ve["s"],IonButton:Ve["d"],IonCol:Ve["l"],IonFooter:Ve["n"],IonPage:Ve["A"],IonCheckbox:Ve["j"]},watch:{patient:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.HTN=new cn(t.patientID,t.providerID),t.drugs=t.HTN.getDrugs(),e.next=4,t.getCurrentDrugs();case 4:case"end":return e.stop()}}),e)})))()},deep:!0}},data:function(){return{HTN:{},drugs:null}},methods:{goToPrescription:function(){this.$router.push("/art/encounters/bp_prescription/".concat(this.patientID))},getCurrentDrugs:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.HTN.getCurrentDrugs();case 2:return n=t.sent,t.next=5,e.HTN.getLastDrugs();case 5:r=t.sent,n.drugs.forEach((function(t){var n=function(n){e.drugs[n].drugs.forEach((function(a,o){t.drug_id===a.drugID&&(e.drugs[n].drugs[o].current=!0,e.drugs[n].drugs[o].selected=!0,e.drugs[n].selected=t.drug_id);var i=e.drugs[n].drugs[o].drugName;Object.prototype.hasOwnProperty.call(r,i)&&(e.drugs[n].drugs[o].expectedRemaining=r[i].remaining,e.drugs[n].drugs[o].dispensed=r[i].value_numeric)}))};for(var a in e.drugs)n(a)}));case 7:case"end":return t.stop()}}),t)})))()},launchKeyPad:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,o,i,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Ve["S"].create({component:gO["a"],backdropDismiss:!1,cssClass:"keypad-modal"});case 2:return a=r.sent,a.present(),r.next=6,a.onDidDismiss();case 6:return o=r.sent,i=o.data,r.next=10,n.HTN.getAdherence(n.drugs[e].drugs[t].drugID,i);case 10:return c=r.sent,n.drugs[e].drugs[t].adherence=c.adherence,n.drugs[e].drugs[t].remaining=i,r.abrupt("return",i);case 14:case"end":return r.stop()}}),r)})))()}},computed:{selectedDrugs:function(){var e=this,t=[];return Object.keys(this.drugs).forEach((function(n){var r=e.drugs[n].drugs.filter((function(e){return e.dispensed}));t=[].concat(Object(s["a"])(t),Object(s["a"])(r))})),t}}});n("c17f");const vO=S()(OO,[["render",hO],["__scopeId","data-v-6d8de646"]]);var _O=vO,jO=[{name:"filing management",path:"/art/filing_numbers/:patient_id",component:function(){return n.e("chunk-2d0aaf0b").then(n.bind(null,"12c7"))}},{name:"Set Clinic Days",path:"/art/preferences/clinic_days",component:function(){return n.e("chunk-2d0b32f8").then(n.bind(null,"26fd"))}},{name:"Set HTN Age",path:"/art/preferences/htn_age",component:function(){return n.e("chunk-2d0e4a6e").then(n.bind(null,"90ab"))}},{name:"Set filing number limit",path:"/art/preferences/fn/limit",component:function(){return n.e("chunk-2d22c6d4").then(n.bind(null,"f2d6"))}},{name:"Set Appointment limit",path:"/art/preferences/appointment/limit",component:function(){return n.e("chunk-2d0b5a09").then(n.bind(null,"1a69"))}},{name:"Enter stock",path:"/art/stock/enter",component:function(){return n.e("chunk-2d0e8890").then(n.bind(null,"8a4e"))}},{name:"Audit trail",path:"/art/stock/trail",component:function(){return n.e("chunk-2d0cc7e7").then(n.bind(null,"4dbc"))}},{name:"Verify stock",path:"/art/stock/verify",component:function(){return n.e("chunk-2d0e2514").then(n.bind(null,"7dd5"))}},{name:"Move stock",path:"/art/stock/move",component:function(){return n.e("chunk-2d0d5c2c").then(n.bind(null,"7052"))}},{name:"Print drug barcode",path:"/drug/print",component:function(){return n.e("chunk-2d228961").then(n.bind(null,"da8f"))}},{name:"treatment",path:"/art/encounters/prescriptions/:patient_id",component:A},{name:"art adherence",path:"/art/encounters/adherence/:patient_id",component:we},{name:"hiv clinic consultation",path:"/art/encounters/consultation/:patient_id",component:nt},{name:"hiv clinic registration",path:"/art/encounters/registration/:patient_id",component:ce},{name:"hiv reception",path:"/art/encounters/reception/:patient_id",component:gt},{name:"hiv staging",path:"/art/encounters/staging/:patient_id",component:jt},{name:"appointment",path:"/art/encounters/appointment/:patient_id",component:fe},{name:"dispensing",path:"/art/encounters/dispensation/:patient_id",component:lt},{name:"vitals",path:"/art/encounters/vitals/:patient_id",component:xt},{name:"htn_vitals",path:"/art/encounters/vitals/:patient_id",component:xt},{name:"patient type",path:"/art/encounters/patient_type/:patient_id",component:Rt},{name:"fast track assesment",path:"/art/encounters/fast_track/:patient_id",component:Bt},{name:"BP management",path:"/art/encounters/bp_management/:patient_id",component:ln},{name:"Hypertesnion diagnosis",path:"/art/encounters/hypertension_diagnosis/:patient_id",component:Mh},{name:"BP prescription",path:"/art/encounters/bp_prescription/:patient_id",component:Cg},{name:"Social history",path:"/art/encounters/social_history/:patient_id",component:Sg},{name:"BP adherence",path:"/art/encounters/bp_adherence/:patient_id",component:_O},{name:"lab activities",path:"/art/encounters/lab/:patient_id",component:fn},{name:"patient mstercard",path:"/art/mastercard/:patient_id",component:Wn},{name:"Data cleaning",path:"/data_cleaning",component:Bh},{path:"/art/report/moh",component:jh,children:[{name:"moh_cohort",path:"moh_cohort",component:gh},{name:"moh_disaggregated",path:"moh_disaggregated",component:ro},{name:"moh_survial_analysis",path:"moh_survial_analysis",component:so},{name:"moh_tpt_new_initiations",path:"moh_tpt_new_initiations",component:bo},{name:"moh_tx_curr_mmd",path:"moh_tx_curr_mmd",component:go},{name:"moh_regimen_weight_distribution",path:"moh_regimen_weight_distribution",component:jo}]},{path:"/art/report/clinic",component:jh,children:[{name:"clinic_archiving_candidates",path:"clinic_archiving_candidates",component:Qa},{name:"clinic_retention_report",path:"clinic_retention_report",component:Na},{name:"clinic_external_consultation_report",path:"clinic_external_consultation_report",component:Ta},{name:"clinic_due_viral_load_report",path:"clinic_due_viral_load_report",component:wa},{name:"clinic_lab_results",path:"clinic_lab_results",component:Ka},{name:"clinic_missed_appointments",path:"clinic_missed_appointments",component:na},{name:"clinic_defaulters_report",path:"clinic_defaulters",component:ia},{name:"clinic_regimen_report",path:"clinic_regimen_report",component:la},{name:"clinic_regimen_switch",path:"clinic_regimen_switch",component:fa},{name:"clinic_pregnant_patients",path:"clinic_pregnant_patients",component:Oa},{name:"clinic_appointments",path:"clinic_appointments",component:Th},{name:"stock_card_report",path:"stock_card_report",component:Nh},{name:"clinic_viral_load",path:"clinic_viral_load",component:Pa},{name:"clinic_other_outcome_list",path:"clinic_other_outcome_list",component:Fa},{name:"clinic_regimen_formulation",path:"clinic_regimen_formulation",component:Ua}]},{path:"/art/report/pepfar",component:jh,children:[{name:"pepfar_disaggregated_report",path:"disaggregated",component:cr},{name:"pepfar_defaulters_report",path:"defaulters",component:pr},{name:"pepfar_regimen_report",path:"regimens",component:_r},{name:"pepfar_regimen_switch",path:"regimen_switch",component:kr},{name:"pepfar_tb_prev_report",path:"tb_prev",component:Br},{name:"pepfar_tx_curr_mmd_report",path:"tx_cur_mmd",component:zr},{name:"pepfar_tx_ml_report",path:"tx_ml",component:Wr},{name:"pepfar_tx_rtt",path:"tx_rtt",component:Qr},{name:"pepfar_vl_coverage",path:"pepfar_vl_coverage",component:Tr}]}],wO=Object(a["withScopeId"])("data-v-640ac516");Object(a["pushScopeId"])("data-v-640ac516");var yO=Object(a["createVNode"])("p",null,"Complete / incomplete visits: last 5 days",-1),kO=Object(a["createVNode"])("p",null,"Encounters created today",-1),xO=Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th"),Object(a["createVNode"])("th",null,"Female"),Object(a["createVNode"])("th",null,"Male"),Object(a["createVNode"])("th",null,"Me"),Object(a["createVNode"])("th",null,"Facility")],-1),NO={class:"encounter-td"},VO={class:"other-td"},CO={class:"other-td"},DO={class:"other-td"},TO={class:"other-td"};Object(a["popScopeId"])();var RO=wO((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("apexchart"),s=Object(a["resolveComponent"])("ion-col"),u=Object(a["resolveComponent"])("ion-row"),l=Object(a["resolveComponent"])("ion-grid");return Object(a["openBlock"])(),Object(a["createBlock"])(l,null,{default:wO((function(){return[Object(a["createVNode"])(u,null,{default:wO((function(){return[Object(a["createVNode"])(s,{"size-lg":"6","size-sm":"12"},{default:wO((function(){return[yO,Object(a["createVNode"])(c,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]})),_:1}),Object(a["createVNode"])(s,{"size-lg":"6","size-sm":"12"},{default:wO((function(){return[kO,Object(a["createVNode"])("table",null,[xO,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.rows,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:n},[Object(a["createVNode"])("td",NO,Object(a["toDisplayString"])(e.encounters[t.encounter]),1),Object(a["createVNode"])("td",VO,Object(a["toDisplayString"])(t.female),1),Object(a["createVNode"])("td",CO,Object(a["toDisplayString"])(t.male),1),Object(a["createVNode"])("td",DO,Object(a["toDisplayString"])(t.me),1),Object(a["createVNode"])("td",TO,Object(a["toDisplayString"])(t.facility),1)])})),128))])]})),_:1})]})),_:1})]})),_:1})})),IO=n("156d"),SO=Object(a["defineComponent"])({data:function(){return{dayjs:dh.a,startDate:"",endDate:"",options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]}},series:[{name:"complete",data:[0,0,0,0,0]},{name:"incomplete",data:[0,0,0,0,0]}],rows:[{}],encounters:{9:"HIV clinic registration",51:"HIV reception",6:"Vitals",52:"HIV staging",53:"HIV clinic consultation",68:"ART adherence",25:"Treatment",54:"Dispensing",7:"Appointments"}}},components:{IonGrid:Ve["o"],IonRow:Ve["E"],IonCol:Ve["l"]},mounted:function(){this.endDate=this.dayjs().subtract(1,"days").format("YYYY-MM-DD"),this.startDate=this.dayjs().subtract(5,"days").format("YYYY-MM-DD"),this.getVisits(),this.getEncounters()},methods:{getVisits:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,IO["b"].get("programs/1/reports/visits?name=visits&start_date=".concat(this.startDate,"&end_date=").concat(this.endDate));case 2:if(t=e.sent,!t||200!=t.status){e.next=15;break}return e.next=6,t.json();case 6:n=e.sent,r=Object.keys(n),a=[],o=[],r.forEach((function(e,t){a[t]=n[e].incomplete,o[t]=n[e].complete})),this.series[0].data=[].concat(o),this.series[1].data=[].concat(a),i=r.map((function(e){return u.dayjs(e).format("dddd")})),this.options=Object(c["a"])(Object(c["a"])({},this.options),{xaxis:{categories:Object(s["a"])(i)}});case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getEncounters:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={encounter_types:Object(s["a"])(Object.keys(this.encounters).map((function(e){return parseInt(e)})))},n={all:!0,encounter_types:Object(s["a"])(Object.keys(this.encounters).map((function(e){return parseInt(e)})))},e.next=4,IO["b"].post("reports/encounters?date=".concat(this.dayjs().format("YYYY-MM-DD")),t);case 4:return r=e.sent,e.next=7,IO["b"].post("reports/encounters?date=".concat(this.dayjs().format("YYYY-MM-DD")),n);case 7:if(a=e.sent,!r||!a||200!=r.status||200!=a.status){e.next=18;break}return e.next=11,r.json();case 11:return o=e.sent,e.next=14,a.json();case 14:i=e.sent,c=[],Object.keys(o).forEach((function(e){c.push({encounter:e,female:i[e]["F"],male:i[e]["M"],me:o[e]["F"]+o[e]["M"],facility:i[e]["F"]+i[e]["M"]})})),this.rows=[].concat(c);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}});n("0734");const PO=S()(SO,[["render",RO],["__scopeId","data-v-640ac516"]]);var AO=PO,BO=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort",pathName:"moh_cohort"},{name:"Cohort / disaggregated",pathName:"moh_disaggregated"},{name:"Regimen Distribution (Weight)",pathName:"moh_regimen_weight_distribution"},{name:"Survival analysis",pathName:"moh_survial_analysis"},{name:"TPT new initiations",pathName:"moh_tpt_new_initiations"},{name:"TX CURR MMD",pathName:"moh_tx_curr_mmd"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Active clients with adverse outcomes",pathName:"clinic_archiving_candidates"},{name:"Defaulter list",pathName:"clinic_defaulters_report"},{name:"Regimen report",pathName:"clinic_regimen_report"},{name:"Lab results",pathName:"clinic_lab_results"},{name:"Regimen switch",pathName:"clinic_regimen_switch"},{name:"Clients due for VL",pathName:"clinic_due_viral_load_report"},{name:"External consultation clients",pathName:"clinic_external_consultation_report"},{name:"Retention report",pathName:"clinic_retention_report"},{name:"Pregnant Patient",pathName:"clinic_pregnant_patients"},{name:"Missed Appointment",pathName:"clinic_missed_appointments"},{name:"VL results",pathName:"clinic_viral_load"},{name:"Other outcome list",pathName:"clinic_other_outcome_list"},{name:"Regimns and Formulation",pathName:"clinic_regimen_formulation"},{name:"Appointments",pathName:"clinic_appointments"},{name:"Stock card report",pathName:"stock_card_report"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Defaulter list",pathName:"pepfar_defaulters_report"},{name:"Disaggregated",pathName:"pepfar_disaggregated_report"},{name:"Regimen Report",pathName:"pepfar_regimen_report"},{name:"Regimen Switch",pathName:"pepfar_regimen_switch"},{name:"TB PREV",pathName:"pepfar_tb_prev_report"},{name:"TX CURR MMD",pathName:"pepfar_tx_curr_mmd_report"},{name:"TX ML",pathName:"pepfar_tx_ml_report"},{name:"TX RTT",pathName:"pepfar_tx_rtt"},{name:"Viral Load Coverage",pathName:"pepfar_vl_coverage"}]}];function EO(e,t){return{name:e,pathUrl:"/preferences?label=".concat(e,"&property=").concat(t)}}var FO=[{name:"Drug Management",icon:"drug.png",condition:function(){return xe["a"].isAdmin()},files:[{name:"Enter Receipts",pathUrl:"/art/stock/enter"},{name:"Enter Product relocation/Disposal",pathUrl:"/art/stock/move"},{name:"Enter verified physical stock count",pathUrl:"/art/stock/verify"},{name:"Print Barcode",pathUrl:"/drug/print"},{name:"Audit Trail",pathUrl:"/art/stock/trail"}]},{name:"System Preferences",icon:"hiv-staging.png",condition:function(){return xe["a"].isAdmin()},files:[EO("Activate Extended Lab","extended_labs"),EO("Activate VL routine check","activate_vl_routine_check"),EO("Ask pills remaining at home","ask_pills_remaining_at_home"),EO("Activate Filing Numbers","use.filing.number"),EO("Activate drug management","activate.drug.management"),EO("Activate Hypertension screening","activate.htn.enhancement"),EO("Activate fast track","enable_fast_track"),EO("Activate 3HP auto select","activate_3hp_auto_select"),EO("Filing numbers (activate)","use.filing.numbers"),EO("Is this a military site?","military_site"),{name:"Set Clinic Days",pathUrl:"/art/preferences/clinic_days"},{name:"Set HTN Age",pathUrl:"/art/preferences/htn_age"},{name:"Set Appointment Limit",pathUrl:"/art/preferences/appointment/limit"},{name:"Set Filing Numbers Limit",pathUrl:"/art/preferences/fn/limit"}]}],LO=[{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png"},{id:"hiv clinic consultation",name:"HIV clinic consultations",icon:"consultation.png"},{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png"},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png"},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png"},{id:"appointment",name:"Manage Appointments",workflowID:"Manage Appointments",icon:"appointment.png"},{id:"dispensing",name:"Drug Dispensations",workflowID:"Drug Dispensations",icon:"dispensing.png"},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png"},{id:"vitals",name:"Vitals",icon:"vitals.png"},{id:"patient type",name:"Patient Type",icon:"patient-type.png"},{id:"fast track assesment",name:"Fast Track assesment",globalProperty:"enable_fast_track=true",icon:"fast-track.png"},{id:"BP management",name:"BP management",icon:"dispensing.png",globalProperty:"activate.htn.enhancement=true"}],MO=[{id:"master_card",name:"Master card",description:"View mastercard",action:function(e,t){var n=e.patient;t.push("/art/mastercard/".concat(n.patient_id))},icon:"card.png"},{id:"f_number",name:"Filing Number (Print)",description:"Print Patient Filing Number",globalProperty:"use_filing_numbers=true",action:function(e){var t=e.patient,n=new de["a"](t.patient_id);return n.printFilingNumberLbl()},icon:"folder.png"},{id:"archive_client",name:"Archive client",description:"Archive a client",action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/".concat(n.patient_id,"?archive=true"))},condition:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.patient,e.abrupt("return",new On["a"](n).hasActiveFilingNumber());case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),globalProperty:"use_filing_numbers=true",icon:"archive.png"},{id:"assign_filing_number",name:"Assign filing number",description:"Assign a new filing number",condition:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.patient,r=new On["a"](n),e.abrupt("return",r.hasDormantFilingNumber()||!r.hasActiveFilingNumber());case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/".concat(n.patient_id,"?assign=true"))},globalProperty:"use_filing_numbers=true",icon:"archive.png"},{id:"filing_number_trail",name:"View filing number trail",description:"view trail",action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/".concat(n.patient_id,"?trail=true"))},globalProperty:"use_filing_numbers=true",icon:"folder.png"},{id:"change_patient_type",name:"Change patient type",description:"Change patient type",action:function(e,t){var n=e.patient;t.push("/art/encounters/patient_type/".concat(n.patient_id))},icon:"patient-type.png"}],HO=Object(a["createTextVNode"])("Select activities"),UO=Object(a["createTextVNode"])("finish");function qO(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-toolbar"),u=Object(a["resolveComponent"])("ion-header"),l=Object(a["resolveComponent"])("ion-label"),d=Object(a["resolveComponent"])("ion-checkbox"),p=Object(a["resolveComponent"])("ion-item"),b=Object(a["resolveComponent"])("ion-list"),f=Object(a["resolveComponent"])("ion-button"),m=Object(a["resolveComponent"])("ion-content");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[HO]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(m,{class:"ion-padding"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,{style:{height:"90%","overflow-x":"auto"}},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.appActivities,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(p,{key:t,color:"light"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.value),1)]})),_:2},1024),Object(a["createVNode"])(d,{modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t},slot:"start"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)})),128))]})),_:1}),Object(a["createVNode"])(f,{onClick:e.postActivities,disabled:0==e.selectedActivities.length},{default:Object(a["withCtx"])((function(){return[UO]})),_:1},8,["onClick","disabled"])]})),_:1})],64)}n("841c");var zO=Object(a["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},title:{type:String,default:""}},watch:{activities:{handler:function(e){e&&(this.appActivities=Object(s["a"])(e),this.getActivities())},immediate:!0}},methods:{getActivities:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,IO["b"].get("/user_properties?property=activities");case 2:if(n=t.sent,n&&200===n.status){t.next=7;break}Object(x["e"])("Could not get user activities"),t.next=11;break;case 7:return t.next=9,n.json();case 9:r=t.sent,e.appActivities=e.appActivities.map((function(e){return r.property_value.search(e.value)>=0&&(e.selected=!0),e}));case 11:case"end":return t.stop()}}),t)})))()},postActivities:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={property:"activities",property_value:e.selectedActivities},t.next=3,IO["b"].post("/user_properties",n);case 3:if(r=t.sent,r&&201===r.status){t.next=8;break}Object(x["e"])("Could not save activities"),t.next=10;break;case 8:return t.next=10,Ve["S"].dismiss();case 10:case"end":return t.stop()}}),t)})))()}},computed:{selectedActivities:function(){return this.appActivities.filter((function(e){return 1==e.selected})).map((function(e){return e.value})).join(",")}},data:function(){return{content:"Content",appActivities:[]}},components:{IonButton:Ve["d"],IonContent:Ve["m"],IonHeader:Ve["p"],IonTitle:Ve["J"],IonToolbar:Ve["K"],IonLabel:Ve["u"],IonList:Ve["v"],IonItem:Ve["t"],IonCheckbox:Ve["j"]}});const GO=S()(zO,[["render",qO]]);var YO=GO,KO=n("50e7");function WO(e){return $O.apply(this,arguments)}function $O(){return $O=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"art side effects",e.next=3,on["a"].getObservations(t,H["a"].getCachedConceptID(n));case 3:return r=e.sent,e.abrupt("return",r.filter((function(e){try{return e.children[0].value_coded==H["a"].getCachedConceptID("Yes")}catch(t){return!1}})));case 5:case"end":return e.stop()}}),e)}))),$O.apply(this,arguments)}var JO={alertSideEffects:WO},XO=n("74f4"),QO=Object(a["createTextVNode"])("Stock levels (Consumption rate calculated over a 3 month period)"),ZO=Object(a["createTextVNode"])("X"),ev=Object(a["createTextVNode"])("Paeds"),tv=Object(a["createTextVNode"])("Adults");function nv(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-title"),s=Object(a["resolveComponent"])("ion-button"),u=Object(a["resolveComponent"])("ion-toolbar"),l=Object(a["resolveComponent"])("ion-header"),d=Object(a["resolveComponent"])("ion-label"),p=Object(a["resolveComponent"])("ion-segment-button"),b=Object(a["resolveComponent"])("ion-segment"),f=Object(a["resolveComponent"])("apexchart"),m=Object(a["resolveComponent"])("ion-content");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(l,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[QO]})),_:1}),Object(a["createVNode"])(s,{color:"danger",slot:"end",onClick:t[1]||(t[1]=function(t){return e.closeModal()})},{default:Object(a["withCtx"])((function(){return[ZO]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(u,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,{onIonChange:t[2]||(t[2]=function(t){return e.segmentChanged(t)}),value:e.segment},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,{value:"paeds"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(){return[ev]})),_:1})]})),_:1}),Object(a["createVNode"])(p,{value:"adults"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(){return[tv]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(a["createVNode"])(m,{class:"ion-padding"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(f,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]})),_:1})],64)}var rv=n("3d6c"),av=Object(a["defineComponent"])({name:"Modal",components:{IonContent:Ve["m"],IonHeader:Ve["p"],IonTitle:Ve["J"],IonToolbar:Ve["K"],IonButton:Ve["d"],IonSegment:Ve["F"],IonSegmentButton:Ve["G"]},methods:{closeModal:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ve["S"].dismiss();case 2:case"end":return e.stop()}}),e)})))()},getDrugs:function(){this.paedDrugs=rv["a"].getPaedeatricDrugs(),this.adultDrugs=rv["a"].getAdultDrugs(),this.formatDrugs()},segmentChanged:function(e){this.segment=e.detail.value,this.formatDrugs()},formatDrugs:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new rv["a"],a="paeds"===e.segment?e.paedDrugs:e.adultDrugs,o=[],e.series[0].data=[].concat(o),a.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.getConsumptionRate(r.drugID);case 2:a=t.sent,o=parseInt(a["stock_level_in_months"]),e.series[0].data.push({x:r.shortName,y:o});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.getDrugs()},data:function(){return{paedDrugs:[],adultDrugs:[],segment:"paeds",options:{chart:{id:"vuechart-example"},plotOptions:{bar:{borderRadius:4,horizontal:!0,colors:{ranges:[{from:0,to:2,color:"#ff0000"},{from:2,to:4,color:"#66CDAA"},{from:4,to:1e6,color:"#ffff00"}]}}},grid:{column:{colors:["#FFFFFF","#FFFFFF","green"]}},yaxis:{min:1,max:9,fillColor:"#ffff00",tickAmount:1},xaxis:{fillColor:"#ffff00"}},series:[{name:"Available",data:[]}]}}});const ov=S()(av,[["render",nv]]);var iv=ov;function cv(e,t,n){return sv.apply(this,arguments)}function sv(){return sv=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new XO["a"](t),e.next=3,a.enrollProgram();case 3:if(o=e.sent,!o){e.next=8;break}return a.setStateId(1),e.next=8,a.updateState();case 8:return i=new Vt["a"](t,-1),i.setPatientType(n),i.setLocationName(r),e.next=13,i.createEncounter();case 13:return e.next=15,i.save();case 15:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function uv(){return lv.apply(this,arguments)}function lv(){return lv=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=LO.map((function(e){return{value:e.workflowID||e.name,selected:!1}})),e.next=3,Ve["S"].create({component:YO,cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{activities:t}});case 3:return n=e.sent,n.present(),e.next=7,n.onDidDismiss();case 7:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function dv(){return pv.apply(this,arguments)}function pv(){return pv=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt["a"].isStockManagementEnabled();case 3:if(t=e.sent,"true"!==t){e.next=11;break}return e.next=7,Ve["S"].create({component:iv,cssClass:"large-modal",backdropDismiss:!1});case 7:return n=e.sent,n.present(),e.next=11,n.onDidDismiss();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])}))),pv.apply(this,arguments)}function bv(){return fv.apply(this,arguments)}function fv(){return fv=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,uv();case 3:if("HomePage"!==t){e.next=6;break}return e.next=6,dv();case 6:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function mv(e,t,n,r){return hv.apply(this,arguments)}function hv(){return hv=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,cv(t,n.patient_type,n.location);case 2:return e.next=4,pt["a"].isProp("use.filing.numbers=true");case 4:if(!e.sent){e.next=9;break}return o="/art/filing_numbers/".concat(t,"?assign=true"),"Yes"===n.relationship&&(o+="&next_workflow_task=Guardian Registration"),a.push(o),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function gv(e){return Ov.apply(this,arguments)}function Ov(){return Ov=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,JO.alertSideEffects(t.getID());case 2:return n=e.sent,e.abrupt("return",[{label:"Side effects",value:"".concat(n.length)}]);case 4:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function vv(e){return[{label:"ART- Start Date",value:e.art_start_date},{label:"ARV Number",value:"".concat(e.arv_number," | Regimen: ").concat(e.current_regimen)},{label:"File Number",value:e.filing_number.number},{label:"Current Outcome",value:e.current_outcome}]}function _v(e,t){var n=e.getID();return{"PROGRAM INFORMATION":function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,KO["a"].getNextTaskParams(n);case 3:return r=e.sent,t.push({label:"Next Task",value:r.name?"".concat(r.name):"NONE"}),e.next=7,Ee["a"].getProgramInformation(n).then((function(e){t.push({label:"ART Duration",value:"".concat(e.art_duration," month(s) ")})}));case 7:return e.next=9,Ee["a"].getFastTrackStatus(n).then((function(e){t.push({label:"On Fast Track",value:!0===e["Continue FT"]?"Yes":"No"})}));case 9:return e.next=11,on["a"].getObservations(n,H["a"].getCachedConceptID("appointment date"));case 11:return a=e.sent,a.length>0&&(o=h["a"].toStandardHisDisplayFormat(a[0].value_datetime),t.push({label:"Next Appointment",value:o})),e.abrupt("return",t);case 14:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),"PATIENT IDENTIFIERS":function(){return[{label:"ARV Number",value:e.getArvNumber()},{label:"NPID",value:e.getNationalID()}]},ALERTS:function(){return gv(e)},"LAB ORDERS":function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=[],t.next=3,Ne["a"].getOrders(e.getID()).then((function(e){var t=Ne["a"].getViralLoadOrders(e);t.forEach((function(e){n.push({value:Ne["a"].formatOrders(e),label:""})}))}));case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),OUTCOME:function(){return[{label:"Current Outcome",value:t.outcome||"N/A"}]},GUARDIAN:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Gn.getGuardianDetails(e.getID());case 2:if(n=t.sent,!n){t.next=5;break}return t.abrupt("return",n.map((function(e){return{label:e.name,value:e.relationshipType}})));case 5:return t.abrupt("return",[]);case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}}var jv={init:bv,programID:1,applicationName:"ART",applicationIcon:"aids.png",applicationDescription:"HIV Client management app",appRoutes:jO,primaryPatientActivites:LO,secondaryPatientActivites:MO,globalPropertySettings:FO,programReports:BO,homeOverviewComponent:AO,confirmationSummary:_v,formatPatientProgramSummary:vv,getPatientDashboardAlerts:gv,onRegisterPatient:mv,programPatientIdentifiers:{"ARV Number":{id:4,name:"ARV Number",isPrimary:!0,useForSearch:!0,prefix:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pt["a"].getSitePrefix();case 2:return t=e.sent,e.abrupt("return","".concat(t,"-ARV-"));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},"Archived filing number":{id:18,name:"Archived filing number",isPrimary:!1,useForSearch:!1,prefix:function(){return""},globalPropertySetting:"use.filing.number=true"},"Filing number":{id:17,name:"Filing number",isPrimary:!1,useForSearch:!1,prefix:function(){return""},globalPropertySetting:"use.filing.number=true"}}},wv=jv,yv=Object(a["withScopeId"])("data-v-2fd0f4bb");Object(a["pushScopeId"])("data-v-2fd0f4bb");var kv={class:"los-overview"};Object(a["popScopeId"])();var xv=yv((function(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("report-table");return Object(a["openBlock"])(),Object(a["createBlock"])("div",kv,[Object(a["createVNode"])(c,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])})),Nv=n("80e3"),Vv=function(e){Object(b["a"])(n,e);var t=Object(f["a"])(n);function n(){return Object(d["a"])(this,n),t.call(this)}return Object(p["a"])(n,null,[{key:"overviewStats",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},e.next=3,this.ordersMade("ordered");case 3:return n=e.sent,e.next=6,this.ordersMade("drawn");case 6:return r=e.sent,n.forEach((function(e){e.name in t||(t[e.name]={ordered:0}),t[e.name].ordered+=1})),r.forEach((function(e){e.name in t||(t[e.name]={drawn:0}),t[e.name].drawn||(t[e.name].drawn=0),t[e.name].drawn+=1})),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"ordersMade",value:function(e){return Object(F["a"])(Object(L["a"])(n),"getJson",this).call(this,"orders_made",{date:Object(F["a"])(Object(L["a"])(n),"getSessionDate",this).call(this),status:e,start_date:Object(F["a"])(Object(L["a"])(n),"getSessionDate",this).call(this),end_date:Object(F["a"])(Object(L["a"])(n),"getSessionDate",this).call(this),program_id:Object(F["a"])(Object(L["a"])(n),"getProgramID",this).call(this)})}}]),n}(g["c"]),Cv=Object(a["defineComponent"])({components:{ReportTable:Nv["a"]},data:function(){return{rows:[],columns:[[rr["a"].thTxt("Test"),rr["a"].thTxt("Ordered"),rr["a"].thTxt("Drawn")]]}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setRows();case 2:case"end":return t.stop()}}),t)})))()},methods:{setRows:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Vv.overviewStats();case 2:if(n=t.sent,!Object(v["isEmpty"])(n))for(r in n)a=n[r],e.rows.push([rr["a"].td(r),rr["a"].td(a.ordered),rr["a"].td(a.drawn)]);case 4:case"end":return t.stop()}}),t)})))()}}});n("cbb9");const Dv=S()(Cv,[["render",xv],["__scopeId","data-v-2fd0f4bb"]]);var Tv=Dv,Rv=Object(a["createVNode"])("p",null,null,-1),Iv=Object(a["createTextVNode"])("Open"),Sv=Object(a["createTextVNode"])("Drawn"),Pv=Object(a["createVNode"])("p",null,null,-1),Av={style:{overflowX:"auto",height:"84%"}},Bv=Object(a["createVNode"])("b",null,"Select specimen",-1),Ev=Object(a["createTextVNode"])(" Close "),Fv=Object(a["createTextVNode"])(" Submit ");function Lv(e,t,n,r,o,i){var c=Object(a["resolveComponent"])("ion-label"),s=Object(a["resolveComponent"])("ion-segment-button"),u=Object(a["resolveComponent"])("ion-segment"),l=Object(a["resolveComponent"])("report-table"),d=Object(a["resolveComponent"])("ion-title"),p=Object(a["resolveComponent"])("ion-toolbar"),b=Object(a["resolveComponent"])("ion-header"),f=Object(a["resolveComponent"])("ion-radio"),m=Object(a["resolveComponent"])("ion-item"),h=Object(a["resolveComponent"])("ion-radio-group"),g=Object(a["resolveComponent"])("ion-list"),O=Object(a["resolveComponent"])("ion-col"),v=Object(a["resolveComponent"])("ion-chip"),_=Object(a["resolveComponent"])("ion-row"),j=Object(a["resolveComponent"])("ion-content"),w=Object(a["resolveComponent"])("ion-button"),y=Object(a["resolveComponent"])("ion-footer"),k=Object(a["resolveComponent"])("ion-page"),x=Object(a["resolveComponent"])("ion-modal");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Rv,Object(a["createVNode"])(u,{mode:"ios",scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{value:"openOrders",onClick:t[1]||(t[1]=function(t){return e.activeTab="openOrders"})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[Iv]})),_:1})]})),_:1}),Object(a["createVNode"])(s,{value:"drawnOrders",onClick:t[2]||(t[2]=function(t){return e.activeTab="drawnOrders"})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[Sv]})),_:1})]})),_:1})]})),_:1},8,["value"]),Pv,Object(a["createVNode"])("div",Av,["openOrders"===e.activeTab?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:0,rows:e.labOrderRows,columns:e.openColumns},null,8,["rows","columns"])):Object(a["createCommentVNode"])("",!0),"drawnOrders"===e.activeTab?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,rows:e.drawnOrders,columns:e.drawnColumns},null,8,["rows","columns"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(x,{"is-open":e.showSpecimenModal,class:"custom-modal"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(d,null,{default:Object(a["withCtx"])((function(){return[Bv]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(j,{class:"ion-padding"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(h,null,{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.specimens,(function(t,n){return Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:n},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(c,null,{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(t.name),1)]})),_:2},1024),Object(a["createVNode"])(f,{slot:"start",onClick:function(n){return e.selectedSpecimen=t}},null,8,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.order.tests,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(m,{lines:"none",key:t},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(v,{color:"primary"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.name),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w,{color:"danger",slot:"start",onClick:t[3]||(t[3]=function(t){e.showSpecimenModal=!1,e.selectedSpecimen={}})},{default:Object(a["withCtx"])((function(){return[Ev]})),_:1}),Object(a["createVNode"])(w,{disabled:!e.selectedSpecimen.name,color:"success",slot:"end",onClick:e.drawOrder},{default:Object(a["withCtx"])((function(){return[Fv]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["is-open"])],64)}var Mv=n("9c73"),Hv=n("e4bd"),Uv=Object(a["defineComponent"])({components:{IonTitle:Ve["J"],IonCol:Ve["l"],IonRow:Ve["E"],IonRadio:Ve["B"],IonButton:Ve["d"],IonList:Ve["v"],IonRadioGroup:Ve["C"],IonFooter:Ve["n"],IonToolbar:Ve["K"],IonHeader:Ve["p"],IonItem:Ve["t"],IonChip:Ve["k"],IonModal:Ve["z"],IonContent:Ve["m"],IonPage:Ve["A"],ReportTable:Nv["a"],IonSegment:Ve["F"],IonLabel:Ve["u"],IonSegmentButton:Ve["G"]},data:function(){return{showSpecimenModal:!1,specimens:[],order:{},selectedSpecimen:{},service:{},activeTab:"openOrders",drawnColumns:[[rr["a"].thTxt("Accession #"),rr["a"].thTxt("Test"),rr["a"].thTxt("Actions")]],openColumns:[[rr["a"].thTxt("Accession #"),rr["a"].thTxt("Test"),rr["a"].thTxt("Reason for test"),rr["a"].thTxt("Drawn"),rr["a"].thTxt("Void")]],drawnOrders:[],labOrderRows:[]}},watch:{patient:{handler:function(e){Object(v["isEmpty"])(e)||(this.service=new Mv["a"](this.patient.getID()))},immediate:!0,deep:!0},visitDate:{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e||!t.activeTab){n.next=4;break}return t.service.setDate(e),n.next=4,t.init();case 4:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{init:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.service.getOrders("drawn");case 2:return n=t.sent,t.next=5,e.service.getOrders("ordered");case 5:r=t.sent,e.labOrderRows=e.getLabOrderRows(r),e.drawnOrders=e.getdrawnOrders(n);case 8:case"end":return t.stop()}}),t)})))()},drawOrder:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.service.updateOrderSpecimen(e.order.order_id,e.selectedSpecimen.concept_id);case 3:if(n=t.sent,!n){t.next=9;break}return e.drawnOrders=e.drawnOrders.concat(e.getdrawnOrders([n])),e.labOrderRows.splice(e.order.orderIndex,1),e.showSpecimenModal=!1,t.abrupt("return",e.service.printSpecimenLabel(e.order.order_id));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0);case 14:Object(x["c"])("Unable to draw sample");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getLabOrderRows:function(e){var t=this;return e.map((function(e,n){return[rr["a"].td(e.accession_number),rr["a"].td(e.tests.map((function(e){return e.name})).join(",")),rr["a"].td(e.reason_for_test.name||"N/A"),rr["a"].tdBtn("Drawn",Object(r["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.order=Object(c["a"])(Object(c["a"])({},e),{},{orderIndex:n}),t.showSpecimenModal=!0,r.next=4,Mv["a"].getSpecimensForTests(e.tests);case 4:t.specimens=r.sent;case 5:case"end":return r.stop()}}),r)}))),{},"success"),rr["a"].tdBtn("Void",Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(Hv["a"])(function(){var a=Object(r["a"])(regeneratorRuntime.mark((function r(a){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.service.voidOrder(e.order_id,a);case 2:o=r.sent,o?t.labOrderRows.splice(n,1):Object(x["e"])("Unable to void order. Try again later");case 4:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}(),["Duplicate order","Wrong client"]);case 1:case"end":return a.stop()}}),a)}))),{},"danger")]}))},getdrawnOrders:function(e){var t=this;return e.map((function(e){return[rr["a"].td(e.accession_number),rr["a"].td(e.tests.map((function(e){return e.name})).join(",")),rr["a"].tdBtn("Print",(function(){t.service.printSpecimenLabel(e.order_id)}))]}))}},props:{patient:{type:Object,required:!0},visitDate:{type:String}}});const qv=S()(Uv,[["render",Lv]]);var zv=qv,Gv=[{id:"draw samples",name:"Draw Samples",icon:"social_history.png",action:function(e,t){var n=e.patient;t.push("/los/forms/order/".concat(n.patient_id,"?type=DRAW_SAMPLES"))}}],Yv=[{name:"order tests",path:"/los/forms/order/:patient_id",component:function(){return n.e("chunk-2d237731").then(n.bind(null,"fabb"))}},{name:"Tests requested report",path:"/los/report/tests/requests",component:function(){return n.e("chunk-2d2297b9").then(n.bind(null,"de46"))}},{name:"Test results report",path:"/los/report/tests/results",component:function(){return n.e("chunk-2d226ccc").then(n.bind(null,"e9ce"))}}],Kv={programID:23,applicationName:"LOS",applicationIcon:"order.png",applicationDescription:"Lab Order System",appRoutes:Yv,primaryPatientActivites:Gv,secondaryPatientActivites:[],globalPropertySettings:[],homeOverviewComponent:Tv,customPatientDashboardContentComponent:zv,confirmationSummary:function(e){return{"PATIENT IDENTIFIERS":function(){return[{label:"NPID",value:e.getNationalID()}]},"LAB ORDERS":function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ne["a"].getOrders(e.getID());case 2:return n=t.sent,t.abrupt("return",n.map((function(e){return{label:e.specimen.name,value:"".concat(e.accession_number," - ").concat(h["a"].toStandardHisDisplayFormat(e.order_date))}})));case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}},programReports:[{name:"Clinical",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Test requested",pathUrl:"/los/report/tests/requests"},{name:"Test results",pathUrl:"/los/report/tests/results"}]}]},Wv=Kv;t["a"]=[wv,Wv]},f7a2:function(e,t,n){"use strict";n("1cd4")},fa73:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("99af"),n("caad"),n("a15b"),n("d81d"),n("fb6a"),n("45fc"),n("ac1f"),n("2532"),n("466d"),n("1276");var r=n("5530"),a=n("4f96"),o=(n("96cf"),n("1da1")),i=n("d4ec"),c=n("bee2"),s=n("262e"),u=n("2caf"),l=n("1c74"),d=n("2ef0"),p=n("ad49"),b=n("4db7"),f=n("9283"),m=n("23e6"),h=function(e){Object(s["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),e.patientID=-1,e.enabled=!1,e}return Object(c["a"])(n,[{key:"setPatientID",value:function(e){this.patientID=e}},{key:"loadDDEStatus",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].isProp("dde_enabled=true");case 2:this.enabled=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEnabled",value:function(){return this.enabled}},{key:"postMerge",value:function(e){var t=e.map((function(e){return{patient_id:e.patientID,doc_id:e.docID||""}})),n=Object(a["a"])(t),r=n[0],o=n.slice(1);return this.patientID=r.patient_id,this.mergePatients({primary:r,secondary:o,program_id:l["c"].getProgramID()})}},{key:"checkPotentialDuplicates",value:function(e){return l["c"].getJson("dde/patients/match_by_demographics",Object(r["a"])(Object(r["a"])({},e),{},{program_id:l["c"].getProgramID()}))}},{key:"hasPatientDoubles",value:function(e){return e.map((function(t){return e.map((function(e){return e.patient_id})).includes(t.patient_id)})).some(Boolean)}},{key:"searchDemographics",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["c"].getJson("dde/patients/find_by_name_and_gender",Object(r["a"])({program_id:l["c"].getProgramID()},t));case 2:if(n=e.sent,a=function(e,t){var n=new m["a"](e);return Object(r["a"])({patient_type:t,doc_id:n.getPatientIdentifier(27)},e)},!n){e.next=8;break}return o=n.locals.map((function(e){return a(e,"Local")})),i=n.remotes.map((function(e){return a(e,"Remote")})),e.abrupt("return",o.concat(i));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchNpid",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.findNpid(t);case 2:if(n=e.sent,!n){e.next=9;break}return r=n.locals.concat(n.remotes),a=this.hasPatientDoubles(n.locals),o=this.hasPatientDoubles(n.remotes),this.patientID=r[0].patient_id,e.abrupt("return",a||o?r:r[0]);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"findNpid",value:function(e){return l["c"].getJson("dde/patients/find_by_npid",{npid:e,program_id:l["c"].getProgramID()})}},{key:"findVoidedIdentifier",value:function(e){return l["c"].getJson("search/patients/by_identifier",{type_id:3,voided:!0,identifier:e})}},{key:"shouldCreateNpid",value:function(e){return!Object(d["isEmpty"])(e)&&e.npid}},{key:"formatDiffValuesByType",value:function(e,t){var n={};for(var r in e)n[r]=e[t];return n}},{key:"diffsToTurple",value:function(e){var t=[],n=function(e,t){return"string"===typeof t&&e.match(/date/i)?f["a"].toStandardHisDisplayFormat(t):t};for(var r in e){var a=e[r],o=r.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");t.push([o,n(r,a.local),n(r,a.remote)])}return t}},{key:"shouldUpdateDiffs",value:function(e){return!Object(d["isEmpty"])(e)}},{key:"mergePatients",value:function(e){return l["c"].postJson("dde/patients/merge",e)}},{key:"reassignNpid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.patientID;return l["c"].postJson("dde/patients/reassign_npid",{program_id:l["c"].getProgramID(),patient_id:t,doc_id:e})}},{key:"createNPID",value:function(e){return l["c"].postJson("patient_identifiers",{identifier:e,patient_id:this.patientID,identifier_type:3})}},{key:"printNpid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.patientID;return new b["a"](e).printNidLbl()}},{key:"getLocalAndRemoteDiffs",value:function(){return l["c"].getJson("dde/patients/diff",{patient_id:this.patientID,program_id:l["c"].getProgramID()})}},{key:"updateLocalDifferences",value:function(e){return l["c"].putJson("people/".concat(this.patientID),Object(r["a"])({program_id:l["c"].getProgramID()},e))}},{key:"refreshDemographics",value:function(){return l["c"].getJson("dde/patients/refresh",{patient_id:this.patientID,program_id:l["c"].getProgramID()})}}]),n}(l["c"])},fa9e:function(e,t,n){"use strict";n("6a5f")},fb40:function(e,t,n){},fc3f:function(e,t,n){"use strict";n("cc98")},fcbf:function(e,t,n){},fd60:function(e,t,n){"use strict";n("d683")},fef5:function(e,t,n){}});
//# sourceMappingURL=app.0bb3da49.js.map