(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c0c373a"],{"1fc7":function(e,t,n){"use strict";n("3d2b")},"3d2b":function(e,t,n){},5969:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("5530"),a=n("d4ec"),o=n("bee2"),c=n("262e"),i=n("2caf"),u=(n("99af"),n("1c74")),s=n("9283"),l=n("5a0c"),d=n.n(l),f=function(e){Object(c["a"])(n,e);var t=Object(i["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.endDate="",e.startDate="",e.quarter="",e.date=u["e"].getSessionDate(),e.programID=u["e"].getProgramID(),e}return Object(o["a"])(n,[{key:"getDateIntervalPeriod",value:function(){return"".concat(s["c"].toStandardHisDisplayFormat(this.startDate)," - ").concat(s["c"].toStandardHisDisplayFormat(this.endDate))}},{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"setQuarter",value:function(e){this.quarter=e}},{key:"getReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u["e"].getJson(e,this.buildRequest(t))}},{key:"buildRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.quarter&&(t["quarter"]=this.quarter),Object(r["a"])(Object(r["a"])({},t),e)}}],[{key:"getQuarterBounds",value:function(e){var t=function(t){return d()("".concat(e,"-").concat(t,"-01")).daysInMonth()},n=function(t){return"".concat(e,"-").concat(t,"-01 00:00")},r=function(n){return"".concat(e,"-").concat(n,"-").concat(t(n)," 00:00")};return{Q1:{qtr:1,start:n("01"),end:r("03")},Q2:{qtr:2,start:n("04"),end:r("06")},Q3:{qtr:3,start:n("07"),end:r("09")},Q4:{qtr:4,start:n("10"),end:r("12")}}}},{key:"getQtrByDate",value:function(e){var t=this.getQuarterBounds(e.getFullYear());for(var n in t){var r=t[n],a=r.start,o=r.end;if(e>=new Date(a)&&e<=new Date(o))return t[n]}return null}},{key:"buildQtrObj",value:function(e,t){var n=this.getQuarterBounds(t),r=n[e],a=r.start,o=r.end;return{start:a,end:o,name:"".concat(e," ").concat(t)}}},{key:"getReportQuarters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=new Date,r=n.getFullYear(),a=r;n=new Date("".concat(a,"-").concat(n.getMonth()+1,"-").concat(n.getDate()," 00:00"));var o=this.getQtrByDate(n),c=o.qtr,i=0;4===c&&t.push(this.buildQtrObj("Q1",r+1));while(i<e)0===i&&c<4&&t.push(this.buildQtrObj("Q".concat(c+1),r)),t.push(this.buildQtrObj("Q".concat(c),r)),c=c>0?c-=1:c,r=0==c?r-1:r,c=0==c?c+=4:c,i++;return t}}]),n}(u["e"])},"5e76":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return v}));var r=n("53ca"),a=n("1da1"),o=(n("96cf"),n("d3b7"),n("4de4"),n("07ac"),n("99af"),n("3ca3"),n("ddb0"),n("25f0"),n("d81d"),n("7957")),c=n("0011"),i=n("2ef0"),u=n("b211"),s=n("b5e4");function l(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=16;break}if(n=e.t1.value,!t[n].required||!Object(i["isEmpty"])(t[n].value)){e.next=6;break}return t[n].error="This field is required",e.abrupt("continue",1);case 6:if("function"===typeof t[n].validation){e.next=9;break}return t[n].error="",e.abrupt("continue",1);case 9:return a="object"===Object(r["a"])(t[n].value)?t[n].value:{label:t[n].value,value:t[n].value},e.next=12,t[n].validation(a,t);case 12:o=e.sent,o&&o.length>0?(t[n].error=o.toString(),console.log(n,t[n].error)):t[n].error="",e.next=1;break;case 16:return e.abrupt("return",Object.values(t).every((function(e){var t=e.error;return!t})));case 17:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r={};for(var a in e)if(e[a].value){var o=t?Object(c["i"])(a):a;n[o]=e[a].value,"function"===typeof e[a].computedValue&&(r[o]=e[a].computedValue(e[a].value,e))}return{formData:n,computedFormData:r}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.values(e).filter((function(e){return e&&(e.tag===t||""===t)})).reduce((function(e,t){var n=t.obs?t.obs:t;return Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]);return Promise.all(n)}function p(e,t){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",o["a"].buildGroupValueCoded(t,n.label,n.isChecked?"Yes":"No"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e,t,n){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,c,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,a=(null===r||void 0===r?void 0:r.showloader)||!1,a&&u["a"].show(),o=f(t,null===r||void 0===r?void 0:r.underscoreKeys),c=o.formData,i=o.computedFormData,e.next=10,n(c,i);case 10:if(!a){e.next=13;break}return e.next=13,u["a"].hide();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](4),Object(s["e"])("".concat(e.t0)),u["a"].hide();case 19:case"end":return e.stop()}}),e,null,[[4,15]])}))),h.apply(this,arguments)}},"8d90":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a=Object(r["createTextVNode"])(" Data Cleaning Verification "),o=Object(r["createTextVNode"])("Submit"),c=Object(r["createTextVNode"])("Clear"),i=Object(r["createTextVNode"])("Back");function u(e,t,n,u,s,l){var d=Object(r["resolveComponent"])("ion-title"),f=Object(r["resolveComponent"])("yes-no-input"),b=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("DateInput"),m=Object(r["resolveComponent"])("text-input"),v=Object(r["resolveComponent"])("ion-row"),h=Object(r["resolveComponent"])("ion-button"),O=Object(r["resolveComponent"])("ion-grid"),g=Object(r["resolveComponent"])("Layout");return Object(r["openBlock"])(),Object(r["createBlock"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{class:"his-card ion-padding",size:"10",offset:"1"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{class:"ion-text-center ion-margin-vertical ion-padding-bottom bold"},{default:Object(r["withCtx"])((function(){return[a]})),_:1}),Object(r["createVNode"])(v,{class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{modelValue:e.form.cleaningDone,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.cleaningDone=t}),inline:""},null,8,["modelValue"])]})),_:1}),"Yes"===e.form.cleaningDone.value?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])(b,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{modelValue:e.form.date,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.date=t}),"max-date":e.today,form:e.form},null,8,["modelValue","max-date","form"])]})),_:1}),Object(r["createVNode"])(b,{size:"12",class:"ion-margin-top ion-margin-bottom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{modelValue:e.form.provider,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.provider=t}),form:e.form},null,8,["modelValue","form"])]})),_:1})],64)):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(h,{class:"ion-margin-top ",onClick:e.onSubmit,color:"success"},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"ion-margin-top",onClick:e.onClear,color:"warning"},{default:Object(r["withCtx"])((function(){return[c]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"ion-margin-top",onClick:t[4]||(t[4]=function(t){return e.$router.back()}),color:"light"},{default:Object(r["withCtx"])((function(){return[i]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var s=n("1da1"),l=(n("96cf"),n("8d56")),d=n("8a30"),f=n("6c02"),b=n("5a0c"),p=n.n(b),m=n("2706"),v=n("5e76"),h=n("b211"),O=n("df95"),g=n("0db2"),j=n("5ab5"),D=n("6b6c"),w=n("b5e4"),C=n("0ba8"),k=n("b5b2"),R=Object(r["defineComponent"])({components:{Layout:l["a"],IonGrid:d["IonGrid"],IonRow:d["IonRow"],IonCol:d["IonCol"],IonButton:d["IonButton"],IonTitle:d["IonTitle"],YesNoInput:D["a"],DateInput:j["a"],TextInput:g["a"]},setup:function(){var e=Object(f["f"])(),t=p()().format("YYYY-MM-DD"),n=Object(r["reactive"])({cleaningDone:{value:"",label:"Cleaning Done",required:!0},date:{value:"",label:"Date of Cleaning",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.cleaningDone.value&&m["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},provider:{value:"",label:"Verified By",validation:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","Yes"===n.cleaningDone.value&&m["a"].required(t));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}}),a=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["a"])(n);case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:return h["a"].show(),r=Object(v["c"])(n).formData,t.next=8,(new O["b"]).saveDataCleaningVerification({data_cleaning_datetime:r.date,supervisors:[r.provider]});case 8:a=t.sent,h["a"].hide(),a&&e.back();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["a"])("Are you sure you want to clear all fields?");case 2:if(!e.sent){e.next=5;break}for(t in n)n[t].value="";C["b"].emit(k["a"].ON_CLEAR);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{form:n,today:t,onSubmit:a,onClear:o}}}),x=(n("1fc7"),n("d959")),y=n.n(x);const N=y()(R,[["render",u]]);t["default"]=N},b211:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=(n("96cf"),n("8a30")),o={show:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["loadingController"].create({message:e||"Loading...",spinner:"crescent",translucent:!0});case 2:return t.abrupt("return",t.sent.present());case 3:case"end":return t.stop()}}),t)})))()},hide:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["loadingController"].dismiss());case 1:case"end":return e.stop()}}),e)})))()}}},df95:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var r,a=n("d4ec"),o=n("bee2"),c=n("262e"),i=n("2caf"),u=n("5969");(function(e){e["DobMoreThanEnrolledDate"]="DOB MORE THAN DATE ENROLLED",e["ClientsWithEncountersAfterDeath"]="CLIENTS WITH ENCOUNTERS AFTER DECLARED DEAD",e["DateEnrolledLessThanEarliestStartDate"]="DATE ENROLLED LESS THAN EARLIEST START DATE",e["MalesWithFemaleObs"]="MALE CLIENTS WITH FEMALE OBS",e["PrescriptionWithoutDispensation"]="PRESCRIPTION WITHOUT DISPENSATION",e["MissingDemographics"]="MISSING DEMOGRAPHICS",e["MissingStartReasons"]="MISSING START REASONS",e["MultipleStartReasons"]="MULTIPLE START REASONS",e["PreArtOrUnknownOutcomes"]="PRE ART OR UNKNOWN OUTCOMES"})(r||(r={}));var s=function(e){Object(c["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"saveDataCleaningVerification",value:function(e){return u["a"].postJson("data_cleaning_confirmation",e)}},{key:"getCleaningToolReport",value:function(e){return this.getReport("art_data_cleaning_tools",{report_name:e})}},{key:"getEnrolledOnArtBeforeBirth",value:function(){return u["a"].getJson("enrolled_on_art_before_birth")}},{key:"getIncompleteVisits",value:function(){return this.getReport("incomplete_visits",{tool_name:"INCOMPLETE VISITS"})}}]),n}(u["a"])}}]);
//# sourceMappingURL=chunk-5c0c373a.a2342fb8.js.map