(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-813b9f70"],{"68cb":function(e,n,t){"use strict";t.r(n);var o=t("7a23");function i(e,n,t,i,c,a){const s=Object(o["resolveComponent"])("his-standard-form"),l=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(l,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(s,{formLabel:"DBS Order",fields:e.fields,onFinishAction:e.onFinish,cancelDestinationPath:e.patientDashboardUrl()},null,8,["fields","onFinishAction","cancelDestinationPath"])]),_:1})}var c=t("d95e"),a=t("d867"),s=t("cc6f");class l extends s["a"]{constructor(e,n=-1){super(e,199,n)}}var r=t("7920"),d=t("e9be"),p=Object(o["defineComponent"])({components:{IonPage:a["D"],HisStandardForm:r["a"]},setup(){const e=Object(o["ref"])([]),n=Object(o["ref"])(""),t=new l(-1),{htsClient:i,yesNoOptions:a,saveEncounter:s,patientDashboardUrl:r}=Object(d["a"])({onInitVisit:n=>{e.value=[m(n),b()]}});function p(e,n){let o=void 0;"Yes"===e.dbs_sample_collection&&(o=u(e.dbs_specimen_id)),s({encounterName:"DBS ORDER",encounterTypeID:t.encounterTypeID,formData:e,computedData:n,labOrders:o})}function u(e){const t=i.age;let o;return o=t<1||"Inconclusive Re-test"==n.value?844:l.getCachedConceptID("HIV viral load"),[{concept_id:o,specimenConcept:l.getCachedConceptID("DBS (Free drop to DBS card)",!0),accessionNumber:e,reason:"Routine"}]}function m(e){let o="DBS Sample";const i=e.age;return"Inconclusive Re-test"==n.value&&(o="DBS Sample for Incoclusive Re-test"),i<1&&(o="DBS Sample (EID)"),i<1&&(o="DBS Sample (EID)"),{id:"dbs_sample_collection",helpText:o,type:c["b"].TT_YES_NO,isRequired:()=>!0,finalComputedValue:e=>({obs:t.buildValueCoded("Is DBS Sample Collected",e)}),options:()=>[{label:"Is DBS Sample Collected?",value:"",values:a()}]}}function b(){return{id:"dbs_specimen_id",helpText:"DBS Specimen ID",type:c["b"].TT_BARCODE,requireNext:!1,condition:e=>/yes/i.test(""+e.dbs_sample_collection),finalComputedValue:e=>({obs:t.buildValueText("DBS Specimen ID",""+e)}),config:{hiddenFooterBtns:["Clear"]},isRequired:()=>!0}}return{patientDashboardUrl:r,onFinish:p,fields:e}}}),u=t("6b0d"),m=t.n(u);const b=m()(p,[["render",i]]);n["default"]=b},7920:function(e,n,t){"use strict";var o=t("7a23");function i(e,n,t,i,c,a){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,40,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var c=t("9441"),a=Object(o["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:c["a"]},emits:["onFinish","onIndex"],data:()=>({formType:"touch-screen-form"}),props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish(e,n){this.$emit("onFinish",e,n)},onIndex(e){this.$emit("onIndex",e)}}}),s=t("6b0d"),l=t.n(s);const r=l()(a,[["render",i]]);n["a"]=r}}]);
//# sourceMappingURL=chunk-813b9f70.8ac952e3.js.map