(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a601f68"],{1148:function(e,t,n){"use strict";var r=n("a691"),a=n("1d80");e.exports="".repeat||function(e){var t=String(a(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},"408a":function(e,t,n){var r=n("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},7365:function(e,t,n){"use strict";var r,a=n("5530"),i=n("1da1"),o=n("3835"),c=(n("96cf"),n("ac1f"),n("1276"),n("d3b7"),n("ddb0"),n("b0c0"),n("25f0"),n("d81d"),n("4e82"),n("99af"),n("4de4"),n("07ac"),n("3ca3"),n("7a23")),u=n("ad60"),s=n("2ef0"),l=n("0fa1"),h=n("7f35"),d=n("9283");(function(e){e["SET_PROVIDER"]="SET_PROVIDER",e["CHANGE_SESSION_DATE"]="change_session_date",e["GO_TO_PATIENT_DASHBOARD"]="go_to_patient_dashboard",e["CHANGE_PATIENT_OUTCOME"]="change_outcome",e["CONTINUE"]="continue",e["EXIT"]="exit"})(r||(r={}));var f=function(e){return d["c"].toStandardHisDisplayFormat(e)},p={"Warn if attempting to create new encounters for a deceased patient":{priority:1,actions:{alert:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.outcomeStartDate,e.next=3,Object(h["a"])("Data Integrity Issue Found","Patient died on ".concat(f(n)),"Proceeding with this outcome might affect accuracy of some reports",[{name:"Cancel",slot:"end",color:"primary"},{name:"Change outcome",slot:"end",color:"primary"},{name:"Continue Anyway",slot:"end",color:"danger"}]);case 3:return a=e.sent,e.abrupt("return","Cancel"===a?r.GO_TO_PATIENT_DASHBOARD:"Change outcome"===a?r.CHANGE_PATIENT_OUTCOME:r.CONTINUE);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{outcome:function(e){return"Patient died"===e},outcomeStartDate:function(e,t){var n=t.sessionDate;return n>=e}}},"A patient's date of birth must not be less than Session Date":{priority:2,actions:{alert:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.birthDate,a=t.sessionDate,e.next=3,Object(h["a"])("Data integrity issue found","","Session date ".concat(f(a)," is less than birth date of ").concat(f(n)),[{name:"Cancel",slot:"end",color:"danger"},{name:"Change session date",slot:"end",color:"success"}]);case 3:return i=e.sent,e.abrupt("return","Change session date"===i?r.CHANGE_SESSION_DATE:r.GO_TO_PATIENT_DASHBOARD);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{birthDate:function(e,t){var n=t.sessionDate;return n<e}}},"Select Encounter provider when in back data entry":{priority:3,actions:{selection:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.providers,a=t.encounterName,i=t.sessionDate,o=t.apiDate,e.next=3,Object(h["c"])("Please select a provider for ".concat(a),"BDE: ".concat(f(i)," | Current: ").concat(f(o)),n,[{name:"Cancel",color:"danger",slot:"start",role:"default"},{name:"Confirm",slot:"end",role:"action"}]);case 3:return c=e.sent,e.abrupt("return","Cancel"===c.action?{value:-1,flowState:r.GO_TO_PATIENT_DASHBOARD}:{value:c.selection,flowState:r.SET_PROVIDER});case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},conditions:{isBdeMode:function(e){return e}}}},v=n("c21d"),b=n("7920"),g=n("b5e4"),m=n("8e8b"),O=Object(c["defineComponent"])({components:{HisStandardForm:b["a"]},data:function(){return{patient:{},fields:[],patientID:"",providerID:-1,providers:[],facts:{sessionDate:"",apiDate:"",encounterName:"N/A",providers:[],isBdeMode:!1,birthDate:"",outcome:"",outcomeStartDate:""},ready:!1}},watch:{$route:{handler:function(e){var t=this;e.params.patient_id&&this.patientID!=e.params.patient_id&&(this.patientID=parseInt(e.params.patient_id),m["a"].get("ACTIVE_PATIENT",{patientID:this.patientID}).then((function(e){t.patient=e,t.setEncounterFacts().then((function(){t.checkEncounterGuidelines().then((function(){t.ready=!0}))}))})))},immediate:!0,deep:!0}},computed:{cancelDestination:function(){return this.patientDashboardUrl()}},methods:{runflowState:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};if(a[r.SET_PROVIDER]=function(e){var n=e.split(" "),a=Object(o["a"])(n,1),i=a[0],c=Object(s["find"])(t.providers,{username:i});return c&&(t.providerID=c.person_id),r.CONTINUE},a[r.CHANGE_SESSION_DATE]=function(){return t.$router.push("/session/date?patient_dashboard_redirection_id=".concat(t.patientID)),r.EXIT},a[r.CHANGE_PATIENT_OUTCOME]=function(){return t.$router.push("/patient/programs/".concat(t.patientID)),r.EXIT},a[r.GO_TO_PATIENT_DASHBOARD]=function(){return t.gotoPatientDashboard(),r.EXIT},e in a)return a[e](n)},checkEncounterGuidelines:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a,i,o,c,u,s,l,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(v["a"])(e.facts,p),t.t0=regeneratorRuntime.keys(n);case 2:if((t.t1=t.t0()).done){t.next=20;break}if(a=t.t1.value,c=n[a],null===c||void 0===c||null===(i=c.actions)||void 0===i||!i.alert){t.next=13;break}return t.t2=e,t.next=9,null===c||void 0===c||null===(u=c.actions)||void 0===u?void 0:u.alert(e.facts);case 9:if(t.t3=t.sent,s=t.t2.runflowState.call(t.t2,t.t3),s!==r.EXIT){t.next=13;break}return t.abrupt("return");case 13:if(null===c||void 0===c||null===(o=c.actions)||void 0===o||!o.selection){t.next=18;break}return t.next=16,null===c||void 0===c||null===(l=c.actions)||void 0===l?void 0:l.selection(e.facts);case 16:h=t.sent,e.runflowState(h.flowState,h.value);case 18:t.next=2;break;case 20:case"end":return t.stop()}}),t)})))()},setEncounterFacts:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m["a"].get("PATIENT_PROGRAM",{patientID:e.patientID});case 3:n=t.sent,e.facts.outcome=n.outcome,e.facts.outcomeStartDate=n.startDate,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0),Object(g["c"])("".concat(t.t0));case 12:if(e.facts.sessionDate=u["a"].getSessionDate(),e.facts.apiDate=u["a"].getCachedApiDate(),e.facts.isBdeMode=u["a"].isBDE(),e.facts.birthDate=e.patient.getBirthdate(),e.facts.encounterName=e.$route.name?e.$route.name.toString().toUpperCase():"N/A",!u["a"].isBDE()){t.next=22;break}return t.next=20,m["a"].get("PROVIDERS");case 20:e.providers=t.sent,e.facts.providers=e.providers.sort((function(e,t){var n=e.username.toUpperCase(),r=t.username.toUpperCase();return n<r?-1:n>r?1:0})).map((function(e){var t,n="".concat(e.username);if(!Object(s["isEmpty"])(null===e||void 0===e||null===(t=e.person)||void 0===t?void 0:t.names)){var r,a=(null===(r=e.person)||void 0===r?void 0:r.names)||[],i=Object(o["a"])(a,1),c=i[0];n+=" (".concat(c.given_name," ").concat(c.family_name,")")}return n}));case 22:case"end":return t.stop()}}),t,null,[[0,8]])})))()},toOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{label:e,value:e,other:t}},mapStrToOptions:function(e){return e.map((function(e){return{label:e,value:e}}))},patientDashboardUrl:function(){return"/patient/dashboard/".concat(this.patientID)},gotoPatientDashboard:function(){return this.$router.push({path:this.patientDashboardUrl()})},nextTask:function(){return Object(l["b"])(this.patientID,this.$router)},yesNoOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},toYesNoOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{label:e,value:"",other:Object(a["a"])(Object(a["a"])({},t),{},{values:this.yesNoOptions()})}},mapOptions:function(e){return e.map((function(e){return{label:e,value:e}}))},yesNoUnknownOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Unknown",value:"Unknown"}]},resolveObs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.values(e).filter((function(e){return e&&(e.tag===t||""===t)})).reduce((function(e,t){var n=t.obs?t.obs:t;return Array.isArray(n)?e=e.concat(n):"function"===typeof n?e.push(n()):e.push(n),e}),[]);return Promise.all(n)},inArray:function(e,t){try{return e.filter((function(e){return t(e)})).length>0}catch(n){return!1}},validateSeries:function(e){try{for(var t in e){var n=e[t]();if(n)return n}}catch(r){return[r]}}}});const x=O;t["a"]=x},7920:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,i,o){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var i=n("9441"),o=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:i["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),c=n("d959"),u=n.n(c);const s=u()(o,[["render",a]]);t["a"]=s},ab49:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,i,o){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onOnskip:t[1]||(t[1]=function(t){return e.activeField=""}),onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","activeField","onFinishAction","cancelDestinationPath"])}var i=n("1da1"),o=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("caad"),n("2532"),n("159b"),n("ac1f"),n("1276"),n("b680"),n("3ca3"),n("ddb0"),n("99af"),n("d95e")),c=n("7920"),u=n("2706"),s=n("b515"),l=n("b5e4"),h=n("7365"),d=n("aee2"),f=n("ad60"),p=n("2ef0"),v=n("3e53"),b=n("7f35"),g=n("5a0c"),m=n.n(g),O=n("8e8b"),x=Object(r["defineComponent"])({mixins:[h["a"]],components:{HisStandardForm:c["a"]},data:function(){return{app:v["a"].getActiveApp(),activeField:"",age:null,gender:null,hasBPinfo:!1,finalHeightValue:null,recentHeight:null,recentHeightObsID:-1,HTNEnabled:!1,optionWhiteList:[],hasHTNObs:!1,vitals:{},weightForHeight:{},medianWeightandHeight:{},canEditHeight:!1,patientAgeAtPrevRecordedHeight:-1}},watch:{ready:{handler:function(e){e&&this.init()},immediate:!0}},methods:{init:function(){this.vitals=new s["a"](this.patientID,this.providerID),this.age=this.patient.getAge(),this.gender=this.patient.getGender(),this.fields=this.getFields()},getOptions:function(){var e=this,t="";this.recentHeight&&(this.age>18||this.patientAgeAtPrevRecordedHeight>=18)&&(t=this.recentHeight||"");var n=[{label:"Weight",value:"",other:{modifier:"KG",icon:"weight",required:!0}},{label:"Height",value:"".concat(t),other:{modifier:"CM",icon:"height",recentHeight:this.recentHeight,visible:this.canEditHeight,required:this.canEditHeight}},{label:"BP",value:"",other:{modifier:"mmHG",icon:"bp"}},{label:"Temp",value:"",other:{modifier:"°C",icon:"temp"}},{label:"SP02",value:"",other:{modifier:"%",icon:"spo2"}},{label:"Pulse",value:"",other:{modifier:"BPM",icon:"pulse-rate"}},{label:"Age",value:this.age,other:{modifier:"Years old",icon:"",visible:!1}}];return Object(p["isEmpty"])(this.optionWhiteList)?n:n.filter((function(t){return e.optionWhiteList.includes(t.label)})).map((function(e){return e.other.required=!0,e}))},canCheckWeightHeight:function(){return Object(p["isEmpty"])(this.optionWhiteList)||this.optionWhiteList.includes("Height")&&this.optionWhiteList.includes("Weight")},canCheckBp:function(){return Object(p["isEmpty"])(this.optionWhiteList)||this.optionWhiteList.includes("BP")},onFinish:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.vitals.createEncounter();case 2:if(r=n.sent,r){n.next=5;break}return n.abrupt("return",Object(l["e"])("Unable to create treatment encounter"));case 5:return n.next=7,t.buildObs(e);case 7:return a=n.sent,n.next=10,t.vitals.saveObservationList(a);case 10:if(i=n.sent,i){n.next=13;break}return n.abrupt("return",Object(l["e"])("Unable to save patient observations"));case 13:Object(l["d"])("Observations and encounter created!"),t.nextTask();case 15:case"end":return n.stop()}}),n)})))()},buildObs:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.mapObs(t.sanitizeVitals(e.vitals).filter((function(e){return"BP"!==e.label})).map((function(e){return"Height"===e.label&&e.other.visible&&t.finalHeightValue&&(e.value=t.finalHeightValue),e})));case 2:if(r=n.sent,!t.HTNEnabled||t.hasHTNObs||!e.on_htn_medication){n.next=8;break}return n.next=6,t.vitals.buildValueText("Treatment status",e.on_htn_medication.value);case 6:a=n.sent,r.push(a);case 8:return n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))()},splitBP:function(e){var t=[];return e.forEach((function(e){if("BP"===e.label){var n="".concat(e.value).split("/"),r=n[0],a=n[1];t.push({label:"Systolic",value:r}),t.push({label:"Diastolic",value:a})}})),t},getBMI:function(e){var t=this.getVal(e,"Weight"),n=this.getVal(e,"Height"),r=[];if(this.age<=14){var a=(t/parseFloat(this.medianWeightandHeight["weight"])*100).toFixed(0),i=(n/parseFloat(this.medianWeightandHeight["height"])*100).toFixed(0),o=(n%Math.floor(n)<.5?0:.5)+Math.floor(n),c=this.weightForHeight[o.toFixed(1)],u=(t/c*100).toFixed(0);isNaN(parseFloat(u))||r.push({label:"Weight for height percent of median",value:u}),r.push({label:"Weight for age percent of median",value:a}),r.push({label:"Height for age percent of median",value:i})}else{var s=d["a"].calculateBMI(t,n);r.push({label:"BMI",value:s})}return r},getVal:function(e,t){var n=e.filter((function(e){return e.label===t}));return""===n[0].value?0:parseFloat("".concat(n[0].value))},mapObs:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.map(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.vitals.buildValueNumber(n.label,n.value);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.abrupt("return",Promise.all(r));case 2:case"end":return n.stop()}}),n)})))()},validateVitals:function(e){var t=this.checkRequiredVitals(e);if(t.length>0)return t.map((function(e){return["".concat(e.label," can not be empty")]}));var n=this.sanitizeVitals(e);return this.vitals.validateAll(n)},sanitizeVitals:function(e){var t=e.filter((function(e){return("Height"!==e.label||0!=e.other.required)&&(""!==e.value&&"Age"!==e.label)}));return this.canCheckBp()&&(t=t.concat(this.splitBP(t))),this.canCheckWeightHeight()&&(t=t.concat(this.getBMI(e))),t},checkRequiredVitals:function(e){return e.filter((function(e){return""===e.value&&!0===e.other.required}))},getFields:function(){var e=this;return[{id:"on_htn_medication",helpText:"Already taking drugs for blood pressure?",type:o["b"].TT_SELECT,init:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("ART"!==(null===(n=e.app)||void 0===n?void 0:n.applicationName)){t.next=7;break}return t.next=3,O["a"].get("IS_ART_HTN_ENABLED");case 3:if(e.HTNEnabled=t.sent,!e.HTNEnabled){t.next=7;break}return t.next=7,s["a"].getAll(e.patientID,"Treatment status").then((function(t){e.hasHTNObs=t&&t.length>0}));case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(e){return u["a"].required(e)},condition:function(){return e.HTNEnabled&&!e.hasHTNObs},options:function(){return[{label:"Yes",value:"BP Drugs started"},{label:"No",value:"Not on BP Drugs"}]}},{id:"vitals",helpText:"Vitals entry",type:o["b"].TT_VITALS_ENTRY,init:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.query.vital_options,n&&(e.optionWhiteList=n.split(",")),!e.canCheckWeightHeight()){t.next=14;break}return t.next=5,e.patient.getRecentHeightObs();case 5:if(r=t.sent,Object(p["isEmpty"])(r)?e.canEditHeight=!0:(e.patientAgeAtPrevRecordedHeight=m()(r["obs_datetime"]).diff(e.patient.getBirthdate(),"year"),e.recentHeight=r["value_numeric"],e.recentHeightObsID=r["obs_id"],e.canEditHeight=e.patientAgeAtPrevRecordedHeight<18||e.age<18),!(e.age<=14)){t.next=14;break}return t.next=10,e.patient.getMedianWeightHeight();case 10:return e.medianWeightandHeight=t.sent,t.next=13,f["a"].getWeightForHeightValues();case 13:e.weightForHeight=t.sent;case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(t){return e.validateVitals(t)},beforeNext:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r,a,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Object(p["find"])(n,{label:"Height"}),!(r&&e.recentHeight&&r.other.visible)){t.next=19;break}if(a=parseInt("".concat(r.value||0)),i=parseInt("".concat(e.recentHeight||0)),!(a<i)){t.next=19;break}return o="Use ".concat(i," CM"),c="Use ".concat(a," CM"),t.next=9,Object(b["a"])('Previous Height "'.concat(i,' CM"'),'Current Height "'.concat(a,' CM"'),'Inconsistent Height Reading (Height can not be lower than previous height of " '.concat(e.recentHeight,' "CM. Please SELECT the correct height.)'),[{name:o,slot:"start",color:"success"},{name:c,slot:"end",color:"danger"}]);case 9:if(u=t.sent,u!==c||!e.recentHeightObsID){t.next=18;break}return t.next=13,Object(l["a"])("Do you want to void height observation for ".concat(i));case 13:if(!t.sent){t.next=16;break}return t.next=16,s["a"].voidObs(e.recentHeightObsID);case 16:t.next=19;break;case 18:e.finalHeightValue=i;case 19:return t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"],onUpdateAlertStatus:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r,a,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Object(p["find"])(n,{label:"Weight"}),a=Object(p["find"])(n,{label:"Height"}),r&&a){t.next=4;break}return t.abrupt("return");case 4:if(i=parseFloat(r.value),o=parseFloat(a.value),!(i<=0||o<=0)){t.next=8;break}return t.abrupt("return",{label:"BMI",value:"N/A",color:"",status:""});case 8:return t.next=10,d["a"].getBMI(i,o,e.gender,e.age);case 10:return c=t.sent,t.abrupt("return",{label:"BMI",value:c.index,color:c.color,status:c.result});case 12:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),onChangeOption:function(t){if(!t.value&&t.other.required)throw"Value for ".concat(t.label," is required");if(t.value){var n=e.vitals.validator(t);if(n&&n.length)throw n}}},options:function(){return e.getOptions()}}]}}}),E=n("d959"),y=n.n(E);const D=y()(x,[["render",a]]);t["default"]=D},b515:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),c=(n("ac1f"),n("466d"),n("99af"),n("d81d"),n("d3b7"),n("159b"),n("1276"),n("4de4"),n("b0c0"),n("cc6f")),u=n("2ef0"),s=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(e,a){return Object(r["a"])(this,n),t.call(this,e,6,a)}return Object(a["a"])(n,[{key:"isNotEmptyandNumber",value:function(e){return"".concat(e.value).match(/^-?\d+\.?\d*$/)?null:["Invalid entry for ".concat(e.label)]}},{key:"isNotEmptyandFloat",value:function(e){var t;return"".concat(e.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["Invalid entry for ".concat(e.label,". Don't forget to add a decimal. e.g. 56.2 ").concat((null===(t=e.other)||void 0===t?void 0:t.modifier)||"")]}},{key:"checkMinMax",value:function(e,t,n){var r,a,i=[];parseFloat("".concat(e.value))<t&&i.push(["".concat(e.label," entered is less than minimum ").concat(t," ").concat((null===e||void 0===e||null===(r=e.other)||void 0===r?void 0:r.modifier)||"")]);parseFloat("".concat(e.value))>n&&i.push(["".concat(e.label," entered is greater than maximum ").concat(n," ").concat((null===e||void 0===e||null===(a=e.other)||void 0===a?void 0:a.modifier)||"")]);return i.length>0?i:null}},{key:"validateAll",value:function(e){var t=this,n=[];return e.map((function(e){var r=t.validator(e);return Object(u["isArray"])(r)?n.push(r):null})),n.length>0?n:null}},{key:"mergeErrors",value:function(e){var t=[];return e.forEach((function(e){Object(u["isArray"])(e)&&t.push(e)})),t.length>0?t:null}},{key:"isValidBPReading",value:function(e){var t=[],n="".concat(e.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(t.push(n),null==n){var r="".concat(e.value).split("/"),a={label:"Systolic",value:r[0]},i={label:"Diastolic",value:r[1]};t.push(this.checkMinMax(i,30,200)),t.push(this.checkMinMax(a,40,250))}return this.mergeErrors(t)}},{key:"validator",value:function(e){var t=this,n=[{name:"Weight",validator:function(e){var n=t.isNotEmptyandFloat(e),r=t.checkMinMax(e,2,250);return t.mergeErrors([n,r])}},{name:"Height",validator:function(e){var n=[];return n.push(t.isNotEmptyandNumber(e)),n.push(t.checkMinMax(e,40,220)),t.mergeErrors(n)}},{name:"BP",validator:function(e){return t.isValidBPReading(e)}},{name:"Temp",validator:function(e){var n=t.isNotEmptyandNumber(e),r=t.checkMinMax(e,30,42);return t.mergeErrors([n,r])}},{name:"SP02",validator:function(e){var n=t.checkMinMax(e,40,100);return t.mergeErrors([n])}},{name:"Pulse",validator:function(e){var n=t.checkMinMax(e,50,120);return t.mergeErrors([n])}}],r=n.filter((function(t){return t.name===e.label}));return r.length>0?r[0].validator(e):null}}]),n}(c["a"])},b680:function(e,t,n){"use strict";var r=n("23e7"),a=n("a691"),i=n("408a"),o=n("1148"),c=n("d039"),u=1..toFixed,s=Math.floor,l=function(e,t,n){return 0===t?n:t%2===1?l(e,t-1,n*e):l(e*e,t/2,n)},h=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},d=u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){u.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,n,r,c,u=i(this),d=a(e),f=[0,0,0,0,0,0],p="",v="0",b=function(e,t){var n=-1,r=t;while(++n<6)r+=e*f[n],f[n]=r%1e7,r=s(r/1e7)},g=function(e){var t=6,n=0;while(--t>=0)n+=f[t],f[t]=s(n/e),n=n%e*1e7},m=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==f[e]){var n=String(f[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(t=h(u*l(2,69,1))-69,n=t<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,t=52-t,t>0){b(0,n),r=d;while(r>=7)b(1e7,0),r-=7;b(l(10,r,1),0),r=t-1;while(r>=23)g(1<<23),r-=23;g(1<<r),b(1,1),g(2),v=m()}else b(0,n),b(1<<-t,0),v=m()+o.call("0",d);return d>0?(c=v.length,v=p+(c<=d?"0."+o.call("0",d-c)+v:v.slice(0,c-d)+"."+v.slice(c-d))):v=p+v,v}})},c21d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("caad"),n("d3b7"),n("4e82"),n("d81d"),n("b64b"),n("99af"),n("b0c0"),n("a4d3"),n("e01a");function r(e,t){var n=[],r=[-1,"",null,void 0];for(var a in t)if(a in e){var i=e[a];r.includes(i)?n.push(!1):n.push(t[a](i,e))}return n.every(Boolean)}function a(e){return e.sort((function(e,t){return e.priority&&t.priority&&e.priority<t.priority?-1:1}))}function i(e){return e.sort((function(e,t){return e.weight&&t.weight&&e.weight>t.weight?-1:1}))}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"priority",u=[];for(var s in t){var l=t[s],h=[l.target&&n&&l.target!=n,l.targetEvent&&o&&l.targetEvent!=o];h.some(Boolean)||r(e,l.conditions)&&(l.title=s,l.description&&(l.description.text=l.description.info(e)),u.push(l))}return"priority"===c?a(u):i(u)}}}]);
//# sourceMappingURL=chunk-4a601f68.cebc456a.js.map