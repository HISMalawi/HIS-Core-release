(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8851"],{"8a2d":function(t,e,n){"use strict";n.r(e);var a=n("7a23");function o(t,e,n,o,i,r){var u=Object(a["resolveComponent"])("report-template"),c=Object(a["resolveComponent"])("ion-page");return Object(a["openBlock"])(),Object(a["createBlock"])(c,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(u,{title:t.title,period:t.period,rows:t.rows,fields:t.fields,columns:t.columns,showFilters:!0,onReportConfiguration:t.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var i=n("1da1"),r=n("2909"),u=(n("96cf"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("b0c0"),n("f01e")),c=n("44e3"),d=n("4ba2"),l=n("9ceb"),s=n("2706"),m=n("d95e"),f=n("8a30"),h=n("1c74"),p=n("b446"),T=n("9283"),_=n("2ef0"),x=Object(a["defineComponent"])({mixins:[c["a"]],components:{ReportTemplate:d["a"],IonPage:f["D"]},data:function(){return{title:"Data cleaning report",rows:[],columns:[],defaultIndicator:{}}},created:function(){var t=this;this.fields=[{id:"indicator",helpText:"Select indicator",type:m["b"].TT_SELECT,requireNext:!1,condition:function(){return!t.defaultIndicator},defaultOutput:function(){return t.defaultIndicator},validation:function(t){return s["a"].required(t)},options:function(){return t.getIndicatorOptions()}}].concat(Object(r["a"])(Object(p["b"])({id:"start_date",helpText:"Start",required:!0,minDate:function(){return"2000-01-01"},maxDate:function(){return h["e"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(t){return t}})),Object(r["a"])(Object(p["b"])({id:"end_date",helpText:"End",required:!0,minDate:function(t,e){return e.start_date},maxDate:function(){return h["e"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(t){return t}}))),this.defaultIndicator=Object(_["find"])(this.getIndicatorOptions(),{value:this.$route.query["cleaning_tool"]})||null},methods:{onPeriod:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=function(t){return T["b"].toStandardHisDisplayFormat(t)},n.rows=[],n.title=t.indicator.label,i=t.indicator,n.columns=i.other.columns,n.report=new u["b"],n.report.setStartDate(e.start_date),n.report.setEndDate(e.end_date),n.period="".concat(o(e.start_date)," - ").concat(o(e.end_date)),a.next=11,n.report.getDataToolReport(i.value);case 11:if(r=a.sent,!r){a.next=16;break}return a.next=15,Promise.all(r.map((function(t){return i.other.formatRow(t)})));case 15:n.rows=a.sent;case 16:case"end":return a.stop()}}),a)})))()},showPatientBtn:function(t){var e=this;return l["a"].tdBtn("View",(function(){return e.$router.push("/patient/dashboard/"+t)}))},getIndicatorOptions:function(){var t=this;return[{label:"Males with ANC Encounters",value:u["a"].MALES_WITH_ANC_ENCOUNTERS,other:{columns:[[l["a"].thTxt("National ID"),l["a"].thTxt("First name"),l["a"].thTxt("Last name"),l["a"].thTxt("Total Encounters"),l["a"].thTxt("Action")]],formatRow:function(e){return[l["a"].td(e.identifier),l["a"].td(e.given_name),l["a"].td(e.family_name),l["a"].td(e.total_encounters),t.showPatientBtn(e.patient_id)]}}},{label:"Encounters after death",value:u["a"].ENCOUNTERS_AFTER_DEATH,other:{columns:[[l["a"].thTxt("National ID"),l["a"].thTxt("First name"),l["a"].thTxt("Last name"),l["a"].thTxt("Date of death"),l["a"].thTxt("Recent encounter date"),l["a"].thTxt("Count"),l["a"].thTxt("Action")]],formatRow:function(e){return[l["a"].td(e.identifier),l["a"].td(e.given_name),l["a"].td(e.family_name),l["a"].tdDate(e.patient_died_date),l["a"].tdDate(e.minimum_encounter_datetime),l["a"].td(e.total_encounters),t.showPatientBtn(e.patient_id)]}}},{label:"Incomplete visits",value:u["a"].INCOMPLETE_VISITS,other:{columns:[[l["a"].thTxt("National ID"),l["a"].thTxt("Name"),l["a"].thTxt("Visit date"),l["a"].thTxt("Incomplete count"),l["a"].thTxt("Action")]],formatRow:function(e){return[l["a"].td(e.n_id),l["a"].td(e.name),l["a"].td(e.visit_date),l["a"].td(e.visit_no),t.showPatientBtn(e.patient_id)]}}},{label:"Duplicate encounters",value:u["a"].DUPLICATE_ENCOUNTERS,other:{columns:[[l["a"].thTxt("National ID"),l["a"].thTxt("Given name"),l["a"].thTxt("Family name"),l["a"].thTxt("Name"),l["a"].thTxt("Total"),l["a"].thTxt("Action")]],formatRow:function(e){return[l["a"].td(e.identifier),l["a"].td(e.given_name),l["a"].td(e.family_name),l["a"].td(e.name),l["a"].td(e.total),t.showPatientBtn(e.patient_id)]}}},{label:"Missing HIV Status",value:u["a"].MISSING_HIV_STATUS,other:{columns:[[l["a"].thTxt("National ID"),l["a"].thTxt("Given name"),l["a"].thTxt("Family name"),l["a"].thTxt("Action")]],formatRow:function(e){return[l["a"].td(e.identifier),l["a"].td(e.given_name),l["a"].td(e.family_name),t.showPatientBtn(e.patient_id)]}}}]}}}),w=n("6b0d"),b=n.n(w);const v=b()(x,[["render",o]]);e["default"]=v}}]);
//# sourceMappingURL=chunk-2d0e8851.29335343.js.map