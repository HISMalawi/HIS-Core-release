(function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},i={app:0},o={app:0},a=[];function c(e){return s.p+"js/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-02c995b5":"f22da46f","chunk-09155df3":"65a3a9e0","chunk-09162720":"dd4a99b3","chunk-097e0872":"80be81cd","chunk-0a163f3e":"a1cd33b6","chunk-0e93a01c":"a24e9eba","chunk-10f9d0ce":"ddd46b74","chunk-138b25ac":"cee34b2e","chunk-1dbc15a2":"d07b1d16","chunk-1f3fa45a":"8647ed79","chunk-21a76241":"f9bfcfd3","chunk-22c75100":"2bfecc84","chunk-25d83ca8":"8de50a70","chunk-2b3c4e77":"4325ed34","chunk-2d0a36f9":"b44c4e23","chunk-2d0a3ffc":"ae92ec73","chunk-2d0a4381":"d92f5466","chunk-2d0a463b":"a35f6bb5","chunk-2d0a4d35":"6c432e74","chunk-2d0aaf0b":"5b972601","chunk-2d0ab079":"5d2ffb2a","chunk-2d0b347d":"157d215c","chunk-2d0b5f74":"0cc32c65","chunk-2d0c073f":"33aba11a","chunk-2d0cc7e7":"fc08c286","chunk-2d0ccf55":"b0607599","chunk-2d0d43da":"61508a01","chunk-2d0d5c2c":"40a776ed","chunk-2d0d6f0e":"21f3d479","chunk-2d0da04a":"2b98c3c4","chunk-2d0dd6ae":"7433233e","chunk-2d0de711":"16a5c58c","chunk-2d0e2514":"b35d02cc","chunk-2d0e5812":"e25ef378","chunk-2d0e8890":"e2df7244","chunk-2d208702":"36ed287c","chunk-2d209573":"ae0fce95","chunk-2d213189":"83ee02f5","chunk-2d216214":"28e94c12","chunk-2d216257":"57660cd9","chunk-2d218068":"4801f311","chunk-2d21a0bf":"6b46b959","chunk-2d21da73":"a937b5ac","chunk-2d21e7b5":"fec8a2fd","chunk-2d226508":"9dafd70a","chunk-2d226ccc":"5b5a36f9","chunk-2d228961":"67514a3c","chunk-2d2297b9":"f25d3230","chunk-2d2304d2":"2178b8d3","chunk-2d237731":"d4d58fdb","chunk-2d238053":"b8252bf9","chunk-30dd9750":"eed322bc","chunk-34f7327c":"93e4d99e","chunk-37f2300e":"05ca7833","chunk-3ed29de3":"2302a376","chunk-3f2f976c":"021cd8dc","chunk-41c0f7a4":"24cea5a1","chunk-462c869e":"09e3070d","chunk-4a86bb9e":"ef2f1e1b","chunk-541ea42d":"a3ff772d","chunk-54bbd082":"004b4668","chunk-59d4c87c":"62842a53","chunk-5a8ac886":"8322a658","chunk-5ff96a24":"3d672353","chunk-66ea19b5":"bd4a8254","chunk-69eb8776":"a6c7a374","chunk-6c1c8555":"476e8847","chunk-6ca4a330":"6fdaaaa3","chunk-6d375f34":"e47caee3","chunk-706e4ef2":"44fe906d","chunk-7548ca2d":"37662d98","chunk-770d622c":"04f41d57","chunk-77362677":"32f7c136","chunk-79f1dac7":"f1e6f833","chunk-7bdfcb7a":"d98f9bfa","chunk-858cd918":"5cf0299a","chunk-8bb7f81e":"8032c880","chunk-a9395c36":"c659663f","chunk-b3cd6a20":"8fce6f7a","chunk-b74657c4":"732e02d8","chunk-c53d26f0":"3eb67849","chunk-c567cc2a":"8c3d447f","chunk-d0e8aa0a":"8e5d1297","chunk-d8413eac":"2f7450be","chunk-eaa2b130":"964b9c71","chunk-eed33bb6":"3e59b63c","chunk-f244bbfa":"7b0479b5","chunk-f858ef4e":"2871e90c","chunk-fd7880fc":"ca7fcd78","polyfills-core-js":"8da452c8","polyfills-dom":"5c1a31ff","chunk-7460fd43":"9d33569d","chunk-2d0b33e3":"64be60e2","chunk-2d0e19fd":"55dbdcb5","chunk-2d0e528a":"e905f27b","chunk-2d0f1533":"176694a1","chunk-2d230101":"dd246d7b","chunk-2d2376e6":"a351546d"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-0a163f3e":1,"chunk-10f9d0ce":1,"chunk-138b25ac":1,"chunk-22c75100":1,"chunk-2b3c4e77":1,"chunk-3f2f976c":1,"chunk-4a86bb9e":1,"chunk-66ea19b5":1,"chunk-6ca4a330":1,"chunk-7bdfcb7a":1,"chunk-b74657c4":1,"chunk-eed33bb6":1,"chunk-f244bbfa":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var r="css/"+({"polyfills-core-js":"polyfills-core-js","polyfills-dom":"polyfills-dom"}[e]||e)+"."+{"chunk-02c995b5":"31d6cfe0","chunk-09155df3":"31d6cfe0","chunk-09162720":"31d6cfe0","chunk-097e0872":"31d6cfe0","chunk-0a163f3e":"ae085e4f","chunk-0e93a01c":"31d6cfe0","chunk-10f9d0ce":"e51edfbc","chunk-138b25ac":"09c3dee7","chunk-1dbc15a2":"31d6cfe0","chunk-1f3fa45a":"31d6cfe0","chunk-21a76241":"31d6cfe0","chunk-22c75100":"e51edfbc","chunk-25d83ca8":"31d6cfe0","chunk-2b3c4e77":"e51edfbc","chunk-2d0a36f9":"31d6cfe0","chunk-2d0a3ffc":"31d6cfe0","chunk-2d0a4381":"31d6cfe0","chunk-2d0a463b":"31d6cfe0","chunk-2d0a4d35":"31d6cfe0","chunk-2d0aaf0b":"31d6cfe0","chunk-2d0ab079":"31d6cfe0","chunk-2d0b347d":"31d6cfe0","chunk-2d0b5f74":"31d6cfe0","chunk-2d0c073f":"31d6cfe0","chunk-2d0cc7e7":"31d6cfe0","chunk-2d0ccf55":"31d6cfe0","chunk-2d0d43da":"31d6cfe0","chunk-2d0d5c2c":"31d6cfe0","chunk-2d0d6f0e":"31d6cfe0","chunk-2d0da04a":"31d6cfe0","chunk-2d0dd6ae":"31d6cfe0","chunk-2d0de711":"31d6cfe0","chunk-2d0e2514":"31d6cfe0","chunk-2d0e5812":"31d6cfe0","chunk-2d0e8890":"31d6cfe0","chunk-2d208702":"31d6cfe0","chunk-2d209573":"31d6cfe0","chunk-2d213189":"31d6cfe0","chunk-2d216214":"31d6cfe0","chunk-2d216257":"31d6cfe0","chunk-2d218068":"31d6cfe0","chunk-2d21a0bf":"31d6cfe0","chunk-2d21da73":"31d6cfe0","chunk-2d21e7b5":"31d6cfe0","chunk-2d226508":"31d6cfe0","chunk-2d226ccc":"31d6cfe0","chunk-2d228961":"31d6cfe0","chunk-2d2297b9":"31d6cfe0","chunk-2d2304d2":"31d6cfe0","chunk-2d237731":"31d6cfe0","chunk-2d238053":"31d6cfe0","chunk-30dd9750":"31d6cfe0","chunk-34f7327c":"31d6cfe0","chunk-37f2300e":"31d6cfe0","chunk-3ed29de3":"31d6cfe0","chunk-3f2f976c":"e51edfbc","chunk-41c0f7a4":"31d6cfe0","chunk-462c869e":"31d6cfe0","chunk-4a86bb9e":"92578226","chunk-541ea42d":"31d6cfe0","chunk-54bbd082":"31d6cfe0","chunk-59d4c87c":"31d6cfe0","chunk-5a8ac886":"31d6cfe0","chunk-5ff96a24":"31d6cfe0","chunk-66ea19b5":"e51edfbc","chunk-69eb8776":"31d6cfe0","chunk-6c1c8555":"31d6cfe0","chunk-6ca4a330":"e51edfbc","chunk-6d375f34":"31d6cfe0","chunk-706e4ef2":"31d6cfe0","chunk-7548ca2d":"31d6cfe0","chunk-770d622c":"31d6cfe0","chunk-77362677":"31d6cfe0","chunk-79f1dac7":"31d6cfe0","chunk-7bdfcb7a":"86140ff9","chunk-858cd918":"31d6cfe0","chunk-8bb7f81e":"31d6cfe0","chunk-a9395c36":"31d6cfe0","chunk-b3cd6a20":"31d6cfe0","chunk-b74657c4":"e51edfbc","chunk-c53d26f0":"31d6cfe0","chunk-c567cc2a":"31d6cfe0","chunk-d0e8aa0a":"31d6cfe0","chunk-d8413eac":"31d6cfe0","chunk-eaa2b130":"31d6cfe0","chunk-eed33bb6":"e51edfbc","chunk-f244bbfa":"e51edfbc","chunk-f858ef4e":"31d6cfe0","chunk-fd7880fc":"31d6cfe0","polyfills-core-js":"31d6cfe0","polyfills-dom":"31d6cfe0","chunk-7460fd43":"31d6cfe0","chunk-2d0b33e3":"31d6cfe0","chunk-2d0e19fd":"31d6cfe0","chunk-2d0e528a":"31d6cfe0","chunk-2d0f1533":"31d6cfe0","chunk-2d230101":"31d6cfe0","chunk-2d2376e6":"31d6cfe0"}[e]+".css",o=s.p+r,a=document.getElementsByTagName("link"),c=0;c<a.length;c++){var u=a[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete i[e],p.parentNode.removeChild(p),n(a)},p.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(p)})).then((function(){i[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=a);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",d.name="ChunkLoadError",d.type=r,d.request=i,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0011":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ac1f"),n("466d");function r(e){try{return e.match(/(^\s*$|None)/i)}catch(t){return!0}}},"0060":function(e,t,n){"use strict";n("d1cf")},"03c5":function(e,t,n){"use strict";n("c46e")},"04a0":function(e,t,n){},"0549":function(e,t,n){},"06b8":function(e,t,n){"use strict";n("0850")},"0734":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-9daf63b8"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-item"),l=Object(r["resolveComponent"])("ion-list"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),h=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])(h,null,{default:i((function(){return[Object(r["createVNode"])(l,{class:"view-port-content"},{default:i((function(){return[Object(r["createVNode"])(b,null,{default:i((function(){return[Object(r["createVNode"])(p,null,{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{size:"4",key:n},{default:i((function(){return[Object(r["createVNode"])("div",{class:["his-card clickable",{"active-card-color":e.selected===t.label}],onClick:function(n){return e.onselect(t)}},[Object(r["createVNode"])(l,null,{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.other.list,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:t},{default:i((function(){return[Object(r["createVNode"])(s,null,{default:i((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])("span",{style:e.style||{}},Object(r["toDisplayString"])(e.value),5)]})),_:2},1024)})),128))]})),_:2},1024)],10,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),a=n("9ab4"),c=n("82a9"),s=n("2ef0"),u=Object(r["defineComponent"])({name:"HisSelect",mixins:[c["a"]],watch:{clear:function(){this.clearSelection()}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[4,this.setDefaultValue()];case 2:return t.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e,t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return this.defaultValue?[4,this.defaultValue(this.fdata,this.cdata,this.selected)]:[3,2];case 1:e=n.sent(),e&&(t=Object(s["find"])(this.listData,{label:e})||Object(s["find"])(this.listData,{value:e}),t&&this.onselect(t)),n.label=2;case 2:return[2]}}))}))},onselect:function(e){return Object(a["b"])(this,void 0,void 0,(function(){var t,n;return Object(a["d"])(this,(function(r){switch(r.label){case 0:return this.selected=e.label,this.onValue?[4,this.onValue(e,this)]:[3,2];case 1:if(t=r.sent(),!t)return this.selected="",[2];r.label=2;case 2:return this.onValueUpdate?(n=this,[4,this.onValueUpdate(e,this.listData)]):[3,4];case 3:n.listData=r.sent(),r.label=4;case 4:return this.$emit("onValue",e),[2]}}))}))}}}),l=(n("e2ee"),n("d959")),d=n.n(l);const p=d()(u,[["render",o],["__scopeId","data-v-9daf63b8"]]);t["a"]=p},"07f0":function(e,t,n){},"0850":function(e,t,n){},"0a79":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-7c293cad"),o=i((function(e,t,n,i,o,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{id:"view-port",class:e.showFull?"":"half"},[Object(r["renderSlot"])(e.$slots,"default")],2)})),a=Object(r["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:function(){return!0}}}}),c=(n("a4d3f"),n("d959")),s=n.n(c);const u=s()(a,[["render",o],["__scopeId","data-v-7c293cad"]]);t["a"]=u},"0b24":function(e,t,n){"use strict";n("b489")},"0ba8":function(e,t,n){"use strict";var r=n("c0e2");t["a"]=new r["TinyEmitter"]},"0d09":function(e,t,n){},"0dfb":function(e,t,n){},"0f25":function(e,t,n){"use strict";n("b0c0");var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{color:e.color},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.footerBtns,(function(e,t){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:t,slot:e.slot,onClick:function(t){return e.onClick(e)},color:e.color,class:e.styleClass,size:e.size},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:2},1032,["slot","onClick","color","class","size"])),[[r["vShow"],e.visible]])})),128))]})),_:1},8,["color"])]})),_:1})}n("d81d");var o=n("9ab4"),a=n("8a30"),c=Object(r["defineComponent"])({name:"HisNavFooter",data:function(){return{footerBtns:[]}},created:function(){this.$emit("onFooterInstance",this)},props:{color:{type:String,default:"dark"},state:{type:Object},btns:{type:Object,required:!0}},components:{IonButton:a["d"],IonFooter:a["o"],IonToolbar:a["N"]},watch:{state:{handler:function(e){e&&(this.footerBtns=this.footerBtns.map((function(t){return t.visibleOnStateChange&&(t.visible=t.visibleOnStateChange(e)),t})))},deep:!0,immediate:!0},btns:{handler:function(e){e&&(this.footerBtns=Object(o["f"])(e))},deep:!0,immediate:!0}}}),s=n("d959"),u=n.n(s);const l=u()(c,[["render",i]]);t["a"]=l},"0f7b":function(e,t,n){"use strict";n("3b42")},"0fa1":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));n("4160"),n("a434"),n("b0c0"),n("159b");var r,i=n("9ab4"),o=n("50e7"),a=n("2ef0");function c(e,t){sessionStorage.getItem(r.NextTask)||sessionStorage.setItem(r.NextTask,JSON.stringify({patientID:e,tasks:[]}));var n=JSON.parse(sessionStorage.getItem(r.NextTask));e===n.patientID?n.tasks.push(t):(n.patientID=e,n.tasks=[t]),sessionStorage.setItem(r.NextTask,JSON.stringify(n))}function s(e,t,n){var i=sessionStorage.getItem(r.NextTask);if(!i)return-1;var o=JSON.parse(i);if(e!=o.patientID)return-1;var a="",c=-1;return o.tasks.forEach((function(e,t){e.from===n.name&&(a=e.to,c=t)})),a?(o.tasks.splice(c,1),sessionStorage.setItem(r.NextTask,JSON.stringify(o)),t.push(a),1):-1}function u(e,t,n){return void 0===n&&(n={}),Object(i["b"])(this,void 0,void 0,(function(){var r,c,u;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),Object(a["isEmpty"])(n)||(r=s(e,t,n),-1==r)?[4,o["a"].nextTask(e)]:[2];case 1:return c=i.sent().name,c?(t.push({name:c.toLowerCase(),params:{patient_id:e}}),[2]):[3,3];case 2:return u=i.sent(),console.log(u),[3,3];case 3:return t.push("/patient/dashboard/"+e),[2]}}))}))}(function(e){e["NextTask"]="next-task"})(r||(r={}))},"0ff4":function(e,t,n){"use strict";n("2c9e")},"10be":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-0816833e");Object(r["pushScopeId"])("data-v-0816833e");var o={class:"keypad"};Object(r["popScopeId"])();var a=i((function(e,t,n,a,c,s){var u=Object(r["resolveComponent"])("ion-input"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("center"),p=Object(r["resolveComponent"])("base-keyboard"),b=Object(r["resolveComponent"])("ion-content");return Object(r["openBlock"])(),Object(r["createBlock"])(b,null,{default:i((function(){return[Object(r["createVNode"])("div",o,[Object(r["createVNode"])(u,{value:e.value,disabled:!0,class:"keypad-input"},null,8,["value"]),Object(r["createVNode"])(d,null,{default:i((function(){return[Object(r["createVNode"])(l,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title||"keypad"),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{btnSize:"96px",layout:e.keypad,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])]})),_:1})})),c=(n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("466d"),n("9ab4")),s=n("c924"),u=n("3800"),l=n("2345"),d=n("fe70"),p=Object(r["defineComponent"])({components:{BaseKeyboard:s["a"]},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0},strictNumbers:{type:Boolean,default:!1}},data:function(){return{value:"0",keypad:u["d"]}},watch:{preset:{handler:function(e){e&&(this.value=e.toString())},immediate:!0}},methods:{keypress:function(e){return Object(c["b"])(this,void 0,void 0,(function(){return Object(c["d"])(this,(function(t){switch(t.label){case 0:return e.match(/done/i)?[4,d["g"].dismiss(this.value)]:[3,2];case 1:return t.sent(),[3,3];case 2:if(this.strictNumbers){if(e.includes(".")&&this.value.includes("."))return[2];e.includes(".")||"0"!==this.value||(this.value=""),this.value=Object(l["a"])(e,this.value),this.value||(this.value="0"),this.onKeyPress(parseInt(this.value))}else this.value=Object(l["a"])(e,this.value),this.onKeyPress(this.value);t.label=3;case 3:return[2]}}))}))}}}),b=(n("30bd"),n("d959")),h=n.n(b);const f=h()(p,[["render",a],["__scopeId","data-v-0816833e"]]);t["a"]=f},"133d":function(e,t,n){"use strict";n("ff2d")},1449:function(e,t,n){},1497:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("5969"),o=function(e){function t(){var t=e.call(this)||this;return t.programID=23,t}return Object(r["c"])(t,e),t.prototype.getSamplesDrawnReport=function(){return this.getReport("samples_drawn")},t.prototype.getLabResultsReport=function(){return this.getReport("lab_test_results")},t}(i["a"])},"14f6":function(e,t,n){"use strict";n("3d7f")},"156d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("4160"),n("caad"),n("d3b7"),n("2532"),n("159b");var r,i=n("9ab4"),o=n("0ba8");(function(e){e["BEFORE_API_REQUEST"]="before_api_request",e["AFTER_API_REQUEST"]="after_api_request",e["ON_API_CRASH"]="un_reachable_api"})(r||(r={}));var a=function(){function e(){return Object(i["b"])(this,void 0,Promise,(function(){var e,t,n,r,o,a;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return[4,fetch("/config.json")];case 1:if(e=i.sent(),!e.ok)throw"Unable to retrieve configuration file/ Invalid config.json";i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.json()];case 3:return t=i.sent(),n=t.apiURL,r=t.apiPort,o=t.apiProtocol,sessionStorage.setItem("apiURL",n),sessionStorage.setItem("apiPort",r),sessionStorage.setItem("apiProtocol",o),[2,{host:n,port:r,protocol:o}];case 4:throw a=i.sent(),console.error(a),'API Configuration file "/config.json" has errors. Please check console log for more details';case 5:return[2]}}))}))}function t(){var e=localStorage.apiURL,t=localStorage.apiPort,n=localStorage.apiProtocol;if(e&&t&&n)return{host:e,port:t,protocol:n}}function n(){var e=sessionStorage.apiURL,t=sessionStorage.apiPort,n=sessionStorage.apiProtocol;if(e&&t&&n)return{host:e,port:t,protocol:n}}function a(){var r=t(),i=n();return localStorage.useLocalStorage&&r?r:i||e()}function c(e){return Object(i["b"])(this,void 0,void 0,(function(){var t;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return[4,a()];case 1:return t=n.sent(),[2,t.protocol+"://"+t.host+":"+t.port+"/api/v1/"+e]}}))}))}function s(){return{Authorization:sessionStorage.apiKey,"Content-Type":"application/json"}}function u(e,t,n){localStorage.setItem("useLocalStorage","true"),localStorage.setItem("apiURL",t),localStorage.setItem("apiPort",n),localStorage.setItem("apiProtocol",e)}function l(e){e.forEach((function(t){e.includes(t)&&localStorage.removeItem(t)}))}function d(e,t){return Object(i["b"])(this,void 0,void 0,(function(){var n,a,u;return Object(i["d"])(this,(function(l){switch(l.label){case 0:return t=Object(i["a"])(Object(i["a"])({},t),{mode:"cors"}),"headers"in t||(t=Object(i["a"])(Object(i["a"])({},t),{headers:s()})),[4,c(e)];case 1:n=l.sent(),l.label=2;case 2:return l.trys.push([2,4,,5]),o["a"].emit(r.BEFORE_API_REQUEST,e),[4,fetch(n,t)];case 3:return a=l.sent(),o["a"].emit(r.AFTER_API_REQUEST,a),[2,a];case 4:return u=l.sent(),console.error(u),o["a"].emit(r.ON_API_CRASH,u),[3,5];case 5:return[2]}}))}))}var p=function(e){return d(e,{method:"GET"})},b=function(e,t){return d(e,{method:"POST",body:JSON.stringify(t)})},h=function(e,t){return d(e,{method:"DELETE",body:JSON.stringify(t)})},f=function(e,t){return d(e,{method:"PUT",body:JSON.stringify(t)})},m=function(){return p("_health")};return{get:p,post:b,put:f,remove:h,getConfig:a,setLocalStorage:u,removeOnly:l,expandPath:c,healthCheck:m}}();t["b"]=a},"16b7":function(e,t,n){},1718:function(e,t,n){"use strict";function r(e){return"/assets/images/"+e}n.d(t,"a",(function(){return r}))},"1a75":function(e,t,n){},"1c74":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return b}));n("caad");var r=n("9ab4"),i=n("156d"),o=n("bef6"),a=n("3e53"),c=n("5d6c"),s=function(e){function t(t,n){var r=e.call(this,"ENTITY Error: "+t)||this;return r.entity=n,r}return Object(r["c"])(t,e),t}(Error),u=function(e){function t(t){return e.call(this,"RECORD NOT FOUND: "+t)||this}return Object(r["c"])(t,e),t}(Error),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errors=n,r}return Object(r["c"])(t,e),t}(Error),d=function(e){function t(t){return e.call(this,"API SERVICE_ERROR: "+t)||this}return Object(r["c"])(t,e),t}(Error),p=function(e){function t(t){return e.call(this,"API ERROR: "+t)||this}return Object(r["c"])(t,e),t}(Error),b=function(){function e(){}return e.ajxGet=function(e,t){return void 0===t&&(t={}),i["b"].get(e+"?"+o["a"].parameterizeObjToString(t))},e.getText=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,i["b"].get(e)];case 1:return t=n.sent(),t&&t.ok?[2,null===t||void 0===t?void 0:t.text()]:[2]}}))}))},e.getJsonSWR=function(e,t){var n=this;void 0===t&&(t={});var r=e+"?"+o["a"].parameterizeObjToString(t),i=Object(c["a"])(r,(function(e){return n.getJson(e)})),a=i.data;i.error;return a},e.getJson=function(e,t){return void 0===t&&(t={}),Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){return n=e+"?"+o["a"].parameterizeObjToString(t),[2,this.jsonResponseHandler(i["b"].get(n))]}))}))},e.postJson=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,this.jsonResponseHandler(i["b"].post(e,t))]}))}))},e.putJson=function(e,t){return this.jsonResponseHandler(i["b"].put(e,t))},e.void=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,this.jsonResponseHandler(i["b"].remove(e,t))]}))}))},e.jsonResponseHandler=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return t=r.sent(),t?[200,201].includes(t.status)?[2,null===t||void 0===t?void 0:t.json()]:400!==t.status?[3,3]:[4,null===t||void 0===t?void 0:t.json()]:[3,10];case 2:throw o=r.sent().errors,new l(t.statusText,o);case 3:return 404!==t.status?[3,5]:[4,null===t||void 0===t?void 0:t.json()];case 4:throw o=r.sent().errors,new u(o);case 5:return 422!==t.status?[3,7]:[4,null===t||void 0===t?void 0:t.json()];case 6:throw n=r.sent(),o=n.errors,i=n.entity,new s(o,i);case 7:return 502!==t.status?[3,9]:[4,null===t||void 0===t?void 0:t.json()];case 8:throw o=r.sent().errors,new d(o||"Getway Error");case 9:if(500===t.status)throw new p("An internal server errror has occured");r.label=10;case 10:return[2]}}))}))},e.getApiDate=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getJson("current_time")];case 1:return e=t.sent(),e?[2,e.date]:[2]}}))}))},e.getApiVersion=function(){return sessionStorage.getItem("APIVersion")||"-"},e.getActiveApp=function(){return a["a"].getActiveApp()||{}},e.getUserID=function(){var e=sessionStorage.getItem("userID");return e?parseInt(e):null},e.getUserLocation=function(){return sessionStorage.getItem("userLocation")},e.getLocationName=function(){return sessionStorage.getItem("locationName")},e.getSessionDate=function(){return sessionStorage.getItem("sessionDate")||""},e.getCachedApiDate=function(){return sessionStorage.getItem("apiDate")},e.setSessionDate=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.getApiDate()];case 1:if(t=n.sent(),t)return sessionStorage.setItem("apiDate",t),sessionStorage.setItem("sessionDate",e),[2];throw"Unable to set api date"}}))}))},e.resetSessionDate=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getApiDate()];case 1:if(e=t.sent(),e)return sessionStorage.removeItem("apiDate"),sessionStorage.setItem("sessionDate",e),[2];throw"Unable to reset session date"}}))}))},e.isBDE=function(){var e=sessionStorage.getItem("apiDate"),t=sessionStorage.getItem("sessionDate");return e&&e!=t},e.getSiteUUID=function(){return sessionStorage.siteUUID||""},e.getProgramID=function(){var e=this.getActiveApp();return"programID"in e?e.programID:0},e.getUserRoles=function(){var e=sessionStorage.getItem("userRoles");return e?JSON.parse(e):[]},e.getUserName=function(){return sessionStorage.username},e.getCoreVersion=function(){return sessionStorage.appVersion||"-"},e.getAppVersion=function(){return sessionStorage.appVersion||"-"},e.getFullVersion=function(){return this.getCoreVersion()+" / "+this.getApiVersion()},e}()},"1cd4":function(e,t,n){},"1e67":function(e,t,n){"use strict";n("4e36")},"1eb2":function(e,t,n){},"1f21":function(e,t,n){"use strict";n("dea4")},"1f4e":function(e,t,n){},"1fff":function(e,t,n){},"205c":function(e,t,n){"use strict";n("ae74")},2236:function(e,t,n){},"22dc":function(e,t,n){},"22ea":function(e,t,n){},2345:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("fb6a"),n("ac1f"),n("466d");function r(e,t,n){void 0===n&&(n=!1);var r=t;return e.match(/enter/i)?r+"\r\n":e.match(/clear/i)?"":(r=e.match(/delete|del/i)?r.match(/unknown/i)||r.match(/n\/a/i)?"":r.substring(0,r.length-1):e.match(/space/i)?t+" ":e.match(/unknown/i)?"Unknown":e.match(/n\/a/i)?"N/A":r.match(/unknown/i)||r.match(/n\/a/i)?e:""+t+e,"string"===typeof r&&r&&!n&&(r=r.charAt(0).toUpperCase()+r.slice(1)),r)}},"23e6":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("a623"),n("4de4"),n("caad"),n("a15b"),n("d81d"),n("13d5"),n("b0c0"),n("07ac"),n("ac1f"),n("466d"),n("841c");var r=n("9ab4"),i=n("8e47"),o=function(e,t){var n=e.filter((function(e){return e.person_attribute_type_id==t}));return n.length>0?n[0].value:""},a=function(e,t){var n=e.filter((function(e){return e.type.patient_identifier_type_id===t}));return n.length>0?n[0].identifier:""},c=n("7957"),s=n("8158"),u=n("1c74"),l=n("9283"),d=n("aee2"),p=n("2ef0"),b=n("0011"),h=function(e){function t(t){var n=e.call(this)||this;return n.patient=t,n}return Object(r["c"])(t,e),t.mergePatients=function(t){return t["program_id"]=e.getProgramID.call(this),e.postJson.call(this,"dde/patients/merge",t)},t.voidPatient=function(t,n){return void 0===n&&(n=""),e.void.call(this,"patients/"+t,{reason:n})},t.search=function(t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,e.getJson.call(this,"/search/patients",t)]}))}))},t.findByNpid=function(t){return e.getJson.call(this,"search/patients/by_npid",{npid:t})},t.findByOtherID=function(t,n){return e.getJson.call(this,"search/patients/by_identifier",{type_id:t,identifier:n})},t.findByID=function(t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,e.getJson.call(this,"/patients/"+t)]}))}))},t.assignNHID=function(t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,e.postJson.call(this,"/patients/"+t+"/npid",{})]}))}))},t.toPatient=function(e){return JSON.parse(e)},t.patientToJson=function(e){return JSON.stringify(e)},t.getPatientVisits=function(t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e.getJson.call(this,"patients/"+t+"/visits",{program_id:e.getProgramID.call(this),include_defaulter_dates:1==n})];case 1:return i=r.sent(),i?[2,i.sort((function(e,t){return new Date(e)<new Date(t)?1:0}))]:[2,[]]}}))}))},t.prototype.getWeightLossPercentageFromTrail=function(e){var t=e.map((function(e){return e.weight})),n=t[0],r=t[1];if(!n||!r)return!1;var i=parseFloat(r)-parseFloat(n),o=i/r*100;return Math.round(o)},t.prototype.getGuardian=function(){return t.getJson("people/"+this.getID()+"/relationships")},t.prototype.assignNpid=function(){return t.assignNHID(this.getID())},t.prototype.isMale=function(){return["Male","M"].includes(this.getGender())},t.prototype.isFemale=function(){return["Female","F"].includes(this.getGender())},t.prototype.isPregnant=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].getFirstObs(this.getID(),"Is patient pregnant")];case 1:return e=t.sent(),[2,e&&!!e.value_coded.match(/Yes/i)&&c["a"].obsInValidPeriod(e)]}}))}))},t.prototype.hasPregnancyObsToday=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].getFirstObsDatetime(this.getID(),"Is patient pregnant")];case 1:return e=t.sent(),[2,e&&l["a"].toStandardHisFormat(e)===u["d"].getSessionDate()&&this.isFemale()]}}))}))},t.prototype.isChildBearing=function(){var e=this.getAge();return this.isFemale()&&e>=12&&e<=50},t.prototype.getInitialObs=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c["a"].getAll(this.getID(),e)];case 1:return t=r.sent(),n=t.length-1,[2,t[n].value_numeric];case 2:return i=r.sent(),console.error(i),[3,3];case 3:return[2]}}))}))},t.prototype.getInitialWeight=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,this.getInitialObs("weight")]}))}))},t.prototype.getRecentWeight=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,s["a"].getConceptID("weight",!0)];case 1:return e=n.sent(),[4,c["a"].getObs({person_id:this.getID(),concept_id:e,page_size:1})];case 2:return t=n.sent(),[2,t.length>=1?t[0].value_numeric:-1]}}))}))},t.prototype.getInitialHeight=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,this.getInitialObs("Height")]}))}))},t.prototype.getRecentHeight=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,s["a"].getConceptID("Height",!0)];case 1:return e=n.sent(),[4,c["a"].getObs({person_id:this.getID(),concept_id:e,page_size:1})];case 2:return t=n.sent(),[2,t.length>=1?t[0].value_numeric:-1]}}))}))},t.prototype.getWeightHistory=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].getAll(this.getID(),"weight")];case 1:return e=t.sent(),[2,e.map((function(e){return{weight:e.value_numeric,date:e.obs_datetime}}))]}}))}))},t.prototype.getCompleteTBTherapyHistory=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,c["a"].getAll(this.getID(),"TB treatment history")];case 1:return e=t.sent(),[2,e.filter((function(e){return e.value_text.match(/Complete/i)}))]}}))}))},t.prototype.getInitialBMI=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,this.getInitialObs("BMI")]}))}))},t.prototype.getBMI=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getRecentWeight()];case 1:return e=r.sent(),[4,this.getRecentHeight()];case 2:return t=r.sent(),e&&t?(n=this.isMale()?"M":"F",[4,d["a"].getBMI(e,t,n,this.getAge())]):[2,0];case 3:return i=r.sent(),[2,i]}}))}))},t.prototype.calculateWeightPercentile=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.getRecentWeight()];case 1:return e=n.sent(),[4,this.getMedianWeightHeight()];case 2:t=n.sent();try{return[2,parseFloat(e)/parseFloat(t["weight"])*100]}catch(r){return[2,0]}return[2]}}))}))},t.prototype.getMedianWeightHeight=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,u["d"].getJson("patients/"+this.getID()+"/median_weight_height")]}))}))},t.prototype.getObj=function(){return this.patient},t.prototype.getID=function(){return this.patient.patient_id},t.prototype.getPatientInfoString=function(){var e=[this.getFullName(),"("+this.getGender()+")",this.getBirthdate(),", "+this.getCurrentDistrict()];return e.join(" ")},t.prototype.getCurrentDistrict=function(){return this.getAddresses().currentDistrict},t.prototype.getGender=function(){return this.patient.person.gender},t.prototype.getAge=function(){return l["a"].getAgeInYears(this.patient.person.birthdate)},t.prototype.getAgeInMonths=function(){return 12*this.getAge()},t.prototype.getBirthdate=function(){return this.patient.person.birthdate},t.prototype.getGivenName=function(){return this.patient.person.names[0].given_name},t.prototype.getFamilyName=function(){return this.patient.person.names[0].family_name},t.prototype.getFullName=function(){return Object(i["a"])(this.patient.person.names[0])},t.prototype.getDocID=function(){var e=this.findIdentifierByType("DDE person document ID");return e.match(/unknown/i)?null:e},t.prototype.getNationalID=function(){return this.findIdentifierByType("National id")},t.prototype.getArvNumber=function(){return this.findIdentifierByType("ARV Number")},t.prototype.hasActiveFilingNumber=function(){return this.hasIdentifierType("Filing number")},t.prototype.hasDormantFilingNumber=function(){return this.hasIdentifierType("Archived filing number")},t.prototype.hasIdentifierType=function(e){var t=Object(p["find"])(this.patient.patient_identifiers,{type:{name:e}});return!!t},t.prototype.getFilingNumber=function(){var e=this.patient.patient_identifiers.filter((function(e){return"Filing number"===e.type.name||"Archived filing number"===e.type.name}));return Object(p["isEmpty"])(e)?"":e[0].identifier},t.prototype.findIdentifierByType=function(e){return this.patient.patient_identifiers.filter((function(t){return t.type.name===e})).sort((function(e,t){return e["date_created"]<t["date_created"]?1:0})).reduce((function(e,t){return"Unknown"===e?t.identifier:e}),"Unknown")},t.prototype.getIdentifiers=function(){return this.patient.patient_identifiers},t.prototype.getHomeDistrict=function(){return this.getAddresses().ancestryDistrict},t.prototype.getHomeTA=function(){return this.getAddresses().ancestryTA},t.prototype.getHomeVillage=function(){return this.getAddresses().ancestryVillage},t.prototype.getCurrentVillage=function(){return this.getAddresses().currentVillage},t.prototype.getCurrentTA=function(){return this.getAddresses().currentTA},t.prototype.getPhoneNumber=function(){return this.getAttribute(12)},t.prototype.getAttribute=function(e){return o(this.patient.person.person_attributes,e)},t.prototype.getPatientIdentifier=function(e){return a(this.patient.patient_identifiers,e)},t.prototype.patientIsComplete=function(){var e=Object(r["f"])([this.getNationalID(),this.getGender(),this.getBirthdate(),this.getGivenName(),this.getFamilyName()],Object.values(this.getAddresses()));return e.map((function(e){return!Object(b["a"])(e)})).every(Boolean)},t.prototype.getAddresses=function(){var e={ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",currentDistrict:"",currentTA:"",currentVillage:""};if(this.patient.person.addresses.length>0){var t=this.patient.person.addresses[0];e.ancestryDistrict=t.address2,e.ancestryTA=t.county_district,e.ancestryVillage=t.neighborhood_cell,e.currentDistrict=t.state_province,e.currentTA=t.township_division,e.currentVillage=t.city_village}return e},t}(u["d"])},2668:function(e,t,n){"use strict";n("30dc")},"26b9":function(e,t,n){"use strict";n("97b0")},2706:function(e,t,n){"use strict";n("4de4"),n("ac1f"),n("466d");var r=n("2ef0");function i(e){try{for(var t in e){var n=e[t]();if(n)return n}}catch(r){return[r]}}function o(e){return Object(r["isEmpty"])(e)?["Value is required"]:null}function a(e){var t=/^(\+?265|0)(((88|9[89])\d{7})|(1\d{6})|(2\d{8})|(31\d{8}))$/;return e&&e.value.match(t)?null:["Not a valid phone number"]}function c(e){var t=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;return e&&e.value.match(t)?null:["Not a valid IP address"]}function s(e){var t=/^(?=.{2,100}$)[a-z!A-Z]+(?:['_.\-!\][a-z]+[a-z!A-Z])*$/;return e&&e.label.match(t)?null:["Invalid name Input"]}function u(e){return isNaN(parseInt(e.value))?["Value must be a number"]:null}function l(e,t,n){var r=e?e.label.length:0;return r>=t&&r<=n?null:["Value length not within range of "+t+" - "+n]}function d(e,t,n){var r=parseInt(e.label);return r>=t&&r<=n?null:[r+" not within range of "+t+" - "+n]}function p(e){var t=e.filter((function(e){var t=e.value||e.other.value;return"No"===t}));return t.length==e.length?["All values can not be no"]:null}function b(e){var t=["all must be selected"];if(!e)return t;var n=e.filter((function(e){return""===e.value}));return n.length>0?t:null}function h(e,t){return e.value===t?["Values can not be the same"]:null}t["a"]={validateSeries:i,required:o,isMWPhoneNumber:a,isName:s,isNumber:u,hasLengthRangeOf:l,rangeOf:d,neitherOr:p,anyEmpty:b,notTheSame:h,isIPAddress:c}},"270c":function(e,t,n){"use strict";n("8cbc")},2879:function(e,t,n){},"28c8":function(e,t,n){},"2a82":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-6cb84542"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-input"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-grid"),p=Object(r["resolveComponent"])("view-port"),b=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(p,{showFull:!1},{default:i((function(){return[Object(r["createVNode"])(d,null,{default:i((function(){return[Object(r["createVNode"])(l,null,{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.addressInputs,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:n},{default:i((function(){return[Object(r["createVNode"])(s,{mode:"md",inputmode:"numeric",type:"number",max:255,class:[{"highlighted-input":n===e.activeIndex},"input_display"],modelValue:e.addressInputs[n],"onUpdate:modelValue":function(t){return e.addressInputs[n]=t},onIonFocus:function(t){return e.onAddressClick(n)},style:{textAlign:"center"},placeholder:"0"},null,8,["class","modelValue","onUpdate:modelValue","onIonFocus"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,onKeyPress:e.keypress,kbConfig:e.numbers},null,8,["onKeyPress","kbConfig"])):Object(r["createCommentVNode"])("",!0)],64)})),a=(n("a623"),n("a15b"),n("d81d"),n("07ac"),n("db10")),c=n("3800"),s=n("0a79"),u=n("51c8"),l=n("2345"),d=n("8a30"),p=n("2ef0"),b=Object(r["defineComponent"])({components:{IonInput:d["t"],IonRow:d["F"],IonCol:d["m"],IonGrid:d["p"],HisKeyboard:a["a"],ViewPort:s["a"]},mixins:[u["a"]],watch:{clear:function(){this.addressInputs={first:"",second:"",third:"",fourth:""}}},setup:function(e,t){var n=this,i=t.emit;Object(r["onActivated"])((function(){return i("onFieldActivated",n)}));var o=Object(r["ref"])(!1),a=Object(r["ref"])(""),s=Object(r["ref"])({first:"",second:"",third:"",fourth:""});function u(e){if(a.value){var t=a.value,n=Object(l["a"])(e,s.value[t]);if(n.length>3)switch(a.value){case"first":a.value="second";break;case"second":a.value="third";break;case"third":a.value="fourth";break;case"fourth":a.value=""}else s.value[t]="0"===n.charAt(0)&&n.length>1?n.substring(1):n}}function d(e){a.value=e,o.value=!0}return Object(r["watch"])(s,(function(e){if(e){var t=Object.values(e).map((function(e){return!Object(p["isEmpty"])(e)}));if(t.every(Boolean)){var n=Object.values(e).map((function(e){return e})).join(".");i("onValue",{label:n,value:n})}else i("onValue",null)}}),{deep:!0,immediate:!0}),{keypress:u,activeIndex:a,onAddressClick:d,showKeyboard:o,addressInputs:s,numbers:[c["i"],[["Delete"],["Clear"]]]}}}),h=(n("b913"),n("d959")),f=n.n(h);const m=f()(b,[["render",o],["__scopeId","data-v-6cb84542"]]);t["a"]=m},"2b3a":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["createTextVNode"])("Select Module"),o=Object(r["createTextVNode"])(" Close ");function a(e,t,n,a,c,s){var u=Object(r["resolveComponent"])("ion-title"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header"),b=Object(r["resolveComponent"])("application-card"),h=Object(r["resolveComponent"])("ion-col"),f=Object(r["resolveComponent"])("ion-row"),m=Object(r["resolveComponent"])("ion-content"),g=Object(r["resolveComponent"])("ion-button"),O=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[i]})),_:1}),Object(r["createVNode"])(l,{style:{"font-weight":"bold",padding:"0.5em"},slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Version: "+Object(r["toDisplayString"])(e.appVersion),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(m,{class:"ion-padding"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.apps,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:n,"size-md":"3","size-sm":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{onClick:function(n){return e.setApplication(t)},name:t.applicationName,details:t.applicationDescription,programID:t.programID,iconURL:e.img(t.applicationIcon)},null,8,["onClick","name","details","programID","iconURL"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(O,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[e.canClose?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,color:"danger",size:"large",onClick:e.closeModal},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})],64)}n("4de4"),n("d3b7"),n("96cf");var c=n("1da1"),s=n("f768"),u=(n("b0c0"),Object(r["withScopeId"])("data-v-32c01aa6")),l=u((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("ion-card-title"),l=Object(r["resolveComponent"])("ion-card-header"),d=Object(r["resolveComponent"])("ion-card-content"),p=Object(r["resolveComponent"])("center"),b=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(b,{class:"his-card"},{default:u((function(){return[Object(r["createVNode"])(p,null,{default:u((function(){return[Object(r["createVNode"])(c,{src:e.iconURL},null,8,["src"]),Object(r["createVNode"])(l,null,{default:u((function(){return[Object(r["createVNode"])(s,null,{default:u((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:u((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.details),1)]})),_:1})]})),_:1})]})),_:1})})),d=n("8a30"),p=Object(r["defineComponent"])({props:["name","details","programID","iconURL"],components:{IonCard:d["f"],IonCardContent:d["g"],IonCardTitle:d["j"],IonCardHeader:d["h"],IonImg:d["s"]},setup:function(){return{}},methods:{getImgUrl:function(e){return n("78ac")("./assets ".concat(e))}}}),b=(n("6ef2"),n("d959")),h=n.n(b);const f=h()(p,[["render",l],["__scopeId","data-v-32c01aa6"]]);var m=f,g=n("b5e4"),O=n("2ef0"),v=n("1718"),_=Object(r["defineComponent"])({name:"Modal",props:{title:{type:String,default:""},appVersion:{type:String},canClose:{type:Boolean,default:function(){return!1}}},methods:{closeModal:function(){d["U"].dismiss()},img:function(e){return Object(v["a"])(e)},setApplication:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["U"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/config.json");case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,i=r.apps,e.apps=s["a"].filter((function(e){var t=Object(O["find"])(i,{name:e.applicationName});return t&&!0===t.available})),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.error(t.t0),Object(g["c"])("An error occured while loading applications");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},data:function(){return{content:"Content",apps:[]}},components:{IonFooter:d["o"],IonContent:d["n"],IonHeader:d["q"],IonTitle:d["M"],IonToolbar:d["N"],ApplicationCard:m,IonButton:d["d"],IonCol:d["m"],IonRow:d["F"]}});const j=h()(_,[["render",a]]);t["a"]=j},"2b47":function(e,t,n){"use strict";var r=n("7a23"),i={class:"tool-bar-medium-card"};function o(e,t,n,o,a,c){return Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[Object(r["renderSlot"])(e.$slots,"default")])}var a=Object(r["defineComponent"])({name:"ToolBarMediumCard"}),c=n("d959"),s=n.n(c);const u=s()(a,[["render",o]]);t["a"]=u},"2b5e":function(e,t,n){},"2be8":function(e,t,n){"use strict";n("0549")},"2c0f":function(e,t,n){},"2c9e":function(e,t,n){},"2db2":function(e,t,n){"use strict";n("0dfb")},"2f1c":function(e,t,n){"use strict";n("e6f1")},"2fd5":function(e,t,n){"use strict";n("a4d3"),n("e01a");var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-text-input"),s=Object(r["resolveComponent"])("ion-chip"),u=Object(r["resolveComponent"])("ion-text"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-checkbox"),p=Object(r["resolveComponent"])("ion-item"),b=Object(r["resolveComponent"])("ion-list"),h=Object(r["resolveComponent"])("view-port"),f=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(h,{showFull:!e.showKeyboard},{default:Object(r["withCtx"])((function(){return[e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,value:e.selected,onOnValue:t[1]||(t[1]=function(t){return e.onKbValue(t,e.showKeyboard)}),disabled:!1},null,8,["value"])):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.checkedItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:n},[Object(r["createVNode"])(s,{color:"danger",onClick:function(n){return e.uncheck(t.label)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick"])])})),128)),Object(r["createVNode"])(b,{class:"view-port-content"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:n,color:t.isChecked?"light":""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),e.isDescription(t.description,t.isChecked)?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,color:t.description.color},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("p",null,[Object(r["createVNode"])("i",null,Object(r["toDisplayString"])(t.description.text),1)])]})),_:2},1032,["color"])):Object(r["createCommentVNode"])("",!0)]})),_:2},1024),Object(r["createVNode"])(d,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e},onIonChange:function(n){return e.onselect(t,n)},disabled:null===t||void 0===t?void 0:t.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])]})),_:2},1032,["color"])})),128))]})),_:1})]})),_:1},8,["showFull"]),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)])}n("4de4"),n("4160"),n("d81d"),n("159b");var o=n("9ab4"),a=n("8a30"),c=n("82a9"),s=Object(r["defineComponent"])({components:{IonCheckbox:a["k"],IonText:a["J"],IonChip:a["l"]},name:"HisMultipleSelect",mixins:[c["a"]],methods:{onselect:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var n=this;return Object(o["d"])(this,(function(r){return this.$nextTick((function(){return Object(o["b"])(n,void 0,void 0,(function(){var n,r,i,a;return Object(o["d"])(this,(function(c){switch(c.label){case 0:return n=Object(o["a"])({},e),n.isChecked=t.target.checked,"function"!==typeof(null===(a=null===n||void 0===n?void 0:n.other)||void 0===a?void 0:a.onEvent)?[3,2]:[4,n.other.onEvent(n.isChecked)];case 1:c.sent(),c.label=2;case 2:return this.onValue&&n.isChecked?[4,this.onValue(n,this.fdata,this.cdata)]:[3,4];case 3:if(r=c.sent(),!r)return[2,t.target.checked=!1];c.label=4;case 4:return this.onValueUpdate?(i=this,[4,this.onValueUpdate(Object(o["f"])(this.listData),n,this.fdata,this.cdata)]):[3,6];case 5:i.listData=c.sent(),c.label=6;case 6:return this.$emit("onValue",this.getChecked(this.listData)),[2]}}))}))})),[2]}))}))},uncheck:function(e){this.listData.forEach((function(t){t.label===e&&(t.isChecked=!1)}))},getChecked:function(e){return e.filter((function(e){return e.isChecked}))},isDescription:function(e,t){return void 0===t&&(t=!1),!!e&&(!(null===e||void 0===e?void 0:e.show)||("onChecked"===e.show&&t||"always"===e.show))}},computed:{checkedItems:function(){return this.getChecked(this.listData)}},watch:{clear:function(){this.listData=this.listData.map((function(e){return e.isChecked=!1,e}))},footerButtonEvent:{handler:function(e){var t,n;return Object(o["b"])(this,void 0,void 0,(function(){var r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return e&&"function"===typeof(null===(t=e.onClickComponentEvents)||void 0===t?void 0:t.refreshOptions)?(r=this,[4,null===(n=e.onClickComponentEvents)||void 0===n?void 0:n.refreshOptions(e,this.listData,this.fdata,this.cdata)]):[3,2];case 1:r.listData=i.sent(),this.$emit("onValue",this.getChecked(this.listData)),i.label=2;case 2:return[2]}}))}))},deep:!0,immediate:!0}},activated:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata,this.getChecked(this.listData),this.cdata,this.listData)];case 1:return e.listData=t.sent(),this.$emit("onValue",this.getChecked(this.listData)),[2]}}))}))}}),u=n("d959"),l=n.n(u);const d=l()(s,[["render",i]]);t["a"]=d},"2fdd":function(e,t,n){},"301d":function(e,t,n){},"30bd":function(e,t,n){"use strict";n("45f1")},"30dc":function(e,t,n){},"31b7":function(e,t,n){"use strict";n("3294")},3294:function(e,t,n){},"32b3":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));n("d81d"),n("07ac");var r,i=n("9ab4"),o=n("cc6f"),a=n("7957");(function(e){e["Prescription"]="htnPrescription"})(r||(r={}));var c=function(e){function t(t,n){return e.call(this,t,48,n)||this}return Object(i["c"])(t,e),t.getBpGrade=function(e,t){return e<140&&t<90?"normal":e>=140&&e<160||t>=100&&t<110?"grade 1":e>=180&&t>110||e>=180?"grade 3":e>=160&&e<180||t>=110?"grade 2":"N/A"},t.isBpNormotensive=function(e){var t=this,n=Object.values(e).sort((function(e,t){return e.date<t.date?1:0})).map((function(e){return t.getBpGrade(e.sbp,e.dbp)})),r=n[0],i=n[1];return"normal"===r&&"normal"===i},t.prototype.getSystolicBp=function(){return a["a"].getFirstValueNumber(this.patientID,"Systolic blood pressure")},t.prototype.getDiastolicBp=function(){return a["a"].getFirstValueNumber(this.patientID,"Diastolic blood pressure")},t.prototype.onBpDrugs=function(){return Object(i["b"])(this,void 0,void 0,(function(){var e;return Object(i["d"])(this,(function(t){switch(t.label){case 0:return[4,a["a"].getFirstValueCoded(this.patientID,"Treatment status")];case 1:return e=t.sent(),[2,!!e&&"Yes"===e]}}))}))},t.prototype.getBPTrail=function(){return Object(i["b"])(this,void 0,void 0,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,o["a"].getJson("/patients/"+this.patientID+"/bp_trail")];case 1:return[2,e.sent()]}}))}))},t.prototype.getCurrentDrugs=function(){return Object(i["b"])(this,void 0,void 0,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,o["a"].getJson("/patients/"+this.patientID+"/current_bp_drugs")];case 1:return[2,e.sent()]}}))}))},t.prototype.getLastDrugs=function(){return Object(i["b"])(this,void 0,void 0,(function(){return Object(i["d"])(this,(function(e){switch(e.label){case 0:return[4,o["a"].getJson("/patients/"+this.patientID+"/last_bp_drugs_dispensation")];case 1:return[2,e.sent()]}}))}))},t.prototype.getAdherence=function(e,t){return Object(i["b"])(this,void 0,void 0,(function(){return Object(i["d"])(this,(function(n){switch(n.label){case 0:return[4,o["a"].postJson("/patients/"+this.patientID+"/remaining_bp_drugs",{drug_id:e,pills:t})];case 1:return[2,n.sent()]}}))}))},t.prototype.enrollPatient=function(e){return Object(i["b"])(this,void 0,void 0,(function(){return Object(i["d"])(this,(function(t){switch(t.label){case 0:return[4,o["a"].postJson("/patients/"+this.patientID+"/update_or_create_htn_state",e)];case 1:return[2,t.sent()]}}))}))},t.htnDrugReferences=function(){return[{drug_id:275,drug_name:"HCZ (25mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:942,drug_name:"Enalapril (5mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:943,drug_name:"Enalapril (10mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:558,drug_name:"Amlodipine (5mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:559,drug_name:"Amlodipine (10mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:117,drug_name:"Atenolol (50mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"},{drug_id:11,drug_name:"Atenolol(100mg tablet)",units:"tab(s)",am:0,noon:0,pm:1,frequency:"Daily (QOD)"}]},t.prototype.getDrugs=function(){return{HCZ:{drugs:[{drugName:"HCZ (25mg tablet)",drugID:275,amount:"25mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null}],selected:null,notes:[]},Enalapril:{drugs:[{drugName:"Enalapril (5mg tablet)",drugID:942,amount:"5mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Enalapril (10mg tablet)",drugID:943,amount:"10mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]},Amlodipine:{drugs:[{drugName:"Amlodipine (5mg tablet)",drugID:558,amount:"5mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Amlodipine (10mg tablet)",drugID:559,amount:"10mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]},Atenolol:{drugs:[{drugName:"Atenolol (50mg tablet)",drugID:117,amount:"50mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null},{drugName:"Atenolol(100mg tablet)",drugID:11,amount:"100mg",current:!1,selected:!1,isChecked:!1,dispensed:null,expectedRemaining:null,adherence:null,remaining:null}],selected:null,notes:[]}}},t}(o["a"])},"331e":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9ab4"),i=n("cc6f"),o=n("8158"),a=function(e){function t(t,n){return e.call(this,t,122,n)||this}return Object(r["c"])(t,e),t.getComplaintsList=function(e,t){return void 0===t&&(t=""),Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,o["a"].getConceptSet(e,t)]}))}))},t}(i["a"])},"36ad":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-8adb04b0"),o=i((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-input");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{ref:"input",class:"input_display",modelValue:e.text,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.text=t}),type:e.type,disabled:e.disabled,readonly:e.isReadOnly,autocapitalize:"sentences"},null,8,["modelValue","type","disabled","readonly"])})),a=n("8a30"),c=Object(r["defineComponent"])({name:"HisInput",components:{IonInput:a["t"]},data:function(){return{isReadOnly:!1,text:""}},created:function(){this.isReadOnly=!Object(a["R"])("desktop")},watch:{value:function(e){this.text=e},text:function(e){this.$emit("onValue",e)}},props:{value:{required:!1},type:{type:String,default:function(){return"text"}},disabled:{type:Boolean,default:function(){return!1}}}}),s=(n("8378"),n("d959")),u=n.n(s);const l=u()(c,[["render",o],["__scopeId","data-v-8adb04b0"]]);t["a"]=l},"374c":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["createVNode"])("b",null,"TODAY",-1);function o(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-input"),u=Object(r["resolveComponent"])("view-port"),l=Object(r["resolveComponent"])("picker-selector"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-button"),h=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,{showFull:!1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{class:"input_display",readonly:!0,value:e.value},null,8,["value"])]})),_:1}),Object(r["createVNode"])(h,{class:"his-floating-keyboard"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{"sm-size":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.getYear,onOnIncrement:t[1]||(t[1]=function(t){return e.add("year")}),onOnDecrement:t[2]||(t[2]=function(t){return e.subtract("year")})},null,8,["value"])]})),_:1}),Object(r["createVNode"])(d,{"sm-size":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.getMonth,onOnIncrement:t[3]||(t[3]=function(t){return e.add("month")}),onOnDecrement:t[4]||(t[4]=function(t){return e.subtract("month")})},null,8,["value"])]})),_:1}),Object(r["createVNode"])(d,{"sm-size":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.getDay,onOnIncrement:t[5]||(t[5]=function(t){return e.add("day")}),onOnDecrement:t[6]||(t[6]=function(t){return e.subtract("day")})},null,8,["value"])]})),_:1})]})),_:1}),Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{class:"ion-text-center"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{style:{width:"30%",height:"6vh"},onClick:e.today},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})],64)}var a=n("9ab4"),c=n("0a79"),s=n("51c8"),u=n("9283"),l=n("1c74"),d=Object(r["withScopeId"])("data-v-0a5e8d79");Object(r["pushScopeId"])("data-v-0a5e8d79");var p=Object(r["createTextVNode"])(" + "),b=Object(r["createTextVNode"])(" - ");Object(r["popScopeId"])();var h=d((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"his-card"},{default:d((function(){return[Object(r["createVNode"])(u,null,{default:d((function(){return[Object(r["createVNode"])(s,{size:"12"},{default:d((function(){return[Object(r["createVNode"])(c,{onClick:e.onIncrement,color:"light",class:"w-button"},{default:d((function(){return[p]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:d((function(){return[Object(r["createVNode"])(s,{class:"ion-text-center ion-margin-vertical large-text"},{default:d((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:d((function(){return[Object(r["createVNode"])(s,{size:"12"},{default:d((function(){return[Object(r["createVNode"])(c,{onClick:e.onDecrement,color:"light",class:"w-button"},{default:d((function(){return[b]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),f=n("8a30"),m=Object(r["defineComponent"])({components:{IonGrid:f["p"],IonRow:f["F"],IonCol:f["m"],IonButton:f["d"]},props:{value:{type:String,required:!0}},emits:["onIncrement","onDecrement"],setup:function(e,t){var n=function(){return t.emit("onIncrement")},r=function(){return t.emit("onDecrement")};return{onIncrement:n,onDecrement:r}}}),g=(n("5b4a"),n("d959")),O=n.n(g);const v=O()(m,[["render",h],["__scopeId","data-v-0a5e8d79"]]);var _=v,j=Object(r["defineComponent"])({components:{PickerSelector:_,IonInput:f["t"],ViewPort:c["a"],IonGrid:f["p"],IonCol:f["m"],IonRow:f["F"],IonButton:f["d"]},mixins:[s["a"]],data:function(){return{value:"",date:"",isInit:!0}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){return Object(a["d"])(this,(function(e){switch(e.label){case 0:return this.$emit("onFieldActivated",this),this.date=new Date,[4,this.setDefaultValue()];case 1:return e.sent(),this.isInit=!1,[2]}}))}))},methods:{setDefaultValue:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return!this.defaultValue||this.value?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),e&&(this.isInit=!1,this.date=new Date(e)),t.label=2;case 2:return[2]}}))}))},add:function(e){this.date=u["a"].add(""+this.date,e,1)},subtract:function(e){this.date=u["a"].subtract(""+this.date,e,1)},today:function(){this.date=new Date(l["d"].getSessionDate())}},computed:{getYear:function(){return u["a"].getYear(""+this.date)},getMonth:function(){return u["a"].getMonth(""+this.date)},getDay:function(){return u["a"].getDay(""+this.date)}},watch:{date:function(e){this.isInit||(this.value=u["a"].toStandardHisFormat(e))},value:function(e){e?this.$emit("onValue",{label:e,value:this.value}):this.$emit("onValue",null)},clear:function(){this.value=""}}});const y=O()(j,[["render",o]]);t["a"]=y},"37c7":function(e,t,n){"use strict";n("1449")},3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return h}));var r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],i=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],o=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],a=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],c=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],s=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],u=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],l=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","m","n",",",".","A-Z"]],p=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],b=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],h=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"3a35":function(e,t,n){"use strict";n("de5d")},"3abb":function(e,t,n){},"3b1f":function(e,t,n){},"3b42":function(e,t,n){},"3b81":function(e,t,n){},"3c4b":function(e,t,n){"use strict";n("cc57")},"3d6c":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4de4"),n("caad"),n("2532");var r=n("9ab4"),i=n("1c74"),o=[{drugID:105,shortName:"Acyclovir 200mg",fullName:"Acyclovir 200mg",packSizes:[30]},{drugID:1044,shortName:"ABC 120 /3TC 300mg",fullName:"Abacavir and Lamivudine 120mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:969,shortName:"ABC 600 / 3TC 300mg",fullName:"Abacavir sulfate 600mg / Lamivudine 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:932,shortName:"ATV 300 / r 100mg",fullName:"Atazanavir / Ritonavir 300 / 100mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:39,shortName:"AZT 300 /3TC 150mg",fullName:"Zidovudine / lamivudine 300 / 150mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:731,shortName:"AZT 300 / 3TC 150 / NVP 200mg",fullName:"Zidovudine / lamivudine /Nevirapine 300 / 150 / 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:732,shortName:"AZT 60 / 3TC 30 / NVP 50mg",fullName:"Zidovudine / lamivudine /Nevirapine 60 / 30 / 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:736,shortName:"AZT 60 / 3TC 30mg",fullName:"Zidovudine / lamivudine 60 / 30mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:963,shortName:"CPT 120mg",fullName:"Cotrimoxazole 120mg, blister pack of 1000 dispersible tablets",packSizes:[1e3],categories:["p"]},{drugID:297,shortName:"CPT 480mg",fullName:"Cotrimoxazole 480mg, tin of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:576,shortName:"CPT 960mg",fullName:"Cotrimoxazole 960mg, blister pack of 1000 tablets",packSizes:[1e3],categories:["a"]},{drugID:976,shortName:"DRV 600mg",fullName:"Darunavir 600mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:980,shortName:"DTG 10mg",fullName:"Dolutegravir 10mg pack of 90 tablets",packSizes:[90]},{drugID:982,shortName:"DTG 50mg",fullName:"Dolutegravir 50mg pack of 30 tablets",packSizes:[30],categories:["a"]},{drugID:30,shortName:"EFV 200mg",fullName:"Efavirenz 200mg, tin of 90 tablets",packSizes:[90],categories:["p"]},{drugID:11,shortName:"EFV 600mg",fullName:"Efavirenz 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:978,shortName:"ETV 100mg",fullName:"Etravirine 100mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:24,shortName:"Isoniazid 100mg",fullName:"Isoniazid (H) 100mg, blist packs of 100 tablets",packSizes:[100],categories:["p"]},{drugID:991,shortName:"Isoniazid 300mg",fullName:"Isoniazid (H) 300mg, blist packs of 1000 tablets",packSizes:[1e3,672]},{drugID:74,shortName:"LPV 100 / r 25mg",fullName:"Lopinavir / Ritonavir 100 / 25mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:73,shortName:"LPV 200 / r 50mg",fullName:"Lopinavir / Ritonavir 200 / 50mg, tin of 120 tablets",packSizes:[120],categories:["a"]},{drugID:1045,shortName:"LPV 40 / r 10mg granules",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 sachets",packSizes:[120]},{drugID:979,shortName:"LPV 40 / r 10mg pellets",fullName:"Lopinavir/Ritonavir(LPV/r ), 40/10mg granules, pack of 120 pellets",packSizes:[120],categories:["p"]},{drugID:22,shortName:"NVP 200mg",fullName:"Nevirapine 200mg, tin of 60 tablets",packSizes:[60],categories:["a"]},{drugID:968,shortName:"NVP 50mg",fullName:"Nevirapine 50mg, tin of 60 tablets",packSizes:[60],categories:["p"]},{drugID:1039,shortName:"Pyridoxine 25mg",fullName:"Pyridoxine (25mg)",packSizes:[1e3],categories:["a"]},{drugID:977,shortName:"r 100mg",fullName:"Ritonavir 100mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1043,shortName:"RAL 25mg",fullName:"Raltegravir 25mg pack of 60 tablets",packSizes:[60],categories:["p"]},{drugID:954,shortName:"RAL 400mg",fullName:"Raltegravir 400mg pack of 60 tablets",packSizes:[60],categories:["a"]},{drugID:1056,shortName:"Rifapentine 150mg",fullName:"Rifapentine 150mg pack of 24 tablets",packSizes:[24],categories:["a"]},{drugID:734,shortName:"TDF 300 / 3TC 300mg ",fullName:"Lamivudine / Tenofovir disoproxil fumarate 300 / 300mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:735,shortName:"TDF 300 / 3TC 300 / EFV 600mg",fullName:"Tenofovir disoproxil fumarate / Lamivudine / Efavirenz 300 / 300 / 600mg, tin of 30 tablets",packSizes:[30],categories:["a"]},{drugID:983,shortName:"TDF 300 / 3TC 300 / DTG 50mg",fullName:"Tenofovir Disoproxil Fumarate/Lamivudine/Dolutegravir (TDF/3TC /DTG), 300/300/50mg, pack of 90 tablets",packSizes:[90],categories:["a"]}],a=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.prototype.postItems=function(e){return i["d"].postJson("/pharmacy/batches",e)},t.prototype.getItems=function(){return i["d"].getJson("pharmacy/items",{paginate:!1})},t.prototype.getItem=function(e){return i["d"].getJson("pharmacy/items",{drug_id:e})},t.prototype.updateItem=function(e,t){return i["d"].putJson("pharmacy/items/"+e,t)},t.prototype.relocateItems=function(e,t){return i["d"].postJson("pharmacy/items/"+e+"/reallocate",t)},t.prototype.disposeItems=function(e,t){return i["d"].postJson("pharmacy/items/"+e+"/dispose",t)},t.prototype.getConsumptionRate=function(e){return i["d"].getJson("pharmacy/drug_consumption",{drug_id:e})},t.prototype.drugList=function(){return o},t.getShortName=function(e){var t=o.filter((function(t){return t.drugID===e}));return t.length>0?t[0].shortName:""},t.getPackSize=function(e){var t=o.filter((function(t){return t.drugID===e}));return t.length>0?t[0].packSizes[0]:30},t.getPaedeatricDrugs=function(){return console.log(o.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")}))),o.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("p")}))},t.getAdultDrugs=function(){return o.filter((function(e){var t;return null===(t=e.categories)||void 0===t?void 0:t.includes("a")}))},t}(i["d"])},"3d7f":function(e,t,n){},"3e53":function(e,t,n){"use strict";var r=n("9ab4"),i=n("f768"),o=n("2b3a"),a=n("8a30"),c=n("2ef0"),s=n("4db7"),u=n("c1e4"),l=n("cc74"),d={GlobalAppSettings:[{name:"Session Management",icon:"time.png",files:[{name:"Change session date",pathUrl:"/session/date"}]},{name:"Portal Settings",icon:"portal.png",condition:function(){return u["a"].isAdmin()},files:[{name:"Portal settings",pathUrl:"/portal/config"}]},{name:"Network",icon:"portal.png",condition:function(){return u["a"].isAdmin()},files:[{name:"IP Configuration",pathUrl:"/settings/host"}]},{name:"Location",icon:"location.png",files:[{name:"Print Location",pathUrl:"/print/location"},{name:"Set Site Location",condition:function(){return u["a"].isAdmin()},pathUrl:"/location/update/site"},{name:"Set Site Code",condition:function(){return u["a"].isAdmin()},pathUrl:"/location/update/code"}]},{name:"User management",icon:"edit-user.png",files:[{name:"New user",condition:function(){return u["a"].isAdmin()},pathUrl:"/user?activity=add"},{name:"Edit Users",condition:function(){return u["a"].isAdmin()},pathUrl:"/user?activity=edit"},{name:"Change Password",pathUrl:"/user?activity=edit&update_password=true"},{name:"System usage report",pathUrl:"/users/usage",condition:function(){return u["a"].isAdmin()}}]},{name:"Data Management",icon:"list.png",condition:function(){return u["a"].isAdmin()},files:[{name:"View Duplicates",pathUrl:"/view_duplicates"},{name:"Data Cleaning",pathUrl:"/data_cleaning",condition:function(){var e;return!!m.getActiveApp()&&"ART"===(null===(e=m.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Merge patients",pathUrl:"/patients/merge",condition:function(){var e;return!!m.getActiveApp()&&"ART"===(null===(e=m.getActiveApp())||void 0===e?void 0:e.applicationName)}},{name:"Patient visit stats",pathUrl:"/art/patient_visits",condition:function(){var e;return!!m.getActiveApp()&&"ART"===(null===(e=m.getActiveApp())||void 0===e?void 0:e.applicationName)}}]},{name:"DDE Settings",icon:"programs.png",condition:function(){return u["a"].isAdmin()},files:[{name:"DDE Activation",pathUrl:"/preferences?label=Activate DDE&property="+l["a"].DDE_ENABLED}]}],GlobalProgramActivities:[{id:"npid",name:"National Health ID (Print)",description:"Print Patient National Health ID",action:function(e){var t=e.patient,n=new s["a"](t.patient_id);return n.printNidLbl()},icon:"barcode.png"},{id:"lab activities",name:"Lab activities",description:"Do lab orders",icon:"lab.png"},{id:"demographics",name:"Demographics (Print)",description:"Print Patient Demographics",action:function(e){var t=e.patient,n=new s["a"](t.patient_id);return n.printDemographicsLbl()},icon:"print.png",condition:function(){var e;return"CxCa"!==(null===(e=m.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"demographics_edit",name:"Demographics (Edit)",description:"Edit Patient Demographics",action:function(e,t){var n=e.patient;t.push({path:"/patient/registration",query:{edit_person:n.patient_id}})},icon:"print.png"},{id:"change_session_Date",name:"Change session date",description:"Change session date (for retrospective entry)",url:"/session/date",icon:"time.png"},{id:"program_management",name:"Program(s)",description:"View / update patient's programs",action:function(e,t){var n=e.patient;t.push({path:"/patient/programs/"+n.patient_id})},icon:"programs.png"},{id:"visit_summary",name:"Visit Summary (Print)",description:"Print Patient Visit Summary",action:function(e){var t=e.patient,n=e.visitDate,r=new s["a"](t.patient_id);return r.printVisitSummaryLbl(n)},icon:"folder.png",condition:function(){var e;return"CxCa"!==(null===(e=m.getActiveApp())||void 0===e?void 0:e.applicationName)}},{id:"enter_lab_result",name:"Enter Lab Result",description:"Enter Lab Test Result",action:function(e,t){var n=e.patient;t.push({path:"/lab/results/"+n.patient_id})},icon:"enter.png"}]},p=n("1c74");function b(e){var t=Object(r["a"])({},e);return t.secondaryPatientActivites=Object(r["f"])(d.GlobalProgramActivities,t.secondaryPatientActivites),t.globalPropertySettings?t.globalPropertySettings=Object(r["f"])(d.GlobalAppSettings,t.globalPropertySettings):t.globalPropertySettings=d.GlobalAppSettings,t}function h(){var e=sessionStorage.getItem("applicationName");if(e){var t=Object(c["find"])(i["a"],{applicationName:e});if(t)return b(t)}}function f(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),Object(r["b"])(this,void 0,void 0,(function(){var n,i,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,a["U"].create({component:o["a"],cssClass:"large-modal",backdropDismiss:!1,componentProps:{appVersion:p["d"].getFullVersion(),canClose:t}})];case 1:return n=r.sent(),n.present(),[4,n.onDidDismiss()];case 2:return i=r.sent().data,!i||Object(c["isEmpty"])(i)?[2]:(s=b(i),s.init?[4,s.init(e)]:[3,4]);case 3:r.sent(),r.label=4;case 4:return sessionStorage.setItem("applicationName",s.applicationName),[2,s]}}))}))}var m=t["a"]={selectApplication:f,getActiveApp:h}},"41dd":function(e,t,n){},"43e5":function(e,t,n){},"44e3":function(e,t,n){"use strict";n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0");var r=n("9ab4"),i=n("1c74"),o=n("7a23"),a=n("b446"),c=n("23e6"),s=n("9283"),u=n("8a30"),l=n("d6aa"),d=n("5969"),p=n("d95e"),b=n("2706"),h=n("9ceb"),f=Object(o["defineComponent"])({data:function(){return{fields:[],report:{},reportReady:!1,period:"",startDate:"",endDate:"",customFileName:"",drillDownCache:{}}},methods:{toDate:function(e){return s["a"].toStandardHisDisplayFormat(e)},confirmPatient:function(e){return this.$router.push("/patients/confirm?person_id="+e)},drilldownAsyncRows:function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,u["U"].create({component:l["a"],cssClass:"large-modal",componentProps:{title:e,columns:t,asyncRows:n,showFilters:!0,rowsPerPage:50,paginated:!0,showReportStamp:!1,footerColor:"light",onFinish:function(){return u["U"].dismiss()}}})];case 1:return i=r.sent(),i.present(),[2]}}))}))},drilldownData:function(e,t,n,i){return Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,u["U"].create({component:l["a"],cssClass:"large-modal",componentProps:{title:e,columns:t,rows:n,rowParser:i,rowsPerPage:50,showFilters:!0,paginated:!0,showReportStamp:!1,footerColor:"light",onFinish:function(){return u["U"].dismiss()}}})];case 1:return o=r.sent(),o.present(),[2]}}))}))},getDefaultDrillDownTable:function(){var e=this,t=[[h["a"].thTxt("ARV number"),h["a"].thTxt("Gender"),h["a"].thTxt("Birth Date"),h["a"].thTxt("Actions")]],n=function(t){return t.map((function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e,n,i,o,a,s,l,d=this;return Object(r["d"])(this,(function(p){switch(p.label){case 0:return e=t[0],n=t[1],n in this.drillDownCache?(i=this.drillDownCache[n],i[0],o=i.slice(1),[2,Object(r["f"])([e],o)]):[4,c["a"].findByID(n)];case 1:return a=p.sent(),s=new c["a"](a),l=[e,h["a"].td(s.getArvNumber()),h["a"].td(s.getGender()),h["a"].tdDate(s.getBirthdate().toString()),h["a"].tdBtn("Show",(function(){return Object(r["b"])(d,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,u["U"].dismiss({})];case 1:return e.sent(),this.$router.push({path:"/patient/dashboard/"+n}),[2]}}))}))}))],this.drillDownCache[n]=l,[2,l]}}))}))}))};return{rowParser:n,columns:t}},runTableDrill:function(e,t){void 0===t&&(t="Drilldown patients");var n=this.getDefaultDrillDownTable(),r=n.columns,i=n.rowParser;this.drilldownData(t,r,e,i)},drill:function(e,t){var n=this;return void 0===t&&(t="Drill table"),e&&e.length>0?h["a"].tdLink(e.length,(function(){return n.runTableDrill(e,t)})):h["a"].td(0)},getQuaterOptions:function(){var e=d["a"].getReportQuarters();return e.map((function(e){return{label:e.name,value:e.start,other:e}}))},getDateDurationFields:function(e,t,n){var o=this;void 0===e&&(e=!1),void 0===t&&(t=!1),void 0===n&&(n=5);var c="2001-01-01",s=i["d"].getSessionDate();return Object(r["f"])([{id:"quarter",helpText:"Select Quarter",type:p["b"].TT_SELECT,condition:function(){return e},validation:function(e){return b["a"].required(e)},options:function(){var e=d["a"].getReportQuarters(n),i=e.map((function(e){return{label:e.name,value:e.start,other:e}}));return t&&(i=Object(r["f"])([{label:"Set custom period",value:"custom_period",other:{}}],i)),i}}],Object(a["b"])({id:"start_date",helpText:"Start",required:!0,condition:function(t){return t.quarter&&"custom_period"===t.quarter.value||!e},minDate:function(){return c},maxDate:function(){return s},estimation:{allowUnknown:!1},computeValue:function(e){return e}}),Object(a["b"])({id:"end_date",helpText:"End",required:!0,condition:function(t){return t.quarter&&"custom_period"===t.quarter.value||!e},unload:function(e,t,n,r){"next"===t&&(o.endDate=r.end_date)},minDate:function(e,t){return t.start_date},maxDate:function(){return s},estimation:{allowUnknown:!1},computeValue:function(e){return e}}))}}});const m=f;t["a"]=m},"45f1":function(e,t,n){},"4a29":function(e,t,n){},"4a99":function(e,t,n){"use strict";n("1fff")},"4ba2":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-31c83ab6");Object(r["pushScopeId"])("data-v-31c83ab6");var o={class:"header-text-list"},a=Object(r["createTextVNode"])("Title "),c=Object(r["createTextVNode"])("Period "),s={key:0},u=Object(r["createTextVNode"])(" Error(s) found. Click for more "),l=Object(r["createTextVNode"])(" Report is Consistent "),d={class:"report-content"},p=Object(r["createTextVNode"])("Date Created: "),b=Object(r["createTextVNode"])("His-Core Version: "),h=Object(r["createTextVNode"])("API Version: ");Object(r["popScopeId"])();var f=i((function(e,t,n,f,m,g){var O=Object(r["resolveComponent"])("his-standard-form"),v=Object(r["resolveComponent"])("ion-title"),_=Object(r["resolveComponent"])("ion-img"),j=Object(r["resolveComponent"])("ion-thumbnail"),y=Object(r["resolveComponent"])("ion-label"),w=Object(r["resolveComponent"])("ion-chip"),N=Object(r["resolveComponent"])("ion-item"),C=Object(r["resolveComponent"])("ion-toolbar"),V=Object(r["resolveComponent"])("ion-header"),D=Object(r["resolveComponent"])("report-table"),k=Object(r["resolveComponent"])("ion-content"),T=Object(r["resolveComponent"])("ion-footer"),I=Object(r["resolveComponent"])("his-footer"),x=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["withDirectives"])(Object(r["createVNode"])(O,{onOnFinish:e.onFinish,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"]),[[r["vShow"],!e.canShowReport]]),e.canShowReport?(Object(r["openBlock"])(),Object(r["createBlock"])(x,{key:0},{default:i((function(){return[Object(r["createVNode"])(V,null,{default:i((function(){return[Object(r["createVNode"])(C,null,{default:i((function(){return[e.showtitleOnly?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:0},{default:i((function(){return[Object(r["createVNode"])("span",{innerHTML:e.title},null,8,["innerHTML"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.showtitleOnly?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:1},{default:i((function(){return[Object(r["createVNode"])(j,{slot:"start"},{default:i((function(){return[Object(r["createVNode"])(_,{src:e.reportLogo},null,8,["src"])]})),_:1}),Object(r["createVNode"])(y,null,{default:i((function(){return[Object(r["createVNode"])("ul",o,[Object(r["createVNode"])("li",null,[a,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.title),1)]),Object(r["createVNode"])("li",null,[c,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.period),1)]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.headerInfoList,(function(e,t){var n,o;return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:t},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label)+" ",1),e&&(null===(n=null===e||void 0===e?void 0:e.other)||void 0===n?void 0:n.onclick)?(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:0,href:"#",onClick:Object(r["withModifiers"])((function(t){return e.other.onclick()}),["prevent"])},Object(r["toDisplayString"])(e.value),9,["onClick"])):Object(r["createCommentVNode"])("",!0),e&&!(null===(o=null===e||void 0===e?void 0:e.other)||void 0===o?void 0:o.onclick)?(Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:1},{default:i((function(){return[Object(r["createVNode"])("b",null,[Object(r["createVNode"])("span",{innerHTML:e.value},null,8,["innerHTML"])])]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)])})),128)),e.showValidationStatus?(Object(r["openBlock"])(),Object(r["createBlock"])("li",s,[e.hasErrors?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,onClick:e.showErrors,color:"danger"},{default:i((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.errorCount),1),u]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),e.hasErrors?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:1,color:"success"},{default:i((function(){return[l]})),_:1}))])):Object(r["createCommentVNode"])("",!0)])]})),_:1})]})),_:1}))]})),_:1})]})),_:1}),Object(r["createVNode"])(k,null,{default:i((function(){return[Object(r["createVNode"])("div",d,[Object(r["createVNode"])(D,{rows:e.rows,columns:e.columns,showFilters:e.showFilters,config:e.config,onOnActiveColumns:e.onActiveColumns,onOnActiveRows:e.onActiveRows},null,8,["rows","columns","showFilters","config","onOnActiveColumns","onOnActiveRows"])])]})),_:1}),Object(r["createVNode"])(T,null,{default:i((function(){return[Object(r["createVNode"])(C,null,{default:i((function(){return[Object(r["createVNode"])(w,{color:"primary"},{default:i((function(){return[p,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.date),1)]})),_:1}),Object(r["createVNode"])(w,{color:"primary"},{default:i((function(){return[b,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.coreVersion),1)]})),_:1}),Object(r["createVNode"])(w,{color:"primary"},{default:i((function(){return[h,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.apiVersion),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(I,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)})),m=(n("4160"),n("b0c0"),n("159b"),n("9ab4")),g=n("0f25"),O=n("80e3"),v=n("ba82"),_=n("9ceb"),j=n("7920"),y=n("8a30"),w=n("b5e4"),N=n("1718"),C=n("1c74"),V=n("5a0c"),D=n.n(V),k=n("2ef0"),T=Object(r["withScopeId"])("data-v-611927bc");Object(r["pushScopeId"])("data-v-611927bc");var I=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var x=T((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("ion-button"),h=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:T((function(){return[Object(r["createVNode"])(s,null,{default:T((function(){return[Object(r["createVNode"])(c,null,{default:T((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{class:"selector"},{default:T((function(){return[Object(r["createVNode"])(d,null,{default:T((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.errors,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"ion-padding",key:t},{default:T((function(){return[Object(r["createVNode"])("span",{innerHTML:t+1+" "+e},null,8,["innerHTML"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(h,null,{default:T((function(){return[Object(r["createVNode"])(s,null,{default:T((function(){return[Object(r["createVNode"])(b,{class:"close-btn",color:"danger",size:"large",onClick:e.closeModal,slot:"end"},{default:T((function(){return[I]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),S=Object(r["defineComponent"])({components:{IonGrid:y["p"],IonList:y["w"],IonItem:y["u"],IonFooter:y["o"],IonButton:y["d"],IonToolbar:y["N"],IonHeader:y["q"],IonTitle:y["M"]},props:{title:{type:String,default:"Report Errors"},errors:{type:Array,required:!0}},methods:{closeModal:function(){return Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(e){switch(e.label){case 0:return[4,y["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))}}}),P=(n("c3ac"),n("d959")),B=n.n(P);const A=B()(S,[["render",x],["__scopeId","data-v-611927bc"]]);var E=A,F=Object(r["defineComponent"])({components:{HisStandardForm:j["a"],IonHeader:y["q"],ReportTable:O["a"],HisFooter:g["a"],IonPage:y["B"],IonContent:y["n"],IonToolbar:y["N"],IonChip:y["l"],IonFooter:y["o"],IonLabel:y["v"],IonThumbnail:y["L"],IonItem:y["u"],IonImg:y["s"]},props:{showValidationStatus:{type:Boolean,default:!1},validationErrors:{type:Array,default:function(){return[]}},config:{type:Object},headerInfoList:{type:Array,default:function(){return[]}},reportPrefix:{type:String,default:"HIS-Core"},reportLogo:{type:String,default:Object(N["a"])("login-logos/Malawi-Coat_of_arms_of_arms.png")},showtitleOnly:{type:Boolean,default:!1},title:{type:String,required:!0},period:{type:String},showFilters:{type:Boolean,default:!1},fields:{type:Object},columns:{type:Object,required:!0},rows:{type:Object,required:!0},customBtns:{type:Array,default:function(){return[]}},hasServerSideCaching:{type:Boolean,default:!1},canExportPDf:{type:Boolean,default:!0},canExportCsv:{type:Boolean,default:!0},enabledPDFHorizontalPageBreak:{type:Boolean,default:!1},onFinishBtnAction:{type:Function},onReportConfiguration:{type:Function,required:!0},onDefaultConfiguration:{type:Function},customFileName:{type:String,default:""}},data:function(){return{date:"",formData:{},btns:[],computeFormData:{},activeColumns:[],activeRows:[],isLoadingData:!1,canShowReport:!1,siteUUID:C["d"].getSiteUUID(),apiVersion:C["d"].getApiVersion(),coreVersion:C["d"].getCoreVersion(),artVersion:C["d"].getAppVersion()}},watch:{validationErrors:{handler:function(e){Object(k["isEmpty"])(e)||this.showErrors()},deep:!0,immediate:!0},fields:{handler:function(e){Object(k["isEmpty"])(e)||this.btns.forEach((function(e){"Back"===e.name&&(e.visible=!0)}))},immediate:!0}},computed:{hasErrors:function(){return!Object(k["isEmpty"])(this.validationErrors)},errorCount:function(){return this.validationErrors?this.validationErrors.length:0}},methods:{showErrors:function(){return Object(m["b"])(this,void 0,void 0,(function(){var e;return Object(m["d"])(this,(function(t){switch(t.label){case 0:return[4,y["U"].create({component:E,backdropDismiss:!1,cssClass:"large-modal",componentProps:{errors:this.validationErrors}})];case 1:return e=t.sent(),e.present(),[2]}}))}))},refreshTimeStamp:function(){this.date=D()().format("DD/MMM/YYYY HH:MM:ss")},onActiveColumns:function(e){this.activeColumns=e},onActiveRows:function(e){this.activeRows=e},getFileName:function(){return this.customFileName?this.customFileName:this.reportPrefix+" "+C["d"].getLocationName()+" "+this.title+" "+this.period},onLoadDefault:function(){return Object(m["b"])(this,void 0,void 0,(function(){var e;return Object(m["d"])(this,(function(t){switch(t.label){case 0:return this.canShowReport=!0,[4,this.presentLoading()];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,6]),this.refreshTimeStamp(),this.onDefaultConfiguration?[4,this.onDefaultConfiguration()]:[3,4];case 3:t.sent(),t.label=4;case 4:return y["S"].dismiss(),[3,6];case 5:return e=t.sent(),Object(w["c"])(e),console.error(e),y["S"].dismiss(),[3,6];case 6:return[2]}}))}))},onFinish:function(e,t,n){return void 0===n&&(n=!1),Object(m["b"])(this,void 0,void 0,(function(){var r;return Object(m["d"])(this,(function(i){switch(i.label){case 0:return this.formData=e,this.computeFormData=t,this.canShowReport=!0,[4,this.presentLoading()];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),this.refreshTimeStamp(),[4,this.onReportConfiguration(this.formData,this.computeFormData,n)];case 3:return i.sent(),y["S"].dismiss(),[3,5];case 4:return r=i.sent(),Object(w["c"])(r),console.error(r),y["S"].dismiss(),[3,5];case 5:return[2]}}))}))},reloadReport:function(e){return void 0===e&&(e=!1),Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(t){switch(t.label){case 0:return Object(k["isEmpty"])(this.formData)&&Object(k["isEmpty"])(this.computeFormData)?[3,2]:[4,this.onFinish(this.formData,this.computeFormData,e)];case 1:return t.sent(),[2];case 2:return this.onDefaultConfiguration?[4,this.onLoadDefault()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},presentLoading:function(){return Object(m["b"])(this,void 0,void 0,(function(){var e;return Object(m["d"])(this,(function(t){switch(t.label){case 0:return[4,y["S"].create({message:"Please wait...",backdropDismiss:!1})];case 1:return e=t.sent(),[4,e.present()];case 2:return t.sent(),[2]}}))}))}},created:function(){var e=this;this.onDefaultConfiguration&&this.onLoadDefault(),this.btns=this.customBtns,this.btns.push({name:"CSV",size:"large",slot:"start",color:"primary",visible:this.canExportCsv,onClick:function(){return Object(m["b"])(e,void 0,void 0,(function(){var e,t,n;return Object(m["d"])(this,(function(r){return e=Object(_["b"])(this.activeColumns,this.activeRows),t=e.columns,n=e.rows,Object(v["a"])(t,Object(m["f"])(n,[[],["Date Created: "+this.date],["HIS-Core Version: "+this.coreVersion],["API Version: "+this.apiVersion],["Site UUID: "+this.siteUUID]]),this.getFileName()),[2]}))}))}}),this.btns.push({name:"PDF",size:"large",slot:"start",color:"primary",visible:this.canExportPDf,onClick:function(){return Object(m["b"])(e,void 0,void 0,(function(){var e,t,n;return Object(m["d"])(this,(function(r){return e=Object(_["b"])(this.activeColumns,this.activeRows),t=e.columns,n=e.rows,Object(v["b"])(t,n,this.getFileName(),this.enabledPDFHorizontalPageBreak),[2]}))}))}}),this.btns.push({name:"Refresh/Rebuild",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return Object(m["b"])(e,void 0,void 0,(function(){var e;return Object(m["d"])(this,(function(t){switch(t.label){case 0:return e=!1,this.hasServerSideCaching?[4,Object(w["a"])("Do you want to rebuild report cache?",{header:"Rebuild Report"})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return this.reloadReport(e),[2]}}))}))}}),this.btns.push({name:"Back",size:"large",slot:"end",color:"primary",visible:!Object(k["isEmpty"])(this.fields),onClick:function(){return e.canShowReport=!1}}),this.btns.push({name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){e.onFinishBtnAction?e.onFinishBtnAction():e.$router.push({path:"/"})}})}});n("edaa");const R=B()(F,[["render",f],["__scopeId","data-v-31c83ab6"]]);t["a"]=R},"4c6a":function(e,t,n){},"4d9a":function(e,t,n){},"4db7":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9ab4"),i=n("b89f"),o=n("bef6"),a=function(e){function t(t){var n=e.call(this)||this;return n.patient=t,n.baseUrl="patients/"+n.patient+"/labels/",n}return Object(r["c"])(t,e),t.prototype.getLblUrl=function(e,t){void 0===t&&(t={});var n=o["a"].parameterizeObjToString(t);return""+this.baseUrl+e+(n?"?"+n:"")},t.prototype.printPatientLbl=function(e,t){return void 0===t&&(t={}),this.printLbl(this.getLblUrl(e,t))},t.prototype.printFilingNumberLbl=function(){return this.printPatientLbl("filing_number")},t.prototype.printNidLbl=function(){return this.printPatientLbl("national_health_id")},t.prototype.printVisitSummaryLbl=function(e){void 0===e&&(e=i["a"].getSessionDate());var t="programs/"+i["a"].getProgramID()+"/"+this.baseUrl+"/visits?date="+e;return this.printLbl(t)},t.prototype.printDemographicsLbl=function(){var e="programs/"+i["a"].getProgramID()+"/"+this.baseUrl+"/patient_history";return this.printLbl(e)},t.prototype.printTransferOutLbl=function(){return this.printPatientLbl("transfer_out")},t}(i["a"])},"4e33":function(e,t,n){"use strict";n("1f4e")},"4e36":function(e,t,n){},"4f9b":function(e,t,n){"use strict";n("8685")},"50e7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("b0c0");var r=n("9ab4"),i=n("1c74"),o=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.nextTask=function(t){return e.getJson.call(this,"/workflows/"+e.getProgramID.call(this)+"/"+t,{date:e.getSessionDate.call(this)})},t.getNextTaskParams=function(e,n){return void 0===n&&(n=""),Object(r["b"])(this,void 0,void 0,(function(){var i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:i=n,r.label=1;case 1:return r.trys.push([1,4,,5]),i?[3,3]:[4,t.nextTask(e)];case 2:o=r.sent().name,i=o,r.label=3;case 3:return[3,5];case 4:return r.sent(),i="",[3,5];case 5:return[2,{name:i.toLowerCase(),params:{patient_id:e}}]}}))}))},t}(i["d"])},5117:function(e,t,n){"use strict";n("c7ca")},5126:function(e,t,n){},"51c8":function(e,t,n){"use strict";n("a9e3");var r=n("fe70"),i=n("7a23"),o=Object(i["defineComponent"])({data:function(){return{isReadyOnly:!1}},created:function(){this.isReadyOnly=!Object(r["d"])("desktop")},emits:["onValue","onFieldActivated"],props:{config:{type:Object,default:function(){return{}}},preset:{type:Object,default:function(){return{label:"",value:""}}},defaultValue:{type:Function},fdata:{type:Object,required:!0},cdata:{type:Object,required:!0},clear:{type:Number,required:!0},options:{type:Function,default:function(){return[]}},activationState:{type:String,default:""},onValue:{type:Function},onValueUpdate:{type:Function},footerButtonEvent:{type:Object}}});const a=o;t["a"]=a},5245:function(e,t,n){"use strict";n("6009")},5357:function(e,t,n){"use strict";n("4d9a")},5358:function(e,t,n){},"552c":function(e,t,n){},"55eb":function(e,t,n){},5713:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("9ab4"),i=n("1c74"),o=n("8158"),a=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.createAddress=function(e,t,n){return this.postJson("addresses",{address_type:e,addresses_name:t,parent_location:n})},t.getFacilities=function(t){return void 0===t&&(t={}),e.getJson.call(this,"/locations",t)},t.getSpecialistClinics=function(){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,o["a"].getConceptID("Specialist clinic")];case 1:return t=n.sent(),[2,e.getJson.call(this,"/concept_set",{id:t})]}}))}))},t.getRegions=function(){return e.getJson.call(this,"/regions")},t.getDistricts=function(t){return e.getJson.call(this,"/districts",{region_id:t,page_size:1e3})},t.getVillages=function(t,n){return void 0===n&&(n=""),e.getJson.call(this,"/villages",{traditional_authority_id:t,name:n})},t.getTraditionalAuthorities=function(t,n){return void 0===n&&(n=""),e.getJson.call(this,"/traditional_authorities",{district_id:t,name:n})},t}(i["d"])},5969:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("9ab4"),i=n("1c74"),o=n("9283"),a=n("5a0c"),c=n.n(a),s=function(e){function t(){var t=e.call(this)||this;return t.endDate="",t.startDate="",t.quarter="",t.date=i["d"].getSessionDate(),t.programID=i["d"].getProgramID(),t}return Object(r["c"])(t,e),t.prototype.getDateIntervalPeriod=function(){return o["a"].toStandardHisDisplayFormat(this.startDate)+" - "+o["a"].toStandardHisDisplayFormat(this.endDate)},t.prototype.setStartDate=function(e){this.startDate=e},t.prototype.setEndDate=function(e){this.endDate=e},t.prototype.setQuarter=function(e){this.quarter=e},t.prototype.getReport=function(e,t){return void 0===t&&(t={}),i["d"].getJson(e,this.buildRequest(t))},t.prototype.buildRequest=function(e){void 0===e&&(e={});var t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.quarter&&(t["quarter"]=this.quarter),Object(r["a"])(Object(r["a"])({},t),e)},t.getQuarterBounds=function(e){var t=function(t){return c()(e+"-"+t+"-01").daysInMonth()},n=function(t){return e+"-"+t+"-01 00:00"},r=function(n){return e+"-"+n+"-"+t(n)+" 00:00"};return{Q1:{qtr:1,start:n("01"),end:r("03")},Q2:{qtr:2,start:n("04"),end:r("06")},Q3:{qtr:3,start:n("07"),end:r("09")},Q4:{qtr:4,start:n("10"),end:r("12")}}},t.getQtrByDate=function(e){var t=this.getQuarterBounds(e.getFullYear());for(var n in t){var r=t[n],i=r.start,o=r.end;if(e>=new Date(i)&&e<=new Date(o))return t[n]}return null},t.buildQtrObj=function(e,t){var n=this.getQuarterBounds(t),r=n[e],i=r.start,o=r.end;return{start:i,end:o,name:e+" "+t}},t.getReportQuarters=function(e){void 0===e&&(e=5);var t=[],n=new Date,r=n.getFullYear(),i=r;n=new Date(i+"-"+(n.getMonth()+1)+"-"+n.getDate()+" 00:00");var o=this.getQtrByDate(n),a=o.qtr,c=0;4===a&&t.push(this.buildQtrObj("Q1",r+1));while(c<e)0===c&&a<4&&t.push(this.buildQtrObj("Q"+(a+1),r)),t.push(this.buildQtrObj("Q"+a,r)),a=a>0?a-=1:a,r=0==a?r-1:r,a=0==a?a+=4:a,c++;return t},t}(i["d"])},"5b4a":function(e,t,n){"use strict";n("9a5e")},"5cea":function(e,t,n){},"5e75":function(e,t,n){"use strict";var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("base-input"),s=Object(r["resolveComponent"])("view-port"),u=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"])]})),_:1}),Object(r["createVNode"])(u,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}var o=n("9ab4"),a=n("36ad"),c=n("db10"),s=n("2345"),u=n("6be2"),l=n("0a79"),d=n("51c8"),p=Object(r["defineComponent"])({components:{BaseInput:a["a"],HisKeyboard:c["a"],ViewPort:l["a"]},mixins:[d["a"]],data:function(){return{value:"",keyboard:u["d"]}},activated:function(){this.$emit("onFieldActivated",this),"boolean"===typeof this.config.noChars&&(this.keyboard=this.config.noChars?u["d"]:u["f"])},mounted:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return this.setDefaultValue(),this.config.keypad&&(this.keyboard=this.config.keypad),[4,this.setDefaultValue()];case 1:return e.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return"function"!==typeof this.defaultValue?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),e&&(this.value=""+e),t.label=2;case 2:return[2]}}))}))},onKbValue:function(e){this.value=e},keypress:function(e){this.value=Object(s["a"])(e,this.value)}},watch:{value:function(e){this.$emit("onValue",e?{label:e,value:e}:null)},clear:function(){this.value=""}}}),b=n("d959"),h=n.n(b);const f=h()(p,[["render",i]]);t["a"]=f},"5fd1":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a23"),i=Object(r["withScopeId"])("data-v-56617348"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-segment-button"),d=Object(r["resolveComponent"])("ion-segment"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),h=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(h,{showFull:!0},{default:i((function(){return[Object(r["createVNode"])(b,{class:"view-port-content"},{default:i((function(){return[Object(r["createVNode"])(p,null,{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{size:e.getSize,key:n},{default:i((function(){return[Object(r["createVNode"])(b,null,{default:i((function(){return[Object(r["createVNode"])(p,null,{default:i((function(){return[Object(r["createVNode"])(s,{size:"6"},{default:i((function(){return[Object(r["createVNode"])("h2",null,Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(s,{size:"6"},{default:i((function(){return[Object(r["createVNode"])(d,{mode:"ios",modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},onIonChange:function(){return e.onChange(t)}},{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.other.values,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"yes-no",key:t,value:e.value},{default:i((function(){return[Object(r["createVNode"])(u,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue","onIonChange"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["size"])})),128))]})),_:1})]})),_:1})]})),_:1})])})),a=(n("a623"),n("4de4"),n("d81d"),n("9ab4")),c=n("82a9"),s=n("8a30"),u=Object(r["defineComponent"])({components:{IonRow:s["F"],IonGrid:s["p"],IonLabel:s["v"],IonCol:s["m"],IonSegmentButton:s["H"],IonSegment:s["G"]},name:"HisMultiYesNo",mixins:[c["a"]],watch:{clear:function(){this.listData=this.listData.map((function(e){return e.value="",e}))}},computed:{getSize:function(){return this.listData.length>6?"6":"12"}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e,t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return this.$emit("onFieldActivated",this),e=this.listData.filter((function(e){return""!=e.value})),t=this,[4,this.options(this.fdata,e)];case 1:return t.listData=n.sent(),[2]}}))}))},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return Object(a["b"])(t,void 0,void 0,(function(){var t,n,r;return Object(a["d"])(this,(function(i){switch(i.label){case 0:return t=this.listData.map((function(e){return""!=e.value})),"function"!==typeof this.onValue?[3,2]:[4,this.onValue(e,this.fdata,this.cdata)];case 1:if(n=i.sent(),!n)return e.value="",[2];i.label=2;case 2:return"function"!==typeof this.onValueUpdate?[3,4]:(r=this,[4,this.onValueUpdate(this.listData,e)]);case 3:r.listData=i.sent(),i.label=4;case 4:return t.every(Boolean)&&this.$emit("onValue",this.listData),[2]}}))}))}))}}}),l=(n("bd2b"),n("d959")),d=n.n(l);const p=d()(u,[["render",o],["__scopeId","data-v-56617348"]]);t["a"]=p},"5ffe":function(e,t,n){"use strict";n("e7ec")},6009:function(e,t,n){},"61d5":function(e,t,n){"use strict";n("c1ba")},6460:function(e,t,n){},"65c8":function(e,t,n){"use strict";n("55eb")},"68ed":function(e,t,n){},"69b6":function(e,t,n){"use strict";n("a441")},"69cf":function(e,t,n){"use strict";var r=n("7a23"),i={key:0,style:{color:"red","font-weight":"bold"}};function o(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("base-input"),u=Object(r["resolveComponent"])("view-port"),l=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{value:e.value,onOnValue:e.onKbValue},null,8,["value","onOnValue"]),e.errors?(Object(r["openBlock"])(),Object(r["createBlock"])("span",i," **"+Object(r["toDisplayString"])(e.errors)+"** ",1)):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(l,{kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["kbConfig","onKeyPress"])],64)}n("ac1f"),n("466d");var a=n("9ab4"),c=n("36ad"),s=n("db10"),u=n("2345"),l=n("6be2"),d=n("0a79"),p=n("3800"),b=n("51c8"),h=Object(r["defineComponent"])({components:{BaseInput:c["a"],HisKeyboard:s["a"],ViewPort:d["a"]},mixins:[b["a"]],data:function(){return{value:"",errors:"",minDays:1,maxDays:30,keyboard:[]}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=p["g"],this.config?(this.config.year&&this.config.month&&(e=this.generateKeypad(this.config.year(this.fdata),this.config.month(this.fdata))),this.config.keyboardActions?this.keyboard=[e,this.config.keyboardActions]:this.keyboard=[e,[["Unknown"]]]):this.keyboard=l["b"],[4,this.setDefaultValue()];case 1:return t.sent(),[2]}}))}))},methods:{onKbValue:function(e){this.value=e,this.emitValue()},keypress:function(e){this.value=Object(u["a"])(e,""),this.emitValue()},emitValue:function(){this.errors="";var e=this.value;if(e)if(e.match(/unknown/i))this.$emit("onValue",{label:"Unknown",value:"Unknown"});else{if(isNaN(e))return this.errors="Invalid number",void this.$emit("onValue",null);e=parseInt(e),e<this.minDays||e>this.maxDays?(this.errors="Value number is out of range",this.$emit("onValue",null)):this.$emit("onValue",{label:e,value:e})}else this.$emit("onValue",null)},generateKeypad:function(e,t){var n=[[]];this.maxDays=new Date(e,t,0).getDate();for(var r=0,i=0,o=0;o<this.maxDays;++o)i>7&&(++r,n[r]=[],i=0),n[r].push(""+(o+1)),++i;return n},setDefaultValue:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return!this.defaultValue||this.value?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),e&&(this.value=e,this.emitValue()),t.label=2;case 2:return[2]}}))}))}},watch:{clear:function(){this.value=""}}}),f=n("d959"),m=n.n(f);const g=m()(h,[["render",o]]);t["a"]=g},"6a5f":function(e,t,n){},"6b5c":function(e,t,n){},"6b64":function(e,t,n){},"6be2":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n("3800"),i=[r["k"],[["","Delete"]]],o=[r["i"],[["Delete"]]],a=[r["i"],[["N/A"],["Delete","Unknown"]]],c=[r["i"],[["Delete"]]],s=[r["i"],[["Unknown","Delete"],["Qwerty","A-Z"]]],u=[r["g"],[["Unknown"]]],l=[r["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],d=[r["j"],[["","Delete"],["","0-9"],["?123","Unknown"]]],p=[{btn:"0-9",keyboard:s},{btn:"?123",keyboard:i},{btn:"A-Z",keyboard:l},{btn:"Qwerty",keyboard:d}]},"6d62":function(e,t,n){},"6ef2":function(e,t,n){"use strict";n("a80d")},"6ef9":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-7c08c710"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-input"),u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("base-input"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid"),b=Object(r["resolveComponent"])("ion-label"),h=Object(r["resolveComponent"])("ion-item"),f=Object(r["resolveComponent"])("ion-list"),m=Object(r["resolveComponent"])("view-port"),g=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(m,{showFull:!1},{default:i((function(){return[Object(r["createVNode"])(p,null,{default:i((function(){return[Object(r["createVNode"])(d,null,{default:i((function(){return[e.prependValue?(Object(r["openBlock"])(),Object(r["createBlock"])(u,{key:0,"size-md":"4"},{default:i((function(){return[Object(r["createVNode"])(s,{readonly:e.isReadOnly,value:e.prependValue,class:"input_display",disabled:!0},null,8,["readonly","value"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(u,{"size-md":""},{default:i((function(){return[Object(r["createVNode"])(l,{type:e.inputType,value:e.value,onOnValue:e.onKbValue},null,8,["type","value","onOnValue"])]})),_:1})]})),_:1})]})),_:1}),e.listData.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,class:"view-port-content"},{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.listData,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{button:"",key:n,onClick:function(n){return e.onselect(t)}},{default:i((function(){return[Object(r["createVNode"])(b,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(g,{initalKeyboardName:e.initalKeyboardName,kbConfig:e.keyboard,onKeyPress:e.keypress,disabled:!1},null,8,["initalKeyboardName","kbConfig","onKeyPress"])],64)})),a=(n("d3b7"),n("25f0"),n("9ab4")),c=n("36ad"),s=n("db10"),u=n("2345"),l=n("6be2"),d=n("0a79"),p=n("51c8"),b=n("2ef0"),h=n("8a30"),f=Object(r["defineComponent"])({components:{IonInput:h["t"],IonRow:h["F"],IonCol:h["m"],IonGrid:h["p"],BaseInput:c["a"],HisKeyboard:s["a"],ViewPort:d["a"],IonList:h["w"],IonItem:h["u"],IonLabel:h["v"]},mixins:[p["a"]],data:function(){return{value:"",prependValue:"",initalKeyboardName:"",keyboard:{},listData:[]}},computed:{inputType:function(){return this.config&&"inputType"in this.config?this.config.inputType:"text"}},created:function(){var e;return Object(a["b"])(this,void 0,void 0,(function(){return Object(a["d"])(this,(function(t){return this.keyboard=(null===(e=this.config)||void 0===e?void 0:e.customKeyboard)||l["g"],this.config&&this.config.initialKb&&(this.initalKeyboardName=this.config.initialKb),[2]}))}))},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),this.config&&this.config.prependValue?(e=this,[4,this.config.prependValue(this.fdata)]):[3,2];case 1:e.prependValue=t.sent(),t.label=2;case 2:return[4,this.setDefaultValue()];case 3:return t.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return!this.defaultValue||this.value?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),e&&(Object(b["isPlainObject"])(e)?(this.emitValue(e),this.value=e.value.toString()):(this.value=e,this.emitValue({label:e,value:e}))),t.label=2;case 2:return[2]}}))}))},emitValue:function(e){return Object(a["b"])(this,void 0,void 0,(function(){var t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return""===e.value?(this.value="",[2,this.$emit("onValue",null)]):this.onValue?[4,this.onValue(e)]:[3,2];case 1:if(t=n.sent(),!t)return[2];n.label=2;case 2:return e.value=this.prependValue?""+this.prependValue+e.value:e.value,this.value=e.label,this.$emit("onValue",e),[2]}}))}))},onselect:function(e){return Object(a["b"])(this,void 0,void 0,(function(){return Object(a["d"])(this,(function(t){switch(t.label){case 0:return[4,this.emitValue(e)];case 1:return t.sent(),[2]}}))}))},onKbValue:function(e){return Object(a["b"])(this,void 0,void 0,(function(){return Object(a["d"])(this,(function(t){switch(t.label){case 0:return[4,this.emitValue({label:e,value:e})];case 1:return t.sent(),[2]}}))}))},keypress:function(e){return Object(a["b"])(this,void 0,void 0,(function(){var t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return t=Object(u["a"])(e,this.value,this.config.showLowerCasesOnly),[4,this.emitValue({label:t,value:t})];case 1:return n.sent(),[2]}}))}))}},watch:{value:{handler:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.options?(e=this,[4,this.options(this.fdata)]):[3,2];case 1:e.listData=t.sent(),t.label=2;case 2:return[2]}}))}))},deep:!0},clear:function(){this.value=""}}}),m=(n("65c8"),n("d959")),g=n.n(m);const O=g()(f,[["render",o],["__scopeId","data-v-7c08c710"]]);t["a"]=O},"6f72":function(e,t,n){"use strict";n("2236")},"71c3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("1c74"),o=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.create=function(e){return this.postJson("drug_orders",e)},t.getDrugOrderHistory=function(e){return this.getJson("drug_orders",{patient_id:e})},t.getDrugOrders=function(e){return this.getJson("drug_orders",{patient_id:e,date:i["d"].getSessionDate(),program_id:i["d"].getProgramID()})},t.getLastDrugsReceived=function(e){return this.getJson("patients/"+e+"/last_drugs_received",{date:this.getSessionDate(),program_id:this.getProgramID()})},t.getDrugDosages=function(e,t,n){void 0===n&&(n=this.getSessionDate());var r={drug_id:t,date:n};return this.getJson("programs/"+this.getProgramID()+"/patients/"+e+"/drug_doses",r)},t.getOrderByPatient=function(t,n){return this.getJson("/drug_orders",Object(r["a"])({patient_id:t,program_id:e.getProgramID.call(this)},n))},t}(i["d"])},"71f2":function(e,t,n){"use strict";n("d3b7"),n("ddb0");var r=n("7a23"),i=Object(r["withScopeId"])("data-v-4fba6988"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-segment-button"),d=Object(r["resolveComponent"])("ion-segment"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),h=Object(r["resolveComponent"])("view-port");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(h,{showFull:!1},{default:i((function(){return[Object(r["createVNode"])(b,null,{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(n,o){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{button:"",key:o},{default:i((function(){return[Object(r["createVNode"])(s,{size:"6"},{default:i((function(){return[Object(r["createVNode"])("h1",null,Object(r["toDisplayString"])(n.label),1)]})),_:2},1024),Object(r["createVNode"])(s,{size:"6"},{default:i((function(){return[Object(r["createVNode"])(d,{mode:"ios",onIonChange:t[1]||(t[1]=function(t){return e.segmentChanged(t)}),modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.value=t})},{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n.values,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"yes-no",key:t,value:e.value},{default:i((function(){return[Object(r["createVNode"])(u,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024)]})),_:2},1032,["value"])})),128))]})),_:2},1032,["modelValue"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])})),a=n("9ab4"),c=n("82a9"),s=n("8a30"),u=Object(r["defineComponent"])({components:{IonRow:s["F"],IonGrid:s["p"],IonLabel:s["v"],IonCol:s["m"],IonSegmentButton:s["H"],IonSegment:s["G"]},name:"HisSelect",mixins:[c["a"]],watch:{clear:function(){this.value=""},value:{handler:function(e){this.$emit("onValue",e)},immediate:!0}},data:function(){return{value:""}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[2]}}))}))},mounted:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return"function"!==typeof this.defaultValue?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),null==e&&void 0==e||(this.value=""+e),t.label=2;case 2:return[2]}}))}))},methods:{onselect:function(e){this.$emit("onValue",e)},segmentChanged:function(e){this.onselect(e.detail.value)}}}),l=(n("fca8"),n("d959")),d=n.n(l);const p=d()(u,[["render",o],["__scopeId","data-v-4fba6988"]]);t["a"]=p},7318:function(e,t,n){},7365:function(e,t,n){"use strict";n("99af"),n("4de4"),n("d81d"),n("13d5"),n("b0c0"),n("d3b7"),n("07ac"),n("ac1f"),n("25f0"),n("3ca3"),n("1276"),n("ddb0");var r,i=n("9ab4"),o=n("7a23"),a=n("23e6"),c=n("ad60"),s=n("74f4"),u=n("c1e4"),l=n("2ef0"),d=n("0fa1"),p=n("7f35"),b=n("9283");(function(e){e["SET_PROVIDER"]="SET_PROVIDER",e["CHANGE_SESSION_DATE"]="change_session_date",e["GO_TO_PATIENT_DASHBOARD"]="go_to_patient_dashboard",e["CHANGE_PATIENT_OUTCOME"]="change_outcome",e["CONTINUE"]="continue",e["EXIT"]="exit"})(r||(r={}));var h=function(e){return b["a"].toStandardHisDisplayFormat(e)},f={"Warn if attempting to create new encounters for a deceased patient":{priority:1,actions:{alert:function(e){var t=e.outcomeStartDate;return Object(i["b"])(void 0,void 0,void 0,(function(){var e;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(p["a"])("Data Integrity Issue Found","Patient died on "+h(t),"Proceeding with this outcome might affect accuracy of some reports",[{name:"Cancel",slot:"end",color:"primary"},{name:"Change outcome",slot:"end",color:"primary"},{name:"Continue Anyway",slot:"end",color:"danger"}])];case 1:return e=n.sent(),[2,"Cancel"===e?r.GO_TO_PATIENT_DASHBOARD:"Change outcome"===e?r.CHANGE_PATIENT_OUTCOME:r.CONTINUE]}}))}))}},conditions:{outcome:function(e){return"Patient died"===e},outcomeStartDate:function(e,t){var n=t.sessionDate;return n>=e}}},"A patient's date of birth must not be less than Session Date":{priority:2,actions:{alert:function(e){var t=e.birthDate,n=e.sessionDate;return Object(i["b"])(void 0,void 0,void 0,(function(){var e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return[4,Object(p["a"])("Data integrity issue found","","Session date "+h(n)+" is less than birth date of "+h(t),[{name:"Cancel",slot:"end",color:"danger"},{name:"Change session date",slot:"end",color:"success"}])];case 1:return e=i.sent(),[2,"Change session date"===e?r.CHANGE_SESSION_DATE:r.GO_TO_PATIENT_DASHBOARD]}}))}))}},conditions:{birthDate:function(e,t){var n=t.sessionDate;return n<e}}},"Select Encounter provider when in back data entry":{priority:3,actions:{selection:function(e){var t=e.providers,n=e.encounterName,o=e.sessionDate,a=e.apiDate;return Object(i["b"])(void 0,void 0,void 0,(function(){var e;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return[4,Object(p["c"])("Please select a provider for "+n,"BDE: "+h(o)+" | Current: "+h(a),t,[{name:"Confirm",slot:"end",role:"action"}])];case 1:return e=i.sent(),[2,{value:e.selection,flowState:r.SET_PROVIDER}]}}))}))}},conditions:{isBdeMode:function(e){return e}}}},m=n("c21d"),g=n("7920"),O=Object(o["defineComponent"])({components:{HisStandardForm:g["a"]},data:function(){return{patient:{},fields:[],patientID:"",providerID:-1,providers:[],facts:{sessionDate:"",apiDate:"",encounterName:"N/A",providers:[],isBdeMode:!1,birthDate:"",outcome:"",outcomeStartDate:""},ready:!1}},watch:{$route:{handler:function(e){return Object(i["b"])(this,void 0,void 0,(function(){var t;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return e.params.patient_id&&this.patientID!=e.params.patient_id?(this.patientID=e.params.patient_id,[4,a["a"].findByID(this.patientID)]):[3,4];case 1:return t=n.sent(),this.patient=new a["a"](t),[4,this.setEncounterFacts()];case 2:return n.sent(),[4,this.checkEncounterGuidelines()];case 3:n.sent(),this.ready=!0,n.label=4;case 4:return[2]}}))}))},immediate:!0,deep:!0}},computed:{cancelDestination:function(){return this.patientDashboardUrl()}},methods:{runflowState:function(e,t){var n=this;void 0===t&&(t=null);var i={};if(i[r.SET_PROVIDER]=function(e){var t=e.split(" ")[0],i=Object(l["find"])(n.providers,{username:t});return i&&(n.providerID=i.person_id),r.CONTINUE},i[r.CHANGE_SESSION_DATE]=function(){return n.$router.push("/session/date?patient_dashboard_redirection_id="+n.patientID),r.EXIT},i[r.CHANGE_PATIENT_OUTCOME]=function(){return n.$router.push("/patient/programs/"+n.patientID),r.EXIT},i[r.GO_TO_PATIENT_DASHBOARD]=function(){return n.gotoPatientDashboard(),r.EXIT},e in i)return i[e](t)},checkEncounterGuidelines:function(){var e,t,n,o;return Object(i["b"])(this,void 0,void 0,(function(){var a,c,s,u,l,d,p,b,h;return Object(i["d"])(this,(function(i){switch(i.label){case 0:for(s in a=Object(m["a"])(this.facts,f),c=[],a)c.push(s);u=0,i.label=1;case 1:return u<c.length?(l=c[u],d=a[l],(null===(e=null===d||void 0===d?void 0:d.actions)||void 0===e?void 0:e.alert)?(b=this.runflowState,[4,null===(t=null===d||void 0===d?void 0:d.actions)||void 0===t?void 0:t.alert(this.facts)]):[3,3]):[3,6];case 2:if(p=b.apply(this,[i.sent()]),p===r.EXIT)return[2];i.label=3;case 3:return(null===(n=null===d||void 0===d?void 0:d.actions)||void 0===n?void 0:n.selection)?[4,null===(o=null===d||void 0===d?void 0:d.actions)||void 0===o?void 0:o.selection(this.facts)]:[3,5];case 4:h=i.sent(),this.runflowState(h.flowState,h.value),i.label=5;case 5:return u++,[3,1];case 6:return[2]}}))}))},setEncounterFacts:function(){return Object(i["b"])(this,void 0,void 0,(function(){var e,t;return Object(i["d"])(this,(function(n){switch(n.label){case 0:return[4,new s["a"](this.patientID).getProgram()];case 1:return e=n.sent(),this.facts.sessionDate=c["a"].getSessionDate(),this.facts.apiDate=c["a"].getCachedApiDate(),this.facts.isBdeMode=c["a"].isBDE(),this.facts.birthDate=this.patient.getBirthdate(),this.facts.outcome=e.outcome,this.facts.outcomeStartDate=e.startDate,this.facts.encounterName=this.$route.name?this.$route.name.toString().toUpperCase():"N/A",c["a"].isBDE()?(t=this,[4,u["a"].getUsers()]):[3,3];case 2:t.providers=n.sent(),this.facts.providers=this.providers.map((function(e){return e.username+"                     ("+e.person.names[0].given_name+" "+e.person.names[0].family_name+")"})),n.label=3;case 3:return[2]}}))}))},toOption:function(e,t){return void 0===t&&(t={}),{label:e,value:e,other:t}},mapStrToOptions:function(e){return e.map((function(e){return{label:e,value:e}}))},patientDashboardUrl:function(){return"/patient/dashboard/"+this.patientID},gotoPatientDashboard:function(){return this.$router.push({path:this.patientDashboardUrl()})},nextTask:function(){return Object(d["b"])(this.patientID,this.$router)},yesNoOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},mapOptions:function(e){return e.map((function(e){return{label:e,value:e}}))},yesNoUnknownOptions:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"},{label:"Unknown",value:"Unknown"}]},resolveObs:function(e,t){void 0===t&&(t="");var n=Object.values(e).filter((function(e){return e&&(e.tag===t||""===t)})).reduce((function(e,t){var n=t.obs?t.obs:t;return Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]);return Promise.all(n)},inArray:function(e,t){try{return e.filter((function(e){return t(e)})).length>0}catch(n){return!1}},validateSeries:function(e){try{for(var t in e){var n=e[t]();if(n)return n}}catch(r){return[r]}}}});const v=O;t["a"]=v},"74f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("4de4"),n("d81d"),n("b0c0");var r=n("9ab4"),i=n("ad60"),o=n("cc6f"),a=n("b89f"),c=n("2ef0"),s=function(e){function t(t){var n=e.call(this)||this;return n.patientId=t,n.patientProgramId=-1,n.programId=i["a"].getProgramID(),n.stateId=-1,n.programDate=i["a"].getSessionDate(),n.stateDate="",n}return Object(r["c"])(t,e),t.prototype.getProgramId=function(){return this.programId},t.prototype.getStateDate=function(){return this.stateDate},t.prototype.getProgramDate=function(){return this.programDate},t.prototype.getPatientProgramId=function(){return this.patientProgramId},t.prototype.getPrograms=function(){return i["a"].getPatientPrograms(this.patientId)},t.prototype.getProgram=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e={program:"N/A",outcome:"N/A",startDate:"",endDate:""},[4,this.getPrograms()];case 1:return t=r.sent(),Object(c["isEmpty"])(t)?[2,e]:(n=t.filter((function(e){return e.program.program_id===i["a"].getProgramID()})).map((function(e){var t=e.patient_states.filter((function(e){return null===e.end_date})),n="",r="",i="N/A";return Object(c["isEmpty"])(t)||(n=t[0].start_date,r=t[0].end_date,i=t[0].name),{program:e.program.name,outcome:i,startDate:n,endDate:r}})),[2,Object(c["isEmpty"])(n)?e:n[0]])}}))}))},t.prototype.getProgramStates=function(){return i["a"].getPatientStates(this.patientId,this.programId)},t.prototype.voidProgram=function(e){return i["a"].voidProgram(this.patientProgramId,e)},t.prototype.voidState=function(e){return i["a"].voidState(this.patientId,this.programId,this.stateId,e)},t.prototype.enrollProgram=function(){return i["a"].enrollProgram(this.patientId,this.programId,this.programDate)},t.prototype.printTransferout=function(){var e=new a["a"];return e.printLbl("/programs/"+this.programId+"/patients/"+this.patientId+"/labels/transfer_out")},t.prototype.transferOutEncounter=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=new o["a"](this.patientId,119),t.setDate(this.stateDate),[4,t.createEncounter()];case 1:if(n=r.sent(),!n)throw"Unable to transfer out encounter";return[2,t.saveValueTextObs("Transfer to",e.name)]}}))}))},t.prototype.updateState=function(){return i["a"].createState(this.patientId,this.programId,{state:this.stateId,date:this.stateDate})},t.prototype.setProgramDate=function(e){this.programDate=e},t.prototype.setStateDate=function(e){this.stateDate=e},t.prototype.setPatientProgramId=function(e){this.patientProgramId=e},t.prototype.setProgramId=function(e){this.programId=e},t.prototype.setStateId=function(e){this.stateId=e},t}(i["a"])},7626:function(e,t,n){"use strict";n("22dc")},"78ac":function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="78ac"},"790b":function(e,t,n){"use strict";n("7318")},7920:function(e,t,n){"use strict";var r=n("7a23");function i(e,t,n,i,o,a){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var o=n("9441"),a=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:o["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),c=n("d959"),s=n.n(c);const u=s()(a,[["render",i]]);t["a"]=u},7957:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),i=n("8158"),o=n("9283"),a=n("2ef0"),c=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.create=function(t){return e.postJson.call(this,"/observations",t)},t.saveObs=function(e,t){return this.create({encounter_id:e,observations:[t]})},t.saveObsArray=function(e,t){return this.create({encounter_id:e,observations:t})},t.buildValueCoded=function(e,t,n){return void 0===n&&(n=this.getSessionDate()),Object(r["b"])(this,void 0,void 0,(function(){var o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(e,!0)];case 1:return o=r.sent(),[4,i["a"].getConceptID(t,!0)];case 2:return a=r.sent(),[2,{concept_id:o,value_coded:a,obs_datetime:n}]}}))}))},t.buildValueCodedFromConceptId=function(e,t,n){return void 0===n&&(n=this.getSessionDate()),Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(e,!0)];case 1:return o=r.sent(),[2,{concept_id:o,value_coded:t,obs_datetime:n}]}}))}))},t.buildValueText=function(e,t,n){return void 0===n&&(n=this.getSessionDate()),Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(e,!0)];case 1:return o=r.sent(),[2,{concept_id:o,value_text:t,obs_datetime:n}]}}))}))},t.buildValueNumber=function(e,t,n,o,a){return void 0===n&&(n=null),void 0===o&&(o=null),void 0===a&&(a=this.getSessionDate()),Object(r["b"])(this,void 0,void 0,(function(){var c,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(e,!0)];case 1:return c=r.sent(),s={concept_id:c,value_numeric:t,obs_datetime:a},n&&Object.assign(s,{value_modifier:n}),o&&Object.assign(s,{order_id:o}),[2,s]}}))}))},t.buildValueDate=function(e,t,n){return void 0===n&&(n=this.getSessionDate()),Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(e,!0)];case 1:return o=r.sent(),[2,{concept_id:o,value_datetime:t,obs_datetime:n}]}}))}))},t.getObservations=function(t,n){return e.getJson.call(this,"/observations?person_id="+t+"&concept_id="+n)},t.getObs=function(t){return e.getJson.call(this,"/observations",t)},t.getFirstObs=function(e,n,o,c){return void 0===o&&(o=this.getSessionDate()),void 0===c&&(c=!0),Object(r["b"])(this,void 0,void 0,(function(){var s,u,l,d,p;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(n,c)];case 1:return s=r.sent(),[4,t.getObs({person_id:e,concept_id:s,date:o,page_size:1})];case 2:return u=r.sent(),Object(a["isEmpty"])(u)?[3,5]:(l=u[0],"number"!==typeof l["value_coded"]?[3,4]:(d=l,p="value_coded",[4,i["a"].getConceptName(l["value_coded"])]));case 3:d[p]=r.sent(),r.label=4;case 4:return[2,l];case 5:return[2]}}))}))},t.obsInValidPeriod=function(e){return e&&i["a"].getSessionDate()>=o["a"].toStandardHisFormat(e.obs_datetime)},t.getFirstObsValue=function(e,t,n,i,o){return void 0===i&&(i=this.getSessionDate()),void 0===o&&(o=!0),Object(r["b"])(this,void 0,void 0,(function(){var c;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getFirstObs(e,t,i,o)];case 1:return c=r.sent(),Object(a["isEmpty"])(c)?[2]:[2,c[n]]}}))}))},t.getAll=function(e,t,n,o){return void 0===n&&(n=this.getSessionDate()),void 0===o&&(o=!0),Object(r["b"])(this,void 0,void 0,(function(){var c,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getConceptID(t,o)];case 1:return c=r.sent(),[4,this.getObs({person_id:e,concept_id:c,date:n})];case 2:return s=r.sent(),Object(a["isEmpty"])(s)?[2]:[2,s]}}))}))},t.getFirstValueText=function(e,t,n,r){return void 0===n&&(n=this.getSessionDate()),void 0===r&&(r=!0),this.getFirstObsValue(e,t,"value_text",n,r)},t.getFirstValueCoded=function(e,t,n,r){return void 0===n&&(n=this.getSessionDate()),void 0===r&&(r=!0),this.getFirstObsValue(e,t,"value_coded",n,r)},t.getFirstValueNumber=function(e,t,n,r){return void 0===n&&(n=this.getSessionDate()),void 0===r&&(r=!0),this.getFirstObsValue(e,t,"value_numeric",n,r)},t.getFirstObsDatetime=function(e,t,n,r){return void 0===n&&(n=this.getSessionDate()),void 0===r&&(r=!0),this.getFirstObsValue(e,t,"obs_datetime",n,r)},t.resolvePrimaryValue=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return n="",null!=t.value_datetime&&(n=o["a"].toStandardHisDisplayFormat(t.value_datetime)),null!=t.value_text&&(n=t.value_text),null!=t.value_numeric&&(n=t.value_numeric),null==t.value_coded?[3,2]:[4,e.getConceptName.call(this,t.value_coded)];case 1:n=r.sent(),r.label=2;case 2:return null!=t.value_modifier&&(n=n+" "+t.value_modifier),[2,n]}}))}))},t}(i["a"])},"7d9b":function(e,t,n){"use strict";n("3b81")},"7e31":function(e,t,n){"use strict";n("c636")},"7e73":function(e,t,n){"use strict";n("13d5"),n("fb6a"),n("b64b");function r(e,t){return void 0===t&&(t=2),e.reduce((function(n,r,i){return i%t===0&&n.push(e.slice(i,i+t)),n}),[])}function i(e,t){return Object.keys(e).sort((function(e,n){return t(e,n)})).reduce((function(t,n){return t[n]=e[n],t}),{})}t["a"]={convertArrayToTurples:r,orderObj:i}},"7e82":function(e,t,n){"use strict";n("be50")},"7f35":function(e,t,n){"use strict";n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return B}));var r=n("9ab4"),i=n("7a23");function o(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("action-header"),s=Object(i["resolveComponent"])("his-table"),u=Object(i["resolveComponent"])("ion-content"),l=Object(i["resolveComponent"])("action-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(i["createVNode"])(u,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(s,{columns:e.columns,rowColors:e.rowColors,rows:e.rows},null,8,["columns","rowColors","rows"])]})),_:1}),Object(i["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var a=n("a3a5"),c=n("8efc"),s=Object(i["defineComponent"])({mixins:[c["a"]],components:{HisTable:a["a"]},props:{rowColors:{type:Object},columns:{type:Object,required:!0},rows:{type:Object,required:!0}}}),u=n("d959"),l=n.n(u);const d=l()(s,[["render",o]]);var p=d,b=Object(i["withScopeId"])("data-v-1e653d9c");Object(i["pushScopeId"])("data-v-1e653d9c");var h={class:"info-content"};Object(i["popScopeId"])();var f=b((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("action-header"),s=Object(i["resolveComponent"])("ion-content"),u=Object(i["resolveComponent"])("action-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(i["createVNode"])(s,null,{default:b((function(){return[Object(i["createVNode"])("div",h,[Object(i["createVNode"])("h3",{class:e.color},Object(i["toDisplayString"])(e.bodyTitle),3),Object(i["createVNode"])("p",{class:"description",innerHTML:e.bodyText},null,8,["innerHTML"])])]})),_:1}),Object(i["createVNode"])(u,{buttons:e.actionButtons},null,8,["buttons"])],64)})),m=Object(i["defineComponent"])({mixins:[c["a"]],props:{bodyTitle:{type:String,required:!0},bodyText:{type:String,required:!1}}});n("fa9e");const g=l()(m,[["render",f],["__scopeId","data-v-1e653d9c"]]);var O=g,v=Object(i["withScopeId"])("data-v-0668ac5c"),_=v((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("action-header"),s=Object(i["resolveComponent"])("ion-radio"),u=Object(i["resolveComponent"])("ion-label"),l=Object(i["resolveComponent"])("ion-item"),d=Object(i["resolveComponent"])("ion-radio-group"),p=Object(i["resolveComponent"])("ion-list"),b=Object(i["resolveComponent"])("ion-content"),h=Object(i["resolveComponent"])("action-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(i["createVNode"])(b,{class:"ion-text-center"},{default:v((function(){return[Object(i["createVNode"])(p,null,{default:v((function(){return[Object(i["createVNode"])(d,{value:e.activeLabel},{default:v((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.list,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{onClick:function(n){return e.onclick(t)},key:n},{default:v((function(){return[Object(i["createVNode"])(s,{slot:"start",value:t},null,8,["value"]),Object(i["createVNode"])(u,null,{default:v((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1}),Object(i["createVNode"])(h,{buttons:e.buttons},null,8,["buttons"])],64)})),j=(n("d81d"),n("b0c0"),n("ac1f"),n("466d"),n("8a30")),y=n("b5e4"),w=Object(i["defineComponent"])({components:{IonList:j["w"],IonItem:j["u"],IonContent:j["n"],IonRadio:j["C"],IonRadioGroup:j["D"]},mixins:[c["a"]],data:function(){return{activeLabel:""}},props:{list:{type:Object,required:!0}},methods:{onclick:function(e){this.activeLabel=e}},computed:{buttons:function(){var e=this;return this.actionButtons.map((function(t){return Object(r["a"])(Object(r["a"])({},t),{onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return t.role&&t.role.match(/action/i)&&!this.activeLabel?[2,Object(y["e"])("Please select one of the options")]:[4,j["U"].dismiss({selection:this.activeLabel,action:t.name})];case 1:return e.sent(),[2]}}))}))}})}))}}});n("2be8");const N=l()(w,[["render",_],["__scopeId","data-v-0668ac5c"]]);var C=N,V=Object(i["withScopeId"])("data-v-12747ea0"),D=V((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("action-header"),s=Object(i["resolveComponent"])("ion-content"),u=Object(i["resolveComponent"])("action-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(c,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),Object(i["createVNode"])(s,null,{default:V((function(){return[Object(i["createVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.list,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{key:t},[Object(i["createVNode"])("span",{innerHTML:e},null,8,["innerHTML"])])})),128))])]})),_:1}),Object(i["createVNode"])(u,{buttons:e.actionButtons},null,8,["buttons"])],64)})),k=Object(i["defineComponent"])({mixins:[c["a"]],props:{list:{type:Array,required:!0}}});n("fd60");const T=l()(k,[["render",D],["__scopeId","data-v-12747ea0"]]);var I=T;function x(e,t,n,i,o,a,c){return void 0===a&&(a=""),void 0===c&&(c=[]),Object(r["b"])(this,void 0,void 0,(function(){var s,u;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,j["U"].create({component:p,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,subtitle:t,columns:n,rows:i,rowColors:c,actionButtons:o,color:a}})];case 1:return s=r.sent(),s.present(),[4,s.onDidDismiss()];case 2:return u=r.sent().data,[2,u.action]}}))}))}function S(e,t,n,i,o){return void 0===o&&(o=""),Object(r["b"])(this,void 0,void 0,(function(){var a,c;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,j["U"].create({component:I,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,subtitle:t,actionButtons:i,list:n,color:o}})];case 1:return a=r.sent(),a.present(),[4,a.onDidDismiss()];case 2:return c=r.sent().data,[2,c.action]}}))}))}function P(e,t,n,i,o){return void 0===o&&(o=""),Object(r["b"])(this,void 0,void 0,(function(){var a,c;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,j["U"].create({component:O,backdropDismiss:!1,cssClass:"action-sheet-modal",componentProps:{title:e,bodyTitle:t,bodyText:n,actionButtons:i,color:o}})];case 1:return a=r.sent(),a.present(),[4,a.onDidDismiss()];case 2:return c=r.sent().data,[2,c.action]}}))}))}function B(e,t,n,i,o,a){return void 0===o&&(o="darkred"),void 0===a&&(a="action-sheet-modal"),Object(r["b"])(this,void 0,void 0,(function(){var c,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,j["U"].create({component:C,backdropDismiss:!1,cssClass:a,componentProps:{title:e,subtitle:t,color:o,list:n,actionButtons:i}})];case 1:return c=r.sent(),c.present(),[4,c.onDidDismiss()];case 2:return s=r.sent().data,[2,s]}}))}))}},"7f47":function(e,t,n){"use strict";n("d1e2")},"80b3":function(e,t,n){"use strict";n("2879")},"80b5":function(e,t,n){"use strict";n("4de4"),n("d81d"),n("ac1f"),n("466d");var r=n("9ab4"),i=n("e86e"),o=n("d95e"),a=n("2706"),c=n("d10e"),s=n("b446"),u=n("9283"),l=n("23e6"),d=n("2ef0"),p=n("b5e4"),b=n("5713");function h(e){return e.map((function(e){return{label:e,value:e}}))}t["a"]={resolvePerson:function(e){var t={};for(var n in e){var i=e[n];Object(d["isPlainObject"])(i)&&"person"in i&&(Object(d["isPlainObject"])(i.person)?t=Object(r["a"])(Object(r["a"])({},t),i.person):t[n]=i["person"])}return t},getGivenNameField:function(){var e=this;return{id:"given_name",helpText:"First name",type:o["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return a["a"].isName(e)},options:function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return t.given_name?[4,c["a"].searchGivenName(t.given_name.value)]:[3,2];case 1:return e=n.sent(),[2,h(e)];case 2:return[2,[]]}}))}))}}},getFamilyNameField:function(){var e=this;return{id:"family_name",helpText:"Last name",type:o["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return a["a"].isName(e)},options:function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return t.family_name?[4,c["a"].searchFamilyName(t.family_name.value)]:[3,2];case 1:return e=n.sent(),[2,h(e)];case 2:return[2,[]]}}))}))}}},getGenderField:function(){return{id:"gender",helpText:"Gender",type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},validation:function(e){return a["a"].required(e)},options:function(){return[{label:"Female",value:"F"},{label:"Male",value:"M"}]}}},getDobConfig:function(){return{id:"birth_date",summaryLabel:"Date of Birth",helpText:"Birth",required:!0,minDate:function(){return u["a"].estimateDateFromAge(100)},maxDate:function(){return c["a"].getSessionDate()},estimation:{allowUnknown:!0,allowUnknownMonthDay:!0,estimationFieldType:s["a"].AGE_ESTIMATE_FIELD},computeValue:function(e,t){return{date:e,isEstimate:t,person:{birthdate:e,birthdate_estimated:t}}}}},getHomeRegionField:function(){return{id:"home_region",helpText:"Region of origin",type:o["b"].TT_SELECT,group:"person",requireNext:!1,computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(){return Object(i["d"])()}}},getHomeDistrictField:function(){return{id:"home_district",helpText:"Home District",type:o["b"].TT_SELECT,requireNext:!1,dynamicHelpText:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?"Home Country":"Home District"},computedValue:function(e){return{person:e.label}},options:function(e){return Object(i["a"])(e.home_region.value)}}},addCustomLocationBtnForTAorVillage:function(e,t){var n=this;return{name:"Add "+e,slot:"end",color:"success",onClick:function(i,o,a){return Object(r["b"])(n,void 0,void 0,(function(){var n,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return"string"!=typeof a.filter||a.filter.length<3?[2,Object(p["e"])("Please enter a valid "+e)]:Object(d["isEmpty"])(a.filtered)?[4,Object(p["a"])("Do you want to add "+e+" "+a.filter+"?")]:[2,Object(p["e"])("Can't add existing "+e)];case 1:return n=r.sent(),n?[4,b["a"].createAddress(e,a.filter,i[t].value)]:[2];case 2:return o=r.sent(),o?(a.filter=a.filter.toUpperCase(),[2]):[2,Object(p["e"])("Unable to add "+e)]}}))}))}}},getHomeTaField:function(){return{id:"home_traditional_authority",helpText:"Home TA",type:o["b"].TT_SELECT,requireNext:!1,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("TA","home_district")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e,t){return Object(i["f"])(e.home_district.value,t)}}},getHomeVillageField:function(){return{id:"home_village",helpText:"Home Village",type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("Village","home_traditional_authority")]},requireNext:!1,defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e,t){return Object(i["g"])(e.home_traditional_authority.value,t)}}},getCurrentRegionField:function(){return{id:"current_region",helpText:"Current Region",requireNext:!1,type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(){return Object(i["d"])()}}},getCurrentDistrictField:function(){return{id:"current_district",helpText:"District",requireNext:!1,type:o["b"].TT_SELECT,dynamicHelpText:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?"Current Country":"Current District"},computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e){return Object(i["a"])(e.current_region.value)}}},getCurrentTAfield:function(){return{id:"current_traditional_authority",helpText:"Current TA",requireNext:!1,type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("TA","current_district")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e,t){return Object(i["f"])(e.current_district.value,t)}}},getCurrentVillageField:function(){return{id:"current_village",helpText:"Current Village",requireNext:!1,type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("Village","current_traditional_authority")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e,t){return Object(i["g"])(e.current_traditional_authority.value,t)}}},getCellNumberField:function(){return{id:"cell_phone_number",helpText:"Cell phone number",group:"person",type:o["b"].TT_NUMBER,computedValue:function(e){return{person:e.label}},validation:function(e){if(!e||!e.value.match(/Unknown/i)&&!e.value.match(/n\/a/i))return a["a"].isMWPhoneNumber(e)},config:{noChars:!1}}},getLandmarkFields:function(){return[{id:"default_landmarks",proxyID:"landmark",helpText:"Closest Landmark or Plot Number",type:o["b"].TT_SELECT,appearInSummary:function(e){return"Other"!=e.default_landmarks.value},computedValue:function(e){return{person:e.value}},validation:function(e){return a["a"].required(e)},options:function(){return h(["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"])}},{id:"other_landmark",proxyID:"landmark",helpText:"Closest Landmark or Plot Number",type:o["b"].TT_NOTE,condition:function(e){return"Other"===e.default_landmarks.value},computedValue:function(e){return{person:e.value}},validation:function(e){return a["a"].required(e)}}]},getFacilityLocationField:function(){return{id:"location",helpText:"Please select facility name",type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return a["a"].required(e)},options:function(e,t){return void 0===t&&(t=""),Object(i["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}},getPersonAttributeOptions:function(e){var t=new l["a"](e),n=function(e,t){return t in e?e[t]():"-"};return{label:t.getPatientInfoString(),value:t.getID()||t.getNationalID(),other:{npid:t.getNationalID(),person:e,options:[{label:"National ID",value:n(t,"getNationalID")},{label:"Name",value:n(t,"getFullName")},{label:"Gender",value:n(t,"getGender")},{label:"Birthdate",value:n(t,"getBirthdate")},{label:"Home District",value:n(t,"getHomeDistrict")},{label:"Home Village",value:n(t,"getHomeVillage")},{label:"Current District",value:n(t,"getCurrentDistrict")},{label:"Current T/A",value:n(t,"getCurrentTA")}]}}}}},"80e3":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-471857e0");Object(r["pushScopeId"])("data-v-471857e0");var o={class:"report-table"},a={key:0,class:"stick-report-header"},c={key:1},s={key:2},u={key:0},l={key:1},d={key:0,class:"no-data-section vertically-align"},p={key:0},b={key:1};Object(r["popScopeId"])();var h=i((function(e,t,n,h,f,m){var g=Object(r["resolveComponent"])("ion-icon"),O=Object(r["resolveComponent"])("ion-skeleton-text"),v=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("table",o,[e.tableColumns?(Object(r["openBlock"])(),Object(r["createBlock"])("thead",a,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tableColumns,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,i){return Object(r["openBlock"])(),Object(r["createBlock"])("th",{key:i,colspan:t.colspan||0,onClick:function(n){return e.sort(i,t)},style:t.style,class:t.cssClass},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.th)+" ",1),e.sortedIndex===i&&t.sortable&&n+1===e.tableColumns.length?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,icon:"ascSort"===e.sortOrder?e.arrowUp:e.arrowDown},null,8,["icon"])):Object(r["createCommentVNode"])("",!0)],14,["colspan","onClick"])})),128))])})),128))])):Object(r["createCommentVNode"])("",!0),e.isLoading?(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",c,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.skeletonRows,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",{colspan:e.columnLength},[Object(r["createVNode"])(O,{animated:"",style:{width:"100%",height:"30px"}})],8,["colspan"])])})),128))])):Object(r["createCommentVNode"])("",!0),e.noData?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("tbody",s,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.activeRows,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,t){var n,o,a;return Object(r["openBlock"])(),Object(r["createBlock"])("td",{key:t,colspan:e.colspan||0,class:e.cssClass,style:e.style},[e.event?(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,["link"===(null===(n=null===e||void 0===e?void 0:e.event)||void 0===n?void 0:n.obj)?(Object(r["openBlock"])(),Object(r["createBlock"])("a",{key:0,href:"#",style:e.style,class:e.cssClass,onClick:Object(r["withModifiers"])((function(t){return e.event.click()}),["prevent"])},Object(r["toDisplayString"])(e.td),15,["onClick"])):Object(r["createCommentVNode"])("",!0),"button"===e.event.obj?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1,color:(null===(o=null===e||void 0===e?void 0:e.event)||void 0===o?void 0:o.color)||"",class:e.cssClass,style:e.style,disabled:void 0!=(null===(a=null===e||void 0===e?void 0:e.event)||void 0===a?void 0:a.disabled)&&!0===e.event.disabled,onClick:function(t){return e.event.click()}},{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.td),1)]})),_:2},1032,["color","class","style","disabled","onClick"])):Object(r["createCommentVNode"])("",!0)])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",l,[Object(r["createVNode"])("span",{innerHTML:e.td},null,8,["innerHTML"])]))],14,["colspan"])})),128))])})),128))]))]),e.noData?(Object(r["openBlock"])(),Object(r["createBlock"])("h1",d,[e.errorMessage?(Object(r["openBlock"])(),Object(r["createBlock"])("span",p,Object(r["toDisplayString"])(e.errorMessage),1)):(Object(r["openBlock"])(),Object(r["createBlock"])("span",b," No data available in table "))])):Object(r["createCommentVNode"])("",!0)],64)})),f=(n("99af"),n("4de4"),n("d81d"),n("a9e3"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("466d"),n("ddb0"),n("53ca")),m=n("9ab4"),g=n("ff79"),O=n("9ceb"),v=n("2ef0"),_=n("8734"),j=n("b5e4"),y=n("8a30"),w=Object(r["defineComponent"])({emits:["onActiveRows","onActiveColumns","onPagination","onIsLoading","onTableRows"],components:{IonButton:y["d"],IonIcon:y["r"],IonSkeletonText:y["I"]},props:{config:{type:Object,default:{}},columns:{type:Object,required:!0},rows:{type:Object,default:function(){return[]}},newPage:{type:Number},rowsPerPage:{type:Number},asyncRows:{type:Function},rowParser:{type:Function},searchFilter:{type:String},showFilters:{type:Boolean,default:!1},paginated:{type:Boolean,default:!1}},data:function(){return{arrowUp:g["g"],arrowDown:g["f"],caretBack:g["j"],caretForward:g["l"],sortedIndex:-1,sortOrder:"descSort",tableColumns:[],tableRows:[],paginatedRows:[],activeRows:[],currentPage:0,itemsPerPage:20,isLoading:!1,errorMessage:""}},watch:{isLoading:{handler:function(e){"boolean"===typeof e&&this.$emit("onIsLoading",e)},immediate:!0},newPage:{handler:function(e){"number"===typeof e&&this.onChangePage(e)},immediate:!0},rowsPerPage:{handler:function(e){"number"===typeof e&&(this.itemsPerPage=e)},immediate:!0},itemsPerPage:function(e){return Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(t){switch(t.label){case 0:return Object(v["isEmpty"])(this.tableRows)?[3,3]:(this.currentPage=0,this.isLoading=!0,[4,Object(_["a"])(100)]);case 1:return t.sent(),this.paginateTableRows(e),[4,this.setPage(this.currentPage)];case 2:t.sent(),this.isLoading=!1,t.label=3;case 3:return[2]}}))}))},tableRows:{handler:function(e){Object(v["isEmpty"])(e)||this.$emit("onTableRows",e)},immediate:!0,deep:!0},searchFilter:function(e){e?this.activeRows=this.searchDataSet(e,this.paginated?this.activeRows:this.tableRows):this.paginated?this.setPage(this.currentPage):this.activeRows=this.tableRows},activeRows:{handler:function(e){this.$emit("onActiveRows",e)},immediate:!0,deep:!0},columns:{handler:function(e){if(!Object(v["isEmpty"])(e)){if(this.showIndex()){var t=Object(m["f"])(this.columns),n=this.columns.length-1;t[n]=Object(m["f"])([O["a"].thNum("#")],t[n]),this.tableColumns=t}else this.tableColumns=e;this.$emit("onActiveColumns",this.tableColumns)}},immediate:!0,deep:!0},asyncRows:{handler:function(e){return Object(m["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(m["d"])(this,(function(i){switch(i.label){case 0:if(this.errorMessage="","function"!==typeof e)return[3,8];this.isLoading=!0,i.label=1;case 1:return i.trys.push([1,6,,7]),t=this,n=this.addColumnIndexes,[4,e()];case 2:return t.tableRows=n.apply(this,[i.sent()]),this.paginated?(this.paginateTableRows(),[4,this.setPage(0)]):[3,4];case 3:return i.sent(),[3,5];case 4:this.activeRows=this.tableRows,i.label=5;case 5:return[3,7];case 6:return r=i.sent(),this.errorMessage=""+r,Object(j["c"])(r),console.error(r),[3,7];case 7:this.isLoading=!1,i.label=8;case 8:return[2]}}))}))},immediate:!0,deep:!0},rows:{handler:function(e){return Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(t){switch(t.label){case 0:return this.errorMessage="",!e||Object(v["isEmpty"])(e)?(this.activeRows=[],this.tableRows=[],[2]):(this.isLoading=!0,this.tableRows=this.addColumnIndexes(e),this.paginated?(this.paginateTableRows(),[4,this.setPage(0)]):[3,2]);case 1:return t.sent(),[3,3];case 2:this.activeRows=this.tableRows,t.label=3;case 3:return this.isLoading=!1,[2]}}))}))},immediate:!0,deep:!0}},methods:{showIndex:function(){return!this.config||!("showIndex"in this.config)||this.config.showIndex},addColumnIndexes:function(e){return this.showIndex()?e.map((function(e,t){var n=[O["a"].td(t+1)];return Array.isArray(e)?n.concat(e):Object(m["f"])(n,[e])})):e},paginateTableRows:function(e){void 0===e&&(e=0),this.paginatedRows=Object(v["chunk"])(this.tableRows,e||this.itemsPerPage),this.$emit("onPagination",this.paginatedRows)},setPage:function(e){return Object(m["b"])(this,void 0,void 0,(function(){var t,n,r,i;return Object(m["d"])(this,(function(o){switch(o.label){case 0:if(this.activeRows=[],t=this.paginatedRows[e],!t)return[2];o.label=1;case 1:return o.trys.push([1,5,,6]),n=this,"function"!==typeof this.rowParser?[3,3]:[4,Promise.all(this.rowParser(t))];case 2:return r=o.sent(),[3,4];case 3:r=t,o.label=4;case 4:return n.activeRows=r,[3,6];case 5:return i=o.sent(),Object(j["c"])(i),this.errorMessage=""+i,console.error(i),[3,6];case 6:return[2]}}))}))},sort:function(e,t){return Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(n){switch(n.label){case 0:return this.showIndex()&&"function"===typeof this.rowParser&&0!=e?[2]:(e===this.sortedIndex?this.sortOrder="ascSort"===this.sortOrder?"descSort":"ascSort":this.sortOrder="ascSort",this.sortedIndex=e,this.sortOrder in t?(this.isLoading=!0,this.paginated?(this.tableRows=t[this.sortOrder](e,this.tableRows),this.paginateTableRows(),[4,this.setPage(this.currentPage)]):[3,2]):[3,4]);case 1:return n.sent(),[3,3];case 2:this.activeRows=t[this.sortOrder](e,this.tableRows),n.label=3;case 3:this.isLoading=!1,n.label=4;case 4:return[2]}}))}))},searchDataSet:function(e,t){return t.filter((function(t){var n=t.filter((function(t){return"object"===Object(f["a"])(t)&&null!=t&&"td"in t&&(("string"===typeof t.td||"number"===typeof t.td)&&t.td.toString().match(new RegExp(e,"i")))}));return!Object(v["isEmpty"])(n)}))},onChangePage:function(e){return Object(m["b"])(this,void 0,void 0,(function(){return Object(m["d"])(this,(function(t){switch(t.label){case 0:return this.currentPage=e,this.isLoading=!0,[4,this.setPage(e)];case 1:return t.sent(),this.isLoading=!1,[2]}}))}))}},computed:{noData:function(){return!this.isLoading&&Object(v["isEmpty"])(this.activeRows)},columnLength:function(){try{return this.tableColumns[this.tableColumns.length].length}catch(e){return console.warn(e),5}},skeletonRows:function(){for(var e=[],t=0;t<10;++t)e.push(t);return e}}}),N=(n("4e33"),n("d959")),C=n.n(N);const V=C()(w,[["render",h],["__scopeId","data-v-471857e0"]]);t["a"]=V},8158:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4de4"),n("caad"),n("b0c0"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("466d");var r=n("9ab4"),i=n("1c74"),o=[{categories:[],concept_id:10031,name:"Further Investigation and Management"},{categories:[],concept_id:9066,name:"Cancer of cervix"},{categories:[],concept_id:10030,name:"Large Lesion (Greater than 75 percent)"},{categories:[],concept_id:1739,name:"Referral reason"},{categories:[],concept_id:9514,name:"VIA Results"},{categories:[],concept_id:9522,name:"Patient went for VIA?"},{concept_id:2690,name:"TB treatment"},{categories:[],concept_id:7458,name:"Confirmed TB on treatment"},{categories:[],concept_id:7456,name:"Confirmed TB NOT on treatment"},{categories:[],concept_id:9195,name:"Discuss with spouse"},{categories:[],concept_id:7951,name:"Other side effect"},{categories:[],concept_id:7755,name:"Malawi ART side effects"},{categories:[],concept_id:9994,name:"CxCa test date"},{categories:[],concept_id:10008,name:"Reason for NOT offering CxCa"},{categories:[],concept_id:9992,name:"Offer CxCa"},{categories:["reason_for_no_cxca"],concept_id:8387,name:"Not due for screening"},{categories:["reason_for_no_cxca"],concept_id:10007,name:"Client preferred counseling"},{categories:["reason_for_no_cxca"],concept_id:1175,name:"Not applicable"},{categories:["reason_for_no_cxca"],concept_id:3580,name:"Patient refused"},{categories:[],concept_id:7215,name:"Other (Specify)"},{categories:[],concept_id:1719,name:"Tubal ligation"},{categories:[],concept_id:1618,name:"Family planning"},{categories:[],concept_id:374,name:"Method of family planning"},{categories:[],concept_id:2431,name:"Other reason for not seeking services"},{categories:[],concept_id:2592,name:"Clinician notes"},{categories:[],concept_id:6986,name:"Transferred"},{categories:[],concept_id:1588,name:"Previous TB treatment history"},{categories:["bp_measures"],concept_id:5085,name:"Systolic blood pressure"},{categories:["bp_measures"],concept_id:5086,name:"Diastolic blood pressure"},{categories:[],concept_id:7054,name:"Art clinic location"},{categories:[],concept_id:8677,name:"Specific presenting complaint"},{categories:[],concept_id:8578,name:"Presenting complaint"},{categories:[],concept_id:10319,name:"Presenting complaint group"},{categories:[],concept_id:6266,name:"Trauma"},{categories:[],concept_id:7027,name:"General"},{categories:[],concept_id:7411,name:"ILI"},{categories:[],concept_id:7644,name:"Respiratory"},{categories:[],concept_id:7661,name:"Gastrointestinal"},{categories:[],concept_id:9546,name:"Haema"},{categories:[],concept_id:9551,name:"Nephro"},{categories:[],concept_id:9560,name:"Cardiovascular"},{categories:["art_patient_type"],order:1,concept_id:7572,name:"New patient"},{categories:["art_patient_type"],order:2,concept_id:10522,name:"Drug Refill"},{categories:["risk factors"],concept_id:3720,name:"Diabetes"},{categories:["risk factors"],concept_id:7623,name:"CKD"},{categories:["risk factors"],concept_id:9499,name:"history of CVD"},{categories:["risk factors"],concept_id:9501,name:"relative with CVD"},{categories:["risk factors"],concept_id:3339,name:"patient smokes"},{categories:["risk factors"],concept_id:2318,name:"Patient drinks alcohol"},{categories:[],concept_id:9675,name:"Referral"},{categories:[],concept_id:1054,name:"Marital status"},{categories:[],concept_id:8366,name:"Religion"},{categories:[],concept_id:6541,name:"Referred"},{categories:[],concept_id:8717,name:"Specialist clinic"},{categories:[],concept_id:6734,name:"Admit to ward"},{categories:[],concept_id:9674,name:"Re-visiting"},{categories:[],concept_id:3753,name:"HIV status"},{categories:[],concept_id:7878,name:"HIV test location"},{categories:[],concept_id:7409,name:"Qech outpatient diagnosis list"},{categories:[],concept_id:123,name:"Malaria"},{categories:[],concept_id:9227,name:"Malaria Test Result"},{categories:[],concept_id:703,name:"Positive"},{categories:[],concept_id:64,name:"Negative"},{categories:[],concept_id:6542,name:"Primary diagnosis"},{categories:[],concept_id:6543,name:"Secondary diagnosis"},{categories:[],concept_id:2688,name:"Clinical notes construct"},{categories:[],concept_id:1837,name:"HIV test date"},{categories:[],concept_id:6189,name:"Type of visit"},{categories:[],concept_id:3003,name:"Transfer to"},{categories:[],concept_id:7414,name:"Transfer from"},{categories:[],concept_id:1744,name:"Patient transferred out"},{categories:[],concept_id:9144,name:"Repeat / Missing"},{categories:[],concept_id:3280,name:"Targeted"},{categories:[],concept_id:1345,name:"Confirmatory"},{categories:[],concept_id:6383,name:"Stat"},{categories:[],concept_id:432,name:"Routine"},{categories:[],concept_id:730,name:"CD4 percent"},{categories:[],concept_id:2552,name:"Agrees to followup"},{categories:[],concept_id:7882,name:"Confirmatory HIV test date"},{categories:[],concept_id:2516,name:"Date ART started"},{categories:[],concept_id:1499,name:"Drug start date"},{categories:[],concept_id:7750,name:"Location of ART initiation"},{categories:[],concept_id:6394,name:"Has the patient taken ART in the last two weeks"},{categories:[],concept_id:7752,name:"Has the patient taken ART in the last two months"},{categories:[],concept_id:7751,name:"Date ART last taken"},{categories:[],concept_id:6981,name:"ART number at previous location"},{categories:[],concept_id:7881,name:"Confirmatory HIV test location"},{categories:[],concept_id:7754,name:"Ever received ART"},{categories:[],concept_id:7937,name:"Ever registered at ART clinic"},{categories:[],concept_id:6393,name:"Has transfer letter"},{categories:[],concept_id:9685,name:"Phone"},{categories:[],concept_id:9686,name:"Home visit"},{categories:[],concept_id:9974,name:"3HP (RFP + INH)"},{categories:[],concept_id:656,name:"IPT"},{categories:["side_effect"],sortIndex:{side_effect:10},concept_id:1773,name:"Heavy alcohol use"},{categories:["tb_symptom","side_effect"],sortIndex:{side_effect:4,tb_symptom:4},concept_id:8260,name:"Weight loss / Failure to thrive / malnutrition"},{categories:[],concept_id:9661,name:"Contraindications"},{categories:[],concept_id:7567,name:"Drug induced"},{categories:["tb_symptom","side_effect","adverse_effect"],sortIndex:{side_effect:9,tb_symptom:3},concept_id:6029,name:"Night sweats"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:1,tb_symptom:2},concept_id:5945,name:"Fever"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:3},concept_id:5980,name:"Vomiting"},{categories:["5_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:5},concept_id:877,name:"Dizziness"},{categories:["9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:7},concept_id:620,name:"Headache"},{categories:["13_art_regimen_side_effect","14_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:2},concept_id:5978,name:"Nausea"},{categories:["0_art_regimen_side_effect","2_art_regimen_side_effect","4_art_regimen_side_effect","5_art_regimen_side_effect","6_art_regimen_side_effect","7_art_regimen_side_effect","8_art_regimen_side_effect","9_art_regimen_side_effect","10_art_regimen_side_effect","11_art_regimen_side_effect","12_art_regimen_side_effect","13_art_regimen_side_effect","14_art_regimen_side_effect","adverse_effect"],concept_id:843,name:"Treatment failure"},{categories:["2_art_regimen_side_effect","4_art_regimen_side_effect","8_art_regimen_side_effect","11_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:6},concept_id:1458,name:"Lactic acidosis"},{categories:["tb_symptom","0_art_regimen_side_effect","9_art_regimen_side_effect","15_art_regimen_side_effect","16_art_regimen_side_effect","17_art_regimen_side_effect","side_effect","adverse_effect"],sortIndex:{side_effect:8,tb_symptom:1},concept_id:107,name:"Cough"},{categories:["11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:1},concept_id:821,name:"Peripheral neuropathy"},{categories:["0_art_regimen_contraindication","2_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","8_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:3},concept_id:215,name:"Jaundice"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:5},concept_id:2148,name:"Lipodystrophy"},{categories:["5_art_regimen_contraindication","6_art_regimen_contraindication","7_art_regimen_contraindication","10_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:7},concept_id:9242,name:"Kidney Failure"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:2},concept_id:219,name:"Psychosis"},{categories:["4_art_regimen_contraindication","5_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:4},concept_id:9440,name:"Gynaecomastia"},{categories:["2_art_regimen_contraindication","4_art_regimen_contraindication","8_art_regimen_contraindication","11_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:6},concept_id:3,name:"Anemia"},{categories:["0_art_regimen_contraindication","contraindication","adverse_effect"],sortIndex:{contraindication:9},concept_id:512,name:"Skin rash"},{categories:["contraindication","adverse_effect"],sortIndex:{contraindication:8},concept_id:867,name:"Insomnia"},{categories:[],concept_id:1588,name:"TB treatment history"},{categories:["fast_track"],concept_id:9533,name:"Adult 18 years +"},{categories:["fast_track"],concept_id:9534,name:"On ART for 12 months "},{categories:["fast_track"],concept_id:9535,name:"On 1st line ART"},{categories:["fast_track"],concept_id:9537,name:"Good current adherence"},{categories:["fast_track"],concept_id:9536,name:"Last VL <1000"},{categories:["fast_track"],concept_id:9538,name:"Pregnant / Breastfeeding"},{categories:["fast_track"],concept_id:9539,name:"Side effects / HIV-rel. diseases"},{categories:["fast_track"],concept_id:9540,name:"Needs BP / diabetes treatment"},{categories:["fast_track"],concept_id:9527,name:"Started IPT <12m ago"},{categories:["fast_track"],concept_id:2186,name:"Any sign for TB"},{categories:["reasons_for_art","stage_1_conditions_adults_who_reason"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason","stage_1_conditions_adults_who_reason"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["reasons_for_art","stage_1_conditions_pedaids_who_reason"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["reasons_for_art","stage_2_conditions_adults_who_reason"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason","stage_2_conditions_adults_who_reason"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["reasons_for_art","stage_2_conditions_pedaids_who_reason"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["reasons_for_art","stage_3_conditions_adults_who_reason"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason","stage_3_conditions_adults_who_reason"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["reasons_for_art","stage_3_conditions_pedaids_who_reason"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["reasons_for_art","stage_4_conditions_adults_who_reason"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason","stage_4_conditions_adults_who_reason"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["reasons_for_art","stage_4_conditions_pedaids_who_reason"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:[],concept_id:1805,name:"Patient present"},{categories:[],concept_id:2122,name:"Guardian present"},{categories:[],concept_id:5092,name:"SP02"},{categories:[],concept_id:5087,name:"Pulse"},{categories:[],concept_id:5088,name:"Temp"},{categories:[],concept_id:1484,name:"Treatment status"},{categories:[],concept_id:3140,name:"Reason for poor treatment adherence"},{categories:[],concept_id:6987,name:"Drug adherence"},{categories:[],concept_id:2540,name:"Number of tablets brought to clinic"},{categories:[],concept_id:7880,name:"Confirmatory hiv test type"},{categories:["hiv_test_types"],concept_id:1040,name:"HIV rapid test"},{categories:["hiv_test_types"],concept_id:844,name:"HIV DNA polymerase chain reaction"},{categories:["hiv_test_types"],concept_id:1118,name:"Not done"},{categories:["hiv_test_types"],concept_id:1067,name:"Unknown"},{categories:["reason_for_art"],concept_id:8263,name:"PRESUMED SEVERE HIV"},{categories:["reason_for_art"],concept_id:844,name:"HIV DNA POLYMERASE CHAIN REACTION"},{categories:["reason_for_art"],concept_id:1169,name:"HIV infected"},{categories:["reason_for_art"],concept_id:1755,name:"PATIENT PREGNANT"},{categories:["reason_for_art"],concept_id:5632,name:"BREASTFEEDING"},{categories:["reason_for_art"],concept_id:5006,name:"Asymptomatic"},{categories:["reason_for_art"],concept_id:8376,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 1"},{categories:["reason_for_art"],concept_id:7559,name:"LYMPHOCYTE COUNT BELOW THRESHOLD WITH WHO STAGE 2"},{categories:[""],concept_id:2743,name:"Who stages criteria present"},{categories:[""],concept_id:7965,name:"Is patient breast feeding"},{categories:[""],concept_id:6131,name:"Is patient pregnant"},{categories:[""],concept_id:7563,name:"Reason for ART eligibility"},{categories:[""],concept_id:7562,name:"Who stage"},{categories:[""],concept_id:2540,name:"Pills brought"},{categories:[""],concept_id:5089,name:"weight"},{categories:[],concept_id:5090,name:"Height"},{categories:["art_medication_order"],concept_id:9974,name:"Rifapentine"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"CPT"},{categories:["art_medication_order","art_extra_medication_order"],concept_id:916,name:"INH"},{categories:[""],concept_id:6784,name:"Appointment type"},{categories:[""],concept_id:1779,name:"Reason for ARV switch"},{categories:[""],concept_id:9561,name:"Assess for fast track"},{categories:[""],concept_id:1282,name:"Medication orders"},{categories:[""],concept_id:8471,name:"Fast track"},{categories:[""],concept_id:7755,name:"Art Side effects"},{categories:["art_medication_order"],concept_id:1085,name:"Antiretroviral drugs"},{categories:[""],concept_id:1066,name:"No"},{categories:[""],concept_id:1065,name:"Yes"},{categories:[""],concept_id:5096,name:"Appointment date"},{categories:[""],concept_id:3289,name:"Type of patient"},{categories:["art_patient_type"],concept_id:9684,order:3,name:"External consultation"},{categories:[""],concept_id:6830,name:"Cd4 count location"},{categories:[""],concept_id:6831,name:"Cd4 count datetime"},{categories:[""],concept_id:5497,name:"CD4 count"},{categories:["cd4_count"],concept_id:8208,name:"cd4 less than or equal to 750"},{categories:["cd4_count"],concept_id:8262,name:"cd4 less than or equal to 250"},{categories:["cd4_count"],concept_id:8207,name:"cd4 less than or equal to 350"},{categories:["cd4_count"],concept_id:9389,name:"cd4 less than or equal to 500"},{categories:["whole_staging_numbers"],concept_id:9145,name:"WHO STAGE 1"},{categories:["whole_staging_numbers"],concept_id:9146,name:"WHO STAGE 2"},{categories:["whole_staging_numbers"],concept_id:2932,name:"WHO STAGE 3"},{categories:["whole_staging_numbers"],concept_id:2933,name:"WHO STAGE 4"},{categories:["whole_staging_numbers"],concept_id:7561,name:"WHO STAGE I ADULT"},{categories:["whole_staging_numbers"],concept_id:7041,name:"WHO STAGE I ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7049,name:"WHO STAGE I PEDS"},{categories:["whole_staging_numbers"],concept_id:7046,name:"WHO STAGE II ADULT"},{categories:["whole_staging_numbers"],concept_id:7042,name:"WHO STAGE II ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7050,name:"WHO STAGE II PEDS"},{categories:["whole_staging_numbers"],concept_id:7047,name:"WHO STAGE III ADULT"},{categories:["whole_staging_numbers"],concept_id:7043,name:"WHO STAGE III ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7051,name:"WHO STAGE III PEDS"},{categories:["whole_staging_numbers"],concept_id:7048,name:"WHO STAGE IV ADULT"},{categories:["whole_staging_numbers"],concept_id:7044,name:"WHO STAGE IV ADULT AND PEDS"},{categories:["whole_staging_numbers"],concept_id:7052,name:"WHO STAGE IV PEDS"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7548,name:"Cryptococcal meningitis or other extrapulmonary cryptococcosis"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5340,name:"Candidiasis of oseophagus, trachea and bronchi or lungs"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1547,name:"Extrapulmonary tuberculosis (EPTB)"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:507,name:"Kaposis sarcoma"},{categories:["stage_3_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:1215,name:"Bacterial pneumonia, severe recurrent"},{categories:["stage_4_conditions_adults","staging_4_conditions","who_staging_conditions"],concept_id:7959,name:"Non-typhoidal Salmonella bacteraemia, recurrent"},{categories:["stage_4_conditions_adults","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:7957,name:"Symptomatic HIV-associated nephropathy or cardiomyopathy"},{categories:["stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2587,name:"Cerebral or B-cell non Hodgkin lymphoma"},{categories:["pshd_condition","stage_4_conditions_pedaids","stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:882,name:"Pneumocystis pneumonia"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:5344,name:"Chronic herpes simplex infection (orolabial, gential / anorectal >1 month or visceral at any site)"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7551,name:"Cytomegalovirus infection (retinitis or infection or other organs)"},{categories:["pshd_condition","stage_4_conditions_adults","who_staging_conditions"],concept_id:2583,name:"Toxoplasmosis of the brain"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:2588,name:"Invasive cancer of cervix"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:7040,name:"Unspecified stage 4 condition"},{categories:["stage_4_conditions_adults","who_staging_conditions","staging_4_conditions"],concept_id:6408,name:"Other"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:1362,name:"HIV encephalopathy"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:2585,name:"Disseminated non-tuberculosis mycobacterial infection"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7549,name:"Cryptosporidiosis, chronic with diarroea"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7956,name:"Isosporiasis >1 month"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7550,name:"Disseminated mycosis (coccidiomycosis or histoplasmosis)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:5046,name:"Progressive multifocal leukoencephalopathy"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions"],concept_id:3068,name:"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"},{categories:["who_staging_conditions"],concept_id:2894,name:"Bacterial infections, severe recurrent  (empyema, pyomyositis, meningitis, bone/joint infections but EXCLUDING pneumonia)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7960,name:"Chronic herpes simplex infection (orolabial or cutaneous >1 month or visceral at any site)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7552,name:"Cytomegalovirus infection: rentinitis or other organ (from age 1 month)"},{categories:["pshd_condition","stage_4_conditions_pedaids","who_staging_conditions","staging_4_conditions"],concept_id:5048,name:"Toxoplasmosis of the brain (from age 1 month)"},{categories:["stage_4_conditions_pedaids","who_staging_conditions"],concept_id:7961,name:"Recto-vaginal fistula, HIV-associated"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:7540,name:"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","who_staging_conditions"],concept_id:5018,name:"Diarrhoea, chronic (>1 month) unexplained"},{categories:["severe_hiv_wasting_syndrome","stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5027,name:"Fever, persistent unexplained, intermittent or constant, >1 month"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:8206,name:"Pulmonary tuberculosis (current)"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7539,name:"Tuberculosis (PTB or EPTB) within the last 2 years"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:5334,name:"Oral candidiasis"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7546,name:"Acute necrotizing ulcerative gingivitis or periodontitis"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:2582,name:"Anaemia, unexplained < 8 g/dl"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:7954,name:"Neutropaenia, unexplained < 500 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7541,name:"Severe bacterial infections (pneumonia, empyema, pyomyositis, bone/joint, meningitis, bacteraemia)"},{categories:["stage_3_conditions_adults","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7955,name:"Thrombocytopaenia, chronic < 50,000 /mm(cubed)"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:8205,name:"Hepatitis B or C infection"},{categories:["stage_3_conditions_pedaids","stage_3_conditions_adults","who_staging_conditions"],concept_id:5337,name:"Oral hairy leukoplakia"},{categories:["stage_3_conditions_adults","who_staging_conditions"],concept_id:7039,name:"Unspecified stage 3 condition"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7543,name:"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7544,name:"Diarrhoea, persistent unexplained (14 days or more)"},{categories:["pshd_condition","stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7545,name:"Oral candidiasis (from age 2 months)"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:7547,name:"Lymph node tuberculosis"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:5024,name:"Symptomatic lymphoid interstitial pneumonia"},{categories:["stage_3_conditions_pedaids","who_staging_conditions"],concept_id:2889,name:"Chronic HIV-associated lung disease, including bronchiectasis"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:5332,name:"Moderate weight loss less than or equal to 10 percent, unexplained"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:5012,name:"Respiratory tract infections, recurrent (sinusitis, tonsilitus, otitis media, pharyngitis)"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:2578,name:"Seborrhoeic dermatitis"},{categories:["stage_2_conditions_adults","stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7536,name:"Papular pruritic eruptions / Fungal nail infections"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:836,name:"Herpes zoster"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2575,name:"Angular cheilitis"},{categories:["stage_2_conditions_pedaids","stage_2_conditions_adults","who_staging_conditions"],concept_id:2576,name:"Oral ulcerations, recurrent"},{categories:["stage_2_conditions_adults","who_staging_conditions"],concept_id:7038,name:"Unspecified stage 2 condition"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:7537,name:"Hepatosplenomegaly, persistent unexplained"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:2891,name:"Lineal gingival erythema"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6775,name:"Wart virus infection, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:6776,name:"Molluscum contagiosum, extensive"},{categories:["stage_2_conditions_pedaids","who_staging_conditions"],concept_id:1210,name:"Parotid enlargement, persistent unexplained"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5327,name:"Asymptomatic HIV infection"},{categories:["stage_1_conditions_pedaids","stage_1_conditions_adults","who_staging_conditions"],concept_id:5328,name:"Persistent generalized lymphadenopathy"}],a=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getConceptsByCategory=function(e,t){void 0===t&&(t=!1);var n=o.filter((function(t){try{return t.categories.includes(e)}catch(n){return!1}}));return t?n.sort((function(t,n){try{return t.sortIndex[e]>n.sortIndex[e]?1:0}catch(r){return 0}})):n},t.getConceptSet=function(t,n){return void 0===n&&(n=""),Object(r["b"])(this,void 0,void 0,(function(){var i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getConceptID(t)];case 1:return i=r.sent(),o=e.getJson.call(this,"concept_set",{id:i,name:n}),o?[2,o]:[2]}}))}))},t.getConceptName=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){return t=this.getCachedConceptName(e),t?[2,t]:[2,this.getConceptNameFromApi(e)]}))}))},t.getConceptID=function(e,t){void 0===t&&(t=!1);try{return this.getCachedConceptID(e,t)}catch(n){return this.getConceptIDFromApi(e)}},t.getCachedConceptID=function(e,t){void 0===t&&(t=!1);var n=o.filter((function(n){return t?n.name===e:n.name.match(new RegExp(e,"i"))}));return this.resolveConcept(n,e)},t.getConceptIDFromApi=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e.getJson.call(this,"concepts",{name:t})];case 1:return n=r.sent(),[2,this.resolveConcept(n,t)]}}))}))},t.getConceptNameFromApi=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e.getJson.call(this,"concepts/"+t)];case 1:return n=r.sent(),n?[2,n.concept_names[0].name]:[2]}}))}))},t.getCachedConceptName=function(e){var t=o.filter((function(t){return t.concept_id===e}));if(t.length>=1)return t[0].name},t.resolveConcept=function(e,t){if(1===e.length)return e[0].concept_id;throw"Concept name "+t+" was not found or has a duplicates"},t}(i["d"])},"82a9":function(e,t,n){"use strict";n("4de4"),n("4d63"),n("ac1f"),n("25f0"),n("466d");var r=n("9ab4"),i=n("7a23"),o=n("db10"),a=n("2345"),c=n("36ad"),s=n("6be2"),u=n("0a79"),l=n("51c8"),d=n("8a30"),p=Object(i["defineComponent"])({components:{IonList:d["w"],IonItem:d["u"],IonLabel:d["v"],HisTextInput:c["a"],HisKeyboard:o["a"],ViewPort:u["a"],IonGrid:d["p"],IonRow:d["F"],IonCol:d["m"]},mixins:[l["a"]],data:function(){return{showKeyboard:!1,selected:"",filter:"",filtered:[],keyboard:s["g"],listData:[]}},created:function(){this.config&&!0===this.config.showKeyboard&&(this.showKeyboard=!0)},watch:{listData:{handler:function(e){e&&(this.filtered=e)},deep:!0,immediate:!0},filter:{handler:function(e){var t;return Object(r["b"])(this,void 0,void 0,(function(){var n,i=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e?(null===(t=this.config)||void 0===t?void 0:t.isFilterDataViaApi)?(n=this,[4,this.options(this.fdata,e)]):[3,2]:[2,this.filtered=this.listData];case 1:return[2,n.filtered=r.sent()];case 2:return this.filtered=this.listData.filter((function(e){return i.isMatch(e.label,i.filter)})),[2]}}))}))},immediate:!0}},methods:{isMatch:function(e,t){return e.match(new RegExp(t,"i"))},clearSelection:function(){this.filter="",this.selected=""},onKbValue:function(e,t){void 0===t&&(t=!0),t&&this.selected!==e&&(this.filter=e,this.selected=this.filter)},keypress:function(e){this.filter||(this.selected=""),this.filter=Object(a["a"])(e,this.selected),this.selected=this.filter}}});const b=p;t["a"]=b},8378:function(e,t,n){"use strict";n("e507")},"83af":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("cc6f"),o=function(e){function t(t,n){return e.call(this,t,7,n)||this}return Object(r["c"])(t,e),t.prototype.getNextAppointment=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){return e=i["a"].getProgramID(),[2,i["a"].getJson("/programs/"+e+"/patients/"+this.patientID+"/next_appointment_date",{date:this.date})]}))}))},t.getDailiyAppointments=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){return t=i["a"].getProgramID(),[2,i["a"].getJson("/programs/"+t+"/booked_appointments",{date:e,paginate:!1})]}))}))},t}(i["a"])},8685:function(e,t,n){},8734:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");function r(e){return new Promise((function(t){setTimeout((function(){t("")}),e)}))}},"8a9e":function(e,t,n){},"8aef":function(e,t,n){},"8c28":function(e,t,n){},"8c54":function(e,t,n){},"8c8b":function(e,t,n){"use strict";n("b993")},"8cb7":function(e,t,n){},"8cbc":function(e,t,n){},"8df6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("caad"),n("d81d"),n("b0c0");var r=n("9ab4"),i=n("cc6f"),o=n("8158"),a=function(e){function t(t,n){var r=e.call(this,t,5,n)||this;return r.patientType="N/A",r.locationName="",r}return Object(r["c"])(t,e),t.prototype.setLocationName=function(e){this.locationName=e},t.prototype.setPatientType=function(e){this.patientType=e},t.prototype.getType=function(){return this.patientType},t.getPatientTypes=function(){return o["a"].getConceptsByCategory("art_patient_type").map((function(e){var t=e.name;return{label:t,value:t}}))},t.isDrugRefillPatient=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,i["a"].getFirstValueCoded(e,"Type of patient")];case 1:return t=n.sent(),[2,t&&"Drug Refill"===t]}}))}))},t.prototype.loadPatientType=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getFirstValueCoded("Type of patient")];case 1:return e=t.sent(),e&&(this.patientType=e),[2]}}))}))},t.prototype.save=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.savePatientType(this.patientType)];case 1:return e.sent(),this.locationName&&["External consultation","Drug Refill"].includes(this.patientType)?[4,this.saveLocationClinic(this.locationName)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.saveLocationClinic=function(e){return this.saveValueTextObs("Art clinic location",e)},t.prototype.savePatientType=function(e){return this.saveValueCodedObs("Type of patient",e)},t}(i["a"])},"8e40":function(e,t,n){},"8e47":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=e.given_name,n=e.family_name,r=e.middle_name?e.middle_name:"";return t+" "+r+" "+n}},"8efc":function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-75bcd5de");Object(r["pushScopeId"])("data-v-75bcd5de");var o={key:0};Object(r["popScopeId"])();var a=i((function(e,t,n,a,c,s){var u=Object(r["resolveComponent"])("ion-title"),l=Object(r["resolveComponent"])("ion-toolbar"),d=Object(r["resolveComponent"])("ion-header");return Object(r["openBlock"])(),Object(r["createBlock"])(d,null,{default:i((function(){return[Object(r["createVNode"])(l,null,{default:i((function(){return[Object(r["createVNode"])(u,{class:"ion-text-center"},{default:i((function(){return[Object(r["createVNode"])("h4",{class:e.color},Object(r["toDisplayString"])(e.title),3),e.subtitle?(Object(r["openBlock"])(),Object(r["createBlock"])("h4",o,Object(r["toDisplayString"])(e.subtitle),1)):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),c=n("8a30"),s=Object(r["defineComponent"])({components:{IonToolbar:c["N"],IonTitle:c["M"],IonHeader:c["q"]},props:{title:{type:String,required:!0},subtitle:{type:String},color:{type:String}}}),u=(n("8f18"),n("d959")),l=n.n(u);const d=l()(s,[["render",a],["__scopeId","data-v-75bcd5de"]]);var p=d,b={style:{padding:"10px"}};function h(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("dynamic-nav");return Object(r["openBlock"])(),Object(r["createBlock"])("div",b,[Object(r["createVNode"])(c,{color:"light",btns:e.btns},null,8,["btns"])])}n("d81d"),n("b0c0");var f=n("9ab4"),m=n("0f25"),g=Object(r["defineComponent"])({components:{DynamicNav:m["a"]},props:{buttons:{type:Object,default:function(){return[]}}},computed:{btns:function(){var e=this;return this.buttons.map((function(t){return t.size="large",t.color=t.color||"primary",t.visible=!0,t.styleClass="full-width-ion-btn",t.onClick||(t.onClick=function(){return Object(f["b"])(e,void 0,void 0,(function(){return Object(f["d"])(this,(function(e){switch(e.label){case 0:return[4,c["U"].dismiss({action:t.name})];case 1:return e.sent(),[2]}}))}))}),t}))}}});const O=l()(g,[["render",h]]);var v=O,_=Object(r["defineComponent"])({components:{ActionHeader:p,ActionFooter:v},props:{title:{type:String,required:!0},subtitle:{type:String},actionButtons:{type:Object,required:!0},color:{type:String}}});const j=_;t["a"]=j},"8f18":function(e,t,n){"use strict";n("b2c2")},"91e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("d81d"),n("b65f"),n("07ac");var r=n("9ab4"),i=n("5969"),o=function(e){function t(){var t=e.call(this)||this;return t.stock=[],t}return Object(r["c"])(t,e),t.prototype.loadStock=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,i["a"].getJson("pharmacy/items",{paginate:!1})];case 1:return e.stock=t.sent(),[2]}}))}))},t.prototype.loadTrail=function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,i["a"].getJson("pharmacy/audit_trail",{paginate:!1})];case 1:return[2,e.sent()]}}))}))},t.prototype.groupStock=function(){var e={};for(var t in this.stock){var n=this.stock[t],r=n["drug_id"];e[r]||(e[r]={current_quantity:0,expiry_dates:[],pack_size:n.pack_size,drug_name:null===n["drug_name"]?n["drug_legacy_name"]:n["drug_name"]}),0!==n.current_quantity&&(e[r]["current_quantity"]+=parseFloat(n.current_quantity),e[r]["expiry_dates"].push(n["expiry_date"]))}return Object.values(e).map((function(e){var t="0";t=null==e.pack_size?e.current_quantity+"(tabs)":Math.trunc(e.current_quantity/e.pack_size);var n=e.expiry_dates.sort((function(e,t){return+new Date(e)-+new Date(t)}))[0];return{drugName:e.drug_name,currentQuantity:t,expiryDate:n}}))},t}(i["a"])},"91e7":function(e,t,n){},9283:function(e,t,n){"use strict";n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("1276");var r=n("5a0c"),i=n.n(r),o="YYYY-MM-DD",a="DD/MMM/YYYY";function c(){return i()().format(a)}function s(e,t){return i()(e).diff(t,"days")}function u(e){return i()().diff(e,"years")}function l(e){return i()(e).format("HH:MM")}function d(e){var t=i()(e).format(a);return t.match(/invalid/i)?"":t}function p(e){var t=i()(e).format(o);return t.match(/invalid/i)?"":t}function b(e){var t=i()().subtract(e,"years");return t.format(o)}function h(e){return i()().subtract(e,"years").year()}function f(e){return i()(e).year()}function m(e){return i()(e).format("MMM")}function g(e){return i()(e).date()}function O(e,t,n){return i()(e).add(n,t)}function v(e,t,n){return i()(e).subtract(n,t)}function _(e){return i()().isAfter(e)}function j(){return i()().year()}function y(e,t){var n=new Date(e);return n.setDate(n.getDate()-t),p(n)}function w(e){var t=b(e).split("-")[0];return parseInt(t)}function N(e,t,n){void 0===t&&(t=-1),void 0===n&&(n=-1);var r=t.toString(),i=n.toString(),o=e,a=function(e){return e.toString().match(/Unknown/i)};return parseInt(o.toString())<1900&&(o="1900"),t&&!a(t)||(r="07"),n&&!a(n)||(i="15"),p(o+"-"+r+"-"+i)}t["a"]={getYearOfAge:w,getYear:f,dateDiffInDays:s,getAgeInYears:u,toStandardHisTimeFormat:l,toStandardHisDisplayFormat:d,currentDisplayDate:c,dateIsAfter:_,stitchDate:N,toStandardHisFormat:p,estimateDateFromAge:b,getYearFromAge:h,getCurrentYear:j,getDateBeforeByDays:y,getMonth:m,getDay:g,add:O,subtract:v}},9441:function(e,t,n){"use strict";n("b0c0");var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("info-card"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header"),b=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer"),m=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.currentField),1),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){var t,n;return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.helpText),1)]})),_:1})]})),_:1}),(null===(n=null===(t=e.currentField)||void 0===t?void 0:t.config)||void 0===n?void 0:n.toolbarInfo)?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0},{default:Object(r["withCtx"])((function(){var t,n;return[Object(r["createVNode"])(u,{style:{height:"100%"},items:null===(n=null===(t=e.currentField)||void 0===t?void 0:t.config)||void 0===n?void 0:n.toolbarInfo},null,8,["items"])]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(r["KeepAlive"],null,[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.currentField.type),{key:e.currentField.id,config:e.currentField.config,options:e.currentField.options,preset:e.currentField.preset,clear:e.valueClearIndex,fdata:e.formData,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,footerButtonEvent:e.ftBtnEvent,onOnValue:e.onFieldValue,onOnFieldActivated:e.onFieldActivated},null,8,["config","options","preset","clear","fdata","cdata","activationState","onValue","defaultValue","onValueUpdate","footerButtonEvent","onOnValue","onOnFieldActivated"]))],1024))]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{color:"dark"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.footerBtns,(function(t,n){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:n,slot:t.slot||"start",class:t.styleClass,onClick:function(n){return e.onFtButtonClicked(t)},color:t.color||"primary",size:t.size||"large",disabled:e.onDisabledBtnState(t,"disabled",!1)},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1032,["slot","class","onClick","color","size","disabled"])),[[r["vShow"],e.onVisibleBtnState(t,"visible")]])})),128))]})),_:1})]})),_:1})]})),_:1})],64)}n("99af"),n("4de4"),n("4160"),n("caad"),n("a15b"),n("2532"),n("159b");var o=n("9ab4"),a=n("d95e"),c=n("2ef0"),s=n("8a30"),u=n("b5e4"),l=Object(r["withScopeId"])("data-v-2a4fc5de"),d=l((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-grid"),d=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(d,null,{default:l((function(){return[Object(r["createVNode"])(u,null,{default:l((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rowItems,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:t},{default:l((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{class:"col",key:t},{default:l((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.label)+":",1),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1})]})),_:1})})),p=n("2b47"),b=n("7e73"),h=Object(r["defineComponent"])({name:"HisResultCard",components:{ToolBarMediumCard:p["a"],IonGrid:s["p"],IonCol:s["m"],IonRow:s["F"]},props:{items:{type:Object,required:!0}},computed:{rowItems:function(){return b["a"].convertArrayToTurples(this.items,2)}}}),f=(n("5117"),n("d959")),m=n.n(f);const g=m()(h,[["render",d],["__scopeId","data-v-2a4fc5de"]]);var O=g,v=Object(r["defineComponent"])({name:"TouchscreenForm",components:Object(o["a"])({InfoCard:O,IonButtons:s["e"],IonPage:s["B"],IonContent:s["n"],IonFooter:s["o"],IonToolbar:s["N"],IonButton:s["d"],IonHeader:s["q"],IonTitle:s["M"],IonCol:s["m"],IonRow:s["F"]},a["a"]),emits:["onFinish","onIndex"],props:{onFinish:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String}},data:function(){return{ftBtnEvent:{eventIndex:0,btnName:"",btnOutput:null},valueClearIndex:0,currentIndex:0,currentField:{},currentFieldContext:null,formData:{},computedFormData:{},footerBtns:[],currentFields:[],state:""}},computed:{helpText:function(){return this.currentField.dynamicHelpText?this.currentField.dynamicHelpText(this.formData):this.currentField.helpText}},watch:{fields:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return Object(c["isEmpty"])(e)?[3,3]:(this.buildFormData(e),t=e,this.skipSummary||(t=Object(o["f"])(t,[this.getDefaultSummaryField()])),this.currentFields=t,this.activeField?(this.mountField(this.activeField),[3,3]):[3,1]);case 1:return[4,this.onNext()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},immediate:!0,deep:!0},activeField:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){return e&&this.mountField(e),[2]}))}))}}},mounted:function(){this.footerBtns=[this.getCancelBtn()]},methods:{clearValue:function(){this.valueClearIndex+=1,this.setActiveFieldValue(null)},onFtButtonClicked:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return this.ftBtnEvent.eventIndex+=1,this.ftBtnEvent.btnName=e.name,t=this.ftBtnEvent,[4,e.onClick(this.formData,this.computedFormData,this.currentFieldContext)];case 1:return t.btnOutput=n.sent(),e.onClickComponentEvents?this.ftBtnEvent.onClickComponentEvents=e.onClickComponentEvents:this.ftBtnEvent.onClickComponentEvents&&delete this.ftBtnEvent.onClickComponentEvents,[2]}}))}))},mountField:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return"_NEXT_FIELD_"!==e?[3,2]:[4,this.goNext()];case 1:return n.sent(),[2,this.$emit("onIndex",this.currentIndex)];case 2:return t=Object(c["findIndex"])(this.currentFields,{id:e}),t>=0&&t<=this.currentFields.length&&(this.setActiveField(t),this.$emit("onIndex",t)),[2]}}))}))},getCancelBtn:function(e){var t=this;void 0===e&&(e={});var n=e||{};return{name:n.name||"Cancel",color:n.color||"danger",onClick:function(){return Object(o["b"])(t,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return n.onClick?[2,n.onClick()]:[4,Object(u["a"])("Are you sure you want to cancel?")];case 1:return e=t.sent(),e&&(this.cancelDestinationPath?this.$router.push(this.cancelDestinationPath):this.$router.back()),[2]}}))}))}}},getClearBtn:function(e){var t=this;void 0===e&&(e={});var n=e||{};return{name:n.name||"Clear",color:n.color||"warning",slot:"end",onClick:function(){return Object(o["b"])(t,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return n.onClick?[2,n.onClick()]:[4,Object(u["a"])("Are you sure you want to clear field data?")];case 1:return e=t.sent(),e&&this.clearValue(),[2]}}))}))}}},getBackBtn:function(e){var t=this;void 0===e&&(e={});var n=e||{},r=function(){return!(1===t.currentFields.length||t.currentIndex<=0)};return{name:(null===n||void 0===n?void 0:n.name)||"Back",slot:"end",state:{disabled:{default:function(){return!1},onsubmit:function(){return!0}},visible:{onload:function(){return r()},default:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():t.goBack()}}},getNextBtn:function(e){var t=this;void 0===e&&(e={});var n=e||{},r=function(){return!(t.currentIndex+1>=t.currentFields.length||t.currentFields.length<=1)};return{name:(null===n||void 0===n?void 0:n.name)||"Next",color:(null===n||void 0===n?void 0:n.color)||"success",slot:"end",state:{disabled:{onsubmit:function(){return!0},default:function(e){return"requireNext"in e&&!e.requireNext}},visible:{onsubmit:function(){return!1},onfinish:function(){return!1},default:function(){return r()},onload:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():t.goNext()}}},getFinishBtn:function(e){var t=this;void 0===e&&(e={});var n=e||{},r=function(){return t.currentIndex+1>=t.currentFields.length};return{name:(null===n||void 0===n?void 0:n.name)||"Finish",color:(null===n||void 0===n?void 0:n.color)||"success",slot:"end",state:{disabled:{default:function(){return!1},onsubmit:function(){return!0}},visible:{onfinish:function(){return!0},onsubmit:function(){return!0},default:function(){return r()},onload:function(){return r()}}},onClick:function(){return n.onClick?n.onClick():t.goNext()}}},onVisibleBtnState:function(e){var t,n,r;try{if(null===(n=null===(t=this.currentField)||void 0===t?void 0:t.config)||void 0===n?void 0:n.hiddenFooterBtns.includes(e.name))return!1}catch(i){}if(null===(r=null===e||void 0===e?void 0:e.state)||void 0===r?void 0:r.visible){if(this.state in e.state.visible)return e.state.visible[this.state](this.currentField,this.formData);if("default"in e.state.visible)return e.state.visible["default"](this.currentField,this.formData)}return!0},onDisabledBtnState:function(e){var t;if(null===(t=null===e||void 0===e?void 0:e.state)||void 0===t?void 0:t.disabled){if(this.state in e.state.disabled)return e.state.disabled[this.state](this.currentField,this.formData);if("default"in e.state.disabled)return e.state.disabled["default"](this.currentField,this.formData)}return!1},getDefaultSummaryField:function(){var e=this;return{id:"__form_summary__",helpText:"Summary",type:a["b"].TT_SUMMARY,config:{hiddenFooterBtns:["Clear"]},options:function(t,n){var r=[],i=function(i){var o=e.currentFields.filter((function(e){return e.id===i||e.proxyID===i}))[0],a=t[i];if(!a||void 0!=o.appearInSummary&&!o.appearInSummary(t,i))return"continue";var c=Array.isArray(a)?a:[a];c.forEach((function(e){o.summaryMapValue?r.push(o.summaryMapValue(e,t,n[i])):r.push({label:o.helpText,value:e.label})}))};for(var o in t)i(o);return r}}},resolveFormValues:function(e){var t={};for(var n in e)null!=e[n]&&(t[n]=e[n]);return t},onFinishAction:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:if(e=this.resolveFormValues(this.formData),t=this.resolveFormValues(this.computedFormData),!this.onFinish)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.state="onsubmit",[4,this.onFinish(e,t)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),Object(u["c"])(n),[3,4];case 4:return this.state="onfinish",this.$emit("onFinish",e,t),[2]}}))}))},goNext:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return this.currentField.validation&&(e=this.formData[this.currentField.id],t=this.currentField.validation(e,this.formData,this.computedFormData),t)?[2,Object(u["e"])(t.join(", "),3e4)]:this.currentField.beforeNext?[4,this.currentField.beforeNext(this.formData[this.currentField.id],this.formData,this.computedFormData,this)]:[3,2];case 1:if(!n.sent())return[2];n.label=2;case 2:return[4,this.onNext()];case 3:return n.sent(),[2]}}))}))},goBack:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:e=this.currentIndex,n.label=1;case 1:if(!(e>=0))return[3,8];if(t=this.currentFields[e],!Object(c["isEmpty"])(this.currentField)&&this.currentField.id===t.id)return[3,7];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.checkFieldCondition(t)];case 3:return n.sent()?[3,5]:[3,7];case 4:return n.sent(),[3,7];case 5:return[4,this.setActiveField(e,"prev")];case 6:return n.sent(),[2];case 7:return--e,[3,1];case 8:return[2]}}))}))},checkFieldCondition:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t=e.condition,t?[4,e.condition(this.formData,this.computedFormData)]:[3,2];case 1:t=!n.sent(),n.label=2;case 2:return t?("function"===typeof e.onConditionFalse&&e.onConditionFalse(),this.formData[e.id]=e.defaultOutput?e.defaultOutput(this.formData,this.computedFormData):null,e.computedValue&&(this.computedFormData[e.id]=e.defaultComputedOutput?e.defaultComputedOutput(this.formData,this.computedFormData):null),[2,!1]):[2,!0]}}))}))},onFieldActivated:function(e){this.state="onload",this.currentFieldContext=e,this.currentField.onload&&this.currentField.onload(e)},onUnload:function(e){return void 0===e&&(e=""),Object(o["b"])(this,void 0,void 0,(function(){var t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),this.state="unload",Object(c["isEmpty"])(this.currentField)||!this.currentField.unload?[3,2]:(t=this.formData[this.currentField.id],[4,this.currentField.unload(t,e,this.formData,this.computedFormData,this)]);case 1:r.sent(),r.label=2;case 2:return[3,4];case 3:return n=r.sent(),console.error(n),[3,4];case 4:return[2]}}))}))},buildFormData:function(e){var t=this;this.formData={},e.forEach((function(e){e.proxyID&&(t.formData[e.proxyID]=null),t.formData[e.id]=null}))},setActiveFieldValue:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){return this.state="onValue",t=this.currentField.proxyID,n=this.currentField.id,t&&(this.formData[t]=e),this.formData[n]=e,r=null,this.currentField.computedValue&&(e&&(r=this.currentField.computedValue(e,this.formData,this.computedFormData)),t?this.computedFormData[t]=r:this.computedFormData[n]=r),[2]}))}))},onNext:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:e=this.currentFields.length,t=this.currentIndex,r.label=1;case 1:if(!(t<e))return[3,8];if(n=this.currentFields[t],!Object(c["isEmpty"])(this.currentField)&&this.currentField.id===n.id)return[3,7];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.checkFieldCondition(n)];case 3:return r.sent()?[3,5]:[3,7];case 4:return r.sent(),[3,7];case 5:return"function"===typeof this.currentField.exitsForm&&this.currentField.exitsForm(this.formData,this.computedFormData)?[3,8]:[4,this.setActiveField(t,"next")];case 6:return r.sent(),[2];case 7:return++t,[3,1];case 8:return[4,this.onFinishAction()];case 9:return r.sent(),[2]}}))}))},setActiveField:function(e,t){var n;return void 0===t&&(t=""),Object(o["b"])(this,void 0,void 0,(function(){var r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,this.onUnload(t)];case 1:return i.sent(),this.state=t,this.currentIndex=e,this.currentField=this.currentFields[this.currentIndex],this.footerBtns=[this.getCancelBtn()],this.currentField.config&&this.currentField.config.footerBtns&&(this.footerBtns=this.footerBtns.concat(this.currentField.config.footerBtns)),r=null===(n=this.currentField.config)||void 0===n?void 0:n.overrideDefaultFooterBtns,this.footerBtns.push(this.getClearBtn(null===r||void 0===r?void 0:r.clearBtn)),this.footerBtns.push(this.getBackBtn(null===r||void 0===r?void 0:r.backBtn)),this.footerBtns.push(this.getNextBtn(null===r||void 0===r?void 0:r.nextBtn)),this.footerBtns.push(this.getFinishBtn(null===r||void 0===r?void 0:r.finishBtn)),[2]}}))}))},onFieldValue:function(e){this.setActiveFieldValue(e),"requireNext"in this.currentField&&!this.currentField.requireNext&&this.onNext()}}});const _=m()(v,[["render",i]]);t["a"]=_},"958b":function(e,t,n){"use strict";n("fcf1")},"97b0":function(e,t,n){},"9a5e":function(e,t,n){},"9a86":function(e,t,n){"use strict";n("301d")},"9b7c":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("4de4"),n("d81d"),n("b0c0"),n("ac1f"),n("5319");var r=n("9ab4"),i=n("1c74"),o=n("9283"),a=n("8158"),c=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.create=function(t){return e.postJson.call(this,"/lab/orders",t)},t.getOrders=function(t,n){return void 0===n&&(n={}),e.getJson.call(this,"/lab/orders",Object(r["a"])({patient_id:t},n))},t.getTestTypes=function(){return e.getJson.call(this,"/lab/test_types")},t.getTestTypesBySpecimen=function(t){return void 0===t&&(t=""),e.getJson.call(this,"/lab/test_types",{specimen_type:t})},t.getSpecimens=function(t){return e.getJson.call(this,"/lab/specimen_types",{test_type:t})},t.getViralLoadOrders=function(e){return e.filter((function(e){try{var t=e.tests[0].result;return!!Array.isArray(t)&&(e.tests.length>0&&e.tests[0].result.length>0)}catch(n){console.log(n)}}))},t.isHighViralLoadResult=function(e){return"="===e.value_modifier&&parseFloat(e.value)>=1e3||(("<"===e.value_modifier||"&lt"===e.value_modifier)&&parseFloat(e.value)>1e3||(">"===e.value_modifier||"&gt"===e.value_modifier)&&(parseFloat(e.value)>=1e3||"LDL"==(""+e.value).toUpperCase().replace(/\s+/g,"")))},t.formatLabs=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n].accession_number,i="Unknown"==e[n].specimen.name?"N/A":e[n].specimen.name,a=e[n].order_date,c=e[n].tests,s=0;s<c.length;s++){for(var u=c[s].result?c[s].result:[],l=[],d="",p=0;p<u.length;p++){d=null==u[p].date?"":""+u[p].date;var b=u[p].indicator.name,h=u[p].value,f="<"===u[p].value_modifier?"&lt;":u[p].value_modifier;l.push(b+"   "+f+h)}t.push({accession_number:r,test_name:c[s].name,specimen:i,ordered:o["a"].toStandardHisFormat(a),result:l,released:o["a"].toStandardHisFormat(d)})}return t},t.buildLabOrders=function(t,n){var r=this;return n.map((function(n){var i=a["a"].getCachedConceptID(n.reason,!0),c={encounter_id:t.encounter_id,tests:[{concept_id:n.concept_id}],reason_for_test_id:i,target_lab:e.getLocationName.call(r),date:o["a"].toStandardHisFormat(e.getSessionDate.call(r)),requesting_clinician:e.getUserName.call(r)};return n.specimenConcept&&(c["specimen"]={concept_id:n.specimenConcept}),c}))},t.saveOrdersArray=function(e,t){return this.create({encounter_id:e,orders:t})},t}(i["d"])},"9c73":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("4160"),n("d81d"),n("b0c0"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0");var r=n("9ab4"),i=n("cc6f"),o=n("9b7c"),a=n("b89f"),c=function(e){function t(t){return e.call(this,t,57)||this}return Object(r["c"])(t,e),t.prototype.setDate=function(e){this.date=e},t.prototype.getOrders=function(e){return o["a"].getOrders(this.patientID,{status:e,date:this.date})},t.prototype.voidOrder=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,o["a"].void("lab/orders/"+e,{reason:t})]}))}))},t.prototype.updateOrderSpecimen=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,o["a"].putJson("lab/orders/"+e,{specimen:{concept_id:t}})]}))}))},t.prototype.printSpecimenLabel=function(e){return(new a["a"]).printLbl("lab/labels/order?order_id="+e)},t.prototype.placeOrder=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(a){switch(a.label){case 0:return t=[],[4,this.createEncounter()];case 1:if(n=a.sent(),!n)throw"Unable to create encounter";return i=Object(r["a"])({encounter_id:n.encounter_id,date:this.date},e),i.requesting_clinician||(i["requesting_clinician"]=o["a"].getUserName()),t=e.combine_tests?[i]:i.tests.map((function(e){var t=Object(r["a"])({},i);return t.tests=[e],t})),[2,o["a"].postJson("lab/orders",{orders:t})]}}))}))},t.getSpecimensForTests=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return o["a"].getSpecimens(e.name)})))];case 1:return t=n.sent(),[2,this.getCommonSpecimens(t)]}}))}))},t.getCommonSpecimens=function(e){var t={},n=[];for(var i in e.forEach((function(e){e.forEach((function(e){var n=e.name,i=Object(r["e"])(e,["name"]),o=Object(r["a"])({name:n},i);t[n]?t[n].push(o):t[n]=[o]}))})),t)t[i].length>=e.length&&n.push(t[i][0]);return n},t}(i["a"])},"9ceb":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));n("4160"),n("ac1f"),n("5319"),n("498a"),n("159b");var r=n("9ab4"),i=n("9283"),o=n("25da");function a(e){return"string"!==typeof e?e:e.replace(/,/gi," ").trim()}function c(e,t){var n=[],r=[],i=function(r){var i=[];t[r].forEach((function(t,n){var r=e[e.length-1][n];"exportable"in r&&r.exportable&&i.push(t.value?a(t.value):a(t.td))})),n.push(i)};for(var o in t)i(o);var c=function(t){var n=[];e[t].forEach((function(e){e.exportable&&n.push(e.value?a(e.value):a(e.th))})),r.push(n)};for(var o in e)c(o);return{columns:r,rows:n}}function s(e){var t={th:function(){return e.th?e.th:""},td:function(){return e.td?e.td:""},value:function(){return e.value?e.value:""},type:function(){return e.type?e.type:"string"},exportable:function(){return!("exportable"in e)||e.exportable},sortable:function(){return!("sortable"in e)||e.sortable},colspan:function(){return e.colspan?e.colspan:0},cssClass:function(){return e.cssClass?e.cssClass:0},style:function(){return e.style?e.style:0},ascSort:function(){return e.ascSort?e.ascSort:function(e,t){return Object(o["a"])(t).asc((function(t){return t[e].td}))}},descSort:function(){return e.descSort?e.descSort:function(e,t){return Object(o["a"])(t).desc((function(t){return t[e].td}))}}},n={};for(var r in t)n[r]=t[r]();return n}function u(e,t){void 0===t&&(t={});var n=t;return n.th=e,n.type="string",s(n)}function l(e,t){void 0===t&&(t={});var n=t;return n.th=e,n.type="date",s(n)}function d(e,t){void 0===t&&(t={});var n=t;return n.th=e,n.type="number",s(n)}function p(e,t){void 0===t&&(t={});var n=t;return n.td=i["a"].toStandardHisDisplayFormat(e),s(n)}function b(e,t){return void 0===t&&(t={}),Object(r["a"])({td:e},t)}function h(e,t,n){return void 0===n&&(n={}),Object(r["a"])({td:e,event:{click:t,obj:"link"}},n)}function f(e,t,n,i){void 0===n&&(n={}),void 0===i&&(i="");var o={td:e,event:{click:t,color:i,obj:"button"}};return n.event&&(o.event=Object(r["a"])(Object(r["a"])({},o.event),n.event),delete n.event),Object.assign(o,n)}t["a"]={thTxt:u,thNum:d,thDate:l,td:b,tdBtn:f,tdDate:p,tdLink:h}},"9e42":function(e,t,n){"use strict";n("6d62")},"9ed9":function(e,t,n){"use strict";n("b713")},a039:function(e,t,n){"use strict";n("6b5c")},a0d6:function(e,t,n){},a16a:function(e,t,n){"use strict";n("6b64")},a1cd:function(e,t,n){"use strict";n("43e5")},a3a5:function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),i={key:0},o={key:0},a={key:1},c={key:1},s={key:2};function u(e,t,n,u,l,d){var p=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])("table",{class:e.classStyles},[Object(r["createVNode"])("tr",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.columns,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("th",{key:t},Object(r["toDisplayString"])(e),1)})),128))]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.rows,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(u,l){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{class:e.getColorCodeClass(n,l),key:l},[e.isLink(u)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[u.isActive?(Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("a",{href:"#",onClick:Object(r["withModifiers"])((function(e){return u.action(t)}),["prevent"])},Object(r["toDisplayString"])(u.value),9,["onClick"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,Object(r["toDisplayString"])(u.value),1))])):e.isActionButton(u)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])(p,{onClick:function(e){return u.action(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(u.name),1)]})),_:2},1032,["onClick"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[Object(r["createVNode"])("span",{innerHTML:u},null,8,["innerHTML"])]))],2)})),128))])})),128))],2)}n("4de4"),n("caad"),n("a15b"),n("2532");var l=n("53ca"),d=n("2ef0"),p=n("8a30"),b=Object(r["defineComponent"])({components:{IonButton:p["d"]},props:{styles:{type:Array},rowColors:{type:Array,default:function(){return[]}},cellColors:{type:Array,default:function(){return[]}},columns:{type:Object,required:!0},rows:{type:Object}},computed:{classStyles:function(){var e=this.styles?this.styles.join(" "):"";return"his-table "+e}},methods:{isLink:function(e){try{return"object"===Object(l["a"])(e)&&"link"===e.type}catch(t){return e}},isActionButton:function(e){try{return"object"===Object(l["a"])(e)&&"button"===e.type}catch(t){return e}},getColorCodeClass:function(e,t){var n="";if(!Object(d["isEmpty"])(this.rowColors)){var r=this.rowColors.filter((function(t){return t.indexes.includes(e)}));Object(d["isEmpty"])(r)||(n+=" "+r[0].class)}if(!Object(d["isEmpty"])(this.cellColors)){var i=this.cellColors.filter((function(n){return n.index===t&&n.row===e}));Object(d["isEmpty"])(i)||(n+=" "+i[0].class)}return n}}}),h=n("d959"),f=n.n(h);const m=f()(b,[["render",u]]);t["a"]=m},a3be:function(e,t,n){},a441:function(e,t,n){},a4d3f:function(e,t,n){"use strict";n("04a0")},a512:function(e,t,n){"use strict";n("5126")},a807:function(e,t,n){"use strict";n("3b1f")},a80d:function(e,t,n){},a981:function(e,t,n){"use strict";n("5358")},aa16:function(e,t,n){"use strict";n("4a29")},aa55:function(e,t,n){var r={"./ion-action-sheet.entry.js":["6618","chunk-706e4ef2"],"./ion-alert.entry.js":["f06c","chunk-77362677"],"./ion-app_8.entry.js":["c215","chunk-34f7327c"],"./ion-avatar_3.entry.js":["cf12","chunk-59d4c87c"],"./ion-back-button.entry.js":["4b35","chunk-69eb8776"],"./ion-backdrop.entry.js":["429d","chunk-2d0c073f"],"./ion-button_2.entry.js":["4453","chunk-25d83ca8"],"./ion-card_5.entry.js":["070b","chunk-541ea42d"],"./ion-checkbox.entry.js":["dfd8","chunk-09162720"],"./ion-chip.entry.js":["430d","chunk-09155df3"],"./ion-col_3.entry.js":["6a8a","chunk-2d0da04a"],"./ion-datetime_3.entry.js":["c15b","chunk-21a76241"],"./ion-fab_3.entry.js":["dd47","chunk-3ed29de3"],"./ion-img.entry.js":["9588","chunk-2d0e5812"],"./ion-infinite-scroll_2.entry.js":["d1e5","chunk-2d21da73"],"./ion-input.entry.js":["d111","chunk-37f2300e"],"./ion-item-option_3.entry.js":["1bb3","chunk-5ff96a24"],"./ion-item_8.entry.js":["69da","chunk-5a8ac886"],"./ion-loading.entry.js":["53a5","chunk-6d375f34"],"./ion-menu_3.entry.js":["cb00","chunk-097e0872"],"./ion-modal.entry.js":["1ad0","chunk-f858ef4e"],"./ion-nav_2.entry.js":["e44f","chunk-c53d26f0"],"./ion-popover.entry.js":["4285","chunk-1f3fa45a"],"./ion-progress-bar.entry.js":["9b72","chunk-1dbc15a2"],"./ion-radio_2.entry.js":["beb3","chunk-0e93a01c"],"./ion-range.entry.js":["719f","chunk-54bbd082"],"./ion-refresher_2.entry.js":["0a47","chunk-d8413eac"],"./ion-reorder_2.entry.js":["6672","chunk-d0e8aa0a"],"./ion-ripple-effect.entry.js":["c8da","chunk-2d218068"],"./ion-route_4.entry.js":["10e8","chunk-858cd918"],"./ion-searchbar.entry.js":["8625","chunk-a9395c36"],"./ion-segment_2.entry.js":["0c02","chunk-462c869e"],"./ion-select_3.entry.js":["d25f","chunk-79f1dac7"],"./ion-slide_2.entry.js":["05dd","chunk-2d0a463b"],"./ion-spinner.entry.js":["e11b","chunk-8bb7f81e"],"./ion-split-pane.entry.js":["aae8","chunk-2d213189"],"./ion-tab-bar_2.entry.js":["a2bb","chunk-02c995b5"],"./ion-tab_2.entry.js":["6725","chunk-c567cc2a"],"./ion-text.entry.js":["ed3b","chunk-30dd9750"],"./ion-textarea.entry.js":["8798","chunk-eaa2b130"],"./ion-toast.entry.js":["c1a5","chunk-41c0f7a4"],"./ion-toggle.entry.js":["bef2","chunk-7548ca2d"],"./ion-virtual-scroll.entry.js":["5fd7","chunk-2d0d43da"]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="aa55",e.exports=i},ab49:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onOnskip:t[1]||(t[1]=function(t){return e.activeField=""}),onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","activeField","onFinishAction","cancelDestinationPath"])}n("99af"),n("4de4"),n("4160"),n("caad"),n("d81d"),n("b680"),n("d3b7"),n("ac1f"),n("2532"),n("3ca3"),n("1276"),n("159b"),n("ddb0");var o=n("9ab4"),a=n("d95e"),c=n("7920"),s=n("2706"),u=n("b515"),l=n("b5e4"),d=n("7365"),p=n("aee2"),b=n("ad60"),h=n("d1ca"),f=n("2ef0"),m=n("3e53"),g=Object(r["defineComponent"])({mixins:[d["a"]],components:{HisStandardForm:c["a"]},data:function(){return{app:m["a"].getActiveApp(),activeField:"",age:null,gender:null,hasBPinfo:!1,recentHeight:null,HTNEnabled:!1,optionWhiteList:[],hasHTNObs:!1,vitals:{},weightForHeight:{},medianWeightandHeight:{}}},watch:{patient:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.init(e)];case 1:return t.sent(),[2]}}))}))},deep:!0}},methods:{init:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a,c=this;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return t=this.$route.query.vital_options,this.vitals=new u["a"](e.getID(),this.providerID),this.age=e.getAge(),this.gender=e.getGender(),t&&(this.optionWhiteList=t.split(",")),this.canCheckWeightHeight()?[4,e.getRecentHeight()]:[3,4];case 1:return n=o.sent(),this.recentHeight=-1==n?null:n,this.age<=14?(r=this,[4,e.getMedianWeightHeight()]):[3,4];case 2:return r.medianWeightandHeight=o.sent(),i=this,[4,b["a"].getWeightForHeightValues()];case 3:i.weightForHeight=o.sent(),o.label=4;case 4:return[4,u["a"].getAll(e.getID(),"Treatment status").then((function(e){c.hasHTNObs=e&&e.length>0}))];case 5:return o.sent(),a=this,[4,h["b"].htnEnabled()];case 6:return a.HTNEnabled=o.sent(),this.fields=this.getFields(),[2]}}))}))},getOptions:function(){var e=this,t=this.recentHeight&&this.age>18?this.recentHeight:"",n=!(t&&this.age>18),r=[{label:"Weight",value:"",other:{modifier:"KG",icon:"weight",required:!0}},{label:"Height",value:""+t,other:{modifier:"CM",icon:"height",recentHeight:this.recentHeight,visible:n,required:n}},{label:"BP",value:"",other:{modifier:"mmHG",icon:"bp"}},{label:"Temp",value:"",other:{modifier:"C",icon:"temp"}},{label:"SP02",value:"",other:{modifier:"%",icon:"spo2"}},{label:"Pulse",value:"",other:{modifier:"BPM",icon:"pulse-rate"}},{label:"Age",value:this.age,other:{modifier:"Years old",icon:"",visible:!1}}];return Object(f["isEmpty"])(this.optionWhiteList)?r:r.filter((function(t){return e.optionWhiteList.includes(t.label)})).map((function(e){return e.other.required=!0,e}))},canCheckWeightHeight:function(){return Object(f["isEmpty"])(this.optionWhiteList)||this.optionWhiteList.includes("Height")&&this.optionWhiteList.includes("Weight")},canCheckBp:function(){return Object(f["isEmpty"])(this.optionWhiteList)||this.optionWhiteList.includes("BP")},onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,this.vitals.createEncounter()];case 1:return t=i.sent(),t?[4,this.buildObs(e)]:[2,Object(l["e"])("Unable to create treatment encounter")];case 2:return n=i.sent(),[4,this.vitals.saveObservationList(n)];case 3:return r=i.sent(),r?(Object(l["d"])("Observations and encounter created!"),this.nextTask(),[2]):[2,Object(l["e"])("Unable to save patient observations")]}}))}))},buildObs:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,this.mapObs(this.sanitizeVitals(e.vitals).filter((function(e){return"BP"!==e.label})))];case 1:return t=r.sent(),!this.HTNEnabled||this.hasHTNObs?[3,3]:[4,this.vitals.buildValueText("Treatment status",e.on_htn_medication.value)];case 2:n=r.sent(),t.push(n),r.label=3;case 3:return[2,t]}}))}))},splitBP:function(e){var t=[];return e.forEach((function(e){if("BP"===e.label){var n=(""+e.value).split("/"),r=n[0],i=n[1];t.push({label:"Systolic",value:r}),t.push({label:"Diastolic",value:i})}})),t},getBMI:function(e){var t=this.getVal(e,"Weight"),n=this.getVal(e,"Height"),r=[];if(this.age<=14){var i=(t/parseFloat(this.medianWeightandHeight["weight"])*100).toFixed(0),o=(n/parseFloat(this.medianWeightandHeight["height"])*100).toFixed(0),a=(n%Math.floor(n)<.5?0:.5)+Math.floor(n),c=this.weightForHeight[a.toFixed(1)],s=(t/c*100).toFixed(0);isNaN(parseFloat(s))||r.push({label:"Weight for height percent of median",value:s}),r.push({label:"Weight for age percent of median",value:i}),r.push({label:"Height for age percent of median",value:o})}else{var u=p["a"].calculateBMI(t,n);r.push({label:"BMI",value:u})}return r},getVal:function(e,t){var n=e.filter((function(e){return e.label===t}));return""===n[0].value?0:parseFloat(""+n[0].value)},mapObs:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(o["d"])(this,(function(r){return t=e.map((function(e){return Object(o["b"])(n,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,this.vitals.buildValueNumber(e.label,e.value)];case 1:return t=n.sent(),[2,t]}}))}))})),[2,Promise.all(t)]}))}))},validateVitals:function(e){var t=this.checkRequiredVitals(e);if(t.length>0)return t.map((function(e){return[e.label+" can not be empty"]}));var n=this.sanitizeVitals(e);return this.vitals.validateAll(n)},sanitizeVitals:function(e){var t=e.filter((function(e){return("Height"!==e.label||0!=e.other.required)&&(""!==e.value&&"Age"!==e.label)}));return this.canCheckBp()&&(t=t.concat(this.splitBP(t))),this.canCheckWeightHeight()&&(t=t.concat(this.getBMI(e))),t},checkRequiredVitals:function(e){return e.filter((function(e){return""===e.value&&!0===e.other.required}))},getFields:function(){var e=this,t=this.HTNEnabled,n=this.hasHTNObs;return[{id:"on_htn_medication",helpText:"Already taking drugs for blood pressure?",type:a["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},condition:function(){var r;return t&&!n&&"ART"===(null===(r=e.app)||void 0===r?void 0:r.applicationName)},options:function(){return[{label:"Yes",value:"BP Drugs started"},{label:"No",value:"Not on BP Drugs"}]}},{id:"vitals",helpText:"Vitals entry",type:a["b"].TT_VITALS_ENTRY,validation:function(t){return e.validateVitals(t)},config:{hiddenFooterBtns:["Clear"],onUpdateAlertStatus:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return e=Object(f["find"])(t,{label:"Weight"}),n=Object(f["find"])(t,{label:"Height"}),e&&n?(r=parseFloat(e.value),i=parseFloat(n.value),r<=0||i<=0?[2,{label:"BMI",value:"N/A",color:"",status:""}]:[4,p["a"].getBMI(r,i,this.gender,this.age)]):[2];case 1:return a=o.sent(),[2,{label:"BMI",value:a.index,color:a.color,status:a.result}]}}))}))},onChangeOption:function(t){if(!t.value&&t.other.required)throw"Value for "+t.label+" is required";if(t.value){var n=e.vitals.validator(t);if(n&&n.length)throw n}}},options:function(){return e.getOptions()}}]}}}),O=n("d959"),v=n.n(O);const _=v()(g,[["render",i]]);t["default"]=_},abd7:function(e,t,n){"use strict";n("1a75")},ad1d:function(e,t,n){},ad49:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("ac1f"),n("1276");var r=n("9ab4"),i=n("1c74"),o=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.get=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.getJson.call(this,"global_properties",{property:t})];case 1:return n=r.sent(),n&&t in n?[2,n[t]]:[3,3];case 2:return i=r.sent(),console.error(i),[3,3];case 3:return[2]}}))}))},t.isProp=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=e.split("="),n=t[0],i=t[1],[4,this.get(n)];case 1:return o=r.sent(),o?[2,i===o]:[3,3];case 2:return a=r.sent(),console.error(a),[3,3];case 3:return[2,!1]}}))}))},t.set=function(t,n){return e.postJson.call(this,"global_properties",{property:t,property_value:n})},t}(i["d"])},ad60:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("9ab4"),i=n("1c74"),o=n("2b3a"),a=n("8a30"),c=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getAllPrograms=function(){return e.getJson.call(this,"programs",{page_size:1e3})},t.getPatientPrograms=function(t){return e.getJson.call(this,"patients/"+t+"/programs")},t.getPatientVLInfo=function(t){var n=e.getProgramID.call(this);return e.getJson.call(this,"programs/"+n+"/patients/"+t+"/vl_info",{date:this.getSessionDate()})},t.getProgramWorkflows=function(t){return e.getJson.call(this,"programs/"+t+"/workflows")},t.getPatientStates=function(t,n){return e.getJson.call(this,"programs/"+n+"/patients/"+t+"/states")},t.voidProgram=function(t,n){return void 0===n&&(n=""),e.void.call(this,"patient_programs/"+t+"/",{reason:n})},t.createState=function(t,n,r){return e.postJson.call(this,"programs/"+n+"/patients/"+t+"/states",r)},t.voidState=function(t,n,r,i){return void 0===i&&(i=""),e.void.call(this,"programs/"+n+"/patients/"+t+"/states/"+r,{reason:i})},t.getProgramInformation=function(t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.getJson.call(this,"/programs/"+e.getProgramID.call(this)+"/patients/"+t)];case 1:return n=r.sent(),[2,n];case 2:return r.sent(),[2,{}];case 3:return[2]}}))}))},t.getCurrentProgramInformation=function(t,n){return e.getJson.call(this,"/programs/"+e.getProgramID.call(this)+"/patients/"+t+"/visit?date="+n)},t.getMastercardDrugInformation=function(t,n){return e.getJson.call(this,"/programs/"+e.getProgramID.call(this)+"/patients/"+t+"/mastercard_data?date="+n)},t.getNextTask=function(t){return e.getJson.call(this,"/workflows/"+e.getProgramID.call(this)+"/"+t,{date:e.getSessionDate.call(this)})},t.getNextSuggestedARVNumber=function(){return e.getJson.call(this,"/programs/1/next_available_arv_number")},t.getFastTrackStatus=function(t){return e.getJson.call(this,"/on_fast_track",{person_id:t,date:e.getSessionDate.call(this)})},t.createPatient=function(t){return e.postJson.call(this,"/patients/",{program_id:e.getProgramID.call(this),person_id:t})},t.enrollPatient=function(t){return e.postJson.call(this,"/patients/"+t+"/programs",{program_id:e.getProgramID.call(this),date_enrolled:e.getSessionDate.call(this)})},t.enrollProgram=function(t,n,r){return e.postJson.call(this,"/patients/"+t+"/programs",{program_id:n,date_enrolled:r})},t.getWeightForHeightValues=function(){return e.getJson.call(this,"/patient_weight_for_height_values")},t.selectApplication=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,a["U"].create({component:o["a"],cssClass:"my-custom-class",backdropDismiss:!1,componentProps:{appVersion:i["d"].getFullVersion()}})];case 1:return e=t.sent(),e.present(),[2,e]}}))}))},t}(i["d"])},ad8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("9ab4"),i=n("5969"),o=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50-54 years","55-59 years","60-64 years","65-69 years","70-74 years","75-79 years","80-84 years","85-89 years","90 plus years"],a=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.prototype.getBookedAppointments=function(e){return i["a"].getJson("programs/"+this.programID+"/scheduled_appointments",{date:e})},t.prototype.getViralLoadResults=function(e){return this.getReport("/programs/"+this.programID+"/reports/high_vl_patients",{range:e})},t.prototype.getOtherOutcome=function(e){return this.getReport("patient_outcome_list",{outcome:e})},t.prototype.getPatientVisitTypes=function(){return this.getReport("patient_visit_types")},t.prototype.getClientsDueForVl=function(){return this.getReport("clients_due_vl")},t.prototype.getClientRentention=function(){return this.getReport("/programs/"+this.programID+"/reports/retention")},t.prototype.getExternalConsultationClients=function(){return this.getReport(this.programID+"/external_consultation_clients")},t.prototype.getMissedAppointments=function(){return this.getReport("missed_appointments")},t.prototype.getPregnantWomen=function(){return this.getReport("/programs/"+this.programID+"/reports/pregnant_patients")},t.prototype.getArchivingCandidates=function(){return i["a"].getJson("programs/"+this.programID+"/reports/archiving_candidates",{start_date:this.date})},t}(i["a"])},ae20:function(e,t,n){"use strict";n("dafa")},ae74:function(e,t,n){},aee2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4160"),n("c975"),n("b64b"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("159b");var r=n("9ab4"),i=function(){function e(){}return e.getBMIData=function(){return Object(r["b"])(this,void 0,Promise,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,fetch("/bmi.json")];case 1:return e=t.sent(),[2,e.json()]}}))}))},e.getBMIResult=function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return i={result:"",color:"",index:n},t<5&&t>0?(i.result="Use MUAC to calculate nutrition status",i.color="red",[3,3]):[3,1];case 1:return t>18&&(t=19),[4,this.getBMIData()];case 2:o=r.sent(),a=o[e][t],a&&(i=this.buildBounds(Object.keys(a),a,n,o.colors)),r.label=3;case 3:return[2,i]}}))}))},e.buildBounds=function(e,t,n,r){var i={result:"",color:"",index:n};return e.forEach((function(e){if(e.indexOf("-")>=0){var o=e.split("-");n>=parseFloat(o[0])&&n<=parseFloat(o[1])&&(i.result=t[e],i.color=r[t[e]])}else if(e.indexOf("<")>=0){var a=e.replace("<","");n<parseFloat(a)&&(i.result=t[e],i.color=r[t[e]])}else if(e.indexOf(">=")>=0){var c=e.replace(">=","");n>=parseFloat(c)&&(i.result=t[e],i.color=r[t[e]])}})),i},e.getBMI=function(e,t,n,r){var i=this.calculateBMI(e,t);return this.getBMIResult(n,r,i)},e.calculateBMI=function(e,t){if(0==t||0==e)return 0;var n=e/t/t*1e4;return Math.round(10*n)/10},e}()},b1bd:function(e,t,n){"use strict";n("41dd")},b2c2:function(e,t,n){},b446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return _}));n("a623"),n("caad"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("1276");var r,i=n("9ab4"),o=n("d95e"),a=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],c=n("9283"),s=n("2706"),u=n("3800"),l=n("6be2");function d(e,t,n){void 0===n&&(n=!0);var r=[];return n&&r.push("UNKNOWN"),{id:e,helpText:t+" Year",appearInSummary:function(){return!1},type:o["b"].TT_TEXT,config:{customKeyboard:[u["i"],[r,["DELETE"]]]}}}function p(e,t){return{id:e,helpText:t+" Month",appearInSummary:function(){return!1},type:o["b"].TT_SELECT,options:function(){return a}}}function b(e,t){return{id:e,helpText:t+" Day",type:o["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function h(e,t){return{id:e,helpText:t+" Estimated period",type:o["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function f(e,t){return{id:e,helpText:t+" Age Estimate",type:o["b"].TT_NUMBER,appearInSummary:function(){return!1},config:{keypad:l["e"]}}}function m(e){return parseInt(e)<10?"0"+e:e}function g(e,t){return Object(i["b"])(this,void 0,void 0,(function(){var n,r,o,a,c;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return e.defaultValue?[4,e.defaultValue()]:[3,2];case 1:if(n=i.sent(),n)switch(r=n.split("-"),o=r[0],a=r[1],c=r[2],t){case"Year":return[2,o||""];case"Month":return[2,parseInt(a)||""];case"Day":return[2,parseInt(c)||""]}i.label=2;case 2:return[2,""]}}))}))}function O(e){return c["a"].toStandardHisDisplayFormat(e)}function v(e,t,n,r){if(t.minDate){var i=t.minDate(n,r);if(new Date(e)<new Date(i))return[O(e)+" is less than minimum date of "+O(i)]}if(t.maxDate){var o=t.maxDate(n,r);if(new Date(e)>new Date(o))return[O(e)+" is greater than max date of  "+O(o)]}}function _(e,t){void 0===t&&(t="");var n="",o="",u="",l="",_="year_"+e.id,j="month_"+e.id,y="day_"+e.id,w="age_estimate_"+e.id,N="duration_estimate_"+e.id,C=d(_,e.helpText,e.estimation.allowUnknown),V=p(j,e.helpText),D=b(y,e.helpText),k=f(w,e.helpText),T=h(N,e.helpText),I="boolean"===typeof e.estimation.allowUnknownMonthDay&&e.estimation.allowUnknownMonthDay,x=function(t){return!(t[_]&&t[_].value&&["Unknown"].includes(t[_].value))&&(!e.condition||e.condition(t))};C.proxyID=e.id,C.unload=function(e){return o=e.value.toString()},C.config=Object(i["a"])(Object(i["a"])({},C.config),e.config),C.defaultValue=function(){return g(e,"Year")},C.condition=function(t){return!e.condition||e.condition(t)},C.validation=function(t,n,r){if(e.required&&s["a"].required(t))return["Year cannot be empty"];var i=t?t.value:"";if(!e.estimation.allowUnknown&&i.toString().match(/unknown/i))return["Value unknown is not permitted"];if(i&&!["Unknown"].includes(i)&&isNaN(i)||i<1900)return["Invalid Year"];if(i&&"function"===typeof e.minDate){var o=c["a"].getYear(e.minDate(n,r));if(parseInt(i)<o)return["Year of "+i+" is less than Minimum year of "+o]}if(i&&"function"===typeof e.maxDate){var a=c["a"].getYear(e.maxDate(n,r));if(i>a)return["Year of "+i+" exceeds Maximum year of "+a]}return null},C.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:n?O(n):"Unknown"}},C.appearInSummary=function(t,n){return n===e.id},C.computedValue=function(t){if(n){var r=n.split("-"),i=(r[0],r[1]),o=r[2];return n=t.value+"-"+i+"-"+o,e.computeValue(n,!1)}if(t&&"Unknown"===t.value)return n="",e.computeValue("Unknown",!1)},V.proxyID=e.id,V.unload=function(e){return u=m(e.value.toString())},V.condition=function(e){return x(e)},V.validation=function(e){return s["a"].required(e)},V.defaultValue=function(){return g(e,"Month")},I&&(V.options=function(){return Object(i["f"])(a,[{label:"Unknown",value:"Unknown"}])}),V.computedValue=function(t,r){if((""+t.value).match(/unknown/i))return n=r[_].value+"-07-15",e.computeValue(n,!0);if(n){var i=n.split("-"),o=i[0],a=(i[1],i[2]),c=m(""+t.value);return n=o+"-"+c+"-"+a,e.computeValue(n,!1)}},D.proxyID=e.id,D.condition=function(e){return!(""+e[j].value).match(/unknown/i)&&x(e)},D.validation=function(t,r,i){return s["a"].required(t)?["Day is required for date"]:v(n,e,r,i)},D.defaultValue=function(){return g(e,"Day")},D.computedValue=function(t){var r=!!(""+t.value).match(/unknown/i);return l=r?"15":m(""+t.value),n=o+"-"+u+"-"+l,e.computeValue(n,r)},D.unload=function(t,n,r,i){e.unload&&e.unload(t,n,r,i)},D.beforeNext=function(t,r){return!e.beforeNext||e.beforeNext(n,r)},D.config={year:function(e){return e[_].value},month:function(e){return e[j].value}},I||(D.config.keyboardActions=[]);var S=function(t,r,i){return s["a"].required(t)?["Please select an estimate"]:isNaN(parseInt(t.value.toString()))?["Please enter a valid number"]:v(n,e,r,i)},P=function(t,n){var r=["Unknown"===t[_].value,!e.condition||e.condition(t),e.estimation.estimationFieldType===n];return r.every(Boolean)};return k.proxyID=e.id,k.validation=function(e,t,n){return e&&e.value>300?["Age estimate is too high and exceeding hard limit of 300"]:S(e,t,n)},k.condition=function(e){return P(e,r.AGE_ESTIMATE_FIELD)},k.computedValue=function(t){var r=c["a"].estimateDateFromAge(parseInt(t.value.toString())).split("-")[0];return n=r+"-07-15",e.computeValue(n,!0)},k.beforeNext=function(t,r){return!e.beforeNext||e.beforeNext(n,r)},T.proxyID=e.id,T.validation=S,T.condition=function(e){return P(e,r.MONTH_ESTIMATE_FIELD)},T.computedValue=function(r){var i=c["a"].getDateBeforeByDays(t,parseInt(r.value.toString())).split("-")[0];return n=i+"-07-15",e.computeValue(n,!0)},T.beforeNext=function(t,r){return!e.beforeNext||e.beforeNext(n,r)},[C,V,D,k,T]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(r||(r={}))},b489:function(e,t,n){},b515:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("4de4"),n("4160"),n("d81d"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("1276"),n("159b");var r=n("9ab4"),i=n("cc6f"),o=n("2ef0"),a=function(e){function t(t,n){return e.call(this,t,6,n)||this}return Object(r["c"])(t,e),t.prototype.isNotEmptyandNumber=function(e){return(""+e.value).match(/^-?\d+\.?\d*$/)?null:["Invalid entry for "+e.label]},t.prototype.isNotEmptyandFloat=function(e){return(""+e.value).match(/^\d{1,3}\.\d{1,5}$/)?null:["Invalid entry for "+e.label+". Don't forget to add a decimal. e.g. 56.2 "+e.other.modifier]},t.prototype.checkMinMax=function(e,t,n){var r,i,o=[];return parseFloat(""+e.value)<t&&o.push([e.label+" entered is less than minimum "+t+" "+((null===(r=null===e||void 0===e?void 0:e.other)||void 0===r?void 0:r.modifier)||"")]),parseFloat(""+e.value)>n&&o.push([e.label+" entered is greater than maximum "+n+" "+((null===(i=null===e||void 0===e?void 0:e.other)||void 0===i?void 0:i.modifier)||"")]),o.length>0?o:null},t.prototype.validateAll=function(e){var t=this,n=[];return e.map((function(e){var r=t.validator(e);return Object(o["isArray"])(r)?n.push(r):null})),n.length>0?n:null},t.prototype.mergeErrors=function(e){var t=[];return e.forEach((function(e){Object(o["isArray"])(e)&&t.push(e)})),t.length>0?t:null},t.prototype.isValidBPReading=function(e){var t=[],n=(""+e.value).match(/^\d{1,3}\/\d{1,3}$/g)?null:["Invalid BP reading"];if(t.push(n),null==n){var r=(""+e.value).split("/"),i={label:"Systolic",value:r[0]},o={label:"Diastolic",value:r[1]};t.push(this.checkMinMax(o,30,200)),t.push(this.checkMinMax(i,40,250))}return this.mergeErrors(t)},t.prototype.validator=function(e){var t=this,n=[{name:"Weight",validator:function(e){var n=t.isNotEmptyandFloat(e),r=t.checkMinMax(e,2,250);return t.mergeErrors([n,r])}},{name:"Height",validator:function(e){var n=[];return e.other.recentHeight&&parseInt(e.value.toString())<e.other.recentHeight&&n.push(["The entered height is less that previous height "+e.other.recentHeight+"cm"]),n.push(t.isNotEmptyandNumber(e)),n.push(t.checkMinMax(e,40,220)),t.mergeErrors(n)}},{name:"BP",validator:function(e){return t.isValidBPReading(e)}},{name:"Temp",validator:function(e){var n=t.isNotEmptyandNumber(e),r=t.checkMinMax(e,30,42);return t.mergeErrors([n,r])}},{name:"SP02",validator:function(e){var n=t.checkMinMax(e,40,100);return t.mergeErrors([n])}},{name:"Pulse",validator:function(e){var n=t.checkMinMax(e,50,120);return t.mergeErrors([n])}}],r=n.filter((function(t){return t.name===e.label}));return r.length>0?r[0].validator(e):null},t}(i["a"])},b53b:function(e,t,n){"use strict";n("f535")},b5e4:function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return _}));var r=n("9ab4"),i=n("8a30"),o=n("7a23"),a={class:"vertically-align ion-padding-horizontal"};function c(e,t,n,r,i,c){var s=Object(o["resolveComponent"])("action-header"),u=Object(o["resolveComponent"])("ion-content"),l=Object(o["resolveComponent"])("action-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["withDirectives"])(Object(o["createVNode"])(s,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),[[o["vShow"],e.title||e.subtitle]]),Object(o["createVNode"])(u,{style:{"text-align":"center"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("h2",a,Object(o["toDisplayString"])(e.body),1)]})),_:1}),Object(o["createVNode"])(l,{buttons:e.actionButtons},null,8,["buttons"])],64)}var s=n("8efc"),u=Object(o["defineComponent"])({mixins:[s["a"]],props:{body:{type:String,require:!0}}}),l=n("d959"),d=n.n(l);const p=d()(u,[["render",c]]);var b=p;function h(e,t,n){return void 0===t&&(t="primary"),void 0===n&&(n=5e3),Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["V"].create({message:e,position:"top",animated:!0,duration:n,color:t,keyboardClose:!0,buttons:[{side:"end",icon:"close",role:"cancel"}]})];case 1:return o=r.sent(),[2,o.present()]}}))}))}function f(e,t){return void 0===t&&(t=5e3),h(e,"warning",t)}function m(e,t){return void 0===t&&(t=1e3),h(e,"success",t)}function g(e,t){return void 0===t&&(t=5e3),h(e,"danger",t)}function O(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=[]),i["U"].create({component:b,backdropDismiss:!1,cssClass:"small-modal custom-modal-backdrop",componentProps:{subtitle:t,body:e,actionButtons:n}})}function v(e,t){return void 0===t&&(t={}),Object(r["b"])(this,void 0,void 0,(function(){var n,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,O(e,t.header||"Confirmation",[{name:t.cancelBtnLabel||"Cancel",size:"large",slot:"start",color:"danger",visible:!0,role:"Cancel",onClick:function(e){var t=e.role;return i["U"].dismiss(t)}},{name:t.confirmBtnLabel||"Confirm",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:function(e){var t=e.role;return i["U"].dismiss(t)}}])];case 1:return n=r.sent(),n.present(),[4,n.onDidDismiss()];case 2:return o=r.sent().data,[2,"Confirm"===o]}}))}))}function _(e,t){return void 0===t&&(t="Information"),Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,O(e,t,[{name:"OK",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:function(){return i["U"].dismiss()}}])];case 1:return n=r.sent(),n.present(),[2]}}))}))}},b713:function(e,t,n){},b7d9:function(e,t,n){"use strict";n("cba2")},b89f:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));n("4de4"),n("caad");var r=n("9ab4"),i=n("1c74"),o=n("8a30"),a=n("7a23"),c=Object(a["withScopeId"])("data-v-2ea75f76");Object(a["pushScopeId"])("data-v-2ea75f76");var s={class:"print-section ion-text-center"},u=Object(a["createVNode"])("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000","enable-background":"new 0 0 1000 1000","xml:space":"preserve"},[Object(a["createVNode"])("metadata",null," Svg Vector Icons : http://www.onlinewebfonts.com/icon "),Object(a["createVNode"])("g",null,[Object(a["createVNode"])("g",{transform:"translate(0.000000,511.000000) scale(0.100000,-0.100000)"},[Object(a["createVNode"])("path",{d:"M2918.3,4119.3c-303-51.3-610.8-284.4-753-568.8c-102.6-212.1-125.9-359-125.9-822.9v-380h-533.8c-575.8,0-720.3-16.3-899.8-104.9c-237.8-116.6-454.6-410.3-491.9-669l-14-109.6l258.8-128.2l258.8-130.5H5000h4382.5l258.7,130.5l258.8,128.2l-14,109.6c-37.3,261.1-247.1,550.1-487.2,666.7c-184.2,90.9-324,107.2-904.5,107.2h-533.8v380c0,463.9-23.3,610.8-125.9,822.9c-142.2,286.7-435.9,508.2-757.6,568.8C6927.8,4147.2,3088.5,4147.2,2918.3,4119.3z M7158.6,3776.6c79.3-25.6,156.2-81.6,256.4-179.5c216.8-216.8,219.1-230.8,219.1-1102.6v-729.6H5000H2365.8v729.6c0,871.8,2.3,885.8,219.1,1102.6c233.1,230.8,51.3,214.5,2405.7,216.8C6850.9,3816.2,7053.7,3811.5,7158.6,3776.6z"}),Object(a["createVNode"])("path",{d:"M109.3-267.9l7-1382.3l74.6-153.8c90.9-184.2,258.7-349.7,445.2-435.9c130.5-60.6,146.9-62.9,692.3-74.6l559.5-11.7l14-338c11.7-275.1,23.3-361.3,65.3-466.2c163.2-401,484.9-671.4,909.1-757.6c146.9-32.6,452.2-35,2202.9-30.3c2030.4,7,2030.4,7,2184.3,58.3c363.7,123.5,643.4,396.3,773.9,752.9c37.3,95.6,51.3,209.8,60.6,454.6l14,326.4l559.5,11.7l561.8,11.7l153.9,76.9c191.2,93.2,366,277.4,442.9,466.2l53.6,132.9l7,1370.7l7,1370.7l-209.8-107.2l-212.1-104.9H5000H524.3l-212.1,104.9l-209.8,107.2L109.3-267.9z M1107,121.4c207.5-107.2,167.8-435.9-60.6-498.9c-104.9-28-186.5-7-263.4,69.9C701.4-225.9,678.1-121,720.1-20.8C785.4,137.7,955.5,200.7,1107,121.4z M7487.3-368.1c139.9-42,223.8-128.2,268.1-275.1c23.3-72.3,30.3-370.7,30.3-1181.9c0-1079.3,0-1084-53.6-1216.8c-76.9-188.8-251.8-373-442.9-466.2l-156.2-76.9H5000H2867l-156.2,76.9c-191.1,93.2-366,277.4-442.9,466.2c-53.6,130.6-53.6,149.2-60.6,1135.3c-7,1046.7,4.7,1244.8,88.6,1382.3c51.3,86.3,135.2,144.5,240.1,167.8c39.6,11.7,1144.6,18.7,2454.7,21C7053.7-333.2,7384.7-337.8,7487.3-368.1z M1125.7-766.7c65.3-44.3,121.2-151.5,121.2-230.8c0-79.3-55.9-186.5-121.2-230.8c-67.6-48.9-216.8-46.6-298.4,2.4c-172.5,100.2-167.8,368.3,4.7,466.2C906.6-720.1,1062.8-722.5,1125.7-766.7z"}),Object(a["createVNode"])("path",{d:"M3149.1-927.6c-60.6-62.9-67.6-130.5-18.7-195.8l44.3-60.6h1708.7h1708.7l44.3,60.6c48.9,65.3,42,132.9-18.7,195.8c-32.6,30.3-251.8,35-1734.4,35C3400.9-892.6,3181.7-897.3,3149.1-927.6z"}),Object(a["createVNode"])("path",{d:"M3149.1-1860c-60.6-62.9-67.6-130.5-18.7-195.8l44.3-60.6h1708.7h1708.7l44.3,60.6c48.9,65.3,42,132.9-18.7,195.8c-32.6,30.3-251.8,35-1734.4,35C3400.9-1825.1,3181.7-1829.7,3149.1-1860z"}),Object(a["createVNode"])("path",{d:"M3149.1-2792.5c-60.6-62.9-67.6-130.5-18.7-195.8l44.3-60.6h1708.7h1708.7l44.3,60.6c48.9,65.3,42,132.9-18.7,195.8c-32.6,30.3-251.8,35-1734.4,35C3400.9-2757.5,3181.7-2762.2,3149.1-2792.5z"})])])],-1),l=Object(a["createVNode"])("h1",null," Printing in progress ",-1),d=Object(a["createVNode"])("h3",null," Please wait.... ",-1);Object(a["popScopeId"])();var p=c((function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[u,l,d])})),b=(n("2db2"),n("d959")),h=n.n(b);const f={},m=h()(f,[["render",p],["__scopeId","data-v-2ea75f76"]]);var g=m,O=n("8734"),v=n("156d"),_=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.showPrinterImage=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,o["U"].create({component:g,backdropDismiss:!1})];case 1:return e=t.sent(),e.present(),[2]}}))}))},t.prototype.printLbl=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,t.showPrinterImage()];case 1:return r.sent(),n=Object(o["Q"])().filter((function(e){return["android"].includes(e)})).length>=1,n?[3,3]:(i=document,[4,v["b"].expandPath(e)]);case 2:i.location=r.sent(),r.label=3;case 3:return[4,Object(O["a"])(3500)];case 4:return r.sent(),[4,o["U"].dismiss({})];case 5:return r.sent(),[2]}}))}))},t.prototype.printLocation=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.printLbl("labels/location?location_id="+e)];case 1:return t.sent(),[2]}}))}))},t.prototype.printDrug=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.printLbl("drugs/"+e+"/barcode?quantity="+t)];case 1:return n.sent(),[2]}}))}))},t}(i["d"])},b8ad:function(e,t,n){},b913:function(e,t,n){"use strict";n("5cea")},b993:function(e,t,n){},ba82:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));n("99af"),n("a15b"),n("d81d"),n("13d5"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d");var r=n("8baf"),i=n("0da4"),o=n.n(i);function a(e){return e.reduce((function(e,t){return e+t.map((function(e){return'"'+e+'"'})).join(",")+"\n"}),"")}function c(e,t,n){void 0===n&&(n="document");var r=a(e.concat(t)),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.setAttribute("id","csv"),o.href=window.URL.createObjectURL(i),o.setAttribute("download",n+".csv"),document.body.appendChild(o),o.click(),o.remove()}function s(e,t,n,i){void 0===n&&(n="document"),void 0===i&&(i=!1);var a=new r["default"],c=a.splitTextToSize(n,180),s=c.length<=1?20:10*c.length;a.text(c,14,10);var u={startY:s,head:[e[e.length-1]],body:t};i&&(u.tableWidth="wrap",u.horizontalPageBreak=!0,u.horizontalPageBreakRepeat=0),o()(a,u),a.save(n+".pdf")}},ba89:function(e,t,n){"use strict";n("91e7")},bcf6:function(e,t,n){"use strict";n("8e40")},bd2b:function(e,t,n){"use strict";n("0d09")},be50:function(e,t,n){},bede:function(e,t,n){},bef6:function(e,t,n){"use strict";n("4fad");function r(e){for(var t="",n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];t+=o+"="+a+"&"}return t}t["a"]={parameterizeObjToString:r}},c003:function(e,t,n){"use strict";n("fb2e")},c146:function(e,t,n){"use strict";n("a3be")},c1ba:function(e,t,n){},c1e4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("4de4"),n("ac1f"),n("466d");var r=n("9ab4"),i=n("1c74"),o=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getCurrentUser=function(){var e=i["d"].getUserID();if(e)return this.getUserByID(e)},t.getUserByID=function(e){return this.getJson("users/"+e)},t.createUser=function(e){return this.postJson("users",e)},t.updateUser=function(e,t){return this.putJson("users/"+e,t)},t.activateUser=function(e){return this.postJson("users/"+e+"/activate",{})},t.deactivateUser=function(e){return this.postJson("users/"+e+"/deactivate",{})},t.isAdmin=function(){var t=e.getUserRoles.call(this).filter((function(e){return e.role.match(/Program Manager|Superuser|System Developer/i)}));return t.length>0},t.isNurse=function(){var t=e.getUserRoles.call(this).filter((function(e){return e.role.match(/Nurse/i)}));return t.length>0},t.isDoctor=function(){var t=e.getUserRoles.call(this).filter((function(e){return e.role.match(/Doctor/i)}));return t.length>0},t.isClinician=function(){var t=e.getUserRoles.call(this).filter((function(e){return e.role.match(/Clinician/i)}));return t.length>0},t.getAllUsers=function(){return this.getJson("users",{page_size:100})},t.getAllRoles=function(){return this.getJson("roles",{page_size:100})},t.getUsers=function(){return e.getJson.call(this,"users",{role:"Superuser"})},t.getSystemUsageByUsers=function(t,n){return e.getJson.call(this,"user_system_usage",{start_date:t,end_date:n,program_id:e.getProgramID.call(this),date:e.getSessionDate.call(this)})},t}(i["d"])},c21d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("a4d3"),n("e01a"),n("a623"),n("caad"),n("45fc");function r(e,t){var n=[],r=[-1,"",null,void 0];for(var i in t)if(i in e){var o=e[i];r.includes(o)?n.push(!1):n.push(t[i](o,e))}return n.every(Boolean)}function i(e){return e.sort((function(e,t){return e.priority<t.priority?-1:0}))}function o(e,t,n,o){void 0===n&&(n=""),void 0===o&&(o="");var a=[];for(var c in t){var s=t[c],u=[s.target&&n&&s.target!=n,s.targetEvent&&o&&s.targetEvent!=o];u.some(Boolean)||r(e,s.conditions)&&(s.title=c,s.description&&(s.description.text=s.description.info(e)),a.push(s))}return i(a)}},c2f2:function(e,t,n){"use strict";n("16b7")},c3ac:function(e,t,n){"use strict";n("ad1d")},c46e:function(e,t,n){},c4e4:function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),i=Object(r["withScopeId"])("data-v-397f9320");Object(r["pushScopeId"])("data-v-397f9320");var o=Object(r["createTextVNode"])("Lab orders"),a={class:"ion-margin-bottom"},c=Object(r["createVNode"])("div",{class:"side-title"}," Select specimen ",-1),s=Object(r["createVNode"])("div",{class:"side-title"}," Main test(s) reason ",-1),u={style:{background:"lightyellow",height:"200px"}},l=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,"Test"),Object(r["createVNode"])("td",null,"Specimen"),Object(r["createVNode"])("td",null,"Reason"),Object(r["createVNode"])("td",null,"Action")])],-1),d=Object(r["createTextVNode"])("X"),p=Object(r["createTextVNode"])(" Place orders "),b=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var h=i((function(e,t,n,h,f,m){var g=Object(r["resolveComponent"])("ion-title"),O=Object(r["resolveComponent"])("ion-toolbar"),v=Object(r["resolveComponent"])("ion-header"),_=Object(r["resolveComponent"])("ion-label"),j=Object(r["resolveComponent"])("ion-checkbox"),y=Object(r["resolveComponent"])("ion-item"),w=Object(r["resolveComponent"])("ion-list"),N=Object(r["resolveComponent"])("ion-col"),C=Object(r["resolveComponent"])("ion-radio"),V=Object(r["resolveComponent"])("ion-radio-group"),D=Object(r["resolveComponent"])("ion-button"),k=Object(r["resolveComponent"])("ion-row"),T=Object(r["resolveComponent"])("ion-grid"),I=Object(r["resolveComponent"])("ion-content"),x=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(v,null,{default:i((function(){return[Object(r["createVNode"])(O,null,{default:i((function(){return[Object(r["createVNode"])(g,null,{default:i((function(){return[o]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(I,{style:{overflowY:"hidden",background:"grey"}},{default:i((function(){return[Object(r["createVNode"])(T,null,{default:i((function(){return[Object(r["createVNode"])(k,null,{default:i((function(){return[Object(r["createVNode"])(N,{size:"6"},{default:i((function(){return[Object(r["createVNode"])(w,{style:{overflowY:"auto",height:"78vh"}},{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.testTypes,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:t,disabled:null!==e.activeIndex&&e.activeIndex!==n&&!e.isOrderComplete,detail:""},{default:i((function(){return[Object(r["createVNode"])(_,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1024),Object(r["createVNode"])(j,{modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e},slot:"start",onIonChange:function(r){return e.onSelectTest(t.name,n,r)}},null,8,["modelValue","onUpdate:modelValue","onIonChange"])]})),_:2},1032,["disabled"])})),128))]})),_:1})]})),_:1}),null!=e.activeIndex&&e.selectedOrders.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(N,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:i((function(){return[Object(r["createVNode"])("div",a,[e.extendedLabsEnabled?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0},{default:i((function(){return[Object(r["createVNode"])(V,{modelValue:e.testTypes[e.activeIndex]["specimen"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.testTypes[e.activeIndex]["specimen"]=t})},{default:i((function(){return[c,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.specimens,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:t},{default:i((function(){return[Object(r["createVNode"])(_,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name),1)]})),_:2},1024),Object(r["createVNode"])(C,{slot:"start",value:t.name,onClick:function(n){return e.addSpecimen(t)}},null,8,["value","onClick"])]})),_:2},1024)})),128))]})),_:1},8,["modelValue"])]})),_:1})),Object(r["createVNode"])(V,{modelValue:e.testTypes[e.activeIndex]["reason"],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.testTypes[e.activeIndex]["reason"]=t})},{default:i((function(){return[s,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.reasons,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:e},{default:i((function(){return[Object(r["createVNode"])(_,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e),1)]})),_:2},1024),Object(r["createVNode"])(C,{slot:"start",value:e},null,8,["value"])]})),_:2},1024)})),128))]})),_:1},8,["modelValue"])]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("table",null,[l,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.finalOrders,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.name),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.specimen||"N/A"),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.reason),1),Object(r["createVNode"])("td",null,[Object(r["createVNode"])(D,{onClick:function(n){return e.removeOrder(t.currentIndex)},slot:"end",color:"danger"},{default:i((function(){return[d]})),_:1},8,["onClick"])])])})),128))])])])]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(x,null,{default:i((function(){return[Object(r["createVNode"])(O,null,{default:i((function(){return[Object(r["createVNode"])(D,{onClick:e.postActivities,slot:"end",disabled:0===e.finalOrders.length},{default:i((function(){return[p]})),_:1},8,["onClick","disabled"]),Object(r["createVNode"])(D,{onClick:t[3]||(t[3]=function(t){return e.closeModal([])}),slot:"start",color:"danger"},{default:i((function(){return[b]})),_:1})]})),_:1})]})),_:1})],64)})),f=(n("4de4"),n("4160"),n("caad"),n("d81d"),n("2532"),n("159b"),n("9ab4")),m=n("8a30"),g=n("b5e4"),O=n("9b7c"),v=n("cc6f"),_=function(e){function t(t,n){return e.call(this,t,57,n)||this}return Object(f["c"])(t,e),t}(v["a"]),j=n("b89f"),y=n("d1ca"),w=Object(r["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},testFilters:{type:Array},title:{type:String,default:""}},watch:{activities:{handler:function(e){e&&(this.appActivities=Object(f["f"])(e),this.getActivities())},immediate:!0}},created:function(){return Object(f["b"])(this,void 0,void 0,(function(){var e;return Object(f["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,y["b"].extendedLabEnabled()];case 1:return e.extendedLabsEnabled=t.sent(),[2]}}))}))},methods:{onSelectTest:function(e,t,n){return Object(f["b"])(this,void 0,void 0,(function(){var r=this;return Object(f["d"])(this,(function(i){return this.$nextTick((function(){return Object(f["b"])(r,void 0,void 0,(function(){var r;return Object(f["d"])(this,(function(i){switch(i.label){case 0:return this.testTypes[t]["isChecked"]=n.target.checked,this.testTypes[t]["isChecked"]?(r=this,[4,O["a"].getSpecimens(e)]):[3,2];case 1:return r.specimens=i.sent(),this.testTypes[t]["currentIndex"]=t,this.activeIndex=t,[3,3];case 2:this.removeOrder(t),i.label=3;case 3:return[2]}}))}))})),[2]}))}))},getActivities:function(){return Object(f["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(f["d"])(this,(function(n){switch(n.label){case 0:return[4,O["a"].getTestTypes()];case 1:return e=n.sent(),this.testTypes=e.map((function(e,t){return e.index="HIV viral load"===e.name?e.index=0:e.index=t+1,e})).sort((function(e,t){return e.index<t.index?0:1})).filter((function(e){return!Array.isArray(t.testFilters)||t.testFilters.includes(e.name)})),[2]}}))}))},removeOrder:function(e){this.testTypes[e]["isChecked"]=!1,this.testTypes[e]["reason"]=null,this.testTypes[e]["specimen"]=null,this.testTypes[e]["specimenConcept"]=null,this.activeIndex=null,this.specimens=[]},addSpecimen:function(e){this.testTypes[this.activeIndex]["specimenConcept"]=e.concept_id},postActivities:function(){return Object(f["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Object(f["d"])(this,(function(a){switch(a.label){case 0:return e=""+this.$route.params.patient_id,t=new _(parseInt(e),-1),[4,t.createEncounter()];case 1:return n=a.sent(),n?[4,O["a"].buildLabOrders(n,this.finalOrders)]:[3,8];case 2:return r=a.sent(),[4,O["a"].saveOrdersArray(n.encounter_id,r)];case 3:return i=a.sent(),i?[4,Object(g["a"])("Lab orders and encounter created!, print out your last orders?",{confirmBtnLabel:"Yes",cancelBtnLabel:"No"})]:[2,Object(g["e"])("Unable to save lab orders")];case 4:return o=a.sent(),o?[4,this.printOrders(i)]:[3,6];case 5:return a.sent(),[3,8];case 6:return[4,this.closeModal(i)];case 7:a.sent(),a.label=8;case 8:return[2]}}))}))},closeModal:function(e){return Object(f["b"])(this,void 0,void 0,(function(){return Object(f["d"])(this,(function(t){switch(t.label){case 0:return[4,m["U"].dismiss(e)];case 1:return t.sent(),[2]}}))}))},printOrders:function(e){return Object(f["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(f["d"])(this,(function(r){switch(r.label){case 0:return t=new j["a"],[4,e.forEach((function(e){return Object(f["b"])(n,void 0,void 0,(function(){var n;return Object(f["d"])(this,(function(r){switch(r.label){case 0:return n="lab/labels/order?order_id="+e.order_id,[4,t.printLbl(n)];case 1:return r.sent(),[2]}}))}))}))];case 1:return r.sent(),[4,m["U"].dismiss(e)];case 2:return r.sent(),[2]}}))}))}},computed:{isOrderComplete:function(){return(this.testTypes[this.activeIndex]["specimenConcept"]||this.testTypes[this.activeIndex]["specimen"])&&this.testTypes[this.activeIndex]["reason"]},selectedOrders:function(){return this.testTypes.filter((function(e){return!0===e.isChecked}))},finalOrders:function(){var e=this;return this.selectedOrders.filter((function(t){return t.reason&&(t.specimen&&!e.extendedLabsEnabled||e.extendedLabsEnabled)}))}},mounted:function(){this.getActivities()},data:function(){return{content:"Content",extendedLabsEnabled:!1,appActivities:[],testTypes:[],specimens:[],reasons:["Routine","Targeted","Confirmatory","Stat","Repeat / Missing"],activeIndex:null}},components:{IonButton:m["d"],IonContent:m["n"],IonHeader:m["q"],IonTitle:m["M"],IonToolbar:m["N"],IonLabel:m["v"],IonList:m["w"],IonItem:m["u"],IonCheckbox:m["k"],IonRadioGroup:m["D"],IonRow:m["F"]}}),N=(n("9e42"),n("d959")),C=n.n(N);const V=C()(w,[["render",h],["__scopeId","data-v-397f9320"]]);t["a"]=V},c618:function(e,t,n){"use strict";n("bede")},c636:function(e,t,n){},c653:function(e,t,n){"use strict";n("8c54")},c7ca:function(e,t,n){},c8e9:function(e,t,n){"use strict";n("fbc3")},c924:function(e,t,n){"use strict";var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])("table",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.layout,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:n},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("td",{class:"his-keyboard-margin",key:"btn-"+n},[t?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,style:{width:e.btnSize},class:"his-keyboard-btn",onClick:function(){return e.keyPress(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t),1)]})),_:2},1032,["style","onClick"])):Object(r["createCommentVNode"])("",!0)])})),128))])})),128))])}var o=n("8a30"),a=Object(r["defineComponent"])({components:{IonButton:o["d"]},props:{btnSize:{type:String,default:"90%"},layout:{type:Array,required:!0,default:function(){return[]}},onKeyPress:{type:Function,required:!0}},methods:{keyPress:function(e){this.onKeyPress(e)}}}),c=n("d959"),s=n.n(c);const u=s()(a,[["render",i]]);t["a"]=u},ca96:function(e,t,n){"use strict";n("f432")},cba2:function(e,t,n){},cc57:function(e,t,n){},cc6f:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d3b7");var r=n("9ab4"),i=n("7957"),o=n("ec2a"),a=n("8158"),c=function(e){function t(t,n,r){void 0===r&&(r=-1);var o=e.call(this)||this;return o.encounterTypeID=n,o.patientID=t,o.encounterID=0,o.date=i["a"].getSessionDate(),o.providerID=r,o}return Object(r["c"])(t,e),t.prototype.getDate=function(){return this.date},t.prototype.setDate=function(e){this.date=e},t.prototype.setEncounterID=function(e){this.encounterID=e},t.prototype.getEncounterID=function(){return this.encounterID},t.prototype.getFirstValueCoded=function(e){return t.getFirstValueCoded(this.patientID,e,this.date)},t.prototype.buildObs=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,c,s;return Object(r["d"])(this,(function(u){switch(u.label){case 0:return n=Object(r["a"])(Object(r["a"])({},t),{person_id:this.patientID,obs_datetime:this.date}),i=n,o="concept_id",[4,a["a"].getConceptID(e)];case 1:return i[o]=u.sent(),t.value_coded?(c=n,s="value_coded",[4,a["a"].getConceptID(t.value_coded)]):[3,3];case 2:c[s]=u.sent(),u.label=3;case 3:return[2,n]}}))}))},t.prototype.buildValueText=function(e,n){return t.buildValueText(e,n,this.date)},t.prototype.buildValueCoded=function(e,n){return t.buildValueCoded(e,n,this.date)},t.prototype.buildValueCodedFromConceptId=function(e,n){return t.buildValueCodedFromConceptId(e,n,this.date)},t.prototype.buildValueNumber=function(e,n,r,i){return void 0===r&&(r=null),void 0===i&&(i=null),t.buildValueNumber(e,n,r,i,this.date)},t.prototype.buildValueDate=function(e,n){return t.buildValueDate(e,n,this.date)},t.prototype.buildValueDateEstimated=function(e,t){return this.buildObs(e,{value_datetime:t,value_text:"Estimated"})},t.prototype.saveObservationList=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return[2,i["a"].saveObsArray(this.encounterID,e)]}))}))},t.prototype.saveValueTextObs=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].buildValueText(e,t)];case 1:return n=r.sent(),[2,this.saveObs(n)]}}))}))},t.prototype.saveValueCodedObs=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].buildValueCoded(e,t)];case 1:return n=r.sent(),[2,this.saveObs(n)]}}))}))},t.prototype.saveValueNumericObs=function(e,t,n){return void 0===n&&(n=null),Object(r["b"])(this,void 0,void 0,(function(){var o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].buildValueNumber(e,t,n)];case 1:return o=r.sent(),[2,this.saveObs(o)]}}))}))},t.prototype.saveValueDatetimeObs=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].buildValueDate(e,t,i["a"].getSessionDate())];case 1:return n=r.sent(),[2,this.saveObs(n)]}}))}))},t.prototype.createEncounter=function(){return Object(r["b"])(this,void 0,Promise,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return e={encounter_type_id:this.encounterTypeID,patient_id:this.patientID,encounter_datetime:this.date},-1!=this.providerID&&(e["provider_id"]=this.providerID),[4,o["a"].create(e)];case 1:return t=n.sent(),t?(this.encounterID=t.encounter_id,[2,t]):[2]}}))}))},t.prototype.saveObs=function(e){return t.saveObs(this.encounterID,e)},t}(i["a"])},cc74:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r,i=n("ad49");function o(){return i["a"].isProp(r.DDE_ENABLED+"=true")}function a(){return i["a"].isProp(r.MILITARY_SITE+"=true")}function c(){return i["a"].isProp(r.PORTAL_ENABLED+"=true")}function s(){return i["a"].get(r.SITE_UUID)}function u(){return i["a"].get(r.SITE_PREFIX)}function l(){return i["a"].get(r.PORTAL_PROPERTIES)}function d(){return i["a"].get(r.HEALTH_CENTER_ID)}function p(e){return i["a"].set(r.HEALTH_CENTER_ID,e)}function b(){return i["a"].get(r.SITE_PREFIX)}function h(e){return i["a"].set(r.SITE_PREFIX,e)}function f(e){return i["a"].set(r.PORTAL_PROPERTIES,e)}function m(e){return i["a"].set(r.PORTAL_ENABLED,""+e)}(function(e){e["MILITARY_SITE"]="military_site",e["HEALTH_CENTER_ID"]="current_health_center_id",e["SITE_PREFIX"]="site_prefix",e["SITE_UUID"]="site_uuid",e["PORTAL_ENABLED"]="portal.enabled",e["PORTAL_PROPERTIES"]="portal.properties",e["DDE_ENABLED"]="dde_enabled"})(r||(r={})),t["b"]={setHealthCenterID:p,sitePrefix:u,siteUUID:s,portalProperties:l,ddeEnabled:o,militarySiteEnabled:a,healthCenterID:d,siteCode:b,portalEnabled:c,setSitePrefix:h,setPortalIP:f,setPortalEnabled:m}},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function i(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-router-outlet"),s=Object(r["resolveComponent"])("connection-error"),u=Object(r["resolveComponent"])("ion-app");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{key:e.$route.fullPath}),!e.apiOk&&e.notConfigPage?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0})):Object(r["createCommentVNode"])("",!0)]})),_:1})}n("b0c0");var o=n("9ab4"),a=n("8a30"),c=n("156d"),s=n("0ba8"),u=n("b5e4"),l=n("6c02"),d=Object(r["withScopeId"])("data-v-fc78f992");Object(r["pushScopeId"])("data-v-fc78f992");var p={id:"api-error",class:"his-card"},b=Object(r["createVNode"])("p",null,[Object(r["createTextVNode"])(" Unable to connect to BHT-API. Please check: "),Object(r["createVNode"])("ul",{style:{listStyle:"none"}},[Object(r["createVNode"])("li",null," Check the HIS-Core configuration file "),Object(r["createVNode"])("li",null," Your configuration "),Object(r["createVNode"])("li",null," The service is running "),Object(r["createVNode"])("li",null," Your network cable is ok ")])],-1),h=Object(r["createTextVNode"])(" New Config "),f=Object(r["createTextVNode"])(" Refresh ");Object(r["popScopeId"])();var m=d((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button");return Object(r["openBlock"])(),Object(r["createBlock"])("div",p,[b,Object(r["createVNode"])(c,{"router-link":"/settings/host",color:"warning"},{default:d((function(){return[h]})),_:1}),Object(r["createVNode"])(c,{onClick:e.refresh,color:"warning"},{default:d((function(){return[f]})),_:1},8,["onClick"])])})),g=Object(r["defineComponent"])({components:{IonButton:a["d"]},setup:function(){var e=function(){return location.reload()};return{refresh:e}}}),O=(n("14f6"),n("d959")),v=n.n(O);const _=v()(g,[["render",m],["__scopeId","data-v-fc78f992"]]);var j=_,y=(n("a5d8"),n("323e")),w=n.n(y),N=(n("4160"),n("caad"),n("d3b7"),n("159b"),n("9f0e")),C=Object(r["withScopeId"])("data-v-3eac38c7");Object(r["pushScopeId"])("data-v-3eac38c7");var V=Object(r["createVNode"])("b",{style:{color:"#8b4513"}},"National ",-1),D=Object(r["createVNode"])("b",{style:{color:"#cd853f"}},"EMR",-1),k=Object(r["createTextVNode"])(" Version: "),T=Object(r["createTextVNode"])(" Configuration ");Object(r["popScopeId"])();var I=C((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-label"),s=Object(r["resolveComponent"])("ion-title"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("inputs"),p=Object(r["resolveComponent"])("ion-content"),b=Object(r["resolveComponent"])("ion-button"),h=Object(r["resolveComponent"])("ion-footer"),f=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:C((function(){return[Object(r["createVNode"])(l,null,{default:C((function(){return[Object(r["createVNode"])(u,null,{default:C((function(){return[Object(r["createVNode"])(s,null,{default:C((function(){return[Object(r["createVNode"])(c,{style:{fontWeight:"bolder",fontSize:"1.9em"}},{default:C((function(){return[V,D]})),_:1})]})),_:1}),Object(r["createVNode"])(c,{class:"ion-padding",slot:"end"},{default:C((function(){return[k,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(i.version),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{fullscreen:"false"},{default:C((function(){return[Object(r["createVNode"])(d)]})),_:1}),Object(r["createVNode"])(h,null,{default:C((function(){return[Object(r["createVNode"])(u,null,{default:C((function(){return[Object(r["createVNode"])("span",null,[Object(r["createVNode"])("img",{id:"coat",src:i.coatImg,alt:"Malawi Coat of Arms logo"},null,8,["src"]),Object(r["createVNode"])("img",{id:"pepfar",src:i.pepfarImg,alt:"PEPFAR logo"},null,8,["src"])]),i.showConfig?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,slot:"end",class:"config","router-link":"/settings/host"},{default:C((function(){return[T]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),x=Object(r["withScopeId"])("data-v-0785d8f9");Object(r["pushScopeId"])("data-v-0785d8f9");var S={class:"main",ref:"main"},P={class:"rows"},B={class:"cells"},A={class:"rows input-rows"},E={class:"cells"},F={class:"rows"};Object(r["popScopeId"])();var R=x((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("center");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])("div",S,[Object(r["createVNode"])("div",P,[Object(r["createVNode"])("div",B,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text",name:"usename",autocomplete:"off",placeholder:"Username",id:"username",ref:"username","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.userInput.username=t}),onClick:t[2]||(t[2]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",readonly:e.isReadOnly},null,8,["readonly"]),[[r["vModelText"],e.userInput.username]])])]),Object(r["createVNode"])("div",A,[Object(r["createVNode"])("div",E,[Object(r["withDirectives"])(Object(r["createVNode"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.userInput.password=t}),type:"password",name:"password",ref:"password",id:"password",onClick:t[4]||(t[4]=function(t){return e.renderKeyBoard(t)}),class:"input-boxes",placeholder:"Password",readonly:e.isReadOnly},null,8,["readonly"]),[[r["vModelText"],e.userInput.password]])])])],512),Object(r["createVNode"])(c,null,{default:x((function(){return[Object(r["createVNode"])("div",{id:"keyboard",style:e.btnStyles,class:"keyboard"},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.LOGIN_KEYBOARD,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:n},[Object(r["createVNode"])("div",F,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(n,(function(n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"cells",key:n},["Next"===n||"Login"===n?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,id:e.btnCaption,class:"keyboard-btn login-btn",onClick:t[5]||(t[5]=function(t){return e.keyPress(t)})},Object(r["toDisplayString"])(e.btnCaption),9,["id"])):Object(r["createCommentVNode"])("",!0),"Login"!=n&&"Next"!=n?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:1,id:e.Caps.on?n.toUpperCase():n.toLowerCase(),class:"keyboard-btn",onClick:t[6]||(t[6]=function(t){return e.keyPress(t)})},Object(r["toDisplayString"])("Del."===n||"Caps"===n?n:e.Caps.on?n.toUpperCase():n.toLowerCase()),9,["id"])):Object(r["createCommentVNode"])("",!0)])})),128))])])})),128))],4)]})),_:1})],64)})),L=(n("ac1f"),n("466d"),n("25f0"),function(e){function t(){var t=e.call(this)||this;return t.message="Invalid username/password",t}return Object(o["c"])(t,e),t}(Error)),M=function(){function e(){this.token="",this.username="",this.roles=[],this.userID=-1,this.sessionDate="",this.systemVersion="",this.coreVersion=""}return e.prototype.setUsername=function(e){this.username=e},e.prototype.login=function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a,c,s;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return[4,this.requestLogin(e)];case 1:return t=o.sent(),t?(n=t.authorization,r=n.token,i=n.user,this.token=r,this.roles=i.roles,this.userID=i.user_id,a=this,[4,this.getSystemDate()]):[3,5];case 2:return a.sessionDate=o.sent(),c=this,[4,this.getApiVersion()];case 3:return c.systemVersion=o.sent(),s=this,[4,this.getCoreVersion()];case 4:return s.coreVersion=o.sent(),[3,6];case 5:throw"Unable to login";case 6:return[2]}}))}))},e.prototype.startSession=function(){sessionStorage.setItem("apiKey",this.token),sessionStorage.setItem("username",this.username),sessionStorage.setItem("userID",this.userID.toString()),sessionStorage.setItem("userRoles",JSON.stringify(this.roles)),sessionStorage.setItem("sessionDate",this.sessionDate),sessionStorage.setItem("APIVersion",this.systemVersion),sessionStorage.setItem("appVersion",this.coreVersion)},e.prototype.clearSession=function(){sessionStorage.clear()},e.prototype.requestLogin=function(e){return this.postLogin("auth/login",{username:this.username,password:e})},e.prototype.initDateSync=function(e){var t=this;void 0===e&&(e=1e3),setInterval((function(){return Object(o["b"])(t,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getSystemDate()];case 1:return e=t.sent(),sessionStorage.getItem("apiDate")?sessionStorage.setItem("apiDate",e):sessionStorage.setItem("sessionDate",e),[2]}}))}))}),e)},e.prototype.getCoreVersion=function(){return Object(o["b"])(this,void 0,Promise,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,fetch("HEAD",{method:"GET"})];case 1:return e=n.sent(),[4,null===e||void 0===e?void 0:e.text()];case 2:return t=n.sent(),[2,t&&t.length<=25?t:"-"]}}))}))},e.prototype.getApiVersion=function(){return Object(o["b"])(this,void 0,Promise,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getJson("version")];case 1:return e=t.sent(),[2,e&&e["System version"]?e["System version"]:"-"]}}))}))},e.prototype.getSystemDate=function(){return Object(o["b"])(this,void 0,Promise,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getJson("current_time")];case 1:return e=t.sent().date,[2,e]}}))}))},e.prototype.getJson=function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,c["b"].get(e)];case 1:return t=n.sent(),t&&t.ok?[2,null===t||void 0===t?void 0:t.json()]:[2]}}))}))},e.prototype.postLogin=function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,c["b"].post(e,t)];case 1:if(n=r.sent(),!n)return[2];if(n.ok)return[2,n.json()];if(401===n.status)throw new L;return[2]}}))}))},e}(),H=n("3800"),U=Object(r["defineComponent"])({data:function(){return{LOGIN_KEYBOARD:H["f"],auth:{},isReadOnly:!1,userInput:{type:String,username:"",password:""},focusInput:{type:Object,value:"",id:""},display:"none",keyboardLeft:"",keyboardTop:"",btnCaption:"",Caps:{type:Boolean,on:!1}}},created:function(){this.auth=new M,this.isReadOnly=!Object(a["R"])("desktop")},methods:{renderKeyBoard:function(e){this.focusInput=e.currentTarget,"password"==this.focusInput.id?this.btnCaption="Login":this.btnCaption="Next";var t=document.getElementsByClassName("main")[0],n=t.getBoundingClientRect().width,r=e.currentTarget.getBoundingClientRect().top;r=parseInt(r),this.keyboardLeft=n/2-447+"px;",this.keyboardTop=r+20+"px;",this.display="table",window.scrollTo(0,9999)},keyPress:function(e){var t,n=e.currentTarget.id;try{n.match(/Del./i)?this.focusInput.value=this.focusInput.value.substring(0,this.focusInput.value.length-1):n.match(/Next/i)?(this.display="none",t=this.$refs.password,t.click()):n.match(/Login/i)?(this.display="none",this.doLogin()):n.match(/Caps/i)?(this.Caps.on=!this.Caps.on,this.display="none",t="username"===this.focusInput.id?this.$refs.username:this.$refs.password,t.click()):n.match(/Hide/i)?this.display="none":this.focusInput.value+=n,"username"==this.focusInput.id?this.userInput.username=this.focusInput.value:this.userInput.password=this.focusInput.value}catch(r){console.warn("input error")}},doLogin:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:if(!this.userInput.username||!this.userInput.password)return[3,5];this.auth.setUsername(this.userInput.username),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.login(this.userInput.password)];case 2:return t.sent(),this.auth.startSession(),this.$router.push("/select_hc_location"),[3,4];case 3:return e=t.sent(),e instanceof L?Object(u["e"])("Invalid username or password"):Object(u["c"])(e),[3,4];case 4:return[3,6];case 5:Object(u["e"])("Complete form to log in"),t.label=6;case 6:return[2]}}))}))}},computed:{btnStyles:function(){return"display: "+this.display+"; top: "+this.keyboardTop}}});n("0f7b");const q=v()(U,[["render",R],["__scopeId","data-v-0785d8f9"]]);var G=q,z=n("1718"),Y={name:"login",components:{Inputs:G,IonButton:a["d"],IonTitle:a["M"],IonLabel:a["v"],IonPage:a["B"],IonHeader:a["q"],IonToolbar:a["N"],IonContent:a["n"],IonFooter:a["o"]},setup:function(){return{version:"1.0.0",coatImg:Object(z["a"])("login-logos/Malawi-Coat_of_arms_of_arms.png"),pepfarImg:Object(z["a"])("login-logos/PEPFAR.png"),showConfig:"true"===localStorage.getItem("useLocalStorage")}}};n("f7a2");const W=v()(Y,[["render",I],["__scopeId","data-v-3eac38c7"]]);var K=W,$=(n("841c"),Object(r["withScopeId"])("data-v-e2860bfe"));Object(r["pushScopeId"])("data-v-e2860bfe");var J={class:"tool-bar-medium-card"},X={class:"tool-bar-medium-card"},Q={class:"tool-bar-medium-content"},Z=Object(r["createTextVNode"])("Facility name: "),ee=Object(r["createTextVNode"])("Location: "),te=Object(r["createTextVNode"])("Date: "),ne=Object(r["createTextVNode"])("User:"),re=Object(r["createTextVNode"])("Overview"),ie=Object(r["createTextVNode"])("Reports"),oe=Object(r["createTextVNode"])("Administration"),ae={key:0,id:"container",class:"his-card overview"},ce=Object(r["createTextVNode"])(" Logout "),se=Object(r["createTextVNode"])(" Find By "),ue=Object(r["createTextVNode"])(" Find or Register "),le=Object(r["createTextVNode"])(" Applications ");Object(r["popScopeId"])();var de=$((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-thumbnail"),u=Object(r["resolveComponent"])("ion-buttons"),l=Object(r["resolveComponent"])("ion-toolbar"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-label"),h=Object(r["resolveComponent"])("program-icon"),f=Object(r["resolveComponent"])("ion-header"),m=Object(r["resolveComponent"])("ion-icon"),g=Object(r["resolveComponent"])("ion-segment-button"),O=Object(r["resolveComponent"])("ion-segment"),v=Object(r["resolveComponent"])("home-folder"),_=Object(r["resolveComponent"])("ion-content"),j=Object(r["resolveComponent"])("ion-button"),y=Object(r["resolveComponent"])("ion-footer"),w=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(w,null,{default:$((function(){return[Object(r["createVNode"])(f,{translucent:!0},{default:$((function(){return[Object(r["createVNode"])(l,{class:"mobile-component-view"},{default:$((function(){return[Object(r["createVNode"])(c,null,{default:$((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.facilityName),1)]})),_:1}),Object(r["createVNode"])(u,{slot:"end"},{default:$((function(){return[Object(r["createVNode"])(s,null,{default:$((function(){return[Object(r["createVNode"])("img",{src:e.appLogo,class:"logo",alt:"App Logo"},null,8,["src"])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{class:"full-component-view"},{default:$((function(){return[Object(r["createVNode"])(p,null,{default:$((function(){return[Object(r["createVNode"])(d,null,{default:$((function(){return[Object(r["createVNode"])("div",J,[Object(r["createVNode"])(p,null,{default:$((function(){return[Object(r["createVNode"])(d,{"size-lg":"5","size-sm":"4"},{default:$((function(){return[Object(r["createVNode"])("img",{style:{width:"230px",height:"90px",margin:"0"},src:e.barcodeLogo},null,8,["src"])]})),_:1}),Object(r["createVNode"])(d,{"size-lg":"7","size-sm":"8"},{default:$((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{readonly:e.isReadOnly,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.patientBarcode=t}),class:"barcode-input",ref:"scanBarcode"},null,8,["readonly"]),[[r["vModelText"],e.patientBarcode]])]})),_:1})]})),_:1})])]})),_:1}),Object(r["createVNode"])(d,{size:"5"},{default:$((function(){return[Object(r["createVNode"])("div",X,[Object(r["createVNode"])("div",Q,[Object(r["createVNode"])("p",null,[Z,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.facilityName),1)]),Object(r["createVNode"])("p",null,[ee,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.userLocation),1)]),Object(r["createVNode"])("p",null,[te,Object(r["createVNode"])(b,{color:e.isBDE?"danger":"success"},{default:$((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]})),_:1},8,["color"])]),Object(r["createVNode"])("p",null,[ne,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.userName),1)])])])]})),_:1}),Object(r["createVNode"])(d,{size:"3"},{default:$((function(){return[Object(r["createVNode"])(h,{icon:e.appLogo,version:e.appVersion},null,8,["icon","version"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,null,{default:$((function(){return[Object(r["createVNode"])(O,{scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:$((function(){return[Object(r["createVNode"])(g,{value:1,onClick:t[2]||(t[2]=function(t){return e.activeTab=1})},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.statsChart},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[re]})),_:1})]})),_:1}),e.canReport?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,value:2,onClick:t[3]||(t[3]=function(t){return e.activeTab=2})},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.pieChart},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[ie]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(g,{value:3,onClick:t[4]||(t[4]=function(t){return e.activeTab=3})},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.settings},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[oe]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(r["createVNode"])(_,{fullscreen:!0},{default:$((function(){return[e.ready?(Object(r["openBlock"])(),Object(r["createBlock"])("div",ae,[1==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.appOverview),{key:0})):Object(r["createCommentVNode"])("",!0),2==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:1,items:e.appReports},null,8,["items"])):Object(r["createCommentVNode"])("",!0),3==e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:2,items:e.app.globalPropertySettings},null,8,["items"])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(y,null,{default:$((function(){return[Object(r["createVNode"])(l,null,{default:$((function(){return[Object(r["createVNode"])(p,null,{default:$((function(){return[Object(r["createVNode"])(d,null,{default:$((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"danger",onClick:e.signOut},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.logOut},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"danger",size:"large",onClick:e.signOut},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.logOut},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[ce]})),_:1})]})),_:1},8,["onClick"])]})),_:1}),Object(r["createVNode"])(d,null,{default:$((function(){return[e.canFindByIdentifier?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:0,class:"xl-button mobile-component-view",color:"primary","router-link":"/patients/search/id"},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.search},null,8,["icon"])]})),_:1})):Object(r["createCommentVNode"])("",!0),e.canFindByIdentifier?(Object(r["openBlock"])(),Object(r["createBlock"])(j,{key:1,class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patients/search/id"},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.search},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[se]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(d,null,{default:$((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"primary","router-link":"/patient/registration"},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.person},null,8,["icon"])]})),_:1}),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"primary",size:"large","router-link":"/patient/registration"},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.person},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[ue]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:$((function(){return[Object(r["createVNode"])(j,{class:"xl-button mobile-component-view",color:"primary",onClick:e.openModal},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.apps},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(j,{class:"xl-button full-component-view",color:"primary",size:"large",onClick:e.openModal},{default:$((function(){return[Object(r["createVNode"])(m,{icon:e.apps},null,8,["icon"]),Object(r["createVNode"])(b,null,{default:$((function(){return[le]})),_:1})]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),pe=n("3e53"),be=n("ff79"),he=n("9283"),fe=n("1c74"),me=Object(r["withScopeId"])("data-v-360fd8c4");Object(r["pushScopeId"])("data-v-360fd8c4");var ge={style:{"font-size":"0.7em","font-weight":"bold"},class:"ion-text-center"};Object(r["popScopeId"])();var Oe=me((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-img"),s=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:me((function(){return[e.icon?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,src:e.icon,id:"logo"},null,8,["src"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",ge,Object(r["toDisplayString"])(e.version),1)]})),_:1})})),ve=n("2b47"),_e=Object(r["defineComponent"])({name:"AppIcon",components:{IonImg:a["s"],ToolBarMediumCard:ve["a"]},props:{icon:{type:String,required:!0},version:{type:String,default:"-/-"}}});n("5357");const je=v()(_e,[["render",Oe],["__scopeId","data-v-360fd8c4"]]);var ye=je,we=Object(r["createTextVNode"])(" Back ");function Ne(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("ion-button"),u=Object(r["resolveComponent"])("task-card"),l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.showingChildNodes?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,color:"light",onClick:e.onBack},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{icon:e.arrowBack},null,8,["icon"]),we]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.viewableItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:n,"size-lg":"4","size-sm":"12"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{onClick:function(n){return e.onClick(t)},title:t.name,icon:e.itemIcon(t)},null,8,["onClick","title","icon"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})],64)}n("4de4"),n("d81d"),n("3ca3"),n("ddb0");var Ce=Object(r["withScopeId"])("data-v-10fde7d6"),Ve=Ce((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-thumbnail"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-item"),l=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(l,{class:"his-card task-card clickable"},{default:Ce((function(){return[Object(r["createVNode"])(u,{lines:"none"},{default:Ce((function(){return[Object(r["createVNode"])(c,{slot:"start"},{default:Ce((function(){return[Object(r["createVNode"])("img",{src:e.icon},null,8,["src"])]})),_:1}),Object(r["createVNode"])(s,{class:"title"},{default:Ce((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1})})),De=Object(r["defineComponent"])({components:{IonCard:a["f"],IonThumbnail:a["L"],IonItem:a["u"],IonLabel:a["v"]},props:{title:{type:String,required:!0},icon:{type:String,required:!0},description:{type:String,required:!1}}});n("a807");const ke=v()(De,[["render",Ve],["__scopeId","data-v-10fde7d6"]]);var Te=ke,Ie=Object(r["defineComponent"])({setup:function(){return{arrowBack:be["d"]}},components:{IonIcon:a["r"],TaskCard:Te,IonButton:a["d"],IonGrid:a["p"],IonRow:a["F"],IonCol:a["m"]},props:{items:{type:Object,required:!0}},data:function(){return{defaultIcon:"sys-setting.png",viewableItems:[],showingChildNodes:!1}},watch:{items:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){return e&&this.setItems(e),[2]}))}))},immediate:!0,deep:!0}},methods:{setItems:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t=this,[4,this.filterViewable(e)];case 1:return t.viewableItems=n.sent(),[2]}}))}))},filterViewable:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return Object(o["b"])(n,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return t=Object(o["a"])({},e),n=t,t.condition?[4,t.condition()]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r=!0,i.label=3;case 3:return n.canShow=r,[2,t]}}))}))})),[4,Promise.all(t)];case 1:return[2,r.sent().filter((function(e){return e.canShow}))]}}))}))},onClick:function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){return e.files?(this.showingChildNodes=!0,this.defaultIcon="sys-setting.png",e.defaultFilesIcon&&(this.defaultIcon=e.defaultFilesIcon),this.setItems(e.files)):e.pathName?this.$router.push({name:e.pathName}):e.pathUrl&&this.$router.push(e.pathUrl),[2]}))}))},onBack:function(){this.showingChildNodes=!1,this.setItems(this.items)},itemIcon:function(e){return Object(z["a"])(e.icon?e.icon:this.defaultIcon)}}});const xe=v()(Ie,[["render",Ne]]);var Se=xe,Pe=n("cc74"),Be=Object(r["defineComponent"])({name:"Home",components:{IonTitle:a["M"],IonThumbnail:a["L"],IonIcon:a["r"],ProgramIcon:ye,HomeFolder:Se,IonContent:a["n"],IonHeader:a["q"],IonPage:a["B"],IonButtons:a["e"],IonToolbar:a["N"],IonRow:a["F"],IonCol:a["m"],IonButton:a["d"],IonFooter:a["o"],IonSegment:a["G"],IonSegmentButton:a["H"],IonLabel:a["v"]},setup:function(){return{barcode:be["h"],apps:be["b"],person:be["B"],search:be["G"],logOut:be["v"],statsChart:be["K"],pieChart:be["C"],settings:be["J"],isReadOnly:!Object(a["R"])("desktop")}},data:function(){return{app:{},facilityName:"",userLocation:"",sessionDate:"",userName:"",appVersion:"",activeTab:1,ready:!1,patientBarcode:"",overviewComponent:{},isBDE:!1}},computed:{barcodeLogo:function(){return Object(z["a"])("barcode.svg")},appOverview:function(){return this.app.homeOverviewComponent},appLogo:function(){return Object(z["a"])(this.app.applicationIcon)},appReports:function(){return this.app.programReports?this.app.programReports:[]},appAdministration:function(){return this.app.globalPropertySettings?this.app.globalPropertySettings:[]},canFindByIdentifier:function(){return!!this.app.programPatientIdentifiers},canReport:function(){return!!this.app.programReports}},methods:{fetchLocationID:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Pe["b"].healthCenterID()];case 1:return e=t.sent(),e&&this.fetchLocationName(e),[2]}}))}))},fetchLocationUUID:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Pe["b"].siteUUID()];case 1:return e=t.sent(),e&&(sessionStorage.siteUUID=e),[2]}}))}))},fetchLocationName:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,c["b"].get("locations/"+e)];case 1:return t=r.sent(),t&&200===t.status?[4,t.json()]:[2];case 2:return n=r.sent(),this.facilityName=n.name,this.createSessionLocationName(n),[2]}}))}))},createSessionLocationName:function(e){sessionStorage.location=e.name,sessionStorage.locationName=e.name},loadApplicationData:function(){this.ready=!0,this.isBDE=!0===fe["d"].isBDE(),this.userLocation=sessionStorage.userLocation,this.userName=sessionStorage.username,this.fetchLocationID(),this.sessionDate=he["a"].toStandardHisDisplayFormat(fe["d"].getSessionDate()),this.appVersion=fe["d"].getFullVersion()},openModal:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,pe["a"].selectApplication("HomePage")];case 1:return e=t.sent(),e&&(this.app=e,this.activeTab=1,this.loadApplicationData()),[2]}}))}))},checkForbarcode:function(){if(null!=this.patientBarcode.match(/.+\$$/i)){var e=this.patientBarcode.replaceAll(/\$/gi,"");this.patientBarcode="",this.$router.push("/patients/confirm?patient_barcode="+e)}},signOut:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e=new M,[4,Pe["b"].portalEnabled()];case 1:return n.sent()?[4,Pe["b"].portalProperties()]:[3,3];case 2:return t=n.sent(),window.location=t,[3,4];case 3:this.$router.push("/login"),n.label=4;case 4:return e.clearSession(),[2]}}))}))}},created:function(){var e=this;setInterval((function(){var t=e.$refs.scanBarcode;t&&t.focus()}),1500)},mounted:function(){var e=pe["a"].getActiveApp();e?(this.app=e,this.loadApplicationData()):this.openModal()},watch:{patientBarcode:function(){this.checkForbarcode()}}});n("8c8b");const Ae=v()(Be,[["render",de],["__scopeId","data-v-e2860bfe"]]);var Ee=Ae,Fe=Object(r["withScopeId"])("data-v-24269c61");Object(r["pushScopeId"])("data-v-24269c61");var Re={class:"tool-bar-medium-card"},Le=Object(r["createTextVNode"])(" Patient Name: "),Me=Object(r["createTextVNode"])(),He=Object(r["createVNode"])("p",null,null,-1),Ue=Object(r["createTextVNode"])(" Birthdate: "),qe=Object(r["createTextVNode"])(),Ge=Object(r["createVNode"])("p",null,null,-1),ze=Object(r["createTextVNode"])(" Gender: "),Ye={class:"tool-bar-medium-card"},We=Object(r["createTextVNode"])(" Ancestry district: "),Ke=Object(r["createTextVNode"])(),$e=Object(r["createVNode"])("p",null,null,-1),Je=Object(r["createTextVNode"])(" Ancestry TA: "),Xe=Object(r["createTextVNode"])(),Qe=Object(r["createVNode"])("p",null,null,-1),Ze=Object(r["createTextVNode"])(" Ancestry village: "),et=Object(r["createTextVNode"])(),tt=Object(r["createVNode"])("p",null,null,-1),nt={class:"tool-bar-medium-card"},rt=Object(r["createTextVNode"])(" Current District: "),it=Object(r["createVNode"])("p",null,null,-1),ot=Object(r["createTextVNode"])(" Current TA: "),at=Object(r["createVNode"])("p",null,null,-1),ct=Object(r["createTextVNode"])(" Current Village: "),st=Object(r["createVNode"])("p",null,null,-1),ut={class:"card-content"},lt={key:0},dt=Object(r["createTextVNode"])("Cancel"),pt=Object(r["createTextVNode"])("Void"),bt=Object(r["createTextVNode"])(" Continue ");Object(r["popScopeId"])();var ht,ft,mt=Fe((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("ion-card-title"),p=Object(r["resolveComponent"])("ion-card-header"),b=Object(r["resolveComponent"])("ion-card-content"),h=Object(r["resolveComponent"])("ion-card"),f=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer"),O=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(O,null,{default:Fe((function(){return[Object(r["createVNode"])(l,{translucent:!0},{default:Fe((function(){return[Object(r["createVNode"])(u,null,{default:Fe((function(){return[Object(r["createVNode"])(s,null,{default:Fe((function(){return[Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",Re,[Le,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.patientName),1),Me,He,Ue,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.birthdate),1),qe,Ge,ze,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.gender),1)])]})),_:1}),Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",Ye,[We,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryDistrict),1),Ke,$e,Je,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryTA),1),Xe,Qe,Ze,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.ancestryVillage),1),et,tt])]})),_:1}),Object(r["createVNode"])(c,null,{default:Fe((function(){return[Object(r["createVNode"])("div",nt,[rt,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentDistrict),1),it,ot,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentTA),1),at,ct,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.demographics.currentVillage),1),st])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Fe((function(){return[Object(r["createVNode"])(s,null,{default:Fe((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.cards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{size:"4",key:t},{default:Fe((function(){return[Object(r["createVNode"])(h,{class:"his-card"},{default:Fe((function(){return[Object(r["createVNode"])(p,null,{default:Fe((function(){return[Object(r["createVNode"])(d,null,{default:Fe((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title.toUpperCase()),1)]})),_:2},1024)]})),_:2},1024),Object(r["createVNode"])(b,null,{default:Fe((function(){return[Object(r["createVNode"])("ul",ut,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{class:"li-item",key:t},[e.label?(Object(r["openBlock"])(),Object(r["createBlock"])("span",lt,Object(r["toDisplayString"])(e.label)+" ",1)):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("strong",{innerHTML:e.value},null,8,["innerHTML"])])})),128))])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(g,null,{default:Fe((function(){return[Object(r["createVNode"])(u,{color:"dark"},{default:Fe((function(){return[Object(r["createVNode"])(m,{color:"danger",size:"large","router-link":"/"},{default:Fe((function(){return[dt]})),_:1}),e.facts.patientFound&&e.isAdmin?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,color:"danger left",size:"large",onClick:e.onVoid},{default:Fe((function(){return[pt]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),e.facts.patientFound?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:1,slot:"end",color:"success",size:"large",onClick:e.nextTask},{default:Fe((function(){return[bt]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),gt=(n("a15b"),n("fb6a"),n("4fad"),n("2ef0")),Ot=n.n(gt),vt=n("e4bd"),_t=n("0fa1"),jt=n("c1e4"),yt=n("c21d"),wt=n("23e6"),Nt=n("74f4"),Ct=(n("4d63"),n("2532"),n("7f35"));(function(e){e["ON_CONTINUE"]="oncontinue",e["ONLOAD"]="onload"})(ht||(ht={})),function(e){e["FORCE_EXIT"]="forceExit",e["GO_HOME"]="gotoHome",e["GO_BACK"]="goBack",e["CONTINUE"]="continue",e["ENROLL"]="enroll",e["EXIT"]="exit",e["ACTIVATE_FN"]="activateFn",e["ASSIGN_NPID"]="assignNpid",e["UPDATE_DMG"]="updateDemographics",e["PRINT_NPID"]="printNPID",e["CREATE_NPID_WITH_REMOTE_DIFF"]="createNpiDWithRemote",e["REFRESH_DDE_DEMOGRAPHICS"]="refreshDemographicsDDE",e["UPDATE_LOCAL_DDE_DIFFS"]="updateLocalDiffs",e["RESOLVE_DUPLICATE_NPIDS"]="resolveDuplicateNpids"}(ft||(ft={}));var Vt={"Do not proceed if patient is not found in the system":{priority:2,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])(" 0 Search results","Patient has not been found","Choose how to proceed",[{name:"Go Home",slot:"start",color:"primary"},{name:"Go Back",slot:"start",color:"primary"}],"his-danger-color")];case 1:return e=t.sent(),[2,"Go Home"===e?ft.GO_HOME:ft.GO_BACK]}}))}))}},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!1===t},patientFound:function(e){return!1===e}}},"[DDE] Show invalid attributes for a patient whose remote":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["d"])("DDE Entity Error","Remote patient has invalid attributes",["Attribute","Errors"],e.demographics.invalidDemographics,[{name:"Exit",slot:"start",color:"danger"}],"his-danger-color")];case 1:return t.sent(),[2,ft.GO_BACK]}}))}))}},conditions:{demographics:function(e){var t=e.hasInvalidDemographics;return!0===t}}},"[DDE] Do not proceed if NPID is not found and Provide history of voided NPIDS":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(e){return Object(o["b"])(void 0,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(Ct["d"])("Voided patients with ID "+e.scannedNpid,"NPID was not found. Please review available patient with similar ID",e.dde.voidedNpids.cols,e.dde.voidedNpids.rows,[{name:"Go Home",slot:"start",color:"primary"},{name:"Go Back",slot:"start",color:"primary"}],"his-danger-color")];case 1:return t=n.sent(),[2,"Go Home"===t?ft.GO_HOME:t===ft.GO_BACK?ft.GO_BACK:ft.FORCE_EXIT]}}))}))}},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},patientFound:function(e){return!1===e}}},"[DDE] Notify the user to proceed with Remote NPID if local NPID does not match remote":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(e){var t=e.dde;return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Ct["a"])("Missing Local NPID",'Patient has a missing local NPID "'+t.remoteNpidDiff+'"',"Proceed to Fix issue",[{name:"Resolve issue",slot:"start",color:"danger"}],"his-danger-color")];case 1:return e.sent(),[2,ft.CREATE_NPID_WITH_REMOTE_DIFF]}}))}))}},conditions:{dde:function(e){var t=e.localNpidDiff,n=e.remoteNpidDiff;return!t&&t!=n},globalProperties:function(e){var t=e.ddeEnabled;return!0===t}}},"Warn if patient is missing National ID and assign them one":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Ct["a"])("Missing National ID","Patient was found BUT has no National ID","The system is going to assign the patient with a new ID",[{name:"OK",slot:"start",color:"primary"}],"his-danger-color")];case 1:return e.sent(),[2,ft.ASSIGN_NPID]}}))}))}},conditions:{identifiers:function(e){return!e.includes("National id")},currentNpid:function(e){return!e}}},"Detect NPID duplicates and prompt the user to resolve them":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(e){var t=e.scannedNpid;return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Ct["a"])("DUPLICATE NPID","NPID "+t+" is currently assigned to multiple patients","Proceed to resolve the issue",[{name:"Resolve Duplicate NPIDs",slot:"start",color:"danger"}],"his-danger-color")];case 1:return e.sent(),[2,ft.RESOLVE_DUPLICATE_NPIDS]}}))}))}},conditions:{npidHasDuplicates:function(e){return e}}},"Warn before proceeding if patient is deceased based on current Patient state":{priority:1,targetEvent:ht.ON_CONTINUE,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Deceased Patient","Patient outcome is Died!","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color")];case 1:return e=t.sent(),[2,"Yes"===e?ft.CONTINUE:ft.FORCE_EXIT]}}))}))}},conditions:{currentOutcome:function(e){return"Patient died"===e}}},"Warn before proceeding if patient stopped treatment based on current Patient state":{priority:1,targetEvent:ht.ON_CONTINUE,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Stopped Treatment","Patient outcome is Stopped Treatment ","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color")];case 1:return e=t.sent(),[2,"Yes"===e?ft.CONTINUE:ft.FORCE_EXIT]}}))}))}},conditions:{currentOutcome:function(e){return"Treatment stopped"===e}}},"Warn before proceeding if patient is transferred out based on current patient state":{priority:1,targetEvent:ht.ON_CONTINUE,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Transferred out Patient","Patient was transferred out","Do you want to continue?",[{name:"Yes",slot:"start",color:"danger"},{name:"No",slot:"end",color:"success"}],"his-warning-color")];case 1:return e=t.sent(),[2,"Yes"===e?ft.CONTINUE:ft.FORCE_EXIT]}}))}))}},conditions:{currentOutcome:function(e){return"Patient transferred out"===e}}},"Prompt patient enrollment in current programme if not enrolled":{priority:4,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Programme Enrollment","Patient is not enrolled in current programme, do you want to enroll?","",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}])];case 1:return e=t.sent(),[2,"Yes"===e?ft.ENROLL:ft.EXIT]}}))}))}},conditions:{programName:function(e){return!!e.match(/n\/a/i)}}},"(ART Filing numbers) Prompt dormant filing number reactivation if patient has a dormant filing number":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Filing Numbers","Activate dormant #?","",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}])];case 1:return e=t.sent(),[2,"Yes"===e?ft.ACTIVATE_FN:ft.EXIT]}}))}))}},conditions:{programName:function(e){return"HIV PROGRAM"===e},identifiers:function(e){return e.includes("Archived filing number")},currentOutcome:function(e){return!["Treatment stopped","Patient transferred out","Patient died"].includes(e)},globalProperties:function(e){var t=e.useFilingNumbers;return t}}},"Prompt the user to update patient demographics when data is incomplete":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Demographics","Patient data is incomplete data","Do you want to review and update now?",[{name:"Yes",slot:"start",color:"success"},{name:"No",slot:"end",color:"danger"}],"his-danger-color")];case 1:return e=t.sent(),[2,"Yes"===e?ft.UPDATE_DMG:ft.EXIT]}}))}))}},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!1===t},demographics:function(e){var t=e.patientIsComplete;return!1===t}}},"[DDE] Alert When remote Patient demographics dont match Local Demographics ":{priority:3,targetEvent:ht.ONLOAD,actions:{alert:function(e){var t=e.dde;return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(Ct["d"])("Demographics Mismatch","Local Demographics do not match Remote Demographics",["Attributes","Local","Remote"],t.diffRows,[{name:"Use Local",slot:"start",color:"primary"},{name:"Use Remote",slot:"start",color:"primary"}],"his-danger-color",t.diffRowColors)];case 1:return e=n.sent(),[2,"Use Local"===e?ft.UPDATE_LOCAL_DDE_DIFFS:ft.REFRESH_DDE_DEMOGRAPHICS]}}))}))}},conditions:{dde:function(e){var t=e.hasDemographicConflict;return t}}},"[DDE] Alert to print newer NPID when the scanned NPID doesnt match active NPID":{priority:2,targetEvent:ht.ONLOAD,actions:{alert:function(e){var t=e.currentNpid;return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Ct["a"])("[DDE] NATIONAL ID","Patient has a newer National Identifier "+t,"Print and proceed",[{name:"Print",slot:"start",color:"primary"}])];case 1:return e.sent(),[2,ft.PRINT_NPID]}}))}))}},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},scannedNpid:function(e,t){var n=t.currentNpid;return!e.match(new RegExp(n,"i"))}}},"[DDE] Force Users to update Incomplete Patient demographics":{priority:1,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(Ct["a"])("Patient Demographics","Demographic data is incomplete","Continue to update",[{name:"Update",slot:"start",color:"success"},{name:"Cancel",slot:"start",color:"danger"}],"his-warning-color")];case 1:return e=t.sent(),[2,"Cancel"===e?ft.GO_HOME:ft.UPDATE_DMG]}}))}))}},conditions:{globalProperties:function(e){var t=e.ddeEnabled;return!0===t},demographics:function(e){var t=e.patientIsComplete;return!1===t}}},"Warn the user when patient has high viral load":{priority:6,targetEvent:ht.ONLOAD,actions:{alert:function(){return Object(o["b"])(void 0,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Ct["a"])("High Viral Load","Patient has a high viral load, please take immediate action!","",[{name:"OK",slot:"end",color:"danger"}],"his-danger-color")];case 1:return e.sent(),[2,ft.CONTINUE]}}))}))}},conditions:{hasHighViralLoad:function(e){return!0===e}}}},Dt=n("4db7"),kt=n("ad49"),Tt=n("fa73"),It=n("d1ca"),xt=n("9b7c"),St=Object(r["defineComponent"])({name:"Patient Confirmation",components:{IonContent:a["n"],IonHeader:a["q"],IonFooter:a["o"],IonPage:a["B"],IonToolbar:a["N"],IonRow:a["F"],IonCol:a["m"],IonButton:a["d"],IonCard:a["f"],IonCardContent:a["g"],IonCardTitle:a["j"],IonCardHeader:a["h"]},data:function(){return{app:{},program:{},patient:{},cards:[],ddeInstance:{},useDDE:!1,facts:{hasHighViralLoad:!1,patientFound:!1,npidHasDuplicates:!1,userRoles:[],scannedNpid:"",currentNpid:"",programName:"N/A",currentOutcome:"",programs:[],identifiers:[],dde:{localNpidDiff:"",remoteNpidDiff:"",voidedNpids:{cols:[],rows:[]},hasDemographicConflict:!1,localDiffs:{},diffRows:[],diffRowColors:[]},demographics:{patientIsComplete:!1,hasInvalidDemographics:!1,invalidDemographics:[],givenName:"",familyName:"",patientName:"",landmark:"",phoneNumber:"",currentDistrict:"",currentTA:"",currentVillage:"",ancestryDistrict:"",ancestryTA:"",ancestryVillage:"",gender:"",birthdate:""},globalProperties:{useFilingNumbers:It["a"].FILING_NUMBERS+"=true",ddeEnabled:Pe["a"].DDE_ENABLED+"=true"}}}},created:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return e=pe["a"].getActiveApp(),e&&(this.app=e),this.ddeInstance=new Tt["a"],[4,this.ddeInstance.loadDDEStatus()];case 1:return t.sent(),this.useDDE=this.ddeInstance.isEnabled(),[2]}}))}))},computed:{demographics:function(){return this.facts.demographics},birthdate:function(){return he["a"].toStandardHisDisplayFormat(this.facts.demographics.birthdate)},isAdmin:function(){return jt["a"].isAdmin()}},watch:{$route:{handler:function(e){var t=e.query;return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return Object(gt["isEmpty"])(t)||!t.person_id&&!t.patient_barcode?[3,2]:[4,this.findAndSetPatient(t.person_id,t.patient_barcode)];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},immediate:!0}},methods:{setViralLoadStatus:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,xt["a"].getOrders(this.patient.getID())];case 1:return e=n.sent(),Object(gt["isEmpty"])(e)||(t=xt["a"].getViralLoadOrders(e),Object(gt["isEmpty"])(t)||(this.facts.hasHighViralLoad=xt["a"].isHighViralLoadResult(t[0].tests[0].result[0]))),[2]}}))}))},findAndSetPatient:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,this.presentLoading()];case 1:return i.sent(),this.facts.scannedNpid||(this.facts.scannedNpid=t||""),[4,this.resolveGlobalPropertyFacts()];case 2:return i.sent(),this.useDDE&&t?[4,this.handleSearchResults(this.ddeInstance.searchNpid(t))]:[3,4];case 3:return i.sent(),[3,13];case 4:return e?this.useDDE?[4,wt["a"].findByID(e)]:[3,8]:[3,11];case 5:return n=i.sent(),n?(r=new wt["a"](n),this.facts.scannedNpid=r.getNationalID(),[4,this.handleSearchResults(this.ddeInstance.searchNpid(r.getNationalID()))]):[3,7];case 6:i.sent(),i.label=7;case 7:return[3,10];case 8:return[4,this.handleSearchResults(wt["a"].findByID(e))];case 9:i.sent(),i.label=10;case 10:return[3,13];case 11:return[4,this.handleSearchResults(wt["a"].findByNpid(t))];case 12:i.sent(),i.label=13;case 13:return[4,a["S"].dismiss()];case 14:return i.sent(),[4,this.onEvent(ht.ONLOAD)];case 15:return i.sent(),[2]}}))}))},handleSearchResults:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:t=[],o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e];case 2:return t=o.sent(),[3,4];case 3:return n=o.sent(),n instanceof fe["b"]&&!Object(gt["isEmpty"])(n.entity)&&(t=n.entity),n instanceof fe["a"]&&Array.isArray(n.errors)&&(r=n.errors,i=r[0],a=r.slice(1),"string"===typeof i&&"Invalid parameter(s)"===i&&this.setInvalidParametersFacts(a)),[3,4];case 4:return this.facts.patientFound=!Object(gt["isEmpty"])(t),this.facts.patientFound?(this.patient=new wt["a"](Array.isArray(t)?t[0]:t),this.setPatientFacts(),[4,this.setProgramFacts()]):[3,10];case 5:return o.sent(),this.useDDE?[4,this.setDDEFacts()]:[3,7];case 6:o.sent(),o.label=7;case 7:return[4,this.drawPatientCards()];case 8:return o.sent(),[4,this.setViralLoadStatus()];case 9:return o.sent(),this.facts.currentNpid=this.patient.getNationalID(),this.facts.npidHasDuplicates=Array.isArray(t)&&t.length>1,[3,12];case 10:return this.facts.scannedNpid?[4,this.setVoidedNpidFacts(this.facts.scannedNpid)]:[3,12];case 11:o.sent(),o.label=12;case 12:return[2]}}))}))},setInvalidParametersFacts:function(e){this.facts.demographics.hasInvalidDemographics=!0,this.facts.demographics.invalidDemographics=e.map((function(e){var t=Object.entries(e),n=t[0][0],r=t[0][1];return[n,r.join(", ")]}))},reloadPatient:function(){return this.findAndSetPatient(this.patient.getID(),void 0)},setPatientFacts:function(){this.facts.demographics.patientIsComplete=this.patient.patientIsComplete(),this.facts.demographics.patientName=this.patient.getFullName(),this.facts.demographics.givenName=this.patient.getGivenName(),this.facts.demographics.familyName=this.patient.getFamilyName(),this.facts.demographics.landmark=this.patient.getAttribute(19),this.facts.demographics.phoneNumber=this.patient.getAttribute(12),this.facts.demographics.gender=this.patient.getGender(),this.facts.demographics.birthdate=this.patient.getBirthdate(),this.facts.demographics.ancestryDistrict=this.patient.getHomeDistrict(),this.facts.demographics.ancestryTA=this.patient.getHomeTA(),this.facts.demographics.ancestryVillage=this.patient.getHomeVillage(),this.facts.demographics.currentDistrict=this.patient.getCurrentDistrict(),this.facts.demographics.currentTA=this.patient.getCurrentTA(),this.facts.demographics.currentVillage=this.patient.getCurrentVillage(),this.facts.identifiers=this.patient.getIdentifiers().map((function(e){return e.type.name}))},buildDDEDiffs:function(e){var t=[],n={givenName:{label:"First Name",ref:"given_name"},familyName:{label:"Last Name",ref:"family_name"},birthdate:{label:"Birthdate",ref:"birthdate"},gender:{label:"Gender",ref:"gender"},phoneNumber:{label:"Phone number",ref:"phone_number"},ancestryDistrict:{label:"Home District",ref:"home_district"},ancestryTA:{label:"Home TA",ref:"home_traditional_authority"},ancestryVillage:{label:"Home Village",ref:"home_village"},currentDistrict:{label:"Current District",ref:"current_district"},currentTA:{label:"Current TA",ref:"current_traditional_authority"},currentVillage:{label:"Current Village",ref:"current_village"}},r=0,i={indexes:[],class:"his-empty-set-color"};for(var o in n){var a=this.facts.demographics[o],c=a;n[o].ref in e&&(i.indexes.push(r),a=e[n[o].ref].local,c=e[n[o].ref].remote),t.push([n[o].label,a,c]),++r}return{comparisons:t,rowColors:[i]}},resolveGlobalPropertyFacts:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:for(t in e=[],this.facts.globalProperties)e.push(t);n=0,o.label=1;case 1:return n<e.length?(r=e[n],"string"!==typeof this.facts.globalProperties[r]?[3,3]:(i=this.facts.globalProperties,a=r,[4,kt["a"].isProp(this.facts.globalProperties[r])])):[3,4];case 2:i[a]=o.sent(),o.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},setProgramFacts:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return this.program=new Nt["a"](this.patient.getID()),[4,this.program.getProgram()];case 1:return e=r.sent(),t=e.program,n=e.outcome,this.facts.currentOutcome=n,this.facts.programName=t,this.facts.userRoles=jt["a"].getUserRoles().map((function(e){return e.role})),[2]}}))}))},setDDEFacts:function(){var e;return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a,c,s,u;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.ddeInstance.getLocalAndRemoteDiffs()];case 1:return t=null===(e=o.sent())||void 0===e?void 0:e.diff,this.facts.dde.localDiffs=this.ddeInstance.formatDiffValuesByType(t,"local"),this.facts.dde.hasDemographicConflict=!Object(gt["isEmpty"])(t),n=this.buildDDEDiffs(t),r=n.comparisons,i=n.rowColors,this.facts.dde.diffRows=r,this.facts.dde.diffRowColors=i,t.npid&&(a=t.npid,c=a.local,s=a.remote,this.facts.dde.localNpidDiff=c,this.facts.dde.remoteNpidDiff=s),[3,3];case 2:return u=o.sent(),console.warn(u),[3,3];case 3:return[2]}}))}))},drawPatientCards:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return this.app.confirmationSummary?(this.cards=[],[4,this.app.confirmationSummary(this.patient,this.program)]):[2];case 1:for(n in e=o.sent(),t=[],e)t.push(n);r=0,o.label=2;case 2:return r<t.length?(i=t[r],[4,e[i]()]):[3,5];case 3:a=o.sent(),this.cards.push({title:i,data:a}),o.label=4;case 4:return r++,[3,2];case 5:return[2]}}))}))},setVoidedNpidFacts:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i=this;return Object(o["d"])(this,(function(c){switch(c.label){case 0:return t=["Name","Birthdate","Gender","Ancestry Home","CurrentID","Action"],n=[],[4,this.ddeInstance.findVoidedIdentifier(e)];case 1:return r=c.sent(),r&&(n=r.map((function(e){var t=new wt["a"](e);return[t.getFullName(),t.getBirthdate(),t.getGender(),t.getHomeTA(),t.getNationalID(),{type:"button",name:"Select",action:function(){return Object(o["b"])(i,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,a["U"].dismiss({action:ft.FORCE_EXIT})];case 1:return e.sent(),[4,this.findAndSetPatient(void 0,t.getNationalID())];case 2:return e.sent(),[2]}}))}))}}]})),this.facts.dde.voidedNpids.cols=t,this.facts.dde.voidedNpids.rows=n),[2]}}))}))},presentLoading:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,a["S"].create({message:"Please wait...",backdropDismiss:!1})];case 1:return e=t.sent(),[4,e.present()];case 2:return t.sent(),[2]}}))}))},onEvent:function(e,t){var n,r;return void 0===t&&(t={}),Object(o["b"])(this,void 0,void 0,(function(){var i,a,c,s,u,l,d;return Object(o["d"])(this,(function(o){switch(o.label){case 0:for(c in i=Object(yt["a"])(this.facts,Vt,"",e),a=[],i)a.push(c);s=0,o.label=1;case 1:return s<a.length?(u=a[s],l=i[u],(null===(n=null===l||void 0===l?void 0:l.actions)||void 0===n?void 0:n.alert)?[4,null===(r=null===l||void 0===l?void 0:l.actions)||void 0===r?void 0:r.alert(this.facts)]:[3,4]):[3,5];case 2:return d=o.sent(),[4,this.runFlowState(d)];case 3:if(o.sent()===ft.FORCE_EXIT)return[2,!1];o.label=4;case 4:return s++,[3,1];case 5:return"function"===typeof t&&t(),[2]}}))}))},runFlowState:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r=this;return Object(o["d"])(this,(function(i){switch(i.label){case 0:if(t={gotoHome:function(){return r.$router.push("/"),ft.FORCE_EXIT},goBack:function(){return r.$router.back(),ft.FORCE_EXIT},enroll:function(){return r.program.enrollProgram()},activateFn:function(){return r.$router.push("/art/filing_numbers/"+r.patient.getID()+"?assign=true"),ft.FORCE_EXIT},updateDemographics:function(){return r.$router.push("/patient/registration?edit_person="+r.patient.getID()),ft.FORCE_EXIT},printNPID:function(){return Object(o["b"])(r,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return a["S"].dismiss(),[4,this.ddeInstance.printNpid()];case 1:return e.sent(),[2]}}))}))},createNpiDWithRemote:function(){return Object(o["b"])(r,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e=this.facts.dde.remoteNpidDiff,t=e,t?[4,this.ddeInstance.createNPID(e)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return t?(this.facts.scannedNpid=e,this.facts.currentNpid=e,this.facts.dde.localNpidDiff=e,[4,this.findAndSetPatient(void 0,e)]):[3,4];case 3:return n.sent(),[2,ft.FORCE_EXIT];case 4:return[2]}}))}))},assignNpid:function(){return Object(o["b"])(r,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,this.patient.assignNpid()];case 1:return e=r.sent(),t=e,t?[4,Object(u["a"])("Do you want to print National ID?")]:[3,3];case 2:t=r.sent(),r.label=3;case 3:return t?(n=new Dt["a"](this.patient.getID()),[4,n.printNidLbl()]):[3,6];case 4:return r.sent(),[4,this.reloadPatient()];case 5:return r.sent(),[2,ft.FORCE_EXIT];case 6:return[2]}}))}))},resolveDuplicateNpids:function(){return r.$router.push("/npid/duplicates/"+r.facts.scannedNpid),ft.FORCE_EXIT},refreshDemographicsDDE:function(){return Object(o["b"])(r,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.ddeInstance.refreshDemographics()];case 1:return e.sent(),[4,this.reloadPatient()];case 2:return e.sent(),[2,ft.FORCE_EXIT]}}))}))},updateLocalDiffs:function(){return Object(o["b"])(r,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.ddeInstance.updateLocalDifferences(this.facts.dde.localDiffs)];case 1:return e.sent(),[4,this.reloadPatient()];case 2:return e.sent(),[2,ft.FORCE_EXIT]}}))}))}},!(e in t))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t[e]()];case 2:return[2,i.sent()];case 3:return n=i.sent(),Object(u["c"])(n),[3,4];case 4:return[2,e]}}))}))},onVoid:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["d"])(this,(function(t){return Object(vt["a"])((function(t){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,wt["a"].voidPatient(this.patient.getID(),t)];case 1:return e.sent(),this.$router.push("/"),[2]}}))}))})),[2]}))}))},nextTask:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.onEvent(ht.ON_CONTINUE,(function(){Object(_t["b"])(e.patient.getID(),e.$router)}))];case 1:return t.sent(),[2]}}))}))}}});n("ff7d");const Pt=v()(St,[["render",mt],["__scopeId","data-v-24269c61"]]);var Bt=Pt,At=Object(r["withScopeId"])("data-v-ba33ff0a");Object(r["pushScopeId"])("data-v-ba33ff0a");var Et=Object(r["createTextVNode"])("Scan work-station location"),Ft=Object(r["createTextVNode"])(" Cancel "),Rt=Object(r["createTextVNode"])(" Next ");Object(r["popScopeId"])();var Lt=At((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("barcode-input"),d=Object(r["resolveComponent"])("ion-content"),p=Object(r["resolveComponent"])("his-keyboard"),b=Object(r["resolveComponent"])("ion-button"),h=Object(r["resolveComponent"])("ion-footer"),f=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:At((function(){return[Object(r["createVNode"])(u,{translucent:!0},{default:At((function(){return[Object(r["createVNode"])(s,null,{default:At((function(){return[Object(r["createVNode"])(c,null,{default:At((function(){return[Et]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:At((function(){return[Object(r["createVNode"])(l,{class:"his-card",clearValue:e.clearValue,virtualText:e.kbText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]})),_:1}),e.isTouchPlatform?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(h,null,{default:At((function(){return[Object(r["createVNode"])(s,{color:"dark"},{default:At((function(){return[Object(r["createVNode"])(b,{color:"danger",size:"large","router-link":"/login"},{default:At((function(){return[Ft]})),_:1}),e.barcodeText?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:At((function(){return[Rt]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),Mt=n("efaf"),Ht=n("db10"),Ut=n("6be2"),qt=Object(r["defineComponent"])({name:"HC location",components:{BarcodeInput:Mt["a"],IonContent:a["n"],IonHeader:a["q"],IonPage:a["B"],IonTitle:a["M"],IonToolbar:a["N"],IonButton:a["d"],IonFooter:a["o"],HisKeyboard:Ht["a"]},setup:function(){var e=Object(r["ref"])(""),t=Object(r["ref"])(""),n=Object(r["ref"])(""),i=Object(a["Q"])().filter((function(e){return["ios","iphone","android","mobileweb","tablet"].includes(e)})).length>=1;function c(){return Object(o["b"])(this,void 0,void 0,(function(){var r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return e.value.includes("$")||(e.value+="$"),[4,fe["d"].getJson("locations/"+e.value)];case 1:return r=o.sent(),Object(gt["isEmpty"])(r)?Object(u["e"])("Invalid location"):(i=r,sessionStorage.siteUUID=i.uuid,sessionStorage.userLocation=i.name,bc.push("/")),t.value=e.value,e.value="",n.value=e.value,[2]}}))}))}function s(t){e.value=t}function l(e){n.value=e}function d(t){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e.value=t,[4,c()];case 1:return n.sent(),[2]}}))}))}return{onbarcodeText:s,onScan:d,onKbClick:l,searchLocation:c,isTouchPlatform:i,kbText:n,clearValue:t,barcodeText:e,NUMBERS:Ut["c"]}}});n("e0fa");const Gt=v()(qt,[["render",Lt],["__scopeId","data-v-ba33ff0a"]]);var zt=Gt;function Yt(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,skipSummary:!0,onOnFinish:e.onFinish},null,8,["fields","onOnFinish"])}var Wt=n("d95e"),Kt=n("d10e"),$t=n("7920"),Jt=n("2706"),Xt=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{fields:[],form:{}}},created:function(){this.fields=this.getFields()},methods:{onFinish:function(e){var t=this.resolveData(e);this.$router.push({path:"/patient/search_results",query:t})},resolveData:function(e){var t={};for(var n in e){var r=e[n];r&&null!=r.value&&(t[n]=r.value)}return t},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},getFields:function(){var e=this;return[{id:"given_name",helpText:"First name",type:Wt["b"].TT_TEXT,validation:function(e){return Jt["a"].isName(e)},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t.given_name&&null!==t.given_name.value?[4,Kt["a"].searchGivenName(t.given_name.value)]:[2,[]];case 1:return e=n.sent(),[2,this.mapToOption(e)]}}))}))}},{id:"family_name",helpText:"Last name",type:Wt["b"].TT_TEXT,validation:function(e){return Jt["a"].isName(e)},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t.family_name&&null!==t.family_name.value?[4,Kt["a"].searchFamilyName(t.family_name.value)]:[2,[]];case 1:return e=n.sent(),[2,this.mapToOption(e)]}}))}))}},{id:"gender",helpText:"Gender",type:Wt["b"].TT_SELECT,validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:"Male",value:"M"},{label:"Female",value:"F"}]}}]}}});const Qt=v()(Xt,[["render",Yt]]);var Zt=Qt,en=Object(r["withScopeId"])("data-v-416d2c6b");Object(r["pushScopeId"])("data-v-416d2c6b");var tn=Object(r["createTextVNode"])("HIS Core"),nn={id:"container"},rn={id:"page0",class:"content-containers"},on={id:"page1",class:"content-containers"},an=Object(r["createTextVNode"])("Cancel"),cn=Object(r["createTextVNode"])("Next"),sn=Object(r["createTextVNode"])("Back");Object(r["popScopeId"])();var un=en((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("input-text"),d=Object(r["resolveComponent"])("input-text-keyboard"),p=Object(r["resolveComponent"])("ion-content"),b=Object(r["resolveComponent"])("ion-button"),h=Object(r["resolveComponent"])("ion-footer"),f=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(f,null,{default:en((function(){return[Object(r["createVNode"])(u,{translucent:!0},{default:en((function(){return[Object(r["createVNode"])(s,null,{default:en((function(){return[Object(r["createVNode"])(c,null,{default:en((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.helpText),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{fullscreen:!0},{default:en((function(){return[Object(r["createVNode"])(u,{collapse:"condense"},{default:en((function(){return[Object(r["createVNode"])(s,null,{default:en((function(){return[Object(r["createVNode"])(c,{size:"large"},{default:en((function(){return[tn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])("div",nn,[Object(r["createVNode"])("div",rn,[Object(r["createVNode"])(l,{passedKey:e.passedKey},null,8,["passedKey"]),Object(r["createVNode"])(d,{onKeyPress:e.keyPressed},null,8,["onKeyPress"])]),Object(r["createVNode"])("div",on,[Object(r["createVNode"])(l,{passedKey:e.passedKey},null,8,["passedKey"]),Object(r["createVNode"])(d,{onKeyPress:e.keyPressed},null,8,["onKeyPress"])])])]})),_:1}),Object(r["createVNode"])(h,{translucent:!0,class:"loc-footer"},{default:en((function(){return[Object(r["createVNode"])(b,{class:"footer-btns",color:"danger"},{default:en((function(){return[an]})),_:1}),Object(r["createVNode"])(b,{class:"footer-btns",onClick:e.goNextPage,id:"nextButton",color:"success"},{default:en((function(){return[cn]})),_:1},8,["onClick"]),Object(r["createVNode"])(b,{class:"footer-btns",onClick:e.goBack,id:"backButton",color:"primary"},{default:en((function(){return[sn]})),_:1},8,["onClick"])]})),_:1})]})),_:1})})),ln=Object(r["withScopeId"])("data-v-34f065e0");Object(r["pushScopeId"])("data-v-34f065e0");var dn={id:"inputs-container"};Object(r["popScopeId"])();var pn=ln((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])("div",dn,[Object(r["createVNode"])(u,{class:"main-table"},{default:ln((function(){return[Object(r["createVNode"])(s,null,{default:ln((function(){return[Object(r["createVNode"])(c,{"size-md":"12"},{default:ln((function(){return[Object(r["createVNode"])("input",{type:"text",id:"touchscreenInput",value:e.passedKey,autofocus:"",ref:"barcodeInputbox"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1})])})),bn=Object(r["defineComponent"])({props:["passedKey"],name:"InputSearchResult",components:{},data:function(){return{barcodeText:this.passedKey}},methods:{},mounted:function(){},watch:{barcodeText:function(){}}});n("ddb2");const hn=v()(bn,[["render",pn],["__scopeId","data-v-34f065e0"]]);var fn=hn,mn=Object(r["withScopeId"])("data-v-5572eb86");Object(r["pushScopeId"])("data-v-5572eb86");var gn={id:"inputs-container"},On=Object(r["createTextVNode"])("1"),vn=Object(r["createTextVNode"])("2"),_n=Object(r["createTextVNode"])("3"),jn=Object(r["createTextVNode"])("4"),yn=Object(r["createTextVNode"])("5"),wn=Object(r["createTextVNode"])("6"),Nn=Object(r["createTextVNode"])("7"),Cn=Object(r["createTextVNode"])("8"),Vn=Object(r["createTextVNode"])("9"),Dn=Object(r["createTextVNode"])("0"),kn=Object(r["createTextVNode"])("Q"),Tn=Object(r["createTextVNode"])("W"),In=Object(r["createTextVNode"])("E"),xn=Object(r["createTextVNode"])("R"),Sn=Object(r["createTextVNode"])("T"),Pn=Object(r["createTextVNode"])("Y"),Bn=Object(r["createTextVNode"])("U"),An=Object(r["createTextVNode"])("I"),En=Object(r["createTextVNode"])("O"),Fn=Object(r["createTextVNode"])("P"),Rn=Object(r["createTextVNode"])("Caps"),Ln=Object(r["createTextVNode"])("A"),Mn=Object(r["createTextVNode"])("S"),Hn=Object(r["createTextVNode"])("D"),Un=Object(r["createTextVNode"])("F"),qn=Object(r["createTextVNode"])("G"),Gn=Object(r["createTextVNode"])("H"),zn=Object(r["createTextVNode"])("J"),Yn=Object(r["createTextVNode"])("K"),Wn=Object(r["createTextVNode"])("L"),Kn=Object(r["createTextVNode"])("Del"),$n=Object(r["createTextVNode"])("Z"),Jn=Object(r["createTextVNode"])("X"),Xn=Object(r["createTextVNode"])("C"),Qn=Object(r["createTextVNode"])("V"),Zn=Object(r["createTextVNode"])("B"),er=Object(r["createTextVNode"])("N"),tr=Object(r["createTextVNode"])("M"),nr=Object(r["createTextVNode"])(">"),rr=Object(r["createTextVNode"])("."),ir=Object(r["createTextVNode"])("<"),or=Object(r["createTextVNode"])("Space");Object(r["popScopeId"])();var ar=mn((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-grid");return Object(r["openBlock"])(),Object(r["createBlock"])("div",gn,[Object(r["createVNode"])(l,{class:"main-table"},{default:mn((function(){return[Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,{"size-md":"12",id:"keyboard-elements"},{default:mn((function(){return[Object(r["createVNode"])(l,{class:"keyboard-table",ref:"keyboardElements"},{default:mn((function(){return[Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.keyPress("1")}),class:"keyboard-btn",id:"btn-1",color:"primary"},{default:mn((function(){return[On]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[2]||(t[2]=function(t){return e.keyPress("2")}),class:"keyboard-btn",id:"btn-2",color:"primary"},{default:mn((function(){return[vn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[3]||(t[3]=function(t){return e.keyPress("3")}),class:"keyboard-btn",id:"btn-3",color:"primary"},{default:mn((function(){return[_n]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[4]||(t[4]=function(t){return e.keyPress("4")}),class:"keyboard-btn",id:"btn-4",color:"primary"},{default:mn((function(){return[jn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[5]||(t[5]=function(t){return e.keyPress("5")}),class:"keyboard-btn",id:"btn-5",color:"primary"},{default:mn((function(){return[yn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[6]||(t[6]=function(t){return e.keyPress("6")}),class:"keyboard-btn",id:"btn-6",color:"primary"},{default:mn((function(){return[wn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[7]||(t[7]=function(t){return e.keyPress("7")}),class:"keyboard-btn",id:"btn-7",color:"primary"},{default:mn((function(){return[Nn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[8]||(t[8]=function(t){return e.keyPress("8")}),class:"keyboard-btn",id:"btn-8",color:"primary"},{default:mn((function(){return[Cn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[9]||(t[9]=function(t){return e.keyPress("9")}),class:"keyboard-btn",id:"btn-9",color:"primary"},{default:mn((function(){return[Vn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[10]||(t[10]=function(t){return e.keyPress("0")}),class:"keyboard-btn",id:"btn-0",color:"primary"},{default:mn((function(){return[Dn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[11]||(t[11]=function(t){return e.keyPress("Q")}),class:"keyboard-btn",id:"btn-Q",color:"primary"},{default:mn((function(){return[kn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[12]||(t[12]=function(t){return e.keyPress("W")}),class:"keyboard-btn",id:"btn-W",color:"primary"},{default:mn((function(){return[Tn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[13]||(t[13]=function(t){return e.keyPress("E")}),class:"keyboard-btn",id:"btn-E",color:"primary"},{default:mn((function(){return[In]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[14]||(t[14]=function(t){return e.keyPress("R")}),class:"keyboard-btn",id:"btn-R",color:"primary"},{default:mn((function(){return[xn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[15]||(t[15]=function(t){return e.keyPress("T")}),class:"keyboard-btn",id:"btn-T",color:"primary"},{default:mn((function(){return[Sn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[16]||(t[16]=function(t){return e.keyPress("Y")}),class:"keyboard-btn",id:"btn-Y",color:"primary"},{default:mn((function(){return[Pn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[17]||(t[17]=function(t){return e.keyPress("U")}),class:"keyboard-btn",id:"btn-U",color:"primary"},{default:mn((function(){return[Bn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[18]||(t[18]=function(t){return e.keyPress("I")}),class:"keyboard-btn",id:"btn-I",color:"primary"},{default:mn((function(){return[An]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[19]||(t[19]=function(t){return e.keyPress("O")}),class:"keyboard-btn",id:"btn-O",color:"primary"},{default:mn((function(){return[En]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[20]||(t[20]=function(t){return e.keyPress("P")}),class:"keyboard-btn",id:"btn-P",color:"primary"},{default:mn((function(){return[Fn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[21]||(t[21]=function(t){return e.keyPress("Caps")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[Rn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[22]||(t[22]=function(t){return e.keyPress("A")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[Ln]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[23]||(t[23]=function(t){return e.keyPress("S")}),class:"keyboard-btn",id:"btn-S",color:"primary"},{default:mn((function(){return[Mn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[24]||(t[24]=function(t){return e.keyPress("D")}),class:"keyboard-btn",id:"btn-D",color:"primary"},{default:mn((function(){return[Hn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[25]||(t[25]=function(t){return e.keyPress("F")}),class:"keyboard-btn",id:"btn-F",color:"primary"},{default:mn((function(){return[Un]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[26]||(t[26]=function(t){return e.keyPress("G")}),class:"keyboard-btn",id:"btn-G",color:"primary"},{default:mn((function(){return[qn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[27]||(t[27]=function(t){return e.keyPress("H")}),class:"keyboard-btn",id:"btn-H",color:"primary"},{default:mn((function(){return[Gn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[28]||(t[28]=function(t){return e.keyPress("J")}),class:"keyboard-btn",id:"btn-J",color:"primary"},{default:mn((function(){return[zn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[29]||(t[29]=function(t){return e.keyPress("K")}),class:"keyboard-btn",id:"btn-K",color:"primary"},{default:mn((function(){return[Yn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[30]||(t[30]=function(t){return e.keyPress("L")}),class:"keyboard-btn",id:"btn-L",color:"primary"},{default:mn((function(){return[Wn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[31]||(t[31]=function(t){return e.keyPress("Del")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[Kn]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[32]||(t[32]=function(t){return e.keyPress("Z")}),class:"keyboard-btn",id:"btn-A",color:"primary"},{default:mn((function(){return[$n]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[33]||(t[33]=function(t){return e.keyPress("X")}),class:"keyboard-btn",id:"btn-S",color:"primary"},{default:mn((function(){return[Jn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[34]||(t[34]=function(t){return e.keyPress("C")}),class:"keyboard-btn",id:"btn-D",color:"primary"},{default:mn((function(){return[Xn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[35]||(t[35]=function(t){return e.keyPress("V")}),class:"keyboard-btn",id:"btn-F",color:"primary"},{default:mn((function(){return[Qn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[36]||(t[36]=function(t){return e.keyPress("B")}),class:"keyboard-btn",id:"btn-G",color:"primary"},{default:mn((function(){return[Zn]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[37]||(t[37]=function(t){return e.keyPress("N")}),class:"keyboard-btn",id:"btn-H",color:"primary"},{default:mn((function(){return[er]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[38]||(t[38]=function(t){return e.keyPress("M")}),class:"keyboard-btn",id:"btn-J",color:"primary"},{default:mn((function(){return[tr]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[39]||(t[39]=function(t){return e.keyPress("<")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[nr]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[40]||(t[40]=function(t){return e.keyPress(".")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[rr]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[41]||(t[41]=function(t){return e.keyPress(">")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[ir]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:mn((function(){return[Object(r["createVNode"])(s,null,{default:mn((function(){return[Object(r["createVNode"])(c,{onClick:t[42]||(t[42]=function(t){return e.keyPress("Space")}),class:"keyboard-btn",id:"btn-backspace",color:"primary"},{default:mn((function(){return[or]})),_:1})]})),_:1})]})),_:1})]})),_:1},512)]})),_:1})]})),_:1})]})),_:1})])})),cr=Object(r["defineComponent"])({props:["onKeyPress"],name:"InputSearchResult",components:{},data:function(){return{keyboardPressedKeys:""}},methods:{keyPress:function(e){var t=this.keyboardPressedKeys;try{e.match(/Del/i)?this.keyboardPressedKeys=t.substring(0,t.length-1):e.match(/Space/i)?this.keyboardPressedKeys+=" ":e.match(/Caps/i)?console.log(e):this.keyboardPressedKeys+=e}catch(n){this.keyboardPressedKeys=t}this.onKeyPress(this.keyboardPressedKeys)}},mounted:function(){this.keyPress(this.keyboardPressedKeys)}});n("a039");const sr=v()(cr,[["render",ar],["__scopeId","data-v-5572eb86"]]);var ur=sr,lr=Object(r["defineComponent"])({name:"Client search",components:{IonContent:a["n"],IonHeader:a["q"],IonPage:a["B"],IonTitle:a["M"],IonToolbar:a["N"],IonFooter:a["o"],"input-text":fn,"input-text-keyboard":ur},data:function(){return{helpText:"First Name",passedKey:"",containers:[],pageCount:0,helpTexts:["First Name","Last Name"]}},methods:{keyPressed:function(e){this.passedKey=e},goNextPage:function(){for(var e=this.containers,t=0;t<e.length;t++)e[t].setAttribute("style","visibility: hidden;");this.pageCount+=1;var n=document.getElementById("page"+this.pageCount),r=document.getElementById("backButton"),i=document.getElementById("nextButton");void 0==n?(this.pageCount-=1,n=document.getElementById("page"+this.pageCount)):r.setAttribute("style","display: inline;"),this.pageCount+1==this.helpTexts.length?i.innerHTML="Finish":i.innerHTML="Next",n.setAttribute("style","visibility: visible;"),this.helpText=this.helpTexts[this.pageCount]},goBack:function(){for(var e=this.containers,t=0;t<e.length;t++)e[t].setAttribute("style","visibility: hidden;");this.pageCount-=1;var n=document.getElementById("page"+this.pageCount),r=document.getElementById("backButton"),i=document.getElementById("nextButton");void 0==n?(this.pageCount+=1,n=document.getElementById("page"+this.pageCount)):(r.setAttribute("style","display: none;"),i.innerHTML="Next"),0==this.pageCount&&(r.setAttribute("style","display: none;"),i.innerHTML="Next"),n.setAttribute("style","visibility: visible;"),this.helpText=this.helpTexts[this.pageCount]}},mounted:function(){for(var e=document.getElementsByClassName("content-containers"),t=0;t<e.length;t++)this.containers.push(e[t])}});n("9ed9");const dr=v()(lr,[["render",un],["__scopeId","data-v-416d2c6b"]]);var pr=dr;function br(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form"),s=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),skipSummary:e.skipSummary,activeField:e.fieldComponent,fields:e.fields,onFinishAction:e.onFinish},null,8,["skipSummary","activeField","fields","onFinishAction"])]})),_:1})}n("99af"),n("07ac");var hr=n("b446"),fr=n("50e7"),mr=n("80b5"),gr=n("ad60"),Or=function(e){function t(){return e.call(this)||this}return Object(o["c"])(t,e),t.create=function(t){return e.postJson.call(this,"/person_attributes",t)},t}(fe["d"]),vr=function(e){function t(){var t=e.call(this)||this;return t.personId=0,t}return Object(o["c"])(t,e),t.prototype.getPersonID=function(){return this.personId},t.prototype.setPersonID=function(e){this.personId=e},t.prototype.registerPatient=function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,this.createPerson(e)];case 1:return n.sent(),[4,this.createPersonAttributes(t)];case 2:return n.sent(),[4,this.createPatient()];case 3:return n.sent(),[4,this.printPatient()];case 4:return n.sent(),[2]}}))}))},t.prototype.registerGuardian=function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){return[2,this.createPerson(e)]}))}))},t.prototype.updatePerson=function(e){return new Kt["a"](e).update(this.personId)},t.prototype.createPerson=function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,new Kt["a"](e).create()];case 1:return t=n.sent(),this.personId=t.person_id,[2,t]}}))}))},t.prototype.createPatient=function(){return gr["a"].createPatient(this.personId)},t.prototype.createPersonAttributes=function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i;return Object(o["d"])(this,(function(a){switch(a.label){case 0:for(n in t=[],e)t.push(n);r=0,a.label=1;case 1:return r<t.length?(i=t[r],[4,Or.create(Object(o["a"])(Object(o["a"])({},e[i]),{person_id:this.personId}))]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},t.prototype.printPatient=function(){return new Dt["a"](this.personId).printNidLbl()},t}(fe["d"]),_r=n("0011"),jr=n("8df6"),yr=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"],IonPage:a["B"]},data:function(){return{app:pe["a"].getActiveApp(),ddeInstance:{},ddeDocID:"",ddeIsReassign:!1,skipSummary:!1,addressAttributes:["home_region","home_district","home_traditional_authority","home_village","current_region","current_district","current_village","current_traditional_authority"],hasIncompleteData:!1,patient:{},editPersonData:{},editPerson:-1,personAttribute:"",activeField:"",fieldComponent:"",fields:[],isMilitarySite:!1,presets:{},form:{}}},watch:{$route:{handler:function(e){var t=e.query;return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return this.ddeInstance=new Tt["a"],[4,this.ddeInstance.loadDDEStatus()];case 1:return n.sent(),t.edit_person?(this.ddeIsReassign=t.dde_reassign,this.ddeDocID=t.doc_id,this.ddeInstance.setPatientID(t.edit_person),t.person_attribute&&(this.personAttribute=t.person_attribute),[4,this.initEditMode(t.edit_person)]):[3,3];case 2:return n.sent(),[3,4];case 3:this.presets=t,n.label=4;case 4:return this.fields=this.getFields(),e=this,[4,Pe["b"].militarySiteEnabled()];case 5:return e.isMilitarySite=n.sent(),[2]}}))}))},immediate:!0,deep:!0}},methods:{getFields:function(){var e=[];return e.push(this.personIndexField()),e.push(this.givenNameField()),e.push(this.familyNameField()),e.push(this.genderField()),e.push(this.searchResultField()),e=e.concat(this.dobFields()),e.push(this.homeRegionField()),e.push(this.homeDistrictField()),e.push(this.homeTAField()),e.push(this.homeVillageField()),e.push(this.currentRegionField()),e.push(this.currentDistrictField()),e.push(this.currentTAField()),e.push(this.currentVillage()),e=e.concat(this.landmarkFields()),e.push(this.cellPhoneField()),e.push(this.patientTypeField()),e.push(this.facilityLocationField()),e.push(this.occupationField()),e.push(this.regimentField()),e=e.concat(this.dateJoinedMilitaryFields()),e.push(this.rankField()),e.push(this.relationshipField()),e.push(this.possibleDuplicatesField()),e},isEditMode:function(){return this.editPerson>=1},initEditMode:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a,c,s;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return this.editPerson=e,[4,wt["a"].findByID(this.editPerson)];case 1:return t=o.sent(),t?(this.patient=new wt["a"](t),n=this.patient.getAddresses(),r=n.ancestryDistrict,i=n.ancestryTA,a=n.ancestryVillage,c=n.currentDistrict,s=n.currentTA,this.editPersonData={given_name:this.patient.getGivenName(),family_name:this.patient.getFamilyName(),gender:this.patient.getGender(),birthdate:this.patient.getBirthdate(),home_district:r,home_traditional_authority:i,home_village:a,current_district:c,current_traditional_authority:s,cell_phone_number:this.patient.getPhoneNumber()},this.presets=this.editPersonData,this.skipSummary=!0,this.personAttribute&&(this.activeField=this.personAttribute,this.fieldComponent=this.activeField),[2]):[2]}}))}))},onFinish:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(n){return this.isEditMode()?[2,this.update(t)]:[2,this.create(e,t)]}))}))},create:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var e,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return e=mr["a"].resolvePerson(t),n=this.resolvePersonAttributes(t),r=new vr,[4,r.registerPatient(e,n)];case 1:return o.sent(),i=r.getPersonID(),this.app.onRegisterPatient?[4,this.app.onRegisterPatient(i,e,n,this.$router,this.$route)]:[3,3];case 2:if(a=o.sent(),a)return[2];o.label=3;case 3:return"Yes"===e.relationship?[2,this.$router.push("/guardian/registration/"+i)]:[4,Object(_t["b"])(i,this.$router)];case 4:return o.sent(),[2]}}))}))},update:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return t=mr["a"].resolvePerson(e),n=new vr,n.setPersonID(this.editPerson),[4,n.updatePerson(t)];case 1:for(r in i.sent(),t)r in this.editPersonData&&(this.editPersonData[r]=t[r]);return this.personAttribute?(this.$router.back(),[2]):[2,this.fieldComponent="edit_user"]}}))}))},showEditDemographicsField:function(){return-1!=this.editPerson&&this.personAttribute.length},editConditionCheck:function(e){return void 0===e&&(e=[]),!(this.isEditMode()&&!e.includes(this.activeField))},confirmPatient:function(){if(!this.patient.getNationalID().match(/unknown/i))return this.$router.push("/patients/confirm?patient_barcode="+this.patient.getNationalID());this.$router.push("/patients/confirm?person_id="+this.patient.getID())},resolvePersonAttributes:function(e){return Object.values(e).filter((function(e){return Object(gt["isPlainObject"])(e)&&"personAttributes"in e})).map((function(e){var t=e.personAttributes;return t}))},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},givenNameField:function(){var e=this,t=mr["a"].getGivenNameField();return t.condition=function(){return e.editConditionCheck(["given_name"])},t.defaultValue=function(){return e.presets.given_name},t},familyNameField:function(){var e=this,t=mr["a"].getFamilyNameField();return t.condition=function(){return e.editConditionCheck(["family_name"])},t.defaultValue=function(){return e.presets.family_name},t},genderField:function(){var e=this,t="CxCa"===this.app.applicationName,n=mr["a"].getGenderField();return n.requireNext=this.isEditMode(),n.defaultValue=function(){return e.presets.gender},n.condition=function(){return!(!e.isEditMode()&&t)&&e.editConditionCheck(["gender"])},t&&!this.isEditMode()&&(n.defaultOutput=function(){return{label:"Female",value:"F"}},n.defaultComputedOutput=function(){return{person:"F"}}),n.beforeNext=function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return e=t.value,n=this.presets.gender,this.isEditMode()&&e!=n?[4,Object(Ct["a"])("Warning","Changing gender from "+n+" to "+e,"This change will cause data inconsistency and will affect alot of Reports.",[{name:"Cancel",slot:"start"},{name:"Change gender",slot:"end",color:"danger"}])]:[3,2];case 1:return r=i.sent(),[2,"Change gender"===r];case 2:return[2,!0]}}))}))},n},dobFields:function(){var e=this,t=mr["a"].getDobConfig();return t.defaultValue=function(){return e.presets.birthdate},t.condition=function(){return e.editConditionCheck(["year_birth_date","month_birth_date","day_birth_date"])},Object(hr["b"])(t)},homeRegionField:function(){var e=this,t=mr["a"].getHomeRegionField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},homeDistrictField:function(){var e=this,t=mr["a"].getHomeDistrictField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},homeTAField:function(){var e=this,t=mr["a"].getHomeTaField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.home_region.label.match(/foreign/i)},t},homeVillageField:function(){var e=this,t=mr["a"].getHomeVillageField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.home_region.label.match(/foreign/i)},t},currentRegionField:function(){var e=this,t=mr["a"].getCurrentRegionField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},currentDistrictField:function(){var e=this,t=mr["a"].getCurrentDistrictField();return t.condition=function(){return e.editConditionCheck(e.addressAttributes)},t},currentTAField:function(){var e=this,t=mr["a"].getCurrentTAfield();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.current_region.label.match(/foreign/i)},t},currentVillage:function(){var e=this,t=mr["a"].getCurrentVillageField();return t.condition=function(t){return e.editConditionCheck(e.addressAttributes)&&!t.current_region.label.match(/foreign/i)},t},cellPhoneField:function(){var e=this,t=mr["a"].getCellNumberField();return t.condition=function(){return e.editConditionCheck(["cell_phone_number"])},t.defaultValue=function(){return e.presets.cell_phone_number},t},facilityLocationField:function(){var e=mr["a"].getFacilityLocationField();return e.condition=function(e){return["Drug Refill","External consultation"].includes(e.patient_type.value)},e},landmarkFields:function(){var e=this,t=mr["a"].getLandmarkFields();return t[0].condition=function(){return e.editConditionCheck(["landmark"])},t},patientTypeField:function(){var e=this;return{id:"patient_type",helpText:"Type of patient",type:Wt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["patient_type"])&&"ART"===e.app.applicationName},validation:function(e){return Jt["a"].required(e)},options:function(){return jr["a"].getPatientTypes()}}},occupationField:function(){var e=this;return{id:"occupation",helpText:"Occupation",type:Wt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["occupation"])&&e.isMilitarySite},validation:function(e){return Jt["a"].required(e)},options:function(){return e.mapToOption(["MDF Reserve","MDF Retired","Civilian"])}}},regimentField:function(){var e=this;return{id:"person_regiment_id",helpText:"Regiment ID",type:Wt["b"].TT_TEXT,computedValue:function(e){var t=e.value;return{personAttributes:{person_attribute_type_id:35,value:t}}},condition:function(t){return e.editConditionCheck(["person_regiment_id"])&&t.occupation&&t.occupation.value.match(/MDF/i)},validation:function(e){return Jt["a"].required(e)}}},rankField:function(){var e=this;return{id:"rank",helpText:"Rank",type:Wt["b"].TT_SELECT,validation:function(e){return Jt["a"].required(e)},computedValue:function(e){var t=e.value;return{personAttributes:{person_attribute_type_id:36,value:t}}},condition:function(t){return e.editConditionCheck(["rank"])&&t.occupation&&t.occupation.value.match(/MDF/i)},options:function(){return e.mapToOption(["First Lieutenant","Captain","Major","Lieutenant Colonel","Colonel","Brigadier General","Lieutenant General","General","Private","Corporal","Lance Corporal","Seargent","Staff Seargent","Warrant Officer class 1","Warrant Officer class 2"])}}},dateJoinedMilitaryFields:function(){var e=this;return Object(hr["b"])({id:"person_date_joined_military",helpText:"Joined Military",required:!0,condition:function(t){return e.editConditionCheck(["year_person_date_joined_military","month_person_date_joined_military","day_person_date_joined_military"])&&t.occupation&&t.occupation.value.match(/MDF/i)},minDate:function(){return he["a"].estimateDateFromAge(100)},maxDate:function(){return fr["a"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(e){return{date:e,personAttributes:{person_attribute_type_id:37,value:e}}}})},relationshipField:function(){var e=this,t="CxCa"===this.app.applicationName;return{id:"relationship",helpText:"Register guardian?",type:Wt["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},condition:function(){return e.editConditionCheck(["relationship"])&&!t},validation:function(e){return Jt["a"].required(e)},options:function(){return e.mapToOption(["Yes","No"])}}},searchResultField:function(){var e=this;return{id:"results",helpText:"Search results",type:Wt["b"].TT_PERSON_RESULT_VIEW,dynamicHelpText:function(e){return'Search results for\n                "'+e.given_name.value+" "+e.family_name.value+" | "+e.gender.label+'"\n                '},appearInSummary:function(){return!1},condition:function(){return!e.isEditMode()},validation:function(e){return Jt["a"].required(e)},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return e={given_name:t.given_name.value,family_name:t.family_name.value,gender:t.gender.value},this.ddeInstance.isEnabled()?[4,this.ddeInstance.searchDemographics(e)]:[3,2];case 1:return n=i.sent(),[2,n.map((function(e){var t=mr["a"].getPersonAttributeOptions(e);return t.other.options.push({label:"Patient Type",value:e.patient_type}),t.other.options.push({label:"Doc ID",value:e.doc_id}),t}))];case 2:return[4,wt["a"].search(e)];case 3:return r=i.sent(),[2,r.map((function(e){return mr["a"].getPersonAttributeOptions(e)}))]}}))}))},config:{hiddenFooterBtns:["Clear","Next","Back"],footerBtns:[{name:"Edit Search",slot:"end",onClick:function(){e.fieldComponent="given_name"}},{name:"New Patient",slot:"end",onClick:function(){e.fieldComponent="year_birth_date"}},{name:"Continue",color:"success",slot:"end",state:{disabled:{default:function(){return!0},onValue:function(e,t){return Object(gt["isEmpty"])(t.results)}}},onClick:function(t){var n,r,i="",o=null===(r=null===(n=null===t||void 0===t?void 0:t.results)||void 0===n?void 0:n.other)||void 0===r?void 0:r.npid;return i=o&&!Object(_r["a"])(o)?"patient_barcode="+o:"person_id="+t.results.value,e.$router.push("/patients/confirm?"+i)}}]}}},possibleDuplicatesField:function(){var e=this,t={},n={};return{id:"possible_duplicates",helpText:"Possible Duplicate(s)",type:Wt["b"].TT_PERSON_MATCH_VIEW,condition:function(r,i){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return!this.ddeInstance.isEnabled()||this.editPerson?[3,2]:(t=mr["a"].resolvePerson(i),[4,this.ddeInstance.checkPotentialDuplicates(t)]);case 1:return n=e.sent(),[2,n.length>=1];case 2:return[2,!1]}}))}))},options:function(){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(r){return e=function(e){return he["a"].toStandardHisDisplayFormat(e)},[2,n.map((function(n){var r=n.score,i=n.person,o=i.given_name+" "+i.family_name;return{label:o,value:i.patient_id,other:{score:100*r+"%",newPerson:t,foundPerson:i,comparisons:[["Name",t.given_name+" "+t.family_name,i.given_name+" "+i.family_name],["Gender",t.gender,i.gender],["Birthdate",e(t.birthdate),e(i.birthdate)],["Home District",t.home_district,i.home_district],["Home TA",t.home_traditional_authority,i.home_traditional_authority]]}}}))]}))}))},config:{hiddenFooterBtns:["Clear","Next"],footerBtns:[{name:"Not Duplicate",slot:"start",state:{visible:{default:function(){return!1},onValue:function(e,t){return!Object(gt["isEmpty"])(t.possible_duplicates)}}},onClick:function(){e.fieldComponent="_NEXT_FIELD_"}},{name:"Confirm",slot:"end",color:"warning",state:{visible:{default:function(){return!1},onValue:function(e,t){return!Object(gt["isEmpty"])(t.possible_duplicates)}}},onClick:function(t){e.$router.push("/patients/confirm?person_id="+t.possible_duplicates.value)}}]}}},personIndexField:function(){var e=this;return{id:"edit_user",helpText:"Edit Demographics",type:Wt["b"].TT_TABLE_VIEWER,condition:function(){return e.showEditDemographicsField()},options:function(){return Object(o["b"])(e,void 0,void 0,(function(){var e,t,n,r,i=this;return Object(o["d"])(this,(function(o){return e=function(e){return{name:"Edit",type:"button",action:function(){i.activeField=e,i.fieldComponent=i.activeField}}},t=["Attributes","Values","Edit"],n=[["Given Name",this.editPersonData.given_name,e("given_name")],["Family Name",this.editPersonData.family_name,e("family_name")],["Gender",this.editPersonData.gender,e("gender")],["Birthdate",he["a"].toStandardHisDisplayFormat(this.editPersonData.birthdate),e("year_birth_date")],["Cell Phone Number",this.editPersonData.cell_phone_number,e("cell_phone_number")],["Current district",this.editPersonData.current_district,e("home_region")],["Current T/A",this.editPersonData.current_traditional_authority,e("home_region")],["Home District",this.editPersonData.home_district,e("home_region")],["Home TA",this.editPersonData.home_traditional_authority,e("home_region")],["Home Village",this.editPersonData.home_village,e("home_region")]],r={indexes:[],class:"his-empty-set-color"},n.forEach((function(e,t){Object(_r["a"])(e[1])&&r.indexes.push(t)})),this.hasIncompleteData=r.indexes.length>=1,[2,[{label:"",value:"",other:{rows:n,columns:t,rowColors:[r]}}]]}))}))},config:{footerBtns:[{name:"Reassign",slot:"end",color:"success",state:{visible:{default:function(){return!1},onload:function(){return e.ddeInstance.isEnabled()&&e.ddeIsReassign&&!e.hasIncompleteData}}},onClick:function(){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,this.ddeInstance.reassignNpid(this.ddeDocID,this.editPerson)];case 1:return t.sent(),[4,this.ddeInstance.printNpid()];case 2:return t.sent(),this.confirmPatient(),[3,4];case 3:return e=t.sent(),Object(u["e"])(e),[3,4];case 4:return[2]}}))}))}},{name:"Confirm",slot:"end",color:"warning",state:{visible:{onload:function(){return!e.ddeIsReassign&&!e.hasIncompleteData}}},onClick:function(){return e.confirmPatient()}}],hiddenFooterBtns:["Clear","Next"]}}}}});const wr=v()(yr,[["render",br]]);var Nr=wr;function Cr(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),skipSummary:!0,activeField:e.fieldComponent,fields:e.fields,onFinishAction:e.onFinish,cancelDestinationPath:"/patient/dashboard/"+e.patientData.id},null,8,["activeField","fields","onFinishAction","cancelDestinationPath"])}n("a4d3"),n("e01a");var Vr=function(e){function t(){return e.call(this)||this}return Object(o["c"])(t,e),t.getRelations=function(){return e.getJson.call(this,"types/relationships")},t.createRelation=function(t,n,r){return e.postJson.call(this,"people/"+t+"/relationships",{relationship_type_id:r,relation_id:n})},t}(fe["d"]),Dr=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{guardianData:{},patientData:{},fieldAction:"",fieldComponent:"",fields:[],form:{},redirectURL:""}},watch:{$route:{handler:function(e){var t=e.params,n=e.query;return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return t.patient_id?[4,wt["a"].findByID(t.patient_id)]:[3,2];case 1:e=r.sent(),e&&(this.patientData=this.toPersonData(e.person),this.fields=this.getFields()),r.label=2;case 2:return n.source&&(this.redirectURL=n.source),[2]}}))}))},immediate:!0,deep:!0}},methods:{getFields:function(){var e=[];return e.push(this.scanGuardian()),e.push(this.givenNameField()),e.push(this.familyNameField()),e.push(this.genderField()),e.push(this.searchResultField()),e=e.concat(this.dobFields()),e.push(this.homeRegionField()),e.push(this.homeDistrictField()),e.push(this.homeTAField()),e.push(this.homeVillageField()),e.push(this.currentRegionField()),e.push(this.currentDistrictField()),e.push(this.currentTAField()),e.push(this.currentVillage()),e=e.concat(this.landmarkFields()),e.push(this.cellPhoneField()),e.push(this.relationsField()),e},onFinish:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return this.isSameAsPatient(t)?(Object(u["e"])("Guardian cannot be the same patient"),[3,8]):[3,1];case 1:return n=-1,this.isRegistrationMode()?(r=new vr,[4,r.registerGuardian(mr["a"].resolvePerson(t))]):[3,3];case 2:return i.sent(),n=r.getPersonID(),[3,4];case 3:n=this.guardianData.id,i.label=4;case 4:return[4,Vr.createRelation(this.patientData.id,n,e.relations.other.relationship_type_id)];case 5:return i.sent(),this.redirectURL?(this.$router.push({name:this.redirectURL}),[3,8]):[3,6];case 6:return[4,Object(_t["b"])(this.patientData.id,this.$router,this.$route)];case 7:i.sent(),i.label=8;case 8:return[2]}}))}))},isSearchMode:function(){return["Search","Registration"].includes(this.fieldAction)},isRegistrationMode:function(){return"Registration"===this.fieldAction},toPersonData:function(e){var t=e.addresses[0];return{id:e.person_id,name:e.names[0].given_name+" "+e.names[0].family_name,birthdate:he["a"].toStandardHisDisplayFormat(e.birthdate),homeAddress:t.county_district+" "+t.neighborhood_cell,gender:e.gender}},isSameAsPatient:function(e){var t=this.isRegistrationMode()&&e.birth_date?he["a"].toStandardHisDisplayFormat(e.birth_date.date):this.guardianData.birthdate,n=e.given_name.person+" "+e.family_name.person;return n.toLowerCase()===this.patientData.name.toLowerCase()&&t===this.patientData.birthdate&&e.gender.person===this.patientData.gender},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},givenNameField:function(){var e=this,t=mr["a"].getGivenNameField();return t.helpText="Guardian First name",t.condition=function(){return e.isSearchMode()},t},familyNameField:function(){var e=this,t=mr["a"].getFamilyNameField();return t.helpText="Guardian Last name",t.condition=function(){return e.isSearchMode()},t},genderField:function(){var e=this,t=mr["a"].getGenderField();return t.condition=function(){return e.isSearchMode()},t},dobFields:function(){var e=this,t=mr["a"].getDobConfig();return t.condition=function(){return e.isRegistrationMode()},Object(hr["b"])(t)},homeRegionField:function(){var e=this,t=mr["a"].getHomeRegionField();return t.condition=function(){return e.isRegistrationMode()},t},homeDistrictField:function(){var e=this,t=mr["a"].getHomeDistrictField();return t.condition=function(){return e.isRegistrationMode()},t},homeTAField:function(){var e=this,t=mr["a"].getHomeTaField();return t.condition=function(t){return e.isRegistrationMode()&&!t.home_region.label.match(/foreign/i)},t},homeVillageField:function(){var e=this,t=mr["a"].getHomeVillageField();return t.condition=function(t){return e.isRegistrationMode()&&!t.home_region.label.match(/foreign/i)},t},currentRegionField:function(){var e=this,t=mr["a"].getCurrentRegionField();return t.condition=function(){return e.isRegistrationMode()},t},currentDistrictField:function(){var e=this,t=mr["a"].getCurrentDistrictField();return t.condition=function(){return e.isRegistrationMode()},t},currentTAField:function(){var e=this,t=mr["a"].getCurrentTAfield();return t.condition=function(t){return e.isRegistrationMode()&&!t.current_region.label.match(/foreign/i)},t},currentVillage:function(){var e=this,t=mr["a"].getCurrentVillageField();return t.condition=function(t){return e.isRegistrationMode()&&!t.current_region.label.match(/foreign/i)},t},cellPhoneField:function(){var e=this,t=mr["a"].getCellNumberField();return t.condition=function(){return e.isRegistrationMode()},t},landmarkFields:function(){var e=this,t=mr["a"].getLandmarkFields();return t[0].condition=function(){return e.isRegistrationMode()},t},relationsField:function(){var e=this;return{id:"relations",helpText:"Select relationship type",type:Wt["b"].TT_RELATION_SELECTION,validation:function(e){return Jt["a"].required(e)},onload:function(t){if(t.patient=e.patientData,e.isRegistrationMode()){var n=mr["a"].resolvePerson(t.cdata);t.guardian={name:n.given_name+" "+n.family_name,birthdate:he["a"].toStandardHisDisplayFormat(n.birthdate),homeAddress:n.home_district+" "+n.home_traditional_authority}}else t.guardian=e.guardianData},options:function(){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Vr.getRelations()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.b_is_to_a,value:e.description,other:e}}))]}}))}))},config:{hiddenFooterBtns:["Clear"]}}},scanGuardian:function(){var e=this;return{id:"scan",helpText:"Scan or Register Guardian",type:Wt["b"].TT_BARCODE,requireNext:!1,onValue:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,wt["a"].findByNpid(t)];case 1:return e=n.sent(),Object(gt["isEmpty"])(e)||(this.guardianData=this.toPersonData(e[0].person),this.fieldComponent="relations",this.fieldAction="Scan"),[2,!1]}}))}))},config:{hiddenFooterBtns:["Clear","Next"],footerBtns:[{name:"Find or Register Guardian",color:"success",slot:"end",onClick:function(){e.fieldAction="Search",e.fieldComponent="given_name"}}]}}},searchResultField:function(){var e=this;return{id:"results",helpText:"Search results",type:Wt["b"].TT_PERSON_RESULT_VIEW,dynamicHelpText:function(e){return'Search results for \n                "'+e.given_name.value+" "+e.family_name.value+" | "+e.gender.label+'"\n                '},appearInSummary:function(){return!1},condition:function(){return e.isSearchMode()},validation:function(e){return Jt["a"].required(e)},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,wt["a"].search({given_name:t.given_name.value,family_name:t.family_name.value,gender:t.gender.value})];case 1:return e=n.sent(),[2,e.map((function(e){return mr["a"].getPersonAttributeOptions(e)}))]}}))}))},config:{hiddenFooterBtns:["Clear","Next","Back"],footerBtns:[{name:"Edit Search",slot:"end",onClick:function(){e.fieldAction="Search",e.fieldComponent="given_name"}},{name:"New Guardian",slot:"end",onClick:function(){e.fieldAction="Registration",e.fieldComponent="year_birth_date"}},{name:"Continue Guardian",color:"success",slot:"end",state:{disabled:{default:function(){return!0},onValue:function(e,t){return Object(gt["isEmpty"])(t.results)}}},onClick:function(t){e.guardianData=e.toPersonData(t.results.other.person.person),e.fieldComponent="relations",e.fieldAction="Search"}}]}}}}});const kr=v()(Dr,[["render",Cr]]);var Tr=kr,Ir=Object(r["withScopeId"])("data-v-199121a4");Object(r["pushScopeId"])("data-v-199121a4");var xr={class:"large-card"},Sr=Object(r["createVNode"])("h3",null," Patients: ",-1),Pr={class:"large-card"},Br=Object(r["createVNode"])("h3",null," Details: ",-1),Ar=Object(r["createTextVNode"])(" Cancel "),Er=Object(r["createTextVNode"])(" New Search "),Fr=Object(r["createTextVNode"])(" New Patient "),Rr=Object(r["createTextVNode"])(" Continue ");Object(r["popScopeId"])();var Lr=Ir((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("result-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("ion-row"),l=Object(r["resolveComponent"])("ion-img"),d=Object(r["resolveComponent"])("ion-avatar"),p=Object(r["resolveComponent"])("ion-label"),b=Object(r["resolveComponent"])("ion-item"),h=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-toolbar"),O=Object(r["resolveComponent"])("ion-footer"),v=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(v,null,{default:Ir((function(){return[Object(r["createVNode"])(f,null,{default:Ir((function(){return[Object(r["createVNode"])(u,null,{default:Ir((function(){return[Object(r["createVNode"])(s,null,{default:Ir((function(){return[Object(r["createVNode"])(c,{title:e.resultTitle,subtitle:e.resultSubtitle,icon:e.genderIcon},null,8,["title","subtitle","icon"])]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:Ir((function(){return[Object(r["createVNode"])(s,{size:"5"},{default:Ir((function(){return[Object(r["createVNode"])("div",xr,[Sr,Object(r["createVNode"])(h,null,{default:Ir((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.results,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{button:"",key:n,detail:!0,color:e.isActive(t.other)?"light":"",onClick:function(n){return e.onselect(t.other)}},{default:Ir((function(){return[Object(r["createVNode"])(d,null,{default:Ir((function(){return[Object(r["createVNode"])(l,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(r["createVNode"])(p,null,{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(r["createVNode"])(s,{size:"7"},{default:Ir((function(){return[Object(r["createVNode"])("div",Pr,[Br,Object(r["createVNode"])(h,null,{default:Ir((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.demographics,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:t,inset:"none"},{default:Ir((function(){return[Object(r["createVNode"])(p,null,{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(p,{slot:"end"},{default:Ir((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(O,null,{default:Ir((function(){return[Object(r["createVNode"])(g,{color:"dark"},{default:Ir((function(){return[Object(r["createVNode"])(m,{color:"danger",size:"large","router-link":"/"},{default:Ir((function(){return[Ar]})),_:1}),Object(r["createVNode"])(m,{color:"primary",size:"large","router-link":"/search_patient",slot:"end"},{default:Ir((function(){return[Er]})),_:1}),Object(r["createVNode"])(m,{onClick:e.onRegisterAsNew,color:"primary",size:"large",slot:"end"},{default:Ir((function(){return[Fr]})),_:1},8,["onClick"]),e.isPersonSelected?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,color:"success",size:"large","router-link":e.confirmationPageUrl,slot:"end"},{default:Ir((function(){return[Rr]})),_:1},8,["router-link"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}));function Mr(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("ion-card-title"),u=Object(r["resolveComponent"])("ion-card-header"),l=Object(r["resolveComponent"])("ion-card");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("h2",null,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])(c,{icon:e.icon,size:"medium"},null,8,["icon"]),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.subtitle),1)]})),_:1})]})),_:1})]})),_:1})}var Hr=Object(r["defineComponent"])({name:"HisResultCard",components:{IonCard:a["f"],IonIcon:a["r"],IonCardTitle:a["j"],IonCardHeader:a["h"]},props:{title:{required:!0,type:String},subtitle:{required:!0,type:String},icon:{required:!1}}});const Ur=v()(Hr,[["render",Mr]]);var qr=Ur,Gr=Object(r["defineComponent"])({components:{ResultCard:qr,IonLabel:a["v"],IonRow:a["F"],IonPage:a["B"],IonFooter:a["o"],IonContent:a["n"],IonButton:a["d"],IonCol:a["m"],IonToolbar:a["N"],IonList:a["w"],IonItem:a["u"]},data:function(){return{person:be["B"],gname:"",fname:"",gender:"",results:[],selectedPerson:{},isPersonSelected:!1,demographics:[]}},computed:{resultTitle:function(){return this.results.length+" Result(s) found"},resultSubtitle:function(){return'Search term "'+this.gname+" "+this.fname+'"'},genderIcon:function(){return"M"===this.gender?be["x"]:be["O"]},confirmationPageUrl:function(){return"/patients/confirm?person_id="+this.selectedPerson.getID()}},watch:{$route:{handler:function(e){var t=e.query;return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return this.selectedPerson={},this.isPersonSelected=!1,this.gname=t.given_name,this.fname=t.family_name,this.gender=t.gender,e=this,[4,this.fetchResults(this.gname,this.fname,this.gender)];case 1:return e.results=n.sent(),this.showDetails({}),[2]}}))}))},deep:!0,immediate:!0}},methods:{fetchResults:function(e,t,n){return Object(o["b"])(this,void 0,void 0,(function(){var r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,wt["a"].search({given_name:e,family_name:t,gender:n})];case 1:return r=i.sent(),[2,r.map((function(e){var t=new wt["a"](e);return{label:t.getPatientInfoString(),value:t.getID(),other:t}}))]}}))}))},onRegisterAsNew:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(u["a"])("Do you want to register person as new patient?",{header:"Register "+this.gname+" "+this.fname})];case 1:return e=n.sent(),e&&(t="M"===this.gender?"Male":"Female",this.$router.push("/patient/registration?given_name="+this.gname+"&family_name="+this.fname+"&gender="+t)),[2]}}))}))},isActive:function(e){try{return e.getID()===this.selectedPerson.getID()}catch(t){return!1}},onselect:function(e){this.isPersonSelected=!0,this.selectedPerson=e,this.showDetails(e)},getPatientProp:function(e,t){return t in e?e[t]():"-"},showDetails:function(e){this.demographics=[{label:"Patient ID",value:this.getPatientProp(e,"getNationalID")},{label:"Name",value:this.getPatientProp(e,"getFullName")},{label:"Gender",value:this.getPatientProp(e,"getGender")},{label:"Birthdate",value:this.getPatientProp(e,"getBirthdate")},{label:"Home District",value:this.getPatientProp(e,"getHomeDistrict")},{label:"Home Village",value:this.getPatientProp(e,"getHomeVillage")},{label:"Current District",value:this.getPatientProp(e,"getCurrentDistrict")},{label:"Current T/A",value:this.getPatientProp(e,"getCurrentTA")}]}}});n("ddd4");const zr=v()(Gr,[["render",Lr],["__scopeId","data-v-199121a4"]]);var Yr=zr;function Wr(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onOnFinish:e.onFinish},null,8,["fields","activeField","onOnFinish"])}var Kr=n("9441"),$r=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],Jr=Object(r["defineComponent"])({components:{HisStandardForm:Kr["a"]},data:function(){return{activeField:"",fields:[]}},created:function(){this.fields=this.getFields()},methods:{onFinish:function(e){console.log(e)},getFields:function(){var e=this;return[{id:"dispense",helpText:"Dispensation",type:Wt["b"].TT_DISPENSATION_INPUT,config:{toolbarInfo:[{label:"Name",value:"Test patient"},{label:"Gender",value:"Female"},{label:"Date Of Birth",value:"12/May/1994"}]},options:function(){return[{label:"TDF300/3TC300/DTG50",value:0,other:{amounted_needed:30}},{label:"Cotrimoxazole (960mg)",value:0,other:{amounted_needed:30}},{label:"Rifapentine (150mg)",value:0,other:{amounted_needed:30}},{label:"INH or H (Isoniazid 100mg tablet)",value:0,other:{amounted_needed:30}}]}},{id:"hello_world",helpText:"BeforeNext",type:Wt["b"].TT_TEXT,beforeNext:function(){var e=confirm("Do you want to continue");return e}},{id:"onvalue_hooks_multiple_select",helpText:"Dynamically toggling values",type:Wt["b"].TT_MULTIPLE_SELECT,config:{showKeyboard:!1},onValueUpdate:function(e,t){if(t.isChecked&&"None"===t.label)return e.map((function(e){return"None"!=e.label&&(e.isChecked=!1),e}));if("None"!=t.label&&t.isChecked){var n=Object(gt["findIndex"])(e,{label:"None"});e[n].isChecked=!1}if(t.isChecked&&"Disable"===t.label){var r=Object(gt["findIndex"])(e,{label:"Disable"});e[r].disabled=!0}if(t.isChecked&&"Enable"===t.label){r=Object(gt["findIndex"])(e,{label:"Disable"});e[r].disabled=!1}return e},validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Foo",value:"Foo",description:{color:"danger",text:"Optional description"}},{label:"This is prechecked by default",value:"pre_checked"},{label:"Bar",value:"Bar",description:{color:"warning",text:"This has discription of different color"}},{label:"Enable",value:"enabled",description:{color:"secondary",text:"I only appear when checked",show:"onChecked"}},{label:"Disable",value:"disable"},{label:"None",value:"None"}]}},{id:"name_field",helpText:"What is your name",type:Wt["b"].TT_TEXT,validation:function(e){return e?null:["Value is required"]}},{id:"custom_btn",helpText:"Show custom button",type:Wt["b"].TT_TEXT,config:{footerBtns:[{name:"Void",color:"danger",size:"large",visible:!1,slot:"",visibleOnStateChange:function(e){return 1===e.index},onClick:function(){alert("Record has been voided!")}},{name:"Custom Something",color:"primary",size:"large",visible:!1,slot:"end",visibleOnStateChange:function(e){return 1===e.index},onClick:function(){alert("YaY! Custom Button Clicked")}}]}},{id:"patient_chart",helpText:"Patient Chart",type:Wt["b"].TT_WEIGHT_CHART,options:function(){return[{label:"Patient weight",value:54,other:{labels:["10 Jan","11 June","8 Aug"],values:[65,38,89,57]}}]}},{id:"hide_default_btns",helpText:"Default buttons have been hidden",type:Wt["b"].TT_TEXT,config:{hiddenFooterBtns:["Clear","Cancel"]}},{id:"skip_next_field",helpText:"Skip Next Field with custom button",type:Wt["b"].TT_TEXT,config:{footerBtns:[{name:"Skip Dates",color:"light",size:"large",visible:!1,slot:"end",visibleOnStateChange:function(e){return 3===e.index},onClick:function(){e.activeField="multiple_select"}}]}},{id:"year",helpText:"Year of birth",type:Wt["b"].TT_NUMBER},{id:"month",helpText:"Month of birth",type:Wt["b"].TT_SELECT,requireNext:!1,options:function(){return $r},config:{showKeyboard:!1}},{id:"day",helpText:"Day of birth",type:Wt["b"].TT_MONTHLY_DAYS},{id:"multiple_select",helpText:"Select Multiple values",type:Wt["b"].TT_MULTIPLE_SELECT,config:{showKeyboard:!1},validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Foo",value:"Foo",description:{color:"danger",text:"Optional description"}},{label:"This is prechecked by default",value:"pre_checked",isChecked:!0},{label:"Bar",value:"Bar",description:{color:"warning",text:"This has discription of different color"}},{label:"Baz",value:"Baz",description:{color:"secondary",text:"I only appear when checked",show:"onChecked"}},{label:"Bar",value:"Bar"}]}},{id:"conditional_data",helpText:"Conditionally display next question",type:Wt["b"].TT_SELECT,requireNext:!1,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Show Games",value:"Show Games"},{label:"Show Music",value:"Show Music"}]}},{id:"music_presentation",helpText:"Showing Music",type:Wt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},condition:function(e){return"Show Music"===e.conditional_data.value},options:function(){return[{label:"No Music",value:"No Music"}]}},{id:"games_presentation",helpText:"Showing Games",type:Wt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},condition:function(e){return"Show Games"===e.conditional_data.value},options:function(){return[{label:"No Games",value:"No Games"}]}},{id:"does_not_require_next",helpText:"Click on value to proceed",type:Wt["b"].TT_SELECT,requireNext:!1,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Duke",value:"Duke"},{label:"Dork",value:"Dork"}]}},{id:"option_params",helpText:"Console.log Prop sent via options",type:Wt["b"].TT_SELECT,options:function(e){return console.log(e),[]}},{id:"validated",helpText:"Value is Required before next",type:Wt["b"].TT_SELECT,validation:function(e){return e?null:["Value is required"]},options:function(){return[{label:"Fur",value:"Fur"},{label:"Fume",value:"Fame"}]}}]}}});const Xr=v()(Jr,[["render",Wr]]);var Qr=Xr;function Zr(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}var ei=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{app:{},fields:[]}},created:function(){this.setApp(),this.fields=[this.getIdSelectionField(),this.getIdSearchField()]},methods:{getIdSelectionField:function(){var e=this;return{id:"identifier_type",helpText:"Select identifier type",type:Wt["b"].TT_SELECT,requireNext:!1,validation:function(e){return Jt["a"].required(e)},options:function(){var t=e.app.programPatientIdentifiers?Object.values(e.app.programPatientIdentifiers):[];return t.filter((function(e){return e.useForSearch})).map((function(e){return{label:e.name,value:e.id,other:e}}))}}},getIdSearchField:function(){return{id:"identifier",helpText:"Identifier",dynamicHelpText:function(e){return"Search by "+e.identifier_type.label},type:Wt["b"].TT_TEXT,validation:function(e){return Jt["a"].required(e)},config:{initialKb:"0-9",prependValue:function(e){return e.identifier_type.other.prefix()}}}},setApp:function(){var e=pe["a"].getActiveApp();e&&(this.app=e)},onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return t=e.identifier_type.value,n=e.identifier.value,[4,wt["a"].findByOtherID(t,n)];case 1:return r=o.sent(),Object(gt["isEmpty"])(r)?Object(u["e"])("Client not found"):(i=new wt["a"](r[0]),this.$router.push("/patients/confirm?person_id="+i.getID())),[2]}}))}))}}});const ti=v()(ei,[["render",Zr]]);var ni=ti,ri=Object(r["withScopeId"])("data-v-37ba0ab4");Object(r["pushScopeId"])("data-v-37ba0ab4");var ii=Object(r["createTextVNode"])("Visits"),oi=Object(r["createTextVNode"])("Patient"),ai=Object(r["createTextVNode"])("Program"),ci=Object(r["createTextVNode"])("Dates"),si={class:"mobile-component-view"},ui=Object(r["createVNode"])("p",null,null,-1),li={class:"his-card info-card-item"},di=Object(r["createTextVNode"])(" Today "),pi={class:"his-card info-card-item"},bi=Object(r["createTextVNode"])(" Session "),hi={class:"his-card info-card-item"},fi=Object(r["createTextVNode"])(" Current visit date "),mi={class:"his-card"},gi=Object(r["createTextVNode"])(" Today's Date: "),Oi={key:0},vi={key:1},_i=Object(r["createTextVNode"])(" Next Task: "),ji=Object(r["createVNode"])("b",null,"NONE",-1),yi={key:0},wi={key:1},Ni=Object(r["createTextVNode"])(" Set Date: "),Ci={key:1},Vi=Object(r["createTextVNode"])(" Tasks "),Di=Object(r["createTextVNode"])(" Printouts/Other "),ki=Object(r["createTextVNode"])(" Applications "),Ti=Object(r["createTextVNode"])(" Finish ");Object(r["popScopeId"])();var Ii=ri((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("full-toolbar"),s=Object(r["resolveComponent"])("minimal-toolbar"),u=Object(r["resolveComponent"])("ion-icon"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-segment-button"),p=Object(r["resolveComponent"])("ion-segment"),b=Object(r["resolveComponent"])("ion-toolbar"),h=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("primary-card"),m=Object(r["resolveComponent"])("ion-col"),g=Object(r["resolveComponent"])("ion-row"),O=Object(r["resolveComponent"])("ion-grid"),v=Object(r["resolveComponent"])("ion-item"),_=Object(r["resolveComponent"])("ion-list"),j=Object(r["resolveComponent"])("visit-dates-card"),y=Object(r["resolveComponent"])("ion-chip"),w=Object(r["resolveComponent"])("ion-content"),N=Object(r["resolveComponent"])("ion-footer"),C=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(C,null,{default:ri((function(){return[Object(r["createVNode"])(c,{class:"full-component-view",appVersion:e.appVersion,appIcon:e.app.applicationIcon,patientCardInfo:e.patientCardInfo,programCardInfo:e.programCardInfo},null,8,["appVersion","appIcon","patientCardInfo","programCardInfo"]),Object(r["createVNode"])(s,{class:"mobile-component-view",title:e.patientName,menuTitle:e.visitDatesTitle,menuItems:e.visitDates,appIcon:e.app.applicationIcon,onOnClickMenuItem:e.onActiveVisitDate},null,8,["title","menuTitle","menuItems","appIcon","onOnClickMenuItem"]),Object(r["createVNode"])(b,{class:"mobile-component-view"},{default:ri((function(){return[Object(r["createVNode"])(p,{value:e.activeTab,class:"ion-justify-content-center"},{default:ri((function(){return[Object(r["createVNode"])(d,{value:"1",onClick:t[1]||(t[1]=function(t){return e.activeTab=1})},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.calendar},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:ri((function(){return[ii]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"2",onClick:t[2]||(t[2]=function(t){return e.activeTab=2})},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.person},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:ri((function(){return[oi]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"3",onClick:t[3]||(t[3]=function(t){return e.activeTab=3})},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.medical},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:ri((function(){return[ai]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{value:"4",onClick:t[4]||(t[4]=function(t){return e.activeTab=4})},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.time},null,8,["icon"]),Object(r["createVNode"])(l,null,{default:ri((function(){return[ci]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),e.nextTask.name?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,class:"mobile-component-view"},{default:ri((function(){return[Object(r["createVNode"])(h,{style:{width:"100%"},color:"success",onClick:t[5]||(t[5]=function(t){return e.$router.push(e.nextTask)})},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[Object(r["createVNode"])("b",null,"Next Task: "+Object(r["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1}),Object(r["createVNode"])(u,{icon:e.alertCircle},null,8,["icon"])]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(w,{id:"main-content"},{default:ri((function(){return[Object(r["createVNode"])("div",si,[e.appHasCustomContent&&1===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(r["createCommentVNode"])("",!0),e.appHasCustomContent||1!==e.activeTab?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:1},{default:ri((function(){return[Object(r["createVNode"])(g,null,{default:ri((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(m,{size:"12",key:t},{default:ri((function(){return[Object(r["createVNode"])(f,{counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,onClick:e.onClick},null,8,["counter","icon","title","titleColor","items","onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})),2===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:2},{default:ri((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCardInfo,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(r["createVNode"])(v,{lines:"none"},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(l,{slot:"end"},{default:ri((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0),3===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:3},{default:ri((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.programCardInfo,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(r["createVNode"])(v,{lines:"none"},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label),1)]})),_:2},1024),Object(r["createVNode"])(l,{slot:"end"},{default:ri((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024),ui])})),128))]})),_:1})):Object(r["createCommentVNode"])("",!0),4===e.activeTab?(Object(r["openBlock"])(),Object(r["createBlock"])(_,{key:4},{default:ri((function(){return[Object(r["createVNode"])("div",li,[Object(r["createVNode"])(v,{lines:"none"},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[di]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:ri((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.currentDate),1)]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",pi,[Object(r["createVNode"])(v,{lines:"none"},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[bi]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:ri((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]})),_:1})]})),_:1})]),Object(r["createVNode"])("div",hi,[Object(r["createVNode"])(v,{lines:"none"},{default:ri((function(){return[Object(r["createVNode"])(l,null,{default:ri((function(){return[fi]})),_:1}),Object(r["createVNode"])(l,{slot:"end"},{default:ri((function(){return[Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.activeVisitDate),1)]})),_:1})]})),_:1})])]})),_:1})):Object(r["createCommentVNode"])("",!0)]),e.appHasCustomDashboard?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:0,class:"full-component-view grid-custom vertically-align"},{default:ri((function(){return[Object(r["createVNode"])(g,null,{default:ri((function(){return[Object(r["createVNode"])(m,{size:"2.4"},{default:ri((function(){return[Object(r["createVNode"])(j,{title:e.visitDatesTitle,items:e.visitDates,onOnselect:e.onActiveVisitDate},null,8,["title","items","onOnselect"])]})),_:1}),Object(r["createVNode"])(m,{size:"9.6"},{default:ri((function(){return[Object(r["createVNode"])("div",mi,[Object(r["createVNode"])(g,null,{default:ri((function(){return[Object(r["createVNode"])(m,{"size-md":"4","size-sm":"6"},{default:ri((function(){return[gi,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.currentDate),1)]})),_:1}),Object(r["createVNode"])(m,{"size-md":"4","size-sm":"6"},{default:ri((function(){return[e.nextTask.name?(Object(r["openBlock"])(),Object(r["createBlock"])("span",Oi,[Object(r["createVNode"])(y,{class:"next-task",color:"success",onClick:t[6]||(t[6]=function(t){return e.$router.push(e.nextTask)})},{default:ri((function(){return[Object(r["createTextVNode"])("Next Task: "+Object(r["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1})])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",vi,[_i,ji]))]})),_:1}),Object(r["createVNode"])(m,{"size-md":"4","size-sm":"12"},{default:ri((function(){return[e.isBDE?(Object(r["openBlock"])(),Object(r["createBlock"])("span",yi,[Object(r["createVNode"])(y,{style:{marginTop:"-8px"},color:"danger",onClick:t[7]||(t[7]=function(t){return e.$router.push({name:"Session Date"})})},{default:ri((function(){return[Object(r["createVNode"])("b",null," BDE: "+Object(r["toDisplayString"])(e.sessionDate.toUpperCase()),1)]})),_:1})])):(Object(r["openBlock"])(),Object(r["createBlock"])("span",wi,[Ni,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.sessionDate),1)]))]})),_:1})]})),_:1}),e.appHasCustomContent?(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(r["createCommentVNode"])("",!0),e.appHasCustomContent?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])("div",Ci,[Object(r["createVNode"])(g,null,{default:ri((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.patientCards,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(m,{size:"6",key:t},{default:ri((function(){return[Object(r["createVNode"])(f,{counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,onClick:e.onClick},null,8,["counter","icon","title","titleColor","items","onClick"])]})),_:2},1024)})),128))]})),_:1})]))])]})),_:1})]})),_:1})]})),_:1}))]})),_:1}),Object(r["createVNode"])(N,null,{default:ri((function(){return[Object(r["createVNode"])(b,{color:"dark"},{default:ri((function(){return[Object(r["createVNode"])(h,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.showTasks},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.clipboardOutline},null,8,["icon"]),Vi]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.showTasks},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.clipboard},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.showOptions},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.folderOutline},null,8,["icon"]),Di]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.showOptions},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.folder},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"full-component-view",color:"primary",size:"large",slot:"end",onClick:e.changeApp},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.appsOutline},null,8,["icon"]),ki]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"mobile-component-view",color:"primary",size:"medium",slot:"end",onClick:e.changeApp},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.apps},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"full-component-view",color:"success",size:"large",slot:"end",onClick:e.onCancel},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.logOutOutline},null,8,["icon"]),Ti]})),_:1},8,["onClick"]),Object(r["createVNode"])(h,{class:"mobile-component-view",color:"success",size:"medium",slot:"end",onClick:e.onCancel},{default:ri((function(){return[Object(r["createVNode"])(u,{icon:e.logOut},null,8,["icon"])]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),xi=Object(r["withScopeId"])("data-v-58f8995f");Object(r["pushScopeId"])("data-v-58f8995f");var Si={class:"card"};Object(r["popScopeId"])();var Pi=xi((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-badge"),s=Object(r["resolveComponent"])("ion-label"),u=Object(r["resolveComponent"])("ion-icon"),l=Object(r["resolveComponent"])("ion-chip"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list");return Object(r["openBlock"])(),Object(r["createBlock"])("div",Si,[Object(r["createVNode"])("div",{class:"title-card",style:{backgroundColor:e.titleColor}},[Object(r["createVNode"])(c,{color:"light"},{default:xi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.counter),1)]})),_:1}),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(e.title),1)],4),Object(r["createVNode"])(p,null,{default:xi((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:n,style:{fontSize:"0.8em"}},{default:xi((function(){return[Object(r["createVNode"])(s,{innerHTML:t.label},null,8,["innerHTML"]),t.value?(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,slot:"end"},{default:xi((function(){return[Object(r["createVNode"])(u,{icon:e.icon},null,8,["icon"]),Object(r["createVNode"])(s,null,{default:xi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.value),1)]})),_:2},1024)]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)]})),_:2},1024)})),128))]})),_:1})])})),Bi=(n("a9e3"),Object(r["defineComponent"])({components:{IonLabel:a["v"],IonList:a["w"],IonItem:a["u"],IonChip:a["l"],IonIcon:a["r"],IonBadge:a["c"]},data:function(){return{time:be["L"]}},props:{counter:{type:Number,required:!1},icon:{type:Object},title:{type:String,required:!0},items:{type:Object},titleColor:{type:String,required:!1,default:function(){return"#337ab7"}}}}));n("eec2");const Ai=v()(Bi,[["render",Pi],["__scopeId","data-v-58f8995f"]]);var Ei=Ai,Fi=Object(r["withScopeId"])("data-v-50f25598");Object(r["pushScopeId"])("data-v-50f25598");var Ri={class:"card his-card"},Li={class:"header-section"},Mi={class:"bottom-section"};Object(r["popScopeId"])();var Hi=Fi((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-item"),s=Object(r["resolveComponent"])("ion-list");return Object(r["openBlock"])(),Object(r["createBlock"])("div",Ri,[Object(r["createVNode"])("div",Li,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("button",{class:"nav-btn nav-btn-top clickable",disabled:!e.showPrevButton,onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goPrev.apply(e,t)})},[Object(r["createVNode"])("img",{src:e.upbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"]),Object(r["createVNode"])("div",{class:e.listAlignmentClass},[Object(r["createVNode"])(s,null,{default:Fi((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.activeListItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:n,onClick:function(n){return e.onselect(t)},detail:!0,color:e.isActive(t)?"primary":""},{default:Fi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick","color"])})),128))]})),_:1})],2),Object(r["createVNode"])("div",Mi,[Object(r["createVNode"])("button",{class:"nav-btn nav-btn-bottom clickable",disabled:!e.showNextButton,onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goNext.apply(e,t)})},[Object(r["createVNode"])("img",{src:e.downbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"])])])})),Ui=Object(r["defineComponent"])({components:{IonList:a["w"],IonItem:a["u"]},props:{title:{type:String,default:function(){return"Visits"}},items:{type:Object,required:!0}},data:function(){return{active:{},activeListItems:[],paginatedListItems:[],index:-1,perPage:6,btnSize:45}},computed:{listAlignmentClass:function(){return this.activeListItems&&this.activeListItems.length===this.perPage?"vertically-align":""},upbuttonImg:function(){return"/assets/images/drop-up-arrow.svg"},downbuttonImg:function(){return"/assets/images/drop-down-arrow.svg"},showNextButton:function(){return this.index+1<this.paginatedListItems.length},showPrevButton:function(){return this.index>=1}},watch:{items:{handler:function(e){Object(gt["isEmpty"])(e)||(this.index=0,this.paginatedListItems=Object(gt["chunk"])(e,this.perPage),this.activeListItems=this.paginatedListItems[0],this.active=this.activeListItems[0])},deep:!0,immediate:!0},index:{handler:function(e){this.activeListItems=this.paginatedListItems[e]},immediate:!0},active:function(e){this.$emit("onselect",e)}},methods:{onselect:function(e){this.active=e},isActive:function(e){return e.label===this.active.label},goNext:function(){var e=this.index+1;e<=this.paginatedListItems.length&&(this.index=e)},goPrev:function(){this.paginatedListItems.length>=1&&(this.index-=1)}}});n("f36d");const qi=v()(Ui,[["render",Hi],["__scopeId","data-v-50f25598"]]);var Gi=qi,zi=n("7957"),Yi=n("71c3"),Wi=Object(r["withScopeId"])("data-v-34bd3736");Object(r["pushScopeId"])("data-v-34bd3736");var Ki=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var $i=Wi((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("task-card"),d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),h=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Wi((function(){return[Object(r["createVNode"])(s,null,{default:Wi((function(){return[Object(r["createVNode"])(c,null,{default:Wi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,{class:"selector"},{default:Wi((function(){return[Object(r["createVNode"])(p,null,{default:Wi((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filteredItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{"size-lg":"4","size-sm":"6",key:n},{default:Wi((function(){return[Object(r["createVNode"])(l,{onClick:function(n){return e.doTask(t)},title:t.name.toUpperCase(),description:t.description,icon:e.img(t.icon)},null,8,["onClick","title","description","icon"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Wi((function(){return[Object(r["createVNode"])(s,null,{default:Wi((function(){return[Object(r["createVNode"])(h,{class:"close-btn",color:"danger",size:"large",onClick:e.closeModal,slot:"end"},{default:Wi((function(){return[Ki]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),Ji=Object(r["defineComponent"])({components:{IonGrid:a["p"],IonRow:a["F"],IonCol:a["m"],TaskCard:Te,IonFooter:a["o"],IonToolbar:a["N"],IonButton:a["d"],IonHeader:a["q"],IonTitle:a["M"]},props:{title:{type:String,default:"Select Activity"},items:{type:Object,required:!0},taskParams:{type:Object,required:!1}},data:function(){return{filteredItems:[]}},watch:{items:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:if(!e||Object(gt["isEmpty"])(e))return[2];for(n in t=[],e)t.push(n);r=0,o.label=1;case 1:return r<t.length?(i=t[r],a=e[i],a.globalProperty?[4,kt["a"].isProp(a.globalProperty)]:[3,3]):[3,7];case 2:if(!o.sent())return[3,6];o.label=3;case 3:return a.condition?[4,a.condition(this.taskParams)]:[3,5];case 4:if(!o.sent())return[3,6];o.label=5;case 5:this.filteredItems.push(a),o.label=6;case 6:return r++,[3,1];case 7:return[2]}}))}))},deep:!0,immediate:!0}},methods:{img:function(e){return Object(z["a"])(e)},closeModal:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,a["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))},doTask:function(e){var t;e.action?e.action(this.taskParams,this.$router):e.url?this.$router.push({path:e.url}):this.$router.push({name:e.id,params:{patient_id:null===(t=this.taskParams)||void 0===t?void 0:t.patient.patient_id}}),this.closeModal()}}});n("4f9b");const Xi=v()(Ji,[["render",$i],["__scopeId","data-v-34bd3736"]]);var Qi=Xi,Zi=Object(r["withScopeId"])("data-v-1db985da");Object(r["pushScopeId"])("data-v-1db985da");var eo={class:"tb"},to=Object(r["createTextVNode"])(" Void encounter"),no=Object(r["createTextVNode"])(" Close ");Object(r["popScopeId"])();var ro=Zi((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("ion-col"),b=Object(r["resolveComponent"])("his-basic-table"),h=Object(r["resolveComponent"])("ion-row"),f=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Zi((function(){return[Object(r["createVNode"])(s,null,{default:Zi((function(){return[Object(r["createVNode"])(c,null,{default:Zi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Zi((function(){return[Object(r["createVNode"])(h,null,{default:Zi((function(){return[Object(r["createVNode"])(p,{size:"4"},{default:Zi((function(){return[Object(r["createVNode"])(d,null,{default:Zi((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:n,color:t.other.id===e.active.id?"primary":"",detail:!0,onClick:function(){return e.showDetails(t.label,t.other)}},{default:Zi((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{size:"8"},{default:Zi((function(){return[Object(r["createVNode"])("div",eo,[Object(r["createVNode"])(b,{columns:e.active.columns,rows:e.active.rows},null,8,["columns","rows"])])]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(g,null,{default:Zi((function(){return[Object(r["createVNode"])(s,null,{default:Zi((function(){return[Object(r["createVNode"])(m,{color:"danger",onClick:e.voidActiveItem,disabled:!e.canVoid,size:"large"},{default:Zi((function(){return[to]})),_:1},8,["onClick","disabled"]),Object(r["createVNode"])(m,{onClick:e.closeModal,size:"large",slot:"end"},{default:Zi((function(){return[no]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),io=n("a3a5");function oo(e,t){return void 0===t&&(t="action-sheet-modal"),Object(o["b"])(this,void 0,void 0,(function(){var n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,Object(Ct["c"])("Are you sure you want to void?","Please specify reason for voiding this encounter",["Mistake/ Wrong Entry","Duplicate","System Error"],[{name:"Cancel",slot:"start"},{name:"Void",color:"danger",slot:"end",role:"action"}],"",t)];case 1:return n=r.sent(),n.selection&&"Void"===n.action?[4,e(n.selection)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}var ao=Object(r["defineComponent"])({components:{HisBasicTable:io["a"],IonButton:a["d"],IonToolbar:a["N"],IonList:a["w"],IonFooter:a["o"],IonContent:a["n"],IonRow:a["F"],IonCol:a["m"],IonTitle:a["M"],IonHeader:a["q"],IonItem:a["u"]},data:function(){return{active:{id:-1,name:"",rows:[],columns:[]}}},computed:{canVoid:function(){return!Object(gt["isEmpty"])(this.active)&&!Object(gt["isEmpty"])(this.active.rows)}},watch:{items:{handler:function(e){e.length>=1&&this.showDetails(e[0].label,e[0].other)},immediate:!0,deep:!0}},props:{title:{type:String,required:!0},items:{type:Object,required:!0}},methods:{closeModal:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,a["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))},voidActiveItem:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,oo((function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.active.onVoid(t)];case 1:return n.sent(),this.active={},this.items.length>=1&&this.showDetails(this.items[0].label,this.items[0].other),[3,3];case 2:return e=n.sent(),Object(u["c"])(e),[3,3];case 3:return[2]}}))}))}),"void-modal custom-modal-backdrop")];case 1:return t.sent(),[2]}}))}))},showDetails:function(e,t){var n=t.id,r=t.columns,i=t.getRows,a=t.onVoid;return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return this.active.id=n,this.active.name=e,this.active.columns=r,this.active.onVoid=a,t=this.active,[4,i()];case 1:return t.rows=o.sent(),[2]}}))}))}}});n("c003");const co=v()(ao,[["render",ro],["__scopeId","data-v-1db985da"]]);var so=co,uo=Object(r["createTextVNode"])(" Close ");function lo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("his-basic-table"),d=Object(r["resolveComponent"])("ion-content"),p=Object(r["resolveComponent"])("ion-button"),b=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{onClick:e.closeModal,slot:"end"},{default:Object(r["withCtx"])((function(){return[uo]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var po=Object(r["defineComponent"])({components:{HisBasicTable:io["a"],IonHeader:a["q"],IonToolbar:a["N"],IonContent:a["n"],IonFooter:a["o"],IonButton:a["d"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,default:!0}},methods:{closeModal:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,a["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))}}});const bo=v()(po,[["render",lo]]);var ho=bo;function fo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list"),b=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-menu"),f=Object(r["resolveComponent"])("ion-menu-button"),m=Object(r["resolveComponent"])("ion-buttons"),g=Object(r["resolveComponent"])("ion-thumbnail");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(h,{"menu-id":"app-menu","content-id":"main-content",type:"overlay"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.menuTitle),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.menuItems,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:n,detail:"true",class:"hydrated",onClick:function(n){return e.onClickItem(t)}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{slot:"start"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f),Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1}),Object(r["createVNode"])(m,{slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:e.appIconPath,class:"logo",alt:"Master card logo"},null,8,["src"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var mo=Object(r["defineComponent"])({name:"App",emits:["onClickMenuItem"],props:{title:String,menuTitle:String,menuItems:{type:Array,default:function(){return[]}},appIcon:{type:String,required:!0}},components:{IonContent:a["n"],IonItem:a["u"],IonList:a["w"],IonTitle:a["M"],IonMenu:a["y"],IonButtons:a["e"],IonMenuButton:a["z"],IonThumbnail:a["L"],IonToolbar:a["N"],IonHeader:a["q"],IonLabel:a["v"]},setup:function(e,t){function n(e){a["T"].close("app-menu"),t.emit("onClickMenuItem",e)}return{onClickItem:n,appIconPath:Object(z["a"])(e.appIcon)}}});const go=v()(mo,[["render",fo]]);var Oo=go;function vo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("info-card"),s=Object(r["resolveComponent"])("ion-col"),u=Object(r["resolveComponent"])("icon-card"),l=Object(r["resolveComponent"])("ion-row"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header");return Object(r["openBlock"])(),Object(r["createBlock"])(p,{translucent:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{size:e.hasProgramInfo?5:10},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{items:e.patientCardInfo},null,8,["items"])]})),_:1},8,["size"]),e.hasProgramInfo?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,size:"5"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{items:e.programCardInfo},null,8,["items"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(s,{size:"2"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{version:e.appVersion,icon:e.logo},null,8,["version","icon"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var _o=Object(r["withScopeId"])("data-v-18b213da");Object(r["pushScopeId"])("data-v-18b213da");var jo={style:{marginLeft:"-4%"}};Object(r["popScopeId"])();var yo=_o((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-icon"),s=Object(r["resolveComponent"])("tool-bar-medium-card");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:_o((function(){return[Object(r["createVNode"])("ul",jo,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("li",{key:n},[e.hasIcon(t)?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,icon:t.other.icon},null,8,["icon"])):Object(r["createCommentVNode"])("",!0),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(t.label)+": ",1),Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.value),1)])})),128))])]})),_:1})})),wo=Object(r["defineComponent"])({name:"HisResultCard",components:{ToolBarMediumCard:ve["a"],IonIcon:a["r"]},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{hasIcon:function(e){return"other"in e&&"icon"in e.other}}});n("270c");const No=v()(wo,[["render",yo],["__scopeId","data-v-18b213da"]]);var Co=No,Vo=Object(r["defineComponent"])({name:"PatientToolbar",components:{IonHeader:a["q"],IonToolbar:a["N"],IonCol:a["m"],IonRow:a["F"],InfoCard:Co,IconCard:ye},props:{appVersion:{type:String},patientCardInfo:{type:Array,required:!0},programCardInfo:{type:Array,required:!0},appIcon:{type:String,required:!0}},computed:{hasProgramInfo:function(){return this.programCardInfo.length>=1},logo:function(){return Object(z["a"])(this.appIcon)}}});const Do=v()(Vo,[["render",vo]]);var ko=Do,To=n("ec2a"),Io=n("8158"),xo=Object(r["defineComponent"])({components:{IonSegment:a["G"],IonSegmentButton:a["H"],FullToolbar:ko,MinimalToolbar:Oo,VisitDatesCard:Gi,PrimaryCard:Ei,IonChip:a["l"],IonPage:a["B"],IonIcon:a["r"],IonFooter:a["o"],IonContent:a["n"],IonButton:a["d"],IonToolbar:a["N"],IonGrid:a["p"],IonRow:a["F"],IonCol:a["m"]},setup:function(){return{man:be["x"],time:be["L"],person:be["B"],calendar:be["i"],medical:be["y"],woman:be["O"],clipboard:be["o"],apps:be["b"],folder:be["t"],logOut:be["v"],timeOutline:be["M"],warningOutline:be["N"],clipboardOutline:be["p"],appsOutline:be["c"],folderOutline:be["u"],logOutOutline:be["w"],alertCircle:be["a"]}},data:function(){return{activeTab:1,app:gr["a"].getActiveApp(),dashboardComponent:{},isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},patientId:0,programID:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],encounters:[],medications:[],visitDates:[],activeVisitDate:"",encountersCardItems:[],medicationCardItems:[],labOrderCardItems:[],alertCardItems:[],patientCards:[],appVersion:gr["a"].getFullVersion()}},computed:{patientName:function(){return Object(gt["isEmpty"])(this.patient)?"N/A":this.patient.getFullName()},appHasCustomContent:function(){return!Ot.a.isEmpty(this.app.customPatientDashboardContentComponent)},customDashboardContent:function(){return this.app.customPatientDashboardContentComponent},visitDatesTitle:function(){return this.visitDates.length+" Visits"}},watch:{$route:{handler:function(e){var t=e.params;return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return t?(this.patientId=parseInt(t.id),this.patientId?[4,this.init()]:[3,2]):[2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},deep:!0,immediate:!0},activeVisitDate:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return this.appHasCustomContent?[3,4]:(t=this,[4,To["a"].getEncounters(this.patientId,{date:e})]);case 1:return t.encounters=i.sent(),n=this,[4,Yi["a"].getOrderByPatient(this.patientId,{start_date:e})];case 2:return n.medications=i.sent(),this.encountersCardItems=this.getActivitiesCardInfo(this.encounters),this.medicationCardItems=this.getMedicationCardInfo(this.medications),r=this,[4,this.getLabOrderCardInfo(e)];case 3:r.labOrderCardItems=i.sent(),this.updateCards(),i.label=4;case 4:return[2]}}))}))}},methods:{init:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,a,c;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return e=this,[4,this.fetchPatient(this.patientId)];case 1:e.patient=o.sent(),o.label=2;case 2:return o.trys.push([2,5,,6]),t=this,[4,gr["a"].getProgramInformation(this.patientId)];case 3:return t.patientProgram=o.sent(),n=this,[4,this.getProgramCardInfo(this.patientProgram)];case 4:return n.programCardInfo=o.sent()||[],[3,6];case 5:return r=o.sent(),console.warn(r),[3,6];case 6:return this.patientCardInfo=this.getPatientCardInfo(this.patient),this.currentDate=he["a"].currentDisplayDate(),this.sessionDate=this.toDate(gr["a"].getSessionDate()),this.isBDE=gr["a"].isBDE()||!1,i=this,[4,this.getNextTask(this.patientId)];case 7:return i.nextTask=o.sent(),a=this,[4,this.getPatientVisitDates(this.patientId)];case 8:return a.visitDates=o.sent(),c=this,[4,this.getPatientAlertCardInfo()];case 9:return c.alertCardItems=o.sent()||[],this.programID=gr["a"].getProgramID(),this.updateCards(),[2]}}))}))},toDate:function(e){return he["a"].toStandardHisDisplayFormat(e)},toTime:function(e){return he["a"].toStandardHisTimeFormat(e)},updateCards:function(){this.patientCards=[this.activitiesCard(),this.labOrderCard(),this.alertsCard(),this.medicationCard()]},activitiesCard:function(){var e=this;return{label:"Activities",items:this.encountersCardItems,icon:be["M"],color:"#658afb",onClick:function(){return e.openModal(e.encountersCardItems,"Select Activities",so)}}},labOrderCard:function(){var e=this,t="Lab Orders";return{label:t,color:"#69bb7b",icon:be["M"],items:this.labOrderCardItems,onClick:function(){return e.$router.push("/art/encounters/lab/"+e.patient.getID())}}},alertsCard:function(){return{label:"Alerts",color:"#f95d5d",icon:be["N"],items:this.alertCardItems,onClick:function(){}}},medicationCard:function(){var e=this;return{label:"Medications",color:"#fdb044",icon:be["M"],items:this.medicationCardItems,onClick:function(){var t=["Medication","Start date","End date","Amount given"],n=e.medications.map((function(t){return[t.drug.name,e.toDate(t.order.start_date),e.toDate(t.order.auto_expire_date),t.quantity]}));e.openTableModal(t,n,"Medication History")}}},fetchPatient:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,wt["a"].findByID(e)];case 1:return t=n.sent(),[2,t?new wt["a"](t):{}]}}))}))},getPatientVisitDates:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return[4,wt["a"].getPatientVisits(e,!1)];case 1:return t=r.sent(),[2,t.map((function(e){return{label:n.toDate(e),value:e}}))]}}))}))},getNextTask:function(e){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,fr["a"].getNextTaskParams(e)];case 1:return[2,t.sent()]}}))}))},onActiveVisitDate:function(e){this.activeVisitDate=e.value},getPatientCardInfo:function(e){var t=e.getBirthdate(),n="M"===e.getGender()?be["x"]:be["O"];return[{label:"Name",value:e.getFullName(),other:{icon:n}},{label:"Birthdate",value:"\n                    "+this.toDate(t)+"\n                    ("+e.getAge()+") \n                    ("+e.getNationalID()+")"},{label:"Current Village",value:e.getCurrentVillage()},{label:"Phone#",value:e.getPhoneNumber()}]},getProgramCardInfo:function(e){if("formatPatientProgramSummary"in this.app)return this.app.formatPatientProgramSummary(e)},getActivitiesCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.type.name,value:t.toTime(e.encounter_datetime),other:{id:e.encounter_id,columns:["Observation","Value","Time"],onVoid:function(n){return Object(o["b"])(t,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,To["a"].voidEncounter(e.encounter_id,n)];case 1:return r.sent(),Ot.a.remove(this.encountersCardItems,{label:e.type.name}),this.updateCards(),t=this,[4,this.getNextTask(this.patientId)];case 2:return t.nextTask=r.sent(),Object(u["d"])("Encounter has been voided!",3e3),[3,4];case 3:return r.sent(),Object(u["c"])("Unable to void encounter!"),[3,4];case 4:return[2]}}))}))},getRows:function(){return Object(o["b"])(t,void 0,void 0,(function(){var t,n,r,i,a,c,s,u,l,d,p,b;return Object(o["d"])(this,(function(o){switch(o.label){case 0:for(i in t=[],n=e.observations,r=[],n)r.push(i);a=0,o.label=1;case 1:if(!(a<r.length))return[3,10];c=r[a],s="<UNKNOWN CONCEPT>",u=n[c],o.label=2;case 2:return o.trys.push([2,6,,7]),(null===(b=null===u||void 0===u?void 0:u.concept)||void 0===b?void 0:b.concept_names)?(s=u.concept.concept_names[0].name,[3,5]):[3,3];case 3:return[4,Io["a"].getConceptName(u.concept_id)];case 4:s=o.sent(),o.label=5;case 5:return[3,7];case 6:return l=o.sent(),console.error(u,l),[3,7];case 7:return[4,zi["a"].resolvePrimaryValue(u)];case 8:d=o.sent(),p=he["a"].toStandardHisTimeFormat(u.obs_datetime),t.push([s,d,p]),o.label=9;case 9:return a++,[3,1];case 10:return[2,t]}}))}))}}}}))},getMedicationCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.drug.name,value:t.toTime(e.order.start_date)}}))},getLabOrderCardInfo:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return"function"===typeof this.app.getPatientDashboardLabOrderCardItems?[2,this.app.getPatientDashboardLabOrderCardItems(this.patientId,e)]:[4,xt["a"].getOrders(this.patientId,{date:e})];case 1:return t=r.sent(),[2,t.map((function(e){return{label:e.specimen.name,value:n.toTime(e.order_date),other:{tableRow:[e.accession_number,e.specimen.name,n.toTime(e.order_date)]}}}))]}}))}))},getPatientAlertCardInfo:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return"getPatientDashboardAlerts"in this.app?[2,this.app.getPatientDashboardAlerts(this.patient)]:[2]}))}))},changeApp:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,pe["a"].selectApplication("PatientDashboard",!0)];case 1:return e=t.sent(),e?e.programID==this.programID?[3,2]:[2,this.$router.push("/patients/confirm?patient_barcode="+this.patient.getNationalID())]:[2];case 2:return[4,this.init()];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},showTasks:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){return"primaryPatientActivites"in this.app&&(e=this.app.primaryPatientActivites,this.openModal(e,"Select Task",Qi)),[2]}))}))},showOptions:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){return"secondaryPatientActivites"in this.app&&(e=this.app.secondaryPatientActivites,this.openModal(e,"Select Activity",Qi)),[2]}))}))},openModal:function(e,t,n){return Object(o["b"])(this,void 0,void 0,(function(){var r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return r=this.toDate(this.activeVisitDate.toString()),[4,a["U"].create({component:n,backdropDismiss:!1,cssClass:"large-modal",componentProps:{items:e,title:t+": "+r,taskParams:{patient:this.patient.getObj(),program:this.patientProgram,visitDate:this.activeVisitDate,patientID:this.patientId}}})];case 1:return i=o.sent(),i.present(),[2]}}))}))},openTableModal:function(e,t,n){return Object(o["b"])(this,void 0,void 0,(function(){var r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return r=this.toDate(this.activeVisitDate.toString()),[4,a["U"].create({component:ho,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{columns:e,rows:t,title:n+": "+r}})];case 1:return i=o.sent(),i.present(),[2]}}))}))},onCancel:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(u["a"])("Are you sure you want to cancel?")];case 1:return e=t.sent(),e?[2,this.$router.push({path:"/"})]:[2]}}))}))}}});n("5ffe");const So=v()(xo,[["render",Ii],["__scopeId","data-v-37ba0ab4"]]);var Po=So;function Bo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return e.fields.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0,fields:e.fields,onOnSubmit:e.onSubmit,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnSubmit","onOnFinish"])):Object(r["createCommentVNode"])("",!0)}var Ao=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},methods:{onFinish:function(e){var t=this;kt["a"].set(this.property,e.preference).then((function(){return Object(u["d"])("Property set")})).then((function(){return t.$router.push("/")}))},getFields:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["d"])(this,(function(t){return this.fields=[{id:"preference",helpText:this.label,type:Wt["b"].TT_YES_NO,defaultValue:function(){return e.val},validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:e.label,values:[{label:"yes",value:"true"},{label:"no",value:"false"}]}]}}],[2]}))}))}},data:function(){return{property:null,fields:[],label:null,val:""}},watch:{$route:{handler:function(e){var t=e.query;return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:if(!t.label||!t.property)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,kt["a"].get(t.property)];case 2:return e.val=n.sent(),[3,4];case 3:return n.sent(),console.log("fixed global property not found error"),[3,4];case 4:this.property=t.property,this.label=t.label,this.getFields(),n.label=5;case 5:return[2]}}))}))},deep:!0,immediate:!0}}});const Eo=v()(Ao,[["render",Bo]]);var Fo=Eo,Ro=n("f768");function Lo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var Mo=n("8734"),Ho=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{apiDate:"",fields:[]}},created:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e=this,[4,fe["d"].getApiDate()];case 1:return e.apiDate=n.sent(),this.fields=Object(hr["b"])({id:"session_date",helpText:"Session Date",required:!0,minDate:function(){return"2000-01-01"},maxDate:function(){return t.apiDate},estimation:{allowUnknown:!1},computeValue:function(e){return e},config:{footerBtns:[{name:"Reset",slot:"end",color:"success",state:{visible:{default:function(){return fe["d"].isBDE()}}},onClick:function(){return Object(o["b"])(t,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.resetSessionDate()];case 1:return e.sent(),[2]}}))}))}}]}},""),[2]}}))}))},mounted:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(Mo["a"])(200)];case 1:return e.sent(),[4,this.showBdeNotice()];case 2:return e.sent(),[2]}}))}))},methods:{showBdeNotice:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return fe["d"].isBDE()?(e=he["a"].toStandardHisDisplayFormat(fe["d"].getCachedApiDate()||""),t=he["a"].toStandardHisDisplayFormat(fe["d"].getSessionDate()),[4,Object(Ct["a"])("BDE Notice","The system is currently in Back Data Entry Mode(BDE).                 Do you wish to reset the date to "+e+"?","BDE Date: "+t,[{name:"Reset Date",slot:"start",color:"success"},{name:"Keep BDE Date",slot:"end",color:"danger"},{name:"New date",slot:"end"}])]):[2];case 1:return n=r.sent(),"Reset Date"!==n?[3,3]:[4,this.resetSessionDate()];case 2:return[2,r.sent()];case 3:return"Keep BDE Date"===n&&this.redirect(),[2]}}))}))},resetSessionDate:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fe["d"].resetSessionDate()];case 1:return t.sent(),Object(u["d"])("Session date has been reset to "+this.formatDate(this.apiDate)),this.redirect(),[3,3];case 2:return e=t.sent(),Object(u["e"])(e),[3,3];case 3:return[2]}}))}))},redirect:function(){var e=this.$route.query.patient_dashboard_redirection_id;e?this.$router.push("/patient/dashboard/"+e):this.$router.back()},onSubmit:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var e,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:e=t.session_date,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fe["d"].setSessionDate(e)];case 2:return r.sent(),Object(u["d"])("Successfully Back dated to "+this.formatDate(e)),this.redirect(),[3,4];case 3:return n=r.sent(),Object(u["e"])(n),[3,4];case 4:return[2]}}))}))},formatDate:function(e){return he["a"].toStandardHisDisplayFormat(e)}}});const Uo=v()(Ho,[["render",Lo]]);var qo=Uo;function Go(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("report-template"),s=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]})),_:1})}var zo=n("44e3"),Yo=n("4ba2"),Wo=n("9ceb"),Ko=Object(r["defineComponent"])({mixins:[zo["a"]],components:{ReportTemplate:Yo["a"],IonPage:a["B"]},data:function(){return{title:"User system usage",rows:[],columns:[[Wo["a"].thTxt("First name"),Wo["a"].thTxt("Last name"),Wo["a"].thTxt("Role"),Wo["a"].thDate("Registered on"),Wo["a"].thDate("Encounters created")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],[4,jt["a"].getSystemUsageByUsers(t.start_date,t.end_date)];case 1:return e=n.sent(),this.period=he["a"].toStandardHisDisplayFormat(t.start_date)+"-"+he["a"].toStandardHisDisplayFormat(t.end_date),this.title="User system usage <b>"+this.period+"</b>",this.customFileName=jt["a"].getLocationName()+" User system usage "+this.period,this.setRows(e),[2]}}))}))},setRows:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t=this;return Object(o["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([Wo["a"].td(e.given_name),Wo["a"].td(e.family_name),Wo["a"].td(e.role),Wo["a"].tdDate(e.registered_on),Wo["a"].td(e.encounters)])})),[2]}))}))}}});const $o=v()(Ko,[["render",Go]]);var Jo=$o;function Xo(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var Qo=n("5713"),Zo=n("b89f"),ea=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{fields:[]}},created:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["d"])(this,(function(t){return this.fields=[{id:"location",helpText:"Please select facility name",type:Wt["b"].TT_SELECT,defaultValue:function(){return Qo["a"].getUserLocation()},validation:function(e){return Jt["a"].required(e)},options:function(t,n){return void 0===n&&(n=""),Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,Qo["a"].getFacilities({name:n})];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.name,value:e.location_id}}))]}}))}))},config:{showKeyboard:!0,isFilterDataViaApi:!0}}],[2]}))}))},methods:{onSubmit:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:t=new Zo["a"],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.printLocation(e.location.value)];case 2:return r.sent(),this.$router.push({path:"/"}),[3,4];case 3:return n=r.sent(),console.log(n),[3,4];case 4:return[2]}}))}))}}});const ta=v()(ea,[["render",Xo]]);var na=ta;function ra(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0},null,8,["fields","onOnFinish"])}var ia=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},methods:{onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return t=e.use_portal.value,[4,Pe["b"].setPortalEnabled(t)];case 1:return o.sent(),this.enablePortal?(n=e.ip_address.value,r=e.port.value,i="http://"+n+":"+r,[4,Pe["b"].setPortalIP(i)]):[3,3];case 2:o.sent(),o.label=3;case 3:return this.$router.back(),[2]}}))}))},getFields:function(){var e=this;this.fields=[{id:"use_portal",helpText:"Enable Portal?",type:Wt["b"].TT_SELECT,requireNext:!0,validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:"Yes",value:"true"},{label:"No",value:"false"}]},computedValue:function(t){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return this.enablePortal="true"===t.value,[2]}))}))}},{id:"ip_address",helpText:"Enter IP Address",type:Wt["b"].TT_TEXT,condition:function(){return e.enablePortal},validation:function(e){return Jt["a"].required(e)||Jt["a"].isIPAddress(e)},config:{customKeyboard:[H["c"],[["Delete"]]]}},{id:"port",helpText:"Enter Port",condition:function(){return e.enablePortal},validation:function(e){return Jt["a"].required(e)},type:Wt["b"].TT_TEXT,config:{customKeyboard:[H["i"],[["Delete"]]]}}]}},data:function(){return{fields:[],enablePortal:!1}},mounted:function(){this.getFields()}});const oa=v()(ia,[["render",ra]]);var aa=oa;function ca(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0},null,8,["fields","onFinishAction"])}var sa=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},methods:{onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i,s;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return t=e.protocol.value,n=e.ip_address.value,r=e.port.value,c["b"].setLocalStorage(t,n,r),[4,a["S"].create({message:"Please wait...",backdropDismiss:!1})];case 1:return i=o.sent(),[4,i.present()];case 2:return o.sent(),[4,c["b"].healthCheck()];case 3:return s=o.sent(),a["S"].dismiss(),s&&200===s.status&&s?this.$router.back():(Object(u["e"])("\n          Unable to connect to: "+t+"://"+n+": "+r+"\n        "),this.clearLocalStorage()),[2]}}))}))},getFields:function(){this.fields=[{id:"protocol",helpText:"Select Protocol",type:Wt["b"].TT_SELECT,requireNext:!1,validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}]}},{id:"ip_address",helpText:"Enter IP Address",type:Wt["b"].TT_IP_ADDRESS,validation:function(e){return Jt["a"].required(e)||Jt["a"].isIPAddress(e)}},{id:"port",helpText:"Enter Port",validation:function(e){return Jt["a"].required(e)},type:Wt["b"].TT_TEXT,config:{customKeyboard:[H["i"],[["Delete"]]]}}]},showConfigNotice:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return this.isUsingLocalStorage()?[4,Object(Ct["a"])("Config notice","The system is currently using user specified configurations.                 Do you wish to reset back to server configurations?","",[{name:"Reset configurations",slot:"start",color:"success"},{name:"New configurations",slot:"end"}])]:[3,2];case 1:e=t.sent(),"Reset configurations"===e&&(this.clearLocalStorage(),this.$router.back()),t.label=2;case 2:return[2]}}))}))},isUsingLocalStorage:function(){return"true"===localStorage.getItem("useLocalStorage")},clearLocalStorage:function(){var e=["useLocalStorage","apiURL","apiPort","apiProtocol"];c["b"].removeOnly(e)}},data:function(){return{fields:[]}},mounted:function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.showConfigNotice()];case 1:return e.sent(),this.getFields(),[2]}}))}))}});const ua=v()(sa,[["render",ca]]);var la=ua;function da(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.hisFormKey,activeField:e.fieldComponent,skipSummary:!0,fields:e.fields,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onOnFinish:e.onFinish},null,8,["activeField","fields","onOnFinish"])}n("a434");var pa=n("e86e"),ba=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{hisFormKey:0,patient:{},patientProgram:{},fields:[],fieldComponent:"",activeField:"",activeProgram:{},programSelectionFieldContext:{}}},watch:{fieldComponent:function(e){e&&(this.activeField=e)},activeField:function(e){"program_selection"===e&&(this.hisFormKey+=1)},$route:{handler:function(e){var t=e.params;return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){return t&&t.patient_id&&(this.patient=t.patient_id,this.patientProgram=new Nt["a"](this.patient),this.fields=Object(o["f"])([this.getProgramSelectionField(),this.getProgramEnrollmentField()],this.getProgramOutcomeDateFields(),[this.getProgramStateField(),this.getTransferOutFacilityFields()],this.getStateOutcomeDateFields())),[2]}))}))},deep:!0,immediate:!0}},methods:{onFinish:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:switch(t=this.activeField,t){case"program_enrollment":return[3,1];case"program_state":return[3,3]}return[3,5];case 1:return[4,this.onEnrollProgram()];case 2:return n.sent(),[3,5];case 3:return[4,this.onProgramState(e)];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))},patientPrograms:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,this.patientProgram.getPrograms()];case 1:return e=n.sent(),[2,e.map((function(e){return{label:e.program.name,value:e.program.program_id,other:Object(o["a"])(Object(o["a"])({},e),{programStates:e.patient_states.map((function(e){return{name:e.name,startDate:he["a"].toStandardHisDisplayFormat(e.start_date),endDate:e.end_date?he["a"].toStandardHisDisplayFormat(e.end_date):"N/A",actions:t.getStateActions(e)}}))})}}))]}}))}))},allPrograms:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e=this.programSelectionFieldContext.listData,[4,gr["a"].getAllPrograms()];case 1:return t=n.sent(),[2,t.map((function(t){return{label:t.name,value:t.program_id,disabled:Object(gt["find"])(e,{value:t.program_id}),other:Object(o["a"])({},t)}}))]}}))}))},programWorkflows:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,gr["a"].getProgramWorkflows(this.patientProgram.getProgramId())];case 1:return e=t.sent(),Object(gt["isEmpty"])(e)?[2]:[2,e[0].states.map((function(e){return{label:e.name,value:e.program_workflow_state_id,other:Object(o["a"])({},e)}}))]}}))}))},getStateActions:function(e){var t=this,n=[{name:"Void",color:"danger",action:function(n,r){return Object(o["b"])(t,void 0,void 0,(function(){return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.onVoidState(e.patient_state_id,n,r)];case 1:return t.sent(),[2]}}))}))}}];return"Patient transferred out"===e.name&&n.push({name:"Print",color:"primary",action:function(){return Object(o["b"])(t,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.patientProgram.printTransferout()];case 1:return[2,e.sent()]}}))}))}}),n},onUpdateState:function(){if(-1===this.patientProgram.getProgramId())return Object(u["e"])("Please select a program");this.fieldComponent="program_state"},onProgramState:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.patientProgram.updateState()];case 1:return n.sent(),this.fieldComponent="program_selection",e.transfer_out_state?[4,this.patientProgram.transferOutEncounter(e.transfer_out_state.other)]:[3,3];case 2:n.sent(),n.label=3;case 3:return Object(u["d"])("State has been updated"),[3,5];case 4:return t=n.sent(),Object(u["c"])(t),[3,5];case 5:return[2]}}))}))},onEnrollProgram:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:if(e=this.patientProgram.getProgramId(),-1===e)return[2,Object(u["e"])("Please select a program")];r.label=1;case 1:return r.trys.push([1,3,,4]),t=this,[4,this.patientProgram.enrollProgram()];case 2:return t.activeProgram=r.sent(),this.fieldComponent="program_state",Object(u["d"])("Patient has been enrolled!"),[3,4];case 3:return n=r.sent(),this.activeProgram={},Object(u["c"])(n),[3,4];case 4:return[2]}}))}))},onVoidState:function(e,t,n){return Object(o["b"])(this,void 0,void 0,(function(){var r=this;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,oo((function(i){return Object(o["b"])(r,void 0,void 0,(function(){var r;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.patientProgram.setStateId(e),[4,this.patientProgram.voidState(i)];case 1:return o.sent(),this.patientProgram.setStateId(-1),t.other.programStates.splice(n,1),Object(u["d"])("State has been voided"),[3,3];case 2:return r=o.sent(),Object(u["c"])(r),[3,3];case 3:return[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))},onVoidProgram:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return e=this.patientProgram.getPatientProgramId(),-1===e?[2,Object(u["e"])("Please select a program")]:[4,oo((function(e){return Object(o["b"])(t,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.patientProgram.voidProgram(e)];case 1:return i.sent(),t=this.programSelectionFieldContext,n=Object(gt["findIndex"])(t.listData,{value:this.patientProgram.getProgramId()}),t.listData.splice(n,1),t.activeProgram={},this.patientProgram.setPatientProgramId(-1),this.patientProgram.setProgramId(-1),Object(u["d"])("Program removed"),[3,3];case 2:return r=i.sent(),console.error(r),Object(u["c"])(r),[3,3];case 3:return[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},getStateOutcomeDateFields:function(){var e=this;return Object(hr["b"])({id:"state_outcome_date",helpText:"State",condition:function(e){return e.program_state},required:!0,minDate:function(){return e.patientProgram.getProgramDate()},maxDate:function(){return gr["a"].getSessionDate()},estimation:{allowUnknown:!0,estimationFieldType:hr["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t){return e.patientProgram.setStateDate(t)}},this.patientProgram.getProgramDate()||gr["a"].getSessionDate())},getTransferOutFacilityFields:function(){return{id:"transfer_out_state",helpText:"Please Select facility name",type:Wt["b"].TT_SELECT,validation:function(e){return Jt["a"].required(e)},condition:function(e){return"Patient transferred out"===e.program_state.label},options:function(e,t){return void 0===t&&(t=""),Object(pa["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}},getProgramStateField:function(){var e=this;return{id:"program_state",helpText:"State",type:Wt["b"].TT_SELECT,validation:function(e){return Jt["a"].required(e)},options:function(){return e.programWorkflows()},condition:function(){return"program_state"===e.activeField},unload:function(t){return e.patientProgram.setStateId(t.value)}}},getProgramEnrollmentField:function(){var e=this;return{id:"program_enrollment",helpText:"Please select a programme",type:Wt["b"].TT_SELECT,condition:function(){return"program_enrollment"===e.activeField},unload:function(t){return e.patientProgram.setProgramId(t.value)},options:function(){return e.allPrograms()},validation:function(e){return Jt["a"].required(e)},config:{showKeyboard:!0}}},getProgramOutcomeDateFields:function(){var e=this;return Object(hr["b"])({id:"program_outcome_date",helpText:"Outcome",required:!0,minDate:function(){return he["a"].estimateDateFromAge(100)},maxDate:function(){return gr["a"].getSessionDate()},condition:function(){return"program_enrollment"===e.activeField},estimation:{allowUnknown:!0,estimationFieldType:hr["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t){return e.patientProgram.setProgramDate(t)}},gr["a"].getSessionDate())},getProgramSelectionField:function(){var e=this,t=function(e){return!Object(gt["isEmpty"])(e.program_selection)};return{id:"program_selection",helpText:"Programs",type:Wt["b"].TT_PROGRAM_SELECTION,onload:function(t){e.activeField="program_selection",e.programSelectionFieldContext=t},onValue:function(t){return t&&(e.activeProgram=t.other,e.patientProgram.setProgramId(t.value),e.patientProgram.setPatientProgramId(t.other.patient_program_id),e.patientProgram.setProgramDate(he["a"].toStandardHisFormat(t.other.date_enrolled))),!0},validation:function(e){return Jt["a"].required(e)},options:function(){return e.patientPrograms()},config:{onVoidState:this.onVoidState,hiddenFooterBtns:["Back","Next","Clear"],footerBtns:[{name:"Void Program",slot:"end",color:"danger",state:{visible:{default:function(e,n){return t(n)},onValue:function(e,n){return t(n)}}},onClick:function(){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.onVoidProgram()];case 1:return e.sent(),[2]}}))}))}},{name:"Update state",slot:"end",state:{visible:{default:function(e,n){return t(n)},onValue:function(e,n){return t(n)}}},onClick:function(){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.onUpdateState()];case 1:return e.sent(),[2]}}))}))}},{name:"Enroll",color:"success",slot:"end",onClick:function(){e.fieldComponent="program_enrollment"}}]}}}}});const ha=v()(ba,[["render",da]]);var fa=ha;function ma(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.hisFormKey,fields:e.fields,activeField:e.fieldComponent,skipSummary:!0,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onOnFinish:e.onFinish},null,8,["fields","activeField","onOnFinish"])}n("a623");var ga=n("53ca"),Oa=n("cc6f"),va=function(e){function t(t){var n=e.call(this,t,57)||this;return n.patientID=t,n.testTypeID=-1,n.resultDate="",n.testID=-1,n}return Object(o["c"])(t,e),t.prototype.createLabResult=function(e){return Oa["a"].postJson("lab/tests/"+this.testID+"/results",{encounter_id:this.encounterID,date:this.resultDate,measures:e})},t.prototype.getTestID=function(){return this.testID},t.prototype.getTestTypeID=function(){return this.testTypeID},t.prototype.setTestTypeID=function(e){this.testTypeID=e},t.prototype.setResultDate=function(e){this.resultDate=e},t.prototype.setTestID=function(e){this.testID=e},t.prototype.getTestsWithoutResults=function(){return xt["a"].getOrders(this.patientID,{status:"drawn"})},t.prototype.getTestIndicators=function(){return xt["a"].getJson("lab/test_result_indicators",{test_type_id:this.testTypeID})},t}(Oa["a"]),_a=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{fieldComponent:"",labResult:{},hisFormKey:0,patient:{},fields:[],selectedTest:{},testOptions:[],testIndicators:[]}},watch:{$route:{handler:function(e){var t=e.params;return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return t&&t.patient_id?(this.patient=t.patient_id,this.labResult=new va(this.patient),[4,this.initData()]):[3,2];case 1:e.sent(),this.fields=this.getFields(),e.label=2;case 2:return[2]}}))}))},deep:!0,immediate:!0}},methods:{onFinish:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var e,n;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),e=Object.values(t).filter((function(e){return"result_indicator"===e.tag&&e.measures})).map((function(e){return e.measures})),this.labResult.setTestID(this.selectedTest.value),this.labResult.setResultDate(t.result_date),[4,this.labResult.createEncounter()];case 1:return r.sent(),[4,this.labResult.createLabResult(e)];case 2:return r.sent(),this.testOptions=[],this.selectedTest={},this.testIndicators=[],[4,this.initData()];case 3:return r.sent(),this.hisFormKey=Math.floor(5e3*Math.random()),Object(u["d"])("Lab result saved!"),[3,5];case 4:return n=r.sent(),Object(u["c"])(n),console.error(n),[3,5];case 5:return[2]}}))}))},generateTestIndicatorsFields:function(){var e=this,t=[];return this.testIndicators.forEach((function(n){t=Object(o["f"])(t,e.buildTestIndicatorFields(n.indicatorId,n.indicatorName,n.specimen,n.testId))})),t},validateVLresults:function(e,t,n){if("HIV viral load"!==e)return null;var r=n.value.toString(),i=r.substring(0,1),o=r.substring(1,r.length);return t.match(/DBS/i)&&(i.match(/</)&&!o.match(/ldl|400|550|839/i)||i.match(/=/)&&!(parseFloat(o)>=400)||">"==i)||i.match(/</)&&!o.match(/ldl|20|40|150/i)||i.match(/=/)&&!(parseFloat(o)>=20)?["Invalid results for "+t+" HIV viral load"]:null},alphaValueIsValid:function(e){try{return!!e.match(/^(>|<|=)(.*)/)}catch(t){return!1}},numericValueIsValid:function(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}},buildTestIndicatorFields:function(e,t,n,r){var i=this,o=function(e){return[i.selectedTest.value===r,!!Object(gt["find"])(e.result_indicators,{label:t})].every(Boolean)},a=function(t,n){var r=n["type_"+e].value,i=t.value.toString(),o=i.charAt(0),a="numeric"===r?parseInt(i.substring(1)):i.substring(1),c=n["result_indicators"].filter((function(t){return t.value===e}))[0];return{tag:"result_indicator",measures:{indicator:{concept_id:c.value},value:a,value_modifier:o,value_type:r},result:a,modifier:o,test:c.label}};return[{id:"type_"+e,helpText:"Result type ("+t+")",type:Wt["b"].TT_SELECT,group:"test_indicator",condition:o,appearInSummary:function(){return!1},validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:"Numeric (numbers only)",value:"numeric"},{label:"Alphanumeric(text/text and numbers)",value:"text"}]}},{id:"num_"+e,helpText:"Test Result ("+t+")",type:Wt["b"].TT_TEXT,group:"test_indicator",computedValue:a,onValue:function(e){return!(e&&e.value&&!i.numericValueIsValid(e.value.toString()))||(Object(u["e"])("You must enter a modifer and numbers only. i.e =90 / >19 / < 750"),!1)},validation:function(e){return Jt["a"].validateSeries([function(){return Jt["a"].required(e)},function(){return i.validateVLresults(t,n,e)}])},condition:function(t){return o(t)&&"numeric"===t["type_"+e].value},config:{customKeyboard:[[["1","2","3"],["4","5","6","=","<",">"],["7","8","9","."],["","0",""]],[["Delete"]]]}},{id:"alpha_"+e,helpText:"Test Result ("+t+")",type:Wt["b"].TT_TEXT,group:"test_indicator",onValue:function(e){return!(e&&e.value&&!i.alphaValueIsValid(e.value.toString()))||(Object(u["e"])("You must enter a modifier plus result (for example =LDL)"),!1)},computedValue:a,validation:function(e){return Jt["a"].validateSeries([function(){return Jt["a"].required(e)},function(){return i.validateVLresults(t,n,e)}])},condition:function(t){return o(t)&&"text"===t["type_"+e].value}}]},initData:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,a,c;return Object(o["d"])(this,(function(s){switch(s.label){case 0:return[4,this.labResult.getTestsWithoutResults()];case 1:for(i in e=s.sent(),t=function(t){var r,i,a,c,s,u;return Object(o["d"])(this,(function(l){switch(l.label){case 0:for(c in r=e[t],i=function(e){var t,i,a;return Object(o["d"])(this,(function(c){switch(c.label){case 0:return t=r.tests[e],Object(gt["isEmpty"])(t.result)?(n.labResult.setTestTypeID(t.concept_id),[4,n.labResult.getTestIndicators()]):[2,"continue"];case 1:return i=c.sent(),a=i.map((function(e){return{testId:t.id,indicatorName:e.name,indicatorId:e.concept_id,specimen:r.specimen.name}})),n.testIndicators=Object(o["f"])(n.testIndicators,a),n.testOptions.push({label:t.name,value:t.id,other:{accession:r.accession_number,specimen:r.specimen.name,test:t.name,orderDate:r.order_date,testIndicators:a}}),[2]}}))},a=[],r.tests)a.push(c);s=0,l.label=1;case 1:return s<a.length?(u=a[s],[5,i(u)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}}))},n=this,r=[],e)r.push(i);a=0,s.label=2;case 2:return a<r.length?(c=r[a],[5,t(c)]):[3,5];case 3:s.sent(),s.label=4;case 4:return a++,[3,2];case 5:return[2]}}))}))},getFields:function(){var e=this;return Object(o["f"])([{id:"test_type",helpText:"Tests without results",type:Wt["b"].TT_TABLE_VIEWER,options:function(){var t=e.testOptions.map((function(t){return[t.other.accession,t.other.specimen,t.other.test,he["a"].toStandardHisDisplayFormat(t.other.orderDate),{type:"button",name:"Select",action:function(){e.selectedTest=t,e.$nextTick((function(){return e.fieldComponent="year_result_date"}))}}]}));return[{label:"",value:"",other:{rows:t,columns:["Acession#","Specimen","Test","Order date"]}}]},requireNext:!1,validation:function(e){return Jt["a"].required(e)},config:{hiddenFooterBtns:["Clear","Next"]}}],Object(hr["b"])({id:"result_date",helpText:"Result",required:!0,estimation:{allowUnknown:!1},minDate:function(){return he["a"].toStandardHisFormat(e.selectedTest.other.orderDate)},maxDate:function(){return fe["d"].getSessionDate()},computeValue:function(e){return e}}),[{id:"result_indicators",helpText:"Select test result indicators",type:Wt["b"].TT_MULTIPLE_SELECT,validation:function(e){return Jt["a"].required(e)},options:function(){return e.selectedTest.other.testIndicators.map((function(e){return{label:e.indicatorName,value:e.indicatorId}}))}}],this.generateTestIndicatorsFields(),[{id:"entry_confirmation",helpText:"Confirm entry",type:Wt["b"].TT_TABLE_VIEWER,options:function(e,t){var n=Object.values(t).filter((function(e){return"object"===Object(ga["a"])(e)&&null!=e&&"result_indicator"===e.tag})).map((function(e){return[e.test,e.modifier,e.result]}));return[{label:"",value:"",other:{rows:n,columns:["Test","Modifier","Result"]}}]}}])}}});const ja=v()(_a,[["render",ma]]);var ya=ja;function wa(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:e.formKey,fields:e.fields,skipSummary:!0,activeField:e.fieldComponent,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),onFinishAction:e.onFinish},null,8,["fields","activeField","onFinishAction"])}var Na=Object(r["defineComponent"])({components:{HisStandardForm:$t["a"]},data:function(){return{formKey:0,fields:[],activity:"",presets:{},userData:{},fieldComponent:"",isSessionPasswordChange:!1,activeField:"",form:{}}},watch:{$route:{handler:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return e?(t=e.query,["edit","add"].includes(t.activity)?this.activity=t.activity:this.activity="add",t.update_password?(n=this,r=this.toUserData,[4,jt["a"].getCurrentUser()]):[3,2]):[2];case 1:n.userData=r.apply(this,[i.sent()]),this.isSessionPasswordChange=!0,this.activeField="new_password",this.fieldComponent=this.activeField,i.label=2;case 2:return this.fields=this.getFields(),[2]}}))}))},immediate:!0,deep:!0}},methods:{onFinish:function(e,t){return Object(o["b"])(this,void 0,void 0,(function(){var e,n=this;return Object(o["d"])(this,(function(r){switch(r.label){case 0:switch(e=this.activity,e){case"add":return[3,1];case"edit":return[3,3]}return[3,5];case 1:return this.activity="edit",[4,this.create(t)];case 2:return r.sent(),[3,5];case 3:return[4,this.update(t)];case 4:return r.sent(),this.isSessionPasswordChange&&this.$router.push("/"),[3,5];case 5:return this.formKey+=1,this.activeField="user_info",this.$nextTick((function(){return n.fieldComponent=n.activeField})),[2]}}))}))},create:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,jt["a"].createUser(e)];case 1:if(t=n.sent().user,t)return[2,this.userData=this.toUserData(t)];throw"Unable to create new user, Possibly the user already exists or incorrect info was entered"}}))}))},update:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,jt["a"].updateUser(this.userData.id,e)];case 1:if(t=n.sent(),t)return[2,this.userData=this.toUserData(t)];throw"Unable to update user, possibly server error or incorrect information entered"}}))}))},mapToOption:function(e){return e.map((function(e){return{label:e,value:e}}))},getRoles:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,jt["a"].getAllRoles()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.role,value:e.role,other:e}}))]}}))}))},toUserData:function(e){var t=e.person.names[0];return{id:e.user_id,given_name:t.given_name,family_name:t.family_name,username:e.username,role:e.roles.map((function(e){return e.role})).join(", "),created:he["a"].toStandardHisDisplayFormat(e.date_created),status:e.deactivated_on?"Inactive":"Active"}},editConditionCheck:function(e){return void 0===e&&(e=[]),"edit"!==this.activity||e.includes(this.activeField)},toLcase:function(e){return e.value.toString().toLowerCase()},getFields:function(){var e=this;return[{id:"select_user",helpText:"Select Username",type:Wt["b"].TT_SELECT,condition:function(){return"edit"===e.activity&&jt["a"].isAdmin()},validation:function(e){return Jt["a"].required(e)},unload:function(t){var n=t.other;return e.userData=e.toUserData(n)},options:function(){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,jt["a"].getAllUsers()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.username,value:e.user_id,other:e}}))]}}))}))},config:{showKeyboard:!0}},{id:"user_info",helpText:"User information",type:Wt["b"].TT_TABLE_VIEWER,condition:function(){return"edit"===e.activity&&jt["a"].isAdmin()},options:function(t,n,r){return Object(o["b"])(e,void 0,void 0,(function(){var e,t,n,i,a,c=this;return Object(o["d"])(this,(function(s){return e=4,t=["Attributes","Values","Actions"],n=function(t){return{name:"Active"===t?"Deactivate":"Activate",type:"button",action:function(){return Object(o["b"])(c,void 0,void 0,(function(){var i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),"Active"!==t?[3,2]:[4,jt["a"].deactivateUser(this.userData.id)];case 1:o.sent(),this.userData.status="Inactive",r.rows[e]=["Status","Inactive",n("Inactive")],Object(u["d"])("User has been deactivated",400),o.label=2;case 2:return"Inactive"!==t?[3,4]:[4,jt["a"].activateUser(this.userData.id)];case 3:o.sent(),this.userData.status="Active",r.rows[e]=["Status","Active",n("Active")],Object(u["d"])("User has been activated",400),o.label=4;case 4:return[3,6];case 5:return i=o.sent(),Object(u["e"])(i),[3,6];case 6:return[2]}}))}))}}},i=function(e,t){return{name:e,type:"button",action:function(){c.activeField=t,c.fieldComponent=c.activeField}}},a=[["Username",this.userData.username,""],["Role",this.userData.role,i("Update role","roles")],["Name",this.userData.given_name+" "+this.userData.family_name,i("Edit usernames","given_name")],["Password","*******",i("Change password","new_password")],["Status",this.userData.status,n(this.userData.status)],["Date created",this.userData.created,""]],[2,[{label:"",value:"",other:{columns:t,rows:a}}]]}))}))},config:{hiddenFooterBtns:["Clear"],overrideDefaultFooterBtns:{nextBtn:{name:"Finish",onClick:function(){return e.$router.back()}}}}},{id:"given_name",helpText:"First name",type:Wt["b"].TT_TEXT,computedValue:function(e){return e.value},defaultValue:function(){return e.userData.given_name},condition:function(){return e.editConditionCheck(["given_name"])&&jt["a"].isAdmin()},validation:function(e){return Jt["a"].isName(e)},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t.given_name&&null!==t.given_name.value?[4,Kt["a"].searchGivenName(t.given_name.value)]:[2,[]];case 1:return e=n.sent(),[2,this.mapToOption(e)]}}))}))}},{id:"family_name",helpText:"Last name",type:Wt["b"].TT_TEXT,computedValue:function(e){return e.value},defaultValue:function(){return e.userData.family_name},validation:function(e){return Jt["a"].isName(e)},condition:function(){return e.editConditionCheck(["given_name"])&&jt["a"].isAdmin()},options:function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return t.family_name&&null!==t.family_name.value?[4,Kt["a"].searchFamilyName(t.family_name.value)]:[2,[]];case 1:return e=n.sent(),[2,this.mapToOption(e)]}}))}))}},{id:"roles",helpText:"Role",type:Wt["b"].TT_SELECT,computedValue:function(e){return[e.value]},condition:function(){return e.editConditionCheck(["roles"])&&jt["a"].isAdmin()},validation:function(e){return Jt["a"].required(e)},options:function(){return Object(o["b"])(e,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return[4,this.getRoles()];case 1:return[2,e.sent()]}}))}))},config:{showKeyboard:!0}},{id:"must_append_roles",helpText:"Would you like to append role?",type:Wt["b"].TT_SELECT,computedValue:function(e){return"Yes"===e.label},condition:function(){return"edit"===e.activity&&e.editConditionCheck(["roles"])&&jt["a"].isAdmin()},validation:function(e){return Jt["a"].required(e)},options:function(){return[{label:"Yes",value:"true"},{label:"No",value:"false"}]}},{id:"username",helpText:"Username",type:Wt["b"].TT_TEXT,condition:function(){return e.editConditionCheck(["nothing to see here"])&&jt["a"].isAdmin()},computedValue:function(t){return e.toLcase(t)},validation:function(e){return Jt["a"].validateSeries([function(){return Jt["a"].required(e)},function(){return Jt["a"].hasLengthRangeOf(e,4,15)}])},config:{showLowerCasesOnly:!0}},{id:"new_password",proxyID:"password",helpText:"New Password",type:Wt["b"].TT_TEXT,computedValue:function(t){return e.toLcase(t)},condition:function(){return e.editConditionCheck(["new_password"])},validation:function(e){return Jt["a"].validateSeries([function(){return Jt["a"].required(e)},function(){return Jt["a"].hasLengthRangeOf(e,4,15)}])},config:{inputType:"password"}},{id:"verify_password",proxyID:"password",helpText:"Confirm Password",type:Wt["b"].TT_TEXT,computedValue:function(t){return e.toLcase(t)},condition:function(){return e.editConditionCheck(["new_password"])},validation:function(t,n){return Jt["a"].validateSeries([function(){return Jt["a"].required(t)},function(){if(e.toLcase(n.verify_password)!=e.toLcase(n.new_password))return["New password does not match current password"]}])},config:{inputType:"password"}}]}}});const Ca=v()(Na,[["render",wa]]);var Va=Ca,Da=Object(r["withScopeId"])("data-v-0d445b18");Object(r["pushScopeId"])("data-v-0d445b18");var ka=Object(r["createVNode"])("h2",null,"Merge Clients",-1),Ta={class:"result-section"},Ia={class:"result-section"},xa=Object(r["createTextVNode"])(" Cancel "),Sa=Object(r["createTextVNode"])(" Merge ");Object(r["popScopeId"])();var Pa=Da((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-row"),u=Object(r["resolveComponent"])("ion-toolbar"),l=Object(r["resolveComponent"])("ion-header"),d=Object(r["resolveComponent"])("ion-input"),p=Object(r["resolveComponent"])("patient-card"),b=Object(r["resolveComponent"])("view-port"),h=Object(r["resolveComponent"])("his-keyboard"),f=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("ion-button"),g=Object(r["resolveComponent"])("ion-footer"),O=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(O,null,{default:Da((function(){return[Object(r["createVNode"])(l,null,{default:Da((function(){return[Object(r["createVNode"])(u,null,{default:Da((function(){return[Object(r["createVNode"])(s,null,{default:Da((function(){return[Object(r["createVNode"])(c,null,{default:Da((function(){return[ka]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Da((function(){return[Object(r["createVNode"])(b,null,{default:Da((function(){return[Object(r["createVNode"])(s,null,{default:Da((function(){return[Object(r["createVNode"])(c,null,{default:Da((function(){return[Object(r["createVNode"])(d,{onClick:t[1]||(t[1]=function(t){return e.inputFocus="inputA"}),placeholder:"Primary patient",class:["input_display",{"input-focused":"inputA"===e.inputFocus}],modelValue:e.inputA,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.inputA=t})},null,8,["modelValue","class"])]})),_:1}),Object(r["createVNode"])(c,null,{default:Da((function(){return[Object(r["createVNode"])(d,{onClick:t[3]||(t[3]=function(t){return e.inputFocus="inputB"}),class:["input_display",{"input-focused":"inputB"===e.inputFocus}],placeholder:"Secondary patient",modelValue:e.inputB,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.inputB=t})},null,8,["modelValue","class"])]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:Da((function(){return[Object(r["createVNode"])(c,null,{default:Da((function(){return[Object(r["createVNode"])("div",Ta,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.inputASearchResults,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{onClick:function(n){return e.onPrimaryPatient(t)},key:n,patient:t,isActive:e.activeInputACard.index===n},null,8,["onClick","patient","isActive"])})),128))])]})),_:1}),Object(r["createVNode"])(c,null,{default:Da((function(){return[Object(r["createVNode"])("div",Ia,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.inputBSearchResults,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(p,{onClick:function(n){return e.onSecondaryPatient(t)},key:n,patient:t,isActive:t.isChecked},null,8,["onClick","patient","isActive"])})),128))])]})),_:1})]})),_:1})]})),_:1}),e.inputFocus?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(g,null,{default:Da((function(){return[Object(r["createVNode"])(u,{color:"dark"},{default:Da((function(){return[Object(r["createVNode"])(m,{color:"danger",size:"large","router-link":"/"},{default:Da((function(){return[xa]})),_:1}),e.canMerge?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,color:"success",size:"large",slot:"end",onClick:e.onMerge},{default:Da((function(){return[Sa]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),Ba=(n("5319"),n("1276"),n("0a79")),Aa=n("2345"),Ea=Object(r["withScopeId"])("data-v-21a49c7f");Object(r["pushScopeId"])("data-v-21a49c7f");var Fa=Object(r["createTextVNode"])(" Arv# : "),Ra=Object(r["createTextVNode"])(" Name : "),La=Object(r["createTextVNode"])(" Birth date : "),Ma=Object(r["createTextVNode"])(" Gender : "),Ha=Object(r["createTextVNode"])(" Home District : "),Ua=Object(r["createTextVNode"])(" Home Village : "),qa=Object(r["createTextVNode"])(" Current District : "),Ga=Object(r["createTextVNode"])(" Current Village : ");Object(r["popScopeId"])();var za=Ea((function(e,t,n,i,o,a){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{class:["his-card clickable",e.stateClass]},[Object(r["createVNode"])("li",null,[Object(r["createVNode"])("ul",null,[Fa,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.arv),1)]),Object(r["createVNode"])("ul",null,[Ra,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.name),1)]),Object(r["createVNode"])("ul",null,[La,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.birthdate),1)]),Object(r["createVNode"])("ul",null,[Ma,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.gender),1)]),Object(r["createVNode"])("ul",null,[Ha,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.homeDistrict),1)]),Object(r["createVNode"])("ul",null,[Ua,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.homeVillage),1)]),Object(r["createVNode"])("ul",null,[qa,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.currentDistrict),1)]),Object(r["createVNode"])("ul",null,[Ga,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.patient.currentVillage),1)])])],2)})),Ya=Object(r["defineComponent"])({props:{patient:{type:Object,required:!0},isActive:{type:Boolean}},computed:{stateClass:function(){return{"active-card-color":this.isActive,"inactive-card-color":!this.isActive}}}});n("03c5");const Wa=v()(Ya,[["render",za],["__scopeId","data-v-21a49c7f"]]);var Ka=Wa,$a=Object(r["defineComponent"])({components:{PatientCard:Ka,IonPage:a["B"],IonInput:a["t"],IonButton:a["d"],IonContent:a["n"],IonRow:a["F"],IonCol:a["m"],IonFooter:a["o"],IonHeader:a["q"],ViewPort:Ba["a"],HisKeyboard:Ht["a"]},data:function(){return{inputA:"",inputB:"",inputFocus:"inputA",inputASearchResults:[],inputBSearchResults:[],activeInputACard:{},keyboard:[H["c"],[["","Hide"],["Space","Delete"],["inputA","inputB"],["Search","Clear"]]]}},computed:{canMerge:function(){return!Object(gt["isEmpty"])(this.activeInputACard)&&!Object(gt["isEmpty"])(this.inputBSearchResults.filter((function(e){return e.isChecked})))}},methods:{onMerge:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e,t,n,r,i,a;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return[4,Object(u["a"])("Are you sure you want to merge selected Persons?")];case 1:if(e=o.sent(),!e)return[2];o.label=2;case 2:return o.trys.push([2,8,,9]),t={primary:{patient_id:this.activeInputACard.id,doc_id:this.activeInputACard.docID},secondary:this.inputBSearchResults.filter((function(e){return e.isChecked})).map((function(e){return{patient_id:e.id,doc_id:e.docID}}))},[4,wt["a"].mergePatients(t)];case 3:return o.sent(),n=new Dt["a"](this.activeInputACard.id),[4,n.printNidLbl()];case 4:return o.sent(),this.inputBSearchResults=this.inputBSearchResults.filter((function(e){return!e.isChecked})),[4,Object(u["a"])("Do you want to go to patient encounter?")];case 5:return r=o.sent(),r?[4,fr["a"].getNextTaskParams(this.activeInputACard.id)]:[3,7];case 6:i=o.sent(),i.name?this.$router.push(i):this.$router.push("/patient/dashboard/"+this.activeInputACard.id),o.label=7;case 7:return[3,9];case 8:return a=o.sent(),Object(u["c"])(a),[3,9];case 9:return[2]}}))}))},onPrimaryPatient:function(e){var t=this;this.inputBSearchResults.forEach((function(n){n.id===e.id&&(t.inputBSearchResults[n.index].isChecked=!1)})),this.activeInputACard=e},onSecondaryPatient:function(e){if(e.isChecked)return this.inputBSearchResults[e.index].isChecked=!1;Object(gt["isEmpty"])(this.activeInputACard)||e.id==this.activeInputACard.id||(this.inputBSearchResults[e.index].isChecked=!0)},searchPatient:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r,i;return Object(o["d"])(this,(function(o){switch(o.label){case 0:return t=e.split(" "),n=t[0],r=t[1],[4,wt["a"].search({given_name:n,family_name:r})];case 1:return i=o.sent(),[2,i.map((function(e,t){var n=new wt["a"](e);return{index:t,id:n.getID(),name:n.getFullName(),docID:n.getDocID(),birthdate:n.getBirthdate(),arvNum:n.getArvNumber(),gender:n.getGender(),homeDistrict:n.getHomeDistrict(),homeVillage:n.getHomeVillage(),currentDistrict:n.getCurrentDistrict(),currentVillage:n.getCurrentVillage(),isChecked:!1}}))]}}))}))},keypress:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return this.inputFocus?(t=Object(Aa["a"])(e,this[this.inputFocus]),t.match(/hide/i)?(this.inputFocus="",[3,7]):[3,1]):[2];case 1:return t.match(/search/i)?(t=t.replace("Search",""),"inputA"!==this.inputFocus?[3,3]:(n=this,[4,this.searchPatient(t)])):[3,6];case 2:return n.inputASearchResults=i.sent(),this.activeInputACard={},[3,5];case 3:return r=this,[4,this.searchPatient(t)];case 4:r.inputBSearchResults=i.sent(),i.label=5;case 5:return this.inputFocus="",[3,7];case 6:t.match(/inputA/i)?this.inputFocus="inputA":t.match(/inputB/)?this.inputFocus="inputB":t.match(/clear/i)?(this[this.inputFocus]="","inputA"===this.inputFocus?this.inputASearchResults=[]:this.inputBSearchResults=[]):this[this.inputFocus]=t,i.label=7;case 7:return[2]}}))}))}}});n("ae20");const Ja=v()($a,[["render",Pa],["__scopeId","data-v-0d445b18"]]);var Xa=Ja,Qa=Object(r["createVNode"])("br",null,null,-1),Za=Object(r["createTextVNode"])(" Current District: "),ec=Object(r["createTextVNode"])(" Home Village: "),tc=Object(r["createTextVNode"])(" Re-Assign "),nc=Object(r["createTextVNode"])(" Update Missing Data "),rc=Object(r["createTextVNode"])(" Cancel "),ic=Object(r["createTextVNode"])(" Clear "),oc=Object(r["createTextVNode"])(" Next ");function ac(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-title"),s=Object(r["resolveComponent"])("ion-toolbar"),u=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-checkbox"),d=Object(r["resolveComponent"])("ion-label"),p=Object(r["resolveComponent"])("ion-button"),b=Object(r["resolveComponent"])("ion-item"),h=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("ion-footer"),g=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.items,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:n},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{slot:"start",checked:t.isChecked,onIonChange:function(n){return e.check(n,t)}},null,8,["checked","onIonChange"]),Object(r["createVNode"])(d,{color:t.isComplete?"":"danger"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.name)+" ("+Object(r["toDisplayString"])(t.gender)+") "+Object(r["toDisplayString"])(t.birthdate)+" ",1),Qa,Za,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.curDistrict||"Unknown"),1),ec,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(t.homeVillage||"Unknown"),1)]})),_:2},1032,["color"]),Object(r["createVNode"])(p,{onClick:function(n){return e.reassignIdentifier(t)}},{default:Object(r["withCtx"])((function(){return[tc]})),_:1},8,["onClick"]),t.isComplete?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,color:"warning","router-link":"/patient/registration?edit_person="+t.patientID},{default:Object(r["withCtx"])((function(){return[nc]})),_:2},1032,["router-link"]))]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{color:"dark"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{"router-link":"/",color:"danger",slot:"start",size:"large"},{default:Object(r["withCtx"])((function(){return[rc]})),_:1}),e.itemsChecked.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,onClick:e.clear,color:"warning",slot:"end",size:"large"},{default:Object(r["withCtx"])((function(){return[ic]})),_:1},8,["onClick"])):Object(r["createCommentVNode"])("",!0),e.itemsChecked.length>1?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:1,onClick:t[1]||(t[1]=function(t){return e.onAction(e.mergeSelected,"merge")}),color:"primary",size:"large",slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(" Merge ("+Object(r["toDisplayString"])(e.itemsChecked.length)+") ",1)]})),_:1})):Object(r["createCommentVNode"])("",!0),e.items.length<=1?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:2,color:"success",size:"large",slot:"end"},{default:Object(r["withCtx"])((function(){return[oc]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}var cc=Object(r["defineComponent"])({components:{IonPage:a["B"],IonButton:a["d"],IonList:a["w"],IonItem:a["u"],IonToolbar:a["N"],IonHeader:a["q"],IonTitle:a["M"],IonContent:a["n"],IonFooter:a["o"]},data:function(){return{dde:{},items:[],title:""}},watch:{$route:{handler:function(e){var t=e.params;return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["d"])(this,(function(e){switch(e.label){case 0:return t?(this.title="Duplicates for NPID ("+t.npid+")",[4,this.init(t.npid)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},deep:!0,immediate:!0}},computed:{itemsChecked:function(){return this.items.filter((function(e){return e.isChecked}))}},methods:{check:function(e,t){t.isChecked=e.detail.checked},toDate:function(e){return he["a"].toStandardHisDisplayFormat(e)},onAction:function(e,t){return void 0===t&&(t="proceed"),Object(o["b"])(this,void 0,void 0,(function(){var n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return[4,Object(u["a"])("\n                Are you sure you want to "+t+"?\n            ")];case 1:if(n=i.sent(),!n)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e()];case 3:return i.sent(),[3,5];case 4:return r=i.sent(),Object(u["e"])(r),[3,5];case 5:return[2]}}))}))},mergeSelected:function(){return Object(o["b"])(this,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(t){switch(t.label){case 0:return[4,this.dde.postMerge(this.itemsChecked)];case 1:return e=t.sent(),e?[4,this.dde.printNpid(this.dde.patientID)]:[3,3];case 2:t.sent(),Object(_t["b"])(this.dde.patientID,this.$router),t.label=3;case 3:return[2]}}))}))},reassignIdentifier:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r=this;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return e.isComplete?[3,2]:[4,Object(u["a"])("Do you want to update missing information?",{header:"Incomplete Demographics"})];case 1:return t=i.sent(),t&&(n="edit_person="+e.patientID,n+="&dde_reassign=true",n+="&doc_id="+e.docID,this.$router.push("/patient/registration?"+n)),[3,3];case 2:this.onAction((function(){return Object(o["b"])(r,void 0,void 0,(function(){var t;return Object(o["d"])(this,(function(n){switch(n.label){case 0:return[4,this.dde.reassignNpid(e.docID,e.patientID)];case 1:return t=n.sent(),t?[4,this.dde.printNpid(e.patientID)]:[3,4];case 2:return n.sent(),[4,Object(_t["b"])(e.patientID,this.$router)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}),"Reassign"),i.label=3;case 3:return[2]}}))}))},buildItems:function(e){var t=this;return e.map((function(e){try{var n=new wt["a"](e);return{isChecked:!1,patientID:n.getID(),name:n.getFullName(),gender:n.getGender(),birthdate:t.toDate(n.getBirthdate()),curDistrict:n.getCurrentDistrict(),homeVillage:n.getHomeVillage(),docID:n.getPatientIdentifier(27),isComplete:n.patientIsComplete()}}catch(r){Object(u["c"])("An error has occured while building data"),console.error(r)}return{isChecked:!1,patientID:"N/A",name:"N/A",gender:"N/A",birthdate:"N/A",curDistrict:"N/A",homeVillage:"N/A",docID:"N/A",isComplete:!1}}))},clear:function(){this.items=this.items.map((function(e){return e.isChecked=!1,e}))},init:function(e){return Object(o["b"])(this,void 0,void 0,(function(){var t,n,r;return Object(o["d"])(this,(function(i){switch(i.label){case 0:return this.dde=new Tt["a"],[4,this.dde.findNpid(e)];case 1:return t=i.sent(),n=t.locals,r=t.remotes,this.items=Object(o["f"])(this.buildItems(n),this.buildItems(r)),[2]}}))}))}}});const sc=v()(cc,[["render",ac]]);var uc=sc,lc=function(){var e=[];return Ro["a"].forEach((function(t){t.appRoutes&&(e=Object(o["f"])(e,t.appRoutes))})),e}(),dc=Object(o["f"])(lc,[{path:"/",redirect:"/home"},{path:"/npid/duplicates/:npid",name:"NPID Duplicates",component:uc},{path:"/home",name:"Home",component:Ee},{name:"View Duplicates",path:"/view_duplicates",component:function(){return n.e("chunk-7bdfcb7a").then(n.bind(null,"7bdc"))}},{name:"Update site location",path:"/location/update/site",component:function(){return n.e("chunk-2d0a4d35").then(n.bind(null,"07a9"))}},{name:"Update site code",path:"/location/update/code",component:function(){return n.e("chunk-2d0b347d").then(n.bind(null,"2867"))}},{path:"/login",name:"Login",component:K},{path:"/search_patient",name:"Search Patient",component:Zt},{path:"/session/date",name:"Session Date",component:qo},{path:"/users/usage",name:"User system usage",component:Jo},{path:"/print/location",name:"Print Location",component:na},{path:"/select_hc_location",name:"HC Location",component:zt},{path:"/search_client",name:"Search client",component:pr},{path:"/patient/dashboard/:id",name:"Patient Dashboard",component:Po},{path:"/patient/registration",name:"Patient Registration",component:Nr},{path:"/guardian/registration/:patient_id",name:"Guardian Registration",component:Tr},{path:"/example",name:"Example",component:Qr},{path:"/patient/search_results",name:"Patient Search results",component:Yr},{path:"/patients/search/id",name:"ID Search",component:ni},{path:"/patients/confirm",name:"Patient confirmation",component:Bt},{path:"/patients/merge",name:"Patient Merging",component:Xa},{path:"/patient/programs/:patient_id",name:"Program(s)",component:fa},{path:"/preferences",name:"Preferences",component:Fo},{path:"/user",name:"User",component:Va},{path:"/settings/host",name:"API host settings",component:la},{path:"/lab/results/:patient_id",name:"Lab Results",component:ya},{path:"/portal/config",name:"Portal settings",component:aa}]),pc=Object(N["a"])({history:Object(N["b"])("/"),routes:dc});pc.beforeEach((function(e,t,n){var r=["/login","/settings/host"];sessionStorage.getItem("apiKey")||r.includes(e.path)||n("/login"),n()}));var bc=pc,hc=Object(r["defineComponent"])({name:"App",components:{IonApp:a["a"],IonRouterOutlet:a["E"],ConnectionError:j},setup:function(){var e=this,t=Object(r["ref"])(!0),n=Object(l["e"])(),i=Object(r["ref"])(!0),d=Object(r["ref"])(null);return(new M).initDateSync(36e5),w.a.configure({easing:"ease",speed:870,trickleSpeed:5}),Object(r["watch"])(n,(function(e){return i.value="API host settings"!=e.name}),{immediate:!0}),Object(r["watch"])(d,(function(e){t.value=!e})),s["a"].on(c["a"].BEFORE_API_REQUEST,(function(){return w.a.start()})),s["a"].on(c["a"].AFTER_API_REQUEST,(function(t){return Object(o["b"])(e,void 0,void 0,(function(){var e;return Object(o["d"])(this,(function(r){switch(r.label){case 0:return d.value?(clearInterval(d.value),d.value=null,[4,Object(u["a"])("Do you want to refresh the page?",{header:"API connection is back"})]):[3,2];case 1:e=r.sent(),e&&location.reload(),r.label=2;case 2:return t&&401===t.status&&"Login"!=n.name&&bc.push("/login"),w.a.done(),[2]}}))}))})),s["a"].on(c["a"].ON_API_CRASH,(function(){d.value||(a["S"].dismiss(),d.value=setInterval((function(){"API host settings"!=n.name&&c["b"].healthCheck()}),2500),Object(u["e"])("Unable to reach api. You can fix the error below")),w.a.done()})),{apiOk:t,notConfigPage:i}}});const fc=v()(hc,[["render",i]]);var mc=fc,gc=n("ae27"),Oc=n.n(gc),vc=n("5a0c"),_c=n.n(vc),jc=(n("4b63"),n("4041"),n("51ef"),n("a237"),n("e09e"),n("46e5"),n("98b6"),n("2d22"),n("66b0"),n("ce1f"),n("1eb2"),n("2fdd"),n("6460"),n("8c28"),Object(r["createApp"])(mc).use(a["O"]).use(bc).use(Oc.a));jc.config.globalProperties.$dayjs=_c.a,bc.isReady().then((function(){jc.mount("#app")}))},cfc5:function(e,t,n){"use strict";n("3abb")},cff5:function(e,t,n){"use strict";n("8a9e")},d10e:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("1c74"),o=function(e){function t(t){var n=e.call(this)||this;return n.person=t,n}return Object(r["c"])(t,e),t.prototype.create=function(){return i["d"].postJson("/people",this.person)},t.prototype.update=function(e){return i["d"].putJson("people/"+e,Object(r["a"])(Object(r["a"])({},this.person),{program_id:i["d"].getProgramID()}))},t.searchFamilyName=function(t){return e.getJson.call(this,"/search/family_name",{search_string:t})},t.searchGivenName=function(t){return e.getJson.call(this,"/search/given_name",{search_string:t})},t}(i["d"])},d11f:function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-236cbe6f"),o=i((function(e,t,n,o,a,c){var s=Object(r["resolveComponent"])("his-text-input"),u=Object(r["resolveComponent"])("ion-label"),l=Object(r["resolveComponent"])("ion-item"),d=Object(r["resolveComponent"])("ion-list"),p=Object(r["resolveComponent"])("view-port"),b=Object(r["resolveComponent"])("his-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(p,{showFull:!e.showKeyboard},{default:i((function(){return[Object(r["createVNode"])(s,{readonly:!e.showKeyboard,value:e.selected,onOnValue:t[1]||(t[1]=function(t){return e.onKbValue(t,e.showKeyboard)})},null,8,["readonly","value"]),Object(r["createVNode"])(d,{class:"view-port-content"},{default:i((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filtered,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(l,{button:"",color:t.label===e.selected?"light":"",key:n,disabled:!(!("disabled"in t)||!t.disabled),onClick:function(n){return e.onselect(t)}},{default:i((function(){return[Object(r["createVNode"])(u,null,{default:i((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","disabled","onClick"])})),128))]})),_:1})]})),_:1},8,["showFull"]),e.showKeyboard?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,kbConfig:e.keyboard,onKeyPress:e.keypress},null,8,["kbConfig","onKeyPress"])):Object(r["createCommentVNode"])("",!0)],64)})),a=(n("4de4"),n("9ab4")),c=n("82a9"),s=n("2ef0"),u=Object(r["defineComponent"])({name:"HisSelect",mixins:[c["a"]],watch:{clear:function(){this.clearSelection()}},activated:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e;return Object(a["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[4,this.setDefaultValue()];case 2:return t.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(a["b"])(this,void 0,void 0,(function(){var e,t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return this.defaultValue?[4,this.defaultValue(this.fdata,this.cdata,this.selected)]:[3,2];case 1:e=n.sent(),e&&(t=Object(s["find"])(this.listData,{label:e})||Object(s["find"])(this.listData,{value:e}),t?this.onselect(t):this.filter=e),n.label=2;case 2:return[2]}}))}))},onselect:function(e){return Object(a["b"])(this,void 0,void 0,(function(){var t;return Object(a["d"])(this,(function(n){switch(n.label){case 0:return this.selected=e.label,this.onValue?[4,this.onValue(e,this)]:[3,2];case 1:if(t=n.sent(),!t)return this.selected="",[2];n.label=2;case 2:return this.$emit("onValue",e),[2]}}))}))}}}),l=(n("1f21"),n("d959")),d=n.n(l);const p=d()(u,[["render",o],["__scopeId","data-v-236cbe6f"]]);t["a"]=p},d1ca:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("ac1f"),n("1276");var r,i=n("9ab4"),o=n("ad49");function a(){return o["a"].isProp(r.CERVICAL_CANCER_SCREENING+"=true")}function c(){return o["a"].isProp(r.VL_ROUTINE_CHECK+"=true")}function s(){return o["a"].isProp(r.FAST_TRACK+"=true")}function u(){return o["a"].isProp(r.THREE_HP_AUTO_SELECT+"=true")}function l(){return o["a"].isProp(r.EXTENDED_LABS+"=true")}function d(){return o["a"].isProp(r.FILING_NUMBERS+"=true")}function p(){return o["a"].isProp(r.DRUG_MANAGEMENT+"=true")}function b(){return o["a"].get(r.HTN_SYSTOLIC_THRESHOLD)}function h(){return o["a"].get(r.HTN_DIASTOLIC_THRESHOLD)}function f(){return o["a"].isProp(r.HTN_ENHANCEMENT+"=true")}function m(){return o["a"].isProp(r.PILLS_REMAINING+"=true")}function g(){return o["a"].get(r.APPOINTMENT_LIMIT)}function O(){return o["a"].get(r.HTN_SCREENING_AGE_THRESHOLD)}function v(){return Object(i["b"])(this,void 0,void 0,(function(){var e,t,n,a;return Object(i["d"])(this,(function(i){switch(i.label){case 0:return[4,o["a"].get(r.CERVICAL_CANCER_AGE_BOUNDS)];case 1:return e=i.sent(),e?(t=e.split(":"),n=t[0],a=t[1],[2,{start:n,end:a}]):[2,{start:-1,end:-1}]}}))}))}function _(){return o["a"].get(r.FILING_NUMBER_LIMIT)}function j(){return o["a"].get(r.FILING_NUMBER_PREFIX)}function y(){return o["a"].get(r.ADULT_CLINIC_DAYS)}function w(){return o["a"].get(r.PEADS_CLINIC_DAYS)}function N(){return o["a"].get(r.CLINIC_HOLIDAYS)}function C(e){return o["a"].set(r.HTN_SCREENING_AGE_THRESHOLD,e)}function V(e){return o["a"].set(r.APPOINTMENT_LIMIT,e)}function D(e){return o["a"].set(r.ADULT_CLINIC_DAYS,e)}function k(e){return o["a"].set(r.PEADS_CLINIC_DAYS,e)}function T(e){return o["a"].set(r.FILING_NUMBER_LIMIT,e)}(function(e){e["EXTENDED_LABS"]="extended_labs",e["VL_ROUTINE_CHECK"]="activate.vl.routine.check",e["PILLS_REMAINING"]="ask.pills.remaining.at.home",e["FILING_NUMBERS"]="use.filing.numbers",e["DRUG_MANAGEMENT"]="activate.drug.management",e["HTN_ENHANCEMENT"]="activate.htn.enhancement",e["FAST_TRACK"]="enable_fast_track",e["THREE_HP_AUTO_SELECT"]="activate_3hp_auto_select",e["APPOINTMENT_LIMIT"]="clinic.appointment.limit",e["HTN_SCREENING_AGE_THRESHOLD"]="htn.screening.age.threshold",e["HTN_SYSTOLIC_THRESHOLD"]="htn.systolic.threshold",e["HTN_DIASTOLIC_THRESHOLD"]="htn.diastolic.threshold",e["PEADS_CLINIC_DAYS"]="peads.clinic.days",e["ADULT_CLINIC_DAYS"]="clinic.days",e["FILING_NUMBER_LIMIT"]="filing.number.limit",e["FILING_NUMBER_PREFIX"]="filing.number.prefix",e["CERVICAL_CANCER_SCREENING"]="activate.cervical.cancer.screening",e["CERVICAL_CANCER_AGE_BOUNDS"]="cervical.cancer.screening.age.bounds",e["CLINIC_HOLIDAYS"]="clinic.holidays"})(r||(r={})),t["b"]={cervicalCancerScreeningAgeBounds:v,systolicThreshold:b,diastolicThreshold:h,htnAgeThreshold:O,setHtnAgeThreshold:C,setFilingNumberLimit:T,setAppointmentLimit:V,filingNumberLimit:_,filingNumberPrefix:j,adultClinicDays:y,peadsClinicDays:w,setAdultClinicDays:D,setPeadsClinicDays:k,filingNumbersEnabled:d,drugManagementEnabled:p,htnEnabled:f,appointmentLimit:g,askPillsRemaining:m,extendedLabEnabled:l,threeHPAutoSelectEnabled:u,VLEnabled:c,fastTrackEnabled:s,cervicalCancerScreeningEnabled:a,clinicHolidays:N}},d1cf:function(e,t,n){},d1e2:function(e,t,n){},d42f:function(e,t,n){"use strict";n("68ed")},d65a:function(e,t,n){"use strict";n("2c0f")},d683:function(e,t,n){},d6aa:function(e,t,n){"use strict";var r=n("7a23"),i={class:"report-content"},o=Object(r["createTextVNode"])("Date Generated: "),a=Object(r["createTextVNode"])("API version: ");function c(e,t,n,c,s,u){var l=Object(r["resolveComponent"])("ion-col"),d=Object(r["resolveComponent"])("ion-row"),p=Object(r["resolveComponent"])("ion-toolbar"),b=Object(r["resolveComponent"])("report-filter"),h=Object(r["resolveComponent"])("ion-header"),f=Object(r["resolveComponent"])("report-table"),m=Object(r["resolveComponent"])("ion-content"),g=Object(r["resolveComponent"])("pagination"),O=Object(r["resolveComponent"])("ion-chip"),v=Object(r["resolveComponent"])("ion-footer"),_=Object(r["resolveComponent"])("his-footer"),j=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(j,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("h1",null,Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{showPerPageFilter:e.showFilters||e.paginated,disableSearchFilter:e.isTableLoading,disablePerPageFilter:e.isTableLoading,totalRowCount:e.tableRows.length,onOnItemsPerPage:t[1]||(t[1]=function(t){return e.itemsPerPage=t}),onOnSearchFilter:t[2]||(t[2]=function(t){return e.searchFilter=t})},null,8,["showPerPageFilter","disableSearchFilter","disablePerPageFilter","totalRowCount"])]})),_:1})]})),_:1}),Object(r["createVNode"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",i,[Object(r["createVNode"])(f,{rows:e.rows,paginated:e.paginated,asyncRows:e.asyncRows,rowParser:e.rowParser,columns:e.columns,showFilters:e.showFilters,newPage:e.currentPage,searchFilter:e.searchFilter,rowsPerPage:e.itemsPerPage,onOnIsLoading:t[3]||(t[3]=function(t){return e.isTableLoading=t}),onOnTableRows:t[4]||(t[4]=function(t){return e.tableRows=t}),onOnPagination:t[5]||(t[5]=function(t){return e.totalPages=t.length}),onOnActiveColumns:t[6]||(t[6]=function(t){return e.activeColumns=t}),onOnActiveRows:t[7]||(t[7]=function(t){return e.activeRows=t})},null,8,["rows","paginated","asyncRows","rowParser","columns","showFilters","newPage","searchFilter","rowsPerPage"])])]})),_:1}),Object(r["createVNode"])(v,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[!e.searchFilter&&e.paginated||!e.searchFilter&&e.totalPages>0&&e.paginated?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,perPage:e.itemsPerPage,maxVisibleButtons:10,totalPages:e.totalPages,onOnChangePage:t[8]||(t[8]=function(t){return e.currentPage=t})},null,8,["perPage","totalPages"])):Object(r["createCommentVNode"])("",!0)]})),_:1}),e.showReportStamp?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{color:"primary"},{default:Object(r["withCtx"])((function(){return[o,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.date),1)]})),_:1}),Object(r["createVNode"])(O,{color:"primary"},{default:Object(r["withCtx"])((function(){return[a,Object(r["createVNode"])("b",null,Object(r["toDisplayString"])(e.apiVersion),1)]})),_:1})]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(_,{color:e.footerColor,btns:e.btns},null,8,["color","btns"])]})),_:1})}n("a9e3");var s=n("9ab4"),u=n("0f25"),l=n("9ceb"),d=n("80e3"),p=n("8a30"),b=n("ba82"),h=n("1c74"),f=n("9283"),m=Object(r["createVNode"])("br",null,null,-1);function g(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-col"),s=Object(r["resolveComponent"])("ion-input"),u=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])((function(){return[e.showPerPageFilter?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0},{default:Object(r["withCtx"])((function(){return[m,Object(r["withDirectives"])(Object(r["createVNode"])("select",{class:"input_display","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.itemsPerPage=t}),disabled:e.disablePerPageFilter},[Object(r["createVNode"])("option",{selected:5===e.itemsPerPage,value:5},"5 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:10===e.itemsPerPage,value:10},"10 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:20===e.itemsPerPage,value:20},"20 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:50===e.itemsPerPage,value:50},"50 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:100===e.itemsPerPage,value:100},"100 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:1e3===e.itemsPerPage,value:1e3},"1000 rows/page",8,["selected"]),Object(r["createVNode"])("option",{selected:e.itemsPerPage===e.totalRowCount,value:e.totalRowCount},"Show all rows("+Object(r["toDisplayString"])(e.totalRowCount)+")",9,["selected","value"])],8,["disabled"]),[[r["vModelSelect"],e.itemsPerPage]])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(c,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{disabled:e.disableSearchFilter,class:"input_display",value:e.searchFilter,onClick:e.launchSearcher,placeholder:"Search here..."},null,8,["disabled","value","onClick"])]})),_:1})]})),_:1})}var O=n("e6e9"),v=n("d95e"),_=Object(r["defineComponent"])({emits:["onItemsPerPage","onSearchFilter"],components:{IonCol:p["m"],IonRow:p["F"],IonInput:p["t"]},props:{totalRowCount:{type:Number,default:15e3},disableSearchFilter:{type:Boolean,default:!1},disablePerPageFilter:{type:Boolean,default:!1},showPerPageFilter:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,i=Object(r["ref"])(50),o=Object(r["ref"])("");function a(e,t){return Object(s["b"])(this,void 0,void 0,(function(){var n;return Object(s["d"])(this,(function(r){switch(r.label){case 0:return[4,p["U"].create({component:O["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})];case 1:return n=r.sent(),n.present(),[2]}}))}))}function c(){a({id:"search",helpText:"Search table data",defaultValue:function(){return o.value},type:v["b"].TT_TEXT},(function(e){o.value=e?e.value:"",n("onSearchFilter",o.value)}))}return Object(r["watch"])(i,(function(t){console.log(e.totalRowCount),"number"===typeof t&&n("onItemsPerPage",t)}),{immediate:!0}),{itemsPerPage:i,searchFilter:o,launchKeyboard:a,launchSearcher:c}}}),j=n("d959"),y=n.n(j);const w=y()(_,[["render",g]]);var N=w,C=(n("b0c0"),Object(r["withScopeId"])("data-v-1a77a30b"));Object(r["pushScopeId"])("data-v-1a77a30b");var V={class:"pagination"},D={class:"btn-group"},k=Object(r["createTextVNode"])(" First "),T=Object(r["createTextVNode"])(" Last ");Object(r["popScopeId"])();var I=C((function(e,t,n,i,o,a){var c=Object(r["resolveComponent"])("ion-button"),s=Object(r["resolveComponent"])("ion-icon");return Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[Object(r["createVNode"])("div",D,[Object(r["createVNode"])(c,{color:"light",onClick:e.setFirstPage,disabled:e.isInFirstPage},{default:C((function(){return[k]})),_:1},8,["onClick","disabled"]),Object(r["createVNode"])(c,{color:"light",onClick:e.prevPage},{default:C((function(){return[Object(r["createVNode"])(s,{icon:e.caretBack},null,8,["icon"])]})),_:1},8,["onClick"]),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.pages,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(c,{onClick:function(t){return e.show()},color:e.isActive?"primary":"light",key:e.index},{default:C((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.name),1)]})),_:2},1032,["onClick","color"])})),128)),Object(r["createVNode"])(c,{color:"light",onClick:e.nextPage},{default:C((function(){return[Object(r["createVNode"])(s,{icon:e.caretForward},null,8,["icon"])]})),_:1},8,["onClick"]),Object(r["createVNode"])(c,{color:"light",onClick:e.setLastPage,disabled:e.isInLastPage},{default:C((function(){return[T]})),_:1},8,["onClick","disabled"])]),Object(r["createVNode"])("h6",null,"Page "+Object(r["toDisplayString"])(e.currentPage+1)+" of "+Object(r["toDisplayString"])(e.totalPages),1)])})),x=n("ff79"),S=Object(r["defineComponent"])({components:{IonIcon:p["r"],IonButton:p["d"]},props:{maxVisibleButtons:{type:Number,required:!1,default:3},totalPages:{type:Number,required:!0}},emits:["onChangePage"],setup:function(e,t){var n=t.emit,i=Object(r["ref"])(0),o=Object(r["computed"])((function(){return 0===i.value})),a=Object(r["computed"])((function(){return i.value===e.totalPages})),c=Object(r["computed"])((function(){return 0===i.value?0:i.value===e.totalPages?e.totalPages-e.maxVisibleButtons:i.value-1})),s=function(e){return n("onChangePage",e)},u=Object(r["computed"])((function(){for(var t=[],n=function(e){t.push({index:e,name:e+1,show:function(){return i.value=e},isActive:e===i.value})},r=c.value;r<=Math.min(c.value+e.maxVisibleButtons-1,e.totalPages-1);r++)n(r);return t}));Object(r["watch"])(e,(function(e){var t=e.totalPages;"number"===typeof t&&(i.value=0)}),{immediate:!0,deep:!0}),Object(r["watch"])(i,(function(e){return s(e)}));var l=function(){return i.value=0},d=function(){return i.value=e.totalPages-1},p=function(){i.value>0&&(i.value-=1)},b=function(){i.value+1<e.totalPages&&(i.value+=1)};return{currentPage:i,caretBack:x["j"],caretForward:x["l"],startPage:c,pages:u,isInFirstPage:o,isInLastPage:a,nextPage:b,prevPage:p,setPage:s,setFirstPage:l,setLastPage:d}}});n("0b24");const P=y()(S,[["render",I],["__scopeId","data-v-1a77a30b"]]);var B=P,A=Object(r["defineComponent"])({components:{IonCol:p["m"],IonRow:p["F"],Pagination:B,ReportTable:d["a"],ReportFilter:N,HisFooter:u["a"],IonPage:p["B"],IonHeader:p["q"],IonContent:p["n"],IonToolbar:p["N"],IonChip:p["l"],IonFooter:p["o"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,default:function(){return[]}},rowParser:{type:Function},showFilters:{type:Boolean,default:!1},rowsPerPage:{type:Number},asyncRows:{type:Function},paginated:{type:Boolean,default:!1},customBtns:{type:Array,default:function(){return[]}},showReportStamp:{type:Boolean,default:!0},footerColor:{type:String,default:"dark"},customFileName:{type:String,default:""},onFinish:{type:Function}},data:function(){return{btns:[],isTableLoading:!1,searchFilter:"",itemsPerPage:50,currentPage:0,tableRows:[],totalPages:0,activeColumns:[],activeRows:[],date:f["a"].toStandardHisDisplayFormat(h["d"].getSessionDate()),apiVersion:h["d"].getApiVersion()}},methods:{getFileName:function(){return this.customFileName?this.customFileName:this.title}},created:function(){var e=this;this.btns=Object(s["f"])(this.customBtns,[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(l["b"])(e.activeColumns,e.activeRows),n=t.columns,r=t.rows;Object(b["a"])(n,r,e.getFileName())}},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(l["b"])(e.activeColumns,e.activeRows),n=t.columns,r=t.rows;Object(b["b"])(n,r,e.getFileName())}},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){if("function"===typeof e.onFinish)return e.onFinish();e.$router.push({path:"/"})}}])}});const E=y()(A,[["render",c]]);t["a"]=E},d95e:function(e,t,n){"use strict";n.d(t,"b",(function(){return To})),n.d(t,"a",(function(){return xo}));var r=n("dd65"),i=n("7a23"),o=Object(i["withScopeId"])("data-v-21ddefcc");Object(i["pushScopeId"])("data-v-21ddefcc");var a={class:"his-floating-keyboard"},c={class:"his-floating-keyboard-content"},s={style:{width:"99.9%"}},u=Object(i["createTextVNode"])(" Space ");Object(i["popScopeId"])();var l=o((function(e,t,n,r,l,d){var p=Object(i["resolveComponent"])("ion-textarea"),b=Object(i["resolveComponent"])("view-port"),h=Object(i["resolveComponent"])("ion-button");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(b,{showFull:!1},{default:o((function(){return[Object(i["createVNode"])(p,{rows:"6",cols:"20",readonly:"",value:e.value,placeholder:"Start typing....",class:"input_display"},null,8,["value"])]})),_:1}),Object(i["createVNode"])("div",a,[Object(i["createVNode"])("div",c,[Object(i["createVNode"])("table",s,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.layout,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("td",{key:n},[Object(i["createVNode"])(h,{style:{"text-transform":"none"},strong:"",onClick:function(n){return e.keypress(t)},class:"key__button "+t.toLowerCase()+"_btn"},{default:o((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t),1)]})),_:2},1032,["onClick","class"])])})),128))])})),128))])]),Object(i["createVNode"])(h,{onClick:t[1]||(t[1]=function(t){return e.keypress("space")}),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:o((function(){return[u]})),_:1})])],64)})),d=(n("d81d"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("9ab4")),p=n("2345"),b=n("0a79"),h=n("51c8"),f=n("2ef0"),m=n("3800"),g=n("8a30"),O=Object(i["defineComponent"])({components:{ViewPort:b["a"],IonButton:g["d"],IonTextarea:g["K"]},mixins:[h["a"]],data:function(){return{value:"",capsOn:!1,layout:m["h"]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return this.$emit("onFieldActivated",this),[4,this.setDefaultValue()];case 1:return e.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return!this.defaultValue||this.value?[3,2]:[4,this.defaultValue(this.fdata,this.cdata)];case 1:e=t.sent(),e&&(Object(f["isPlainObject"])(e)?(this.emitValue(e),this.value=e.value.toString()):(this.value=e,this.emitValue({label:e,value:e}))),t.label=2;case 2:return[2]}}))}))},updateKeyboardCaps:function(e){void 0===e&&(e=!1),this.layout=this.layout.map((function(t){return t.map((function(t){return e?t.toUpperCase():t.toLowerCase()}))}))},emitValue:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.onValue?[4,this.onValue(e)]:[3,2];case 1:if(t=n.sent(),!t)return[2];n.label=2;case 2:return this.value=e.label,this.$emit("onValue",e),[2]}}))}))},onKbValue:function(e){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.emitValue({label:e,value:e})];case 1:return t.sent(),[2]}}))}))},keypress:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return t=Object(p["a"])(this.capsOn?e.toUpperCase():e.toLowerCase(),this.value),t.match(/caps/i)?(this.capsOn=!this.capsOn,this.updateKeyboardCaps(this.capsOn),[2]):[4,this.emitValue({label:t,value:t})];case 1:return n.sent(),[2]}}))}))}},watch:{clear:function(){this.value=""}}}),v=(n("a981"),n("d959")),_=n.n(v);const j=_()(O,[["render",l],["__scopeId","data-v-21ddefcc"]]);var y=j,w=n("d11f"),N=n("0734"),C=n("2fd5"),V=n("6ef9"),D=n("5e75"),k=n("69cf"),T=Object(i["withScopeId"])("data-v-32eca5fb");Object(i["pushScopeId"])("data-v-32eca5fb");var I={class:"view-port-content"};Object(i["popScopeId"])();var x=T((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("regimen-card"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-row"),l=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(l,null,{default:T((function(){return[Object(i["createVNode"])("div",I,[Object(i["createVNode"])(u,null,{default:T((function(){return[Object(i["createVNode"])(s,{"size-md":"6","size-sm":"12"},{default:T((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.leftItems,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{class:"regimen-item",key:n,label:t.label,value:t.value,onOnclick:function(n){return e.onselect(t)},color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["label","value","onOnclick","color"])})),128))]})),_:1}),Object(i["createVNode"])(s,{"size-md":"6","size-sm":"12"},{default:T((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.rightItems,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(c,{class:"regimen-item",key:n,label:t.label,value:t.value,onOnclick:function(n){return e.onselect(t)},color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["label","value","onOnclick","color"])})),128))]})),_:1})]})),_:1})])]})),_:1})})),S=(n("4160"),n("159b"),n("82a9")),P=Object(i["withScopeId"])("data-v-388e601a");Object(i["pushScopeId"])("data-v-388e601a");var B={class:"title"},A={style:{textAlign:"center"}};Object(i["popScopeId"])();var E=P((function(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:"his-card "+e.state,onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.onclick.apply(e,t)})},[Object(i["createVNode"])("table",null,[Object(i["createVNode"])("td",B,Object(i["toDisplayString"])(e.value)+" ",1),Object(i["createVNode"])("td",A,Object(i["toDisplayString"])(e.label),1)])],2)})),F=Object(i["defineComponent"])({props:{showTitle:{type:Boolean,default:!0},enabled:{type:Boolean,default:!0},color:{type:String},label:{type:String,required:!0},value:{type:String,required:!0}},computed:{state:function(){return this.enabled?this.color+" clickable":"disabled-card-color"}},methods:{onclick:function(){this.enabled&&this.$emit("onclick")}}});n("a1cd");const R=_()(F,[["render",E],["__scopeId","data-v-388e601a"]]);var L=R,M=Object(i["defineComponent"])({components:{ViewPort:b["a"],RegimenCard:L,IonRow:g["F"],IonCol:g["m"]},mixins:[S["a"]],watch:{clear:function(e){e&&this.clearSelection()}},computed:{leftItems:function(){return Object(f["isEmpty"])(this.listData)?[]:this.listData[0]},rightItems:function(){return Object(f["isEmpty"])(this.listData)?[]:this.listData[1]}},mounted:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.init(),[2]}))}))},activated:function(){this.$emit("onFieldActivated",this)},methods:{init:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.options(this.fdata)];case 1:return e=t.sent(),this.listData=this.buildList(e),[2]}}))}))},buildList:function(e){var t=[[],[]];return e.forEach((function(e){var n=parseInt(e.value.toString());n<10?t[0].push(e):t[1].push(e)})),t},onselect:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return this.selected=e.label,this.onValue?[4,this.onValue(e)]:[3,2];case 1:if(t=r.sent(),!t)return this.selected="",this.$emit("onValue",null),[2];r.label=2;case 2:return this.onValueUpdate?(n=this,[4,this.onValueUpdate(Object(d["f"])(this.listData),e)]):[3,4];case 3:n.listData=r.sent(),r.label=4;case 4:return this.$emit("onValue",e),[2]}}))}))}}});n("a512");const H=_()(M,[["render",x],["__scopeId","data-v-32eca5fb"]]);var U=H,q=Object(i["withScopeId"])("data-v-9003f376");Object(i["pushScopeId"])("data-v-9003f376");var G={class:"view-port-content"};Object(i["popScopeId"])();var z=q((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("interval-card"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-row"),l=Object(i["resolveComponent"])("ion-label"),d=Object(i["resolveComponent"])("ion-item"),p=Object(i["resolveComponent"])("ion-chip"),b=Object(i["resolveComponent"])("ion-list"),h=Object(i["resolveComponent"])("ion-card-content"),f=Object(i["resolveComponent"])("ion-card"),m=Object(i["resolveComponent"])("ion-grid"),g=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(g,null,{default:q((function(){return[Object(i["createVNode"])("div",G,[Object(i["createVNode"])(m,null,{default:q((function(){return[Object(i["createVNode"])(u,null,{default:q((function(){return[Object(i["createVNode"])(s,{size:"4"},{default:q((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:n},{default:q((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{"size-md":"6","size-sm":"12",key:n},{default:q((function(){return[Object(i["createVNode"])(c,{showTitle:e.config.showRegimenCardTitle,label:t.label,onOnclick:function(n){return e.onselect(t)},enabled:t.other.enabled,color:t.label===e.selected?"active-card-color":"inactive-card-color"},null,8,["showTitle","label","onOnclick","enabled","color"])]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1}),Object(i["createVNode"])(s,{size:"8"},{default:q((function(){return[Object(i["createVNode"])(f,{style:{height:"65vh"}},{default:q((function(){return[e.active.label?(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:0},{default:q((function(){return[Object(i["createVNode"])("h3",null,Object(i["toDisplayString"])(e.active.other.label),1),Object(i["createVNode"])(d,null,{default:q((function(){return[Object(i["createVNode"])(l,null,{default:q((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.active.other.value),1)]})),_:1})]})),_:1}),Object(i["createVNode"])("h3",null,Object(i["toDisplayString"])(e.active.other.other.label),1),Object(i["createVNode"])(b,null,{default:q((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.active.other.other.value,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:t},{default:q((function(){return[Object(i["createVNode"])(l,null,{default:q((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:2},1024),Object(i["createVNode"])(p,{color:"primary",slot:"end"},{default:q((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Y=Object(i["withScopeId"])("data-v-5a25b4b9");Object(i["pushScopeId"])("data-v-5a25b4b9");var W={key:0},K={key:1};Object(i["popScopeId"])();var $=Y((function(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:"his-card "+e.state,onClick:t[1]||(t[1]=function(t){return e.$emit("onclick")})},[e.enabled?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])("s",W,Object(i["toDisplayString"])(e.label),1)),e.enabled?(Object(i["openBlock"])(),Object(i["createBlock"])("div",K,Object(i["toDisplayString"])(e.label),1)):Object(i["createCommentVNode"])("",!0)],2)})),J=Object(i["defineComponent"])({props:{color:{type:String},enabled:{type:Boolean,default:!0},label:{type:String,required:!0}},computed:{state:function(){return this.enabled?"clickable "+this.color:"disabled-card-color"}}});n("3c4b");const X=_()(J,[["render",$],["__scopeId","data-v-5a25b4b9"]]);var Q=X,Z=n("7e73"),ee=Object(i["defineComponent"])({components:{IntervalCard:Q,ViewPort:b["a"],IonGrid:g["p"],IonCard:g["f"],IonCardContent:g["g"]},mixins:[S["a"]],data:function(){return{active:{}}},watch:{clear:function(){this.active={},this.clearSelection()}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.init(),this.$emit("onFieldActivated",this),"next"===this.activationState&&(this.active={},this.clearSelection()),[2]}))}))},mounted:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.init(),[2]}))}))},methods:{init:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.options(this.fdata)];case 1:return e=t.sent(),this.listData=Z["a"].convertArrayToTurples(e),[2]}}))}))},onselect:function(e){this.selected=e.label,this.active=e,this.$emit("onValue",e)}}});n("dc21");const te=_()(ee,[["render",z],["__scopeId","data-v-9003f376"]]);var ne=te,re=Object(i["withScopeId"])("data-v-5d9fc4b0");Object(i["pushScopeId"])("data-v-5d9fc4b0");var ie={class:"view-port-content"};Object(i["popScopeId"])();var oe=re((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("his-table"),s=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(s,null,{default:re((function(){return[Object(i["createVNode"])("div",ie,[Object(i["createVNode"])(c,{columns:e.columns,styles:e.styles,rows:e.rows,rowColors:e.rowColors,cellColors:e.cellColors},null,8,["columns","styles","rows","rowColors","cellColors"])])]})),_:1})})),ae=n("a3a5"),ce=Object(i["defineComponent"])({components:{ViewPort:b["a"],HisTable:ae["a"]},mixins:[h["a"]],data:function(){return{columns:[],rows:[],rowColors:[],cellColors:[],styles:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.$emit("onFieldActivated",this),[4,this.options(this.fdata,this.cdata,this)];case 1:return e=n.sent(),Object(f["isEmpty"])(e)?[2]:(t=e[0].other,this.columns=t.columns,this.rows=t.rows,this.rowColors=t.rowColors,this.cellColors=t.cellColors,this.styles=this.config?this.config.styles:[],[2])}}))}))}});n("5245");const se=_()(ce,[["render",oe],["__scopeId","data-v-5d9fc4b0"]]);var ue=se,le=Object(i["withScopeId"])("data-v-7a9399d6");Object(i["pushScopeId"])("data-v-7a9399d6");var de={class:"view-port-content"},pe={class:"his-table"},be=Object(i["createVNode"])("th",null," Medication",-1),he=Object(i["createTextVNode"])(" Morning "),fe=Object(i["createTextVNode"])(" Noon "),me=Object(i["createTextVNode"])(" Evening "),ge=Object(i["createTextVNode"])(" Frequency "),Oe=Object(i["createVNode"])("option",{value:"Weekly (QW)"}," Weekly ",-1),ve=Object(i["createVNode"])("option",{value:"Daily (QOD)"}," Daily ",-1);Object(i["popScopeId"])();var _e=le((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-img"),s=Object(i["resolveComponent"])("ion-input"),u=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(u,null,{default:le((function(){return[Object(i["createVNode"])("div",de,[Object(i["createVNode"])("table",pe,[Object(i["createVNode"])("tr",null,[be,Object(i["createVNode"])("th",null,[Object(i["createVNode"])(c,{class:"ico",src:e.img("morning")},null,8,["src"]),he]),Object(i["createVNode"])("th",null,[Object(i["createVNode"])(c,{class:"ico",src:e.img("noon")},null,8,["src"]),fe]),Object(i["createVNode"])("th",null,[Object(i["createVNode"])(c,{class:"ico",src:e.img("evening")},null,8,["src"]),me]),Object(i["createVNode"])("th",null,[Object(i["createVNode"])(c,{class:"ico",src:e.img("frequency")},null,8,["src"]),ge])]),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.label),1),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(s,{value:t.other.am,onClick:function(n){return e.launchKeyPad(t,"am")},class:"dosage-input"},null,8,["value","onClick"])]),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(s,{value:t.other.noon,onClick:function(n){return e.launchKeyPad(t,"noon")},class:"dosage-input"},null,8,["value","onClick"])]),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(s,{value:t.other.pm,onClick:function(n){return e.launchKeyPad(t,"pm")},class:"dosage-input"},null,8,["value","onClick"])]),Object(i["createVNode"])("td",null,[Object(i["withDirectives"])(Object(i["createVNode"])("select",{"onUpdate:modelValue":function(e){return t.other.frequency=e},class:"custom-med-frequency"},[Oe,ve],8,["onUpdate:modelValue"]),[[i["vModelSelect"],t.other.frequency]])])])})),128))])])]})),_:1})})),je=(n("4de4"),n("10be")),ye=Object(i["defineComponent"])({components:{ViewPort:b["a"],IonImg:g["s"],IonInput:g["t"]},mixins:[h["a"]],data:function(){return{listData:[]}},watch:{clear:{handler:function(){this.listData=this.listData.filter((function(e){return e.other.am=0,e.other.noon=0,e.other.pm=0,e.other.frequency="Daily (QOD)",!0}))},immediate:!0},listData:{handler:function(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),[4,this.options(this.fdata)];case 1:return e=t.sent(),this.updateListData(e),[2]}}))}))},methods:{img:function(e){return"assets/images/prescription/"+e+".png"},updateListData:function(e){var t=this;this.listData=e.map((function(e){var n=Object(f["find"])(t.listData,{label:e.label,value:e.value});return n||(n||e)}))},launchKeyPad:function(e,t){return Object(d["b"])(this,void 0,void 0,(function(){var n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:je["a"],backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:e.label,preset:e.other[t],strictNumbers:!0,onKeyPress:function(n){e.other[t]=n}}})];case 1:return n=r.sent(),n.present(),[2]}}))}))}}});n("790b");const we=_()(ye,[["render",_e],["__scopeId","data-v-7a9399d6"]]);var Ne=we,Ce=n("71f2"),Ve=n("5fd1"),De=Object(i["withScopeId"])("data-v-0f89768a");Object(i["pushScopeId"])("data-v-0f89768a");var ke={class:"view-port-content"},Te=Object(i["createTextVNode"])("Previous weight"),Ie=Object(i["createTextVNode"])("Lastest weight"),xe=Object(i["createTextVNode"])("Latest weight change"),Se=Object(i["createTextVNode"])("Patient Age"),Pe=Object(i["createTextVNode"])("Patient BMI");Object(i["popScopeId"])();var Be=De((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("apexchart"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-label"),l=Object(i["resolveComponent"])("ion-chip"),d=Object(i["resolveComponent"])("ion-item"),p=Object(i["resolveComponent"])("ion-list"),b=Object(i["resolveComponent"])("ion-row"),h=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(h,null,{default:De((function(){return[Object(i["createVNode"])("div",ke,[Object(i["createVNode"])(b,{class:"parent-row"},{default:De((function(){return[Object(i["createVNode"])(s,{size:"7"},{default:De((function(){return[Object(i["createVNode"])(c,{width:e.width,height:e.height,type:e.type,options:e.chartOptions,series:e.series},null,8,["width","height","type","options","series"])]})),_:1}),Object(i["createVNode"])(s,{size:"5"},{default:De((function(){return[Object(i["createVNode"])(p,null,{default:De((function(){return[Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{class:"title"},{default:De((function(){return[Te]})),_:1}),Object(i["createVNode"])(l,{slot:"end",color:"primary"},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.prevWeight),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{class:"title"},{default:De((function(){return[Ie]})),_:1}),Object(i["createVNode"])(l,{slot:"end",color:"primary"},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.curWeight),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{class:"title"},{default:De((function(){return[xe]})),_:1}),Object(i["withDirectives"])(Object(i["createVNode"])("img",{src:e.stats.weightState,width:"50"},null,8,["src"]),[[i["vShow"],e.stats.weightState]]),Object(i["createVNode"])(l,{slot:"end",color:"primary"},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.curWeightChange),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{class:"title"},{default:De((function(){return[Se]})),_:1}),Object(i["createVNode"])(l,{slot:"end",color:"primary"},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.age),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{class:"title"},{default:De((function(){return[Pe]})),_:1}),Object(i["createVNode"])(l,{slot:"end",color:"primary"},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.bmi.index),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:De((function(){return[Object(i["createVNode"])(u,{style:{"background-color":e.stats.bmi.color,color:"white",padding:"10px","text-align":"center"}},{default:De((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.stats.bmi.result),1)]})),_:1},8,["style"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Ae=(n("b680"),n("1276"),n("ddb0"),Object(i["defineComponent"])({components:{ViewPort:b["a"],IonCol:g["m"],IonRow:g["F"],IonItem:g["u"],IonChip:g["l"]},mixins:[h["a"]],data:function(){return{stats:{prevWeight:"-",curWeight:"-",curWeightChange:"-",weightState:"",age:"-",bmi:{}},type:"area",width:"100%",height:"560px",series:[],chartOptions:{chart:{id:"weight_chart"},title:{text:"Weight trail (2 year period)"},stroke:{curve:"smooth"},yaxis:{title:{text:"Weight Kg(s)"},min:0},xaxis:{categories:[]},dataLabels:{enabled:!0,textAnchor:"start",formatter:function(e,t){var n,r=null===(n=t.w.config.series[0].data[t.dataPointIndex-1])||void 0===n?void 0:n.y;return r&&r>0?(e/r*100-100).toFixed(2)+" %":"0.0%"}}}}},activated:function(){this.$emit("onFieldActivated",this)},methods:{setStats:function(e){var t,n,r=(null===(t=e.values[e.values.length-2])||void 0===t?void 0:t.y)||0,i=(null===(n=e.values[e.values.length-1])||void 0===n?void 0:n.y)||0;if(this.stats.curWeight=i||"-",this.stats.prevWeight=r||"-",this.stats.age=e.age,this.stats.bmi=e.bmi,i>0&&r>0){this.stats.curWeightChange=Math.abs(i/r*100-100).toFixed(2)+" %";var o="/assets/images/drop-up-arrow.svg",a="/assets/images/drop-down-arrow.svg";this.stats.weightState=i>r?o:a}}},created:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,this.options(this.fdata)];case 1:return e=r.sent(),t=e[0].other,n=t.values,this.series=[{name:"Weight",data:n.sort((function(e,t){var n=new Date(e.x),r=new Date(t.x);return n-r})).map((function(e){var t=e.x.split("/"),n=t[0],r=t[1];return{x:n+"."+r,y:e.y}}))}],this.type=t.type?t.type:"area",this.width=t.width?t.width:"100%",this.setStats(t),[2]}}))}))}}));n("cfc5");const Ee=_()(Ae,[["render",Be],["__scopeId","data-v-0f89768a"]]);var Fe=Ee,Re=Object(i["withScopeId"])("data-v-6dcc677d");Object(i["pushScopeId"])("data-v-6dcc677d");var Le={class:"view-port-content"},Me=Object(i["createVNode"])("p",null,null,-1),He={class:"centered his-card"},Ue={class:"keypad"},qe={class:"value-highlight"},Ge={class:"value-highlight"};Object(i["popScopeId"])();var ze=Re((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-row"),s=Object(i["resolveComponent"])("option-button"),u=Object(i["resolveComponent"])("ion-col"),l=Object(i["resolveComponent"])("ion-input"),d=Object(i["resolveComponent"])("ion-button"),p=Object(i["resolveComponent"])("ion-label"),b=Object(i["resolveComponent"])("ion-item"),h=Object(i["resolveComponent"])("ion-list"),f=Object(i["resolveComponent"])("ion-grid"),m=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(m,null,{default:Re((function(){return[Object(i["createVNode"])("div",Le,[Object(i["createVNode"])(f,null,{default:Re((function(){return[e.vitalsStatus?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0,class:"mobile-component-view",style:{width:"100%","background-color":e.vitalsStatus.color,color:"white",padding:"10px",textAlign:"center"}},{default:Re((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.vitalsStatus.status)+" ",1),Me]})),_:1},8,["style"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(c,null,{default:Re((function(){return[Object(i["createVNode"])(u,{size:"2"},{default:Re((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.keys,(function(t,n){return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:n,label:t.label,isActive:e.activeField===n,image:"vitals/"+t.other.icon,onClick:function(t){return e.setActiveField(n)}},null,8,["label","isActive","image","onClick"])),[[i["vShow"],!1!==t.other.visible]])})),128))]})),_:1}),Object(i["createVNode"])(u,{"size-lg":"6","size-sm":"10"},{default:Re((function(){return[Object(i["createVNode"])("div",He,[e.keys.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,type:"text",class:"keypad-input",value:e.keys[e.activeField].value,readonly:!e.isPlatform("desktop")},null,8,["value","readonly"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])("table",Ue,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.keyboard,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("td",{class:"his-keyboard-margin",key:"btn-"+n},[Object(i["createVNode"])(d,{color:"primary",class:"his-keyboard-btn",onClick:function(n){return e.onKeyPress(t)}},{default:Re((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t),1)]})),_:2},1032,["onClick"])])})),128))])})),128))])])]})),_:1}),Object(i["createVNode"])(u,{class:"full-component-view",size:"4"},{default:Re((function(){return[Object(i["createVNode"])(h,null,{default:Re((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.keys,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:n,color:e.activeField===n?"secondary":""},{default:Re((function(){return[Object(i["createVNode"])(p,null,{default:Re((function(){return[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(t.label),1)]})),_:2},1024),Object(i["createVNode"])(p,{slot:"end"},{default:Re((function(){return[Object(i["createVNode"])("span",qe,Object(i["toDisplayString"])(t.value||"-"),1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(t.other.modifier),1)]})),_:2},1024)]})),_:2},1032,["color"])})),128)),e.vitalsStatus&&e.vitalsStatus.value?(Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:0},{default:Re((function(){return[Object(i["createVNode"])(p,null,{default:Re((function(){return[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.vitalsStatus.label),1)]})),_:1}),Object(i["createVNode"])(p,{slot:"end"},{default:Re((function(){return[Object(i["createVNode"])("span",Ge,Object(i["toDisplayString"])(e.vitalsStatus.value),1)]})),_:1})]})),_:1})):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(b,null,{default:Re((function(){return[e.vitalsStatus?(Object(i["openBlock"])(),Object(i["createBlock"])(p,{key:0,style:{"background-color":e.vitalsStatus.color,color:"white",padding:"10px","text-align":"center"}},{default:Re((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.vitalsStatus.status),1)]})),_:1},8,["style"])):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),Ye=(n("caad"),n("b64b"),n("2532"),Object(i["withScopeId"])("data-v-5436bf92")),We=Ye((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("center");return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:"his-card "+e.state+" clickable"},[Object(i["createVNode"])("img",{src:e.icon},null,8,["src"]),Object(i["createVNode"])(c,null,{default:Ye((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:1})],2)})),Ke=Object(i["defineComponent"])({props:{label:{type:String,required:!0},image:{type:String,required:!0},isActive:{type:Boolean,default:!0}},computed:{state:function(){return this.isActive?"active-card-color":"disabled-card-color"},icon:function(){return"assets/images/"+this.image+".png"}}});n("4a99");const $e=_()(Ke,[["render",We],["__scopeId","data-v-5436bf92"]]);var Je=$e,Xe=n("b5e4"),Qe=n("1718"),Ze=Object(i["defineComponent"])({components:{ViewPort:b["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"],OptionButton:Je},mixins:[h["a"]],data:function(){return{keys:[],vitalsStatus:{},activeField:0,keyboard:m["l"],isPlatform:g["R"]}},activated:function(){this.$emit("onFieldActivated",this)},watch:{keys:{handler:function(e){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(t){return this.$emit("onValue",e),[2]}))}))},deep:!0,immediate:!0}},mounted:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,this.options(this.fdata)];case 1:return e.keys=t.sent(),[2]}}))}))},methods:{img:function(e){return Object(Qe["a"])("vitals/"+e+".png")},onKeyPress:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return t=this.keys[this.activeField].value.toString(),e.match(/del/i)?this.keys[this.activeField].value=t.substring(0,t.length-1):e.match(/clear/i)?this.keys[this.activeField].value="":this.keys[this.activeField].value+=e,"function"!==typeof this.config.onUpdateAlertStatus?[3,2]:[4,this.config.onUpdateAlertStatus(this.keys)];case 1:n=r.sent(),Object(f["isPlainObject"])(n)&&Object.keys(n).includes("status")&&(this.vitalsStatus=n||null),r.label=2;case 2:return[2]}}))}))},setActiveField:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:if("function"!==typeof this.config.onChangeOption)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.config.onChangeOption(this.keys[this.activeField])];case 2:return n.sent(),this.activeField=e,[3,4];case 3:return t=n.sent(),Object(Xe["e"])(t),[3,4];case 4:return[2]}}))}))}}});n("b7d9");const et=_()(Ze,[["render",ze],["__scopeId","data-v-6dcc677d"]]);var tt=et,nt={class:"view-port-content"},rt={key:0,class:"appointments"},it=Object(i["createVNode"])("b",null,"Medication Run out Date",-1),ot=Object(i["createVNode"])("br",null,null,-1),at=Object(i["createVNode"])("br",null,null,-1),ct=Object(i["createVNode"])("b",null,"User set appointment date",-1),st=Object(i["createVNode"])("br",null,null,-1),ut=Object(i["createVNode"])("br",null,null,-1),lt=Object(i["createVNode"])("b",null,"Appointment(s)",-1),dt=Object(i["createVNode"])("br",null,null,-1),pt=Object(i["createVNode"])("br",null,null,-1),bt=Object(i["createVNode"])("b",null,"Appointment limit (per/day)",-1),ht=Object(i["createVNode"])("br",null,null,-1),ft=Object(i["createVNode"])("br",null,null,-1);function mt(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("Calendar"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-label"),l=Object(i["resolveComponent"])("ion-item"),d=Object(i["resolveComponent"])("ion-list"),p=Object(i["resolveComponent"])("ion-row"),b=Object(i["resolveComponent"])("ion-grid"),h=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(h,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])("div",nt,[Object(i["createVNode"])(b,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(p,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(s,{size:"8"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(c,{color:"blue",ref:"calendar","is-expanded":"",class:"custom-calendar","min-date":e.sessionDate,"max-date":e.runOutDate,attributes:e.attributes,masks:e.masks,"disable-page-swipe":""},{"day-content":Object(i["withCtx"])((function(t){var n=t.day;return[Object(i["createVNode"])("div",{class:{selected:n.id===e.cDate,isDisabled:n.isDisabled}},[Object(i["createVNode"])("span",{onClick:function(t){return e.dayClicked(n)}},Object(i["toDisplayString"])(n.day),9,["onClick"]),n.id===e.cDate?(Object(i["openBlock"])(),Object(i["createBlock"])("sup",rt,Object(i["toDisplayString"])(e.appointments.length),1)):Object(i["createCommentVNode"])("",!0)],2)]})),_:1},8,["min-date","max-date","attributes","masks"])]})),_:1}),Object(i["createVNode"])(s,{size:"4",class:"his-card"},{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(d,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,null,{default:Object(i["withCtx"])((function(){return[it,ot,at,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.rDate),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,null,{default:Object(i["withCtx"])((function(){return[ct,st,ut,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.rDate),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,null,{default:Object(i["withCtx"])((function(){return[lt,dt,pt,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.appointments.length),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(l,null,{default:Object(i["withCtx"])((function(){return[Object(i["createVNode"])(u,null,{default:Object(i["withCtx"])((function(){return[bt,ht,ft,Object(i["createVNode"])("span",null,Object(i["toDisplayString"])(e.appointmentLimit),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])]})),_:1})}var gt=n("7b37"),Ot=n("9283"),vt=n("83af"),_t=n("d1ca"),jt=Object(i["defineComponent"])({components:{ViewPort:b["a"],Calendar:gt["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"]},mixins:[h["a"]],watch:{startDate:{handler:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){return t=e||Ot["a"].toStandardHisDisplayFormat(this.sessionDate),this.$emit("onValue",{label:"",value:t}),[2]}))}))},immediate:!0}},data:function(){return{rows:[],startDate:null,runOutDate:null,appointments:[],clinicHolidays:[],appointmentLimit:0,sessionDate:null,masks:{weekdays:"WWW"}}},activated:function(){this.$emit("onFieldActivated",this)},created:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getAppointmentLimit()];case 1:return r.sent(),[4,this.getClinicHolidays()];case 2:return r.sent(),[4,this.options(this.fdata)];case 3:return e=r.sent(),this.sessionDate=vt["a"].getSessionDate(),t=e[0].other.appointmentDate,n=this,[4,this.getAppointments(t)];case 4:return n.appointments=r.sent(),this.setDate(t),this.runOutDate=e[0].other.runOutDate?new Date(e[0].other.runOutDate):null,[2]}}))}))},methods:{getAppointments:function(e){return vt["a"].getDailiyAppointments(Ot["a"].toStandardHisFormat(e))},getAppointmentLimit:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,_t["b"].appointmentLimit()];case 1:return e=t.sent(),e&&(this.appointmentLimit=e),[2]}}))}))},getClinicHolidays:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,_t["b"].clinicHolidays()];case 1:return e=t.sent(),e&&(this.clinicHolidays=e.split(",")),[2]}}))}))},isDateAvalaible:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getAppointments(e)];case 1:return t=r.sent(),0!==t.length&&t.length>=this.appointmentLimit?(Object(Xe["e"])("Appointment limit reached for the selected date. Please select another date",3e3),[2,!1]):this.clinicHolidays.includes(Ot["a"].toStandardHisFormat(e))?[4,Object(Xe["a"])("Do you really want to set appointment on a clinic holiday?")]:[3,3];case 2:if(n=r.sent(),!n)return[2,!1];r.label=3;case 3:return this.appointments=t,[2,!0]}}))}))},setDate:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.startDate=new Date(e),t=this.$refs.calendar,[4,t.move(this.startDate)];case 1:return n.sent(),[4,t.focusDate(this.startDate)];case 2:return n.sent(),[2]}}))}))},dayClicked:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return t=!e.isDisabled,t?[4,this.isDateAvalaible(e.id)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return t&&this.setDate(e.id),[2]}}))}))}},computed:{aDate:function(){return Ot["a"].toStandardHisDisplayFormat(this.startDate)},rDate:function(){return Ot["a"].toStandardHisDisplayFormat(this.runOutDate)},cDate:function(){return Ot["a"].toStandardHisFormat(this.startDate)},attributes:function(){return[{highlight:!0,dates:this.aDate}]}}});n("61d5");const yt=_()(jt,[["render",mt]]);var wt=yt,Nt=Object(i["withScopeId"])("data-v-0b0eb878");Object(i["pushScopeId"])("data-v-0b0eb878");var Ct={style:{}};Object(i["popScopeId"])();var Vt=Nt((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-chip"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-row"),l=Object(i["resolveComponent"])("ion-label"),d=Object(i["resolveComponent"])("ion-item"),p=Object(i["resolveComponent"])("ion-list"),b=Object(i["resolveComponent"])("ion-text"),h=Object(i["resolveComponent"])("ion-checkbox"),f=Object(i["resolveComponent"])("ion-grid"),m=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])("div",null,[Object(i["createVNode"])(m,{showFull:!e.showKeyboard,style:{padding:"0"}},{default:Nt((function(){return[Object(i["createVNode"])(f,null,{default:Nt((function(){return[Object(i["createVNode"])(u,null,{default:Nt((function(){return[Object(i["createVNode"])(s,{size:"12"},{default:Nt((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.checkedItems,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:n},[Object(i["createVNode"])(c,{color:"danger",onClick:function(n){return e.uncheck(t)}},{default:Nt((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick"])])})),128))]})),_:1})]})),_:1}),Object(i["createVNode"])(u,null,{default:Nt((function(){return[Object(i["createVNode"])(s,{size:"4"},{default:Nt((function(){return[Object(i["createVNode"])(p,{style:{overflowY:"auto",height:"80vh",margin:0}},{default:Nt((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:n,onClick:function(n){return e.getSpecificComplaints(t.value)},detail:!0,color:e.ActiveCategory===t.label?"light":""},{default:Nt((function(){return[Object(i["createVNode"])(l,null,{default:Nt((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick","color"])})),128))]})),_:1})]})),_:1}),e.ActiveCategory?(Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:0,style:{overflowY:"auto",height:"78vh"}},{default:Nt((function(){return[Object(i["createVNode"])("div",Ct,[Object(i["createVNode"])(p,{class:"view-port-content"},{default:Nt((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.activeCategoryItems,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:n,color:t.isChecked?"light":""},{default:Nt((function(){return[Object(i["createVNode"])(l,null,{default:Nt((function(){return[Object(i["createVNode"])(b,null,{default:Nt((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(h,{slot:"end",modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e},onIonChange:function(n){return e.onselect(t,n)},disabled:null===t||void 0===t?void 0:t.disabled},null,8,["modelValue","onUpdate:modelValue","onIonChange","disabled"])]})),_:2},1032,["color"])})),128))]})),_:1})])]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1},8,["showFull"])])})),Dt=(n("b0c0"),n("331e")),kt=Object(i["defineComponent"])({components:{IonCheckbox:g["k"],IonText:g["J"],IonChip:g["l"]},name:"HisComplaintsPicker",mixins:[S["a"]],data:function(){return{complaintsList:{},ActiveCategory:""}},methods:{onselect:function(e,t){return Object(d["b"])(this,void 0,void 0,(function(){var n=this;return Object(d["d"])(this,(function(r){return this.$nextTick((function(){return Object(d["b"])(n,void 0,void 0,(function(){var n,r,i;return Object(d["d"])(this,(function(o){switch(o.label){case 0:return n=Object(d["a"])({},e),n.isChecked=t.target.checked,this.onValue&&n.isChecked?[4,this.onValue(n)]:[3,2];case 1:if(r=o.sent(),!r)return[2,t.target.checked=!1];o.label=2;case 2:return this.onValueUpdate?(i=this,[4,this.onValueUpdate(Object(d["a"])({},this.complaintsList),n)]):[3,4];case 3:i.complaintsList=o.sent(),o.label=4;case 4:return this.$emit("onValue",this.getChecked(this.complaintsList)),[2]}}))}))})),[2]}))}))},getSpecificComplaints:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return e in this.complaintsList?[3,2]:[4,Dt["a"].getComplaintsList(e)];case 1:t=n.sent(),this.complaintsList[e]=this.mapListToOptions(t,e),n.label=2;case 2:return this.ActiveCategory=e,[2]}}))}))},mapListToOptions:function(e,t){return void 0===t&&(t=""),Object(f["isEmpty"])(e)?[]:e.map((function(e){var n={label:e.name,value:e.name,isChecked:!1,other:e};return t&&(n.other.parent=t),n}))},uncheck:function(e){this.complaintsList[e.other.parent].forEach((function(t){t.label===e.label&&(t.isChecked=!1)}))},getChecked:function(e){var t=[];for(var n in e)t.push.apply(t,e[n].filter((function(e){return e.isChecked})));return t}},computed:{checkedItems:function(){return this.getChecked(this.complaintsList)},activeCategoryItems:function(){return this.complaintsList[this.ActiveCategory]}},watch:{clear:function(){for(var e in this.complaintsList)this.complaintsList[e]=this.complaintsList[e].map((function(e){return e.isChecked=!1,e}))}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),[4,Dt["a"].getComplaintsList("Presenting complaint group")];case 1:return e=t.sent(),this.listData=this.mapListToOptions(e),this.$emit("onValue",this.getChecked(this.complaintsList)),[2]}}))}))}});n("ba89");const Tt=_()(kt,[["render",Vt],["__scopeId","data-v-0b0eb878"]]);var It=Tt,xt=Object(i["withScopeId"])("data-v-bbb8ce9a");Object(i["pushScopeId"])("data-v-bbb8ce9a");var St={class:"view-port-content"},Pt=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,[Object(i["createVNode"])("b",null,"Total Holidays Set")])],-1);Object(i["popScopeId"])();var Bt=xt((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("DatePicker"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-row"),l=Object(i["resolveComponent"])("ion-grid"),d=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(d,null,{default:xt((function(){return[Object(i["createVNode"])("div",St,[Object(i["createVNode"])(l,null,{default:xt((function(){return[Object(i["createVNode"])(u,null,{default:xt((function(){return[Object(i["createVNode"])(s,{size:"9"},{default:xt((function(){return[Object(i["createVNode"])(c,{"is-expanded":"",attributes:e.attributes,"select-attribute":e.selectAttribute,onDayclick:e.onDayClick},null,8,["attributes","select-attribute","onDayclick"])]})),_:1}),Object(i["createVNode"])(s,{size:"3"},{default:xt((function(){return[Object(i["createVNode"])("table",null,[Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,[Pt,Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.totalDays),1)])])])])]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),At=(n("c740"),n("a15b"),n("a434"),Object(i["defineComponent"])({components:{DatePicker:gt["b"],ViewPort:b["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"]},mixins:[h["a"]],watch:{days:{handler:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return Object(f["isEmpty"])(e)?[3,3]:(t=e.map((function(e){return e.date})).join(),this.onValue?[4,this.onValue(t,this)]:[3,2]);case 1:if(n=r.sent(),!n)return[2];r.label=2;case 2:this.$emit("onValue",{label:t,value:t}),r.label=3;case 3:return[2]}}))}))},immediate:!0,deep:!0}},data:function(){return{days:[],selectAttribute:{dot:!0}}},computed:{attributes:function(){return this.days.map((function(e){return{highlight:!0,dates:e.date}}))},totalDays:function(){return this.days.length}},methods:{onDayClick:function(e){var t=this.days.findIndex((function(t){return t.id===e.id}));t>=0?this.days.splice(t,1):this.days.push({id:e.id,date:Ot["a"].toStandardHisFormat(e.date)})}},created:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.defaultValue?[4,this.defaultValue()]:[3,2];case 1:e=t.sent(),this.days=e.split(",").map((function(e){return{id:e,date:e}})),t.label=2;case 2:return[2]}}))}))},activated:function(){this.$emit("onFieldActivated",this)}}));n("7d9b");const Et=_()(At,[["render",Bt],["__scopeId","data-v-bbb8ce9a"]]);var Ft=Et,Rt=Object(i["withScopeId"])("data-v-2e36360d");Object(i["pushScopeId"])("data-v-2e36360d");var Lt={class:"view-port-content"};Object(i["popScopeId"])();var Mt=Rt((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("list"),s=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(s,null,{default:Rt((function(){return[Object(i["createVNode"])("div",Lt,[Object(i["createVNode"])(c,{listData:e.listData},null,8,["listData"])])]})),_:1})})),Ht=Object(i["withScopeId"])("data-v-16420939");Object(i["pushScopeId"])("data-v-16420939");var Ut={key:0};Object(i["popScopeId"])();var qt=Ht((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-label"),s=Object(i["resolveComponent"])("ion-item"),u=Object(i["resolveComponent"])("ion-col"),l=Object(i["resolveComponent"])("ion-row"),d=Object(i["resolveComponent"])("ion-list");return Object(i["openBlock"])(),Object(i["createBlock"])(d,null,{default:Ht((function(){return[e.singleView?(Object(i["openBlock"])(),Object(i["createBlock"])("div",Ut,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:t},{default:Ht((function(){return[Object(i["createVNode"])(c,null,{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:2},1024),Object(i["createVNode"])(c,{class:"lb-value",slot:"end"},{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))])):Object(i["createCommentVNode"])("",!0),e.singleView?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1},{default:Ht((function(){return[Object(i["createVNode"])(u,{"width-50":""},{default:Ht((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.leftLs,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:t},{default:Ht((function(){return[Object(i["createVNode"])(c,null,{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:2},1024),Object(i["createVNode"])(c,{class:"lb-value",slot:"end"},{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1}),Object(i["createVNode"])(u,{"width-50":""},{default:Ht((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.rightLs,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:t},{default:Ht((function(){return[Object(i["createVNode"])(c,null,{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:2},1024),Object(i["createVNode"])(c,{class:"lb-value",slot:"end"},{default:Ht((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1}))]})),_:1})})),Gt=Object(i["defineComponent"])({props:{listData:{type:Object}},data:function(){return{splitFactor:11}},components:{IonList:g["w"],IonLabel:g["v"],IonItem:g["u"]},computed:{leftLs:function(){var e,t=this;return null===(e=this.listData)||void 0===e?void 0:e.filter((function(e,n){return n<t.splitFactor}))},rightLs:function(){var e,t=this;return null===(e=this.listData)||void 0===e?void 0:e.filter((function(e,n){return n>t.splitFactor}))},singleView:function(){var e,t,n=null===(e=this.listData)||void 0===e?void 0:e.length;return n=null===(t=this.listData)||void 0===t?void 0:t.length,!(n>this.splitFactor)}}});n("80b3");const zt=_()(Gt,[["render",qt],["__scopeId","data-v-16420939"]]);var Yt=zt,Wt=Object(i["defineComponent"])({components:{ViewPort:b["a"],list:Yt},mixins:[h["a"]],data:function(){return{listData:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.$emit("onFieldActivated",this),this.listData=this.options(this.fdata,this.cdata),[2]}))}))}});n("958b");const Kt=_()(Wt,[["render",Mt],["__scopeId","data-v-2e36360d"]]);var $t=Kt,Jt=Object(i["withScopeId"])("data-v-db2b18de");Object(i["pushScopeId"])("data-v-db2b18de");var Xt={class:"primary-info"},Qt={class:"view-port-content"},Zt={style:{marginLeft:"3%"}},en={class:"secondary-info"};Object(i["popScopeId"])();var tn=Jt((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(c,null,{default:Jt((function(){return[Object(i["createVNode"])("div",Xt,[Object(i["createVNode"])("ul",null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.titleItems,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{key:t},[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.label)+":",1),Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.value),1)])})),128))])]),Object(i["createVNode"])("div",Qt,[Object(i["createVNode"])("b",Zt,Object(i["toDisplayString"])(e.config.title),1),Object(i["createVNode"])("ul",en,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.bodyItems,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("li",{key:t},Object(i["toDisplayString"])(e.value),1)})),128))])])]})),_:1})})),nn=Object(i["defineComponent"])({components:{ViewPort:b["a"]},mixins:[h["a"]],data:function(){return{listData:[]}},computed:{titleItems:function(){return this.listData.filter((function(e){var t;return"title-section"===(null===(t=e.other)||void 0===t?void 0:t.type)}))},bodyItems:function(){return this.listData.filter((function(e){var t;return"title-section"!=(null===(t=null===e||void 0===e?void 0:e.other)||void 0===t?void 0:t.type)}))}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.$emit("onFieldActivated",this),this.listData=this.options(this.fdata),[2]}))}))}});n("3a35");const rn=_()(nn,[["render",tn],["__scopeId","data-v-db2b18de"]]);var on=rn,an=Object(i["withScopeId"])("data-v-1c13d6ac");Object(i["pushScopeId"])("data-v-1c13d6ac");var cn={class:"view-port-content"},sn={class:"his-card",style:{textAlign:"left"}};Object(i["popScopeId"])();var un=an((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-col"),s=Object(i["resolveComponent"])("ion-row"),u=Object(i["resolveComponent"])("ion-input"),l=Object(i["resolveComponent"])("ion-grid"),d=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(d,null,{default:an((function(){return[Object(i["createVNode"])("div",cn,[Object(i["createVNode"])(l,null,{default:an((function(){return[Object(i["createVNode"])(s,null,{default:an((function(){return[Object(i["createVNode"])(c,{size:"8"},{default:an((function(){var t,n;return[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])((null===(n=null===(t=e.config)||void 0===t?void 0:t.titles)||void 0===n?void 0:n.label)||"Medication"),1)]})),_:1}),Object(i["createVNode"])(c,{size:"4"},{default:an((function(){var t,n;return[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])((null===(n=null===(t=e.config)||void 0===t?void 0:t.titles)||void 0===n?void 0:n.value)||"Amount Remaining"),1)]})),_:1})]})),_:1}),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{key:n},{default:an((function(){return[Object(i["createVNode"])(c,{size:"8"},{default:an((function(){return[Object(i["createVNode"])("div",sn,Object(i["toDisplayString"])(t.label),1)]})),_:2},1024),Object(i["createVNode"])(c,{size:"4"},{default:an((function(){return[Object(i["createVNode"])(u,{value:t.value,onClick:function(n){return e.launchKeyPad(t)},class:"his-card"},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})})),ln=Object(i["defineComponent"])({components:{ViewPort:b["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"],IonInput:g["t"]},mixins:[h["a"]],data:function(){return{listData:[]}},watch:{clear:{handler:function(){this.listData=this.listData.filter((function(e){return e.value="",!0}))},immediate:!0},listData:{handler:function(){this.$emit("onValue",this.listData)},deep:!0,immediate:!0}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata,this.cdata,this.listData)];case 1:return e.listData=t.sent(),[2]}}))}))},methods:{launchKeyPad:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return[4,g["U"].create({component:je["a"],backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{title:e.label,preset:e.value,strictNumbers:!0,onKeyPress:function(t){e.value=t}}})];case 1:return t=n.sent(),t.present(),[2]}}))}))}}});n("9a86");const dn=_()(ln,[["render",un],["__scopeId","data-v-1c13d6ac"]]);var pn=dn,bn=Object(i["withScopeId"])("data-v-4a465573");Object(i["pushScopeId"])("data-v-4a465573");var hn={class:"view-port-content"},fn=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null,"Accession #"),Object(i["createVNode"])("th",null,"Test Name"),Object(i["createVNode"])("th",null,"Specimen"),Object(i["createVNode"])("th",null,"Ordered"),Object(i["createVNode"])("th",null,"Result"),Object(i["createVNode"])("th",null,"Released")],-1),mn=Object(i["createVNode"])("br",null,null,-1);Object(i["popScopeId"])();var gn=bn((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(c,null,{default:bn((function(){return[Object(i["createVNode"])("div",hn,[Object(i["createVNode"])("table",null,[fn,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.rows,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.accession_number),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.test_name),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.specimen),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.HisDate.toStandardHisDisplayFormat(t.ordered)),1),Object(i["createVNode"])("td",null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t.result,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("span",{key:t},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e)+" ",1),mn])})),128))]),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.HisDate.toStandardHisDisplayFormat(t.released)),1)])})),128))])])]})),_:1})})),On=n("c4e4"),vn=Object(i["defineComponent"])({components:{ViewPort:b["a"]},mixins:[h["a"]],data:function(){return{HisDate:Ot["a"],rows:[]}},methods:{formatOrders:function(e){return e.map((function(e){return{accession_number:e.accession_number,test_name:e.tests[0].name,specimen:e.specimen.name,ordered:e.order_date,result:[],release:""}}))},launchOrderSelection:function(e){return void 0===e&&(e=null),Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:On["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{testFilters:e}})];case 1:return t=r.sent(),t.present(),[4,t.onDidDismiss()];case 2:return n=r.sent().data,Object(f["isEmpty"])(n)||(this.rows=Object(d["f"])(this.formatOrders(n),this.rows)),[2]}}))}))}},activated:function(){this.$emit("onFieldActivated",this)},created:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.options(this.fdata)];case 1:return e=t.sent(),this.rows=e[0].other.values,[2]}}))}))}});n("7626");const _n=_()(vn,[["render",gn],["__scopeId","data-v-4a465573"]]);var jn=_n,yn=Object(i["withScopeId"])("data-v-59a29dbb");Object(i["pushScopeId"])("data-v-59a29dbb");var wn={class:"view-port-content"},Nn={key:0,class:"his-card history"},Cn={class:"his-table"},Vn=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null," Medication"),Object(i["createVNode"])("th",null," Date"),Object(i["createVNode"])("th",null," Amount dispensed ")],-1),Dn={key:1,class:"prescription-tab"},kn={class:"prescription-table-section his-card"},Tn={class:"his-table"},In=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null," Medication"),Object(i["createVNode"])("th",null," Amount in stock"),Object(i["createVNode"])("th",null," Amount needed"),Object(i["createVNode"])("th",null," Amount dispensed "),Object(i["createVNode"])("th",null," Reset ")],-1),xn={class:"barcode-section"};Object(i["popScopeId"])();var Sn=yn((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("nav-button"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-input"),l=Object(i["resolveComponent"])("reset-button"),d=Object(i["resolveComponent"])("barcode"),p=Object(i["resolveComponent"])("ion-row"),b=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(b,null,{default:yn((function(){return[Object(i["createVNode"])("div",wn,[Object(i["createVNode"])(p,null,{default:yn((function(){return[Object(i["createVNode"])(s,{size:"2"},{default:yn((function(){return[Object(i["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.tab="prescribe"}),isActive:"prescribe"===e.tab,image:"prescription/rx",label:"Prescribed"},null,8,["isActive"]),Object(i["createVNode"])(c,{onClick:t[2]||(t[2]=function(t){return e.tab="history"}),isActive:"history"===e.tab,image:"prescription/history",label:"History"},null,8,["isActive"])]})),_:1}),Object(i["createVNode"])(s,{size:"10"},{default:yn((function(){return["history"===e.tab?(Object(i["openBlock"])(),Object(i["createBlock"])("div",Nn,[Object(i["createVNode"])("table",Cn,[Vn,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.medicationHistory,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:t},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.medication),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.date),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.amount),1)])})),128))])])):Object(i["createCommentVNode"])("",!0),"prescribe"===e.tab?(Object(i["openBlock"])(),Object(i["createBlock"])("div",Dn,[Object(i["createVNode"])("div",kn,[Object(i["createVNode"])("table",Tn,[In,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.label),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.isStockManagementEnabled&&t.other.available_stock?t.other.available_stock:"-"),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.other.amount_needed),1),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(u,{disabled:t.value>0,value:t.value,onClick:function(n){return t.value<=0?e.launchDispenser(t):null},class:"dosage-input"},null,8,["disabled","value","onClick"])]),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(l,{disabled:t.value<=0,onClick:function(n){return t.value>0?e.onReset(t):null}},null,8,["disabled","onClick"])])])})),128))])]),Object(i["createVNode"])("div",xn,[Object(i["createVNode"])(d,{onOnScan:e.onScan},null,8,["onOnScan"])])])):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})})),Pn=(n("13d5"),n("3ca3"),n("efaf")),Bn=Object(i["withScopeId"])("data-v-7970cd10"),An=Bn((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("center");return Object(i["openBlock"])(),Object(i["createBlock"])("div",{class:e.state},[Object(i["createVNode"])(c,null,{default:Bn((function(){return[Object(i["createVNode"])("img",{src:e.icon},null,8,["src"])]})),_:1})],2)})),En=Object(i["defineComponent"])({props:{label:{type:String,required:!0},disabled:{type:Boolean}},computed:{state:function(){return this.disabled?"disabled-btn":"clickable"},icon:function(){return"assets/images/reset.png"}}});n("de49");const Fn=_()(En,[["render",An],["__scopeId","data-v-7970cd10"]]);var Rn=Fn,Ln=Object(i["withScopeId"])("data-v-0444bd9a");Object(i["pushScopeId"])("data-v-0444bd9a");var Mn={colspan:"6"},Hn=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null,"Total tab(s) needed "),Object(i["createVNode"])("th",{colspan:"2"}," Available stock "),Object(i["createVNode"])("th",{colspan:"2"}," Dispensed "),Object(i["createVNode"])("th")],-1),Un=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th"),Object(i["createVNode"])("th",null," Pack size "),Object(i["createVNode"])("th",null," Packs "),Object(i["createVNode"])("th",null," Total Tab(s)"),Object(i["createVNode"])("th",null," Packs "),Object(i["createVNode"])("th")],-1),qn={class:"btn-list"},Gn=Object(i["createTextVNode"])(" + "),zn=Object(i["createTextVNode"])(" - "),Yn=Object(i["createTextVNode"])(" Close "),Wn=Object(i["createTextVNode"])(" Dispense ");Object(i["popScopeId"])();var Kn=Ln((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-button"),s=Object(i["resolveComponent"])("ion-content"),u=Object(i["resolveComponent"])("ion-toolbar"),l=Object(i["resolveComponent"])("ion-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(s,null,{default:Ln((function(){return[Object(i["createVNode"])("table",null,[Object(i["createVNode"])("thead",null,[Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",Mn,Object(i["toDisplayString"])(e.drugName),1)]),Hn,Un]),Object(i["createVNode"])("tbody",null,[Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",{rowspan:e.amountNeededRowSpan},Object(i["toDisplayString"])(e.tabsNeeded)+" tab(s) ",9,["rowspan"])]),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("td",{key:t,class:t>=2?"input-field":""},Object(i["toDisplayString"])(e),3)})),128)),Object(i["createVNode"])("td",null,[Object(i["createVNode"])("ul",qn,[Object(i["createVNode"])("li",null,[Object(i["createVNode"])(c,{onClick:function(t){return e.incrementAmount(n)},class:"dispense-btn",size:"large"},{default:Ln((function(){return[Gn]})),_:1},8,["onClick"])]),Object(i["createVNode"])("li",null,[Object(i["createVNode"])(c,{onClick:function(t){return e.decrementAmount(n)},class:"dispense-btn",size:"large"},{default:Ln((function(){return[zn]})),_:1},8,["onClick"])])])])])})),128))])])]})),_:1}),Object(i["createVNode"])(l,null,{default:Ln((function(){return[Object(i["createVNode"])(u,null,{default:Ln((function(){return[Object(i["createVNode"])(c,{onClick:e.onClose,color:"danger",size:"large",slot:"end"},{default:Ln((function(){return[Yn]})),_:1},8,["onClick"]),Object(i["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.onDispense(e.dispensedValues)}),disabled:e.totalTabs<=0,color:"success",size:"large",slot:"end"},{default:Ln((function(){return[Wn]})),_:1},8,["disabled"])]})),_:1})]})),_:1})],64)})),$n=Object(i["defineComponent"])({data:function(){return{listData:[],tabsIndex:2,packsIndex:3}},props:{drugName:{type:String,required:!0},tabsNeeded:{type:String,required:!0},items:{type:Array,required:!0},onDispense:{type:Function,required:!0}},computed:{dispensedValues:function(){var e=this;return this.listData.filter((function(t){return t[e.tabsIndex]>0})).map((function(t){return[t[e.tabsIndex],t[e.packsIndex]]}))},amountNeededRowSpan:function(){return this.listData.length+1}},watch:{items:{handler:function(e){e&&(this.listData=Object(d["f"])(e))},deep:!0,immediate:!0}},methods:{onClose:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return[4,g["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))},incrementAmount:function(e){var t=this.listData[e],n=t[0],r=(t[1],t[2]),i=t[3],o=n+r,a=i+1;this.listData[e][2]=o,this.listData[e][3]=a},decrementAmount:function(e){var t=this.listData[e],n=t[0],r=(t[1],t[2]),i=t[3],o=i-1;if(o>=0){var a=r-n;this.listData[e][2]=a,this.listData[e][3]=o}}}});n("c653");const Jn=_()($n,[["render",Kn],["__scopeId","data-v-0444bd9a"]]);var Xn=Jn,Qn=Object(i["defineComponent"])({components:{ViewPort:b["a"],Barcode:Pn["a"],NavButton:Je,ResetButton:Rn,IonRow:g["F"],IonCol:g["m"]},mixins:[h["a"]],data:function(){return{tab:"prescribe",isStockManagementEnabled:!1,listData:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,_t["b"].drugManagementEnabled()];case 1:return e.isStockManagementEnabled=n.sent(),t=this,[4,this.options(this.fdata)];case 2:return t.listData=n.sent(),[2]}}))}))},computed:{medicationHistory:function(){return this.config&&this.config.medicationHistory?this.config.medicationHistory:[]}},methods:{onScan:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n,r,i,o,a=this;return Object(d["d"])(this,(function(c){switch(c.label){case 0:return t=e.split("-"),n=t[0],r=t[1],i=this.listData.map((function(e){return Object(d["b"])(a,void 0,void 0,(function(){var t,i,o;return Object(d["d"])(this,(function(a){switch(a.label){case 0:return e.other.drug_id!==parseInt(n)?[3,2]:(t=parseInt(e.value.toString()),i=parseInt(r),[4,this.updateOnValue(e,i,[],!0)]);case 1:o=a.sent(),o&&(e.value=i+t),a.label=2;case 2:return[2,e]}}))}))})),o=this,[4,Promise.all(i)];case 1:return o.listData=c.sent(),[2]}}))}))},onReset:function(e){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.updateOnValue(e,-1)];case 1:return t.sent(),[2]}}))}))},updateOnValue:function(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),Object(d["b"])(this,void 0,void 0,(function(){var i,o;return Object(d["d"])(this,(function(a){switch(a.label){case 0:return this.onValue?[4,this.onValue({label:e.label,other:Object(d["a"])({dispenses:n},e.other),value:t},r)]:[3,2];case 1:if(i=a.sent(),!i)return[2,!1];a.label=2;case 2:return e.value=t<0?0:t,this.$emit("onValue",e),this.onValueUpdate?(o=this,[4,this.onValueUpdate(e,this.listData)]):[3,4];case 3:o.listData=a.sent(),a.label=4;case 4:return[2,!0]}}))}))},launchDispenser:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:Xn,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{drugName:e.label,tabsNeeded:e.other.amount_needed,items:e.other.pack_sizes,onDispense:function(t){return Object(d["b"])(n,void 0,void 0,(function(){var n,r,i;return Object(d["d"])(this,(function(o){switch(o.label){case 0:return n=0,r=t.reduce((function(e,t){return e+t[n]}),0),[4,this.updateOnValue(e,r,t)];case 1:return i=o.sent(),i?[4,g["U"].dismiss({})]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}}})];case 1:return t=r.sent(),t.present(),[2]}}))}))}}});n("ca96");const Zn=_()(Qn,[["render",Sn],["__scopeId","data-v-59a29dbb"]]);var er=Zn,tr=Object(i["withScopeId"])("data-v-7962b9da");Object(i["pushScopeId"])("data-v-7962b9da");var nr={class:"view-port-content"},rr={key:0,style:{textAlign:"center"}},ir={key:1,class:"his-table"},or=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null,"State"),Object(i["createVNode"])("th",null,"State Date"),Object(i["createVNode"])("th",null,"End Date"),Object(i["createVNode"])("th",null,"Actions")],-1);Object(i["popScopeId"])();var ar=tr((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-label"),s=Object(i["resolveComponent"])("ion-item"),u=Object(i["resolveComponent"])("ion-list"),l=Object(i["resolveComponent"])("ion-col"),d=Object(i["resolveComponent"])("ion-button"),p=Object(i["resolveComponent"])("ion-row"),b=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(b,null,{default:tr((function(){return[Object(i["createVNode"])("div",nr,[Object(i["createVNode"])(p,null,{default:tr((function(){return[Object(i["createVNode"])(l,{size:"4"},{default:tr((function(){return[Object(i["createVNode"])(u,null,{default:tr((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{color:t.label===e.activeProgram.label?"primary":"",key:n,onClick:function(n){return e.onselect(t)},detail:""},{default:tr((function(){return[Object(i["createVNode"])(c,null,{default:tr((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(i["createVNode"])(l,{size:"8"},{default:tr((function(){return[e.activeProgram.label&&e.states.length<=0?(Object(i["openBlock"])(),Object(i["createBlock"])("h3",rr," Program has no states ")):Object(i["createCommentVNode"])("",!0),e.activeProgram.label&&e.states.length>0?(Object(i["openBlock"])(),Object(i["createBlock"])("table",ir,[or,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.states,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.name),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.startDate),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.endDate||"N/A"),1),Object(i["createVNode"])("td",null,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t.actions,(function(t,r){return Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:r,color:t.color,onClick:function(r){return t.action(e.activeProgram,n)}},{default:tr((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.name),1)]})),_:2},1032,["color","onClick"])})),128))])])})),128))])):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})})),cr=Object(i["defineComponent"])({name:"HisSelect",components:{ViewPort:b["a"],IonCol:g["m"],IonRow:g["F"],IonLabel:g["v"],IonList:g["w"],IonButton:g["d"],IonItem:g["u"]},mixins:[h["a"]],watch:{clear:function(e){e&&(this.activeProgram={},this.$emit("onClear"))}},data:function(){return{listData:[],activeProgram:{}}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[2]}}))}))},computed:{states:function(){return Object(f["isEmpty"])(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{formatDate:function(e){return e?Ot["a"].toStandardHisDisplayFormat(e):"N/A"},onselect:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.activeProgram=e,this.onValue?[4,this.onValue(e,this)]:[3,2];case 1:if(t=n.sent(),!t)return this.activeProgram={},[2];n.label=2;case 2:return this.$emit("onValue",e),[2]}}))}))}}});n("b1bd");const sr=_()(cr,[["render",ar],["__scopeId","data-v-7962b9da"]]);var ur=sr,lr=Object(i["withScopeId"])("data-v-1beb1770");Object(i["pushScopeId"])("data-v-1beb1770");var dr={class:"view-port-content"},pr=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,[Object(i["createVNode"])("b",null,"Appointment(s)")])],-1);Object(i["popScopeId"])();var br=lr((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("DatePicker"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-row"),l=Object(i["resolveComponent"])("ion-grid"),d=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(d,null,{default:lr((function(){return[Object(i["createVNode"])("div",dr,[Object(i["createVNode"])(l,null,{default:lr((function(){return[Object(i["createVNode"])(u,null,{default:lr((function(){return[Object(i["createVNode"])(s,{size:"9"},{default:lr((function(){return[Object(i["createVNode"])(c,{"is-expanded":"",modelValue:e.date,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.date=t}),"max-date":e.maxDate,class:"custom-calendar max-w-full"},null,8,["modelValue","max-date"])]})),_:1}),Object(i["createVNode"])(s,{size:"3"},{default:lr((function(){return[Object(i["createVNode"])("table",null,[Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,[pr,Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.appointmentCounter),1)])])])])]})),_:1})]})),_:1})]})),_:1})])]})),_:1})})),hr=n("1c74"),fr=Object(i["defineComponent"])({components:{DatePicker:gt["b"],ViewPort:b["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"]},mixins:[h["a"]],watch:{date:{handler:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return e?(t=Ot["a"].toStandardHisFormat(e),this.onValue?[4,this.onValue(t,this)]:[3,2]):[3,3];case 1:if(n=r.sent(),!n)return[2];r.label=2;case 2:this.$emit("onValue",t),r.label=3;case 3:return[2]}}))}))},immediate:!0}},data:function(){return{date:"",minDate:"",appointmentCounter:0}},created:function(){this.minDate=hr["d"].getSessionDate()},activated:function(){this.$emit("onFieldActivated",this)}});n("06b8"),n("d65a");const mr=_()(fr,[["render",br],["__scopeId","data-v-1beb1770"]]);var gr=mr,Or=Object(i["withScopeId"])("data-v-126e8d03");Object(i["pushScopeId"])("data-v-126e8d03");var vr={class:"large-card"},_r={class:"large-card"};Object(i["popScopeId"])();var jr=Or((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-img"),s=Object(i["resolveComponent"])("ion-avatar"),u=Object(i["resolveComponent"])("ion-label"),l=Object(i["resolveComponent"])("ion-item"),d=Object(i["resolveComponent"])("ion-list"),p=Object(i["resolveComponent"])("ion-col"),b=Object(i["resolveComponent"])("ion-row");return Object(i["openBlock"])(),Object(i["createBlock"])(b,null,{default:Or((function(){return[Object(i["createVNode"])(p,{size:"5"},{default:Or((function(){return[Object(i["createVNode"])("div",vr,[Object(i["createVNode"])("h3",null,Object(i["toDisplayString"])(e.foundRecordsTitle)+" ("+Object(i["toDisplayString"])(e.listData.length)+"): ",1),Object(i["createVNode"])(d,null,{default:Or((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{button:"",key:n,detail:!0,color:t.value===e.selectedResult.value?"light":"",onClick:function(n){return e.onSelect(t)}},{default:Or((function(){return[Object(i["createVNode"])(s,null,{default:Or((function(){return[Object(i["createVNode"])(c,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(i["createVNode"])(u,null,{default:Or((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(i["createVNode"])(p,{size:"7"},{default:Or((function(){return[Object(i["createVNode"])("div",_r,[Object(i["createVNode"])("h3",null,Object(i["toDisplayString"])(e.detailsTitle),1),Object(i["createVNode"])(d,null,{default:Or((function(){var t,n;return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(n=null===(t=e.selectedResult)||void 0===t?void 0:t.other)||void 0===n?void 0:n.options)||[],(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:t,inset:"none"},{default:Or((function(){return[Object(i["createVNode"])(u,null,{default:Or((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.label),1)]})),_:2},1024),Object(i["createVNode"])(u,{slot:"end"},{default:Or((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})})),yr=Object(i["defineComponent"])({mixins:[h["a"]],components:{IonLabel:g["v"],IonAvatar:g["b"],IonRow:g["F"],IonImg:g["s"],IonCol:g["m"],IonList:g["w"],IonItem:g["u"]},data:function(){return{listData:[],selectedResult:{}}},computed:{foundRecordsTitle:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.foundRecordsTitle)||"Found People"},detailsTitle:function(){var e;return(null===(e=this.config)||void 0===e?void 0:e.detailsTitle)||"Details:"}},methods:{onSelect:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return e?this.onValue?[4,this.onValue(e,this)]:[3,2]:[2];case 1:if(t=n.sent(),!t)return[2];n.label=2;case 2:return this.selectedResult=e,this.$emit("onValue",e),[2]}}))}))}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.onSelect({}),this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata,this)];case 1:return e.listData=t.sent(),[2]}}))}))}});n("7e82");const wr=_()(yr,[["render",jr],["__scopeId","data-v-126e8d03"]]);var Nr=wr,Cr=Object(i["withScopeId"])("data-v-e318aba0");Object(i["pushScopeId"])("data-v-e318aba0");var Vr={class:"tool-bar-medium-card"},Dr=Object(i["createTextVNode"])(" Patient "),kr=Object(i["createTextVNode"])("Name: "),Tr=Object(i["createTextVNode"])("Birthdate: "),Ir=Object(i["createTextVNode"])("Home Address: "),xr={class:"tool-bar-medium-card"},Sr=Object(i["createTextVNode"])(" Guardian "),Pr=Object(i["createTextVNode"])("Name: "),Br=Object(i["createTextVNode"])("Birthdate: "),Ar=Object(i["createTextVNode"])("Home Address: "),Er={class:"view-port-content"},Fr=Object(i["createTextVNode"])("Relationship "),Rr=Object(i["createTextVNode"])("Desc ");Object(i["popScopeId"])();var Lr=Cr((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("center"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-icon"),l=Object(i["resolveComponent"])("ion-row"),d=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(d,null,{default:Cr((function(){return[Object(i["createVNode"])(l,null,{default:Cr((function(){return[Object(i["createVNode"])(s,null,{default:Cr((function(){return[Object(i["createVNode"])("div",Vr,[Object(i["createVNode"])(c,{class:"relation-category",style:{color:"#3880ff"}},{default:Cr((function(){return[Dr]})),_:1}),Object(i["createVNode"])("ul",null,[Object(i["createVNode"])("li",null,[kr,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.patient.name),1)]),Object(i["createVNode"])("li",null,[Tr,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.patient.birthdate),1)]),Object(i["createVNode"])("li",null,[Ir,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.patient.homeAddress),1)])])])]})),_:1}),Object(i["createVNode"])(s,{size:"2"},{default:Cr((function(){return[Object(i["createVNode"])(c,{class:"relation-category fa-rotate-45"},{default:Cr((function(){return[Object(i["createVNode"])(u,{icon:e.resize,style:{fontSize:"3em"}},null,8,["icon"])]})),_:1})]})),_:1}),Object(i["createVNode"])(s,null,{default:Cr((function(){return[Object(i["createVNode"])("div",xr,[Object(i["createVNode"])(c,{class:"relation-category",style:{color:"#3dc2ff"}},{default:Cr((function(){return[Sr]})),_:1}),Object(i["createVNode"])("ul",null,[Object(i["createVNode"])("li",null,[Pr,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.guardian.name),1)]),Object(i["createVNode"])("li",null,[Br,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.guardian.birthdate),1)]),Object(i["createVNode"])("li",null,[Ar,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e.guardian.homeAddress),1)])])])]})),_:1})]})),_:1}),Object(i["createVNode"])("div",Er,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.relationList,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:n},{default:Cr((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(s,{size:"6",key:n},{default:Cr((function(){return[Object(i["createVNode"])("div",{class:"his-card clickable "+(e.selected===t.label?"active-card-color":""),onClick:function(n){return e.onClick(t)}},[Object(i["createVNode"])("ul",null,[Object(i["createVNode"])("li",null,[Fr,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(t.label),1)]),Object(i["createVNode"])("li",null,[Rr,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(t.value),1)])])],10,["onClick"])]})),_:2},1024)})),128))]})),_:2},1024)})),128))])]})),_:1})})),Mr=n("ff79"),Hr=Object(i["defineComponent"])({mixins:[h["a"]],components:{ViewPort:b["a"],IonCol:g["m"],IonRow:g["F"],IonIcon:g["r"]},data:function(){return{patient:{},guardian:{},selected:"",listData:[]}},setup:function(){return{resize:Mr["F"]}},computed:{relationList:function(){return Z["a"].convertArrayToTurples(this.listData,2)}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[2]}}))}))},methods:{onClick:function(e){this.selected=e.label,this.$emit("onValue",e)}}});n("c8e9");const Ur=_()(Hr,[["render",Lr],["__scopeId","data-v-e318aba0"]]);var qr=Ur,Gr=Object(i["withScopeId"])("data-v-46eb461a");Object(i["pushScopeId"])("data-v-46eb461a");var zr=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null,"  "),Object(i["createVNode"])("th",null," Name "),Object(i["createVNode"])("th",null," New Number "),Object(i["createVNode"])("th",null," Old Number ")],-1),Yr={class:"f-number f-active-col"},Wr={class:"f-number f-inactive-col"};Object(i["popScopeId"])();var Kr=Gr((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(c,null,{default:Gr((function(){return[Object(i["createVNode"])("table",null,[zr,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:t},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.label),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.value),1),Object(i["createVNode"])("td",null,[Object(i["createVNode"])("div",Yr,Object(i["toDisplayString"])(e.other.activeNumber),1)]),Object(i["createVNode"])("td",null,[Object(i["createVNode"])("div",Wr,Object(i["toDisplayString"])(e.other.dormantNumber),1)])])})),128))])]})),_:1})})),$r=Object(i["defineComponent"])({components:{ViewPort:b["a"]},mixins:[h["a"]],data:function(){return{listData:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata,this.cdata)];case 1:return e.listData=t.sent(),[2]}}))}))}});n("b53b");const Jr=_()($r,[["render",Kr],["__scopeId","data-v-46eb461a"]]);var Xr=Jr,Qr=Object(i["withScopeId"])("data-v-7c5351d3");Object(i["pushScopeId"])("data-v-7c5351d3");var Zr={class:"large-card"},ei=Object(i["createVNode"])("br",null,null,-1),ti=Object(i["createTextVNode"])(" Home District: "),ni=Object(i["createTextVNode"])(),ri=Object(i["createVNode"])("br",null,null,-1),ii=Object(i["createTextVNode"])(" Home TA: "),oi=Object(i["createTextVNode"])(" Score: "),ai={class:"large-card"};Object(i["popScopeId"])();var ci=Qr((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-img"),s=Object(i["resolveComponent"])("ion-avatar"),u=Object(i["resolveComponent"])("ion-label"),l=Object(i["resolveComponent"])("ion-item"),d=Object(i["resolveComponent"])("ion-list"),p=Object(i["resolveComponent"])("ion-col"),b=Object(i["resolveComponent"])("ion-row");return Object(i["openBlock"])(),Object(i["createBlock"])(b,null,{default:Qr((function(){return[Object(i["createVNode"])(p,{size:"5"},{default:Qr((function(){return[Object(i["createVNode"])("div",Zr,[Object(i["createVNode"])("h3",null," Matches found: ("+Object(i["toDisplayString"])(e.listData.length)+"): ",1),Object(i["createVNode"])(d,null,{default:Qr((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{button:"",key:n,detail:!0,color:t.value===e.selectedResult.value?"light":"",onClick:function(n){return e.onSelect(t)}},{default:Qr((function(){return[Object(i["createVNode"])(s,null,{default:Qr((function(){return[Object(i["createVNode"])(c,{src:"/assets/images/avatar.svg"})]})),_:1}),Object(i["createVNode"])(u,null,{default:Qr((function(){var e;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.label)+" ",1),ei,ti,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(t.other.foundPerson.home_district),1),ni,ri,ii,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(t.other.home_traditional_authority),1),oi,Object(i["createVNode"])("b",null,Object(i["toDisplayString"])((null===(e=null===t||void 0===t?void 0:t.other)||void 0===e?void 0:e.score)||"-"),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})])]})),_:1}),Object(i["createVNode"])(p,{size:"7"},{default:Qr((function(){var t,n;return[Object(i["createVNode"])("div",ai,[Object(i["createVNode"])("h1",null," Match score: "+Object(i["toDisplayString"])((null===(n=null===(t=e.selectedResult)||void 0===t?void 0:t.other)||void 0===n?void 0:n.score)||"-"),1),Object(i["createVNode"])(d,null,{default:Qr((function(){var t,n;return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])((null===(n=null===(t=e.selectedResult)||void 0===t?void 0:t.other)||void 0===n?void 0:n.comparisons)||[],(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:t,inset:"none"},{default:Qr((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{color:"danger",key:t},{default:Qr((function(){return[Object(i["createVNode"])("b",null,Object(i["toDisplayString"])(e),1)]})),_:2},1024)})),128))]})),_:2},1024)})),128))]})),_:1})])]})),_:1})]})),_:1})})),si=Object(i["defineComponent"])({mixins:[h["a"]],components:{IonLabel:g["v"],IonAvatar:g["b"],IonRow:g["F"],IonImg:g["s"],IonCol:g["m"],IonList:g["w"],IonItem:g["u"]},data:function(){return{listData:[],selectedResult:{}}},methods:{onSelect:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return e?this.onValue?[4,this.onValue(e,this)]:[3,2]:[2];case 1:if(t=n.sent(),!t)return[2];n.label=2;case 2:return this.selectedResult=e,this.$emit("onValue",e),[2]}}))}))}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata,this)];case 1:return e.listData=t.sent(),this.onSelect(this.listData[0]||{}),[2]}}))}))}});n("7e31");const ui=_()(si,[["render",ci],["__scopeId","data-v-7c5351d3"]]);var li=ui,di=n("374c"),pi=Object(i["withScopeId"])("data-v-66b4d9ff");Object(i["pushScopeId"])("data-v-66b4d9ff");var bi=Object(i["createTextVNode"])("Total Tins"),hi=Object(i["createTextVNode"])("Expiry Date"),fi=Object(i["createTextVNode"])("Batch Number"),mi=Object(i["createTextVNode"])("Add row");Object(i["popScopeId"])();var gi=pi((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("his-text-input"),s=Object(i["resolveComponent"])("ion-item"),u=Object(i["resolveComponent"])("ion-list"),l=Object(i["resolveComponent"])("ion-col"),d=Object(i["resolveComponent"])("ion-label"),p=Object(i["resolveComponent"])("ion-input"),b=Object(i["resolveComponent"])("ion-row"),h=Object(i["resolveComponent"])("ion-button"),f=Object(i["resolveComponent"])("ion-grid"),m=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(m,null,{default:pi((function(){return[Object(i["createVNode"])(c,{readonly:"",value:e.fullSelectedDrugName},null,8,["value"]),Object(i["createVNode"])(f,{style:{background:"white"}},{default:pi((function(){return[Object(i["createVNode"])(b,null,{default:pi((function(){return[Object(i["createVNode"])(l,{size:"4",class:"border-right scroll-list"},{default:pi((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:n},{default:pi((function(){return[Object(i["createVNode"])(s,{detail:"",color:n===e.selectedDrug?"secondary":"",onClick:function(t){return e.selectDrug(n)}},{default:pi((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.shortName+" ("+t.packSizes[0]+")"),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(i["createVNode"])(l,null,{default:pi((function(){return[null!==e.selectedDrug?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:0,class:"scroll-list"},{default:pi((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:n},{default:pi((function(){return[Object(i["createVNode"])(l,null,{default:pi((function(){return[Object(i["createVNode"])(s,null,{default:pi((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:pi((function(){return[bi]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"0",value:t.tins,onClick:function(t){return e.enterTins(n)}},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(l,null,{default:pi((function(){return[Object(i["createVNode"])(s,null,{default:pi((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:pi((function(){return[hi]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"YYYY/MM/DD",value:t.expiry,onClick:function(t){return e.enterExpiry(n)}},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(l,null,{default:pi((function(){return[Object(i["createVNode"])(s,null,{default:pi((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:pi((function(){return[fi]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"e.g. 'ABC-123'",value:t.batchNumber,onClick:function(t){return e.enterBatch(n)}},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128)),Object(i["createVNode"])(b,null,{default:pi((function(){return[Object(i["createVNode"])(l,null,{default:pi((function(){return[Object(i["createVNode"])(h,{onClick:e.addRow,siz:"large"},{default:pi((function(){return[mi]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),Oi=n("e6e9"),vi=n("2706"),_i=n("36ad"),ji=Object(i["defineComponent"])({components:{HisTextInput:_i["a"],ViewPort:b["a"],IonInput:g["t"],IonLabel:g["v"],IonList:g["w"],IonItem:g["u"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"],IonButton:g["d"]},mixins:[h["a"]],data:function(){return{drugs:[],allDrugsByName:[],selectedDrug:null}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return this.$emit("onFieldActivated",this),[4,this.setDefaultValue()];case 1:return e.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return[4,this.options()];case 1:return e=n.sent(),this.drugs=this.drugs.filter((function(t){return e.map((function(e){return e.label})).includes(t.label)})),e.forEach((function(e){var n={tabs:e.value.packSizes[0],tins:null,expiry:null,batchNumber:null},r=Object(d["a"])({label:e.label,entries:[Object(d["a"])({},n),Object(d["a"])({},n),Object(d["a"])({},n)]},e.value),i=Object(f["find"])(t.drugs,{label:e.label});i||t.drugs.push(r)})),this.drugs.length>=1&&this.selectDrug(0),[2]}}))}))},getModalTitle:function(e){return e+" ("+this.drugs[this.selectedDrug].shortName+")"},getDrugValue:function(e,t){return this.drugs[this.selectedDrug].entries[e][t]},setDrugValue:function(e,t,n){this.drugs[this.selectedDrug].entries[e][t]=n?n.value:""},enterTins:function(e){var t=this;this.launchKeyPad({id:"tins",helpText:this.getModalTitle("Enter number of tins"),type:To.TT_NUMBER,defaultValue:function(){return t.getDrugValue(e,"tins")},validation:function(e){return!e||e&&!e.value?null:vi["a"].validateSeries([function(){return vi["a"].isNumber(e)},function(){return e.value<=0?["Number of tins must be greater than 1"]:null}])}},(function(n){return t.setDrugValue(e,"tins",n)}))},enterBatch:function(e){var t=this;this.launchKeyPad({id:"batch",helpText:this.getModalTitle("Enter batch number"),type:To.TT_TEXT,defaultValue:function(){return t.getDrugValue(e,"batchNumber")}},(function(n){var r=Object(d["a"])({},n),i=(""+r.value).toUpperCase();r.label=i,r.value=i,t.setDrugValue(e,"batchNumber",r)}))},enterExpiry:function(e){var t=this;this.launchKeyPad({id:"expiry",helpText:this.getModalTitle("Enter expiry date"),type:To.TT_FULL_DATE,defaultValue:function(){return t.getDrugValue(e,"expiry")},validation:function(e){if(e&&e.value)return new Date(e.value)<new Date(hr["d"].getSessionDate())?["You are not allowed to enter expired drugs"]:null}},(function(n){return t.setDrugValue(e,"expiry",n)}))},launchKeyPad:function(e,t){return Object(d["b"])(this,void 0,void 0,(function(){var n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:Oi["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})];case 1:return n=r.sent(),n.present(),[2]}}))}))},addRow:function(){this.drugs[this.selectedDrug].entries.push({tabs:this.drugs[this.selectedDrug].packSizes[0],tins:null,expiry:null,batchNumber:null})},selectDrug:function(e){this.selectedDrug=e},validateEntry:function(e){return!Object(f["isEmpty"])(e.tins)&&!Object(f["isEmpty"])(e.expiry)&&!Object(f["isEmpty"])(e.batchNumber)}},computed:{fullSelectedDrugName:function(){try{return this.drugs[this.selectedDrug].fullName}catch(e){return"N/A"}},enteredDrugs:function(){var e=this,t=[];return this.drugs.forEach((function(n){var r=n.entries.filter((function(t){return e.validateEntry(t)}));r.forEach((function(e){t.push({label:n.shortName,value:Object(d["a"])(Object(d["a"])({},e),n)})}))})),t}},watch:{clear:function(){this.drugs=this.drugs.map((function(e){return e.entries=e.entries.map((function(e){return e.tins=null,e.expiry=null,e.batchNumber=null,e})),e}))},drugs:{handler:function(){this.$emit("onValue",this.enteredDrugs)},immediate:!0,deep:!0}}});n("0060");const yi=_()(ji,[["render",gi],["__scopeId","data-v-66b4d9ff"]]);var wi=yi,Ni=Object(i["withScopeId"])("data-v-73c1f3b5");Object(i["pushScopeId"])("data-v-73c1f3b5");var Ci={key:0,class:"his-card"},Vi=Object(i["createTextVNode"])("Expiry Date"),Di=Object(i["createTextVNode"])("Available Tins"),ki=Object(i["createTextVNode"])(" Update Stock ");Object(i["popScopeId"])();var Ti=Ni((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("his-text-input"),s=Object(i["resolveComponent"])("ion-item"),u=Object(i["resolveComponent"])("ion-list"),l=Object(i["resolveComponent"])("ion-col"),d=Object(i["resolveComponent"])("ion-label"),p=Object(i["resolveComponent"])("ion-input"),b=Object(i["resolveComponent"])("ion-button"),h=Object(i["resolveComponent"])("ion-row"),f=Object(i["resolveComponent"])("ion-grid"),m=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(m,null,{default:Ni((function(){return[Object(i["createVNode"])(c,{readonly:"",value:e.fullSelectedDrugName},null,8,["value"]),Object(i["createVNode"])(f,{style:{background:"white"}},{default:Ni((function(){return[Object(i["createVNode"])(h,null,{default:Ni((function(){return[Object(i["createVNode"])(l,{size:"4",class:"border-right scroll-list"},{default:Ni((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:n},{default:Ni((function(){return[Object(i["createVNode"])(s,{detail:"",color:n===e.selectedDrug?"secondary":"",onClick:function(t){return e.selectDrug(n)}},{default:Ni((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t.shortName+" ("+t.packSizes[0]+")"),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(i["createVNode"])(l,null,{default:Ni((function(){return[null!==e.selectedDrug?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:0,class:"scroll-list"},{default:Ni((function(){return[e.noStockForDrug?(Object(i["openBlock"])(),Object(i["createBlock"])("h3",Ci," No stock information available for drug")):Object(i["createCommentVNode"])("",!0),(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:n},{default:Ni((function(){return[Object(i["createVNode"])(l,null,{default:Ni((function(){return[Object(i["createVNode"])(s,null,{default:Ni((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:Ni((function(){return[Vi]})),_:1}),Object(i["createVNode"])(p,{readonly:"",value:t.expiry_date},null,8,["value"])]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(l,null,{default:Ni((function(){return[Object(i["createVNode"])(s,null,{default:Ni((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:Ni((function(){return[Di]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"0",value:t.current_quantity,color:t.current_quantity!=t.originalQuantity?"success":""},null,8,["value","color"])]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(l,null,{default:Ni((function(){return[Object(i["createVNode"])(b,{size:"large",onClick:function(t){return e.enterAmount(n)}},{default:Ni((function(){return[ki]})),_:1},8,["onClick"])]})),_:1})]})),_:2},1024)})),128))]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),Ii=n("3d6c"),xi=Object(i["defineComponent"])({components:{ViewPort:b["a"],HisTextInput:_i["a"],IonGrid:g["p"],IonCol:g["m"],IonRow:g["F"],IonButton:g["d"]},mixins:[h["a"]],data:function(){return{drugs:[],selectedDrug:null,stockService:{}}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return this.$emit("onFieldActivated",this),this.stockService=new Ii["a"],[4,this.setDefaultValue()];case 1:return e.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return Object(f["isEmpty"])(this.drugs)?[4,this.options()]:[2];case 1:return e=n.sent(),this.drugs=[],e.forEach((function(e){t.drugs.push(Object(d["a"])({},e.value))})),[2]}}))}))},getModalTitle:function(e){return e+" ("+this.drugs[this.selectedDrug].fullName+")"},getDrugValue:function(e,t){return this.drugs[this.selectedDrug].entries[e][t]},setDrugValue:function(e,t,n){this.drugs[this.selectedDrug].entries[e][t]=n?n.value:""},enterAmount:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t=this;return Object(d["d"])(this,(function(n){return this.launchKeyPad({id:"tins",helpText:this.getModalTitle("Enter number of tins"),type:To.TT_NUMBER,defaultValue:function(){return t.getDrugValue(e,"current_quantity")},validation:function(e){return!e||e&&!e.value?null:vi["a"].validateSeries([function(){return vi["a"].isNumber(e)},function(){return e.value<0?["Number of tins must be greater than 1"]:null}])}},(function(n){t.setDrugValue(e,"current_quantity",n)})),[2]}))}))},launchKeyPad:function(e,t){return Object(d["b"])(this,void 0,void 0,(function(){var n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:Oi["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})];case 1:return n=r.sent(),n.present(),[2]}}))}))},selectDrug:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.selectedDrug=e,"entries"in this.drugs[e]?[3,2]:[4,this.stockService.getItem(this.drugs[this.selectedDrug].drugID)];case 1:t=n.sent(),this.drugs[e]["entries"]=t.map((function(e){return e.originalQuantity=e["current_quantity"],e})),n.label=2;case 2:return[2]}}))}))}},computed:{noStockForDrug:function(){try{return!this.drugs[this.selectedDrug].entries||this.drugs[this.selectedDrug].entries.length<=0}catch(e){return!1}},fullSelectedDrugName:function(){try{return this.drugs[this.selectedDrug].fullName}catch(e){return"N/A"}},enteredDrugs:function(){var e=[];return this.drugs.forEach((function(t){if(t.entries){var n=t.entries.filter((function(e){return e.current_quantity!=e.originalQuantity}));n.forEach((function(n){e.push({label:t.shortname,value:Object(d["a"])(Object(d["a"])({},n),t)})}))}})),e}},watch:{clear:function(){this.drugs=this.drugs.map((function(e){return e.entries?(e.entries=e.entries.map((function(e){return e["current_quantity"]=e.originalQuantity,e})),e):e}))},drugs:{handler:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.$emit("onValue",this.enteredDrugs),[2]}))}))},immediate:!0,deep:!0}}});n("7f47");const Si=_()(xi,[["render",Ti],["__scopeId","data-v-73c1f3b5"]]);var Pi=Si,Bi=Object(i["withScopeId"])("data-v-6a1b1935");Object(i["pushScopeId"])("data-v-6a1b1935");var Ai=Object(i["createTextVNode"])("Total Tins"),Ei=Object(i["createTextVNode"])("Authorisation code");Object(i["popScopeId"])();var Fi=Bi((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("his-text-input"),s=Object(i["resolveComponent"])("ion-item"),u=Object(i["resolveComponent"])("ion-list"),l=Object(i["resolveComponent"])("ion-col"),d=Object(i["resolveComponent"])("ion-label"),p=Object(i["resolveComponent"])("ion-input"),b=Object(i["resolveComponent"])("ion-row"),h=Object(i["resolveComponent"])("ion-grid"),f=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(f,null,{default:Bi((function(){return[Object(i["createVNode"])(c,{readonly:"",value:e.fullSelectedDrugName},null,8,["value"]),Object(i["createVNode"])(h,{style:{background:"white"}},{default:Bi((function(){return[Object(i["createVNode"])(b,null,{default:Bi((function(){return[Object(i["createVNode"])(l,{size:"4",class:"border-right scroll-list"},{default:Bi((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:n},{default:Bi((function(){return[Object(i["createVNode"])(s,{detail:"",color:n===e.selectedDrug?"secondary":"",onClick:function(t){return e.selectDrug(n)}},{default:Bi((function(){var e;return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(""+(null!==(e=t.drug_name)&&void 0!==e?e:t.drug_legacy_name)),1)]})),_:2},1032,["color","onClick"])]})),_:2},1024)})),128))]})),_:1}),Object(i["createVNode"])(l,null,{default:Bi((function(){return[null!==e.selectedDrug?(Object(i["openBlock"])(),Object(i["createBlock"])(h,{key:0,class:"scroll-list"},{default:Bi((function(){return[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.drugs[e.selectedDrug].entries,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])(b,{key:n},{default:Bi((function(){return[Object(i["createVNode"])(l,null,{default:Bi((function(){return[Object(i["createVNode"])(s,null,{default:Bi((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:Bi((function(){return[Ai]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"0",value:t.tins,onClick:function(t){return e.enterTins(n)}},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024),Object(i["createVNode"])(l,null,{default:Bi((function(){return[Object(i["createVNode"])(s,null,{default:Bi((function(){return[Object(i["createVNode"])(d,{position:"floating"},{default:Bi((function(){return[Ei]})),_:1}),Object(i["createVNode"])(p,{readonly:"",placeholder:"***********",value:t.authorization,onClick:function(t){return e.enterAuth(n)}},null,8,["value","onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),Ri=(n("fb6a"),n("a9e3"),n("25eb"),function(){function e(){var e=this;this.BASE30_DIGITS_INDEX={},this.BASE30_DIGITS="0123456789ABCDEFGHJKLMNPRTVWXY".split(""),this.BASE30_DIGITS.forEach((function(t,n){return e.BASE30_DIGITS_INDEX[t]=n}))}return e.prototype.convertFromDecimal=function(e,t){if(void 0===t&&(t=30),t<2||t>30)throw"Invalid base ${toBase}";var n="";while(e>0)n=this.BASE30_DIGITS[e%t]+n,e=Math.floor(e/t);return n},e.calculateLuhnCheckDigit=function(e){var t=e.toString().split("").map((function(e){return Number.parseInt(e,10)})),n=t.length%2,r=0;t.forEach((function(e,t){t%2===n&&(e*=2),e>9&&(e-=9),r+=e}));var i=r%10;return 0===i?0:10-i},e.prototype.isValidDHACode=function(t){try{var n=this.convertToDecimal(t).toString(),r=(Number.parseInt(n[0],10),e.calculateLuhnCheckDigit(10*Number.parseInt(n,10)));return 0===r}catch(i){return console.error(i),!1}},e.prototype.convertToDecimal=function(e){if(0==e.length)return 0;var t=this.BASE30_DIGITS_INDEX[e[0]];if(void 0===t||null===t)throw"Invalid base ${fromBase} number: ${number}";return t*Math.pow(30,e.length-1)+this.convertToDecimal(e.slice(1))},e}()),Li=Object(i["defineComponent"])({components:{ViewPort:b["a"],IonGrid:g["p"],IonList:g["w"],IonCol:g["m"],IonRow:g["F"],IonItem:g["u"],HisTextInput:_i["a"]},mixins:[h["a"]],data:function(){return{drugs:[],selectedDrug:null}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return this.$emit("onFieldActivated",this),[4,this.setDefaultValue()];case 1:return e.sent(),[2]}}))}))},methods:{setDefaultValue:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return[4,this.options()];case 1:return e=n.sent(),this.drugs=this.drugs.filter((function(t){return e.map((function(e){return e.label})).includes(t.label)})),e.forEach((function(e){var n={tins:null,authorization:null},r=Object(d["a"])({label:e.label,entries:[Object(d["a"])({},n)]},e.value),i=Object(f["find"])(t.drugs,{label:e.label});i||t.drugs.push(r)})),this.drugs.length>=1&&this.selectDrug(0),[2]}}))}))},getModalTitle:function(e){return e+" ("+this.drugs[this.selectedDrug].label+")"},getDrugValue:function(e,t){return this.drugs[this.selectedDrug].entries[e][t]},setDrugValue:function(e,t,n){this.drugs[this.selectedDrug].entries[e][t]=n?n.value:""},enterAuth:function(e){var t=this;this.launchKeyPad({id:"auth",helpText:this.getModalTitle("Enter Authorization"),type:To.TT_TEXT,defaultValue:function(){return t.getDrugValue(e,"authorization")},validation:function(e){if(!e||e&&!e.value)return null;var t=e.value,n=new Ri;return n.isValidDHACode(t.toUpperCase())?null:["Invalid authorization code"]}},(function(n){var r=Object(d["a"])({},n);r.value=(""+n.value).toUpperCase(),r.label=(""+n.label).toUpperCase(),t.setDrugValue(e,"authorization",r)}))},enterTins:function(e){var t=this;this.launchKeyPad({id:"tins",helpText:this.getModalTitle("Enter number of tins"),type:To.TT_NUMBER,defaultValue:function(){return t.getDrugValue(e,"tins")},validation:function(e){return!e||e&&!e.value?null:vi["a"].validateSeries([function(){return vi["a"].isNumber(e)},function(){return e.value<=0?["Number of tins must be greater than 1"]:null}])}},(function(n){return t.setDrugValue(e,"tins",n)}))},launchKeyPad:function(e,t){return Object(d["b"])(this,void 0,void 0,(function(){var n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:Oi["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})];case 1:return n=r.sent(),n.present(),[2]}}))}))},selectDrug:function(e){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(t){return this.selectedDrug=e,[2]}))}))},validateEntry:function(e){return!Object(f["isEmpty"])(e.tins)&&!Object(f["isEmpty"])(e.authorization)}},computed:{fullSelectedDrugName:function(){try{return this.drugs[this.selectedDrug].label}catch(e){return"N/A"}},enteredDrugs:function(){var e=this,t=[];return this.drugs.forEach((function(n){if(n.entries){var r=n.entries.filter((function(t){return e.validateEntry(t)}));r.forEach((function(e){t.push({label:n.shortname,value:Object(d["a"])(Object(d["a"])({},e),n)})}))}})),t}},watch:{clear:function(){this.drugs=this.drugs.map((function(e){return e.entries=e.entries.map((function(e){return e.tins=null,e.authorization=null,e})),e}))},drugs:{handler:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){return this.$emit("onValue",this.enteredDrugs),[2]}))}))},immediate:!0,deep:!0}}});n("31b7");const Mi=_()(Li,[["render",Fi],["__scopeId","data-v-6a1b1935"]]);var Hi=Mi,Ui=n("2a82"),qi=Object(i["withScopeId"])("data-v-5b4dbb06");Object(i["pushScopeId"])("data-v-5b4dbb06");var Gi={class:"center"},zi={class:"text"};Object(i["popScopeId"])();var Yi=qi((function(e,t,n,r,o,a){return Object(i["openBlock"])(),Object(i["createBlock"])("div",Gi,[Object(i["createVNode"])("p",zi,Object(i["toDisplayString"])(e.value),1)])})),Wi=Object(i["defineComponent"])({mixins:[h["a"]],data:function(){return{value:""}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.options()];case 1:return e=t.sent(),this.value=e[0].value,[2]}}))}))}});n("f379");const Ki=_()(Wi,[["render",Yi],["__scopeId","data-v-5b4dbb06"]]);var $i=Ki,Ji=Object(i["withScopeId"])("data-v-b3c75404");Object(i["pushScopeId"])("data-v-b3c75404");var Xi={class:"view-port-content"},Qi={key:0,class:"his-card history"},Zi={class:"his-table"},eo=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null," Medication"),Object(i["createVNode"])("th",null," Date"),Object(i["createVNode"])("th",null," Amount dispensed ")],-1),to={key:1,class:"prescription-tab"},no={class:"prescription-table-section his-card"},ro={class:"his-table"},io=Object(i["createVNode"])("tr",null,[Object(i["createVNode"])("th",null," Medication"),Object(i["createVNode"])("th",null," Amount needed"),Object(i["createVNode"])("th",null," Amount dispensed "),Object(i["createVNode"])("th",null," Reset ")],-1),oo={class:"barcode-section"};Object(i["popScopeId"])();var ao=Ji((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("nav-button"),s=Object(i["resolveComponent"])("ion-col"),u=Object(i["resolveComponent"])("ion-input"),l=Object(i["resolveComponent"])("reset-button"),d=Object(i["resolveComponent"])("barcode"),p=Object(i["resolveComponent"])("ion-row"),b=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(b,null,{default:Ji((function(){return[Object(i["createVNode"])("div",Xi,[Object(i["createVNode"])(p,null,{default:Ji((function(){return[Object(i["createVNode"])(s,{size:"2"},{default:Ji((function(){return[Object(i["createVNode"])(c,{onClick:t[1]||(t[1]=function(t){return e.tab="prescribe"}),isActive:"prescribe"===e.tab,image:"prescription/rx",label:"Prescribed"},null,8,["isActive"]),Object(i["createVNode"])(c,{onClick:t[2]||(t[2]=function(t){return e.tab="history"}),isActive:"history"===e.tab,image:"prescription/history",label:"History"},null,8,["isActive"])]})),_:1}),Object(i["createVNode"])(s,{size:"10"},{default:Ji((function(){return["history"===e.tab?(Object(i["openBlock"])(),Object(i["createBlock"])("div",Qi,[Object(i["createVNode"])("table",Zi,[eo,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.medicationHistory,(function(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:t},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.medication),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.date),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(e.amount),1)])})),128))])])):Object(i["createCommentVNode"])("",!0),"prescribe"===e.tab?(Object(i["openBlock"])(),Object(i["createBlock"])("div",to,[Object(i["createVNode"])("div",no,[Object(i["createVNode"])("table",ro,[io,(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.listData,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.label),1),Object(i["createVNode"])("td",null,Object(i["toDisplayString"])(t.other.amount_needed),1),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(u,{disabled:t.value>0,value:t.value,onClick:function(n){return t.value<=0?e.launchDispenser(t):null},class:"dosage-input"},null,8,["disabled","value","onClick"])]),Object(i["createVNode"])("td",null,[Object(i["createVNode"])(l,{disabled:t.value<=0,onClick:function(n){return t.value>0?e.onReset(t):null}},null,8,["disabled","onClick"])])])})),128))])]),Object(i["createVNode"])("div",oo,[Object(i["createVNode"])(d,{onOnScan:e.onScan},null,8,["onOnScan"])])])):Object(i["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})})),co=Object(i["withScopeId"])("data-v-0d5bc218");Object(i["pushScopeId"])("data-v-0d5bc218");var so={class:"",style:{border:".1rem solid #c2c2c2c2"}},uo={class:"keypad"},lo=Object(i["createVNode"])("b",null,"Medication: ",-1),po=Object(i["createVNode"])("b",null,"Amount needed: ",-1),bo=Object(i["createVNode"])("b",null,"Amount Dispensed: ",-1),ho=Object(i["createTextVNode"])(" Close "),fo=Object(i["createTextVNode"])(" Dispense ");Object(i["popScopeId"])();var mo=co((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("ion-input"),s=Object(i["resolveComponent"])("ion-button"),u=Object(i["resolveComponent"])("ion-col"),l=Object(i["resolveComponent"])("ion-label"),d=Object(i["resolveComponent"])("ion-item"),p=Object(i["resolveComponent"])("ion-list"),b=Object(i["resolveComponent"])("ion-row"),h=Object(i["resolveComponent"])("ion-grid"),f=Object(i["resolveComponent"])("ion-content"),m=Object(i["resolveComponent"])("ion-toolbar"),g=Object(i["resolveComponent"])("ion-footer");return Object(i["openBlock"])(),Object(i["createBlock"])(i["Fragment"],null,[Object(i["createVNode"])(f,null,{default:co((function(){return[Object(i["createVNode"])(h,null,{default:co((function(){return[Object(i["createVNode"])(b,null,{default:co((function(){return[Object(i["createVNode"])(u,{size:"5"},{default:co((function(){return[Object(i["createVNode"])("div",so,[Object(i["createVNode"])(c,{type:"text",class:"keypad-input",value:e.amount},null,8,["value"]),Object(i["createVNode"])("table",uo,[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(e.keyboard,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("tr",{key:n},[(Object(i["openBlock"])(!0),Object(i["createBlock"])(i["Fragment"],null,Object(i["renderList"])(t,(function(t,n){return Object(i["openBlock"])(),Object(i["createBlock"])("td",{class:"his-keyboard-margin",key:"btn-"+n},[Object(i["createVNode"])(s,{color:"primary",class:"his-keyboard-btn",onClick:function(n){return e.onKeyPress(t)}},{default:co((function(){return[Object(i["createTextVNode"])(Object(i["toDisplayString"])(t),1)]})),_:2},1032,["onClick"])])})),128))])})),128))])])]})),_:1}),Object(i["createVNode"])(u,{size:"7"},{default:co((function(){return[Object(i["createVNode"])(p,null,{default:co((function(){return[Object(i["createVNode"])(d,null,{default:co((function(){return[Object(i["createVNode"])(l,null,{default:co((function(){return[lo,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.drugName),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:co((function(){return[Object(i["createVNode"])(l,null,{default:co((function(){return[po,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.amountNeeded),1)]})),_:1})]})),_:1}),Object(i["createVNode"])(d,null,{default:co((function(){return[Object(i["createVNode"])(l,null,{default:co((function(){return[bo,Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.amount.length?e.amount:0),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(i["createVNode"])(g,null,{default:co((function(){return[Object(i["createVNode"])(m,null,{default:co((function(){return[Object(i["createVNode"])(s,{onClick:e.onClose,color:"danger",size:"large",slot:"start"},{default:co((function(){return[ho]})),_:1},8,["onClick"]),Object(i["createVNode"])(s,{onClick:t[1]||(t[1]=function(t){return e.onDispense(e.amount)}),disabled:e.amount.length<=0,color:"success",size:"large",slot:"end"},{default:co((function(){return[fo]})),_:1},8,["disabled"])]})),_:1})]})),_:1})],64)})),go=Object(i["defineComponent"])({data:function(){return{amount:"",keyboard:m["e"]}},props:{drugName:{type:String,required:!0},amountNeeded:{type:String,required:!0},onDispense:{type:Function,required:!0}},methods:{onKeyPress:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t;return Object(d["d"])(this,(function(n){return t=this.amount,e.match(/del/i)?this.amount=t.substring(0,t.length-1):e.match(/clear/i)?this.amount="":e.match(/close/i)?this.onClose():e.match(/reset/i)?this.amount="":e.match(/dispense/i)?(this.amount&&this.onDispense(this.amount),this.onClose()):this.amount+=e,[2]}))}))},onClose:function(){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(e){switch(e.label){case 0:return[4,g["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))}}});n("69b6");const Oo=_()(go,[["render",mo],["__scopeId","data-v-0d5bc218"]]);var vo=Oo,_o=Object(i["defineComponent"])({components:{ViewPort:b["a"],Barcode:Pn["a"],NavButton:Je,ResetButton:Rn,IonRow:g["F"],IonCol:g["m"]},mixins:[h["a"]],data:function(){return{tab:"prescribe",listData:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e;return Object(d["d"])(this,(function(t){switch(t.label){case 0:return this.$emit("onFieldActivated",this),e=this,[4,this.options(this.fdata)];case 1:return e.listData=t.sent(),[2]}}))}))},computed:{medicationHistory:function(){return this.config&&this.config.medicationHistory?this.config.medicationHistory:[]}},methods:{onScan:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n,r,i,o,a=this;return Object(d["d"])(this,(function(c){switch(c.label){case 0:return t=e.split("-"),n=t[0],r=t[1],i=this.listData.map((function(e){return Object(d["b"])(a,void 0,void 0,(function(){var t,i,o;return Object(d["d"])(this,(function(a){switch(a.label){case 0:return e.other.drug_id!==parseInt(n)?[3,2]:(t=parseInt(e.value.toString()),i=parseInt(r),[4,this.updateOnValue(e,i,[],!0)]);case 1:o=a.sent(),o&&(e.value=i+t),a.label=2;case 2:return[2,e]}}))}))})),o=this,[4,Promise.all(i)];case 1:return o.listData=c.sent(),[2]}}))}))},onReset:function(e){return Object(d["b"])(this,void 0,void 0,(function(){return Object(d["d"])(this,(function(t){switch(t.label){case 0:return[4,this.updateOnValue(e,-1)];case 1:return t.sent(),[2]}}))}))},updateOnValue:function(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=!1),Object(d["b"])(this,void 0,void 0,(function(){var i,o;return Object(d["d"])(this,(function(a){switch(a.label){case 0:return this.onValue?[4,this.onValue({label:e.label,other:Object(d["a"])({dispenses:n},e.other),value:t},r)]:[3,2];case 1:if(i=a.sent(),!i)return[2,!1];a.label=2;case 2:return e.value=t<0?0:t,this.$emit("onValue",e),this.onValueUpdate?(o=this,[4,this.onValueUpdate(e,this.listData)]):[3,4];case 3:o.listData=a.sent(),a.label=4;case 4:return[2,!0]}}))}))},launchDispenser:function(e){return Object(d["b"])(this,void 0,void 0,(function(){var t,n=this;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,g["U"].create({component:vo,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{drugName:e.label,amountNeeded:e.other.amount_needed,onDispense:function(t){return Object(d["b"])(n,void 0,void 0,(function(){var n;return Object(d["d"])(this,(function(r){switch(r.label){case 0:return[4,this.updateOnValue(e,t)];case 1:return n=r.sent(),n?[4,g["U"].dismiss({})]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}}})];case 1:return t=r.sent(),t.present(),[2]}}))}))}}});n("cff5");const jo=_()(_o,[["render",ao],["__scopeId","data-v-b3c75404"]]);var yo=jo,wo=Object(i["withScopeId"])("data-v-5ed27a5c");Object(i["pushScopeId"])("data-v-5ed27a5c");var No={class:"view-port-content"};Object(i["popScopeId"])();var Co=wo((function(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("his-table"),s=Object(i["resolveComponent"])("view-port");return Object(i["openBlock"])(),Object(i["createBlock"])(s,null,{default:wo((function(){return[Object(i["createVNode"])("div",No,[Object(i["createVNode"])(c,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])])]})),_:1})})),Vo=n("80e3"),Do=Object(i["defineComponent"])({components:{ViewPort:b["a"],HisTable:Vo["a"]},mixins:[h["a"]],data:function(){return{columns:[],rows:[]}},activated:function(){return Object(d["b"])(this,void 0,void 0,(function(){var e,t;return Object(d["d"])(this,(function(n){switch(n.label){case 0:return this.$emit("onFieldActivated",this),"function"!==typeof this.config.columns?[3,2]:(e=this,[4,this.config.columns(this.fdata,this.cdata)]);case 1:e.columns=n.sent(),n.label=2;case 2:return"function"!==typeof this.config.rows?[3,4]:(t=this,[4,this.config.rows(this.fdata,this.cdata)]);case 3:t.rows=n.sent(),n.label=4;case 4:return[2]}}))}))}});n("37c7");const ko=_()(Do,[["render",Co],["__scopeId","data-v-5ed27a5c"]]);var To,Io=ko;(function(e){e["TT_DATA_TABLE"]="HisDataTable",e["TT_NOTE"]="NoteInput",e["TT_BARCODE"]="BarcodeInput",e["TT_MONTHLY_DAYS"]="monthly-days",e["TT_TEXT"]="text-input",e["TT_NUMBER"]="number-input",e["TT_DATETIME"]="datetime",e["TT_SELECT"]="single-select",e["TT_MULTIPLE_SELECT"]="multiple-select",e["TT_ART_REGIMEN_SELECTION"]="art-regimen-selection",e["TT_NEXT_VISIT_INTERVAL_SELECTION"]="next-visit-interval",e["TT_TABLE_VIEWER"]="table-viewer",e["TT_DOSAGE_INPUT"]="dosage-input",e["TT_YES_NO"]="yes-no",e["TT_MULTIPLE_YES_NO"]="multi-yes-no",e["TT_SUMMARY"]="summary-page",e["TT_WEIGHT_CHART"]="weight-chart",e["TT_VITALS_ENTRY"]="vitals-entry",e["TT_ADHERENCE_INPUT"]="adherence-input",e["TT_ART_STAGING_SUMMARY"]="art-staging-summary",e["TT_LAB_ORDERS"]="lab-orders",e["TT_APPOINTMENTS_ENTRY"]="appointments-entry",e["TT_DISPENSATION_INPUT"]="dispensation-input",e["TT_PROGRAM_SELECTION"]="ProgamSelection",e["TT_APPOINTMENT_PICKER"]="appointment-picker",e["TT_PERSON_RESULT_VIEW"]="PersonSearchView",e["TT_RELATION_SELECTION"]="RelationSelection",e["TT_FILING_NUMBER_VIEW"]="FilingNumberView",e["TT_CARD_SELECTOR"]="SingleSelectCards",e["TT_PERSON_MATCH_VIEW"]="PersonMatchView",e["TT_FULL_DATE"]="date-input",e["TT_BATCH_ENTRY"]="batch-entry",e["TT_BATCH_VERIFICATION"]="batch-verification",e["TT_BATCH_MOVEMENT"]="batch-movement",e["TT_COMPLAINTS_PICKER"]="complaints-picker",e["TT_IP_ADDRESS"]="IPAddressInput",e["TT_TEXT_BANNER"]="text-banner",e["TT_DRUG_DISPENSER"]="drug-dispenser",e["TT_CLINIC_HOLIDAY_PICKER"]="clinic-holiday-picker"})(To||(To={}));var xo={HisDataTable:Io,TextInput:V["a"],SingleSelect:w["a"],MultipleSelect:C["a"],NumberInput:D["a"],MonthlyDays:k["a"],BarcodeInput:r["a"],ArtRegimenSelection:U,NextVisitInterval:ne,TableViewer:ue,DosageInput:Ne,YesNo:Ce["a"],SummaryPage:$t,MultiYesNo:Ve["a"],WeightChart:Fe,VitalsEntry:tt,AdherenceInput:pn,ArtStagingSummary:on,LabOrders:jn,AppointmentsEntry:wt,DispensationInput:er,ProgamSelection:ur,AppointmentPicker:gr,PersonSearchView:Nr,RelationSelection:qr,FilingNumberView:Xr,SingleSelectCards:N["a"],PersonMatchView:li,DateInput:di["a"],BatchEntry:wi,BatchVerification:Pi,BatchMovement:Hi,ComplaintsPicker:It,IPAddressInput:Ui["a"],TextBanner:$i,DrugDispenser:yo,ClinicHolidayPicker:Ft,NoteInput:y}},dafa:function(e,t,n){},db10:function(e,t,n){"use strict";var r=n("7a23"),i={class:"his-floating-keyboard"},o={class:"his-floating-keyboard-content"};function a(e,t,n,a,c,s){var u=Object(r["resolveComponent"])("base-keyboard");return Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[Object(r["createVNode"])("div",o,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.activeLayout,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:n},[Object(r["createVNode"])(u,{layout:t,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])})),128))])])}n("c975"),n("d81d");var c=n("6be2"),s=n("c924"),u=Object(r["defineComponent"])({components:{BaseKeyboard:s["a"]},props:{initalKeyboardName:{type:String},kbConfig:{type:Array,required:!0},onKeyPress:{type:Function,required:!0}},data:function(){return{activeLayout:{}}},watch:{initalKeyboardName:{handler:function(e){var t=this;e&&this.$nextTick((function(){return t.switchKeyboard(e)}))},immediate:!0},kbConfig:{handler:function(e){e&&(this.activeLayout=e)},deep:!0,immediate:!0}},methods:{keypress:function(e){this.isFunctionKey(e)||this.onKeyPress(e)},isFunctionKey:function(e){return!!this.switchKeyboard(e)},switchKeyboard:function(e){var t=c["a"].map((function(e){return e.btn})).indexOf(e);return t>=0&&(this.activeLayout=c["a"][t].keyboard,!0)}}}),l=n("d959"),d=n.n(l);const p=d()(u,[["render",a]]);t["a"]=p},dc21:function(e,t,n){"use strict";n("4c6a")},dd65:function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-a66750c2");Object(r["pushScopeId"])("data-v-a66750c2");var o={class:"his-card"};Object(r["popScopeId"])();var a=i((function(e,t,n,i,a,c){var s=Object(r["resolveComponent"])("barcode-input");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])(s,{onOnScan:e.onScan},null,8,["onOnScan"])])})),c=n("9ab4"),s=n("51c8"),u=n("efaf"),l=Object(r["defineComponent"])({mixins:[s["a"]],components:{BarcodeInput:u["a"]},methods:{onScan:function(e){return Object(c["b"])(this,void 0,void 0,(function(){var t;return Object(c["d"])(this,(function(n){switch(n.label){case 0:return this.onValue?[4,this.onValue(e)]:[3,2];case 1:if(t=n.sent(),!t)return[2];n.label=2;case 2:return this.$emit("onValue",e),[2]}}))}))}}}),d=(n("a16a"),n("d959")),p=n.n(d);const b=p()(l,[["render",a],["__scopeId","data-v-a66750c2"]]);t["a"]=b},ddb2:function(e,t,n){"use strict";n("8cb7")},ddd4:function(e,t,n){"use strict";n("b8ad")},de49:function(e,t,n){"use strict";n("28c8")},de5d:function(e,t,n){},dea4:function(e,t,n){},e0fa:function(e,t,n){"use strict";n("2b5e")},e1cf:function(e,t,n){var r={"./ion-icon.entry.js":["ec64","chunk-2d2304d2"]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(r)},i.id="e1cf",e.exports=i},e22d:function(e,t,n){},e2ee:function(e,t,n){"use strict";n("552c")},e4bd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("d81d");var r=n("9ab4"),i=n("b5e4"),o=n("8a30"),a=n("2ef0");function c(e,t){return void 0===t&&(t=[]),Object(r["b"])(this,void 0,void 0,(function(){var n,c,s,u;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,Object(i["a"])("Are you sure you want to void?")];case 1:return n=r.sent(),n?(c=[{text:"Mistake/ Wrong Entry",role:"Mistake/ Wrong Entry"},{text:"Duplicate",role:"Duplicate"},{text:"System Error",role:"System Error"},{text:"Cancel",role:"cancel"}],Object(a["isEmpty"])(t)||(c=t.map((function(e){return{text:e,role:e}})),c.push({text:"Cancel",role:"Cancel"})),[4,o["P"].create({header:"Are you sure you want to void this Encounter?",subHeader:"Please specify reason for voiding this encounter",mode:"ios",buttons:c})]):[2];case 2:return s=r.sent(),s.present(),[4,s.onDidDismiss()];case 3:return u=r.sent().role,"cancel"!=u&&e(u),[2]}}))}))}},e507:function(e,t,n){},e6e9:function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["createTextVNode"])(" Close "),o=Object(r["createTextVNode"])(" Clear "),a=Object(r["createTextVNode"])(" Done ");function c(e,t,n,c,s,u){var l=Object(r["resolveComponent"])("ion-title"),d=Object(r["resolveComponent"])("ion-toolbar"),p=Object(r["resolveComponent"])("ion-header"),b=Object(r["resolveComponent"])("ion-content"),h=Object(r["resolveComponent"])("ion-button"),f=Object(r["resolveComponent"])("ion-footer"),m=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(m,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{class:"ion-text-center"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.currentField.helpText),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(),Object(r["createBlock"])(r["KeepAlive"],null,[(Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.currentField.type),{key:e.currentField.id,currentFieldig:e.currentField.currentFieldig,options:e.currentField.options,preset:e.currentField.preset,clear:e.valueClearIndex,fdata:e.formData,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,onOnValue:e.onFieldValue},null,8,["currentFieldig","options","preset","clear","fdata","cdata","activationState","onValue","defaultValue","onValueUpdate","onOnValue"]))],1024))]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{color:"light"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{disabled:e.disableBtn,onClick:e.onClose,slot:"start",color:"danger",size:"large"},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(h,{disabled:e.disableBtn,onClick:e.onClear,slot:"end",color:"warning",size:"large"},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["disabled","onClick"]),Object(r["createVNode"])(h,{disabled:e.disableBtn,onClick:e.onDone,slot:"end",color:"success",size:"large"},{default:Object(r["withCtx"])((function(){return[a]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})}n("a15b");var s=n("b5e4"),u=n("8a30"),l=n("dd65"),d=n("d11f"),p=n("0734"),b=n("2fd5"),h=n("6ef9"),f=n("5e75"),m=n("69cf"),g=n("71f2"),O=n("5fd1"),v=n("2a82"),_=n("374c"),j=Object(r["defineComponent"])({name:"SingleFieldTouchForm",components:{IonPage:u["B"],IonContent:u["n"],IonFooter:u["o"],IonToolbar:u["N"],IonButton:u["d"],IonHeader:u["q"],IonTitle:u["M"],TextInput:h["a"],SingleSelect:d["a"],MultipleSelect:b["a"],NumberInput:f["a"],MonthlyDays:m["a"],BarcodeInput:l["a"],YesNo:g["a"],MultiYesNo:O["a"],SingleSelectCards:p["a"],DateInput:_["a"],IPAddressInput:v["a"]},props:{dismissType:{type:String},onFinish:{type:Function,required:!0},currentField:{type:Object,required:!0}},data:function(){return{valueClearIndex:0,formData:{},computedFormData:{},state:"",value:null,disableBtn:!1}},methods:{onClose:function(){"modal"===this.dismissType?u["U"].dismiss():this.$router.back()},onClear:function(){this.valueClearIndex+=1,this.value=null},onFieldValue:function(e){this.value=e},onDone:function(){if(this.disableBtn=!0,this.currentField.validation){var e=this.currentField.validation(this.value);if(this.disableBtn=!1,e)return Object(s["e"])(e.join(", "),6e4)}try{this.onFinish(this.value)}catch(t){Object(s["c"])(t),console.error(t)}this.onClose(),this.disableBtn=!1}}}),y=n("d959"),w=n.n(y);const N=w()(j,[["render",c]]);t["a"]=N},e6f1:function(e,t,n){},e7ec:function(e,t,n){},e86e:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p}));n("d81d"),n("a434"),n("b0c0"),n("d3b7");var r=n("9ab4"),i=n("5713"),o=n("2ef0");function a(e){return void 0===e&&(e=""),Object(r["b"])(this,void 0,Promise,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,i["a"].getFacilities({name:e})];case 1:return t=n.sent(),Object(o["isEmpty"])(t)||t.splice(0,1),[2,t.map((function(e){return{label:e.name,value:e.location_id,other:e}}))]}}))}))}function c(e){return void 0===e&&(e=""),Object(r["b"])(this,void 0,Promise,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,i["a"].getFacilities({name:e,tag:"Facility adult sections"})];case 1:return t=n.sent(),[2,t.map((function(e){return{label:e.name,value:e.name,other:e}}))]}}))}))}function s(){return Object(r["b"])(this,void 0,Promise,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,i["a"].getSpecialistClinics()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.name,value:e.name,other:e}}))]}}))}))}function u(){return Object(r["b"])(this,void 0,Promise,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,i["a"].getRegions()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.name,value:e.region_id,other:e}}))]}}))}))}function l(e){return Object(r["b"])(this,void 0,Promise,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,i["a"].getDistricts(e)];case 1:return t=n.sent(),[2,t.map((function(e){return{label:e.name,value:e.district_id,other:e}}))]}}))}))}function d(e,t){return void 0===t&&(t=""),Object(r["b"])(this,void 0,Promise,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getTraditionalAuthorities(e,t)];case 1:return n=r.sent(),[2,n.map((function(e){return{label:e.name,value:e.traditional_authority_id,other:e}}))]}}))}))}function p(e,t){return void 0===t&&(t=""),Object(r["b"])(this,void 0,Promise,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,i["a"].getVillages(e,t)];case 1:return n=r.sent(),[2,n.map((function(e){return{label:e.name,value:e.village_id,other:e}}))]}}))}))}},e96c:function(e,t,n){"use strict";n("ecfc")},ec2a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("1c74"),o=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.create=function(e){var t=Object(r["a"])({},e);return"program_id"in t||Object.assign(t,{program_id:this.getProgramID()}),"encounter_datetime"in t||Object.assign(t,{encounter_datetime:this.getSessionDate()}),i["d"].postJson("/encounters",t)},t.voidEncounter=function(t,n){return void 0===n&&(n="Unknown"),e.void.call(this,"/encounters/"+t,{reason:n})},t.getEncounters=function(t,n){return void 0===n&&(n={}),e.getJson.call(this,"/encounters",Object(r["a"])({program_id:e.getProgramID.call(this),patient_id:t,paginate:!1},n))},t}(i["d"])},ecc5:function(e,t,n){"use strict";n("fb6a");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}t["a"]={capitalizeFirstLetter:r}},ecfc:function(e,t,n){},edaa:function(e,t,n){"use strict";n("a0d6")},eec2:function(e,t,n){"use strict";n("22ea")},efaf:function(e,t,n){"use strict";var r=n("7a23"),i=Object(r["withScopeId"])("data-v-44457fae");Object(r["pushScopeId"])("data-v-44457fae");var o=Object(r["createVNode"])("img",{id:"barcode-img",src:"/assets/images/barcode.svg"},null,-1);Object(r["popScopeId"])();var a=i((function(e,t,n,a,c,s){var u=Object(r["resolveComponent"])("ion-col"),l=Object(r["resolveComponent"])("ion-row");return Object(r["openBlock"])(),Object(r["createBlock"])(l,null,{default:i((function(){return[Object(r["createVNode"])(u,{size:"2"},{default:i((function(){return[o]})),_:1}),Object(r["createVNode"])(u,{size:"10"},{default:i((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{readonly:e.isReadOnly,ref:"barcode",id:"barcode-inputbox","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.barcodeText=t})},null,8,["readonly"]),[[r["vModelText"],e.barcodeText]])]})),_:1})]})),_:1})})),c=(n("ac1f"),n("466d"),n("5319"),n("8a30")),s=n("2345"),u=Object(r["defineComponent"])({name:"BarcodeInput",components:{IonRow:c["F"],IonCol:c["m"]},props:["clearValue","virtualText"],data:function(){return{barcodeText:"",isReadOnly:!1}},mounted:function(){var e=this;Object(c["R"])("desktop")?setInterval((function(){try{e.$refs.barcode.focus()}catch(t){}}),1500):this.isReadOnly=!0},methods:{checkForbarcode:function(){if(null!=this.barcodeText.match(/.+\$$/i)){var e=this.barcodeText.replace(/\$/gi,"");this.$emit("onScan",e),this.barcodeText=""}}},watch:{clearValue:function(){this.barcodeText=""},virtualText:function(e){this.barcodeText=Object(s["a"])(e,this.barcodeText)},barcodeText:function(e){e&&(this.checkForbarcode(),this.$emit("onValue",e))}}}),l=(n("c618"),n("d959")),d=n.n(l);const p=d()(u,[["render",a],["__scopeId","data-v-44457fae"]]);t["a"]=p},f10c:function(e,t,n){},f36d:function(e,t,n){"use strict";n("07f0")},f379:function(e,t,n){"use strict";n("8aef")},f432:function(e,t,n){},f535:function(e,t,n){},f768:function(e,t,n){"use strict";var r=n("9ab4"),i=(n("d3b7"),n("d1ca")),o=n("7a23");function a(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{skipSummary:!0,onOnIndex:t[1]||(t[1]=function(t){return e.fieldComponent=""}),activeField:e.fieldComponent,cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["activeField","cancelDestinationPath","fields","onFinishAction"])}n("a15b"),n("d81d"),n("45fc"),n("b0c0"),n("ac1f"),n("25f0"),n("466d");var c,s=n("d95e"),u=n("2706"),l=(n("4de4"),n("4160"),n("caad"),n("07ac"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("71c3")),d=n("9283"),p=n("1c74"),b=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getAllArvRegimens=function(){return this.getJson("programs/"+this.getProgramID()+"/all_arv_regimens")},t.getRegimens=function(e){return this.getJson("programs/"+this.getProgramID()+"/regimens",{patient_id:e})},t.getCustomIngridients=function(){return this.getJson("programs/"+this.getProgramID()+"/custom_regimen_ingredients")},t.getCurrentRegimen=function(e,t){return void 0===t&&(t=this.getSessionDate()),this.getJson("programs/"+this.getProgramID()+"/"+e,{date:t})},t}(p["d"]),h=n("2ef0"),f=n("cc6f");(function(e){e["CONTRAINDICATION"]="contraindication",e["SIDE_EFFECT"]="side_effect"})(c||(c={}));var m,g,O,v=function(e){function t(t,n){var r=e.call(this,t,25,n)||this;return r.nextVisitInterval=0,r.fastTrack=!1,r.regimenExtras=[],r.fastTrackMedications=[],r.hangingPills=[],r.medicationOrders=[],r.treatmentState="",r.contraindications={},r.sideEffects={},r.tptPrescriptionCount=0,r.lastSideEffectDate="",r}return Object(r["c"])(t,e),t.prototype.setNextVisitInterval=function(e){this.nextVisitInterval=e},t.prototype.getHangingPills=function(){return this.hangingPills},t.prototype.getMedicationOrders=function(){return this.medicationOrders.map((function(e){return f["a"].getCachedConceptName(e)}))},t.prototype.getTptPrescriptionCount=function(){return this.tptPrescriptionCount},t.prototype.getLastSideEffectDate=function(){return this.lastSideEffectDate},t.prototype.getContraindications=function(){return this.contraindications},t.prototype.getSideEffects=function(){return this.sideEffects},t.prototype.getRegimenExtras=function(){return this.regimenExtras},t.prototype.getPatientRegimens=function(){return b.getRegimens(this.patientID)},t.prototype.getCustomIngridients=function(){return b.getCustomIngridients()},t.prototype.getFastTrackMedications=function(){return this.fastTrackMedications},t.prototype.getTreatmentState=function(){return this.treatmentState},t.prototype.isFastTrack=function(){return this.fastTrack},t.prototype.medicationOrdersAvailable=function(){return!Object(h["isEmpty"])(this.medicationOrders)},t.prototype.shouldPrescribeArvs=function(){var e=f["a"].getCachedConceptID("Antiretroviral drugs");return this.medicationOrders.includes(e)},t.prototype.shouldPrescribeExtras=function(){var e=this,t=f["a"].getConceptsByCategory("art_extra_medication_order"),n=t.map((function(t){return e.medicationOrders.includes(t.concept_id)}));return n.some(Boolean)},t.prototype.getRegimenStarterpack=function(e,t){var n={weight:t,regimen:e};return f["a"].getJson("programs/"+f["a"].getProgramID()+"/regimen_starter_packs",n)},t.prototype.getLvpDrugsByType=function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,f["a"].getJson("programs/"+f["a"].getProgramID()+"/regimens/"+t,{patient_id:this.patientID,lpv_drug_type:e})]}))}))},t.prototype.loadContraindications=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,f["a"].getConceptID("Contraindications")];case 1:return e=r.sent(),[4,f["a"].getObs({concept_id:e,person_id:this.patientID})];case 2:return t=r.sent(),t.forEach((function(e){var t=d["a"].toStandardHisFormat(e.obs_datetime);n.contraindications[t]||(n.contraindications[t]=[]);var r=f["a"].getCachedConceptName(e.value_coded);n.contraindications[t].push(r)})),[2]}}))}))},t.prototype.loadDrugInduced=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,f["a"].getConceptID("Drug induced")];case 1:return e=r.sent(),[4,f["a"].getObs({concept_id:e,person_id:this.patientID})];case 2:return t=r.sent(),t?(t.forEach((function(e){var t=d["a"].toStandardHisFormat(e.obs_datetime);if(n.lastSideEffectDate||(n.lastSideEffectDate=t),e.value_drug&&e.value_coded){n.sideEffects[t]||(n.sideEffects[t]={}),n.sideEffects[t][e.value_drug]||(n.sideEffects[t][e.value_drug]=[]);var r=f["a"].getCachedConceptName(e.value_coded);n.sideEffects[t][e.value_drug].push(r)}})),[2]):[2]}}))}))},t.prototype.loadTptPrescriptionCount=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,f["a"].getJson("tpt_prescription_count",{patient_id:this.patientID,date:this.date})];case 1:return e=n.sent(),e&&(t=e.count+1,this.tptPrescriptionCount=t>3?3:t),[2]}}))}))},t.prototype.loadFastTrackStatus=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,f["a"].getFirstValueCoded(this.patientID,"Fast track")];case 1:return e=n.sent(),[4,f["a"].getConceptID("yes")];case 2:return t=n.sent(),e&&(this.fastTrack=e===t),[2]}}))}))},t.prototype.loadRegimenExtras=function(e){return void 0===e&&(e=this.date),Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,b.getJson("programs/"+b.getProgramID()+"/patients/"+this.patientID+"/dosages",{date:e})];case 1:return t=n.sent(),t&&(this.regimenExtras=Object.values(t)),[2]}}))}))},t.prototype.loadMedicationOrders=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,f["a"].getConceptID("Medication orders")];case 1:return e=n.sent(),[4,f["a"].getObs({concept_id:e,date:this.date,person_id:this.patientID,page_size:5})];case 2:return t=n.sent(),this.medicationOrders=t.map((function(e){return e.value_coded})),[2]}}))}))},t.prototype.loadHangingPills=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,f["a"].getAll(this.patientID,"Pills brought")];case 1:return e=t.sent(),e&&(this.hangingPills=e.filter((function(e){return e.value_numeric>=1&&e.order})).map((function(e){return e.order.drug_order.drug_inventory_id}))),[2]}}))}))},t.prototype.loadFastTrackMedications=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i=this;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return[4,l["a"].getLastDrugsReceived(this.patientID)];case 1:return e=o.sent(),t=e.map((function(e){return Object(r["b"])(i,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=e.drug,[4,l["a"].getDrugDosages(this.patientID,t.drug_id)];case 1:return n=r.sent(),[2,{drug_id:t.drug_id,drug_name:t.name,units:t.units,am:n.am,noon:n.noon,pm:n.pm,frequency:e.frequency}]}}))}))})),n=this,[4,Promise.all(t)];case 2:return n.fastTrackMedications=o.sent(),[2]}}))}))},t.prototype.loadTreatmentState=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return e={date:this.date},[4,f["a"].getJson("programs/"+f["a"].getProgramID()+"/patients/"+this.patientID+"/status",e)];case 1:return t=n.sent(),t&&(this.treatmentState=t["status"]),[2]}}))}))},t.prototype.findAndGroupDrugSideEffects=function(e){var t={};for(var n in this.sideEffects){var i=this.sideEffects[n];for(var o in i)e.includes(parseInt(o))&&(t[n]||(t[n]=[]),t[n]=Object(r["f"])(t[n],i[o]))}return t},t.prototype.calculatePillsPerDay=function(e,t,n){return parseFloat(e.toString())+t+n},t.prototype.estimatePackSize=function(e,t){void 0===t&&(t=0);var n=e*this.nextVisitInterval/t,r=Math.round(n);return r<=0&&(r+=1),r},t.prototype.calculateDosage=function(e,t){var n=0;return 0===t&&(n=e),0==e&&(n=t),e>0&&t>0&&(n=(e+t)/2),n},t.prototype.calculateEquivalentDosage=function(e,t){return e+t},t.prototype.calculateDateFromInterval=function(){var e=new Date(this.date);return e.setDate(e.getDate()+this.nextVisitInterval),d["a"].toStandardHisFormat(e)},t.prototype.getDrugPackSize=function(e){if(e.pack_size)return e.pack_size;try{return e.barcodes[0].tabs}catch(t){return 30}},t.prototype.getInstructions=function(e,t,n,r){return e+" :- Morning: "+t+" "+r+", Evening: "+n+" "+r},t.prototype.toOrderObj=function(e,t,n,r,i,o){return void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=""),{drug_inventory_id:e,equivalent_daily_dose:this.calculateEquivalentDosage(r,i),start_date:this.date,auto_expire_date:this.calculateDateFromInterval(),units:n,instructions:this.getInstructions(t,r,i,n),dose:this.calculateDosage(r,i),frequency:o}},t.prototype.getReasonForRegimenSwitch=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,f["a"].getFirstValueText(this.patientID,"Reason for ARV switch")];case 1:return e=t.sent(),[2,e||"N/A"]}}))}))},t.prototype.createDrugOrder=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return[2,l["a"].create({encounter_id:this.encounterID,drug_orders:e})]}))}))},t.prototype.createHangingPillsObs=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return[2,this.saveValueTextObs("appointment type",e)]}))}))},t.prototype.createRegimenSwitchObs=function(e){return Object(r["b"])(this,void 0,Promise,(function(){return Object(r["d"])(this,(function(t){return[2,this.saveValueTextObs("Reason for ARV switch",e)]}))}))},t}(f["a"]),_=n("b5e4"),j=n("c21d"),y=n("7365"),w=n("7f35");(function(e){e["ARV_REGIMENS"]="arv_regimens",e["INTERVAL_SELECTION"]="next_visit_interval"})(m||(m={})),function(e){e["EXIT"]="exit",e["CONTINUE"]="continue"}(g||(g={})),function(e){e["ON_VALUE"]="onValue",e["ON_BUILD"]="onBuild",e["BEFORE_NEXT"]="beforeNext"}(O||(O={}));var N={"Do not prescribe LPV regimens together with 3HP":{priority:1,actions:{alert:function(e){var t=e.regimenName;return Object(r["b"])(void 0,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,Object(w["a"])("3HP - LPV/r conflict",t,"Regimens containing LPV/r <b>cannot</b> be prescribed together with 3HP",[{name:"Close",slot:"end",color:"danger"}],"his-danger-color")];case 1:return e.sent(),[2,g.EXIT]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.ON_VALUE,conditions:{regimenCode:function(e){return[7,8,9,10,11,12].includes(e)},medicationOrders:function(e){return e.filter((function(e){return!!e.match(/3hp/i)})).length>=1}}},"Check for any adverse effects or contraindications associated with the regimen":{priority:1,actions:{alert:function(e){var t=e.regimenCodeStr,n=e.sideEffectsTable;return Object(r["b"])(void 0,void 0,void 0,(function(){var e,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=n.columns,i=n.rows,[4,Object(w["d"])("Contraindications / Side effects for "+t,"",e,i,[{name:"Select other regimen",slot:"start"},{name:"Keep selected regimen",slot:"end",color:"danger"}],"his-danger-color")];case 1:return o=r.sent(),[2,"Select other regimen"===o?g.EXIT:g.CONTINUE]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{hasSideEffects:function(e){return e},lastSideEffectDate:function(e,t){var n=t.currentDate;return e>=n}}},"Recommend 2nd line regimen to children under 3":{priority:1,actions:{alert:function(){return Object(r["b"])(void 0,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(w["b"])("Recommendation","",["Children under 3 years often have a high viral load and may be infected with drug-resistant HIV from previous exposure to ARVs (mother's ART and/or infant nevirapine prophylaxis)","Therefore, children under <b>3 years</b> respond better when <b>started immediately on 2nd line regimen</b> (Regimen <b>11</b>)"],[{name:"Select another regimen",slot:"start"},{name:"Keep selected regimen",slot:"end",color:"danger"}],"his-warning-color")];case 1:return e=t.sent(),[2,"Select another regimen"===e?g.EXIT:g.CONTINUE]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{age:function(e){return e<3},regimenCode:function(e){return 11!=e}}},"Provide a reason for switching regimens when patient already has one":{priority:1,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["c"])("Are you sure you want to replace "+e.currentRegimenStr+"?","Specify reason for switching regimen",["Policy change","Ease of administration (pill burden, swallowing)","Drug drug interaction","Pregnancy intention","Side effects","Treatment failure","Weight Change","Other"],[{name:"Cancel",slot:"start",color:"danger"},{name:"Continue",slot:"end",role:"action"}])];case 1:return t=n.sent(),t.selection&&"Cancel"!=t.action?(e.reasonForSwitch=t.selection,[2,g.CONTINUE]):[2,g.EXIT]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.ON_VALUE,conditions:{regimenCode:function(e,t){var n=t.currentRegimenCode;return-1!=n&&e!=n}}},"Provide 14 day starter pack for LPV regimens for children under 3 years old":{priority:3,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["a"])("Starter pack needed for 14 days",""+e.treatmentInitiationState,""+e.regimenName,[{name:"Cancel",slot:"start",color:"danger"},{name:"Prescribe starter pack",slot:"end"}],"his-info-color")];case 1:return t=n.sent(),"Prescribe starter pack"===t?(e.starterPackNeeded=!0,[2,g.CONTINUE]):[2,g.EXIT]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{age:function(e){return e<3},regimenCode:function(e){return 11===e},treatmentInitiationState:function(e){return["Initiation","Re-initiation"].includes(e)}}},"Provide 14 day starter pack for NVP based regimens on newly initiated/re-initiation patients":{priority:3,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["a"])("Starter pack needed for 14 days",""+e.treatmentInitiationState,""+e.regimenName,[{name:"Cancel",slot:"start",color:"danger"},{name:"Prescribe starter pack",slot:"end"}],"his-info-color")];case 1:return t=n.sent(),"Prescribe starter pack"===t?(e.starterPackNeeded=!0,[2,g.CONTINUE]):[2,g.EXIT]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{regimenCode:function(e){return[0,2,6].includes(e)},treatmentInitiationState:function(e){return["Initiation","Re-initiation"].includes(e)}}},"Ask to reuse hanging pills if any":{priority:5,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["a"])("Hanging pills recommendation","Add hanging pills?","",[{name:"No",slot:"start",color:"warning"},{name:"Yes",slot:"end"}],"his-info-color")];case 1:return t=n.sent(),e.hangingPillsStatus="Yes"===t?"Optimize - including hanging pills":"Exact - excluding hanging pills",[2,g.CONTINUE]}}))}))}},target:m.INTERVAL_SELECTION,targetEvent:O.BEFORE_NEXT,conditions:{drugs:function(e,t){var n=t.hangingPills,r=e.map((function(e){return n.includes(e)}));return r.some(Boolean)}}},"Provide warning of use of DTG regimen to women of reproductive age":{priority:2,actions:{alert:function(e){var t=e.regimenName;return Object(r["b"])(void 0,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["a"])("Use of DTG or EFV in women of reproductive age",t,["There is currently <u>no confirmation</u>","that <b>DTG</b> is safe in <u>very early pregnancy</u>","DTG-based regimens are therefore not used as standard 1st line regimens for","<u>girls and women</u> who may get pregnancy"].join(" "),[{name:"Select another regimen",slot:"start"},{name:"Continue with regimen",slot:"end",color:"danger"}],"his-danger-color")];case 1:return e=n.sent(),[2,"Select another regimen"===e?g.EXIT:g.CONTINUE]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{regimenCode:function(e){return e>=12},isChildBearing:function(e){return e}}},"Provide pallet options for LPV regimens for patient's whose weight is between 3 and 25 kgs":{priority:6,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(w["a"])("Pellets (cups) / Tabs","","Prescribe LPV/r in <b>Pellets (cups)</b> or <b>Tablets</b>?",[{name:"Granules",slot:"start"},{name:"Pellets",slot:"end"},{name:"Tabs",slot:"end"}],"his-info-color")];case 1:return t=n.sent(),e.lpvType=t.toLowerCase(),[2,g.CONTINUE]}}))}))}},target:m.ARV_REGIMENS,targetEvent:O.BEFORE_NEXT,conditions:{weight:function(e){return e>=3&&e<=25},regimenCode:function(e){return 11===e||9===e}}},"Provide 14 day interval for NVP or LVP Regimen starter pack":{priority:1,data:{enabled:!1},target:m.INTERVAL_SELECTION,targetEvent:O.ON_BUILD,conditions:{prescriptionType:function(e){return"Regimen"===e},selectedInterval:function(e){return e>14},starterPackNeeded:function(e){return e},regimenCode:function(e){return[0,2,6,11].includes(e)}}},"Provide intervals upto 1 month, 2nd up to 2 months, and 3rd up to 6 months for Patients receiving TPT":{priority:2,data:{enabled:!1},target:m.INTERVAL_SELECTION,targetEvent:O.ON_BUILD,conditions:{prescriptionType:function(e){return"Regimen"===e},medicationOrders:function(e){return e.map((function(e){return!!e.match(/3hp/i)})).some(Boolean)},tptPrescriptionCount:function(e,t){var n=t.selectedInterval;return Math.round(n/30)>e}}}},C={"Rifapentine or isoniazid should be taken weekly":{concept:"Weekly (QW)",priority:1,conditions:{drug:function(e){return e.match(/Rifapentine|Isoniazid/i)}}},"Use daily frequency for any other drugs":{concept:"Daily (QOD)",priority:2,conditions:{drug:function(e){return!e.match(/Rifapentine|Isoniazid/i)}}}},V=n("32b3"),D=n("ad60"),k=Object(o["defineComponent"])({mixins:[y["a"]],data:function(){return{drugs:[],prescription:{},patientToolbar:[],fieldComponent:"",regimenExtras:[],programInfo:[],facts:{age:-1,gender:"",weight:-1,currentDate:"",isChildBearing:!1,prescriptionType:"",tptPrescriptionCount:0,currentRegimenCode:-1,currentRegimenStr:"",drug:"",drugs:[],contraindications:{},hasSideEffects:!1,sideEffectsTable:{},lastSideEffectDate:"",regimenCode:-1,regimenCodeStr:"",regimenName:"",regimenDrugs:[],hangingPills:[],reasonForSwitch:"",starterPackNeeded:!1,hangingPillsStatus:"",treatmentInitiationState:"",lpvType:"",medicationOrders:[],selectedInterval:0}}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return this.prescription=new v(e.getID(),this.providerID),[4,this.prescription.loadMedicationOrders()];case 1:return o.sent(),[4,this.prescription.loadFastTrackStatus()];case 2:return o.sent(),this.prescription.medicationOrdersAvailable()||this.prescription.isFastTrack()?[4,i["b"].askPillsRemaining()]:(Object(_["e"])("Patient is not eligible for treatment Today! Please check HIV Clinic Consultation"),[2,this.gotoPatientDashboard()]);case 3:return o.sent()?[4,this.prescription.loadHangingPills()]:[3,5];case 4:o.sent(),o.label=5;case 5:return[4,this.prescription.loadRegimenExtras()];case 6:return o.sent(),[4,this.prescription.loadTreatmentState()];case 7:return o.sent(),[4,this.prescription.loadDrugInduced()];case 8:return o.sent(),[4,this.prescription.loadContraindications()];case 9:return o.sent(),[4,this.prescription.loadTptPrescriptionCount()];case 10:return o.sent(),[4,this.initFacts(e)];case 11:return o.sent(),this.prescription.shouldPrescribeExtras()&&(this.regimenExtras=this.prescription.getRegimenExtras()),t=this.resolveHtnDrugs(),Object(h["isEmpty"])(t)||(this.regimenExtras=Object(r["f"])(this.regimenExtras,t)),this.prescription.isFastTrack()?[4,this.prescription.loadFastTrackMedications()]:[3,13];case 12:return o.sent(),this.drugs=this.prescription.getFastTrackMedications(),this.fieldComponent="next_visit_interval",[3,14];case 13:this.prescription.shouldPrescribeArvs()||Object(h["isEmpty"])(this.regimenExtras)||(this.drugs=this.regimenExtras),o.label=14;case 14:return n=this,[4,this.getPatientToolBar()];case 15:return n.patientToolbar=o.sent(),this.fields=this.getFields(),[2]}}))}))},deep:!0},drugs:{handler:function(e){this.facts.drugs=e.map((function(e){return e.drug_id}))},immediate:!0,deep:!0}},methods:{initFacts:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=this,[4,D["a"].getProgramInformation(e.getID())];case 1:return t.programInfo=r.sent(),this.facts.age=e.getAge(),this.facts.gender=e.getGender(),n=this.facts,[4,e.getRecentWeight()];case 2:return n.weight=r.sent(),this.facts.hangingPills=this.prescription.getHangingPills(),this.facts.treatmentInitiationState=this.prescription.getTreatmentState(),this.facts.currentRegimenStr=this.programInfo.current_regimen,this.facts.currentRegimenCode=this.extractRegimenCode(this.programInfo.current_regimen),this.facts.medicationOrders=this.prescription.getMedicationOrders(),this.facts.contraindications=this.prescription.getContraindications(),this.facts.tptPrescriptionCount=this.prescription.getTptPrescriptionCount(),this.facts.lastSideEffectDate=this.prescription.getLastSideEffectDate(),this.facts.currentDate=v.getSessionDate(),this.facts.isChildBearing=e.isChildBearing(),[2]}}))}))},onSubmit:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.prescription.createEncounter()];case 1:return t=r.sent(),this.prescription.setNextVisitInterval(e[m.INTERVAL_SELECTION].value),n=this.mapOrder(this.drugs),t?[4,this.prescription.createDrugOrder(n)]:[2,Object(_["e"])("Unable to create treatment encounter")];case 2:return i=r.sent(),i?this.facts.reasonForSwitch?[4,this.prescription.createRegimenSwitchObs(this.facts.reasonForSwitch)]:[3,4]:[2,Object(_["e"])("Unable to create drug orders!")];case 3:r.sent(),r.label=4;case 4:return this.facts.hangingPillsStatus?[4,this.prescription.createHangingPillsObs(this.facts.hangingPillsStatus)]:[3,6];case 5:r.sent(),r.label=6;case 6:return Object(_["d"])("Drug order has been created"),this.nextTask(),[2]}}))}))},onEvent:function(e,t){var n,i;return Object(r["b"])(this,void 0,void 0,(function(){var o,a,c,s,u,l,d;return Object(r["d"])(this,(function(r){switch(r.label){case 0:for(c in o=Object(j["a"])(this.facts,N,e,t),a=[],o)a.push(c);s=0,r.label=1;case 1:return s<a.length?(u=a[s],l=o[u],(null===(n=null===l||void 0===l?void 0:l.actions)||void 0===n?void 0:n.alert)?[4,null===(i=null===l||void 0===l?void 0:l.actions)||void 0===i?void 0:i.alert(this.facts)]:[3,3]):[3,4];case 2:if(d=r.sent(),d===g.EXIT)return[2,!1];r.label=3;case 3:return s++,[3,1];case 4:return[2,!0]}}))}))},onBuildOptions:function(e,t){var n=Object(j["a"])(this.facts,N,e,t);for(var r in n){var i=n[r];if(i.data)return i.data}return{}},onRegimen:function(e){var t=e.label,n=e.value,i=e.other;return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(r){return this.facts.lpvType="",this.facts.hangingPillsStatus="",this.facts.starterPackNeeded=!1,this.facts.regimenName=n+" ("+t+")",this.facts.regimenCodeStr=n.toString(),this.facts.regimenCode=this.extractRegimenCode(n.toString()),this.facts.regimenDrugs=i.regimenDrugs,this.facts.drugs=i.regimenDrugs.map((function(e){return e.drug_id})),e=this.prescription.findAndGroupDrugSideEffects(this.facts.drugs),this.facts.hasSideEffects=!Object(h["isEmpty"])(e),this.facts.sideEffectsTable=this.buildSideEffectsTable(e),[2]}))}))},onBeforeRegimenNext:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.onEvent(m.ARV_REGIMENS,O.BEFORE_NEXT)];case 1:return e=n.sent(),t=[],e?this.facts.lpvType?[4,this.getLpvDrugs()]:[3,3]:[2,!1];case 2:return t=n.sent(),[3,6];case 3:return this.facts.starterPackNeeded?[4,this.getStarterPackDrugs()]:[3,5];case 4:return t=n.sent(),[3,6];case 5:t=this.facts.regimenDrugs,n.label=6;case 6:return this.drugs=Object(r["f"])(this.regimenExtras,t),[2,!0]}}))}))},getLpvDrugs:function(){return this.prescription.getLvpDrugsByType(this.facts.lpvType,this.facts.regimenCode)},resolveHtnDrugs:function(){try{var e=sessionStorage.getItem(V["b"].Prescription);if("string"===typeof e){var t=JSON.parse(e);if(Object(h["isPlainObject"])(t)&&t[this.patientID])return t[this.patientID]}}catch(n){console.warn(n)}return[]},getStarterPackDrugs:function(){return this.prescription.getRegimenStarterpack(this.facts.regimenCode,this.facts.weight)},setCustomDrugs:function(e){this.drugs=e.map((function(e){return e.other}))},buildSideEffectsTable:function(e){var t=["Date","Contraindication(s)","Side effect(s)"],n=[];for(var r in e){var i=this.facts.contraindications[r]||[];n.push([d["a"].toStandardHisDisplayFormat(r),i.join(", "),e[r].join(", ")])}return{columns:t,rows:n}},buildRegimenOptions:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.prescription.getPatientRegimens()];case 1:for(n in e=r.sent(),t=[],e)i=e[n],o=i.map((function(e){return e.alternative_drug_name||e.concept_name})).join(" + "),t.push({label:o,value:n,other:{regimenDrugs:i}});return[2,t]}}))}))},buildIntervalOptions:function(){var e=this,t=[{label:"2 weeks",value:14},{label:"1 month",value:28},{label:"2 months",value:56},{label:"3 months",value:84},{label:"4 months",value:112},{label:"5 months",value:140},{label:"6 months",value:168},{label:"7 months",value:196},{label:"8 months",value:224},{label:"9 months",value:252},{label:"10 months",value:280},{label:"11 months",value:308},{label:"12 months",value:336}];return t.map((function(t){var n=t.label,i=t.value;e.facts.selectedInterval=parseInt(i.toString());var o=e.onBuildOptions(m.INTERVAL_SELECTION,O.ON_BUILD);return{label:n,value:i,other:Object(r["a"])(Object(r["a"])({},o),e.getDrugEstimates(e.drugs,e.facts.selectedInterval))}}))},getDrugFrequency:function(e){this.facts.drug=e;var t=Object(j["a"])(this.facts,C);if(!Object(h["isEmpty"])(t))return t[0].concept},extractRegimenCode:function(e){try{return e.match(/n\/a/i)?-1:parseInt(e.substring(0,e.length))}catch(t){return console.warn(t),-1}},getDosageTableOptions:function(e){var t=this,n=[{indexes:[],class:"adult-regimen-formulation"},{indexes:[],class:"peads-regimen-formulation"}],r=["Drug name","Units","AM","Noon","PM","Frequency"],i=e.map((function(e,r){switch(e.regimen_category){case"A":n[0].indexes.push(r);break;case"P":n[1].indexes.push(r);break}return[e.drug_name,e.units,e.am,e.noon,e.pm,e.frequency||t.getDrugFrequency(e.drug_name)]}));return[{label:"Selected Medication",value:"Table",other:{columns:r,rows:i,rowColors:n}}]},getDrugEstimates:function(e,t){var n=this;this.prescription.setNextVisitInterval(t);var r=this.prescription.calculateDateFromInterval(),i=e.map((function(e){var t=n.prescription.getDrugPackSize(e),r=n.prescription.calculatePillsPerDay(e.am,e.noon,e.pm),i=n.prescription.estimatePackSize(r,t);return{label:e.alternative_drug_name||e.drug_name,value:i}}));return{label:"Medication run-out date:",value:d["a"].toStandardHisDisplayFormat(r),other:{label:"Estimated packs/tins:",value:i}}},mapOrder:function(e){var t=this;return e.map((function(e){return t.prescription.toOrderObj(e.drug_id,e.drug_name,e.units,e.am,e.pm,e.frequency||t.getDrugFrequency(e.drug_name))}))},getPatientToolBar:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.prescription.getReasonForRegimenSwitch()];case 1:return e=t.sent(),[2,[{label:"Age",value:this.patient.getAge()+" Year(s)"},{label:"Gender",value:this.patient.getGender()},{label:"Current Regimen",value:this.programInfo.current_regimen},{label:"Current weight",value:this.facts.weight+" kg(s)"||!1},{label:"Reason for change",value:e}]]}}))}))},getFields:function(){var e=this;return[{id:m.ARV_REGIMENS,helpText:"ARV Regimen(s)",type:s["b"].TT_ART_REGIMEN_SELECTION,condition:function(){return e.prescription.shouldPrescribeArvs()},validation:function(e){return u["a"].required(e)},options:function(){return e.buildRegimenOptions()},onload:function(){return e.facts.prescriptionType="Regimen"},onValue:function(t){return e.onRegimen(t),e.onEvent(m.ARV_REGIMENS,O.ON_VALUE)},beforeNext:function(){return e.onBeforeRegimenNext()},config:{toolbarInfo:this.patientToolbar,footerBtns:[{name:"Custom Regimen",slot:"end",onClick:function(){e.fieldComponent="custom_regimen"}}]}},{id:"custom_regimen",helpText:"Custom prescription",type:s["b"].TT_MULTIPLE_SELECT,condition:function(){return"Custom"===e.facts.prescriptionType},onload:function(){return e.facts.prescriptionType="Custom"},validation:function(e){return u["a"].required(e)},options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.prescription.getCustomIngridients()];case 1:return e=t.sent(),[2,e.map((function(e){return{label:e.name,value:e.drug_id,other:Object(r["a"])({},e)}}))]}}))}))},config:{showKeyboard:!0,hiddenFooterBtns:["Back"],footerBtns:[{name:"Standard Regimen",size:"large",slot:"end",color:"primary",visible:!1,visibleOnStateChange:function(e){return 1===e.index},onClick:function(){e.fieldComponent="arv_regimens"}}]}},{id:"custom_dosage",helpText:"Custom dose",type:s["b"].TT_DOSAGE_INPUT,condition:function(e){return!Object(h["isEmpty"])(e.custom_regimen)},validation:function(e){if(u["a"].required(e))return["Drugs are not available"];var t=e.map((function(e){var t=e.other;return t.am<=0&&t.pm<=0}));return t.some(Boolean)?["Missing dosage configuration on some drugs"]:null},unload:function(t){return e.setCustomDrugs(t)},summaryMapValue:function(t){var n=t.other;return{label:"Dosages",value:e.prescription.getInstructions(n.drug_name,n.am,n.pm,n.units)}},options:function(t){return t.custom_regimen.map((function(t){return{label:t.label,value:t.value,other:{drug_id:t.other.drug_id,drug_name:t.label,barcodes:t.other.barcodes,units:t.other.units,am:0,noon:0,pm:0,frequency:e.getDrugFrequency(t.label)}}}))}},{id:"selected_meds",helpText:"Selected medication",type:s["b"].TT_TABLE_VIEWER,options:function(){return e.getDosageTableOptions(e.drugs)},config:{toolbarInfo:this.patientToolbar,hiddenFooterBtns:["Clear"],styles:["his-table","table-borders"]}},{id:m.INTERVAL_SELECTION,helpText:"Interval to next visit",type:s["b"].TT_NEXT_VISIT_INTERVAL_SELECTION,validation:function(e){return u["a"].required(e)},options:function(){return e.buildIntervalOptions()},onValue:function(){return e.onEvent(m.INTERVAL_SELECTION,O.ON_VALUE)},beforeNext:function(){return e.onEvent(m.INTERVAL_SELECTION,O.BEFORE_NEXT)},config:{showRegimenCardTitle:!1}}]}}}),T=n("d959"),I=n.n(T);const x=I()(k,[["render",a]]);var S=x;function P(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}n("99af"),n("13d5"),n("a4d3"),n("e01a");var B,A=n("5713"),E=n("8158"),F={"Adults with stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:function(e){return 4===e}}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{reasonForArt:function(e){return"WHO STAGE IV ADULT"===e}}},"Adults with stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:function(e){return 3===e}}},"Adults with stage 2 conditions":{concept:"WHO STAGE II ADULT",priority:4,conditions:{stage:function(e){return 2===e}}},"Adults with stage 1 conditions":{concept:"WHO STAGE I ADULT",priority:5,conditions:{stage:function(e){return 1===e}}}},R={"Children with stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:function(e){return 4===e}}},"Classify as stage 4 when reason for ART is WHO STAGE 4":{concept:"WHO STAGE IV PEDS",priority:2,conditions:{reasonForArt:function(e){return"WHO STAGE IV PEDS"===e}}},"For children with stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:3,conditions:{stage:function(e){return 3===e}}},"Children with stage 2 conditions":{concept:"WHO STAGE II PEDS",priority:4,conditions:{stage:function(e){return 2===e}}},"Children with stage 1 conditions":{concept:"WHO STAGE I PEDS",priority:5,conditions:{stage:function(e){return 1===e}}}},L={"Warn if Severe weight loss is selected when actual patient BMI is acceptable":{priority:1,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(_["a"])("Patient's BMI of "+e.bmi+" greater than 18.5, do you wish to proceed?",{confirmBtnLabel:"Yes, keep severe weightloss",cancelBtnLabel:"No, cancel"})];case 1:return[2,t.sent()]}}))}))}},conditions:{selectedCondition:function(e){return"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"===e},bmi:function(e){return e>18.5}}},"Warn for contradicting stage defining conditions":{priority:1,actions:{alert:function(e){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Object(_["a"])("CONTRADICTING STAGE DEFINING CONDITIONS",{confirmBtnLabel:"Keep Asymptomatic",cancelBtnLabel:"Keep other(s)"})];case 1:return t=n.sent(),t?(e.stage=1,e.selectedConditions=[],e.stageThreeConditions=[],e.stageFourConditions=[],e.stageTwoConditions=[],[2,!0]):[2,!1]}}))}))}},conditions:{selectedCondition:function(e){return"Asymptomatic HIV infection"===e},stage:function(e){return e>=2}}}},M={"For children whose current weight percentile is less than 70":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Child has a low weight percentile of "+e.weightPercentile}},conditions:{selectedCondition:function(e){return"Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)"===e},weightPercentile:function(e){return e<70}}},"Enable Moderate unexplained malnutrition for children whose weight for height is 70-79%":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Child has weight percentile of "+e.weightPercentile}},conditions:{selectedCondition:function(e){return"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"===e},weightPercentile:function(e){return e>=70&&e<=79}}},"Disable moderate weight loss when Severe unexplained weight loss is chosen":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:function(){return"Severe weight loss/manutrition was already selected"}},conditions:{selectedCondition:function(e){return"Moderate unexplained wasting/malnutrition not responding to treatment (weight-for-height/ -age 70-79% or muac 11-12 cm)"===e},selectedConditions:function(e){return e.includes("Severe unexplained wasting or malnutrition not responding to treatment (weight-for-height/ -age <70% or MUAC less than 11cm or oedema)")}}}},H={"Adults with a BMI less than 16":{priority:1,actions:{isChecked:!0},description:{color:"danger",show:"always",info:function(e){return"Adult has a low BMI of "+e.bmi}},conditions:{selectedCondition:function(e){return"Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained"===e},bmi:function(e){return e<16}}},"Adults whose BMI is between 16 and 18":{priority:3,actions:{isChecked:!0},description:{color:"warning",show:"onChecked",info:function(e){return"BMI of "+e.bmi+" is between 16 and 18"}},conditions:{selectedCondition:function(e){return"Moderate weight loss less than or equal to 10 percent, unexplained"===e},bmi:function(e){return e>=16&&e<=18.5}}},"Disable Moderate weight loss if severe weightloss is selected":{priority:2,actions:{isChecked:!1,disabled:!0},description:{color:"secondary",show:"always",info:function(){return"Severe weight loss was already selected"}},conditions:{selectedCondition:function(e){return"Moderate weight loss less than or equal to 10 percent, unexplained"===e},selectedConditions:function(e){return e.includes("Severe weight loss >10% and/or BMI <18.5kg/m^2, unexplained")}}}},U={"Has stage 4 conditions":{concept:"WHO STAGE IV PEDS",priority:1,conditions:{stage:function(e){return 4===e}}},"Has stage 3 conditions":{concept:"WHO STAGE III PEDS",priority:2,conditions:{stage:function(e){return 3===e}}},"Children under twelve months who tested positive on Rapid test and have presumed severe HIV":{concept:"PRESUMED SEVERE HIV",priority:3,conditions:{ageInMonths:function(e){return e<12},selectedConditions:function(e){var t=E["a"].getConceptsByCategory("pshd_condition");for(var n in t)if(e.includes(n))return!0;return!1},testType:function(e){return"HIV rapid test"===e}}},"Children under twelve who tested positive via HIV DNA Polymerase Chain Reaction test":{concept:"HIV DNA POLYMERASE CHAIN REACTION",priority:4,conditions:{ageInMonths:function(e){return e<12},testType:function(e){return"HIV DNA POLYMERASE CHAIN REACTION"===e}}},"Children who are less than 24 months":{concept:"HIV infected",priority:5,conditions:{ageInMonths:function(e){return e<24}}},"Children between 24 and 56 months who have stage 2 or 1 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 750",priority:6,conditions:{ageInMonths:function(e){return e>=24&&e<=56},cd4:function(e){return e<=750},cd4Modifier:function(e){return"<"===e||"="===e},stage:function(e){return e<=2}}},"Children with CD4 count less than 500 and have stage 1 and stage 2 conditions":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:7,conditions:{cd4:function(e){return e<=500},cd4Modifier:function(e){return"<"===e||"="===e},stage:function(e){return e<=2}}},"Children over the date 2014-04-01 who are more than five years old and have cd4 count less than 500":{concept:"CD4 COUNT LESS THAN OR EQUAL TO 500",priority:9,conditions:{date:function(e){return e>="2014-04-01"},age:function(e){return e>5},cd4:function(e){return e<=500},cd4Modifier:function(e){return"<"===e||"="===e}}},"Children over date 2014-04-01 and less than Five years old":{concept:"HIV infected",priority:10,conditions:{date:function(e){return e>="2014-04-01"},age:function(e){return e<=5}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:11,conditions:{stage:function(e){return e<=2}}}},q={"Has stage 4 conditions":{concept:"WHO STAGE IV ADULT",priority:1,conditions:{stage:function(e){return 4===e}}},"Has HIV wasting syndrome identified in stage 3":{concept:"WHO STAGE IV ADULT",priority:2,conditions:{selectedConditions:function(e){var t=E["a"].getConceptsByCategory("severe_hiv_wasting_syndrome"),n=t.reduce((function(t,n){return e.includes(n.name)?t+1:0}),0);return n>=2}}},"Has stage 3 conditions":{concept:"WHO STAGE III ADULT",priority:3,conditions:{stage:function(e){return 3===e}}},"CD4 less than 350 for adults before 2014":{concept:"cd4 less than or equal to 350",priority:4,conditions:{date:function(e){return e<"2014-04-01"},cd4:function(e){return e<=350},cd4Modifier:function(e){return"<"===e||"="===e}}},"CD4 less than 250 for adults after 2014":{concept:"cd4 less than or equal to 250",priority:4,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=250},cd4Modifier:function(e){return"<"===e||"="===e}}},"CD4 less than 350 for adults after 2014":{concept:"cd4 less than or equal to 350",priority:5,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=350},cd4Modifier:function(e){return"<"===e||"="===e}}},"CD4 less than 500 for adults after 2014":{concept:"cd4 less than or equal to 500",priority:6,conditions:{date:function(e){return e>="2014-04-01"},cd4:function(e){return e<=500},cd4Modifier:function(e){return"<"===e||"="===e}}},"Women who are breast feeding":{concept:"BREASTFEEDING",priority:8,conditions:{gender:function(e){return"F"===e},breastFeeding:function(e){return"Yes"===e},stage:function(e){return e<=2}}},"Women who are pregnant":{concept:"PATIENT PREGNANT",priority:7,conditions:{gender:function(e){return"F"===e},pregnant:function(e){return"Yes"===e},stage:function(e){return e<=2}}},"Asymptomatic patient with either stage one or stage two conditions":{concept:"Asymptomatic",priority:9,conditions:{stage:function(e){return e<=2}}}};(function(e){e["ADULT_STAGE_4"]="stage_4_conditions_adults",e["ADULT_STAGE_3"]="stage_3_conditions_adults",e["ADULT_STAGE_2"]="stage_2_conditions_adults",e["ADULT_STAGE_1"]="stage_1_conditions_adults",e["PEDAID_STAGE_4"]="stage_4_conditions_pedaids",e["PEDAID_STAGE_3"]="stage_3_conditions_pedaids",e["PEDAID_STAGE_2"]="stage_2_conditions_pedaids",e["PEDAID_STAGE_1"]="stage_1_conditions_pedaids"})(B||(B={}));var G=function(e){function t(t,n,r){var i=e.call(this,t,52,r)||this;return i.age=n,i.confirmatoryTest=null,i}return Object(r["c"])(t,e),t.prototype.isAdult=function(){return this.age>=15},t.prototype.isPedaid=function(){return this.age<=14},t.prototype.setAge=function(e){this.age=e},t.prototype.getFacilities=function(e){return void 0===e&&(e=""),A["a"].getFacilities({name:e})},t.prototype.getConfirmatoryTestType=function(){return this.confirmatoryTest},t.prototype.cd4CountIsValid=function(e){try{return!!e.match(/^(=|<|>)([0-9]*)$/m)}catch(t){return!1}},t.prototype.getAlertGuidelines=function(){return L},t.prototype.getWhoStageGuidelines=function(){return this.isAdult()?F:R},t.prototype.getProgramEligibilityGuidelines=function(){return this.isAdult()?q:U},t.prototype.getRecommendedConditionGuidelines=function(){return this.isAdult()?H:M},t.prototype.getStagingConditions=function(e){var t=this.getStagingCategoryByNum(e);return f["a"].getConceptsByCategory(t)},t.prototype.buildWhoStageObs=function(e){return this.buildValueCoded("Who stage",e)},t.prototype.buildWhoCriteriaObs=function(e){return this.buildValueCoded("Who stages criteria present",e)},t.prototype.buildReasonForArtObs=function(e){return this.buildValueCoded("Reason for ART eligibility",e)},t.prototype.getStagingCategoryByNum=function(e){switch(e){case 1:return this.isAdult()?B.ADULT_STAGE_1:B.PEDAID_STAGE_1;case 2:return this.isAdult()?B.ADULT_STAGE_2:B.PEDAID_STAGE_2;case 3:return this.isAdult()?B.ADULT_STAGE_3:B.PEDAID_STAGE_3;case 4:return this.isAdult()?B.ADULT_STAGE_4:B.PEDAID_STAGE_4;default:return""}},t.prototype.loadHivConfirmatoryTestType=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,f["a"].getFirstValueCoded(this.patientID,"Confirmatory hiv test type")];case 1:return e=t.sent(),e&&(this.confirmatoryTest=e),[2]}}))}))},t}(f["a"]),z=n("b446"),Y=n("3800"),W=n("e86e"),K=Object(o["defineComponent"])({mixins:[y["a"]],data:function(){return{staging:{},showStagingWeightChart:!0,canShowStagingFields:!0,bmiObj:{},stagingFacts:{age:-1,bmi:-1,gender:"",stage:-1,cd4:-1,date:"",isChildBearing:!1,stageOneConditions:[],stageTwoConditions:[],stageThreeConditions:[],stageFourConditions:[],reasonForArt:"",testType:"",pregnant:"",breastFeeding:"",selectedCondition:"",selectedConditions:[],weightPercentile:-1,ageInMonths:-1,cd4Modifier:"",whoStage:""}}},methods:{initStaging:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.staging=new G(e.getID(),e.getAge(),this.providerID),[4,this.staging.loadHivConfirmatoryTestType()];case 1:return r.sent(),t=this,[4,e.getBMI()];case 2:return t.bmiObj=r.sent(),this.stagingFacts.age=e.getAge(),this.stagingFacts.bmi=this.bmiObj["index"],this.stagingFacts.date=G.getSessionDate(),this.stagingFacts.gender=e.isMale()?"M":"F",this.stagingFacts.testType=this.staging.getConfirmatoryTestType(),this.stagingFacts.ageInMonths=e.getAgeInMonths(),this.stagingFacts.isChildBearing=e.isChildBearing(),this.staging.isPedaid()?(n=this.stagingFacts,[4,e.calculateWeightPercentile()]):[3,4];case 3:n.weightPercentile=r.sent(),r.label=4;case 4:return[2]}}))}))},submitStaging:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o;return Object(r["d"])(this,(function(a){switch(a.label){case 0:return[4,this.staging.createEncounter()];case 1:if(t=a.sent(),!t)throw"Unable to create staging encounter";return[4,this.resolveObs(e,"staging")];case 2:return n=a.sent(),[4,Promise.all([this.buildReasonForArtObs(),this.buildWhoStageObs()])];case 3:return i=a.sent(),[4,this.staging.saveObservationList(Object(r["f"])(n,i))];case 4:if(o=a.sent(),!o)throw"Unable to save patient observations";return[2]}}))}))},onStagingCondition:function(e){var t,n,i,o=e.label;return Object(r["b"])(this,void 0,void 0,(function(){var e,a,c;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.stagingFacts.selectedCondition=o,e=this.staging.getAlertGuidelines(),a=Object(j["a"])(this.stagingFacts,e),Object(h["isEmpty"])(a)?[2,!0]:(null===(t=a[0])||void 0===t?void 0:t.actions)&&(null===(n=a[0])||void 0===n?void 0:n.actions.alert)?[4,null===(i=a[0])||void 0===i?void 0:i.actions.alert(this.stagingFacts)]:[3,2];case 1:return c=r.sent(),[2,!!c];case 2:return[2,!0]}}))}))},getFacilities:function(e){return void 0===e&&(e=""),Object(W["b"])(e)},updateStagingFacts:function(){var e=[this.stagingFacts.stageOneConditions,this.stagingFacts.stageTwoConditions,this.stagingFacts.stageThreeConditions,this.stagingFacts.stageFourConditions];this.stagingFacts.stage=e.reduce((function(e,t,n){return Object(h["isEmpty"])(t)?e:n+1}),0),this.stagingFacts.selectedConditions=e.reduce((function(e,t){return e.concat(t)}),[])},buildReasonForArtObs:function(){return this.staging.buildReasonForArtObs(this.stagingFacts.reasonForArt)},buildWhoStageObs:function(){return this.staging.buildWhoStageObs(this.stagingFacts.whoStage)},buildStagingOptions:function(e,t){var n=this;void 0===t&&(t=[]);var r=this.staging.getRecommendedConditionGuidelines();return this.staging.getStagingConditions(e).map((function(e){var i,o,a,c=!1,s=t.includes(e.name);n.stagingFacts.selectedCondition=e.name;var u=Object(j["a"])(n.stagingFacts,r);if(!Object(h["isEmpty"])(u)){var l=u[0];(null===(i=null===l||void 0===l?void 0:l.actions)||void 0===i?void 0:i.isChecked)&&(s=!0),(null===(o=null===l||void 0===l?void 0:l.actions)||void 0===o?void 0:o.disabled)&&(c=!0),a=l.description}return{label:e.name,value:e.concept_id,isChecked:s,disabled:c,description:a}}))},setWhoStage:function(){var e,t=this.staging.getWhoStageGuidelines(),n=Object(j["a"])(this.stagingFacts,t);this.stagingFacts.whoStage=(null===(e=n[0])||void 0===e?void 0:e.concept)||""},setReasonForArt:function(){var e,t=this.staging.getProgramEligibilityGuidelines(),n=Object(j["a"])(this.stagingFacts,t);this.stagingFacts.reasonForArt=(null===(e=n[0])||void 0===e?void 0:e.concept)||""},notAsymptomatic:function(e){var t=e.stage_1_conditions;if(t){var n=t.filter((function(e){return e.label.match(/asymptomatic/i)&&e.isChecked}));return Object(h["isEmpty"])(n)}return!0},hasStaging:function(e){return"has_transfer_letter"in e?e.has_transfer_letter&&"Yes"===e.has_transfer_letter.value:this.canShowStagingFields},getStagingSummaryField:function(e){var t=this;return void 0===e&&(e="Summary"),{id:"summary",helpText:e,type:s["b"].TT_ART_STAGING_SUMMARY,condition:function(e){return t.hasStaging(e)},onload:function(){t.setReasonForArt(),t.setWhoStage()},options:function(){return Object(r["f"])([{label:"WHO Stage",value:t.stagingFacts.whoStage,other:{type:"title-section"}},{label:"Condition on starting ART",value:t.stagingFacts.reasonForArt,other:{type:"title-section"}}],t.stagingFacts.selectedConditions.map((function(e){return{label:e,value:e}})))},config:{title:"Selected stage defining conditions",hiddenFooterBtns:["Clear"]}}},getStagingFields:function(){var e=this;return Object(r["f"])([{id:"pregnancy_status",helpText:"Pregnant / Breastfeeding",type:s["b"].TT_MULTIPLE_YES_NO,validation:function(e){return u["a"].anyEmpty(e)},summaryMapValue:function(e){return{label:e.label,value:e.value}},computedValue:function(t){return{tag:"staging",obs:t.map((function(t){var n=t.value,r=t.other,i=r.factID;return e.stagingFacts[i]=n.toString().match(/Yes/i)?"Yes":"No",e.staging.buildValueCoded(r.concept,n)}))}},options:function(){return[{label:"Pregnant?",value:"",other:{values:e.yesNoOptions(),concept:"Is patient pregnant",factID:"pregnant"}},{label:"Breastfeeding?",value:"",other:{values:e.yesNoOptions(),concept:"Is patient breast feeding",factID:"breastFeeding"}}]},condition:function(t){return e.hasStaging(t)&&e.stagingFacts.isChildBearing}},{id:"patient_weight_chart",helpText:"Weight history",type:s["b"].TT_WEIGHT_CHART,options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.patient.getWeightHistory()];case 1:return e=t.sent(),e=e.map((function(e){return{x:d["a"].toStandardHisDisplayFormat(e.date),y:e.weight}})),[2,[{label:"Weight for patient",value:"Weight trail",other:{values:e,age:this.patient.getAge(),bmi:this.bmiObj}}]]}}))}))},config:{hiddenFooterBtns:["Clear"]},condition:function(t){return e.hasStaging(t)&&e.showStagingWeightChart}},{id:"stage_4_conditions",helpText:"Stage 4 conditions",type:s["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(4,e.stagingFacts.stageFourConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){return{tag:"staging",obs:t.map((function(t){return e.staging.buildWhoCriteriaObs(t.label)}))}},unload:function(t){e.stagingFacts.stageFourConditions=t.map((function(e){return e.label})),e.updateStagingFacts()},onConditionFalse:function(){e.stagingFacts.stageFourConditions=[],e.updateStagingFacts()},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_3_conditions",helpText:"Stage 3 conditions",type:s["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(3,e.stagingFacts.stageThreeConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){return{tag:"staging",obs:t.map((function(t){return e.staging.buildWhoCriteriaObs(t.label)}))}},unload:function(t){e.stagingFacts.stageThreeConditions=t.map((function(e){return e.label})),e.updateStagingFacts()},onConditionFalse:function(){e.stagingFacts.stageThreeConditions=[],e.updateStagingFacts()},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_2_conditions",helpText:"Stage 2 conditions",type:s["b"].TT_MULTIPLE_SELECT,options:function(){return e.buildStagingOptions(2,e.stagingFacts.stageTwoConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){return{tag:"staging",obs:t.map((function(t){return e.staging.buildWhoCriteriaObs(t.label)}))}},unload:function(t){e.stagingFacts.stageTwoConditions=t.map((function(e){return e.label})),e.updateStagingFacts()},onConditionFalse:function(){e.stagingFacts.stageTwoConditions=[],e.updateStagingFacts()},condition:function(t){return e.hasStaging(t)&&e.notAsymptomatic(t)}},{id:"stage_1_conditions",helpText:"Stage 1 conditions",type:s["b"].TT_MULTIPLE_SELECT,validation:function(t){if(Object(h["isEmpty"])(t)&&Object(h["isEmpty"])(e.stagingFacts.selectedConditions))return["Please provide atleast one staging condition"]},options:function(){return e.buildStagingOptions(1,e.stagingFacts.stageOneConditions)},onValue:function(t){return e.onStagingCondition(t)},computedValue:function(t){var n=t.map((function(e){return e.label}));return e.stagingFacts.stageOneConditions=n,e.updateStagingFacts(),{tag:"staging",obs:n.map((function(t){return e.staging.buildWhoCriteriaObs(t)}))}},condition:function(t){return e.hasStaging(t)}},{id:"cd4_available",helpText:"Recent CD4 count results available?",type:s["b"].TT_SELECT,condition:function(t){return e.hasStaging(t)},validation:function(e){return u["a"].required(e)},options:function(){return e.yesNoOptions()}},{id:"cd4_count",helpText:"CD4 Count",type:s["b"].TT_TEXT,computedValue:function(t){var n=t.value.toString(),r=n.charAt(0),i=parseInt(n.substring(1));return{tag:"staging",modifier:r,count:i,obs:e.staging.buildValueNumber("CD4 count",i,r)}},unload:function(t,n,r,i){var o=i["cd4_count"],a=o.count,c=o.modifier;e.stagingFacts.cd4=a,e.stagingFacts.cd4Modifier=c},onConditionFalse:function(){e.stagingFacts.cd4=-1,e.stagingFacts.cd4Modifier=""},validation:function(t){var n=function(){return e.staging.cd4CountIsValid(t.value)};return e.validateSeries([function(){return u["a"].required(t)},function(){return n()?null:["Please start with either modifier first: >, <, or ="]}])},config:{customKeyboard:[Y["b"],[["Unknown","Delete"]]]},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value}}],Object(z["b"])({id:"cd4_result_date",helpText:"Cd4 Results",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value},estimation:{allowUnknown:!1},computeValue:function(t,n){return{date:t,tag:"staging",isEstimate:n,obs:e.staging.buildValueDate("Cd4 count datetime",t)}}},this.staging.getDate()),[{id:"location",helpText:"CD4 Location",type:s["b"].TT_SELECT,computedValue:function(t){var n=t.label;return{tag:"staging",obs:e.staging.buildValueText("Cd4 count location",n)}},validation:function(e){return u["a"].required(e)},options:function(t,n){return void 0===n&&(n=""),e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0},condition:function(t){return e.hasStaging(t)&&"Yes"===t.cd4_available.value}}])}}});const $=K;var J=$,X=function(e){function t(t,n){return e.call(this,t,9,n)||this}return Object(r["c"])(t,e),t}(f["a"]),Q=n("b515"),Z=n("aee2"),ee=n("5a0c"),te=n.n(ee),ne=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.fetchAvailableDrugStock=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.getJson("pharmacy/items",{drug_id:e})];case 1:return t=n.sent(),t&&t.length>0?[2,t.reduce((function(e,t){return e+t.current_quantity}),0)]:[2]}}))}))},t}(p["d"]),re={11:[30],21:[25],22:[60],24:[30,60,90,100],30:[90],39:[60],73:[120],74:[60],76:[1e3],297:[30,60,90],576:[30,60,90],613:[60],731:[60],732:[60],733:[60],734:[30],735:[30],736:[60],738:[60],931:[30,60,90],932:[30],954:[60],963:[30,60,90],968:[60],969:[30],971:[30,60,90],976:[60],977:[30],982:[30],983:[30,90],1039:[30,60,90],1043:[60],1044:[30],1056:[24]},ie=function(e){function t(t,n){var r=e.call(this,t,54,n)||this;return r.drugHistory=[],r.currentDrugOrder=[],r.useDrugManagement=!1,r}return Object(r["c"])(t,e),t.prototype.loadDrugManagementEnabled=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,i["b"].drugManagementEnabled()];case 1:return e.useDrugManagement=t.sent(),[2]}}))}))},t.prototype.getDrugHistory=function(){return this.drugHistory},t.prototype.getCurrentOrder=function(){return this.currentDrugOrder},t.prototype.buildDispensations=function(e,t,n){for(var r=[],i=0;i<n;i++)r.push({drug_order_id:e,date:this.date,quantity:t/n});return r},t.prototype.saveDispensations=function(e){return f["a"].postJson("/dispensations",{dispensations:e,program_id:f["a"].getProgramID()})},t.prototype.voidOrder=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return[2,f["a"].void("/dispensations/"+e,{})]}))}))},t.prototype.loadDrugHistory=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,l["a"].getDrugOrderHistory(this.patientID)];case 1:return e=t.sent(),e&&(this.drugHistory=e),[2]}}))}))},t.prototype.loadCurrentDrugOrder=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i=this;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return[4,l["a"].getDrugOrders(this.patientID)];case 1:return e=o.sent(),e?this.useDrugManagement?(t=e.map((function(e){return Object(r["b"])(i,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=e,n="available_stock",[4,ne.fetchAvailableDrugStock(e.drug.drug_id)];case 1:return t[n]=r.sent(),[2,e]}}))}))})),n=this,[4,Promise.all(t)]):[3,3]:[3,4];case 2:return n.currentDrugOrder=o.sent(),[2];case 3:this.currentDrugOrder=e,o.label=4;case 4:return[2]}}))}))},t.prototype.getDrugPackSizes=function(e){return e in re?re[e]:[30,60,90]},t.prototype.calcCompletePack=function(e,t){var n=e.barcodes.sort((function(e,t){return e.tabs-t.tabs}));if(0==n.length||0==t)return t;for(var r in n){var i=n[r].tabs;if(parseInt(i)>=t)return i}var o=parseInt(n[n.length-1].tabs);return o},t}(f["a"]),oe=Object(o["defineComponent"])({mixins:[J],data:function(){return{registration:{},prescription:{},dispensation:{},regimens:[],customRegimens:[],vitals:{}}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return this.canShowStagingFields=!1,this.registration=new X(e.getID(),this.providerID),this.prescription=new v(e.getID(),this.providerID),this.dispensation=new ie(e.getID(),this.providerID),this.vitals=new Q["a"](e.getID(),this.providerID),[4,this.initStaging(this.patient)];case 1:return t.sent(),this.showStagingWeightChart=!1,this.fields=this.getRegistrationFields(),[2]}}))}))},deep:!0}},methods:{onSubmit:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,a,c;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return n=Object(r["a"])({},t),[4,this.registration.createEncounter()];case 1:return s.sent(),this.hasStaging(e)?[4,this.submitStaging(t)]:[3,6];case 2:return s.sent(),[4,this.vitals.createEncounter()];case 3:return s.sent(),o=(i=this.vitals).saveObservationList,[4,this.resolveObs(n,"vitals")];case 4:return[4,o.apply(i,[s.sent()])];case 5:s.sent(),s.label=6;case 6:return c=(a=this.registration).saveObservationList,[4,this.resolveObs(n,"reg")];case 7:return[4,c.apply(a,[s.sent()])];case 8:return s.sent(),e["received_arvs"].value.match(/yes/i)?[4,this.createArvDispensationAndTreatment(t)]:[3,10];case 9:s.sent(),s.label=10;case 10:return Object(_["d"])("Clinic registration complete!"),this.nextTask(),[2]}}))}))},createArvDispensationAndTreatment:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=e.arv_quantities,n=t.arvDrugOrders,i=t.buildDispensationOrders,[4,this.prescription.createEncounter()];case 1:return r.sent(),[4,this.prescription.createDrugOrder(n)];case 2:return o=r.sent(),[4,this.dispensation.saveDispensations(i(o))];case 3:return r.sent(),[2]}}))}))},buildDateObs:function(e,t,n){var r={};return r=t.match(/unknown/i)?this.registration.buildValueText(e,"Unknown"):n?this.registration.buildValueDateEstimated(e,t):this.registration.buildValueDate(e,t),r},getRegistrationFields:function(){var e=this;return Object(r["f"])([{id:"followup_agreement",helpText:"Agrees to follow-up",type:s["b"].TT_MULTIPLE_YES_NO,summaryMapValue:function(e){var t=e.value,n=e.label;return{value:t,label:n+" followup"}},validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].anyEmpty(t)}])},computedValue:function(t){var n=[];return t.forEach((function(t){var r=t.label,i=t.value;n.push(e.registration.buildValueCoded(r,i)),n.push(e.registration.buildValueCoded("Agrees to followup",r))})),{tag:"reg",obs:n}},options:function(){return[{label:"Phone",value:"",other:{values:e.yesNoOptions()}},{label:"Home visit",value:"",other:{values:e.yesNoOptions()}}]}},{id:"received_arvs",helpText:"Ever received ARVs for treatment or prophylaxis?",type:s["b"].TT_SELECT,computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Ever received ART",n)}},validation:function(e){return u["a"].required(e)},options:function(){return e.yesNoOptions()}}],Object(z["b"])({id:"date_last_taken_arvs",helpText:"Last taken ARVS",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},condition:function(e){return"Yes"===e.received_arvs.value},estimation:{allowUnknown:!0},computeValue:function(t,n){return{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Date ART last taken",t,n)}}},this.registration.getDate()),[{id:"taken_art_in_last_two_months",helpText:"Taken ARVs in the last two months?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"reg",obs:[e.registration.buildValueCoded("Has the patient taken ART in the last two months",n)]}},options:function(){return e.yesNoUnknownOptions()},condition:function(e){return"Unknown"===e.year_date_last_taken_arvs.value}},{id:"taken_art_in_last_two_weeks",helpText:"Taken ARV's in the last two weeks?",type:s["b"].TT_SELECT,computedValue:function(t,n){var i=t.value,o="",a=[],c=-1;return"Yes"===i?c=14:"Yes"===n.taken_art_in_last_two_months.value&&(c=60),c>0&&(o=d["a"].getDateBeforeByDays(e.registration.getDate(),c),a.push(e.registration.buildValueDateEstimated("Date ART last taken",o))),{date:o,tag:"reg",obs:Object(r["f"])(a,[e.registration.buildValueCoded("Has the patient taken ART in the last two weeks",i)])}},validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.taken_art_in_last_two_months.value},options:function(){return e.yesNoUnknownOptions()}},{id:"ever_registered_at_art_clinic",helpText:"Ever registered at an ART clinic?",type:s["b"].TT_SELECT,computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Ever registered at ART clinic",n)}},validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.received_arvs.value},options:function(){return e.yesNoOptions()}},{id:"location_of_art_initialization",helpText:"Location of ART initiation",type:s["b"].TT_SELECT,computedValue:function(t){var n=t.label;return{tag:"reg",obs:e.registration.buildValueText("Location of ART initiation",n)}},validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},options:function(t,n){return void 0===n&&(n=""),e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}],Object(z["b"])({id:"date_started_art",helpText:"Started ART",required:!0,unload:function(t,n,r,i){if("next"===n){var o=te()(i.date_started_art.date).diff(e.patient.getBirthdate(),"years");e.staging.setAge(o),e.stagingFacts.age=o,e.stagingFacts.ageInMonths=12*o}else e.staging.setAge(e.patient.getAge()),e.stagingFacts.age=e.patient.getAge(),e.stagingFacts.ageInMonths=e.patient.getAgeInMonths()},condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},estimation:{allowUnknown:!0,estimationFieldType:z["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t,n){return e.staging.setDate(t),e.vitals.setDate(t),{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Drug start date",t,n)}}},this.registration.getDate()),[{id:"previous_art_number",helpText:"ART number at previous location",type:s["b"].TT_TEXT,condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value},computedValue:function(t){return{tag:"reg",obs:e.registration.buildValueText("ART number at previous location",t.value)}},validation:function(e){return u["a"].required(e)}}],Object(z["b"])({id:"date_last_received_arvs",helpText:"Last ARV Dispensation",required:!0,condition:function(e){return!!(""+e.received_arvs.value).match(/yes/i)},minDate:function(e,t){return t["date_started_art"].date},maxDate:function(){return e.registration.getDate()},computeValue:function(t){return e.prescription.setDate(t),e.dispensation.setDate(t),t},estimation:{allowUnknown:!1}},this.registration.getDate()),[{id:"other_arv_regimens_received",proxyID:"arvs_received",helpText:"Last ARV drugs dispensed",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(e){return e.map((function(e){return e.other}))},options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return Object(h["isEmpty"])(this.customRegimens)?(e=new v(this.patientID,this.providerID),t=this,[4,e.getCustomIngridients()]):[2,this.customRegimens];case 1:return t.customRegimens=n.sent().map((function(e){return{label:e.name,value:e.drug_id,other:Object(r["a"])({},e)}})),[2,this.customRegimens]}}))}))},config:{showKeyboard:!0},condition:function(e){return!!(""+e.received_arvs.value).match(/yes/i)}},{id:"drug_interval",helpText:"Interval for last received ARVs",type:s["b"].TT_NEXT_VISIT_INTERVAL_SELECTION,condition:function(e){return(""+e.received_arvs.value).match(/yes/i)},validation:function(e){return u["a"].required(e)},unload:function(t){e.prescription.setNextVisitInterval(t.value)},options:function(){var t=[{label:"2 weeks",value:14},{label:"1 month",value:28},{label:"2 months",value:56},{label:"3 months",value:84},{label:"4 months",value:112},{label:"5 months",value:140},{label:"6 months",value:168},{label:"7 months",value:196},{label:"8 months",value:224},{label:"9 months",value:252},{label:"10 months",value:280},{label:"11 months",value:308},{label:"12 months",value:336}];return t.map((function(t){var n=t.label,r=t.value;e.prescription.setNextVisitInterval(r);var i=e.prescription.calculateDateFromInterval();return{label:n,value:r,other:{label:"Medication run-out date:",value:d["a"].toStandardHisDisplayFormat(i),other:{label:"",value:[]}}}}))},config:{showRegimenCardTitle:!1}},{id:"arv_quantities",helpText:"Amount of drugs dispensed",type:s["b"].TT_ADHERENCE_INPUT,validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return t.map((function(e){return""===e.value})).some(Boolean)?["Some Drugs are missing values"]:null}])},computedValue:function(t){var n=t.map((function(t){return e.prescription.toOrderObj(t.other["drug_id"],t.label,t.other["units"],1,0,"Daily (QOD)")})),r=function(n){return t.map((function(t){var r=t.other["drug_id"],i=Object(h["find"])(n,{drug:{drug_id:r}}),o=e.dispensation.getDrugPackSizes(r),a=parseInt(t.value),c=a/(o[0]||30);return e.dispensation.buildDispensations(i["order_id"],a,c)})).reduce((function(e,t){return e.concat(t)}),[])};return{arvDrugOrders:n,buildDispensationOrders:r}},options:function(e,t,n){return t.arvs_received.map((function(e){var t=e["alternative_drug_name"]||e["drug_name"]||e["name"],r=Object(h["find"])(n,{label:t});return{label:t,value:r?r.value:"",other:e}}))},condition:function(e){return(""+e.received_arvs.value).match(/yes/i)},config:{titles:{label:"Drugs",value:"Amount Received"}}},{id:"has_transfer_letter",helpText:"Has staging information?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Has transfer letter",n)}},options:function(){return e.yesNoOptions()},condition:function(e){return"Yes"===e.ever_registered_at_art_clinic.value}},{id:"height",helpText:"Height (CM)",type:s["b"].TT_NUMBER,condition:function(e){return"Yes"===e.has_transfer_letter.value},computedValue:function(t){var n=t.value;return{tag:"vitals",obs:e.vitals.buildValueNumber("Height",n)}},validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].isNumber(t)},function(){return u["a"].rangeOf(t,40,222)}])}},{id:"weight",helpText:"Weight (Kg)",type:s["b"].TT_TEXT,unload:function(t,n,i){return Object(r["b"])(e,void 0,void 0,(function(){var e,t,n,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=i.weight.value,t=i.height.value,[4,Z["a"].getBMI(e,t,this.patient.getGender(),this.patient.getAge())];case 1:return n=r.sent(),this.stagingFacts.bmi=n["index"],this.staging.isPedaid()?[4,this.patient.getMedianWeightHeight()]:[2];case 2:o=r.sent();try{this.stagingFacts.weightPercentile=parseFloat(e)/parseFloat(o["weight"])*100}catch(a){this.stagingFacts.weightPercentile=0}return[2]}}))}))},computedValue:function(t){var n=t.value;return{tag:"vitals",obs:e.vitals.buildValueNumber("weight",n)}},condition:function(e){return"Yes"===e.has_transfer_letter.value},validation:function(t){return e.validateSeries([function(){var n=Object(r["a"])(Object(r["a"])({},t),{other:{modifier:"."}});return e.vitals.isNotEmptyandFloat(n)},function(){return u["a"].rangeOf(t,1,300)}])},config:{customKeyboard:[[["1","2","3",""],["4","5","6",""],["7","8","9","."],["","0","",""]],[["Delete"]]]}}],this.getStagingFields(),[{id:"new_cd4_percent_available",helpText:"CD4 percent available",type:s["b"].TT_SELECT,options:function(){return e.yesNoOptions()},condition:function(e){return"Yes"===e.has_transfer_letter.value},validation:function(e){return u["a"].required(e)}},{id:"cd4_percent",helpText:"CD4 Percent",type:s["b"].TT_TEXT,condition:function(e){return"Yes"===e.new_cd4_percent_available.value},computedValue:function(t){var n=t.value;return{tag:"staging",obs:e.registration.buildValueNumber("CD4 percent",parseInt(n.toString().substring(1)),"%")}},onValue:function(t){return!(t.value&&!e.staging.cd4CountIsValid(t.value))||(Object(_["e"])("Cd4 percentage invalid. Use one modifier or start with either of these symbols: >, < or ="),!1)},validation:function(e){return u["a"].required(e)},config:{customKeyboard:[Y["b"],[["Delete"]]]}},{id:"type_of_confirmatory_hiv_test",helpText:"Confirmatory HIV test",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},onValue:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return"Not done"!==t.value?[3,2]:[4,Object(w["a"])("Reminder","UNKNOWN HIV CONFIRMATORY TEST","Please arrange for a confirmatory test",[{name:"Agreed",color:"success",slot:"start"}])];case 1:e.sent(),e.label=2;case 2:return[2,!0]}}))}))},computedValue:function(t){var n=t.value;return{tag:"reg",obs:e.registration.buildValueCoded("Confirmatory hiv test type",n)}},options:function(){return[{label:"Rapid antibody test",value:"HIV rapid test"},{label:"DNA PCR",value:"HIV DNA polymerase chain reaction"},{label:"Not done",value:"Not done"}]}},{id:"confirmatory_hiv_test_location",helpText:"Location of confirmatory HIV test",type:s["b"].TT_SELECT,computedValue:function(t){return{tag:"reg",obs:e.registration.buildValueText("Confirmatory HIV test location",t.label)}},validation:function(e){return u["a"].required(e)},condition:function(e){return"Not done"!=e.type_of_confirmatory_hiv_test.value},options:function(t,n){return void 0===n&&(n=""),e.getFacilities(n)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}],Object(z["b"])({id:"date_of_confirmatory_hiv_test",helpText:"Confirmatory HIV test",beforeNext:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){var e,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return"Yes"==n.received_arvs.value?[3,2]:(e=te()(this.staging.getDate()).diff(t,"days"),e>=20?[4,Object(w["a"])("Data inconsistency warning","Confirmatory Date for newly initiated ART patient is "+e+" days ago","Are you sure this is accurate?",[{name:"No, Re-enter date",slot:"start",color:"success"},{name:"Yes, its accurate",slot:"end",color:"danger"}])]:[3,2]);case 1:return i=r.sent(),[2,"Yes, its accurate"===i];case 2:return[2,!0]}}))}))},condition:function(e){return e.confirmatory_hiv_test_location.value},required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return e.staging.getDate()},estimation:{allowUnknown:!0,estimationFieldType:z["a"].MONTH_ESTIMATE_FIELD},computeValue:function(t,n){return{date:t,tag:"reg",isEstimate:n,obs:e.buildDateObs("Confirmatory HIV test date",t,n)}}},this.registration.getDate()),[this.getStagingSummaryField("Staging summary")])}}});const ae=I()(oe,[["render",P]]);var ce=ae;function se(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var ue=n("7920"),le=n("83af"),de=n("4db7"),pe=n("3e53"),be=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{appointmentDate:"",medicationRunOutDate:"",appointment:{},app:pe["a"].getActiveApp()}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return this.appointment=new le["a"](e.getID(),this.providerID),this.init(),[2]}))}))},deep:!0}},methods:{onFinish:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e,n,i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.appointment.createEncounter()];case 1:return e=r.sent(),e?[4,this.resolveObs(t,"obs")]:[2,Object(_["e"])("Unable to create encounter")];case 2:return n=r.sent(),[4,this.appointment.buildValueDate("Estimated date",this.appointmentDate)];case 3:return i=r.sent(),n.push(i),[4,this.appointment.saveObservationList(n)];case 4:return o=r.sent(),o?(Object(_["d"])("Encounter created"),a=new de["a"](this.patientID),"CxCa"===this.app.applicationName?[3,6]:[4,a.printVisitSummaryLbl()]):[2,Object(_["e"])("Unable to create Obs")];case 5:r.sent(),r.label=6;case 6:return this.nextTask(),[2]}}))}))},init:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.appointment.getNextAppointment()];case 1:return e=t.sent(),this.appointmentDate=e.appointment_date,this.medicationRunOutDate=e.drugs_run_out_date,this.fields=this.getFields(),[3,3];case 2:return t.sent(),Object(_["e"])("Next appointment is not available"),this.gotoPatientDashboard(),[3,3];case 3:return[2]}}))}))},getFields:function(){var e=this;return[{id:"set_appointment",helpText:"Appointments booking",type:s["b"].TT_APPOINTMENTS_ENTRY,validation:function(e){return u["a"].required(e)},computedValue:function(t){return{tag:"obs",obs:e.appointment.buildValueDate("Appointment date",t.value)}},config:{hiddenFooterBtns:["Clear"]},options:function(){return[{label:"",value:"",other:{runOutDate:e.medicationRunOutDate,appointmentDate:e.appointmentDate}}]}}]}}});const he=I()(be,[["render",se]]);var fe=he;function me(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{skipSummary:!0,fields:e.fields,onFinishAction:e.onSubmit,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var ge=function(e){function t(t,n){var r=e.call(this,t,68,n)||this;return r.lastDrugs=[],r.lastReceiptDate="",r}return Object(r["c"])(t,e),t.prototype.loadPreviousDrugs=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=new Date(this.date),e.setDate(e.getDate()-1),[4,f["a"].getJson("patients/"+this.patientID+"/drugs_received",{date:d["a"].toStandardHisFormat(e)})];case 1:return t=r.sent(),t?(this.lastDrugs=t.filter((function(e){return n.lastReceiptDate?new Date(e.order.start_date)>=new Date(n.lastReceiptDate):(n.lastReceiptDate=e.order.start_date,!0)})),[2]):[2]}}))}))},t.prototype.getReceiptDate=function(){return this.lastReceiptDate},t.prototype.getLastDrugs=function(){return this.lastDrugs},t.prototype.receivedDrugsBefore=function(){return!Object(h["isEmpty"])(this.lastDrugs)},t.prototype.buildPillCountObs=function(e,t){return this.buildValueNumber("Number of tablets brought to clinic",t,null,e)},t.prototype.buildAdherenceObs=function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,f["a"].getConceptID("Drug adherence",!0)];case 1:return i=r.sent(),[2,{concept_id:i,value_numeric:n,value_drug:t,value_modifier:"%",order_id:e,person_id:this.patientID,obs_datetime:f["a"].getSessionDate()}]}}))}))},t.prototype.isAdherenceGood=function(e){return e>=95&&e<=105},t.prototype.calculateAdherence=function(e,t,n){return Math.round(100*(e-t)/(e-n))},t.prototype.calculateExpected=function(e,t,n){var r=this.calculateDaysElapsed(n);return e-r*parseFloat(t.toString())},t.prototype.calculateDaysElapsed=function(e){var t=f["a"].getSessionDate(),n=Math.abs(new Date(t).getTime()-new Date(e).getTime()),r=Math.ceil(n/864e5);return r},t.prototype.calculateUnaccountedOrMissed=function(e,t){var n=parseFloat(e)-parseFloat(t);return n<0?-1*n+" missed":n+" unacc"},t}(f["a"]),Oe=Object(o["defineComponent"])({mixins:[y["a"]],data:function(){return{adherence:{},drugObs:[],askReasonForPoorAdherence:!1,calculationAgreementObs:[]}},methods:{initAdherence:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.adherence=new ge(e.getID(),t),[4,this.adherence.loadPreviousDrugs()];case 1:return n.sent(),[2]}}))}))},saveAdherence:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.adherence.createEncounter()];case 1:return n.sent(),[4,Promise.all(Object(r["f"])(this.drugObs,this.calculationAgreementObs))];case 2:return e=n.sent(),[4,this.adherence.saveObservationList(e)];case 3:return t=n.sent(),t?[2]:[2,Object(_["e"])("Unable to save patient observations")]}}))}))},buildAdherenceReport:function(e){var t=this,n=this.adherence.getReceiptDate(),r=this.adherence.calculateDaysElapsed(n),i="\n                Last visit: "+d["a"].toStandardHisDisplayFormat(n)+" \n                ("+r+" Days Elapsed)\n            ",o=[{indexes:[0,3,6],class:"adherence-col-bg"}],a=[],c=[i],s=[["Prescription"],["Tabs given"],["Tabs per day"],["Tabs remaining"],["Expected"],["Actual (counted)"],["Adherence"],["Doses missed/ Unaccounted for"],["Doses consumed"],["Art Adherence"]];return e.forEach((function(e,n){var r=t.adherenceStatus(e);c.push(e.drug.name),s[0].push(""),s[1].push(e.quantity),s[2].push(e.equivalent_daily_dose),s[3].push(""),s[4].push(t.calcPillsExpected(e)<0?0:t.calcPillsExpected(e)),s[5].push(e.pillsBrought),s[6].push(""),s[7].push(t.calcUnaccountedDoses(e)),s[8].push(t.calcAdherence(e)+"%"),s[9].push(r),a.push({index:n+1,row:9,class:r.match(/good/i)?"adherence-txt-good":"adherence-txt-bad"})})),[{label:"Selected Medication",value:"Table",other:{columns:c,rows:s,rowColors:o,cellColors:a}}]},adherenceStatus:function(e){var t=this.calcAdherence(e);return this.adherence.isAdherenceGood(t)?"Good adherence":"Explore problem"},calcAdherence:function(e){var t=this.calcPillsExpected(e);return this.adherence.calculateAdherence(e.quantity,e.pillsBrought,t)},calcUnaccountedDoses:function(e){var t=this.calcPillsExpected(e);return this.adherence.calculateUnaccountedOrMissed(t,e.pillsBrought)},calcPillsExpected:function(e){return this.adherence.calculateExpected(e.quantity,e.equivalent_daily_dose,e.order.start_date)},getAdherenceFields:function(e){var t=this;return void 0===e&&(e=!0),[{id:"pills_brought",helpText:"Pills remaining (brought to clinic)",type:s["b"].TT_ADHERENCE_INPUT,condition:function(){return e},validation:function(e){if(u["a"].required(e))return["No drugs available"];var t=e.map((function(e){return""===e.value}));return t.some(Boolean)?["Some values are missing"]:null},unload:function(e){return Object(r["b"])(t,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return this.drugObs=[],e.forEach((function(e){return Object(r["b"])(t,void 0,void 0,(function(){var t,n,i,o,a;return Object(r["d"])(this,(function(c){return t=e.other,n=t.drug,i=t.order,o=Object(r["a"])(Object(r["a"])({},e.other),{pillsBrought:e.value}),a=this.calcAdherence(o),this.drugObs.push(this.adherence.buildAdherenceObs(i.order_id,n.drug_id,a)),this.drugObs.push(this.adherence.buildPillCountObs(i.order_id,e.value)),this.askReasonForPoorAdherence||(this.askReasonForPoorAdherence=!this.adherence.isAdherenceGood(o)),[2]}))}))})),[2]}))}))},options:function(e){return Object(h["isEmpty"])(e.pills_brought)?t.adherence.getLastDrugs().map((function(e){return{label:e.drug.name,value:"",other:Object(r["a"])({},e)}})):e.pills_brought}},{id:"adherence_report",helpText:"ART adherence",type:s["b"].TT_TABLE_VIEWER,condition:function(){return e},options:function(e){return t.buildAdherenceReport(e.pills_brought.map((function(e){return Object(r["a"])(Object(r["a"])({},e.other),{pillsBrought:e.value})})))},config:{hiddenFooterBtns:["Clear"]}},{id:"agree_with_calculation",helpText:"Agree with adherence calculation",type:s["b"].TT_SELECT,condition:function(){return t.askReasonForPoorAdherence&&e},validation:function(e){return u["a"].required(e)},unload:function(e){var n=e.value;t.calculationAgreementObs=[t.adherence.buildValueCoded("Reason for poor treatment adherence",n)]},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]}}]}}});const ve=Oe;var _e=ve,je=Object(o["defineComponent"])({mixins:[_e],watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.initAdherence(e,this.providerID)];case 1:return t.sent(),this.fields=this.getAdherenceFields(),[2]}}))}))},deep:!0}},methods:{onSubmit:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.saveAdherence()];case 1:return e.sent(),this.nextTask(),[2]}}))}))}}});const ye=I()(je,[["render",me]]);var we=ye;function Ne(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("a623"),n("b64b");var Ce=n("53ca"),Ve=n("7957"),De=function(e){function t(t,n){return e.call(this,t,53,n)||this}return Object(r["c"])(t,e),t.prototype.getFamilyPlanningMethods=function(){return["ORAL CONTRACEPTIVE PILLS","DEPO-PROVERA","INTRAUTERINE CONTRACEPTION","CONTRACEPTIVE IMPLANT","MALE CONDOMS","FEMALE CONDOMS","TUBAL LIGATION","NONE"]},t.prototype.patientHitMenopause=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstObs(this.patientID,"Why does the woman not use birth control")];case 1:return e=t.sent(),[2,!(!e||"string"!==typeof(null===e||void 0===e?void 0:e.value_text))&&(!!e.value_text.match(/menopause/i)&&f["a"].obsInValidPeriod(e))]}}))}))},t.prototype.hasTreatmentHistoryObs=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstObs(this.patientID,"Previous TB treatment history")];case 1:return e=t.sent(),[2,e&&f["a"].obsInValidPeriod(e)]}}))}))},t.prototype.patientCompleted3HP=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstObs(this.patientID,"Previous TB treatment history")];case 1:return e=t.sent(),[2,!!(e&&"string"===typeof e.value_text&&f["a"].obsInValidPeriod(e)&&e.value_text.match(/complete/i))]}}))}))},t.prototype.getDrugSideEffects=function(){return f["a"].getJson("programs/"+f["a"].getProgramID()+"/patients/"+this.patientID+"/medication_side_effects",{date:this.date})},t.prototype.getClient=function(){return f["a"].getFirstValueCoded(this.patientID,"Patient Present")},t.prototype.clientDueForCxCa=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,f["a"].getJson("last_cxca_screening_details",{id:this.patientID,date:this.date})];case 1:return e=r.sent(),Object(h["isEmpty"])(e)?[2,!0]:(t=e["date_screened"],n=te()(this.date).diff(t,"years"),[2,n>=1])}}))}))},t.prototype.getTLObs=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=function(e){return e&&"Tubal ligation"===e.value_coded&&f["a"].obsInValidPeriod(e)},[4,f["a"].getFirstObs(this.patientID,"Family planning")];case 1:return t=r.sent(),e(t)?[2,e(t)]:[3,2];case 2:return[4,f["a"].getFirstObs(this.patientID,"Method of family planning")];case 3:return n=r.sent(),[2,e(n)]}}))}))},t.prototype.getPreviousDrugs=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,f["a"].getJson("patients/"+this.patientID+"/drugs_received")];case 1:return e=n.sent(),e?(t={},e.forEach((function(e){t[e.drug_inventory_id]=e})),[2,t]):[2]}}))}))},t.prototype.familyPlanningMethods=function(e,t){var n={"ORAL CONTRACEPTIVE PILLS":{"DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"DEPO-PROVERA":{"ORAL CONTRACEPTIVE PILLS":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"INTRAUTERINE CONTRACEPTION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"CONTRACEPTIVE IMPLANT":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"MALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"FEMALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","MALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"RYTHM METHOD":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","CONTRACEPTIVE IMPLANT":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"TUBAL LIGATION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N",VASECTOMY:"N"},VASECTOMY:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N"},NONE:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N","TUBAL LIGATION":"N"}},r=n[e];return t.map((function(e){return"N"===r[e.label]?{label:e.label,value:e.value,isChecked:!1,disabled:!0}:{label:e.label,value:e.value,isChecked:e.isChecked,disabled:!1}}))},t}(f["a"]),ke=n("c1e4"),Te=n("9b7c"),Ie=n("8a30"),xe=Object(o["withScopeId"])("data-v-10a26cd2");Object(o["pushScopeId"])("data-v-10a26cd2");var Se=Object(o["createTextVNode"])("VL milestone has been reached"),Pe=Object(o["createTextVNode"])(" Order VL"),Be=Object(o["createTextVNode"])(" Wait till next milestone"),Ae=Object(o["createTextVNode"])(" Remind me later ");Object(o["popScopeId"])();var Ee=xe((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),u=Object(o["resolveComponent"])("ion-header"),l=Object(o["resolveComponent"])("ion-content"),d=Object(o["resolveComponent"])("ion-button"),p=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:xe((function(){return[Object(o["createVNode"])(s,null,{default:xe((function(){return[Object(o["createVNode"])(c,null,{default:xe((function(){return[Se]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(l,{style:{overflowY:"hidden",background:"grey"}},{default:xe((function(){return[Object(o["createVNode"])("p",null,"ART start date : "+Object(o["toDisplayString"])(e.artStartDate),1),Object(o["createVNode"])("p",null,"Months on ART: "+Object(o["toDisplayString"])(e.monthsOnART),1),Object(o["createVNode"])("p",null,"Last VL order date "+Object(o["toDisplayString"])(e.lastOrder),1),Object(o["createVNode"])("p",null,"Current regimen / start date: "+Object(o["toDisplayString"])(e.currentRegimen)+" - "+Object(o["toDisplayString"])(e.regimenStartDate),1)]})),_:1}),Object(o["createVNode"])(p,null,{default:xe((function(){return[Object(o["createVNode"])(s,null,{default:xe((function(){return[Object(o["createVNode"])(d,{slot:"end",color:"success",size:"large",onClick:t[1]||(t[1]=function(t){return e.closeModal("order")})},{default:xe((function(){return[Pe]})),_:1}),Object(o["createVNode"])(d,{slot:"end",size:"large",onClick:t[2]||(t[2]=function(t){return e.closeModal("wait")})},{default:xe((function(){return[Be]})),_:1}),Object(o["createVNode"])(d,{slot:"start",color:"danger",size:"large",onClick:t[3]||(t[3]=function(t){return e.closeModal("later")})},{default:xe((function(){return[Ae]})),_:1})]})),_:1})]})),_:1})],64)})),Fe=Object(o["defineComponent"])({name:"Modal",props:{VLData:{type:Object,required:!0}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.artStartDate=d["a"].toStandardHisDisplayFormat(this.VLData.earliest_start_date),this.monthsOnART=this.VLData.period_on_art,this.lastOrder=this.VLData.last_order_date?d["a"].toStandardHisDisplayFormat(this.VLData.last_order_date):"N/A",this.currentRegimen=this.VLData.current_regimen.name?this.VLData.current_regimen.name:"Other",this.regimenStartDate=d["a"].toStandardHisDisplayFormat(this.VLData.current_regimen.date_started),[2]}))}))},methods:{closeModal:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ie["U"].dismiss(e)];case 1:return t.sent(),[2]}}))}))}},data:function(){return{content:"Content",artStartDate:"",monthsOnART:"",lastOrder:"",currentRegimen:"",regimenStartDate:""}},components:{IonHeader:Ie["q"],IonToolbar:Ie["N"],IonTitle:Ie["M"],IonContent:Ie["n"],IonFooter:Ie["o"],IonButton:Ie["d"]}});n("d42f");const Re=I()(Fe,[["render",Ee],["__scopeId","data-v-10a26cd2"]]);var Le=Re,Me=function(e){function t(t,n){return e.call(this,t,13,n)||this}return Object(r["c"])(t,e),t.prototype.buildDefferedOrder=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,f["a"].getConceptID("HIV viral load")];case 1:return t=r.sent(),[4,f["a"].getConceptID("Delayed milestones")];case 2:return n=r.sent(),[2,[{concept_id:t,value_text:"Wait till next milestone",value_coded:n,value_numeric:e}]]}}))}))},t}(f["a"]),He=Object(o["withScopeId"])("data-v-546674a2");Object(o["pushScopeId"])("data-v-546674a2");var Ue=Object(o["createTextVNode"])("Side effects suspected causes"),qe={style:{}},Ge=Object(o["createVNode"])("div",{class:"side-title"}," Select reason ",-1),ze=Object(o["createVNode"])("p",null,"Current Medication",-1),Ye=Object(o["createVNode"])("p",null,"Previous Medication",-1),We=Object(o["createTextVNode"])("Other, not drug related"),Ke=Object(o["createTextVNode"])("Drug side effect"),$e=Object(o["createVNode"])("p",null,null,-1),Je=Object(o["createTextVNode"])(" Close "),Xe=Object(o["createTextVNode"])(" Save ");Object(o["popScopeId"])();var Qe=He((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),u=Object(o["resolveComponent"])("ion-header"),l=Object(o["resolveComponent"])("ion-label"),d=Object(o["resolveComponent"])("ion-item"),p=Object(o["resolveComponent"])("ion-list"),b=Object(o["resolveComponent"])("ion-col"),h=Object(o["resolveComponent"])("ion-radio"),f=Object(o["resolveComponent"])("ion-radio-group"),m=Object(o["resolveComponent"])("ion-row"),g=Object(o["resolveComponent"])("ion-grid"),O=Object(o["resolveComponent"])("ion-content"),v=Object(o["resolveComponent"])("ion-button"),_=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:He((function(){return[Object(o["createVNode"])(s,null,{default:He((function(){return[Object(o["createVNode"])(c,null,{default:He((function(){return[Ue]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,{style:{overflowY:"hidden",background:"grey"}},{default:He((function(){return[Object(o["createVNode"])(g,null,{default:He((function(){return[Object(o["createVNode"])(m,null,{default:He((function(){return[Object(o["createVNode"])(b,{size:"4"},{default:He((function(){return[Object(o["createVNode"])(p,{style:{overflowY:"auto",height:"78vh"}},{default:He((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.sides,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t,onClick:function(t){return e.selectSideEffect(n)},detail:!0,style:e.activeIndex===n?"color: green":"color: black"},{default:He((function(){return[Object(o["createVNode"])(l,null,{default:He((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick","style"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(b,{style:{overflowY:"auto",height:"78vh"}},{default:He((function(){return[Object(o["createVNode"])("div",qe,[Object(o["createVNode"])(p,null,{default:He((function(){return[null!==e.activeIndex?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:0,modelValue:e.sides[e.activeIndex]["reason"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.sides[e.activeIndex]["reason"]=t})},{default:He((function(){return[Ge,ze,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:t},{default:He((function(){return[Object(o["createVNode"])(l,null,{default:He((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.drug.name),1)]})),_:2},1024),Object(o["createVNode"])(h,{slot:"start",value:e.drug_inventory_id},null,8,["value"])]})),_:2},1024)})),128)),Ye,Object(o["createVNode"])(d,null,{default:He((function(){return[Object(o["createVNode"])(l,null,{default:He((function(){return[We]})),_:1}),Object(o["createVNode"])(h,{slot:"start",value:"other"})]})),_:1}),Object(o["createVNode"])(d,null,{default:He((function(){return[Object(o["createVNode"])(l,null,{default:He((function(){return[Ke]})),_:1}),Object(o["createVNode"])(h,{slot:"start",value:"drug"})]})),_:1})]})),_:1},8,["modelValue"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]),$e]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(_,null,{default:He((function(){return[Object(o["createVNode"])(s,null,{default:He((function(){return[Object(o["createVNode"])(v,{onClick:e.closeModal,slot:"end",color:"danger"},{default:He((function(){return[Je]})),_:1},8,["onClick"]),Object(o["createVNode"])(v,{onClick:e.postSideEffects,slot:"end",disabled:!e.allSelected},{default:He((function(){return[Xe]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})],64)})),Ze=Object(o["defineComponent"])({name:"Modal",props:{sideEffects:{type:Object,required:!0},drugs:{type:Array,default:[]}},methods:{closeModal:function(){Ie["U"].dismiss()},postSideEffects:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,Ie["U"].dismiss(this.sides)];case 1:return e.sent(),[2]}}))}))},selectSideEffect:function(e){this.activeIndex=e}},computed:{allSelected:function(){return this.sides.filter((function(e){return e["reason"]})).length===this.sides.length}},mounted:function(){this.sides=this.sideEffects},data:function(){return{content:"Content",extendedLabsEnabled:!1,appActivities:[],sides:[],specimens:[],reasons:["Routine","Targeted","Confirmatory","Stat","Repeat / Missing"],activeIndex:null}},components:{IonButton:Ie["d"],IonContent:Ie["n"],IonHeader:Ie["q"],IonTitle:Ie["M"],IonToolbar:Ie["N"],IonLabel:Ie["v"],IonList:Ie["w"],IonItem:Ie["u"],IonRadioGroup:Ie["D"],IonRow:Ie["F"]}});n("e96c");const et=I()(Ze,[["render",Qe],["__scopeId","data-v-546674a2"]]);var tt=et,nt=n("9ceb"),rt=n("8df6"),it=Object(o["defineComponent"])({mixins:[_e],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],weightTrail:[],isDrugRefillPatient:!1,weightLossPercentageNum:0,lostTenPercentBodyWeight:!1,CxCaEnabled:!1,CxCaStartAge:-1,CxCaMaxAge:-1,DueForCxCa:!1,currentlyPregnant:!1,patientHitMenopause:!1,hasPregnancyObsToday:!1,autoSelect3HP:!1,labOrderFieldContext:{},consultation:{},completed3HP:!1,hasTbHistoryObs:!1,allergicToSulphur:!1,TBSuspected:!1,presentedTBSymptoms:!1,askAdherence:!1,lastDrugsReceived:[],sideEffectsHistory:{},onPermanentFPMethods:!1,guardianVisit:!1,reasonForDecliningTPTObs:{},malawiSideEffectReasonObs:[],otherSideEffectReasonObs:[]}},watch:{ready:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,o,a,c,s,u,l,d,p,b,h,f,m,g,O;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e?(this.consultation=new De(this.patientID,this.providerID),[4,this.initAdherence(this.patient,this.providerID)]):[3,21];case 1:return r.sent(),[4,this.guardianOnlyVisit()];case 2:return r.sent(),t=this,[4,rt["a"].isDrugRefillPatient(this.patientID)];case 3:return t.isDrugRefillPatient=r.sent(),n=this,[4,this.consultation.getDrugSideEffects()];case 4:return n.sideEffectsHistory=r.sent(),o=this,[4,this.consultation.hasTreatmentHistoryObs()];case 5:return o.hasTbHistoryObs=r.sent(),a=this,[4,i["b"].cervicalCancerScreeningEnabled()];case 6:return a.CxCaEnabled=r.sent(),c=this,[4,this.patient.getWeightHistory()];case 7:return c.weightTrail=r.sent(),this.weightLossPercentageNum=this.patient.getWeightLossPercentageFromTrail(this.weightTrail),this.lostTenPercentBodyWeight=this.weightLossPercentageNum>=10,this.CxCaEnabled?[4,i["b"].cervicalCancerScreeningAgeBounds()]:[3,10];case 8:return s=r.sent(),u=s.start,l=s.end,this.CxCaMaxAge=l,this.CxCaStartAge=u,d=this,[4,this.consultation.clientDueForCxCa()];case 9:d.DueForCxCa=r.sent(),r.label=10;case 10:return this.patient.isChildBearing()?(p=this,[4,this.patient.hasPregnancyObsToday()]):[3,13];case 11:return p.hasPregnancyObsToday=r.sent(),b=this,[4,this.patient.isPregnant()];case 12:b.currentlyPregnant=r.sent(),r.label=13;case 13:return this.patient.isFemale()?(h=this,[4,this.consultation.patientHitMenopause()]):[3,15];case 14:h.patientHitMenopause=r.sent(),r.label=15;case 15:return this.hasTbHistoryObs?(f=this,[4,this.consultation.patientCompleted3HP()]):[3,17];case 16:f.completed3HP=r.sent(),r.label=17;case 17:return m=this,[4,i["b"].threeHPAutoSelectEnabled()];case 18:return m.autoSelect3HP=r.sent(),this.askAdherence=this.adherence.receivedDrugsBefore(),this.fields=this.getFields(),g=this,[4,this.consultation.getTLObs()];case 19:return g.onPermanentFPMethods=r.sent(),O=this,[4,this.consultation.getPreviousDrugs()];case 20:O.lastDrugsReceived=r.sent(),r.label=21;case 21:return[2]}}))}))},deep:!0,immediate:!0}},methods:{onFinish:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e,n,i,o;return Object(r["d"])(this,(function(a){switch(a.label){case 0:return[4,this.consultation.createEncounter()];case 1:return e=a.sent(),e?[4,this.resolveObs(t)]:[2,Object(_["e"])("Unable to create encounter")];case 2:return n=a.sent(),[4,Promise.all(Object(r["f"])(this.malawiSideEffectReasonObs,this.otherSideEffectReasonObs,[this.reasonForDecliningTPTObs]))];case 3:return i=a.sent().filter((function(e){return!Object(h["isEmpty"])(e)})),[4,this.consultation.saveObservationList(Object(r["f"])(n,i))];case 4:return o=a.sent(),!this.askAdherence||this.isNonePatientClient()?[3,6]:[4,this.saveAdherence()];case 5:a.sent(),a.label=6;case 6:return o?(Object(_["d"])("Observations and encounter created!"),this.nextTask(),[2]):[2,Object(_["e"])("Unable to save patient observations")]}}))}))},checkIfWeightLossIsControlled:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.lostTenPercentBodyWeight&&(""+e.label).match(/malnutrition/i)&&(""+e.value).match(/no/i)?[4,Object(w["a"])("Recommendation","Patient's weight has dropped by "+this.weightLossPercentageNum+"% , is this controlled weight loss??","Please verify",[{name:"Confirm weight loss",slot:"start",color:"success"},{name:"Confirm controlled",slot:"end",color:"primary"}])]:[3,2];case 1:t=n.sent(),e.value="Confirm weight loss"===t?"Yes":"No",n.label=2;case 2:return[2]}}))}))},guardianOnlyVisit:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.consultation.getClient()];case 1:return e=t.sent(),this.guardianVisit="No"===e,[2]}}))}))},checkVLReminder:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,D["a"].getPatientVLInfo(this.patientID)];case 1:return e=r.sent(),!0!==e.eligibile?[3,10]:[4,Ie["U"].create({component:Le,backdropDismiss:!1,cssClass:"large-modal",componentProps:{VLData:e}})];case 2:return t=r.sent(),t.present(),[4,t.onDidDismiss()];case 3:switch(n=r.sent().data,i=n,i){case"order":return[3,4];case"wait":return[3,6];case"later":return[3,8]}return[3,9];case 4:return[4,this.labOrderFieldContext.launchOrderSelection()];case 5:return r.sent(),[3,10];case 6:return[4,this.waitForVL()];case 7:return r.sent(),[3,10];case 8:return[3,10];case 9:return[3,10];case 10:return[2]}}))}))},waitForVL:function(e){return void 0===e&&(e=null),Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=new Me(this.patientID,this.providerID),[4,t.createEncounter()];case 1:return n=r.sent(),[4,t.buildDefferedOrder(e)];case 2:return i=r.sent(),n?[4,t.saveObservationList(i)]:[2,Object(_["e"])("Unable to create encounter")];case 3:return r.sent(),[2]}}))}))},canScreenCxCa:function(){var e=this.patient.getAge();return this.patient.isFemale()&&this.DueForCxCa&&this.CxCaEnabled&&e>=this.CxCaStartAge&&e<=this.CxCaMaxAge},pregnancyEligible:function(){return this.patient.isChildBearing()&&!this.onPermanentFPMethods},showCurrentContraceptionMethods:function(e){return this.pregnancyEligible()&&!this.patientHitMenopause&&!this.isPregnant(e)},showNewContraceptionMethods:function(e){return this.pregnancyEligible()&&!this.patientHitMenopause&&!this.isPregnant(e)&&!this.isOnTubalLigation(e)},isPregnant:function(e){try{return this.currentlyPregnant||this.inArray(e.pregnant_breastfeeding,(function(e){return"Pregnant"===e.label&&"Yes"===e.value}))}catch(t){return!1}},isOnTubalLigation:function(e){return this.inArray(e.current_fp_methods,(function(e){return"TUBAL LIGATION"===e.value}))},disableFPMethods:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["d"])(this,(function(r){return t.isChecked&&"NONE"===t.label?[2,e.map((function(e){return"NONE"!=e.label&&(e.isChecked=!1,e.disabled=!1),e}))]:"NONE"!=t.label&&t.isChecked?(t.label.match(/condom/gi)&&Object(_["b"])("Combine with other modern methods of family planning"),n=Object(h["findIndex"])(e,{label:"NONE"}),e[n].isChecked=!1,i=this.consultation.familyPlanningMethods(t.label,e),o=Object(h["findIndex"])(i,{label:t.label}),i[o].isChecked=!0,[2,i]):[2,e.map((function(e){return e.disabled=!1,e}))]}))}))},disablePrescriptions:function(e,t){if(t.isChecked&&"NONE OF THE ABOVE"===t.label)return e.map((function(e){return"NONE OF THE ABOVE"!=e.label&&(e.isChecked=!1),e}));if("NONE OF THE ABOVE"!=t.label&&t.isChecked){var n=Object(h["findIndex"])(e,{label:"NONE OF THE ABOVE"});e[n].isChecked=!1}return e},buildMedicationOrders:function(e){var t=this;if(this.inArray(e,(function(e){return"NONE OF THE ABOVE"===e.label})))return this.consultation.buildValueCoded("Prescribe drugs","No");var n=this.consultation.buildValueCoded("Prescribe drugs","Yes"),i=e.map((function(e){return t.consultation.buildValueCoded("Medication orders",e.label)}));return Object(r["f"])([n],i)},declinedFPM:function(e){return this.inArray(e.fp_methods,(function(e){return"NONE"===e.value}))},riskOfUnplannedPregnancy:function(e){return"At risk of unplanned pregnancy"===e.reason_for_no_fpm.value},showOtherSideEffects:function(e){return this.inArray(e.side_effects,(function(e){return"Other"===e.label&&"Yes"===e.value}))},hasTBSymptoms:function(e){return this.presentedTBSymptoms=this.inArray(e.tb_side_effects,(function(e){return"Yes"===e.value})),this.presentedTBSymptoms},buildSideEffectObs:function(e,t){return Object(r["b"])(this,void 0,Promise,(function(){var n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.getSideEffectsReasons(e)];case 1:return n=r.sent(),this[t]=[],void 0===n?[2,!1]:(-1!=n&&(i=E["a"].getCachedConceptID("Drug induced",!0),o=function(e){return!!(""+e).match(/other|drug/i)},this[t]=n.map((function(e){return{concept_id:i,value_coded:E["a"].getCachedConceptID(e.label,!0),value_text:o(e.reason)?"Past medication history":null,value_drug:o(e.reason)?null:e.reason}}))),[2,!0])}}))}))},getSideEffectsReasons:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=e.filter((function(e){return!(""+e.label).match(/other/i)&&"Yes"===e.value})),t.length>0?[4,Ie["U"].create({component:tt,backdropDismiss:!1,cssClass:"large-modal",componentProps:{sideEffects:t,drugs:this.lastDrugsReceived}})]:[3,3];case 1:return n=r.sent(),n.present(),[4,n.onDidDismiss()];case 2:return i=r.sent().data,[2,i];case 3:return[2,-1]}}))}))},getFPMethods:function(e,t){void 0===e&&(e=[]);var n=this.consultation.getFamilyPlanningMethods(),r=n.filter((function(t){return!e.includes(t)}));return r.map((function(e){return{label:e,value:e,isChecked:t.map((function(e){return e.label})).includes(e)}}))},getOptions:function(e,t){var n=this;return e.map((function(e){var r=Object(h["find"])(t,{label:e});return{label:e,value:r?r.value:"",other:{values:n.yesNoOptions()}}}))},getContraindications:function(e){var t=E["a"].getConceptsByCategory("contraindication",!0).map((function(e){return e.name}));return this.getOptions(Object(r["f"])(t,["Other"]),e)},getOtherContraindications:function(e){var t=E["a"].getConceptsByCategory("side_effect",!0).map((function(e){return e.name})),n=t.pop();return this.getOptions(Object(r["f"])(t,["Other (Specify)",""+n]),e)},getTBSymptoms:function(e){var t=E["a"].getConceptsByCategory("tb_symptom",!0).map((function(e){return e.name}));return this.getOptions(Object(r["f"])(t),e)},getReasonsForNoCxcaOptions:function(){return E["a"].getConceptsByCategory("reason_for_no_cxca").map((function(e){return{label:e.name,value:e.name,other:{c:e}}}))},runAppendOptionParams:function(e,t){var n=t.filter((function(e){return e.isChecked})).map((function(e){return e.label}));return e.map((function(e){var t,i;if("function"===typeof(null===(t=null===e||void 0===e?void 0:e.other)||void 0===t?void 0:t.appendOptionParams)){var o=null===(i=null===e||void 0===e?void 0:e.other)||void 0===i?void 0:i.appendOptionParams();if("object"===Object(Ce["a"])(o)){var a={label:e.label,value:e.value,other:e.other};return o.isChecked?(a.isChecked=o.isChecked,delete o.isChecked):a.isChecked=n.includes(e.label),Object(r["a"])(Object(r["a"])({},a),o)}}return e}))},didCompleted3HP:function(e){return!!this.completed3HP||!(!e.routine_tb_therapy||!e.routine_tb_therapy.value.match(/complete/i))},tptAutoSelectionMode:function(e){return this.autoSelect3HP&&!this.didCompleted3HP(e)},on3HPValueUpdate:function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i,o,a,c,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return i=function(e){return e.label.match(/ipt|3hp/i)},o=e.filter((function(e){return i(e)})).map((function(e){return e.isChecked})).every(Boolean),a=i(t)&&e.filter((function(e){return i(e)})).map((function(e){return!e.isChecked})).every(Boolean),a&&this.tptAutoSelectionMode(n)?[4,Object(w["c"])("Reasons for declining TPT","",["Patient declined","Side-effects (previous or current)","Stock-out","Starting TB treatment","Other"],[{name:"Done",slot:"start",role:"action"}])]:[3,2];case 1:return c=r.sent(),this.reasonForDecliningTPTObs=this.consultation.buildValueText("Other reason for not seeking services",c.selection),[3,3];case 2:this.reasonForDecliningTPTObs={},r.label=3;case 3:return o?[4,Object(w["a"])("IPT / 3HP conflict","IPT and 3HP can NOT be prescribed together","Please pick either one",[{name:"Prescribe 3HP",slot:"start",color:"primary"},{name:"Prescribe IPT",slot:"end",color:"primary"}])]:[3,5];case 4:return s=r.sent(),[2,e.map((function(e){return i(e)&&(e.isChecked="Prescribe IPT"===s&&"IPT"===e.label||"Prescribe 3HP"===s&&"3HP (RFP + INH)"===e.label),e}))];case 5:return[2,e]}}))}))},medicationOrderOptions:function(e,t){var n=this;void 0===t&&(t=[]);var r=this.didCompleted3HP(e),i=this.tptAutoSelectionMode(e),o=function(e){return{disabled:!0,isChecked:!1,description:{color:"danger",show:"always",text:e}}};return this.runAppendOptionParams([this.toOption("ARVs",{appendOptionParams:function(){return{isChecked:i&&!n.TBSuspected}}}),this.toOption("CPT",{appendOptionParams:function(){return!i||n.TBSuspected||n.allergicToSulphur?n.allergicToSulphur?o("Allergic to CPT"):{disabled:!1}:{isChecked:!0}}}),this.toOption("3HP (RFP + INH)",{appendOptionParams:function(){return r?o("Completed 3HP"):n.TBSuspected?o("TB Suspect"):{isChecked:i}}}),this.toOption("IPT",{appendOptionParams:function(){return r?o("Completed 3HP"):n.TBSuspected?o("TB Suspect"):void 0}}),this.toOption("NONE OF THE ABOVE")],t)},isNonePatientClient:function(){return this.guardianVisit||this.isDrugRefillPatient},getFields:function(){var e=this;return Object(r["f"])([{id:"other_patient_prescription",proxyID:"prescription",helpText:"Medication to prescribe during this visit",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.buildMedicationOrders(t)},onValueUpdate:function(t,n,r){var i=e.disablePrescriptions(t,n);return e.on3HPValueUpdate(i,n,r)},options:function(t,n,r,i){return Object(h["isEmpty"])(i)?e.medicationOrderOptions(t):i},condition:function(){return e.isNonePatientClient()},exitsForm:function(){return!0}},{id:"patient_lab_orders",helpText:"Lab orders",type:s["b"].TT_LAB_ORDERS,unload:function(){return e.checkVLReminder()},onload:function(t){return e.labOrderFieldContext=t},options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Te["a"].getOrders(this.patientID)];case 1:return e=n.sent(),t=Te["a"].formatLabs(e),[2,[{label:"Lab orders",value:"order trail",other:{values:t}}]]}}))}))},config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Order",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return Object(h["isEmpty"])(this.labOrderFieldContext)?[3,2]:[4,this.labOrderFieldContext.launchOrderSelection()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}}]}},{id:"pregnant_breastfeeding",helpText:"Patient Pregnant or breastfeeding?",condition:function(){return!e.hasPregnancyObsToday&&e.pregnancyEligible()},type:s["b"].TT_MULTIPLE_YES_NO,validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].anyEmpty(t)}])},computedValue:function(t){return t.map((function(t){return e.consultation.buildValueCoded(t.other.concept,t.value)}))},options:function(t){var n=[{label:"Pregnant",value:"",other:{values:e.yesNoOptions(),concept:"Is patient pregnant"}},{label:"Breastfeeding",value:"",other:{values:e.yesNoOptions(),concept:"Is patient breast feeding"}}];return t.pregnant_breastfeeding?t.pregnant_breastfeeding:n}},{id:"patient_weight_chart",helpText:"Patient weight chart",type:s["b"].TT_WEIGHT_CHART,options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.patient.getBMI()];case 1:return e=n.sent(),t=this.weightTrail,[2,[{label:"Weight for patient",value:"Weight trail",other:{bmi:e,values:t.map((function(e){return{x:d["a"].toStandardHisDisplayFormat(e.date),y:e.weight}})),age:this.patient.getAge()}}]]}}))}))},config:{hiddenFooterBtns:["Clear"]}},{id:"has_fp_methods",helpText:"",type:s["b"].TT_TEXT_BANNER,condition:function(){return e.onPermanentFPMethods},options:function(){return e.mapStrToOptions(["Patient is on Tubal ligation method"])}},{id:"current_fp_methods",helpText:"What method are you currently on?",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return u["a"].required(e)},onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},computedValue:function(t){return t.map((function(t){return e.consultation.buildValueCoded("Family planning method",t.value)}))},condition:function(t){return e.showCurrentContraceptionMethods(t)},options:function(t,n){return e.getFPMethods([],n)}},{id:"fp_methods",helpText:"What method are you providing today?",type:s["b"].TT_MULTIPLE_SELECT,condition:function(t){return e.showNewContraceptionMethods(t)},validation:function(e){return u["a"].required(e)},onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},computedValue:function(t){return t.map((function(t){return e.consultation.buildValueCoded("Family planning, action to take",t.value)}))},options:function(t,n){return e.getFPMethods([],n)}},{id:"reason_for_no_fpm",helpText:"Main reason for not using family planning methods",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(t){return e.declinedFPM(t)},computedValue:function(t){return e.consultation.buildValueText("Why does the woman not use birth control",t.value)},options:function(){return e.mapStrToOptions(["Not Sexually active","Patient want to get pregnant","Not needed for medical reasons","At risk of unplanned pregnancy","Menopause"])}},{id:"specific_reason_for_no_fpm",helpText:"Specific reason for not using family planning methods",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.consultation.buildValueText("Reason for not using contraceptives",t.value)},condition:function(t){return e.riskOfUnplannedPregnancy(t)},options:function(){return e.mapStrToOptions(["Following wishes of spouse","Religious reasons","Afraid of side effects","Never though about it","Indifferent (does not mind getting pregnant)"])}},{id:"offer_contraceptives",helpText:"Offer contraceptives",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(t){return e.riskOfUnplannedPregnancy(t)},computedValue:function(t){return e.consultation.buildValueCoded("Family planning, action to take",t.value)},options:function(){return[{label:"Accepted",value:"Yes"},{label:"Declined",value:"No"},{label:"Discuss with spouse",value:"Discuss with spouse"}]}},{id:"offered_intervention",helpText:"Offered intervention",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return u["a"].required(e)},condition:function(e){return"Accepted"===e.offer_contraceptives.value},computedValue:function(t){return t.map((function(t){return e.consultation.buildValueCoded(t.label,t.value)}))},options:function(t,n){return e.getFPMethods(["NONE"],n)}},{id:"offer_cxca",helpText:"Refer client for CxCa screening",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(t){return e.canScreenCxCa()&&!e.isPregnant(t)},computedValue:function(t){return e.consultation.buildValueCoded("Offer CxCa",t.value)},options:function(){return e.yesNoOptions()}},{id:"reason_for_no_cxca",helpText:"Reason for NOT offering CxCa",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(e){return"No"===e.offer_cxca.value},computedValue:function(t){return e.consultation.buildValueCoded("Reason for NOT offering CxCa",t.value)},options:function(){return e.getReasonsForNoCxcaOptions()}}],Object(z["b"])({id:"previous_cxca_test_date",helpText:"Previous CxCa test",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return De.getSessionDate()},condition:function(e){return"Not due for screening"===e.reason_for_no_cxca.value},computeValue:function(t,n){return n?e.consultation.buildValueDateEstimated("CxCa test date",t):e.consultation.buildValueDate("CxCa test date",t)},estimation:{allowUnknown:!0,estimationFieldType:z["a"].MONTH_ESTIMATE_FIELD}}),[{id:"previous_side_effects",helpText:"Side effects / Contraindications history",type:s["b"].TT_DATA_TABLE,config:{columns:function(){return[[nt["a"].thTxt("Date"),nt["a"].thTxt("Condition"),nt["a"].thTxt("Drug induced"),nt["a"].thTxt("Drug")]]},rows:function(){return Object.keys(e.sideEffectsHistory).map((function(t){return Object.values(e.sideEffectsHistory[t]).filter((function(e){return!Object(h["isEmpty"])(e.name)})).map((function(e){return[nt["a"].tdDate(t),nt["a"].td(e.name),nt["a"].td(e.drug_induced?"Yes":"No"),nt["a"].td(e.drug)]}))})).reduce((function(e,t){return e.concat(t)}),[])}}},{id:"side_effects",helpText:"Contraindications / Side effects (select either 'Yes' or 'No')",type:s["b"].TT_MULTIPLE_YES_NO,validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].anyEmpty(t)}])},computedValue:function(t){return t.map((function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e,n,i;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return e=[{}],[4,this.consultation.buildValueCoded("Malawi ART side effects",t.label)];case 1:return n=[r["a"].apply(void 0,e.concat([o.sent()]))],i={},[4,this.consultation.buildValueCoded(t.label,t.value)];case 2:return[2,r["a"].apply(void 0,n.concat([(i.child=o.sent(),i)]))]}}))}))}))},beforeNext:function(t){return e.buildSideEffectObs(t,"malawiSideEffectReasonObs")},options:function(t,n){return e.getContraindications(n)}},{id:"other_side_effects",helpText:"Other Contraindications / Side effects (select either 'Yes' or 'No')",type:s["b"].TT_MULTIPLE_YES_NO,onValue:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.checkIfWeightLossIsControlled(t)];case 1:return e.sent(),[2,!0]}}))}))},condition:function(t){return e.showOtherSideEffects(t)},onConditionFalse:function(){return e.otherSideEffectReasonObs=[]},validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].anyEmpty(t)}])},computedValue:function(t){return t.filter((function(e){return"Other (Specify)"!=e.label})).map((function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e,n,i;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return e=[{}],[4,this.consultation.buildValueCoded("Other side effect",t.label)];case 1:return n=[r["a"].apply(void 0,e.concat([o.sent()]))],i={},[4,this.consultation.buildValueCoded(t.label,t.value)];case 2:return[2,r["a"].apply(void 0,n.concat([(i.child=o.sent(),i)]))]}}))}))}))},beforeNext:function(t){return e.buildSideEffectObs(t,"otherSideEffectReasonObs")},options:function(t,n){return e.getOtherContraindications(n)}},{id:"other_side_effect_specify",helpText:"Other Contraindications / Side effects (specify)",type:s["b"].TT_NOTE,computedValue:function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e,n,i;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return e=[{}],[4,this.consultation.buildValueCoded("Other side effect","Other (Specify)")];case 1:return n=[r["a"].apply(void 0,e.concat([o.sent()]))],i={},[4,this.consultation.buildValueText("Other (Specify)",t.value)];case 2:return[2,r["a"].apply(void 0,n.concat([(i.child=o.sent(),i)]))]}}))}))},condition:function(t){return e.inArray(t.other_side_effects,(function(e){return"Other (Specify)"===e.label&&"Yes"===e.value}))},validation:function(e){return u["a"].required(e)}},{id:"on_tb_treatment",helpText:"On TB Treatment?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.TBSuspected="Yes"===t.value,e.consultation.buildValueCoded("TB treatment",t.value)},options:function(){return e.yesNoOptions()}},{id:"tb_side_effects",helpText:"TB Associated symptoms",type:s["b"].TT_MULTIPLE_YES_NO,onValue:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.checkIfWeightLossIsControlled(t)];case 1:return e.sent(),[2,!0]}}))}))},validation:function(t){return e.validateSeries([function(){return u["a"].required(t)},function(){return u["a"].anyEmpty(t)}])},condition:function(e){return e.on_tb_treatment.value.match(/no/i)},options:function(t,n){return e.getTBSymptoms(n)},computedValue:function(t){return e.presentedTBSymptoms=e.inArray(t,(function(e){return"Yes"===e.value})),t.map((function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e,n,i;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return e=[{}],[4,this.consultation.buildValueCoded("Routine TB Screening",t.label)];case 1:return n=[r["a"].apply(void 0,e.concat([o.sent()]))],i={},[4,this.consultation.buildValueCoded(t.label,t.value)];case 2:return[2,r["a"].apply(void 0,n.concat([(i.child=o.sent(),i)]))]}}))}))}))}},{id:"tb_status",helpText:"TB Status",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(t){return e.hasTBSymptoms(t)},onConditionFalse:function(){return e.TBSuspected=!1},defaultValue:function(){return"TB Suspected"},computedValue:function(t){return e.TBSuspected="TB Suspected"===t.value,e.consultation.buildValueText("TB Status",t.value)},beforeNext:function(t){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return(""+t.value).match(/suspected/i)?[4,Object(w["a"])("Lab Order","The patient is a TB suspect. Do you want to take lab orders?","",[{name:"Order now",slot:"start",color:"success"},{name:"NOT now",slot:"end",color:"danger"}])]:[3,2];case 1:e=n.sent(),"Order now"===e&&this.labOrderFieldContext.launchOrderSelection(["TB Microscopic Exam","GeneXpert","Culture & Sensitivity","TB Tests"]),n.label=2;case 2:return[2,!0]}}))}))},options:function(){return e.mapStrToOptions(["TB NOT suspected","TB Suspected","Confirmed TB Not on treatment"])}},{id:"routine_tb_therapy",helpText:"TB preventive therapy (TPT) history",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(){return!e.hasTbHistoryObs},computedValue:function(t){return e.consultation.buildValueText("Previous TB treatment history",t.value)},options:function(){return e.mapStrToOptions(["Currently on IPT","Currently on 3HP","Complete course of 3HP in the past (3 months RFP+INH)","Complete course of IPT in the past (min. 6 months of INH)","Aborted course of 3HP or IPT in the past","Never taken IPT or 3HP"])}},{id:"allergic_to_sulphur",helpText:"Allergic to Cotrimoxazole",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.allergicToSulphur=t.value.match(/yes/i),e.consultation.buildValueCoded("Allergic to sulphur",t.value)},options:function(){return e.yesNoUnknownOptions()}}],this.getAdherenceFields(this.askAdherence),[{id:"refer_to_clinician",helpText:"Refer to clinician",type:s["b"].TT_SELECT,condition:function(){return ke["a"].isNurse()},validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.consultation.buildValueCoded("Refer to clinician",t.value)},options:function(){return e.yesNoOptions()}},{id:"medication_to_prescribe",proxyID:"prescription",helpText:"Medication to prescribe during this visit",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return u["a"].required(e)},computedValue:function(t){return e.buildMedicationOrders(t)},onValueUpdate:function(t,n,r){var i=e.disablePrescriptions(t,n);return e.on3HPValueUpdate(i,n,r)},options:function(t,n,r,i){return e.medicationOrderOptions(t,i)},config:{footerBtns:[{name:"Update allergic to CPT",onClickComponentEvents:{refreshOptions:function(t,n,r){return e.allergicToSulphur="Allergic"===t.btnOutput,e.medicationOrderOptions(r,n)}},onClick:function(){return Object(w["a"])("Allergic to Cotrimoxazole update","Is the patient allergic to cotrimoxazole.","",[{name:"Allergic",slot:"start",color:"success"},{name:"NOT Allergic",slot:"end"}])}}]}}])}}});const ot=I()(it,[["render",Ne]]);var at=ot;function ct(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{skipSummary:!0,cancelDestinationPath:e.cancelDestination,fields:e.fields},null,8,["cancelDestinationPath","fields"])}var st=Object(o["defineComponent"])({mixins:[y["a"]],data:function(){return{dispensation:{}}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return this.dispensation=new ie(e.getID(),this.providerID),[4,this.dispensation.loadDrugManagementEnabled()];case 1:return t.sent(),[4,this.dispensation.loadCurrentDrugOrder()];case 2:return t.sent(),[4,this.dispensation.loadDrugHistory()];case 3:return t.sent(),this.fields=this.getFields(),[2]}}))}))},deep:!0}},methods:{saveDispensations:function(e){var t=this.buildDispensations(e);return this.dispensation.saveDispensations(t)},buildDispensations:function(e){var t,n=this;if(!Object(h["isEmpty"])(null===(t=e.other)||void 0===t?void 0:t.dispenses)){var i=[];return e.other.dispenses.forEach((function(t){var o=t[0],a=t[1];i=Object(r["f"])(i,n.dispensation.buildDispensations(e.other.order_id,o,a))})),i}return this.dispensation.buildDispensations(e.other.order_id,parseInt(e.value.toString()),1)},buildMedicationHistory:function(){return this.dispensation.getDrugHistory().sort((function(e,t){var n=new Date(e.order.start_date),r=new Date(t.order.start_date);return r-n})).map((function(e){return{medication:e.drug.name,date:d["a"].toStandardHisDisplayFormat(e.order.start_date),amount:e.quantity}}))},buildOrderOptions:function(){var e=this;return this.dispensation.getCurrentOrder().map((function(t){return{label:t.drug.name,value:t.quantity||0,other:{order:t,drug_id:t.drug.drug_id,order_id:t.order.order_id,available_stock:t.available_stock||"-",amount_needed:e.calculateCompletePack(t),pack_sizes:e.getPackSizesRows(t.drug.drug_id,t.available_stock||0)}}}))},getPackSizesRows:function(e,t){var n=this.dispensation.getDrugPackSizes(e);return n.map((function(e){var n=t>0?Math.floor(t/e):"-";return[e,n,0,0]}))},calculateCompletePack:function(e){var t=parseFloat(e.amount_needed)-(e.quantity||0);return t<=0?0:this.dispensation.calcCompletePack(e,t)},isDoneDispensing:function(e){return e.map((function(e){return 0!=e.value})).every(Boolean)},isValidDispensation:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=!0,n=parseInt(e.value.toString()),i=e.other["amount_needed"],o=n/i*100,o>110?[4,Object(_["a"])("Are you sure you want to dispense over 110% of the prescribed pill count?")]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return o<100?[4,Object(_["a"])("Are you sure you want to dispense less than 100% of the prescribe amount?")]:[3,4];case 3:t=r.sent(),r.label=4;case 4:return[2,t]}}))}))},getFields:function(){var e=this;return[{id:"dispenses",helpText:"Dispensation",type:s["b"].TT_DISPENSATION_INPUT,onValueUpdate:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return-1!=t.value&&this.isDoneDispensing(n)?[2,this.$router.push({name:"appointment"})]:(t.other["amount_needed"]=t.other["amount_needed"]-(parseInt(t.value.toString())||0),[4,this.dispensation.loadCurrentDrugOrder()]);case 1:return e.sent(),[2,this.buildOrderOptions()]}}))}))},onValue:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){var e,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return-1!==t.value?[3,2]:[4,this.dispensation.voidOrder(t.other.order_id)];case 1:return e=r.sent(),[2,!e];case 2:return n?[3,4]:[4,this.isValidDispensation(t)];case 3:if(i=r.sent(),!i)return[2,!1];r.label=4;case 4:return[4,this.saveDispensations(t)];case 5:return o=r.sent(),o?[2,!0]:(Object(_["e"])("Unable to save dispensation"),[2,!1])}}))}))},config:{medicationHistory:this.buildMedicationHistory(),toolbarInfo:[{label:"Name",value:this.patient.getFullName()},{label:"Gender",value:this.patient.getGender()},{label:"Date Of Birth",value:d["a"].toStandardHisDisplayFormat(this.patient.getBirthdate())}],hiddenFooterBtns:["Clear","Finish"]},options:function(){return e.buildOrderOptions()}}]}}});const ut=I()(st,[["render",ct]]);var lt=ut;function dt(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,activeField:e.activeField,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","activeField","onFinishAction","cancelDestinationPath"])}n("5319");var pt=n("cc74"),bt=function(e){function t(t,n){var r=e.call(this,t,51,n)||this;return r.sitePrefix="",r}return Object(r["c"])(t,e),t.prototype.getSitePrefix=function(){return this.sitePrefix},t.prototype.loadSitePrefix=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,pt["b"].sitePrefix()];case 1:return e.sitePrefix=t.sent(),[2]}}))}))},t.prototype.createArvNumber=function(e){return D["a"].postJson("/patient_identifiers/",{patient_id:this.patientID,identifier_type:4,identifier:e})},t.prototype.buildArvNumber=function(e){return this.sitePrefix+"-ARV-"+e},t}(f["a"]),ht=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{reception:{},activeField:"",hasARVNumber:!0,hasGuardian:!1,suggestedNumber:""}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e.getGuardian()];case 1:return t=r.sent(),this.hasGuardian=!Object(h["isEmpty"])(t),this.reception=new bt(e.getID(),this.providerID),[4,this.reception.loadSitePrefix()];case 2:return r.sent(),n=e.getPatientIdentifier(4),""!==n?[3,4]:(this.hasARVNumber=!1,[4,D["a"].getNextSuggestedARVNumber()]);case 3:i=r.sent(),this.suggestedNumber=i.arv_number.replace(/^\D+|\s/g,""),r.label=4;case 4:return this.fields=this.getFields(),[2]}}))}))},deep:!0}},methods:{onFinish:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,a,c;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.reception.createEncounter()];case 1:return n=r.sent(),n?[4,this.resolveObs(t,"obs")]:[2,Object(_["e"])("Unable to create encounter")];case 2:return i=r.sent(),[4,this.reception.saveObservationList(i)];case 3:return o=r.sent(),o?e.capture_arv&&"Yes"===e.capture_arv.value?[4,this.reception.createArvNumber(t.arv_number)]:[3,5]:[2,Object(_["e"])("Unable to create Obs")];case 4:if(a=r.sent(),!a)return[2,Object(_["e"])("Unable to save Arv number")];r.label=5;case 5:return Object(_["d"])("Encounter created"),c=e.who_is_present.filter((function(e){return"Yes"===e.value&&"Guardian Present?"===e.label})),this.hasGuardian||Object(h["isEmpty"])(c)?this.nextTask():this.$router.push("/guardian/registration/"+this.patient.getID()),[2]}}))}))},getFields:function(){var e=this;return[{id:"who_is_present",helpText:"Hiv Reception",type:s["b"].TT_MULTIPLE_YES_NO,validation:function(e){return u["a"].required(e)||u["a"].neitherOr(e)||u["a"].anyEmpty(e)},computedValue:function(t){return{tag:"obs",obs:t.map((function(t){var n=t.other,r=t.value;return e.reception.buildValueCoded(n.concept,r)}))}},onValueUpdate:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,t.map((function(e){return n.label!=e.label&&"No"===n.value&&(e.value="Yes"),e}))]}))}))},options:function(t){return t.who_is_present?t.who_is_present:[{label:"Patient Present?",value:"",other:{concept:"Patient Present",property:"patient_present",values:e.yesNoOptions()}},{label:"Guardian Present?",value:"",other:{concept:"Guardian Present",property:"guardian_present",values:e.yesNoOptions()}}]}},{id:"capture_arv",helpText:"Capture ARV Number?",type:s["b"].TT_SELECT,requireNext:!0,condition:function(){return!e.hasARVNumber},validation:function(e){return u["a"].required(e)},options:function(){return e.yesNoOptions()}},{id:"arv_number",helpText:"ART number",type:s["b"].TT_TEXT,computedValue:function(e){var t=e.value;return t},validation:function(e){return u["a"].required(e)},condition:function(t){return!e.hasARVNumber&&"Yes"===t.capture_arv.value},defaultValue:function(){return e.suggestedNumber},config:{prependValue:function(){var e=pe["a"].getActiveApp();if(e&&e.programPatientIdentifiers){var t=e.programPatientIdentifiers["ARV Number"];return t.prefix()}return""}}}]}}});const ft=I()(ht,[["render",dt]]);var mt=ft;function gt(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{skipSummary:!0,cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}var Ot=Object(o["defineComponent"])({mixins:[J],watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.initStaging(e)]:[3,2];case 1:t.sent(),this.fields=Object(r["f"])(this.getStagingFields(),[this.getStagingSummaryField()]),t.label=2;case 2:return[2]}}))}))},deep:!0}},methods:{onSubmit:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.submitStaging(t)];case 1:return e.sent(),Object(_["d"])("Staging information has been saved"),this.nextTask(),[2]}}))}))}}});const vt=I()(Ot,[["render",gt]]);var _t=vt,jt=n("ab49");function yt(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var wt=n("80b5"),Nt=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{patientType:{}}},watch:{patient:{handler:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return this.patientType=new rt["a"](this.patientID,this.providerID),[4,this.patientType.loadPatientType()];case 1:return e.sent(),this.fields=this.getFields(),[2]}}))}))},deep:!0}},methods:{onFinish:function(e){var t,n;return Object(r["b"])(this,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.patientType.createEncounter()];case 1:return i=r.sent(),i?(this.patientType.setLocationName(null===(t=null===e||void 0===e?void 0:e.location)||void 0===t?void 0:t.label),this.patientType.setPatientType(null===(n=null===e||void 0===e?void 0:e.patient_type)||void 0===n?void 0:n.value),[4,this.patientType.save()]):[2,Object(_["e"])("Unable to create encounter")];case 2:return r.sent(),Object(_["d"])("Observations and encounter created!"),this.nextTask(),[2]}}))}))},facilityLocationField:function(){var e=wt["a"].getFacilityLocationField();return e.condition=function(e){return["Drug Refill","External consultation"].includes(e.patient_type.value)},e},getFields:function(){var e=this;return[{id:"patient_type",helpText:"Current type: "+this.patientType.getType(),type:s["b"].TT_SELECT,validation:function(t){return u["a"].required(t)||u["a"].notTheSame(t,e.patientType.getType())},options:function(){return rt["a"].getPatientTypes()}},this.facilityLocationField()]}}});const Ct=I()(Nt,[["render",yt]]);var Vt=Ct;function Dt(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var kt=function(e){function t(t,n){return e.call(this,t,156,n)||this}return Object(r["c"])(t,e),t.prototype.getAssessmentValues=function(){return f["a"].getConceptsByCategory("fast_track")},t}(f["a"]),Tt=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],fastTrack:{},options:[],values:[],gender:null}},watch:{patient:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return this.init(e),[2]}))}))},immediate:!0}},methods:{onFinish:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.fastTrack.createEncounter()];case 1:return t=r.sent(),t?[4,this.buildObs(e)]:[3,4];case 2:return n=r.sent(),[4,this.fastTrack.saveObservationList(n)];case 3:return i=r.sent(),i?(Object(_["d"])("Observations and encounter created!"),this.nextTask(),[3,5]):[2,Object(_["e"])("Unable to save patient observations")];case 4:return[2,Object(_["e"])("Unable to create fast track encounter")];case 5:return[2]}}))}))},init:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.gender=e.getGender(),this.fastTrack=new kt(e.getID(),this.providerID),t=this,[4,this.getYesNo()];case 1:return t.values=r.sent(),n=this,[4,this.getOptions()];case 2:return n.options=r.sent(),this.fields=this.getFields(),[2]}}))}))},buildObs:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o,a,c=this;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return t=[],i=(n=t).push,[4,this.fastTrack.buildValueCoded("Assess for fast track",e.ft_assessment.value)];case 1:return i.apply(n,[s.sent()]),e.ft_questions?[4,e.ft_questions.forEach((function(e){return Object(r["b"])(c,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return i=(n=t).push,[4,this.fastTrack.buildValueCoded(e.label,e.value)];case 1:return i.apply(n,[r.sent()]),[2]}}))}))}))]:[3,4];case 2:return s.sent(),a=(o=t).push,[4,this.fastTrack.buildValueCoded("Fast track",e.book_client.value)];case 3:a.apply(o,[s.sent()]),s.label=4;case 4:return[2,t]}}))}))},getOptions:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return e=this.getYesNo(),[4,this.fastTrack.getAssessmentValues("fast_track").map((function(t){return{label:t.name,value:"",other:{values:e}}}))];case 1:return t=n.sent(),"M"===this.gender?[2,t.filter((function(e){return!e.label.match(/Pregnant/i)}))]:[2,t]}}))}))},getYesNo:function(){return[{label:"yes",value:"Yes"},{label:"no",value:"No"}]},getFields:function(){var e=this;return[{id:"ft_assessment",helpText:"Assess client for FT",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return e.getYesNo()}},{id:"ft_questions",helpText:"Assess client for FT",type:s["b"].TT_MULTIPLE_YES_NO,condition:function(e){return"Yes"===e.ft_assessment.value},validation:function(e){return u["a"].anyEmpty(e)},options:function(){return e.options}},{id:"book_client",helpText:"Select type of visit to book",type:s["b"].TT_SELECT,condition:function(e){return"Yes"===e.ft_assessment.value},validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Fast track",value:"No"},{label:"Normal visit",value:"No"}]}}]}}});const It=I()(Tt,[["render",Dt]]);var xt=It,St={key:0,style:{color:"green"}},Pt={slot:"end"},Bt=Object(o["createTextVNode"])("add riskfactors"),At=Object(o["createVNode"])("h1",{style:{"text-align":"center"}},"Actions",-1),Et=Object(o["createTextVNode"])(" cancel "),Ft=Object(o["createTextVNode"])(" Refer to clinician "),Rt=Object(o["createTextVNode"])(" Hypertension Diagnosis "),Lt=Object(o["createTextVNode"])(" Enroll in HTN "),Mt=Object(o["createTextVNode"])(" Finish ");function Ht(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-button"),u=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("data-table"),p=Object(o["resolveComponent"])("ion-content"),b=Object(o["resolveComponent"])("ion-label"),h=Object(o["resolveComponent"])("ion-radio"),f=Object(o["resolveComponent"])("ion-item"),m=Object(o["resolveComponent"])("ion-col"),g=Object(o["resolveComponent"])("ion-row"),O=Object(o["resolveComponent"])("ion-grid"),v=Object(o["resolveComponent"])("ion-radio-group"),_=Object(o["resolveComponent"])("ion-footer"),j=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("span",null,"BP management screening on "+Object(o["toDisplayString"])(e.date),1),e.patientOnBPDrugs?(Object(o["openBlock"])(),Object(o["createBlock"])("small",St," (Patient already on BP drugs)")):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])("span",Pt,[e.totalRiskFactors>0?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,color:"danger",onClick:e.showRiskFactors},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("View/Edit risk factors "+Object(o["toDisplayString"])(e.totalRiskFactors),1)]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),0===e.totalRiskFactors?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,onClick:e.showRiskFactors},{default:Object(o["withCtx"])((function(){return[Bt]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)])]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{config:{showIndex:!1},columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(o["createVNode"])(_,null,{default:Object(o["withCtx"])((function(){return[e.patientHasHyperTensionObs&&e.isEnrolledInHTN||e.isEnrolledInHTN&&e.patientOnBPDrugs?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0},{default:Object(o["withCtx"])((function(){return[At,Object(o["createVNode"])(v,{modelValue:e.action,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.action=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(m,{size:"4",key:t},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:2},1024),Object(o["createVNode"])(h,{value:e},null,8,["value"])]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(u,{color:"dark"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:Object(o["withCtx"])((function(){return[Et]})),_:1},8,["onClick"]),e.showClinicianButton?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,size:"large",color:"danger",slot:"start",onClick:e.referPatient},{default:Object(o["withCtx"])((function(){return[Ft]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.patientHasHyperTensionObs?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,size:"large",slot:"end",onClick:e.goToDiagnosis},{default:Object(o["withCtx"])((function(){return[Rt]})),_:1},8,["onClick"])),e.patientHasHyperTensionObs&&!e.isEnrolledInHTN?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:2,size:"large",slot:"end",onClick:e.enrollInHTN},{default:Object(o["withCtx"])((function(){return[Lt]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.patientHasHyperTensionObs?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:3,size:"large",color:"success",slot:"end",onClick:e.onFinish},{default:Object(o["withCtx"])((function(){return[Mt]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})}var Ut=Object(o["withScopeId"])("data-v-c6bae6c4");Object(o["pushScopeId"])("data-v-c6bae6c4");var qt=Object(o["createTextVNode"])("Risk Factors"),Gt=Object(o["createTextVNode"])(" Save "),zt=Object(o["createTextVNode"])(" Close ");Object(o["popScopeId"])();var Yt=Ut((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),u=Object(o["resolveComponent"])("ion-header"),l=Object(o["resolveComponent"])("ion-label"),d=Object(o["resolveComponent"])("ion-checkbox"),p=Object(o["resolveComponent"])("ion-item"),b=Object(o["resolveComponent"])("ion-list"),h=Object(o["resolveComponent"])("ion-col"),f=Object(o["resolveComponent"])("ion-row"),m=Object(o["resolveComponent"])("ion-grid"),g=Object(o["resolveComponent"])("ion-content"),O=Object(o["resolveComponent"])("ion-button"),v=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:Ut((function(){return[Object(o["createVNode"])(s,null,{default:Ut((function(){return[Object(o["createVNode"])(c,null,{default:Ut((function(){return[qt]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(g,{style:{overflowY:"hidden",background:"grey"}},{default:Ut((function(){return[Object(o["createVNode"])(m,null,{default:Ut((function(){return[Object(o["createVNode"])(f,null,{default:Ut((function(){return[Object(o["createVNode"])(h,null,{default:Ut((function(){return[Object(o["createVNode"])(b,{style:{overflowY:"auto",height:"78vh"}},{default:Ut((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.riskFactors,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:e},{default:Ut((function(){return[Object(o["createVNode"])(l,null,{default:Ut((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024),Object(o["createVNode"])(d,{modelValue:e.isChecked,"onUpdate:modelValue":function(t){return e.isChecked=t},slot:"start"},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(v,null,{default:Ut((function(){return[Object(o["createVNode"])(s,null,{default:Ut((function(){return[Object(o["createVNode"])(O,{onClick:e.postActivities,slot:"end"},{default:Ut((function(){return[Gt]})),_:1},8,["onClick"]),Object(o["createVNode"])(O,{onClick:t[1]||(t[1]=function(t){return e.closeModal()}),slot:"start",color:"danger"},{default:Ut((function(){return[zt]})),_:1})]})),_:1})]})),_:1})],64)})),Wt=(n("c740"),function(e){function t(t,n){return e.call(this,t,30,n)||this}return Object(r["c"])(t,e),t}(f["a"])),Kt=Object(o["defineComponent"])({name:"Modal",props:{factors:{type:Object,required:!0},title:{type:String,default:""}},methods:{postActivities:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=""+this.$route.params.patient_id,t=new Wt(parseInt(e),-1),[4,t.createEncounter()];case 1:return n=r.sent(),n?[4,this.buildObs()]:[3,5];case 2:return i=r.sent(),[4,t.saveObservationList(i)];case 3:return r.sent(),[4,this.closeModal()];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},closeModal:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,Ie["U"].dismiss(this.riskFactors)];case 1:return e.sent(),[2]}}))}))},buildObs:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,this.riskFactors.map((function(e){var t=!0===e.isChecked?"Yes":"No",n=E["a"].getConceptID(t,!0),r=E["a"].getConceptID(e.concept,!0);return{concept_id:r,value_coded:n}}))]}))}))}},data:function(){return{riskFactors:[{name:"Diabetes",isChecked:!1,concept:"Diabetes"},{name:"Cronic kidney disease",isChecked:!1,concept:"CKD"},{name:"Past history of IHD or CVD",isChecked:!1,concept:"history of CVD"},{name:"First degree relative with IHD or CVD <65",isChecked:!1,concept:"relative with CVD"},{name:"Patient currently smokes",isChecked:!1,concept:"patient smokes"}]}},mounted:function(){var e=this;this.factors.forEach((function(t){if("Yes"===t.value){var n=e.riskFactors.findIndex((function(e){return e.concept===t.concept}));e.riskFactors[n].isChecked=!0}}))},components:{IonButton:Ie["d"],IonContent:Ie["n"],IonHeader:Ie["q"],IonTitle:Ie["M"],IonToolbar:Ie["N"],IonLabel:Ie["v"],IonList:Ie["w"],IonItem:Ie["u"],IonCheckbox:Ie["k"],IonRow:Ie["F"],IonFooter:Ie["o"],IonGrid:Ie["p"],IonCol:Ie["m"]}});n("26b9");const $t=I()(Kt,[["render",Yt],["__scopeId","data-v-c6bae6c4"]]);var Jt=$t,Xt=n("74f4"),Qt=n("80e3"),Zt={background:"#444444"},en=Object(o["defineComponent"])({mixins:[y["a"]],components:{DataTable:Qt["a"],IonTitle:Ie["M"],IonToolbar:Ie["N"],IonHeader:Ie["q"],IonContent:Ie["n"],IonGrid:Ie["p"],IonRow:Ie["F"],IonButton:Ie["d"],IonRadioGroup:Ie["D"],IonRadio:Ie["C"],IonCol:Ie["m"],IonFooter:Ie["o"],IonPage:Ie["B"],IonItem:Ie["u"],IonLabel:Ie["v"]},data:function(){return{htn:{},hasARVNumber:!0,suggestedNumber:"",columns:[[nt["a"].thTxt("Date",{style:Zt}),nt["a"].thTxt("Systolic",{style:Zt}),nt["a"].thTxt("Diastolic",{style:Zt}),nt["a"].thTxt("BP Drugs",{style:Zt}),nt["a"].thTxt("Action / Note",{style:Zt})]],bpGradeColorMap:{"N/A":"#ffffff",normal:"#ffffff","grade 1":"#feede2","grade 2":"#fef9df","grade 3":"#fcd4d4"},rows:[],riskFactors:[],action:null,trail:[],date:null,patientOnBPDrugs:!1,patientFirstVisit:!1,normatensive:!1,patientHasHyperTensionObs:!1,currentDrugs:[],items:[],isEnrolledInHTN:!1,isAliveOnHTN:!1,HTNProgramID:20,aliveState:160,refer:!1}},watch:{ready:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e?[4,Ie["S"].create({message:"Please wait...",backdropDismiss:!1})]:[2];case 1:return t=r.sent(),[4,t.present()];case 2:return r.sent(),this.htn=new V["a"](this.patientID,this.providerID),n=this,[4,this.htn.getBPTrail()];case 3:return n.trail=r.sent(),this.rows=this.formatBpTrailRows(this.trail),this.normatensive=V["a"].isBpNormotensive(this.trail),i=this,[4,this.getRiskFactors()];case 4:return i.riskFactors=r.sent(),this.date=d["a"].toStandardHisDisplayFormat(p["d"].getSessionDate()),[4,this.isTransfered()];case 5:return r.sent(),[4,this.hasHyperTenstion()];case 6:return r.sent(),[4,this.getTreatmentStatus()];case 7:return r.sent(),[4,this.getProgramStatus()];case 8:return r.sent(),Ie["S"].dismiss(),this.patientHasHyperTensionObs&&!this.isEnrolledInHTN||!this.isEnrolledInHTN&&this.patientOnBPDrugs?[4,this.alertHtnEnrollment()]:[3,10];case 9:r.sent(),r.label=10;case 10:return this.getItems(),[2]}}))}))},immediate:!0}},computed:{totalRiskFactors:function(){return this.riskFactors.filter((function(e){return"Yes"===e.value})).length},showClinicianButton:function(){return!ke["a"].isClinician()&&!ke["a"].isDoctor()}},methods:{onFinish:function(){var e,t;return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.action||this.refer?[4,this.htn.createEncounter()]:[3,7];case 1:return n=r.sent(),n?this.refer?[4,this.htn.saveValueCodedObs("Refer patient to clinician","Yes")]:[3,3]:[2,Object(_["e"])("Unable to create encounter")];case 2:return i=r.sent(),i?(this.gotoPatientDashboard(),[3,6]):[2,Object(_["e"])("Unable to create Obs")];case 3:return[4,this.htn.saveValueTextObs("Plan",this.action.label)];case 4:return i=r.sent(),i?(o={state:this.action.value},[4,this.htn.enrollPatient(o)]):[2,Object(_["e"])("Unable to create Obs")];case 5:if(r.sent(),"function"===typeof(null===(t=null===(e=this.action)||void 0===e?void 0:e.other)||void 0===t?void 0:t.action))return[2,this.action.other.action()];this.nextTask(),r.label=6;case 6:return[3,8];case 7:Object(_["e"])("Please select an action"),r.label=8;case 8:return[2]}}))}))},referPatient:function(){this.refer=!0,this.onFinish()},goToDiagnosis:function(){return this.$router.push({path:"/art/encounters/hypertension_diagnosis/"+this.patientID})},hasHyperTenstion:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstValueCoded(this.patientID,"Patient has hypertension")];case 1:return e=t.sent(),this.patientHasHyperTensionObs="Yes"===e,[2]}}))}))},isTransfered:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstValueCoded(this.patientID,"Transferred")];case 1:return e=t.sent(),this.patientFirstVisit="Yes"!==e,[2]}}))}))},getTreatmentStatus:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstValueText(this.patientID,"Treatment status")];case 1:return e=t.sent(),this.patientOnBPDrugs=e&&e.match(/BP Drugs started/i),[2]}}))}))},getProgramStatus:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,D["a"].getPatientPrograms(this.patientID)];case 1:return e=t.sent(),this.isEnrolledInHTN=e.filter((function(e){return"HYPERTENSION PROGRAM"===e.program.name})).length>0,this.isEnrolledInHTN?[4,this.programState()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},programState:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,D["a"].getPatientStates(this.patientID,this.HTNProgramID)];case 1:return e=t.sent(),this.isAliveOnHTN=e.filter((function(e){return"Alive"===e.name})).length>0,[2]}}))}))},getRiskFactors:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(i){return e=E["a"].getConceptsByCategory("risk factors"),t=e.map((function(e){return Object(r["b"])(n,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Ve["a"].getFirstValueCoded(this.patientID,e.name)];case 1:return t=n.sent(),[2,{concept:e.name,value:t}]}}))}))})),[2,Promise.all(t)]}))}))},formatBpTrailRows:function(e){var t=this;return Object.keys(e).map((function(n){var r=d["a"].toStandardHisDisplayFormat(n);t.currentDrugs=e[n]["drugs"];var i=function(){var r=V["a"].getBpGrade(parseInt(e[n].sbp),parseInt(e[n].dbp));return t.bpGradeColorMap[r]},o={background:i()};return[nt["a"].tdDate(r,{style:o}),nt["a"].td(e[n].sbp,{style:o}),nt["a"].td(e[n].dbp,{style:o}),nt["a"].td(e[n]["drugs"].join(", "),{style:o}),nt["a"].td(e[n].notes,{style:o})]}))},showRiskFactors:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Ie["U"].create({component:Jt,backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}})];case 1:return e=n.sent(),e.present(),[4,e.onDidDismiss()];case 2:return t=n.sent().data,Object(h["isEmpty"])(t)||(this.riskFactors=t.map((function(e){var t=!0===e.isChecked?"Yes":"No";return{concept:e.concept,value:t}}))),[2]}}))}))},alertHtnEnrollment:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(w["a"])("Programme Enrollment","Do you want to enroll this client in the HTN program?","",[{name:"Yes",slot:"end",color:"success"},{name:"No",slot:"start",color:"danger"}])];case 1:return e=t.sent(),"Yes"!==e?[3,5]:[4,this.enrollInHTN()];case 2:return t.sent(),[4,this.setHtnTransferred("Yes")];case 3:return t.sent(),this.patientFirstVisit=!1,[4,this.getItems()];case 4:return t.sent(),[3,7];case 5:return[4,this.setHtnTransferred("No")];case 6:t.sent(),this.nextTask(),t.label=7;case 7:return[2]}}))}))},enrollInHTN:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),e=new Xt["a"](this.patientID),e.setProgramId(this.HTNProgramID),e.setStateDate(D["a"].getSessionDate()),e.setStateId(this.aliveState),[4,e.enrollProgram()];case 1:return n.sent(),[4,e.updateState()];case 2:return n.sent(),this.isEnrolledInHTN=!0,Object(_["d"])("Patient is now enrolled in HTN"),[3,4];case 3:return t=n.sent(),console.error(t),Object(_["e"])(t),[3,4];case 4:return[2]}}))}))},setHtnTransferred:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=new Q["a"](this.patientID,this.providerID),[4,t.createEncounter()];case 1:return n=r.sent(),n?[3,2]:(Object(_["c"])("Unable to create patient transferr encounter"),[3,4]);case 2:return[4,t.saveValueCodedObs("Transferred",e)];case 3:i=r.sent(),i||Object(_["c"])("Unable to create observation Transferred for patient"),r.label=4;case 4:return[2]}}))}))},getItems:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e=this;return Object(r["d"])(this,(function(t){return this.currentDrugs.length>0?this.items=[{label:"Did not take prescribed drugs",value:"on treatment",other:{action:function(){return e.$router.push("/art/encounters/bp_adherence/"+e.patientID)}}},{label:"Continue drugs",value:"on treatment",other:{action:function(){return e.$router.push("/art/encounters/bp_adherence/"+e.patientID)}}},{label:"Review drugs",value:"on treatment",other:{action:function(){return e.$router.push("/art/encounters/bp_adherence/"+e.patientID+"?review=true")}}}]:(this.items=[{label:"Lifestyle advice given",value:"Lifestyle changes only"},{label:"Not yet stable on ART",value:"Symptomatic but not in treatment"},{label:"Patient declining BP drugs ",value:"Symptomatic but not in treatment"}],this.normatensive&&this.items.push({label:"Return to annual screening",value:"Alive"}),this.items.push({label:"Start anti hypertensives",value:"On treatment",other:{action:function(){return e.$router.push("/art/encounters/bp_prescription/"+e.patientID)}}})),[2]}))}))}}});const tn=I()(en,[["render",Ht]]);var nn=tn;function rn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onOnFinish","cancelDestinationPath"])}var on=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],fieldContext:{}}},watch:{ready:{handler:function(e){e&&(this.fields=this.getFields())}}},methods:{onFinish:function(){this.nextTask()},getFields:function(){var e=this;return[{id:"patient_lab_orders",helpText:"Lab orders",type:s["b"].TT_LAB_ORDERS,onload:function(t){e.fieldContext=t},options:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Te["a"].getOrders(this.patientID)];case 1:return e=n.sent(),t=Te["a"].formatLabs(e),[2,[{label:"Lab orders",value:"order trail",other:{values:t}}]]}}))}))},config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Order",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return Object(h["isEmpty"])(this.fieldContext)?[3,2]:[4,this.fieldContext.launchOrderSelection()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},visibleOnStateChange:function(e){return 0===e.index}}]}}]}}});const an=I()(on,[["render",rn]]);var cn=an;function sn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("information-header"),s=Object(o["resolveComponent"])("visit-information"),u=Object(o["resolveComponent"])("ion-content"),l=Object(o["resolveComponent"])("his-footer"),d=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(d,{style:{background:"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{items:e.patientCardInfo,numberOfColumns:4,onAddGuardian:e.addGuardian,onUpdate:e.updateDemographics},null,8,["items","onAddGuardian","onUpdate"]),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{items:e.visitDates,onOnPrint:e.printLabel,onOnDetails:e.showMore,style:{"font-size":"11px"}},null,8,["items","onOnPrint","onOnDetails"])]})),_:1}),Object(o["createVNode"])(l,{btns:e.btns},null,8,["btns"])]})),_:1})}n("fb6a"),n("1276");var un=n("23e6"),ln=Object(o["withScopeId"])("data-v-120c5b73");Object(o["pushScopeId"])("data-v-120c5b73");var dn={style:{padding:".1rem"}},pn={style:{width:"100%",display:"flex",justifyContent:"space-between",fontSize:"11px",margin:0,padding:0}},bn={key:1};Object(o["popScopeId"])();var hn=ln((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-item"),s=Object(o["resolveComponent"])("ion-list"),u=Object(o["resolveComponent"])("multi-column-view");return Object(o["openBlock"])(),Object(o["createBlock"])("div",dn,[Object(o["createVNode"])(u,{items:e.items,numberOfColumns:e.numberOfColumns},{default:ln((function(t){var n=t.entries;return[Object(o["createVNode"])(s,null,{default:ln((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(n,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:t.label,style:{padding:"0 !important",margin:"0 !important"}},{default:ln((function(){return[Object(o["createVNode"])("div",pn,[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(t.label)+": ",1),t.other&&t.other.editable?(Object(o["openBlock"])(),Object(o["createBlock"])("span",{key:0,onClick:function(n){return e.onClick(t)}},[Object(o["createVNode"])("a",null,[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(t.value),1)])],8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])("span",bn,[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(t.value||"N/A"),1)]))])]})),_:2},1024)})),128))]})),_:2},1024)]})),_:1},8,["items","numberOfColumns"])])}));n("a9e3");function fn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-col"),s=Object(o["resolveComponent"])("ion-row"),u=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.computedItems,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:n,size:e.grid[e.numberOfColumns]},{default:Object(o["withCtx"])((function(){return[Object(o["renderSlot"])(e.$slots,"default",{entries:t})]})),_:2},1032,["size"])})),128))]})),_:1})]})),_:1})}var mn=Object(o["defineComponent"])({name:"MultiColumnView",components:{IonGrid:Ie["p"],IonRow:Ie["F"],IonCol:Ie["m"]},props:{items:{type:Object,required:!0},numberOfColumns:{type:Number,default:1}},setup:function(e){var t={1:12,2:6,3:4,4:3,6:2},n=Object(o["computed"])((function(){return Object(h["chunk"])(e.items,Math.ceil(e.items.length/e.numberOfColumns))}));return{computedItems:n,grid:t}}});const gn=I()(mn,[["render",fn]]);var On=gn,vn=Object(o["defineComponent"])({name:"InformationHeader",components:{MultiColumnView:On},props:{icon:{required:!1},items:{type:Object,required:!0},numberOfColumns:{type:Number,default:2}},emits:["update","addGuardian"],setup:function(e,t){var n=t.emit,r=function(e){return"demographics"===e.other.category?n("update",e.other.attribute):n("addGuardian")};return{onClick:r}}});n("2668");const _n=I()(vn,[["render",hn],["__scopeId","data-v-120c5b73"]]);var jn=_n,yn={class:"report-content"};function wn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createBlock"])("div",yn,[Object(o["createVNode"])(c,{rows:e.rows,columns:e.columns,config:{showIndex:!1}},null,8,["rows","columns"])])}var Nn={style:{fontSize:"10px"}},Cn={style:{fontSize:"16px"},color:"yellow"},Vn=Object(o["defineComponent"])({name:"HisResultCard",components:{ReportTable:Qt["a"]},data:function(){return{columns:[[nt["a"].thTxt("Visit Date",Cn),nt["a"].thTxt("Weight (Kg)",Cn),nt["a"].thTxt("Reg",Cn),nt["a"].thTxt("ADH",Cn),nt["a"].thTxt("Outcome",Cn),nt["a"].thTxt("Actions",Cn)]]}},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{printLabel:function(e){this.$emit("onPrint",e)},showMore:function(e){this.$emit("onDetails",e)},formatAdherence:function(e){if(Object(h["isArray"])(e)){var t=Object(r["f"])(e);if(Object(h["isArray"])(t)){var n="";return t.forEach((function(e){n+=e.join(":")+" (%), "})),n}return t}return e}},computed:{rows:function(){var e=this;return this.items.map((function(t){return[nt["a"].tdBtn(t.label,(function(){return e.printLabel(t.value)}),Nn),nt["a"].td(t.data.weight,Nn),nt["a"].td(t.data.regimen,Nn),nt["a"].td(e.formatAdherence(t.data.adherence),Nn),nt["a"].td(t.data.outcome,Nn),nt["a"].tdBtn("show more",(function(){return e.showMore(t.value)}),Nn)]}))}}});const Dn=I()(Vn,[["render",wn]]);var kn=Dn,Tn=Object(o["createTextVNode"])(" Close ");function In(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),u=Object(o["resolveComponent"])("ion-header"),l=Object(o["resolveComponent"])("information-header"),d=Object(o["resolveComponent"])("ion-content"),p=Object(o["resolveComponent"])("ion-button"),b=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{items:e.visitData},null,8,["items"])]})),_:1}),Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{onClick:e.closeModal,slot:"end"},{default:Object(o["withCtx"])((function(){return[Tn]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var xn=Object(o["defineComponent"])({components:{InformationHeader:jn},props:{title:{type:String,required:!0},visitData:{type:Object,required:!0}},methods:{closeModal:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,Ie["U"].dismiss({})];case 1:return e.sent(),[2]}}))}))}}});const Sn=I()(xn,[["render",In]]);var Pn=Sn,Bn=n("0f25"),An=n("ec2a"),En=n("8e47"),Fn=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getRelationships=function(t){return e.getJson.call(this,"/people/"+t+"/relationships")},t.getGuardianDetails=function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,this.getRelationships(e).then((function(e){return e.map((function(e){return{name:Object(En["a"])(e.relation.names[0]),relationshipType:e.type.b_is_to_a}}))}))];case 1:return[2,t.sent()]}}))}))},t}(p["d"]),Rn=Object(o["defineComponent"])({components:{IonPage:Ie["B"],IonContent:Ie["n"],VisitInformation:kn,InformationHeader:jn,HisFooter:Bn["a"]},data:function(){return{isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},patientId:0,programID:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],encounters:[],medications:[],labOrders:[],visitDates:[],activeVisitDate:"",encountersCardItems:[],medicationCardItems:[],labOrderCardItems:[],alertCardItems:[],btns:[],guardians:""}},computed:{visitDatesTitle:function(){return this.visitDates.length+" Visits"}},watch:{$route:{handler:function(e){var t=e.params;return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return t?(this.patientId=parseInt(t.patient_id),this.patientId&&this.init(),[2]):[2]}))}))},deep:!0,immediate:!0},activeVisitDate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return t=this,[4,An["a"].getEncounters(this.patientId,{date:e})];case 1:return t.encounters=n.sent(),[2]}}))}))}},methods:{init:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=this,[4,this.fetchPatient(this.patientId)];case 1:return e.patient=r.sent(),t=this,[4,this.getGuardian()];case 2:return t.guardians=r.sent(),n=this,[4,this.getPatientCardInfo(this.patient)];case 3:return n.patientCardInfo=r.sent(),i=this,[4,this.getPatientVisitDates(this.patientId)];case 4:return i.visitDates=r.sent(),this.btns.push(this.getFinishBtn()),[2]}}))}))},getGuardian:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Fn.getGuardianDetails(this.patientId)];case 1:return e=t.sent(),[2,e.map((function(e){return" "+e.name+" ("+e.relationshipType+")"})).join(" ")]}}))}))},updateDemographics:function(e){this.$router.push({path:"/patient/registration",query:{edit_person:this.patientId,person_attribute:e}})},addGuardian:function(){var e;this.$router.push({path:"/guardian/registration/"+this.patientId,query:{source:null===(e=this.$route.name)||void 0===e?void 0:e.toString()}})},getFinishBtn:function(){var e=this;return{name:"Finish",color:"success",size:"large",slot:"end",visible:!0,onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(_["a"])("Are you sure you want to exit?")];case 1:return e=t.sent(),e?[2,this.$router.push("/patient/dashboard/"+this.patientId)]:[2]}}))}))}}},fetchPatient:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,un["a"].findByID(e)];case 1:return t=n.sent(),[2,t?new un["a"](t):{}]}}))}))},getProp:function(e,t){return t in e?e[t]():"-"},getPatientVisitDates:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,un["a"].getPatientVisits(e,!0)];case 1:return t=r.sent(),n=t.map((function(e){return o.getExtras(e).then((function(t){return{label:d["a"].toStandardHisDisplayFormat(e),value:e,data:t}}))})),[4,Promise.all(n)];case 2:return i=r.sent(),[2,i]}}))}))},getExtras:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,D["a"].getCurrentProgramInformation(this.patientId,e)];case 1:return[2,t.sent()]}}))}))},onActiveVisitDate:function(e){this.activeVisitDate=e.value},getPatientCardInfo:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o,a,c,s,u,l,p,b,f;return Object(r["d"])(this,(function(m){switch(m.label){case 0:return t=d["a"].toStandardHisDisplayFormat,[4,Ve["a"].getAll(this.patientId,"Confirmatory HIV test date")];case 1:return n=m.sent(),n&&(n=t(n[0].value_datetime)),[4,Ve["a"].getFirstValueText(this.patientId,"Confirmatory HIV test location")];case 2:return i=m.sent(),[4,Ve["a"].getAll(this.patientId,"Date ART started")];case 3:return o=m.sent(),o=Object(h["isEmpty"])(o)?"N/A":t(o[0].value_datetime),[4,Ve["a"].getFirstValueCoded(this.patientId,"Ever received ART")];case 4:return a=m.sent(),[4,Ve["a"].getFirstValueCoded(this.patientId,"Agrees to followup")];case 5:return c=m.sent(),[4,Ve["a"].getFirstValueCoded(this.patientId,"Reason for ART eligibility")];case 6:return s=m.sent(),u=[{label:"ARV Number",value:this.patient.getArvNumber()},{label:"National Patient ID",value:e.getNationalID()},{label:"Given Name",value:e.getGivenName(),other:{editable:!0,attribute:"given_name",category:"demographics"}},{label:"Family Name",value:e.getFamilyName(),other:{editable:!0,attribute:"family_name",category:"demographics"}},{label:"Age",value:e.getAge(),other:{editable:!0,attribute:"year_birth_date",category:"demographics"}},{label:"Sex",value:e.getGender(),other:{editable:!0,attribute:"gender",category:"demographics"}},{label:"Location",value:e.getCurrentVillage(),other:{editable:!0,attribute:"home_region",category:"demographics"}},{label:"Landmark",value:e.getAttribute(19)},{label:"Guardian",value:this.guardians?this.guardians:"add",other:{editable:!this.guardians,attribute:"",category:"guardian"}}],l={label:"Init W(KG)"},[4,e.getInitialWeight()];case 7:return u=u.concat([(l.value=m.sent(),l)]),p={label:"Init H(CM)"},[4,e.getInitialHeight()];case 8:return u=u.concat([(p.value=m.sent(),p)]),b={label:"BMI(CM)"},[4,e.getInitialBMI()];case 9:return f=[u.concat([(b.value=m.sent(),b),{label:"TI",value:a},{label:"Agrees to follow up",value:c},{label:"Reason for starting ART",value:s},{label:"HIV test date",value:""+(n||"")},{label:"HIV test place",value:""+(i||"")},{label:"Date of starting first line ART",value:o}])],[4,this.getTBStats()];case 10:return[2,r["f"].apply(void 0,f.concat([m.sent()]))]}}))}))},getTBStats:function(){return Object(r["b"])(this,void 0,Promise,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ve["a"].getFirstValueCoded(this.patientId,"Who stages criteria present")];case 1:return e=t.sent(),[2,[{label:"Pulmonary TB within the last 2 years",value:e&&e.match(/last/i)?"Yes":"N/A"},{label:"Extra pulmonary TB (EPTB)",value:e&&e.match(/eptb/i)?"Yes":"N/A"},{label:"Pulmonary TB (current)",value:e&&e.match(/current/i)?"Yes":"N/A"},{label:"Kaposi's sarcoma:",value:e&&e.match(/kepos/i)?"Yes":"N/A"}]]}}))}))},openModal:function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return i=d["a"].toStandardHisDisplayFormat(this.activeVisitDate.toString()),[4,Ie["U"].create({component:n,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{items:e,title:t+": "+i,taskParams:{patient:this.patient.getObj(),program:this.patientProgram,visitDate:this.activeVisitDate,patientID:this.patientId}}})];case 1:return o=r.sent(),o.present(),[2]}}))}))},printLabel:function(e){new de["a"](this.patientId).printVisitSummaryLbl(e)},FormData:function(e){var t=this;return Object.keys(e).map((function(n){var r="outcome_date"===n?d["a"].toStandardHisDisplayFormat(e[n]):e[n];return n.match(/height/i)&&(n+=" (cm)"),n.match(/weight/i)&&(n+=" (Kg)"),{label:t.camelCase(n),value:t.joinData(r)}}))},joinData:function(e){if(Object(h["isArray"])(e)){var t=Object(r["f"])(e);if(Object(h["isArray"])(t)){var n="";return t.forEach((function(e){n+=e.join(":")+", "})),n}return t}return e},camelCase:function(e){var t=e.split("_");return this.capitalize(t[0])+" "+this.capitalize(t[1])},capitalize:function(e){try{return e.charAt(0).toUpperCase()+e.slice(1)}catch(t){return""}},showMore:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t="Visit details for",[4,this.getExtras(e)];case 1:return n=r.sent(),[4,Ie["U"].create({component:Pn,backdropDismiss:!1,cssClass:"custom-modal",componentProps:{title:t+": "+d["a"].toStandardHisDisplayFormat(e),visitData:this.FormData(n)}})];case 2:return i=r.sent(),i.present(),[2]}}))}))}}});const Ln=I()(Rn,[["render",sn]]);var Mn=Ln;function Hn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",validationErrors:e.errors,showValidationStatus:e.canValidate,hasServerSideCaching:!0,headerInfoList:e.headerList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","validationErrors","showValidationStatus","headerInfoList","onReportConfiguration"])]})),_:1})}var Un,qn=n("44e3"),Gn=n("4ba2"),zn=n("ad8d"),Yn=n("5969");(function(e){e["MOH_CACHE"]="mohCache"})(Un||(Un={}));var Wn=function(e){function t(){var t=e.call(this)||this;return t.regenerate=!1,t}return Object(r["c"])(t,e),t.prototype.cohortUrl=function(){return"programs/"+this.programID+"/reports/cohort"},t.prototype.setRegenerate=function(e){this.regenerate=e},t.prototype.getCohortDrillDown=function(e){return Yn["a"].getJson("cohort_report_drill_down",{id:e,date:this.date,program_id:this.programID})},t.prototype.requestCohort=function(e){return Yn["a"].ajxGet(this.cohortUrl(),e)},t.prototype.qaurterRequestParams=function(){return{name:this.quarter,regenerate:this.regenerate}},t.prototype.datePeriodRequestParams=function(){return{name:"Cohort-"+this.startDate+"-"+this.endDate,start_date:this.startDate,end_date:this.endDate,regenerate:this.regenerate}},t.prototype.getCachedCohortValues=function(){var e=sessionStorage.getItem(Un.MOH_CACHE);if(e){var t=JSON.parse(e);if(t.start_date===this.startDate&&t.end_date===this.endDate||t.quarter===this.quarter)return t.data}},t.prototype.cacheCohort=function(e){sessionStorage.setItem(Un.MOH_CACHE,JSON.stringify({start_date:this.startDate,end_date:this.endDate,quarter:this.quarter,data:e}))},t.prototype.validateIndicators=function(e,t){var n=this.getCachedCohortValues();if(n){var r=Object.keys(e).reduce((function(t,r){var i=Object(h["find"])(n,{name:r}),o=e[r],a=i?i.contents:null,c=o.param,s=o.check(parseInt(a),c);return s&&t.push(o.error(a,c)),t}),[]);return t(r)}return-1},t}(Yn["a"]),Kn=function(e){function t(){var t=e.call(this)||this;return t.gender="",t.ageGroup=zn["a"][0],t.initialize=!0,t.rebuildOutcome=!0,t}return Object(r["c"])(t,e),t.prototype.init=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return this.initialize=!0,[4,this.getCohort()];case 1:return e=t.sent(),e&&"created"===e.temp_disaggregated?(this.initialize=!1,[2,!0]):[2,!1]}}))}))},t.prototype.setAgeGroup=function(e){this.ageGroup=e},t.prototype.setInitialization=function(e){this.initialize=e},t.prototype.setRebuildOutcome=function(e){this.rebuildOutcome=e},t.prototype.setGender=function(e){this.gender=e},t.prototype.getGender=function(){return this.gender},t.prototype.getCohort=function(){return this.getReport("cohort_disaggregated",{age_group:""+this.ageGroup,rebuild_outcome:""+this.rebuildOutcome,initialize:""+this.initialize})},t.prototype.getTxIpt=function(){return this.getReport("clients_given_ipt",{gender:this.gender,age_group:""+this.ageGroup})},t.prototype.getTxCurrTB=function(){return this.getReport("screened_for_tb",{gender:this.gender,age_group:""+this.ageGroup})},t.prototype.getRegimenDistribution=function(){return this.getReport("disaggregated_regimen_distribution",{gender:""+this.gender,age_group:""+this.ageGroup})},t}(Yn["a"]),$n=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"PEPFAR Disaggregated Report",headerList:[],errors:[],columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("Tx new (new on ART)"),nt["a"].thNum("Tx curr (receiving ART)"),nt["a"].thNum("TX curr (received IPT)"),nt["a"].thNum("TX curr (screened for TB)")]],aggregations:[],mohCohort:{},maleFemaleAgeGroupData:{},canValidate:!1,sortIndexes:{},initiated:!1}},created:function(){this.fields=this.getDateDurationFields()},computed:{rows:function(){var e=this;return Object.keys(this.sortIndexes).sort((function(e,t){return parseInt(e)-parseInt(t)})).reduce((function(t,n){return t.concat(e.sortIndexes[n])}),[])}},watch:{canValidate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.validateReport()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},methods:{onPeriod:function(e,t,n){return void 0===n&&(n=!0),Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.errors=[],this.maleFemaleAgeGroupData={},this.sortIndexes={},this.aggregations=[],this.canValidate=!1,this.report=new Kn,this.mohCohort=new Wn,this.report.setQuarter("pepfar"),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.mohCohort.setStartDate(t.start_date),this.mohCohort.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),this.report.setRebuildOutcome(!this.initiated||n),[4,this.report.init()];case 1:return e=r.sent(),e?[4,this.setTableRows()]:[2,Object(_["e"])("Unable to initialise report")];case 2:return r.sent(),this.setHeaderInfoList(),this.canValidate=!0,this.initiated=!0,[2]}}))}))},getTotals:function(e){return this.aggregations.filter((function(t){return e(t)})).reduce((function(e,t){return e.concat(t.data)}),[])},setHeaderInfoList:function(){var e=this,t=this.getTotals((function(e){return"txCurr"===e.col&&e.gender.match(/male|female/i)}));this.headerList=[{label:"Total Alive and on ART",value:t.length,other:{onclick:function(){return e.runTableDrill(t,"Total Alive and on ART")}}}]},setTableRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.setFemaleRows(1)];case 1:return e.sent(),[4,this.setMaleRows(2)];case 2:return e.sent(),[4,this.setTotalMalesRow(3)];case 3:return e.sent(),[4,this.setFemalePregnantRows(4)];case 4:return e.sent(),[4,this.setFemaleBreastFeedingRows(6)];case 5:return e.sent(),[4,this.setFemaleNotPregnantRows(5)];case 6:return e.sent(),[2]}}))}))},getValue:function(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:switch(i=[],o=e,o){case"tx_given_ipt":return[3,1];case"tx_screened_for_tb":return[3,3]}return[3,5];case 1:return[4,this.report.getTxIpt()];case 2:return i=r.sent(),[3,6];case 3:return[4,this.report.getTxCurrTB()];case 4:return i=r.sent(),[3,6];case 5:return i=t in n?n[t][e]:[],[3,6];case 6:return[2,i]}}))}))},setTotalMalesRow:function(e){var t=this.aggregations.filter((function(e){return"Male"===e.gender})).reduce((function(e,t){return e[t.col]||(e[t.col]=[]),e[t.col]=e[t.col].concat(t.data),e}),{}),n=[nt["a"].td("All"),nt["a"].td("Male"),this.drill(t.txNew,"Tx New (new on ART) Males"),this.drill(t.txCurr,"Total Curr (received ART) Males"),this.drill(t.txGivenIpt,"Total Curr (received IPT) Males"),this.drill(t.txScreenTB,"Total Curr (screened for TB) Males")];this.sortIndexes[e]=[n]},setFemaleNotPregnantRows:function(e){var t=this,n=function(e){return t.aggregations.filter((function(e){return e.gender.match(/fp|fbf/i)})).reduce((function(e,t){return e.concat(t.data)}),[]).includes(e)},r=this.aggregations.filter((function(e){return"Female"===e.gender})).reduce((function(e,t){return e[t.col]||(e[t.col]=[]),e[t.col]=e[t.col].concat(t.data.filter((function(e){return!n(e)}))),e}),{}),i=[nt["a"].td("All"),nt["a"].td("FNP"),this.drill(r.txNew,"Tx New (new on ART) FNP"),this.drill(r.txCurr,"Tx Curr (received ART) FNP"),this.drill(r.txGivenIpt,"Tx Curr (received IPT) FNP"),this.drill(r.txScreenTB,"Tx Curr (screened for TB) FNP")];this.sortIndexes[e]=[i]},setFemaleRows:function(e){return this.report.setGender("female"),this.setRows(e,"F",zn["a"],"Female")},setMaleRows:function(e){return this.report.setGender("male"),this.setRows(e,"M",zn["a"],"Male")},setFemalePregnantRows:function(e){return this.report.setGender("pregnant"),this.setRows(e,"F",["All"],"FP","Pregnant")},setFemaleBreastFeedingRows:function(e){return this.report.setGender("breastfeeding"),this.setRows(e,"F",["All"],"FBf","Breastfeeding")},setRows:function(e,t,n,i,o){return void 0===o&&(o=""),Object(r["b"])(this,void 0,void 0,(function(){var a,c,s,u,l,d,p=this;return Object(r["d"])(this,(function(b){switch(b.label){case 0:for(u in a=function(a){var s,u,l,d,b,f,m,g;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return s=[],u=[],l=[],d=[],b=o||n[a],c.report.setAgeGroup(b),b in c.maleFemaleAgeGroupData?[3,2]:[4,c.report.getCohort()];case 1:f=r.sent(),c.report.setRebuildOutcome(!1),c.maleFemaleAgeGroupData[b]=Object(h["isEmpty"])(f)?{}:f[b],r.label=2;case 2:return Object(h["isEmpty"])(c.maleFemaleAgeGroupData[b])?[3,7]:(m=function(e){return p.getValue(e,t,p.maleFemaleAgeGroupData[b])},g=function(e,t){return p.aggregations.push({gender:i,col:e,data:t})},[4,m("tx_new")]);case 3:return s=r.sent(),[4,m("tx_curr")];case 4:return u=r.sent(),[4,m("tx_given_ipt")];case 5:return l=r.sent(),[4,m("tx_screened_for_tb")];case 6:d=r.sent(),g("txNew",s),g("txCurr",u),g("txGivenIpt",l),g("txScreenTB",d),r.label=7;case 7:return c.sortIndexes[e]||(c.sortIndexes[e]=[]),c.sortIndexes[e].push([nt["a"].td(n[a]),nt["a"].td(i),c.drill(s,"Tx new (new on ART) | "+b+" | "+i),c.drill(u,"Tx curr (receiving ART) | "+b+" | "+i),c.drill(l,"TX curr (received IPT) | "+b+" | "+i),c.drill(d,"TX curr (screened for TB) | "+b+" | "+i)]),[2]}}))},c=this,s=[],n)s.push(u);l=0,b.label=1;case 1:return l<s.length?(d=s[l],[5,a(d)]):[3,4];case 2:b.sent(),b.label=3;case 3:return l++,[3,1];case 4:return[2]}}))}))},validateReport:function(){var e=this,t={initiated_on_art_first_time:{param:this.getTotals((function(e){return"txNew"===e.col&&e.gender.match(/male|female/i)})).length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MOH cohort initiated on ART first time <b>("+e+")</b> is not matching Tx New <b>("+t+")</b>\n                    "}},initial_pregnant_females_all_ages:{param:this.getTotals((function(e){return"txNew"===e.col&&"FP"===e.gender})).length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MOH cohort initial pregnant females all ages \n                        <b>("+e+")</b> is not matching with TX new Pregnant women <b>"+t+"</b>\n                    "}},males_initiated_on_art_first_time:{param:this.getTotals((function(e){return"txNew"===e.col&&"Male"===e.gender})).length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MoH Cohort males initiated on ART first time <b>("+e+")</b>\n                        is not matching with TX new All male <b>("+t+")</b>\n                    "}}},n=this.mohCohort.validateIndicators(t,(function(t){return e.errors=t}));-1===n&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"])}}});const Jn=I()($n,[["render",Hn]]);var Xn=Jn;function Qn(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Zn=function(e){function t(){var t=e.call(this)||this;return t.pepfar=!0,t}return Object(r["c"])(t,e),t.prototype.setIsPepfar=function(e){this.pepfar=e},t.prototype.getDefaulters=function(){return this.getReport("defaulter_list",{pepfar:this.pepfar})},t}(Yn["a"]),er=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Defaulters report",rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thDate("Birthdate"),nt["a"].thDate("Date defaulted"),nt["a"].thTxt("Address")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new Zn,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getDefaulters()];case 1:return e=n.sent(),this.setRows(e),this.title="PEPFAR Defaulters report <b>("+e.length+" Defaulters)</b>",[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.defaulter_date),nt["a"].td((e.cell_number?"CELL: "+e.cell_number+" <br/>":"")+(e.village?"VILLAGE: "+e.village+" <br/>":"")+(e.district?"DISTRICT: "+e.district+" <br/>":"")+(e.ta?"TA: "+e.ta:""))])})),[2]}))}))}}});const tr=I()(er,[["render",Qn]]);var nr=tr;function rr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var ir=["0A","2A","4A","5A","6A","7A","8A","9A","10A","11A","12A","13A","14A","15A","16A","17A","0P","2P","4P","9P","11P","14P","14PP","15P","15PP","16P","17P"],or=["10 - 13.9 Kg","14 - 19.9 Kg","20 - 24.9 Kg","25 - 29.9 Kg","3 - 3.9 Kg","30 - 34.9 Kg","35 - 39.9 Kg","4 - 4.9 Kg","40 Kg +","6 - 9.9 Kg","Unknown"],ar=["pellets","tablets","granules"],cr=function(e){function t(){var t=e.call(this)||this;return t.type="pepfar",t}return Object(r["c"])(t,e),t.prototype.setReportType=function(e){this.type=e},t.prototype.getTptNewInitiations=function(){return this.getReport("programs/"+this.programID+"/reports/tpt_newly_initiated")},t.prototype.getRegimenFormulationReport=function(e,t){return this.getReport("programs/"+this.programID+"/reports/regimens_and_formulations",{regimen:e,formulation:t})},t.prototype.getRegimenReport=function(){return this.getReport("regimen_report",{type:this.type})},t.prototype.getRegimenSwitchReport=function(e){return void 0===e&&(e=!1),this.getReport("regimen_switch",{pepfar:e})},t.prototype.getRegimensByWeight=function(){return this.getReport("programs/"+this.programID+"/reports/regimens_by_weight_and_gender")},t}(Yn["a"]),sr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"PEPFAR Regimen Report",rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Curr.Reg"),nt["a"].thTxt("ARVs"),nt["a"].thTxt("Curr.reg dispensed")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new cr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getRegimenReport()];case 1:return e.apply(this,[n.sent()]),[2]}}))}))},setRows:function(e){var t=this;Object.values(e).forEach((function(e){var n="",r=e.medication.map((function(e){return n=t.toDate(e.start_date),e.medication+" ("+e.quantity+")"}));t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td(e.current_regimen),nt["a"].td(r.join(", ")),nt["a"].tdDate(n)])}))}}});const ur=I()(sr,[["render",rr]]);var lr=ur;function dr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var pr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"PEPFAR Regimen Switch Report",rows:[],columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Prev.Reg"),nt["a"].thTxt("Curr.Reg"),nt["a"].thTxt("ARVs"),nt["a"].thTxt("Curr.reg dispensed date")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new cr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getRegimenSwitchReport(!0)];case 1:return e.apply(this,[n.sent()]),[2]}}))}))},setRows:function(e){var t=this;Object.values(e).forEach((function(e){var n="",r=e.medication.map((function(e){return n=e.start_date,e.medication+" ("+e.quantity+")"}));t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td(e.previous_regimen),nt["a"].td(e.current_regimen),nt["a"].td(r.join(", ")),nt["a"].tdDate(n)])}))}}});const br=I()(pr,[["render",dr]]);var hr=br;function fr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var mr=n("bef6"),gr=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.prototype.getVLCoverage=function(){return this.getReport("programs/"+this.programID+"/reports/viral_load_coverage",{rebuild_outcomes:!0})},t.prototype.getMaternalStatus=function(e){var t=mr["a"].parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,date:this.date,program_id:this.programID,report_definition:"pepfar"});return Yn["a"].postJson("vl_maternal_status?"+t,{patient_ids:e})},t}(Yn["a"]),Or=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"VL Coverage report",cohort:{},rows:[],totals:{F:{},M:{}},columns:[[nt["a"].thTxt("",{colspan:5,exportable:!1}),nt["a"].thTxt("Sample Drawn",{colspan:2,exportable:!1}),nt["a"].thTxt("High VL (>=1000 copies)",{colspan:2,exportable:!1}),nt["a"].thTxt("Low VL (<1000 copies)",{colspan:2,exportable:!1})],[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thTxt("TX CURR"),nt["a"].thTxt("Due for VL"),nt["a"].thTxt("Routine",{value:"Routine (Sample Drawn)"}),nt["a"].thTxt("Targeted",{value:"Targeted (Sample Drawn)"}),nt["a"].thTxt("Routine",{value:"Routine (High VL (>=1000 copies))"}),nt["a"].thTxt("Targeted",{value:"Targeted High VL (>=1000 copies)"}),nt["a"].thTxt("Routine",{value:"Routine (Low VL (<1000 copies))"}),nt["a"].thTxt("Targeted",{value:"Targeted (Low VL (<1000 copies))"})]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new gr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getVLCoverage()];case 1:return e.cohort=n.sent(),[4,this.setRows("F")];case 2:return n.sent(),[4,this.setRows("M")];case 3:return n.sent(),this.setAllMalesTotalsRow(),[4,this.setFemaleTotalsRow()];case 4:return n.sent(),[2]}}))}))},setTotals:function(e,t,n){this.totals[t][e]||(this.totals[t][e]=[]),this.totals[t][e]=this.totals[t][e].concat(n)},drillDown:function(e,t){var n=this;if(e.length>=1){var r=[[nt["a"].thTxt("ARV #"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Action")]],i=function(){return e.map((function(e){return[nt["a"].td(e.arv_number),nt["a"].tdDate(e.birthdate),nt["a"].td(e.gender),nt["a"].tdBtn("Show",(function(){return n.$router.push({path:"/patient/dashboard/"+e.patient_id})}))]}))};return nt["a"].tdLink(e.length,(function(){return n.drilldownAsyncRows(t,r,i)}))}return nt["a"].td(0)},setFemaleTotalsRow:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=this.totals.F,t=Object(h["uniq"])(Object.values(e).reduce((function(e,t){return e.concat(t.map((function(e){return e.patient_id})))}),[])),[4,this.report.getMaternalStatus(t)];case 1:return n=r.sent(),i=n.FBf.concat(n.FP),o=function(e,t){var r=n[e];return t.filter((function(e){return r.includes(e.patient_id)}))},a=function(e){return e.filter((function(e){return!i.includes(e.patient_id)}))},this.rows.push([nt["a"].td("All"),nt["a"].td("FP"),this.drillDown(o("FP",e.tx_curr),"TX CURR FP"),this.drillDown(o("FP",e.due_for_vl),"Due for VL FP"),this.drillDown(o("FP",e.drawn_routine),"Routine (Sample Drawn) FP"),this.drillDown(o("FP",e.drawn_targeted),"Targetted (Sample Drawn) FP"),this.drillDown(o("FP",e.high_vl_routine),"Routine (High VL (>=1000 copies)) FP"),this.drillDown(o("FP",e.high_vl_targeted),"Targeted High VL (>=1000 copies) FP"),this.drillDown(o("FP",e.low_vl_routine),"Routine (Low VL (<1000 copies)) FP"),this.drillDown(o("FP",e.low_vl_targeted),"Targeted (Low VL (<1000 copies)) FP")]),this.rows.push([nt["a"].td("All"),nt["a"].td("FNP"),this.drillDown(a(e.tx_curr),"TX CURR FNP"),this.drillDown(a(e.due_for_vl),"Due for VL FNP"),this.drillDown(a(e.drawn_routine),"Routine (Sample Drawn) FNP"),this.drillDown(a(e.drawn_targeted),"Targetted (Sample Drawn) FNP"),this.drillDown(a(e.high_vl_routine),"Routine (High VL (>=1000 copies)) FNP"),this.drillDown(a(e.high_vl_targeted),"Targeted High VL (>=1000 copies) FNP"),this.drillDown(a(e.low_vl_routine),"Routine (Low VL (<1000 copies)) FNP"),this.drillDown(a(e.low_vl_targeted),"Targeted (Low VL (<1000 copies)) FNP")]),this.rows.push([nt["a"].td("All"),nt["a"].td("FBF"),this.drillDown(o("FBf",e.tx_curr),"TX CURR FBf"),this.drillDown(o("FBf",e.due_for_vl),"Due for VL FBf"),this.drillDown(o("FBf",e.drawn_routine),"Routine (Sample Drawn) FBf"),this.drillDown(o("FBf",e.drawn_targeted),"Targetted (Sample Drawn) FBf"),this.drillDown(o("FBf",e.high_vl_routine),"Routine (High VL (>=1000 copies)) FBf"),this.drillDown(o("FBf",e.high_vl_targeted),"Targeted High VL (>=1000 copies) FBf"),this.drillDown(o("FBf",e.low_vl_routine),"Routine (Low VL (<1000 copies)) FBf"),this.drillDown(o("FBf",e.low_vl_targeted),"Targeted (Low VL (<1000 copies)) FBf")]),[2]}}))}))},setAllMalesTotalsRow:function(){var e=this.totals["M"];return this.rows.push([nt["a"].td("All"),nt["a"].td("Male"),this.drillDown(e.tx_curr,"TX CURR Male"),this.drillDown(e.due_for_vl,"Due for VL Male"),this.drillDown(e.drawn_routine,"Routine (Sample Drawn) Male"),this.drillDown(e.drawn_targeted,"Targetted (Sample Drawn) Male"),this.drillDown(e.high_vl_routine,"Routine (High VL (>=1000 copies)) Male"),this.drillDown(e.high_vl_targeted,"Targeted High VL (>=1000 copies) Male"),this.drillDown(e.low_vl_routine,"Routine (Low VL (<1000 copies)) Male"),this.drillDown(e.low_vl_targeted,"Targeted (Low VL (<1000 copies)) Male")])},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o,a=this;return Object(r["d"])(this,(function(r){for(t in zn["a"])n=zn["a"][t],n in this.cohort?(i=this.cohort[n],o=function(t,n,r){var i=n.filter((function(t){return t.gender===e}));return a.setTotals(t,e,i),a.drillDown(i,r)},this.rows.push([nt["a"].td(n),nt["a"].td(e),o("tx_curr",i.tx_curr,n+" TX CURR ("+e+")"),o("due_for_vl",i.due_for_vl,n+" Due for VL ("+e+")"),o("drawn_routine",i.drawn.routine,n+" Routine (Sample Drawn) ("+e+")"),o("drawn_targeted",i.drawn.targeted,n+" Targeted (Sample Drawn) ("+e+")"),o("high_vl_routine",i.high_vl.routine,n+" Routine (High VL (>=1000 copies)) ("+e+")"),o("high_vl_targeted",i.high_vl.targeted,n+" Targeted High VL (>=1000 copies) ("+e+")"),o("low_vl_routine",i.low_vl.routine,n+" Routine (Low VL (<1000 copies)) ("+e+")"),o("low_vl_targeted",i.low_vl.targeted,n+" Targeted (Low VL (<1000 copies)) ("+e+")")])):this.rows.push([nt["a"].td(n),nt["a"].td(e),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)]);return[2]}))}))}}});const vr=I()(Or,[["render",fr]]);var _r=vr;function jr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var yr=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.prototype.getTBPrevReport=function(){return this.getReport("/programs/"+this.programID+"/reports/tb_prev2")},t}(Yn["a"]),wr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"TB PREV Report",cohort:{},rows:[],columns:[[nt["a"].thTxt("",{sortable:!1,exportable:!1}),nt["a"].thTxt("",{sortable:!1,exportable:!1}),nt["a"].thTxt("",{sortable:!1,exportable:!1}),nt["a"].thTxt("Started new on ART",{colspan:2,sortable:!1,exportable:!1}),nt["a"].thTxt("Started previously on ART",{colspan:2,sortable:!1,exportable:!1}),nt["a"].thTxt("Completed New on ART",{colspan:2,sortable:!1,exportable:!1}),nt["a"].thTxt("Completed previously on ART",{colspan:2,sortable:!1,exportable:!1})],[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("3HP",{value:"3HP (Started new on ART)"}),nt["a"].thNum("6HP",{value:"6HP (Started new on ART)"}),nt["a"].thNum("3HP",{value:"3HP (Started previously on ART)"}),nt["a"].thNum("6HP",{value:"6HP (Started previously on ART)"}),nt["a"].thNum("3HP",{value:"3HP (Completed New on ART)"}),nt["a"].thNum("6HP",{value:"6HP (Completed New on ART)"}),nt["a"].thNum("3HP",{value:"3HP (Completed previously on ART)"}),nt["a"].thNum("6HP",{value:"6HP (Completed previously on ART)"})]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new yr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getTBPrevReport()];case 1:return e.cohort=n.sent(),this.setRows("F"),this.setRows("M"),[2]}}))}))},makeDrilldown:function(e,t){var n=e.map((function(e){return e.patient_id}));return this.drill(n,t)},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){for(t in zn["a"])n=zn["a"][t],i=this.cohort[n][e],this.rows.push([nt["a"].td(n),nt["a"].td(e),this.makeDrilldown(i["3HP"]["started_new_on_art"],n+" Started new on ART 3HP ("+e+")"),this.makeDrilldown(i["6H"]["started_new_on_art"],n+" Start new on ART 6H ("+e+")"),this.makeDrilldown(i["3HP"]["started_previously_on_art"],n+" Started previously on ART 3HP ("+e+")"),this.makeDrilldown(i["6H"]["started_previously_on_art"],n+" Started previously on ART 6H ("+e+")"),this.makeDrilldown(i["3HP"]["completed_new_on_art"],n+" Completed new on ART 3HP ("+e+")"),this.makeDrilldown(i["6H"]["completed_new_on_art"],n+" Completed new on ART 6H ("+e+")"),this.makeDrilldown(i["3HP"]["completed_previously_on_art"],n+" Completed previously on ART 3HP ("+e+")"),this.makeDrilldown(i["6H"]["completed_previously_on_art"],n+" Completed previously on ART 6H ("+e+")")]);return[2]}))}))}}});const Nr=I()(wr,[["render",jr]]);var Cr=Nr;function Vr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",validationErrors:e.errors,showValidationStatus:e.showStatus,headerInfoList:e.headerInfoList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","validationErrors","showValidationStatus","headerInfoList","onReportConfiguration"])]})),_:1})}n("a630"),n("6062");var Dr=function(e){function t(){var t=e.call(this)||this;return t.org="pepfar",t.initializeArvRefillReportTables=!0,t}return Object(r["c"])(t,e),t.prototype.initArvRefillPeriod=function(e){this.initializeArvRefillReportTables=e},t.prototype.setOrg=function(e){this.org=e},t.prototype.getTxMMDClientLevelData=function(e){var t=mr["a"].parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),n="tx_mmd_client_level_data?"+t;return Yn["a"].postJson(n,{patient_ids:e})},t.prototype.remapTxClientLevelData=function(e){return e.map((function(e){var t=null,n=[];for(var i in e){var o=Object.values(e[i]);o.forEach((function(e){for(var r in e){var i=e[r];t||(t={id:i.arv_number,dob:i.birthdate,dispenseDate:i.start_date}),n.push({name:i.drug_name,quantity:i.quantity,dose:i.dose_per_day})}}))}return Object(r["a"])(Object(r["a"])({},t),{drugs:n})}))},t.prototype.getTxCurrMMDReport=function(e,t){return this.getReport("arv_refill_periods",{org:this.org,min_age:""+e,max_age:""+t,initialize_tables:""+this.initializeArvRefillReportTables})},t.prototype.getTxMlReport=function(){return this.getReport("tx_ml")},t.prototype.getTxRttReport=function(){return this.getReport("tx_rtt")},t}(Yn["a"]),kr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"TX Curr MMD Report",cohort:{},rows:[],totals:new Set,errors:[],showStatus:!1,columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("# of clients on < 3 months of ARVs"),nt["a"].thNum("# of clients on 3 - 5 months of ARVs"),nt["a"].thNum("# of clients on  >= 6 months of ARVs")]],headerInfoList:[],mohCohort:{},canValidate:!1}},watch:{canValidate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.validateReport()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return this.canValidate=!1,this.totals.clear(),this.errors=[],this.showStatus=!1,this.rows=[],this.report=new Dr,this.mohCohort=new Wn,this.mohCohort.setStartDate(t.start_date),this.mohCohort.setEndDate(t.end_date),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),this.report.initArvRefillPeriod(!0),[4,this.setRows()];case 1:return e.sent(),this.canValidate=!0,this.showStatus=!0,this.setHeaderInfoList(),[2]}}))}))},getValues:function(e,t){var n=[],r=[],i=[];for(var o in e){var a=e[o],c=a.prescribed_days;this.totals.add(o),c<90&&n.push(o),c>=90&&c<=150&&r.push(o),c>150&&i.push(o)}return[this.drill(n,"# of clients on < 3 months of ARVs ("+t+")"),this.drill(r,"# of clients on 3 - 5 months of ARVs ("+t+")"),this.drill(i,"# of clients on  >= 6 months of ARVs ("+t+")")]},setRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a,c,s,u,l,d,p,b;return Object(r["d"])(this,(function(h){switch(h.label){case 0:for(a in e=0,t=0,n=[],i=[],o=[],zn["a"])o.push(a);c=0,h.label=1;case 1:return c<o.length?(s=o[c],u=zn["a"][s],"<1 year"===u?(e=0,t=0):"90 plus years"===u?(e=90,t=1e3):(l=u.split("-"),d=l[0],p=l[1],e=parseInt(d),t=parseInt(p)),[4,this.report.getTxCurrMMDReport(e,t)]):[3,4];case 2:b=h.sent(),this.report.initArvRefillPeriod(!1),b?(i.push(Object(r["f"])([nt["a"].td(u),nt["a"].td("Female")],this.getValues(b["Female"],u+" Female"))),n.push(Object(r["f"])([nt["a"].td(u),nt["a"].td("Male")],this.getValues(b["Male"],u+" Male")))):(i.push([nt["a"].td(u),nt["a"].td("Female"),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)]),n.push([nt["a"].td(u),nt["a"].td("Male"),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)])),this.rows=Object(r["f"])(i,n),h.label=3;case 3:return c++,[3,1];case 4:return[2]}}))}))},setHeaderInfoList:function(){var e=this;this.headerInfoList=[{label:"Total clients",value:this.totals.size,other:{onclick:function(){return e.runTableDrill(Array.from(e.totals),"Total Clients")}}}]},validateReport:function(){var e=this,t={total_alive_and_on_art:{param:this.totals.size,check:function(e,t){return t>e},error:function(e,t){return"\n                        MoH cohort Alive and on ART clients <b>("+e+")</b> is not\n                        matching with total TX MMD clients <b>("+t+")</b>.\n                    "}}},n=this.mohCohort.validateIndicators(t,(function(t){return e.errors=t}));-1===n&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"])}}});const Tr=I()(kr,[["render",Vr]]);var Ir=Tr;function xr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Sr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"PEPFAR Curr Ml Report",rows:[],drillData:{},columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Died"),nt["a"].thTxt("IIT <3 mo"),nt["a"].thTxt("IIT 3-5 mo"),nt["a"].thTxt("IIT 6+ mo"),nt["a"].thTxt("Tranferred out"),nt["a"].thTxt("Refused (Stopped)")]],cohort:{}}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new Dr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getTxMlReport()];case 1:return e.cohort=n.sent(),[4,this.setRows("F")];case 2:return n.sent(),[4,this.setRows("M")];case 3:return n.sent(),[2]}}))}))},drilldown:function(e,t){var n=this,i=[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Dispensed"),nt["a"].thTxt("ARVs")]],o=function(){return Object(r["b"])(n,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t in this.drillData?[2,this.drillData[t]]:[4,this.report.getTxMMDClientLevelData(e)];case 1:return n=r.sent(),n?(i=this.report.remapTxClientLevelData(n).map((function(e){var t=e.drugs.map((function(e){var t="\n                                <table style='width: 100%;'> \n                                    <td style='width: 65%;'>"+e.name+"</td>\n                                    <td style='width: 30%;'>("+e.quantity+", "+e.dose+" a day)</td>\n                                </table>",n=e.name+" (Quantity: "+e.quantity+" Dose: "+e.dose+")";return{tableView:t,dataView:n}}));return[nt["a"].td(e.id||"N/A"),nt["a"].tdDate(e.dob),nt["a"].tdDate(e.dispenseDate),nt["a"].td(t.map((function(e){return e.tableView})).join("<p/>"),{value:t.map((function(e){return e.dataView})).join("|")})]})),this.drillData[t]=i,[2,i]):[2,[]]}}))}))};return e.length<=0?nt["a"].td(0):nt["a"].tdLink(e.length,(function(){return n.drilldownAsyncRows(t,i,o)}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o,a=this;return Object(r["d"])(this,(function(c){for(o in t=["Defaulted (new registration)","Defaulted (old registration)","Died","Stopped","Tranferred out","Unknown"],n=function(n){var o=zn["a"][n];try{var c=i.cohort[o][e],s=e+" "+o,u=c.map((function(e,n){return a.drilldown(e,s+" "+t[n])}));i.rows.push(Object(r["f"])([nt["a"].td(o),nt["a"].td(e)],u))}catch(l){i.rows.push([nt["a"].td(o),nt["a"].td(e),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)])}},i=this,zn["a"])n(o);return[2]}))}))}}});const Pr=I()(Sr,[["render",xr]]);var Br=Pr;function Ar(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"PEPFAR",onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Er=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"TX RTT Report",cohort:{},rows:[],columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Returned <3 mo"),nt["a"].thTxt("Returned 3-5 mo"),nt["a"].thTxt("Returned 6+ mo")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new Dr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getTxRttReport()];case 1:return e.cohort=n.sent(),[4,this.setRows("F")];case 2:return n.sent(),[4,this.setRows("M")];case 3:return n.sent(),[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i,o;return Object(r["d"])(this,(function(r){for(o in t=function(e,t){return e.filter((function(e){return t(e.months)})).map((function(e){return e.patient_id}))},n=function(n){var r=zn["a"][n];if(r in i.cohort){var o=i.cohort[r][e],a=function(e){return t(o,e)},c=a((function(e){return e<3})),s=a((function(e){return e>=3&&e<=5})),u=a((function(e){return e>=6}));i.rows.push([nt["a"].td(r),nt["a"].td(e),i.drill(c,r+" ("+e+") Returned <3 mo"),i.drill(s,r+" ("+e+") Returned 3-5 mo"),i.drill(u,r+" ("+e+") Returned 6+ mo")])}else i.rows.push([nt["a"].td(r),nt["a"].td(e),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)])},i=this,zn["a"])n(o);return[2]}))}))}}});const Fr=I()(Er,[["render",Ar]]);var Rr=Fr;function Lr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Mr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Clinic Missed Appointments",totalClients:[],rows:[],columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Appointment"),nt["a"].thTxt("Days missed"),nt["a"].thTxt("Current outcome"),nt["a"].thTxt("Contact details")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getMissedAppointments()];case 1:return e.apply(this,[n.sent()]),[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.appointment_date),nt["a"].td(e.days_missed),nt["a"].td(e.current_outcome),nt["a"].td("CELL: "+e.cell_number+" <br/>\n                        District: "+e.district+" <br/>\n                        Village: "+e.village+" <br/>\n                        TA: "+e.ta+"\n                    ")])})),[2]}))}))}}});const Hr=I()(Mr,[["render",Lr]]);var Ur=Hr;function qr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var Gr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Clinic Defaulters report",rows:[],columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("birthdate"),nt["a"].thTxt("Date defaulted"),nt["a"].thTxt("Address")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new Zn,this.report.setIsPepfar(!1),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getDefaulters()];case 1:return e=n.sent(),this.setRows(e),this.title="Clinic Defaulters report <b>("+e.length+" Defaulters)</b>",[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.defaulter_date),nt["a"].td((e.cell_number?"CELL: "+e.cell_number+" <br/>":"")+(e.village?"VILLAGE: "+e.village+" <br/>":"")+(e.district?"DISTRICT: "+e.district+" <br/>":"")+(e.ta?"TA: "+e.ta:""))])})),[2]}))}))}}});const zr=I()(Gr,[["render",qr]]);var Yr=zr;function Wr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var Kr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Clinic Regimen Report",rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Curr.Reg"),nt["a"].thTxt("ARVs"),nt["a"].thTxt("Curr.reg dispensed")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.reportReady=!0,this.isLoading=!0,this.rows=[],this.report=new cr,this.report.setReportType("moh"),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getRegimenReport()];case 1:return e.apply(this,[n.sent()]),this.isLoading=!1,[2]}}))}))},setRows:function(e){var t=this;Object.values(e).map((function(e){var n="",r=e.medication.map((function(e){return n=t.toDate(e.start_date),e.medication+" ("+e.quantity+")"}));t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td(e.current_regimen),nt["a"].td(r.join(", ")),nt["a"].tdDate(n)])}))}}});const $r=I()(Kr,[["render",Wr]]);var Jr=$r;function Xr(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}var Qr=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Clinic Regimen Switch Report",rows:[],columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Prev.Reg"),nt["a"].thTxt("Curr.Reg"),nt["a"].thTxt("ARVs"),nt["a"].thTxt("Curr.reg dispensed date")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new cr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getRegimenSwitchReport(!1)];case 1:return e.apply(this,[n.sent()]),[2]}}))}))},setRows:function(e){var t=this;Object.values(e).forEach((function(e){var n="",r=e.medication.map((function(e){return n=e.start_date,e.medication+" ("+e.quantity+")"}));t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td(e.previous_regimen),nt["a"].td(e.current_regimen),nt["a"].td(r.join(", ")),nt["a"].tdDate(n)])}))}}});const Zr=I()(Qr,[["render",Xr]]);var ei=Zr;function ti(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var ni=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Clinic Pregnant patients report",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("birthdate")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.reportReady=!0,this.isLoading=!0,this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getPregnantWomen()];case 1:return e.apply(this,[n.sent()]),this.isLoading=!1,[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].tdDate(e.birthdate)])})),[2]}))}))}}});const ri=I()(ni,[["render",ti]]);var ii=ri;function oi(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showtitleOnly:!0,canExportPDf:!0,customFileName:e.exportedReportTitle,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]})),_:1})}var ai=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Clinic Clients due for VL <small>(clients with appointments in specified period)</small>",exportedReportTitle:"",rows:[],columns:[]}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,i["b"].filingNumbersEnabled()];case 1:return e=t.sent(),this.columns.push([nt["a"].thTxt(e?"Filing #":"ARV#"),nt["a"].thTxt("App."),nt["a"].thTxt("ART started"),nt["a"].thTxt("Months on ART"),nt["a"].thTxt("Milestone"),nt["a"].thTxt("Ordered"),nt["a"].thTxt("Result"),nt["a"].thTxt("Released")]),this.fields=this.getDateDurationFields(),[2]}}))}))},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getClientsDueForVl()];case 1:return e=n.sent(),this.exportedReportTitle=zn["b"].getLocationName()+" Clinic Clients due for VL (clients with appointments in specified period) "+this.period,this.setRows(e),[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].tdLink(e.arv_number,(function(){return t.confirmPatient(e.patient_id)})),nt["a"].tdDate(e.appointment_date),nt["a"].tdDate(e.start_date),nt["a"].td(e.months_on_art),nt["a"].tdDate(e.mile_stone),nt["a"].tdDate(e.last_result_order_date),nt["a"].td(e.last_result),nt["a"].tdDate(e.last_result_date)])})),[2]}))}))}}});const ci=I()(ai,[["render",oi]]);var si=ci;function ui(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var li=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Clinic Retention report",totalClients:[],rows:[],reportReady:!1,cohort:{},isLoading:!1,columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Initiated one month"),nt["a"].thTxt("Completed one month"),nt["a"].thTxt("Initiated Three months"),nt["a"].thTxt("Completed Three months"),nt["a"].thTxt("Initiated Six months"),nt["a"].thTxt("Completed Six months")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.reportReady=!0,this.isLoading=!0,this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getClientRentention()];case 1:return e.cohort=n.sent(),this.setRows("F"),this.setRows("M"),this.isLoading=!1,[2]}}))}))},getValue:function(e,t,n,r){try{var i=this.cohort[e][r].filter((function(e){return e.gender===t&&e.age_group===n})).map((function(e){return e.patient_id}));return this.drill(i)}catch(o){return console.warn(o),0}},setRows:function(e){var t=Object(r["f"])(zn["a"],["Unknown"]);for(var n in t){var i=t[n],o=[nt["a"].td(i),nt["a"].td(e)];if(Object(h["isEmpty"])(this.cohort))this.rows.push(Object(r["f"])(o,[nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)]));else{for(var a in this.cohort)o.push(this.getValue(parseInt(a),e,i,"all")),o.push(this.getValue(parseInt(a),e,i,"retained"));this.rows.push(o)}}}}});const di=I()(li,[["render",ui]]);var pi=di;function bi(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var hi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Clinic External consultation clients",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("NPID"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Date set")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.reportReady=!0,this.isLoading=!0,this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getExternalConsultationClients()];case 1:return e.apply(this,[n.sent()]),this.isLoading=!1,[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.npid),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.date_set)])})),[2]}))}))}}});const fi=I()(hi,[["render",bi]]);var mi=fi;function gi(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportPDf:!1,showtitleOnly:!0,customFileName:e.customFileName,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","customFileName","onReportConfiguration"])]})),_:1})}var Oi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"",totalClients:[],rows:[],reportReady:!1,isLoading:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Birthdate"),nt["a"].thTxt("Specimen"),nt["a"].thTxt("Ordered"),nt["a"].thTxt("Result"),nt["a"].thTxt("Released"),nt["a"].thTxt("Action")]]}},created:function(){this.fields=Object(r["f"])(this.getDateDurationFields(),[{id:"result_type",helpText:"Select result type",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Viraemia 1000+",value:"viraemia-1000"},{label:"Suppressed",value:"suppressed"},{label:"Low level viraemia",value:"low-level-viraemia"}]}}])},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return n=e.result_type,this.rows=[],this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),this.title=n.label+" Report <small><b>(between the period of ("+this.period+")</b></small>",this.customFileName=zn["b"].getLocationName()+" "+n.label+" "+this.period,i=this.setRows,[4,this.report.getViralLoadResults(n.value.toLowerCase())];case 1:return i.apply(this,[r.sent()]),[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td(e.specimen),nt["a"].tdDate(e.order_date),nt["a"].td((e.result_modifier||"")+" "+e.result),nt["a"].tdDate(e.result_date),nt["a"].tdBtn("View",(function(){return t.$router.push("/patient/dashboard/"+e["patient_id"])}))])})),[2]}))}))}}});const vi=I()(Oi,[["render",gi]]);var _i=vi;function ji(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}var yi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"",totalClients:[],rows:[],columns:[],outcome:""}},created:function(){var e=this,t=[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Birthdate"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Outcome date"),nt["a"].thTxt("Actions")]],n=function(t){return[nt["a"].td(t.identifier),nt["a"].td(t.given_name),nt["a"].td(t.family_name),nt["a"].tdDate(t.birthdate),nt["a"].td(t.gender),nt["a"].tdDate(t.start_date),nt["a"].tdBtn("View",(function(){return e.$router.push({path:"/patient/dashboard/"+t.patient_id})}))]};this.fields=Object(r["f"])(this.getDateDurationFields(),[{id:"outcome",helpText:"Select outcome",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Transfer Out",value:"Transfer Out",other:{columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Birthdate"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Outcome date"),nt["a"].thTxt("TO Location"),nt["a"].thTxt("Actions")]],rowBuilder:function(t){return[nt["a"].td(t.identifier),nt["a"].td(t.given_name),nt["a"].td(t.family_name),nt["a"].tdDate(t.birthdate),nt["a"].td(t.gender),nt["a"].tdDate(t.start_date),nt["a"].td(t.transferred_out_to),nt["a"].tdBtn("View",(function(){return e.$router.push({path:"/patient/dashboard/"+t.patient_id})}))]}}},{label:"Died",value:"Died",other:{columns:t,rowBuilder:n}},{label:"Stopped",value:"Stopped",other:{columns:t,rowBuilder:n}}]}}])},methods:{onPeriod:function(e,t){var n=e.outcome;return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.rows=[],this.columns=n.other.columns,this.report=new zn["b"],this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.outcome=n.value.toString(),this.title=this.outcome+" Report",this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getOtherOutcome(this.outcome)];case 1:return e.apply(this,[r.sent(),n.other.rowBuilder]),[2]}}))}))},setRows:function(e,t){var n=this;e&&e.forEach((function(e){return n.rows.push(t(e))}))}}});const wi=I()(yi,[["render",ji]]);var Ni=wi;function Ci(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportReady:e.reportReady,isLoading:e.isLoading,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","reportReady","isLoading","onReportConfiguration"])}var Vi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Regimen Formulation: Patient level report",totalClients:[],rows:[],isLoading:!1,reportReady:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("DOB")]]}},created:function(){this.fields=Object(r["f"])(this.getDateDurationFields(),[{id:"regimen",helpText:"Select regimen",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return ir.map((function(e){return{label:e,value:e}}))}},{id:"formulation",helpText:"Select formulation",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return ar.map((function(e){return{label:e,value:e}}))}}])},methods:{onPeriod:function(e,t){var n=e.regimen,i=e.formulation;return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.reportReady=!0,this.isLoading=!0,this.rows=[],this.report=new cr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this.setRows,[4,this.report.getRegimenFormulationReport(n.value,i.value)];case 1:return e.apply(this,[r.sent()]),this.isLoading=!1,[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate)])})),[2]}))}))}}});const Di=I()(Vi,[["render",Ci]]);var ki=Di;function Ti(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}var Ii=n("1497"),xi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"]},data:function(){return{title:"Lab test result(s)",rows:[],cohort:[],reportType:"",reportReady:!1,columns:[],patientLevelColumns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Birthdate"),nt["a"].thTxt("Ordered"),nt["a"].thTxt("Specimen"),nt["a"].thTxt("Test"),nt["a"].thTxt("Result"),nt["a"].thTxt("Released")]],disaggregatedColumns:[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender")]}},created:function(){this.report=new Ii["a"],this.fields=this.getFormFields()},methods:{onPeriod:function(e){var t=e.type,n=e.tests;return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.reportReady=!0,this.rows=[],this.period=this.report.getDateIntervalPeriod(),this.reportType=t.value,"disaggregated"===this.reportType?this.setDisaggregatedRows(n):"patient_level"===this.reportType&&this.setPatientLevelRows(n),[2]}))}))},getFormFields:function(){var e=this;return Object(r["f"])(this.getDateDurationFields(),[{id:"tests",helpText:"Available test(s) results",type:s["b"].TT_MULTIPLE_SELECT,options:function(t,n,i){return Object(r["b"])(e,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.report.setStartDate(i.start_date),this.report.setEndDate(i.end_date),[4,this.report.getLabResultsReport()];case 1:return e=n.sent(),t=this.buildAvailableTests(e),[2,this.buildAvailableTestOptions(t)]}}))}))}},{id:"type",helpText:"Select report type",type:s["b"].TT_SELECT,options:function(){return[{label:"Disaggregated",value:"disaggregated"},{label:"Patient level",value:"patient_level"}]}}])},buildAvailableTests:function(e){var t=this,n={};return e.forEach((function(e){e.measures.forEach((function(r){r.name in n||(n[r.name]=[]),n[r.name].push({id:e.patient_id,arv:e.arv_number,gender:e.gender,ageGroup:e.age_group,birthdate:t.toDate(e.birthdate),ordered:t.toDate(e.order_date),specimen:e.test,test:r.name,result:r.modifier+" "+r.value,released:t.toDate(e.result_date)})}))})),n},buildAvailableTestOptions:function(e){var t=[];for(var n in e){var r=e[n];t.push({label:n,value:r.length,other:r})}return t},setDisaggregatedRows:function(e){var t=this,n=[],i=[];this.columns=[this.disaggregatedColumns.concat(e.map((function(e){return nt["a"].thTxt(e.label)})))];var o=function(o){var c=zn["a"][o],s=[nt["a"].td(c),nt["a"].td("M")],u=[nt["a"].td(c),nt["a"].td("F")];e.forEach((function(e){var n=e.other,r=function(e){return n.filter((function(t){return t.gender===e&&t.ageGroup===c})).map((function(e){return e.id}))};s.push(t.drill(r("M"))),u.push(t.drill(r("F")))})),n.push(s),i.push(u),a.rows=Object(r["f"])(i,n)},a=this;for(var c in zn["a"])o(c)},setPatientLevelRows:function(e){var t=this;this.columns=this.patientLevelColumns,e.forEach((function(e){var n=e.other;n.forEach((function(e){t.rows.push([nt["a"].td(e.arv),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.ordered),nt["a"].td(e.specimen),nt["a"].td(e.test),nt["a"].td(e.result),nt["a"].tdDate(e.released)])}))}))}}});const Si=I()(xi,[["render",Ti]]);var Pi=Si;function Bi(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,rows:e.rows,columns:e.columns},null,8,["title","rows","columns"])]})),_:1})}var Ai=n("d6aa"),Ei=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Ai["a"],IonPage:Ie["B"]},data:function(){return{title:"Active clients with adverse outcomes",rows:[],columns:[[nt["a"].thTxt("Filing#"),nt["a"].thTxt("Outcome"),nt["a"].thTxt("Outcome date")]]}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=new zn["b"],[4,e.getArchivingCandidates()];case 1:return t=r.sent(),t.forEach((function(e){n.rows.push([nt["a"].td(e.filing_number),nt["a"].td(e.outcome),nt["a"].tdDate(e.outcome_date)])})),[2]}}))}))}});const Fi=I()(Ei,[["render",Bi]]);var Ri=Fi;function Li(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,columns:e.columns,headerInfoList:e.headerList,reportPrefix:"MoH",validationErrors:e.errors,showValidationStatus:e.canValidate,hasServerSideCaching:!0,enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod,onDefaultConfiguration:e.onLoadDefault},null,8,["title","period","rows","columns","headerInfoList","validationErrors","showValidationStatus","onReportConfiguration","onDefaultConfiguration"])]})),_:1})}var Mi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Disaggregated report",columns:[Object(r["f"])([nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("Tx new (new on ART)"),nt["a"].thNum("Tx curr (receiving ART)"),nt["a"].thNum("TX curr (received IPT)"),nt["a"].thNum("TX curr (screened for TB)")],ir.map((function(e){return nt["a"].thNum(e)})),[nt["a"].thNum("Unknown"),nt["a"].thNum("Total (regimen)")])],errors:[],showStatus:!1,rowDataRefs:Object(r["f"])(["txNew","txCurr","txGivenIpt","txScreenTB"],ir,["N/A","regimenTotals"]),dataRefLabels:{txNew:"Tx new (new on ART)",txCurr:"Tx curr (receiving ART)",txGivenIpt:"TX curr (received IPT)",txScreenTB:"TX curr (screened for TB)","N/A":"Unknown",regimenTotals:"Regimen Totals"},aggregations:[],mohCohort:{},maleFemaleAgeGroupData:{},headerList:[],canValidate:!1,onLoadDefault:null,sortIndexes:{}}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(r["d"])(this,(function(n){return e=this.$route.query,e.start_date&&e.end_date&&e.quarter&&(this.onLoadDefault=function(){return t.onPeriod({quarter:{label:e.quarter,other:{start:e.start_date,end:e.end_date}}},{})}),[2]}))}))},watch:{canValidate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.validateReport()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},computed:{rows:function(){var e=this;return Object.keys(this.sortIndexes).sort((function(e,t){return parseInt(e)-parseInt(t)})).reduce((function(t,n){return t.concat(e.sortIndexes[n])}),[])}},methods:{onPeriod:function(e,t,n){return void 0===n&&(n=!1),Object(r["b"])(this,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.canValidate=!1,this.maleFemaleAgeGroupData={},this.aggregations=[],this.sortIndexes={},this.errors=[],this.report=new Kn,this.mohCohort=new Wn,e.quarter?(this.mohCohort.setQuarter(e.quarter.label),this.mohCohort.setStartDate(e.quarter.other.start),this.mohCohort.setEndDate(e.quarter.other.end),this.report.setQuarter(e.quarter.label),this.report.setStartDate(e.quarter.other.start),this.report.setEndDate(e.quarter.other.end),this.period=e.quarter.label):(this.mohCohort.setStartDate(t.start_date),this.mohCohort.setEndDate(t.end_date),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod()),this.report.setRebuildOutcome(n),[4,this.report.init()];case 1:return i=r.sent(),i?[4,this.setTableRows()]:[2,Object(_["e"])("Unable to initialise report")];case 2:return r.sent(),this.canValidate=!0,[2]}}))}))},setTableRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.setFemaleRows(1)];case 1:return e.sent(),[4,this.setMaleRows(2)];case 2:return e.sent(),[4,this.setTotalMalesRow(3)];case 3:return e.sent(),[4,this.setFemalePregnantRows(4)];case 4:return e.sent(),[4,this.setFemaleBreastFeedingRows(6)];case 5:return e.sent(),[4,this.setFemaleNotPregnantRows(5)];case 6:return e.sent(),[2]}}))}))},getColumnLabel:function(e){return e in this.dataRefLabels?this.dataRefLabels[e]:e},getTotals:function(e){return this.aggregations.filter((function(t){return e(t)})).reduce((function(e,t){return e.concat(t.data)}),[])},addAggregation:function(e,t,n){void 0===n&&(n=[]),this.aggregations.push({col:e,gender:t,data:n})},getRegimenRows:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,a,c=this;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return n=[],i=[],[4,this.report.getRegimenDistribution()];case 1:return o=s.sent(),a=Object(r["f"])(ir,["N/A"]),a.forEach((function(r){o[r]&&(n=n.concat(o[r])),i.push(c.drill(o[r],"Regimen "+r+" | "+e+" | "+t)),c.addAggregation(r,t,o[r])})),i.push(this.drill(n,"Regimen Totals | "+e+" | "+t)),this.addAggregation("regimenTotals",t,n),[2,i]}}))}))},getValue:function(e,t,n){switch(e){case"tx_given_ipt":return this.report.getTxIpt();case"tx_screened_for_tb":return this.report.getTxCurrTB();default:return t in n?n[t][e]:[]}},setTotalMalesRow:function(e){var t=this,n=this.aggregations.filter((function(e){return"Male"===e.gender})).reduce((function(e,t){return e[t.col]||(e[t.col]=[]),e[t.col]=e[t.col].concat(t.data),e}),{}),i=this.rowDataRefs.map((function(e){return t.drill(n[e],t.getColumnLabel(e)+" | All Male")}));this.sortIndexes[e]=[Object(r["f"])([nt["a"].td("All"),nt["a"].td("Male")],i)]},setFemaleNotPregnantRows:function(e){var t=this,n=function(e){return t.aggregations.filter((function(e){return e.gender.match(/fp|fbf/i)})).reduce((function(e,t){return e.concat(t.data||[])}),[]).includes(e)},i=this.aggregations.filter((function(e){return"Female"===e.gender})).reduce((function(e,t){return e[t.col]||(e[t.col]=[]),e[t.col]=e[t.col].concat(t.data.filter((function(e){return!n(e)}))),e}),{}),o=this.rowDataRefs.map((function(e){return t.drill(i[e],t.getColumnLabel(e)+" | FNP")}));this.sortIndexes[e]=[Object(r["f"])([nt["a"].td("All"),nt["a"].td("FNP")],o)]},setFemaleRows:function(e){return this.report.setGender("female"),this.setRows(e,"F",zn["a"],"Female")},setMaleRows:function(e){return this.report.setGender("male"),this.setRows(e,"M",zn["a"],"Male")},setFemalePregnantRows:function(e){return this.report.setGender("pregnant"),this.setRows(e,"F",["All"],"FP","Pregnant")},setFemaleBreastFeedingRows:function(e){return this.report.setGender("breastfeeding"),this.setRows(e,"F",["All"],"FBf","Breastfeeding")},setRows:function(e,t,n,i,o){return void 0===o&&(o=""),Object(r["b"])(this,void 0,void 0,(function(){var a,c,s,u,l,d,p=this;return Object(r["d"])(this,(function(b){switch(b.label){case 0:for(u in a=function(a){var s,u,l,d,b,f,m,g,O,v;return Object(r["d"])(this,(function(_){switch(_.label){case 0:return s=[],u=[],l=[],d=[],b=o||n[a],c.report.setAgeGroup(b),b in c.maleFemaleAgeGroupData?[3,2]:[4,c.report.getCohort()];case 1:f=_.sent(),c.report.setRebuildOutcome(!1),c.maleFemaleAgeGroupData[b]=Object(h["isEmpty"])(f)?{}:f[b],_.label=2;case 2:return Object(h["isEmpty"])(c.maleFemaleAgeGroupData[b])?[3,7]:(m=function(e){return Object(r["b"])(p,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){return[2,this.getValue(e,t,this.maleFemaleAgeGroupData[b])]}))}))},[4,m("tx_new")]);case 3:return s=_.sent(),[4,m("tx_curr")];case 4:return u=_.sent(),[4,m("tx_given_ipt")];case 5:return l=_.sent(),[4,m("tx_screened_for_tb")];case 6:d=_.sent(),c.addAggregation("txNew",i,s),c.addAggregation("txCurr",i,u),c.addAggregation("txGivenIpt",i,l),c.addAggregation("txScreenTB",i,d),_.label=7;case 7:switch(c.report.getGender()){case"breastfeeding":c.report.setAgeGroup("All"),c.report.setGender("Fbf");break;case"pregnant":c.report.setAgeGroup("All"),c.report.setGender("FP");break}return c.sortIndexes[e]||(c.sortIndexes[e]=[]),O=(g=c.sortIndexes[e]).push,v=[[nt["a"].td(n[a]),nt["a"].td(i),c.drill(s,"Tx new (new on ART) | "+b+" | "+i),c.drill(u,"Tx curr (receiving ART) | "+b+" | "+i),c.drill(l,"TX curr (received IPT) | "+b+" | "+i),c.drill(d,"TX curr (screened for TB) | "+b+" | "+i)]],[4,c.getRegimenRows(b,i)];case 8:return O.apply(g,[r["f"].apply(void 0,v.concat([_.sent()]))]),[2]}}))},c=this,s=[],n)s.push(u);l=0,b.label=1;case 1:return l<s.length?(d=s[l],[5,a(d)]):[3,4];case 2:b.sent(),b.label=3;case 3:return l++,[3,1];case 4:return[2]}}))}))},setHeaderInfoList:function(e){var t=this;this.headerList=[{label:"Total Alive and on ART",value:e.length,other:{onclick:function(){return t.runTableDrill(e,"Total Alive on ART")}}}]},validateReport:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i=this;return Object(r["d"])(this,(function(r){return e=this.getTotals((function(e){return"txCurr"===e.col&&e.gender.match(/male|female/i)})),this.setHeaderInfoList(e),t={total_alive_and_on_art:{param:e.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        Total alive of <b>"+t+"</b>\n                        Does not match total alive of <b>"+e+"</b> on MOH report\n                    "}}},n=this.mohCohort.validateIndicators(t,(function(e){return i.errors=e})),-1===n&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"]),[2]}))}))}}});const Hi=I()(Mi,[["render",Li]]);var Ui,qi=Hi;function Gi(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,config:{showIndex:!1},reportPrefix:"MoH",hasServerSideCaching:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}(function(e){e["GENERAL"]="General",e["CHILDREN"]="Children",e["WOMEN"]="Women"})(Ui||(Ui={}));var zi=function(e){function t(){var t=e.call(this)||this;return t.quarter="",t.regenerate=!1,t.ageGroup=Ui.GENERAL,t}return Object(r["c"])(t,e),t.prototype.setRegenerate=function(e){this.regenerate=e},t.prototype.getAgeGroup=function(){return this.ageGroup},t.prototype.setQuarter=function(e){this.quarter=e},t.prototype.setAgeGroup=function(e){this.ageGroup=e},t.prototype.getSurvivalAnalysis=function(){return this.getReport("cohort_survival_analysis",{quarter:this.quarter,regenerate:this.regenerate,date:this.date,age_group:this.ageGroup,program_id:this.programID})},t}(Yn["a"]),Yi={style:{borderRight:"5px solid black !important"}},Wi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Survival analysis report",totalClients:[],rows:[],columns:[[nt["a"].thTxt("Reg cohort"),nt["a"].thTxt("Interval (months)"),nt["a"].thTxt("Sub group"),nt["a"].thTxt("Total Reg (database)"),nt["a"].thTxt("Total Reg (Confirmed)",Yi),nt["a"].thTxt("Alive"),nt["a"].thTxt("Died"),nt["a"].thTxt("Defaulted"),nt["a"].thTxt("Stopped"),nt["a"].thTxt("TO"),nt["a"].thTxt("Unknown")]]}},created:function(){this.fields=Object(r["f"])(this.getDateDurationFields(!0,!1,17),[{id:"group",helpText:"Select sub-group",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"General",value:Ui.GENERAL},{label:"Children",value:Ui.CHILDREN},{label:"Option B+",value:Ui.WOMEN}]}}])},methods:{onPeriod:function(e,t,n){var i=e.quarter,o=e.group;return void 0===n&&(n=!1),Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return this.rows=[],this.period=i.label,this.report=new zi,this.report.setRegenerate(n),this.report.setQuarter(i.label),this.report.setAgeGroup(o.value),[4,this.report.getSurvivalAnalysis()];case 1:return e=t.sent(),this.rows=this.getRows(e),[2]}}))}))},getRows:function(e){var t=this;return Object.keys(e).filter((function(t){return!Object(h["isEmpty"])(e[t])})).sort((function(e,t){var n=e.split(" "),r=(n[0],n[1]),i=t.split(" "),o=(i[0],i[1]);return parseInt(r)-parseInt(o)})).map((function(n){var r=e[n],i=0,o=0,a={"On antiretrovirals":0,Defaulted:0,"Patient died":0,"Treatment stopped":0,"Patient transferred out":0,unknown:0};if(!Object(h["isEmpty"])(r)){for(var c in r){var s=r[c];for(var u in s){var l=s[u];i=parseInt(u),c in a?a[c]=l:a["unknown"]=l,o+=l}}return[nt["a"].td(n),nt["a"].td(i),nt["a"].td(t.report.getAgeGroup()),nt["a"].td(o),nt["a"].td("",Yi),nt["a"].td(a["On antiretrovirals"]),nt["a"].td(a["Patient died"]),nt["a"].td(a["Defaulted"]),nt["a"].td(a["Treatment stopped"]),nt["a"].td(a["Patient transferred out"]),nt["a"].td(a["unknown"])]}}))}}});const Ki=I()(Wi,[["render",Gi]]);var $i=Ki;function Ji(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{reportPrefix:"MoH",title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,validationErrors:e.errors,showValidationStatus:e.showStatus,headerInfoList:e.headerList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","validationErrors","showValidationStatus","headerInfoList","onReportConfiguration"])]})),_:1})}var Xi=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"TPT new initiations report",rows:[],cohort:{},canValidate:!1,mohCohort:{},headerList:[],errors:[],showStatus:!1,columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("3HP"),nt["a"].thNum("6H")]],totalIpt:[],total3hp:[]}},watch:{canValidate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.validateReport()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.canValidate=!1,this.rows=[],this.errors=[],this.showStatus=!1,this.totalIpt=[],this.total3hp=[],this.report=new cr,this.mohCohort=new Wn,this.mohCohort.setStartDate(t.start_date),this.mohCohort.setEndDate(t.end_date),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),e=this,[4,this.report.getTptNewInitiations()];case 1:return e.cohort=n.sent(),this.setRows("F"),this.setRows("M"),this.canValidate=!0,this.showStatus=!0,[2]}}))}))},drilldown:function(e,t){var n=this,r=[[nt["a"].thTxt("ARV #"),nt["a"].thTxt("DOB"),nt["a"].thTxt("Dispensed date")]],i=function(){return e.map((function(e){return[nt["a"].td(e.arv_number),nt["a"].tdDate(e.birthdate),nt["a"].tdDate(e.prescription_date)]}))};return e.length<=0?nt["a"].td(0):nt["a"].tdLink(e.length,(function(){return n.drilldownAsyncRows(t,r,i)}))},setRows:function(e){var t="M"===e?"Males":"Females";for(var n in zn["a"]){var i=zn["a"][n];if(!Object(h["isEmpty"])(this.cohort)&&i in this.cohort){var o=this.cohort[i];this.total3hp=Object(h["uniq"])(Object(r["f"])(this.total3hp,o["3HP"][e])),this.totalIpt=Object(h["uniq"])(Object(r["f"])(this.totalIpt,o["6H"][e])),this.rows.push([nt["a"].td(i),nt["a"].td(e),this.drilldown(o["3HP"][e],i+" "+t+" on 3HP"),this.drilldown(o["6H"][e],i+" "+t+" on 6H")])}else this.rows.push([nt["a"].td(i),nt["a"].td(e),nt["a"].td(0),nt["a"].td(0)])}},validateReport:function(){var e=this,t={newly_initiated_on_3hp:{param:this.total3hp.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        Total newly initiated on <b>3HP("+t+")</b> is not matching newly \n                        initiated on 3HP in Cohort report <b>("+e+")</b>.\n                    "}},newly_initiated_on_ipt:{param:this.totalIpt.length,check:function(e,t){return e!=t},error:function(e,t){return"\n                        Total newly initiated on IPT <b>("+t+")</b> is not matching \n                        newly initiated on IPT in Cohort report <b>("+e+")</b>.\n                    "}}},n=this.mohCohort.validateIndicators(t,(function(t){return e.errors=t}));-1===n&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"])}}});const Qi=I()(Xi,[["render",Ji]]);var Zi=Qi;function eo(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",validationErrors:e.errors,showValidationStatus:e.showStatus,headerInfoList:e.headerInfoList,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","validationErrors","showValidationStatus","headerInfoList","onReportConfiguration"])]})),_:1})}var to=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Moh TX CURR MMD Report",cohort:{},rows:[],headerInfoList:[],totals:new Set,mohCohort:{},errors:[],showStatus:!1,columns:[[nt["a"].thTxt("Age group"),nt["a"].thTxt("Gender"),nt["a"].thNum("# of clients on < 3 months of ARVs"),nt["a"].thNum("# of clients on 3 - 5 months of ARVs"),nt["a"].thNum("# of clients on  >= 6 months of ARVs")]],canValidate:!1}},created:function(){this.fields=this.getDateDurationFields()},watch:{canValidate:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?[4,this.validateReport()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return this.canValidate=!1,this.rows=[],this.errors=[],this.showStatus=!1,this.report=new Dr,this.mohCohort=new Wn,this.mohCohort.setStartDate(t.start_date),this.mohCohort.setEndDate(t.end_date),this.report.setOrg("moh"),this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.setRows()];case 1:return e.sent(),this.setHeaderInfoList(),this.canValidate=!0,this.showStatus=!0,[2]}}))}))},setHeaderInfoList:function(){var e=this;this.headerInfoList=[{label:"Total clients",value:this.totals.size,other:{onclick:function(){return e.runTableDrill(Array.from(e.totals),"Total Clients")}}}]},getValues:function(e,t){var n=[],r=[],i=[];for(var o in e){var a=e[o],c=a.prescribed_days;this.totals.add(o),c<90&&n.push(o),c>=90&&c<=150&&r.push(o),c>150&&i.push(o)}return[this.drill(n,t+" < 3 months of Arvs"),this.drill(r,t+" 3-5 months of Arvs"),this.drill(i,t+" > 6 months months of Arvs")]},setRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a,c,s,u,l,d,p,b;return Object(r["d"])(this,(function(h){switch(h.label){case 0:for(a in e=0,t=0,n=[],i=[],o=[],zn["a"])o.push(a);c=0,h.label=1;case 1:return c<o.length?(s=o[c],u=zn["a"][s],"<1 year"===u?(e=0,t=0):"90 plus years"===u?(e=90,t=120):(l=u.split("-"),d=l[0],p=l[1],e=parseInt(d),t=parseInt(p)),[4,this.report.getTxCurrMMDReport(e,t)]):[3,4];case 2:b=h.sent(),this.report.initArvRefillPeriod(!1),b?(i.push(Object(r["f"])([nt["a"].td(u),nt["a"].td("Female")],this.getValues(b["Female"],u+" (F)"))),n.push(Object(r["f"])([nt["a"].td(u),nt["a"].td("Male")],this.getValues(b["Male"],u+" (M)")))):(i.push([nt["a"].td(u),nt["a"].td("Female"),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)]),n.push([nt["a"].td(u),nt["a"].td("Male"),nt["a"].td(0),nt["a"].td(0),nt["a"].td(0)])),this.rows=Object(r["f"])(i,n),h.label=3;case 3:return c++,[3,1];case 4:return[2]}}))}))},validateReport:function(){var e=this,t={total_alive_and_on_art:{param:this.totals.size,check:function(e,t){return e!=t},error:function(e,t){return"\n                        MoH cohort Alive and on ART clients <b>("+e+")</b> is not\n                        matching with total TX MMD clients <b("+t+").</b>\n                    "}}},n=this.mohCohort.validateIndicators(t,(function(t){return e.errors=t}));-1===n&&(this.errors=["Report not validated. Run the MoH cohort report for similar reporting period and then run this report"])}}});const no=I()(to,[["render",eo]]);var ro=no;function io(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,reportPrefix:"MoH",config:{showIndex:!1},enabledPDFHorizontalPageBreak:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var oo=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{rows:[],title:"Regimen distribution (Weight)",columns:[[nt["a"].thTxt("Weight band"),nt["a"].thTxt("Gender"),nt["a"].thNum("0A"),nt["a"].thNum("2A"),nt["a"].thNum("4A"),nt["a"].thNum("5A"),nt["a"].thNum("6A"),nt["a"].thNum("7A"),nt["a"].thNum("8A"),nt["a"].thNum("9A"),nt["a"].thNum("10A"),nt["a"].thNum("11A"),nt["a"].thNum("12A"),nt["a"].thNum("13A"),nt["a"].thNum("14A"),nt["a"].thNum("15A"),nt["a"].thNum("16A"),nt["a"].thNum("17A"),nt["a"].thNum("0P"),nt["a"].thNum("2P"),nt["a"].thNum("4P"),nt["a"].thNum("9P"),nt["a"].thNum("11P"),nt["a"].thNum("14P"),nt["a"].thNum("14PP"),nt["a"].thNum("15P"),nt["a"].thNum("15PP"),nt["a"].thNum("16P"),nt["a"].thNum("17P"),nt["a"].thNum("Unknown"),nt["a"].thNum("Total (regimen)")]]}},created:function(){this.fields=this.getDateDurationFields()},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.rows=[],this.report=new cr,this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getRegimensByWeight()];case 1:return e=n.sent(),[4,this.setRows(e)];case 2:return n.sent(),[2]}}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i=this;return Object(r["d"])(this,(function(o){return t=function(e){return Object(r["f"])(ir,["N/A"]).map((function(t){var n=e.filter((function(e){return!!e[t]})).map((function(e){return Object.values(e)[0]}));return nt["a"].td(Object(h["isEmpty"])(n)?0:n[0])}))},n=function(e){return e.reduce((function(e,t){return e+t.td}),0)},or.forEach((function(o){var a=e.filter((function(e){return e.weight===o}));a.forEach((function(e){var a=t(e.males),c=t(e.females),s=Object(r["f"])([nt["a"].td(o),nt["a"].td("Male")],a,[nt["a"].td(n(a))]),u=Object(r["f"])([nt["a"].td(o),nt["a"].td("Female")],c,[nt["a"].td(n(c))]);if(i.rows.push(s),i.rows.push(u),!Object(h["isEmpty"])(e.unknown_gender)){var l=t(e.unknown_gender),d=n(l);i.rows.push(Object(r["f"])([nt["a"].td(o),nt["a"].td("Unknown Gender")],l,[nt["a"].td(d)]))}}))})),[2]}))}))}}});const ao=I()(oo,[["render",io]]);var co=ao,so={id:"report-content"},uo=Object(o["createVNode"])("div",{id:"print"},null,-1);function lo(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-loading"),s=Object(o["resolveComponent"])("his-standard-form"),u=Object(o["resolveComponent"])("cohort-v"),l=Object(o["resolveComponent"])("cohort-h"),d=Object(o["resolveComponent"])("cohort-ft"),p=Object(o["resolveComponent"])("ion-content"),b=Object(o["resolveComponent"])("his-footer"),h=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(c,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),e.reportReady?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,onOnFinish:e.onPeriod,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"])),e.reportReady?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{key:e.componentKey,dataparams:e.vCohort,ref:"validation"},null,8,["dataparams"]),Object(o["createVNode"])("div",so,[Object(o["createVNode"])(l,{key:e.componentKey,reportparams:e.period,ref:"header",clinicName:e.clinicName},null,8,["reportparams","clinicName"]),Object(o["createVNode"])(d,{key:e.componentKey,onDrillDown:e.onDrillDown,params:e.cohort,reportid:e.reportID,quarter:e.period,ref:"rep"},null,8,["onDrillDown","params","reportid","quarter"])])]})),_:1}),Object(o["createVNode"])(b,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(o["createCommentVNode"])("",!0),uo],64)}var po=Object(o["withScopeId"])("data-v-38d9ddb0");Object(o["pushScopeId"])("data-v-38d9ddb0");var bo=Object(o["createVNode"])("tr",{id:"version-row"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"4",id:"version"},"Version 26")],-1),ho=Object(o["createVNode"])("td",{class:"numbers"},"1.",-1),fo=Object(o["createVNode"])("td",{class:"row-title",style:{"border-right-style":"solid","border-bottom":"0px !important","font-weight":"bold"}},"Clinic name",-1),mo={class:"row-title",colspan:"3",style:{"border-bottom-style":"solid"}},go=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("td",{class:"numbers"},"2."),Object(o["createVNode"])("td",{class:"row-title",style:{border:"0px !important"}},"Supervisors"),Object(o["createVNode"])("td",{class:"row-name",style:{"font-weight":"bold"}},"Name"),Object(o["createVNode"])("td",{colspan:"2",class:"signatures",style:{"font-weight":"bold"}},"Signature")],-1),Oo={class:"numbers"},vo=Object(o["createVNode"])("td",{class:"row-title no-borders"},"",-1),_o=Object(o["createVNode"])("td",{class:"row-name name-left"},"",-1),jo=Object(o["createVNode"])("td",{colspan:"2",class:"signatures"},"",-1),yo=Object(o["createVNode"])("td",{class:"numbers"},"10.",-1),wo=Object(o["createVNode"])("td",{class:"row-title",style:{"border-bottom-style":"solid","border-top-style":"none"}},"Quarter evaluated",-1),No={class:"row-name name-left",style:{"border-bottom-style":"solid"}},Co=Object(o["createTextVNode"])("Year:"),Vo={colspan:"2",class:"signatures",style:{"border-bottom-style":"solid"}},Do=Object(o["createTextVNode"])("Quarter:");Object(o["popScopeId"])();var ko=po((function(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])("table",null,[bo,Object(o["createVNode"])("tr",null,[ho,fo,Object(o["createVNode"])("td",mo,Object(o["toDisplayString"])(n.clinicName),1)]),go,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e},[Object(o["createVNode"])("td",Oo,Object(o["toDisplayString"])(e),1),vo,_o,jo])})),128)),Object(o["createVNode"])("tr",null,[yo,wo,Object(o["createVNode"])("td",No,[Co,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.quarterYr),1)]),Object(o["createVNode"])("td",Vo,[Do,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.quarterStr),1)])])])})),To=n("3835"),Io={props:{clinicName:{type:String,default:""},reportparams:{type:Object,required:!0}},data:function(){return{items:["3.","4.","5.","6.","7.","8.","9."],quarterStr:null,quarterYr:null}},methods:{renderQuarter:function(){if(this.reportparams){var e=this.reportparams.split(" "),t=Object(To["a"])(e,4),n=t[0],r=t[1],i=(t[2],t[3]);this.quarterStr=n,this.quarterYr=n.match(/custom/i)?"".concat(r," - ").concat(i):r}}},watch:{reportparams:{immediate:!0,handler:function(){this.renderQuarter()}}}};n("6f72");const xo=I()(Io,[["render",ko],["__scopeId","data-v-38d9ddb0"]]);var So=xo,Po=Object(o["withScopeId"])("data-v-5801b4ad");Object(o["pushScopeId"])("data-v-5801b4ad");var Bo={id:"consistency_check"};Object(o["popScopeId"])();var Ao=Po((function(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])("div",Bo,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(this.report_consistency_string,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:t},Object(o["toDisplayString"])(e),1)})),128))])})),Eo={data:function(){return{re_initiated_on_art:0,cum_re_initiated_on_art:0,newly_registered_quarterly:0,newly_registered_cum:0,quarterly_all_males:0,cummulative_all_males:0,pregnant_females_all_ages:0,cum_pregnant_females_all_ages:0,non_pregnant_females:0,cum_non_pregnant_females:0,children_below_24_months_at_art_initiation:0,cum_children_below_24_months_at_art_initiation:0,confirmed_hiv_infection_in_infants_pcr:0,cum_confirmed_hiv_infection_in_infants_pcr:0,quarterly_children_12_59_months:0,cum_children_12_59_months:0,breastfeeding_mothers:0,cum_breastfeeding_mothers:0,who_stage_two:0,cum_who_stage_two:0,asymptomatic:0,cum_asymptomatic:0,who_stage_three:0,cum_who_stage_three:0,who_stage_four:0,cum_who_stage_four:0,unknown_other_reason_outside_guidelines:0,cum_unknown_other_reason_outside_guidelines:0,no_tb:0,cum_no_tb:0,tb_within_the_last_two_years:0,cum_tb_within_the_last_two_years:0,current_episode_of_tb:0,cum_current_episode_of_tb:0,kaposis_sarcoma:0,cum_kaposis_sarcoma:0,total_alive_and_on_art:0,died_within_the_1st_month_of_art_initiation:0,died_within_the_2nd_month_of_art_initiation:0,died_within_the_3rd_month_of_art_initiation:0,died_after_the_3rd_month_of_art_initiation:0,died_total:0,defaulted:0,stopped_art:0,transfered_out:0,zero_p:0,zero_a:0,two_p:0,two_a:0,four_p:0,four_a:0,five_a:0,six_a:0,seven_a:0,eight_a:0,nine_p:0,nine_p_tabs:0,nine_p_granules:0,nine_a:0,ten_a:0,eleven_p:0,eleven_p_tabs:0,eleven_p_granules:0,eleven_a:0,twelve_a:0,thirteen_a:0,fourteen_p:0,fourteen_a:0,fifteen_p:0,fifteen_a:0,sixteen_p:0,sixteen_a:0,seventeen_p:0,seventeen_a:0,unknown_regimen:0,total_pregnant_women:0,total_breastfeeding_women:0,total_other_patients:0,tb_not_suspected:0,tb_suspected:0,tb_confirmed_currently_not_yet_on_tb_treatment:0,tb_confirmed_on_tb_treatment:0,unknown_tb_status:0,total_patients_without_side_effects:0,total_patients_with_side_effects:0,unknown_side_effects:0,patients_with_0_6_doses_missed_at_their_last_visit:0,patients_with_7_plus_doses_missed_at_their_last_visit:0,patients_with_unknown_adhrence:0,total_patients_on_arvs_and_cpt:0,total_patients_on_arvs_and_ipt:0,total_patients_on_family_planning:0,total_patients_with_screened_bp:0,transfer_in:0,cum_transfer_in:0,males_initiated_on_art_first_time:0,cum_males_initiated_on_art_first_time:0,initial_pregnant_females_all_ages:0,cum_initial_pregnant_females_all_ages:0,initial_non_pregnant_females_all_ages:0,cum_initial_non_pregnant_females_all_ages:0,unknown_gender:0,cum_unknown_gender:0,initiated_on_art_first_time:0,cum_initiated_on_art_first_time:0,report_consistency_string:[]}},methods:{startValidating:function(){for(var e=0;e<this.dataparams.length;e++)"re_initiated_on_art"==this.dataparams[e].name&&(this.re_initiated_on_art=parseInt(this.dataparams[e].contents)),"cum_re_initiated_on_art"==this.dataparams[e].name&&(this.cum_re_initiated_on_art=parseInt(this.dataparams[e].contents)),"transfer_in"==this.dataparams[e].name&&(this.transfer_in=parseInt(this.dataparams[e].contents)),"cum_transfer_in"==this.dataparams[e].name&&(this.cum_transfer_in=parseInt(this.dataparams[e].contents)),"total_registered"==this.dataparams[e].name&&(this.newly_registered_quarterly=parseInt(this.dataparams[e].contents)),"cum_total_registered"==this.dataparams[e].name&&(this.newly_registered_cum=parseInt(this.dataparams[e].contents)),"cum_all_males"==this.dataparams[e].name&&(this.cummulative_all_males=parseInt(this.dataparams[e].contents)),"all_males"==this.dataparams[e].name&&(this.quarterly_all_males=parseInt(this.dataparams[e].contents)),"non_pregnant_females"==this.dataparams[e].name&&(this.non_pregnant_females=parseInt(this.dataparams[e].contents)),"cum_non_pregnant_females"==this.dataparams[e].name&&(this.cum_non_pregnant_females=parseInt(this.dataparams[e].contents)),"pregnant_females_all_ages"==this.dataparams[e].name&&(this.pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"children_below_24_months_at_art_initiation"==this.dataparams[e].name&&(this.children_below_24_months_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_children_below_24_months_at_art_initiation"==this.dataparams[e].name&&(this.cum_children_below_24_months_at_art_initiation=parseInt(this.dataparams[e].contents)),"children_24_months_14_years_at_art_initiation"==this.dataparams[e].name&&(this.children_24_months_14_years_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_children_24_months_14_years_at_art_initiation"==this.dataparams[e].name&&(this.cum_children_24_months_14_years_at_art_initiation=parseInt(this.dataparams[e].contents)),"adults_at_art_initiation"==this.dataparams[e].name&&(this.adults_at_art_initiation=parseInt(this.dataparams[e].contents)),"cum_adults_at_art_initiation"==this.dataparams[e].name&&(this.cum_adults_at_art_initiation=parseInt(this.dataparams[e].contents)),"presumed_severe_hiv_disease_in_infants"==this.dataparams[e].name&&(this.presumed_severe_hiv_disease_in_infants=parseInt(this.dataparams[e].contents)),"cum_presumed_severe_hiv_disease_in_infants"==this.dataparams[e].name&&(this.cum_presumed_severe_hiv_disease_in_infants=parseInt(this.dataparams[e].contents)),"confirmed_hiv_infection_in_infants_pcr"==this.dataparams[e].name&&(this.confirmed_hiv_infection_in_infants_pcr=parseInt(this.dataparams[e].contents)),"cum_confirmed_hiv_infection_in_infants_pcr"==this.dataparams[e].name&&(this.cum_confirmed_hiv_infection_in_infants_pcr=parseInt(this.dataparams[e].contents)),"quarterly_children_12_59_months"==this.dataparams[e].name&&(this.quarterly_children_12_59_months=parseInt(this.dataparams[e].contents)),"cum_children_12_59_months"==this.dataparams[e].name&&(this.cum_children_12_59_months=parseInt(this.dataparams[e].contents)),"pregnant_women"==this.dataparams[e].name&&(this.pregnant_women=parseInt(this.dataparams[e].contents)),"cum_pregnant_women"==this.dataparams[e].name&&(this.cum_pregnant_women=parseInt(this.dataparams[e].contents)),"breastfeeding_mothers"==this.dataparams[e].name&&(this.breastfeeding_mothers=parseInt(this.dataparams[e].contents)),"cum_breastfeeding_mothers"==this.dataparams[e].name&&(this.cum_breastfeeding_mothers=parseInt(this.dataparams[e].contents)),"who_stage_two"==this.dataparams[e].name&&(this.who_stage_two=parseInt(this.dataparams[e].contents)),"cum_who_stage_two"==this.dataparams[e].name&&(this.cum_who_stage_two=parseInt(this.dataparams[e].contents)),"asymptomatic"==this.dataparams[e].name&&(this.asymptomatic=parseInt(this.dataparams[e].contents)),"cum_asymptomatic"==this.dataparams[e].name&&(this.cum_asymptomatic=parseInt(this.dataparams[e].contents)),"who_stage_three"==this.dataparams[e].name&&(this.who_stage_three=parseInt(this.dataparams[e].contents)),"cum_who_stage_three"==this.dataparams[e].name&&(this.cum_who_stage_three=parseInt(this.dataparams[e].contents)),"who_stage_four"==this.dataparams[e].name&&(this.who_stage_four=parseInt(this.dataparams[e].contents)),"cum_who_stage_four"==this.dataparams[e].name&&(this.cum_who_stage_four=parseInt(this.dataparams[e].contents)),"unknown_other_reason_outside_guidelines"==this.dataparams[e].name&&(this.unknown_other_reason_outside_guidelines=parseInt(this.dataparams[e].contents)),"cum_unknown_other_reason_outside_guidelines"==this.dataparams[e].name&&(this.cum_unknown_other_reason_outside_guidelines=parseInt(this.dataparams[e].contents)),"no_tb"==this.dataparams[e].name&&(this.no_tb=parseInt(this.dataparams[e].contents)),"cum_no_tb"==this.dataparams[e].name&&(this.cum_no_tb=parseInt(this.dataparams[e].contents)),"tb_within_the_last_two_years"==this.dataparams[e].name&&(this.tb_within_the_last_two_years=parseInt(this.dataparams[e].contents)),"cum_tb_within_the_last_two_years"==this.dataparams[e].name&&(this.cum_tb_within_the_last_two_years=parseInt(this.dataparams[e].contents)),"current_episode_of_tb"==this.dataparams[e].name&&(this.current_episode_of_tb=parseInt(this.dataparams[e].contents)),"cum_current_episode_of_tb"==this.dataparams[e].name&&(this.cum_current_episode_of_tb=parseInt(this.dataparams[e].contents)),"kaposis_sarcoma"==this.dataparams[e].name&&(this.kaposis_sarcoma=parseInt(this.dataparams[e].contents)),"cum_kaposis_sarcoma"==this.dataparams[e].name&&(this.cum_kaposis_sarcoma=parseInt(this.dataparams[e].contents)),"total_alive_and_on_art"==this.dataparams[e].name&&(this.total_alive_and_on_art=parseInt(this.dataparams[e].contents)),"died_within_the_1st_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_1st_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_within_the_2nd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_2nd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_within_the_3rd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_within_the_3rd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_after_the_3rd_month_of_art_initiation"==this.dataparams[e].name&&(this.died_after_the_3rd_month_of_art_initiation=parseInt(this.dataparams[e].contents)),"died_total"==this.dataparams[e].name&&(this.died_total=parseInt(this.dataparams[e].contents)),"defaulted"==this.dataparams[e].name&&(this.defaulted=parseInt(this.dataparams[e].contents)),"stopped_art"==this.dataparams[e].name&&(this.stopped_art=parseInt(this.dataparams[e].contents)),"transfered_out"==this.dataparams[e].name&&(this.transfered_out=parseInt(this.dataparams[e].contents)),"zero_p"==this.dataparams[e].name&&(this.zero_p=parseInt(this.dataparams[e].contents)),"zero_a"==this.dataparams[e].name&&(this.zero_a=parseInt(this.dataparams[e].contents)),"two_p"==this.dataparams[e].name&&(this.two_p=parseInt(this.dataparams[e].contents)),"two_a"==this.dataparams[e].name&&(this.two_a=parseInt(this.dataparams[e].contents)),"four_p"==this.dataparams[e].name&&(this.four_p=parseInt(this.dataparams[e].contents)),"four_a"==this.dataparams[e].name&&(this.four_a=parseInt(this.dataparams[e].contents)),"five_a"==this.dataparams[e].name&&(this.five_a=parseInt(this.dataparams[e].contents)),"six_a"==this.dataparams[e].name&&(this.six_a=parseInt(this.dataparams[e].contents)),"seven_a"==this.dataparams[e].name&&(this.seven_a=parseInt(this.dataparams[e].contents)),"eight_a"==this.dataparams[e].name&&(this.eight_a=parseInt(this.dataparams[e].contents)),"nine_p_tabs"==this.dataparams[e].name&&(this.nine_p_tabs=parseInt(this.dataparams[e].contents)),"nine_p_granules"==this.dataparams[e].name&&(this.nine_p_granules=parseInt(this.dataparams[e].contents)),"nine_a"==this.dataparams[e].name&&(this.nine_a=parseInt(this.dataparams[e].contents)),"ten_a"==this.dataparams[e].name&&(this.ten_a=parseInt(this.dataparams[e].contents)),"eleven_p_tabs"==this.dataparams[e].name&&(this.eleven_p_tabs=parseInt(this.dataparams[e].contents)),"eleven_p_granules"==this.dataparams[e].name&&(this.eleven_p_granules=parseInt(this.dataparams[e].contents)),"eleven_a"==this.dataparams[e].name&&(this.eleven_a=parseInt(this.dataparams[e].contents)),"twelve_a"==this.dataparams[e].name&&(this.twelve_a=parseInt(this.dataparams[e].contents)),"thirteen_a"==this.dataparams[e].name&&(this.thirteen_a=parseInt(this.dataparams[e].contents)),"fourteen_p"==this.dataparams[e].name&&(this.fourteen_p=parseInt(this.dataparams[e].contents)),"fourteen_a"==this.dataparams[e].name&&(this.fourteen_a=parseInt(this.dataparams[e].contents)),"fifteen_p"==this.dataparams[e].name&&(this.fifteen_p=parseInt(this.dataparams[e].contents)),"fifteen_a"==this.dataparams[e].name&&(this.fifteen_a=parseInt(this.dataparams[e].contents)),"sixteen_p"==this.dataparams[e].name&&(this.sixteen_p=parseInt(this.dataparams[e].contents)),"sixteen_a"==this.dataparams[e].name&&(this.sixteen_a=parseInt(this.dataparams[e].contents)),"seventeen_p"==this.dataparams[e].name&&(this.seventeen_p=parseInt(this.dataparams[e].contents)),"seventeen_a"==this.dataparams[e].name&&(this.seventeen_a=parseInt(this.dataparams[e].contents)),"unknown_regimen"==this.dataparams[e].name&&(this.unknown_regimen=parseInt(this.dataparams[e].contents)),"total_pregnant_women"==this.dataparams[e].name&&(this.total_pregnant_women=parseInt(this.dataparams[e].contents)),"total_breastfeeding_women"==this.dataparams[e].name&&(this.total_breastfeeding_women=parseInt(this.dataparams[e].contents)),"total_other_patients"==this.dataparams[e].name&&(this.total_other_patients=parseInt(this.dataparams[e].contents)),"tb_not_suspected"==this.dataparams[e].name&&(this.tb_not_suspected=parseInt(this.dataparams[e].contents)),"tb_suspected"==this.dataparams[e].name&&(this.tb_suspected=parseInt(this.dataparams[e].contents)),"tb_not_suspected"==this.dataparams[e].name&&(this.tb_not_suspected=parseInt(this.dataparams[e].contents)),"tb_confirmed_currently_not_yet_on_tb_treatment"==this.dataparams[e].name&&(this.tb_confirmed_currently_not_yet_on_tb_treatment=parseInt(this.dataparams[e].contents)),"tb_confirmed_on_tb_treatment"==this.dataparams[e].name&&(this.tb_confirmed_on_tb_treatment=parseInt(this.dataparams[e].contents)),"unknown_tb_status"==this.dataparams[e].name&&(this.unknown_tb_status=parseInt(this.dataparams[e].contents)),"total_patients_without_side_effects"==this.dataparams[e].name&&(this.total_patients_without_side_effects=parseInt(this.dataparams[e].contents)),"total_patients_with_side_effects"==this.dataparams[e].name&&(this.total_patients_with_side_effects=parseInt(this.dataparams[e].contents)),"unknown_side_effects"==this.dataparams[e].name&&(this.unknown_side_effects=parseInt(this.dataparams[e].contents)),"patients_with_0_6_doses_missed_at_their_last_visit"==this.dataparams[e].name&&(this.patients_with_0_6_doses_missed_at_their_last_visit=parseInt(this.dataparams[e].contents)),"patients_with_7_plus_doses_missed_at_their_last_visit"==this.dataparams[e].name&&(this.patients_with_7_plus_doses_missed_at_their_last_visit=parseInt(this.dataparams[e].contents)),"patients_with_unknown_adhrence"==this.dataparams[e].name&&(this.patients_with_unknown_adhrence=parseInt(this.dataparams[e].contents)),"total_patients_on_arvs_and_cpt"==this.dataparams[e].name&&(this.total_patients_on_arvs_and_cpt=parseInt(this.dataparams[e].contents)),"total_patients_on_arvs_and_ipt"==this.dataparams[e].name&&(this.total_patients_on_arvs_and_ipt=parseInt(this.dataparams[e].contents)),"total_patients_on_family_planning"==this.dataparams[e].name&&(this.total_patients_on_family_planning=parseInt(this.dataparams[e].contents)),"total_patients_with_screened_bp"==this.dataparams[e].name&&(this.total_patients_with_screened_bp=parseInt(this.dataparams[e].contents)),"males_initiated_on_art_first_time"==this.dataparams[e].name&&(this.males_initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"cum_males_initiated_on_art_first_time"==this.dataparams[e].name&&(this.cum_males_initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"initial_pregnant_females_all_ages"==this.dataparams[e].name&&(this.initial_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_initial_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_initial_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"initial_non_pregnant_females_all_ages"==this.dataparams[e].name&&(this.initial_non_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"cum_initial_non_pregnant_females_all_ages"==this.dataparams[e].name&&(this.cum_initial_non_pregnant_females_all_ages=parseInt(this.dataparams[e].contents)),"unknown_gender"==this.dataparams[e].name&&(this.unknown_gender=parseInt(this.dataparams[e].contents)),"cum_unknown_gender"==this.dataparams[e].name&&(this.cum_unknown_gender=parseInt(this.dataparams[e].contents)),"initiated_on_art_first_time"==this.dataparams[e].name&&(this.initiated_on_art_first_time=parseInt(this.dataparams[e].contents)),"cum_initiated_on_art_first_time"==this.dataparams[e].name&&(this.cum_initiated_on_art_first_time=parseInt(this.dataparams[e].contents))},validateReport:function(){if(!(this.newly_registered_cum<1)){var e="";this.report_consistency_string=[];var t=this.initial_non_pregnant_females_all_ages;t+=this.males_initiated_on_art_first_time,t+=this.initial_pregnant_females_all_ages,t+=this.unknown_gender,t+=this.re_initiated_on_art,t+=this.transfer_in,this.newly_registered_quarterly!=t&&(e="Section 26 - 32: Total registered (Quartely) is not equal to ",e+="CHECK: Total FT + Re Patients re-initiated on ART + TI Patients transferred in on ART",this.report_consistency_string.push(e)),t=this.cum_initial_non_pregnant_females_all_ages,t+=this.cum_males_initiated_on_art_first_time,t+=this.cum_initial_pregnant_females_all_ages,t+=this.cum_unknown_gender,t+=this.cum_re_initiated_on_art,t+=this.cum_transfer_in,this.newly_registered_cum!=t&&(e="Section 26 - 32: Total registered (Cummulative) is not equal to ",e+="CHECK: Total FT + Re Patients re-initiated on ART + TI Patients transferred in on ART",this.report_consistency_string.push(e));var n=this.quarterly_all_males;n+=this.non_pregnant_females,n+=this.pregnant_females_all_ages,this.newly_registered_quarterly!=n&&(e="Section 33 - 35: Total registered (Quartely) is not equal to ",e+="M Males (all ages) + FNP Non-pregnant Females (all ages)  + FP Pregnant Females (all ages)",this.report_consistency_string.push(e)),n=this.cummulative_all_males,n+=this.cum_non_pregnant_females,n+=this.cum_pregnant_females_all_ages,this.newly_registered_cum!=n&&(e="Section 33 - 35: Total registered (Cummulative) is not equal to ",e+="M Males (all ages) + FNP Non-pregnant Females (all ages)  + FP Pregnant Females (all ages)",this.report_consistency_string.push(e));var r=this.children_below_24_months_at_art_initiation;r+=this.children_24_months_14_years_at_art_initiation,r+=this.adults_at_art_initiation,this.newly_registered_quarterly!=r&&(e="Section 36 - 38: Total registered (Quartely) is not equal to ",e+="A Children below 24 m at ART initiation + B Children 24 m - 14 yrs at ART initiation + C Adults 15 years+ at ART initiation",this.report_consistency_string.push(e)),r=this.cum_children_below_24_months_at_art_initiation,r+=this.cum_children_24_months_14_years_at_art_initiation,r+=this.cum_adults_at_art_initiation,this.newly_registered_cum!=r&&(e="Section 36 - 38: Total registered (Cummulative) is not equal to ",e+="A Children below 24 m at ART initiation + B Children 24 m - 14 yrs at ART initiation + C Adults 15 years+ at ART initiation",this.report_consistency_string.push(e));var i=this.presumed_severe_hiv_disease_in_infants;i+=this.confirmed_hiv_infection_in_infants_pcr,i+=this.quarterly_children_12_59_months,i+=this.pregnant_women,i+=this.breastfeeding_mothers,i+=this.who_stage_two,i+=this.asymptomatic,i+=this.who_stage_three,i+=this.who_stage_four,i+=this.unknown_other_reason_outside_guidelines,this.newly_registered_quarterly!=i&&(e="Section 39 - 48: Total registered (Quartely) is not equal to ",e+="Pres. Sev. HIV disease age <12 m + PCR Infants <12 mths PCR + U5 Children 12-59mths",e+=" + Preg Pregnant women + BF Breastfeeding mothers + CD4 CD4 below threshold",e+=" + Asy Asymptomatic / mild + WHO stage 3 + WHO stage 4",e+=" + Unknown / reason outside guidelines",this.report_consistency_string.push(e)),i=this.cum_presumed_severe_hiv_disease_in_infants,i+=this.cum_confirmed_hiv_infection_in_infants_pcr,i+=this.cum_children_12_59_months,i+=this.cum_pregnant_women,i+=this.cum_breastfeeding_mothers,i+=this.cum_who_stage_two,i+=this.cum_asymptomatic,i+=this.cum_who_stage_three,i+=this.cum_who_stage_four,i+=this.cum_unknown_other_reason_outside_guidelines,this.newly_registered_cum!=i&&(e="Section 39 - 48: Total registered (Cummulative) is not equal to ",e+="Pres. Sev. HIV disease age <12 m + PCR Infants <12 mths PCR + U5 Children 12-59mths",e+=" + Preg Pregnant women + BF Breastfeeding mothers + CD4 CD4 below threshold",e+=" + Asy Asymptomatic / mild + WHO stage 3 + WHO stage 4",e+=" + Unknown / reason outside guidelines",this.report_consistency_string.push(e));var o=this.no_tb;o+=this.tb_within_the_last_two_years,o+=this.current_episode_of_tb,this.newly_registered_quarterly!=o&&(e="Section 49 - 51: Total registered (Quartely) is not equal to ",e+="Nev/>2yrs\tNever TB / TB over 2 years ago + Last 2yrs\tTB within the last 2 years + Curr Current episode of TB",this.report_consistency_string.push(e)),o=this.cum_no_tb,o+=this.cum_tb_within_the_last_two_years,o+=this.cum_current_episode_of_tb,this.newly_registered_cum!=o&&(e="Section 49 - 51: Total registered (Cummulative) is not equal to ",e+="Nev/>2yrs\tNever TB / TB over 2 years ago + Last 2yrs\tTB within the last 2 years + Curr Current episode of TB",this.report_consistency_string.push(e));var a=this.total_alive_and_on_art;a+=this.died_total,a+=this.defaulted,a+=this.stopped_art,a+=this.transfered_out,this.newly_registered_cum!=a&&(e="Section 53 - 61: Total registered (Cummulative) is not equal to ",e+="Total alive and on ART + Died total + Defaulted (more than 2 months overdue after expected to have run out of ARVs)",e+=" + Stopped taking ARVs (clinician or patient own decision, last known alive)",e+=" + Transferred Out",this.report_consistency_string.push(e));var c=[this.zero_p,this.zero_a,this.two_p,this.two_a,this.four_p,this.four_a,this.five_a,this.six_a,this.seven_a,this.eight_a,this.nine_p_tabs,this.nine_p_granules,this.nine_a,this.ten_a,this.eleven_p_tabs,this.eleven_p_granules,this.eleven_a,this.twelve_a,this.unknown_regimen,this.thirteen_a,this.fourteen_a,this.fifteen_a,this.sixteen_a,this.seventeen_a,this.fourteen_p,this.fifteen_p,this.sixteen_p,this.seventeen_p];p(this.total_alive_and_on_art,c)||this.report_consistency_string.push("Section 64 - 80: Total alive and on ART is not equal to Regimens sections");var s=this.total_pregnant_women;s+=this.total_breastfeeding_women,s+=this.total_other_patients,this.total_alive_and_on_art!=s&&(e="Section 81 - 83: Total alive and on ART is not equal to ",e+=" Pregnant + Breastfeeding + All others (not circled)",this.report_consistency_string.push(e));var u=this.tb_not_suspected;u+=this.tb_suspected,u+=this.tb_confirmed_currently_not_yet_on_tb_treatment,u+=this.tb_confirmed_on_tb_treatment,u+=this.unknown_tb_status,this.total_alive_and_on_art!=u&&(e="Section 84 - 88: Total alive and on ART is not equal to ",e+=" TB not suspected + TB suspected + TB conf., not on Rx + TB conf., on TB Rx + Unknown (not circled)",this.report_consistency_string.push(e));var l=this.total_patients_without_side_effects;l+=this.total_patients_with_side_effects,l+=this.unknown_side_effects,this.total_alive_and_on_art!=l&&(e="Section 88 - 91: Total alive and on ART is not equal to ",e+=" None + Any side effects + Unknown (not circled)",this.report_consistency_string.push(e));var d=this.patients_with_0_6_doses_missed_at_their_last_visit;d+=this.patients_with_7_plus_doses_missed_at_their_last_visit,d+=this.patients_with_unknown_adhrence,this.total_alive_and_on_art!=d&&(e="Section 92 - 94: Total alive and on ART is not equal to ",e+=" 0  3 doses missed + 4+ doses missed + Unknown (not circled)",this.report_consistency_string.push(e))}function p(e,t){var n=t.reduce((function(e,t){return e+t}),0);return e===n}}},props:["dataparams"],watch:{dataparams:{immediate:!0,handler:function(){this.startValidating(),this.validateReport()}}}};n("205c");const Fo=I()(Eo,[["render",Ao],["__scopeId","data-v-5801b4ad"]]);var Ro=Fo,Lo=Object(o["withScopeId"])("data-v-e3818cd2");Object(o["pushScopeId"])("data-v-e3818cd2");var Mo={class:"my-table"},Ho=Object(o["createVNode"])("tr",{class:"section-description"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{style:{"font-weight":"bold"},colspan:"2"},"ART Clinic"),Object(o["createVNode"])("td",{colspan:"3",style:{"text-align":"center","font-weight":"bold"}},"Newly registered in quarter"),Object(o["createVNode"])("td",{class:"vertical-separator"},""),Object(o["createVNode"])("td",{colspan:"3",style:{"text-align":"center","font-weight":"bold"}},"Cumulative ever registered")],-1),Uo=Object(o["createVNode"])("tr",{class:"section-description"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{style:{"font-weight":"bold"},colspan:"2"},"Patients registration details"),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"PoC"),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Clinic own*"),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Checked data"),Object(o["createVNode"])("td",{class:"vertical-separator"},""),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"PoC"),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Clinic own*"),Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"center"}},"Checked data")],-1),qo=Object(o["createVNode"])("td",{class:"numbers"},"25.",-1),Go=Object(o["createVNode"])("td",{style:{"font-weight":"normal","text-align":"left","padding-left":"5px"},colspan:"2"},"Total registered",-1),zo={style:{"font-weight":"normal"}},Yo=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Wo=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ko=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),$o={style:{"font-weight":"normal"}},Jo=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xo=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Qo=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{colspan:"10"},"")],-1),Zo=Object(o["createVNode"])("td",{class:"numbers"},"26.",-1),ea=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","border-bottom-style":"none !important","padding-left":"5px","text-align":"left"}},[Object(o["createVNode"])("b",null,"FT"),Object(o["createTextVNode"])("Patients initiated ")],-1),ta=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-bottom-style":"none !important"}},"Male",-1),na={style:{"font-weight":"normal"}},ra=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ia=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),oa=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),aa={style:{"font-weight":"normal"}},ca=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),sa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ua=Object(o["createVNode"])("td",{class:"numbers"},"27.",-1),la=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"10px","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important",width:"100px"}},"on ART ",-1),da=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important"}},"Female Non-pregnant",-1),pa={style:{"font-weight":"normal"}},ba=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ha=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fa=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),ma={style:{"font-weight":"normal"}},ga=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Oa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),va=Object(o["createVNode"])("td",{class:"numbers"},"28.",-1),_a=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"10px","border-top-style":"none !important","border-bottom-style":"none !important","text-align":"left"}}," first time ",-1),ja=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"none !important","border-bottom-style":"none !important"}},"Female pregnant",-1),ya={style:{"font-weight":"normal"}},wa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Na=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ca=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Va={style:{"font-weight":"normal"}},Da=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ka=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ta=Object(o["createVNode"])("td",{class:"numbers"},"29.",-1),Ia=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"28px","border-top-style":"none !important","border-bottom-style":"none !important"}},"  ",-1),xa=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"dotted !important","border-bottom-style":"none !important"}},"FT Init., Non-disagg.",-1),Sa={style:{"font-weight":"normal"}},Pa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ba=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Aa=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Ea={style:{"font-weight":"normal"}},Fa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ra=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),La=Object(o["createVNode"])("td",{class:"numbers"},"30.",-1),Ma=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-right-style":"none !important","padding-left":"28px","border-top-style":"none !important"}},"  ",-1),Ha=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-style":"none !important","text-align":"left","border-top-style":"dotted !important"}},"CHECK: Total FT",-1),Ua={style:{"font-weight":"normal"}},qa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ga=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),za=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Ya={style:{"font-weight":"normal"}},Wa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ka=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),$a=Object(o["createVNode"])("td",{class:"numbers"},"31.",-1),Ja=Object(o["createVNode"])("td",{style:{"text-align":"left","border-bottom-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"Re"),Object(o["createTextVNode"])("Patients re-initiated on ART")],-1),Xa={style:{"font-weight":"normal"}},Qa=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Za=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ec=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),tc={style:{"font-weight":"normal"}},nc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),rc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ic=Object(o["createVNode"])("td",{class:"numbers"},"32.",-1),oc=Object(o["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"TI"),Object(o["createTextVNode"])("Patients transferred in on ART ")],-1),ac={style:{"font-weight":"normal"}},cc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),sc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),uc=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),lc={style:{"font-weight":"normal"}},dc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),pc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),bc=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{colspan:"10"},"")],-1),hc=Object(o["createVNode"])("td",{class:"numbers"},"33.",-1),fc=Object(o["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"M"),Object(o["createTextVNode"])("Males (all ages) ")],-1),mc={style:{"font-weight":"normal"}},gc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Oc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),vc=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),_c={style:{"font-weight":"normal"}},jc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),yc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),wc=Object(o["createVNode"])("td",{class:"numbers"},"34.",-1),Nc=Object(o["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"FNP"),Object(o["createTextVNode"])("Non-pregnant Females (all ages) ")],-1),Cc={style:{"font-weight":"normal"}},Vc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Dc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),kc=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Tc={style:{"font-weight":"normal"}},Ic=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),xc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Sc=Object(o["createVNode"])("td",{class:"numbers"},"35.",-1),Pc=Object(o["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"FP"),Object(o["createTextVNode"])("Pregnant Females (all ages) ")],-1),Bc={style:{"font-weight":"normal"}},Ac=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ec=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Fc=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Rc={style:{"font-weight":"normal"}},Lc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Mc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Hc=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{colspan:"10"},"")],-1),Uc=Object(o["createVNode"])("td",{class:"numbers"},"36.",-1),qc=Object(o["createVNode"])("td",{style:{"text-align":"left","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"A"),Object(o["createTextVNode"])("Children below 24 m at ART initiation ")],-1),Gc={style:{"font-weight":"normal"}},zc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Yc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Wc=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Kc={style:{"font-weight":"normal"}},$c=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Jc=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xc=Object(o["createVNode"])("td",{class:"numbers"},"37.",-1),Qc=Object(o["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"B"),Object(o["createTextVNode"])("Children 24 m - 14 yrs at ART initiation ")],-1),Zc={style:{"font-weight":"normal"}},es=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ts=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ns=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),rs={style:{"font-weight":"normal"}},is=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),os=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),as=Object(o["createVNode"])("td",{class:"numbers"},"38.",-1),cs=Object(o["createVNode"])("td",{style:{"text-align":"left","border-top-style":"none","font-weight":"normal","padding-left":"10px"},colspan:"2"},[Object(o["createVNode"])("b",null,"C"),Object(o["createTextVNode"])("Adults 15 years+ at ART initiation ")],-1),ss={style:{"font-weight":"normal"}},us=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ls=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ds=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),ps={style:{"font-weight":"normal"}},bs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),hs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fs=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"Reason for starting ART")],-1),ms=Object(o["createVNode"])("td",{class:"numbers"},"39.",-1),gs=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","text-align":"left","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"PSHD")],-1),Os=Object(o["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},"Pres. Sev. HIV disease age "+Object(o["toDisplayString"])("<12")+" m",-1),vs={style:{"font-weight":"normal"}},_s=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),js=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ys=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),ws={style:{"font-weight":"normal"}},Ns=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Cs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Vs=Object(o["createVNode"])("td",{class:"numbers"},"40.",-1),Ds=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-width":"0px !important","border-bottom-style":"none","border-left-width":"1px","border-top-width":"0px"}},"",-1),ks=Object(o["createVNode"])("td",{style:{"border-left-width":"1px !important","border-right-width":"1px !important","border-bottom-width":"0px !important","border-style":"dotted","text-align":"left","padding-left":"10px","border-top-width":"0px"}},[Object(o["createVNode"])("b",null,"PCR"),Object(o["createTextVNode"])(" Infants "+Object(o["toDisplayString"])("<12")+" mths PCR",1)],-1),Ts={style:{"border-top-width":"0px","border-bottom-width":"0px","font-weight":"normal"}},Is=Object(o["createVNode"])("td",{style:{"border-top-width":"0px","border-bottom-width":"0px","font-weight":"normal"}},"",-1),xs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ss=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Ps={style:{"font-weight":"normal"}},Bs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),As=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Es=Object(o["createVNode"])("td",{class:"numbers"},"41.",-1),Fs=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-bottom-width":"0px","border-top-width":"0px"}},"",-1),Rs=Object(o["createVNode"])("td",{style:{"border-left-width":"1px","border-top-width":"0px","border-style":"dotted","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"U5"),Object(o["createTextVNode"])(" Children 12-59mths")],-1),Ls={style:{"font-weight":"normal"}},Ms=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Hs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Us=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),qs={style:{"font-weight":"normal"}},Gs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ys=Object(o["createVNode"])("td",{class:"numbers"},"42.",-1),Ws=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-width":"1px !important","border-bottom-width":"0px","border-top-width":"0px","border-style":"dotted"}},"",-1),Ks=Object(o["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"Preg"),Object(o["createTextVNode"])(" Pregnant women")],-1),$s={style:{"font-weight":"normal"}},Js=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xs=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Qs=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Zs={style:{"font-weight":"normal"}},eu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),tu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),nu=Object(o["createVNode"])("td",{class:"numbers"},"43.",-1),ru=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),iu=Object(o["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"BF"),Object(o["createTextVNode"])(" Breastfeeding mothers")],-1),ou={style:{"font-weight":"normal"}},au=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),cu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),su=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),uu={style:{"font-weight":"normal"}},lu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),du=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),pu=Object(o["createVNode"])("td",{class:"numbers"},"44.",-1),bu=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),hu=Object(o["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"CD4"),Object(o["createTextVNode"])(" CD4 below threshold")],-1),fu={style:{"font-weight":"normal"}},mu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),gu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ou=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),vu={style:{"font-weight":"normal"}},_u=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ju=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),yu=Object(o["createVNode"])("td",{class:"numbers"},"45.",-1),wu=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-style":"dotted","border-left-width":"1px","border-top-width":"0px","border-bottom-width":"0px"}},"",-1),Nu=Object(o["createVNode"])("td",{style:{"border-left-style":"none","border-top-width":"0px","text-align":"left","padding-left":"10px","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"Asy"),Object(o["createTextVNode"])(" Asymptomatic / mild")],-1),Cu={style:{"font-weight":"normal"}},Vu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Du=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ku=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Tu={style:{"font-weight":"normal"}},Iu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),xu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Su=Object(o["createVNode"])("td",{class:"numbers"},"46.",-1),Pu=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-top-width":"0px","text-align":"left","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"3")],-1),Bu=Object(o["createVNode"])("td",{style:{"border-left-style":"none","border-bottom-width":"0px","text-align":"left","padding-left":"10px","border-top-width":"0px"}},"WHO stage 3",-1),Au={style:{"font-weight":"normal"}},Eu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Fu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ru=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Lu={style:{"font-weight":"normal"}},Mu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Hu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Uu=Object(o["createVNode"])("td",{class:"numbers"},"47.",-1),qu=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","border-top-width":"0px","text-align":"left","border-bottom-width":"0px"}},[Object(o["createVNode"])("b",null,"4")],-1),Gu=Object(o["createVNode"])("td",{style:{"border-left-width":"0px","border-bottom-style":"none","text-align":"left","padding-left":"10px","border-top-width":"0px"}},"WHO stage 4",-1),zu={style:{"font-weight":"normal"}},Yu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Wu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ku=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),$u={style:{"font-weight":"normal"}},Ju=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Xu=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Qu=Object(o["createVNode"])("td",{class:"numbers"},"48.",-1),Zu=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","border-right-style":"none !important","text-align":"left","border-top-style":"none"}},[Object(o["createVNode"])("b",null,"Unk")],-1),el=Object(o["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px","border-top-style":"none"}},"Unknown / reason outside guidelines",-1),tl={style:{"font-weight":"normal"}},nl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),rl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),il=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),ol={style:{"font-weight":"normal"}},al=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),cl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),sl=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"Stage defining conditions at ART initiation")],-1),ul=Object(o["createVNode"])("td",{class:"numbers"},"49.",-1),ll=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(o["createVNode"])("b",null,"Nev/>2yrs")],-1),dl=Object(o["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Never TB / TB over 2 years ago",-1),pl={style:{"font-weight":"normal"}},bl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),hl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fl=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),ml={style:{"font-weight":"normal"}},gl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ol=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),vl=Object(o["createVNode"])("td",{class:"numbers"},"50.",-1),_l=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(o["createVNode"])("b",null,"Last 2yrs")],-1),jl=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-left-style":"none"}},"TB within the last 2 years",-1),yl={style:{"font-weight":"normal"}},wl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Nl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Cl=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Vl={style:{"font-weight":"normal"}},Dl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),kl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Tl=Object(o["createVNode"])("td",{class:"numbers"},"51.",-1),Il=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(o["createVNode"])("b",null,"Curr")],-1),xl=Object(o["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Current episode of TB",-1),Sl={style:{"font-weight":"normal"}},Pl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Bl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Al=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),El={style:{"font-weight":"normal"}},Fl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Rl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ll=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{colspan:"10",style:{"text-align":"left"}},"")],-1),Ml=Object(o["createVNode"])("td",{class:"numbers"},"52.",-1),Hl=Object(o["createVNode"])("td",{style:{"font-weight":"normal","padding-left":"10px",width:"15px","text-align":"left","border-right-style":"none !important"}},[Object(o["createVNode"])("b",null,"KS")],-1),Ul=Object(o["createVNode"])("td",{style:{"border-left-style":"none","text-align":"left","padding-left":"10px"}},"Kaposis Sarcoma",-1),ql={style:{"font-weight":"normal"}},Gl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),zl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Yl=Object(o["createVNode"])("td",{class:"vertical-separator"},"",-1),Wl={style:{"font-weight":"normal"}},Kl=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),$l=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Jl=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"6",style:{"text-align":"left"}},[Object(o["createVNode"])("b",null,"Primary outcomes as of the end of the quarter evaluated")]),Object(o["createVNode"])("td",{colspan:"3",style:{"text-align":"center"}},[Object(o["createVNode"])("b",null,"Out of all patients ever registered")])],-1),Xl=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"6",style:{"text-align":"left"}},""),Object(o["createVNode"])("td",{style:{"text-align":"center"}},"PoC"),Object(o["createVNode"])("td",{style:{"text-align":"center"}},"Clinic own**"),Object(o["createVNode"])("td",{style:{"text-align":"center"}},"Checked data")],-1),Ql=Object(o["createVNode"])("td",{class:"numbers"},"53.",-1),Zl=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px"},colspan:"6"},"Total alive and on ART",-1),ed={style:{"font-weight":"normal"}},td=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),nd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),rd=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"center"}},"")],-1),id=Object(o["createVNode"])("td",{class:"numbers"},"54.",-1),od=Object(o["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"2"},"M1",-1),ad=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 1st month after ART initiation",-1),cd={style:{"font-weight":"normal"}},sd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ud=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),ld=Object(o["createVNode"])("td",{class:"numbers"},"55.",-1),dd=Object(o["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-top-style":"none","border-left-style":"none","border-bottom-style":"none"},colspan:"2"},"M2",-1),pd=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 2nd month after ART initiation",-1),bd={style:{"font-weight":"normal"}},hd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),fd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),md=Object(o["createVNode"])("td",{class:"numbers"},"56.",-1),gd=Object(o["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-bottom-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"2"},"M3",-1),Od=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-right-style":"none","border-bottom-style":"none","border-left-style":"none"},colspan:"4"},"Died within the 3rd month after ART initiation",-1),vd={style:{"font-weight":"normal"}},_d=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),jd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),yd=Object(o["createVNode"])("td",{class:"numbers"},"57.",-1),wd=Object(o["createVNode"])("td",{style:{"font-weight":"bold","text-align":"right","border-right-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"2"},"M4+",-1),Nd=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-right-style":"none","border-left-style":"none","border-top-style":"none"},colspan:"4"},"Died after the end of the 3rd month after ART initiation",-1),Cd={style:{"font-weight":"normal"}},Vd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Dd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),kd=Object(o["createVNode"])("td",{class:"numbers"},"58.",-1),Td=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-style":"none"},colspan:"6"},"Died total",-1),Id={style:{"font-weight":"normal"}},xd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Sd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Pd=Object(o["createVNode"])("td",{class:"numbers"},"59.",-1),Bd=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-bottom-style":"none"},colspan:"6"},"Defaulted (more than 2 months overdue after expected to have run out of ARVs)",-1),Ad={style:{"font-weight":"normal"}},Ed=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Fd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Rd=Object(o["createVNode"])("td",{class:"numbers"},"60.",-1),Ld=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none","border-bottom-style":"none"},colspan:"6"},"Stopped taking ARVs (clinician or patient own decision, last known alive)",-1),Md={style:{"font-weight":"normal"}},Hd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Ud=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),qd=Object(o["createVNode"])("td",{class:"numbers"},"61.",-1),Gd=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-top-style":"none"},colspan:"6"},"Transferred Out",-1),zd={style:{"font-weight":"normal"}},Yd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Wd=Object(o["createVNode"])("td",{style:{"font-weight":"normal"}},"",-1),Kd=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"6",style:{"font-style":"italic","text-align":"center"}},"Check completeness of Clinic own data"),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("img",{src:"/assets/images/sum-arrow.png",class:"sum-arrows"})]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("img",{src:"/assets/images/sum-arrow.png",class:"sum-arrows"})])],-1),$d=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},"62."),Object(o["createVNode"])("td",{colspan:"2"},""),Object(o["createVNode"])("td",{colspan:"5",style:{"text-align":"left","border-style":"dotted","border-width":"1px 1px 0px 1px","padding-left":"10px"}},"Total adv. outcomes = Died total + Defaulted + Stopped + TO"),Object(o["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(o["createVNode"])("span",{class:"postfixes"},"A")]),Object(o["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(o["createVNode"])("span",{class:"postfixes"},"B")])],-1),Jd=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},"63."),Object(o["createVNode"])("td",{colspan:"2"},""),Object(o["createVNode"])("td",{colspan:"5",style:{"text-align":"left","border-style":"dotted","border-width":"0px 0px 1px 1px","padding-left":"10px"}},"Calculate completeness % A / B x 100 (Use difference if greater than 100%)"),Object(o["createVNode"])("td",{style:{"border-style":"dotted","border-bottom-width":"1px"}},""),Object(o["createVNode"])("td",{style:{"border-style":"solid","border-width":"1px"}},[Object(o["createVNode"])("span",{style:{left:"40px"},class:"postfixes"},"%")])],-1),Xd=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"7",style:{"text-align":"left","font-weight":"bold","padding-left":"10px"}},"Secondary outcomes of those alive on ART"),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("b",null,"P"),Object(o["createTextVNode"])("aeds formul.")]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("b",null,"A"),Object(o["createTextVNode"])("dults formul.")])],-1),Qd=Object(o["createVNode"])("td",{class:"numbers"},"64.",-1),Zd=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"ART Regimens",-1),ep=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px"},colspan:"3"},"",-1),tp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px"}},"Regimen",-1),np=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"0",-1),rp=Object(o["createVNode"])("td",{class:"numbers"},"65.",-1),ip=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),op=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),ap=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),cp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"2",-1),sp=Object(o["createVNode"])("td",{class:"numbers"},"66.",-1),up=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),lp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},[Object(o["createTextVNode"])("Count regimen for "),Object(o["createVNode"])("u",null,"all patients registered")],-1),dp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),pp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"4",-1),bp=Object(o["createVNode"])("td",{class:"numbers"},"67.",-1),hp=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),fp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"at this site, including those who currently",-1),mp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),gp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"5",-1),Op=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),vp=Object(o["createVNode"])("td",{class:"numbers"},"68.",-1),_p=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-style":"dotted","border-bottom-width":"1px","border-right-width":"0px","border-top-width":"0px"}},"",-1),jp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px","text-align":"left"},colspan:"3"},"get supplies from another site",-1),yp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),wp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"1px","border-style":"dotted","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"6",-1),Np=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Cp=Object(o["createVNode"])("td",{class:"numbers"},"69.",-1),Vp=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Dp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),kp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Tp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"7",-1),Ip=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),xp=Object(o["createVNode"])("td",{class:"numbers"},"70.",-1),Sp=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Pp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Bp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Ap=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"8",-1),Ep=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Fp=Object(o["createVNode"])("td",{class:"numbers"},"71.",-1),Rp=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),Lp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Mp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Hp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"9",-1),Up={class:"granules"},qp=Object(o["createVNode"])("div",{class:"granules-row"},[Object(o["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(o["createVNode"])("span",null,"Tabs")]),Object(o["createVNode"])("div",{class:"granules-cell"},[Object(o["createVNode"])("span",null,"Granules")])],-1),Gp={class:"granules-row"},zp={class:"granules-cell granules-right-td"},Yp={class:"granules-cell"},Wp=Object(o["createVNode"])("td",{class:"numbers"},"72.",-1),Kp=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"0px"}},"",-1),$p=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"0px"},colspan:"3"},"",-1),Jp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Xp=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"10",-1),Qp=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),Zp=Object(o["createVNode"])("td",{class:"numbers"},"73.",-1),eb=Object(o["createVNode"])("td",{colspan:"1",style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),tb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"4"},"Specify Other Regimens and number of patients on each",-1),nb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),rb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"11",-1),ib={class:"granules"},ob=Object(o["createVNode"])("div",{class:"granules-row"},[Object(o["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(o["createVNode"])("span",null,"Tabs")]),Object(o["createVNode"])("div",{class:"granules-cell"},[Object(o["createVNode"])("span",null,"Granules")])],-1),ab={class:"granules-row"},cb={class:"granules-cell granules-right-td"},sb={class:"granules-cell"},ub=Object(o["createVNode"])("td",{class:"numbers"},"74.",-1),lb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),db=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),pb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),bb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"12",-1),hb=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),fb=Object(o["createVNode"])("td",{class:"numbers"},"75.",-1),mb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),gb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Ob=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),vb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"13",-1),_b=Object(o["createVNode"])("td",{style:{"background-color":"#D9D9D9"}},"",-1),jb=Object(o["createVNode"])("td",{class:"numbers"},"76.",-1),yb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),wb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Nb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Cb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"14",-1),Vb={class:"granules"},Db=Object(o["createVNode"])("div",{class:"granules-row"},[Object(o["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(o["createVNode"])("span",null,"PP")]),Object(o["createVNode"])("div",{class:"granules-cell"},[Object(o["createVNode"])("span",null,"P")])],-1),kb={class:"granules-row"},Tb={class:"granules-cell granules-right-td"},Ib={class:"granules-cell"},xb=Object(o["createVNode"])("td",{class:"numbers"},"77.",-1),Sb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Pb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Bb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Ab=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"15",-1),Eb={class:"granules"},Fb=Object(o["createVNode"])("div",{class:"granules-row"},[Object(o["createVNode"])("div",{class:"granules-cell granules-right-td"},[Object(o["createVNode"])("span",null,"PP")]),Object(o["createVNode"])("div",{class:"granules-cell"},[Object(o["createVNode"])("span",null,"P")])],-1),Rb={class:"granules-row"},Lb={class:"granules-cell granules-right-td"},Mb={class:"granules-cell"},Hb=Object(o["createVNode"])("td",{class:"numbers"},"78.",-1),Ub=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),qb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),Gb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),zb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"16",-1),Yb=Object(o["createVNode"])("td",{class:"numbers"},"79.",-1),Wb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"0px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Kb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"0px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),$b=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px"}},"Regimen",-1),Jb=Object(o["createVNode"])("td",{style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"right","padding-right":"5px","font-weight":"bold"}},"17",-1),Xb=Object(o["createVNode"])("td",{class:"numbers"},"80.",-1),Qb=Object(o["createVNode"])("td",{colspan:"2",style:{"text-align":"left","padding-left":"10px","border-top-style":"dotted","border-bottom-width":"1px","border-right-width":"0px","border-top-width":"1px"}},"",-1),Zb=Object(o["createVNode"])("td",{style:{"border-right-width":"1px","border-bottom-width":"1px","border-top-style":"dotted","text-align":"left","border-left-width":"0px","border-top-width":"1px"},colspan:"3"},"",-1),eh=Object(o["createVNode"])("td",{colspan:"2",style:{"border-right-width":"0px","border-bottom-width":"0px","border-left-width":"0px","border-top-width":"0px","text-align":"left","padding-left":"10px"}},"Other (paed./adult)",-1),th=Object(o["createVNode"])("td",null,"",-1),nh=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),rh={style:{"page-break-before":"always"}},ih=Object(o["createVNode"])("td",{class:"numbers"},"81.",-1),oh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Pregnant / Breastfeeding",-1),ah=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),ch=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Pregnant",-1),sh={colspan:"2",style:{"font-weight":"normal"}},uh=Object(o["createVNode"])("td",{class:"numbers"},"82.",-1),lh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),dh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),ph=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Breastfeeding",-1),bh={colspan:"2",style:{"font-weight":"normal"}},hh=Object(o["createVNode"])("td",{class:"numbers"},"83.",-1),fh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),mh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),gh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"All others (not circled)",-1),Oh={colspan:"2",style:{"font-weight":"normal"}},vh=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),_h=Object(o["createVNode"])("td",{class:"numbers"},"84.",-1),jh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"},colspan:"2"},[Object(o["createTextVNode"])("Current TB status"),Object(o["createVNode"])("br"),Object(o["createTextVNode"])("any form of TB")],-1),yh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"3"},"(as of the last visit before end of quarter)",-1),wh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"TB not suspected",-1),Nh={colspan:"2",style:{"font-weight":"normal"}},Ch=Object(o["createVNode"])("td",{class:"numbers"},"85.",-1),Vh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Dh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),kh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"TB suspected",-1),Th={colspan:"2",style:{"font-weight":"normal"}},Ih=Object(o["createVNode"])("td",{class:"numbers"},"86.",-1),xh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Sh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),Ph=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},[Object(o["createTextVNode"])("TB conf., "),Object(o["createVNode"])("b",null,"not"),Object(o["createTextVNode"])(" on Rx")],-1),Bh={colspan:"2",style:{"font-weight":"normal"}},Ah=Object(o["createVNode"])("td",{class:"numbers"},"87.",-1),Eh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Fh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"",-1),Rh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},[Object(o["createTextVNode"])("TB conf., "),Object(o["createVNode"])("b",null,"on"),Object(o["createTextVNode"])(" TB Rx")],-1),Lh={colspan:"2",style:{"font-weight":"normal"}},Mh=Object(o["createVNode"])("td",{class:"numbers"},"88.",-1),Hh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Uh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),qh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),Gh={colspan:"2",style:{"font-weight":"normal"}},zh=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),Yh=Object(o["createVNode"])("td",{class:"numbers"},"89.",-1),Wh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Side effects",-1),Kh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),$h=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"None",-1),Jh={colspan:"2",style:{"font-weight":"normal"}},Xh=Object(o["createVNode"])("td",{class:"numbers"},"90.",-1),Qh=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),Zh=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},"ADRReportformfilledforeachcase?(seeQ110.)",-1),ef=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"Any side effects",-1),tf={colspan:"2",style:{"font-weight":"normal"}},nf=Object(o["createVNode"])("td",{class:"numbers"},"91.",-1),rf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),of=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),af=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),cf={colspan:"2",style:{"font-weight":"normal"}},sf=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",null,""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left"}},"")],-1),uf=Object(o["createVNode"])("td",{class:"numbers"},"92.",-1),lf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-right-width":"0px"}},"Adherence",-1),df=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px"},colspan:"4"},"(as of the last visit before end of quarter)",-1),pf=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"0  3 doses missed",-1),bf={colspan:"2",style:{"font-weight":"normal"}},hf=Object(o["createVNode"])("td",{class:"numbers"},"93.",-1),ff=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"0px","border-top-width":"0px","border-right-width":"0px"}},"",-1),mf=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"0px","border-top-width":"0px"},colspan:"4"},null,-1),gf=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"0px","text-align":"left","padding-left":"10px"},colspan:"2"},"4+ doses missed",-1),Of={colspan:"2",style:{"font-weight":"normal"}},vf=Object(o["createVNode"])("td",{class:"numbers"},"94.",-1),_f=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"0px","border-right-width":"0px"}},"",-1),jf=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-left-width":"0px","border-right-width":"0px","border-bottom-width":"1px","border-top-width":"0px"},colspan:"4"},"",-1),yf=Object(o["createVNode"])("td",{style:{"font-weight":"normal","border-top-width":"0px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"},colspan:"2"},"Unknown (not circled)",-1),wf={colspan:"2",style:{"font-weight":"normal"}},Nf=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"9",style:{"text-align":"left","font-weight":"bold","padding-left":"10px"}},"Preventive services / HIV related diseases")],-1),Cf=Object(o["createVNode"])("td",{class:"numbers"},"95.",-1),Vf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"TPT",-1),Df=Object(o["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Number of ART patients newly started on TB preventive therapy this quarter",-1),kf={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Tf=Object(o["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"6H",-1),If={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},xf=Object(o["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"3HP",-1),Sf=Object(o["createVNode"])("td",{class:"numbers"},"96.",-1),Pf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"CPT / IPT",-1),Bf=Object(o["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of patients retained in ART who are currently on CPT / IPT",-1),Af={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Ef=Object(o["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"CPT%",-1),Ff={style:{"text-align":"right","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px"}},Rf=Object(o["createVNode"])("td",{style:{"font-weight":"bold","order-top-width":"1px","text-align":"right","border-left-width":"0px","border-bottom-width":"1px","padding-right":"5px"}},"IPT%",-1),Lf=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"9"},"")],-1),Mf=Object(o["createVNode"])("td",{class:"numbers"},"97.",-1),Hf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"PIFP",-1),Uf=Object(o["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of women who received Depo at ART in the last quarter",-1),qf={colspan:"4",style:{"text-align":"right","padding-right":"10px","order-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px"}},Gf=Object(o["createTextVNode"])("%"),zf=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"9"},"")],-1),Yf=Object(o["createVNode"])("td",{class:"numbers"},"98.",-1),Wf=Object(o["createVNode"])("td",{style:{"text-align":"left","padding-left":"10px","border-bottom-width":"1px","border-top-width":"1px","border-right-width":"0px","font-weight":"bold"}},"BP screen",-1),Kf=Object(o["createVNode"])("td",{colspan:"4",style:{"font-weight":"normal","border-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px","text-align":"left","padding-left":"10px"}},"Approx. % of adult ART patients with BP recorded at least once this year",-1),$f={colspan:"4",style:{"text-align":"right","padding-right":"10px","order-top-width":"1px","border-left-width":"0px","border-bottom-width":"1px"}},Jf=Object(o["createTextVNode"])("%"),Xf=Object(o["createVNode"])("tr",{class:"horisonatl-separator"},[Object(o["createVNode"])("td",{class:"numbers"},""),Object(o["createVNode"])("td",{colspan:"9"},"")],-1);Object(o["popScopeId"])();var Qf=Lo((function(e,t,n,r,i,a){return Object(o["openBlock"])(),Object(o["createBlock"])("table",Mo,[Ho,Uo,Object(o["createVNode"])("tr",null,[qo,Go,Object(o["createVNode"])("td",zo,[Object(o["createVNode"])("a",{href:"#",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){a.drillDown("total_registered")}),["prevent"]))},Object(o["toDisplayString"])(e.total_registered),1)]),Yo,Wo,Ko,Object(o["createVNode"])("td",$o,[Object(o["createVNode"])("a",{href:"#",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(e){a.drillDown("cum_total_registered")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_total_registered),1)]),Jo,Xo]),Qo,Object(o["createVNode"])("tr",null,[Zo,ea,ta,Object(o["createVNode"])("td",na,[Object(o["createVNode"])("a",{href:"#",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(e){a.drillDown("males_initiated_on_art_first_time")}),["prevent"]))},Object(o["toDisplayString"])(e.males_initiated_on_art_first_time),1)]),ra,ia,oa,Object(o["createVNode"])("td",aa,[Object(o["createVNode"])("a",{href:"#",onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(e){a.drillDown("cum_males_initiated_on_art_first_time")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_males_initiated_on_art_first_time),1)]),ca,sa]),Object(o["createVNode"])("tr",null,[ua,la,da,Object(o["createVNode"])("td",pa,[Object(o["createVNode"])("a",{href:"#",onClick:t[5]||(t[5]=Object(o["withModifiers"])((function(e){a.drillDown("initial_non_pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.initial_non_pregnant_females_all_ages),1)]),ba,ha,fa,Object(o["createVNode"])("td",ma,[Object(o["createVNode"])("a",{href:"#",onClick:t[6]||(t[6]=Object(o["withModifiers"])((function(e){a.drillDown("cum_initial_non_pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_initial_non_pregnant_females_all_ages),1)]),ga,Oa]),Object(o["createVNode"])("tr",null,[va,_a,ja,Object(o["createVNode"])("td",ya,[Object(o["createVNode"])("a",{href:"#",onClick:t[7]||(t[7]=Object(o["withModifiers"])((function(e){a.drillDown("initial_pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.initial_pregnant_females_all_ages),1)]),wa,Na,Ca,Object(o["createVNode"])("td",Va,[Object(o["createVNode"])("a",{href:"#",onClick:t[8]||(t[8]=Object(o["withModifiers"])((function(e){a.drillDown("cum_initial_pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_initial_pregnant_females_all_ages),1)]),Da,ka]),Object(o["createVNode"])("tr",null,[Ta,Ia,xa,Object(o["createVNode"])("td",Sa,[Object(o["createVNode"])("a",{href:"#",onClick:t[9]||(t[9]=Object(o["withModifiers"])((function(e){a.drillDown("unknown_gender")}),["prevent"]))},Object(o["toDisplayString"])(e.unknown_gender),1)]),Pa,Ba,Aa,Object(o["createVNode"])("td",Ea,[Object(o["createVNode"])("a",{href:"#",onClick:t[10]||(t[10]=Object(o["withModifiers"])((function(e){a.drillDown("cum_unknown_gender")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_unknown_gender),1)]),Fa,Ra]),Object(o["createVNode"])("tr",null,[La,Ma,Ha,Object(o["createVNode"])("td",Ua,[Object(o["createVNode"])("a",{href:"#",onClick:t[11]||(t[11]=Object(o["withModifiers"])((function(e){a.drillDown("initiated_on_art_first_time")}),["prevent"]))},Object(o["toDisplayString"])(e.initiated_on_art_first_time),1)]),qa,Ga,za,Object(o["createVNode"])("td",Ya,[Object(o["createVNode"])("a",{href:"#",onClick:t[12]||(t[12]=Object(o["withModifiers"])((function(e){a.drillDown("cum_initiated_on_art_first_time")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_initiated_on_art_first_time),1)]),Wa,Ka]),Object(o["createVNode"])("tr",null,[$a,Ja,Object(o["createVNode"])("td",Xa,[Object(o["createVNode"])("a",{href:"#",onClick:t[13]||(t[13]=Object(o["withModifiers"])((function(e){a.drillDown("re_initiated_on_art")}),["prevent"]))},Object(o["toDisplayString"])(e.re_initiated_on_art),1)]),Qa,Za,ec,Object(o["createVNode"])("td",tc,[Object(o["createVNode"])("a",{href:"#",onClick:t[14]||(t[14]=Object(o["withModifiers"])((function(e){a.drillDown("cum_re_initiated_on_art")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_re_initiated_on_art),1)]),nc,rc]),Object(o["createVNode"])("tr",null,[ic,oc,Object(o["createVNode"])("td",ac,[Object(o["createVNode"])("a",{href:"#",onClick:t[15]||(t[15]=Object(o["withModifiers"])((function(e){a.drillDown("transfer_in")}),["prevent"]))},Object(o["toDisplayString"])(e.transfer_in),1)]),cc,sc,uc,Object(o["createVNode"])("td",lc,[Object(o["createVNode"])("a",{href:"#",onClick:t[16]||(t[16]=Object(o["withModifiers"])((function(e){a.drillDown("cum_transfer_in")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_transfer_in),1)]),dc,pc]),bc,Object(o["createVNode"])("tr",null,[hc,fc,Object(o["createVNode"])("td",mc,[Object(o["createVNode"])("a",{href:"#",onClick:t[17]||(t[17]=Object(o["withModifiers"])((function(e){a.drillDown("quarterly_all_males")}),["prevent"]))},Object(o["toDisplayString"])(e.quarterly_all_males),1)]),gc,Oc,vc,Object(o["createVNode"])("td",_c,[Object(o["createVNode"])("a",{href:"#",onClick:t[18]||(t[18]=Object(o["withModifiers"])((function(e){a.drillDown("cummulative_all_males")}),["prevent"]))},Object(o["toDisplayString"])(e.cummulative_all_males),1)]),jc,yc]),Object(o["createVNode"])("tr",null,[wc,Nc,Object(o["createVNode"])("td",Cc,[Object(o["createVNode"])("a",{href:"#",onClick:t[19]||(t[19]=Object(o["withModifiers"])((function(e){a.drillDown("non_pregnant_females")}),["prevent"]))},Object(o["toDisplayString"])(e.non_pregnant_females),1)]),Vc,Dc,kc,Object(o["createVNode"])("td",Tc,[Object(o["createVNode"])("a",{href:"#",onClick:t[20]||(t[20]=Object(o["withModifiers"])((function(e){a.drillDown("cum_non_pregnant_females")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_non_pregnant_females),1)]),Ic,xc]),Object(o["createVNode"])("tr",null,[Sc,Pc,Object(o["createVNode"])("td",Bc,[Object(o["createVNode"])("a",{href:"#",onClick:t[21]||(t[21]=Object(o["withModifiers"])((function(e){a.drillDown("pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.pregnant_females_all_ages),1)]),Ac,Ec,Fc,Object(o["createVNode"])("td",Rc,[Object(o["createVNode"])("a",{href:"#",onClick:t[22]||(t[22]=Object(o["withModifiers"])((function(e){a.drillDown("cum_pregnant_females_all_ages")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_pregnant_females_all_ages),1)]),Lc,Mc]),Hc,Object(o["createVNode"])("tr",null,[Uc,qc,Object(o["createVNode"])("td",Gc,[Object(o["createVNode"])("a",{href:"#",onClick:t[23]||(t[23]=Object(o["withModifiers"])((function(e){a.drillDown("children_below_24_months_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.children_below_24_months_at_art_initiation),1)]),zc,Yc,Wc,Object(o["createVNode"])("td",Kc,[Object(o["createVNode"])("a",{href:"#",onClick:t[24]||(t[24]=Object(o["withModifiers"])((function(e){a.drillDown("cum_children_below_24_months_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_children_below_24_months_at_art_initiation),1)]),$c,Jc]),Object(o["createVNode"])("tr",null,[Xc,Qc,Object(o["createVNode"])("td",Zc,[Object(o["createVNode"])("a",{href:"#",onClick:t[25]||(t[25]=Object(o["withModifiers"])((function(e){a.drillDown("children_24_months_14_years_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.children_24_months_14_years_at_art_initiation),1)]),es,ts,ns,Object(o["createVNode"])("td",rs,[Object(o["createVNode"])("a",{href:"#",onClick:t[26]||(t[26]=Object(o["withModifiers"])((function(e){a.drillDown("cum_children_24_months_14_years_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_children_24_months_14_years_at_art_initiation),1)]),is,os]),Object(o["createVNode"])("tr",null,[as,cs,Object(o["createVNode"])("td",ss,[Object(o["createVNode"])("a",{href:"#",onClick:t[27]||(t[27]=Object(o["withModifiers"])((function(e){a.drillDown("adults_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.adults_at_art_initiation),1)]),us,ls,ds,Object(o["createVNode"])("td",ps,[Object(o["createVNode"])("a",{href:"#",onClick:t[28]||(t[28]=Object(o["withModifiers"])((function(e){a.drillDown("cum_adults_at_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_adults_at_art_initiation),1)]),bs,hs]),fs,Object(o["createVNode"])("tr",null,[ms,gs,Os,Object(o["createVNode"])("td",vs,[Object(o["createVNode"])("a",{href:"#",onClick:t[29]||(t[29]=Object(o["withModifiers"])((function(e){a.drillDown("presumed_severe_hiv_disease_in_infants")}),["prevent"]))},Object(o["toDisplayString"])(e.presumed_severe_hiv_disease_in_infants),1)]),_s,js,ys,Object(o["createVNode"])("td",ws,[Object(o["createVNode"])("a",{href:"#",onClick:t[30]||(t[30]=Object(o["withModifiers"])((function(e){a.drillDown("cum_presumed_severe_hiv_disease_in_infants")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_presumed_severe_hiv_disease_in_infants),1)]),Ns,Cs]),Object(o["createVNode"])("tr",null,[Vs,Ds,ks,Object(o["createVNode"])("td",Ts,[Object(o["createVNode"])("a",{href:"#",onClick:t[31]||(t[31]=Object(o["withModifiers"])((function(e){a.drillDown("confirmed_hiv_infection_in_infants_pcr")}),["prevent"]))},Object(o["toDisplayString"])(e.confirmed_hiv_infection_in_infants_pcr),1)]),Is,xs,Ss,Object(o["createVNode"])("td",Ps,[Object(o["createVNode"])("a",{href:"#",onClick:t[32]||(t[32]=Object(o["withModifiers"])((function(e){a.drillDown("cum_confirmed_hiv_infection_in_infants_pcr")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_confirmed_hiv_infection_in_infants_pcr),1)]),Bs,As]),Object(o["createVNode"])("tr",null,[Es,Fs,Rs,Object(o["createVNode"])("td",Ls,[Object(o["createVNode"])("a",{href:"#",onClick:t[33]||(t[33]=Object(o["withModifiers"])((function(e){a.drillDown("quarterly_children_12_59_months")}),["prevent"]))},Object(o["toDisplayString"])(e.quarterly_children_12_59_months),1)]),Ms,Hs,Us,Object(o["createVNode"])("td",qs,[Object(o["createVNode"])("a",{href:"#",onClick:t[34]||(t[34]=Object(o["withModifiers"])((function(e){a.drillDown("cum_children_12_59_months")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_children_12_59_months),1)]),Gs,zs]),Object(o["createVNode"])("tr",null,[Ys,Ws,Ks,Object(o["createVNode"])("td",$s,[Object(o["createVNode"])("a",{href:"#",onClick:t[35]||(t[35]=Object(o["withModifiers"])((function(e){a.drillDown("pregnant_women")}),["prevent"]))},Object(o["toDisplayString"])(e.pregnant_women),1)]),Js,Xs,Qs,Object(o["createVNode"])("td",Zs,[Object(o["createVNode"])("a",{href:"#",onClick:t[36]||(t[36]=Object(o["withModifiers"])((function(e){a.drillDown("cum_pregnant_women")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_pregnant_women),1)]),eu,tu]),Object(o["createVNode"])("tr",null,[nu,ru,iu,Object(o["createVNode"])("td",ou,[Object(o["createVNode"])("a",{href:"#",onClick:t[37]||(t[37]=Object(o["withModifiers"])((function(e){a.drillDown("breastfeeding_mothers")}),["prevent"]))},Object(o["toDisplayString"])(e.breastfeeding_mothers),1)]),au,cu,su,Object(o["createVNode"])("td",uu,[Object(o["createVNode"])("a",{href:"#",onClick:t[38]||(t[38]=Object(o["withModifiers"])((function(e){a.drillDown("cum_breastfeeding_mothers")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_breastfeeding_mothers),1)]),lu,du]),Object(o["createVNode"])("tr",null,[pu,bu,hu,Object(o["createVNode"])("td",fu,[Object(o["createVNode"])("a",{href:"#",onClick:t[39]||(t[39]=Object(o["withModifiers"])((function(e){a.drillDown("who_stage_two")}),["prevent"]))},Object(o["toDisplayString"])(e.who_stage_two),1)]),mu,gu,Ou,Object(o["createVNode"])("td",vu,[Object(o["createVNode"])("a",{href:"#",onClick:t[40]||(t[40]=Object(o["withModifiers"])((function(e){a.drillDown("cum_who_stage_two")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_who_stage_two),1)]),_u,ju]),Object(o["createVNode"])("tr",null,[yu,wu,Nu,Object(o["createVNode"])("td",Cu,[Object(o["createVNode"])("a",{href:"#",onClick:t[41]||(t[41]=Object(o["withModifiers"])((function(e){a.drillDown("asymptomatic")}),["prevent"]))},Object(o["toDisplayString"])(e.asymptomatic),1)]),Vu,Du,ku,Object(o["createVNode"])("td",Tu,[Object(o["createVNode"])("a",{href:"#",onClick:t[42]||(t[42]=Object(o["withModifiers"])((function(e){a.drillDown("cum_asymptomatic")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_asymptomatic),1)]),Iu,xu]),Object(o["createVNode"])("tr",null,[Su,Pu,Bu,Object(o["createVNode"])("td",Au,[Object(o["createVNode"])("a",{href:"#",onClick:t[43]||(t[43]=Object(o["withModifiers"])((function(e){a.drillDown("who_stage_three")}),["prevent"]))},Object(o["toDisplayString"])(e.who_stage_three),1)]),Eu,Fu,Ru,Object(o["createVNode"])("td",Lu,[Object(o["createVNode"])("a",{href:"#",onClick:t[44]||(t[44]=Object(o["withModifiers"])((function(e){a.drillDown("cum_who_stage_three")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_who_stage_three),1)]),Mu,Hu]),Object(o["createVNode"])("tr",null,[Uu,qu,Gu,Object(o["createVNode"])("td",zu,[Object(o["createVNode"])("a",{href:"#",onClick:t[45]||(t[45]=Object(o["withModifiers"])((function(e){a.drillDown("who_stage_four")}),["prevent"]))},Object(o["toDisplayString"])(e.who_stage_four),1)]),Yu,Wu,Ku,Object(o["createVNode"])("td",$u,[Object(o["createVNode"])("a",{href:"#",onClick:t[46]||(t[46]=Object(o["withModifiers"])((function(e){a.drillDown("cum_who_stage_four")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_who_stage_four),1)]),Ju,Xu]),Object(o["createVNode"])("tr",null,[Qu,Zu,el,Object(o["createVNode"])("td",tl,[Object(o["createVNode"])("a",{href:"#",onClick:t[47]||(t[47]=Object(o["withModifiers"])((function(e){a.drillDown("unknown_other_reason_outside_guidelines")}),["prevent"]))},Object(o["toDisplayString"])(e.unknown_other_reason_outside_guidelines),1)]),nl,rl,il,Object(o["createVNode"])("td",ol,[Object(o["createVNode"])("a",{href:"#",onClick:t[48]||(t[48]=Object(o["withModifiers"])((function(e){a.drillDown("cum_unknown_other_reason_outside_guidelines")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_unknown_other_reason_outside_guidelines),1)]),al,cl]),sl,Object(o["createVNode"])("tr",null,[ul,ll,dl,Object(o["createVNode"])("td",pl,[Object(o["createVNode"])("a",{href:"#",onClick:t[49]||(t[49]=Object(o["withModifiers"])((function(e){a.drillDown("no_tb")}),["prevent"]))},Object(o["toDisplayString"])(e.no_tb),1)]),bl,hl,fl,Object(o["createVNode"])("td",ml,[Object(o["createVNode"])("a",{href:"#",onClick:t[50]||(t[50]=Object(o["withModifiers"])((function(e){a.drillDown("cum_no_tb")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_no_tb),1)]),gl,Ol]),Object(o["createVNode"])("tr",null,[vl,_l,jl,Object(o["createVNode"])("td",yl,[Object(o["createVNode"])("a",{href:"#",onClick:t[51]||(t[51]=Object(o["withModifiers"])((function(e){a.drillDown("tb_within_the_last_two_years")}),["prevent"]))},Object(o["toDisplayString"])(e.tb_within_the_last_two_years),1)]),wl,Nl,Cl,Object(o["createVNode"])("td",Vl,[Object(o["createVNode"])("a",{href:"#",onClick:t[52]||(t[52]=Object(o["withModifiers"])((function(e){a.drillDown("cum_tb_within_the_last_two_years")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_tb_within_the_last_two_years),1)]),Dl,kl]),Object(o["createVNode"])("tr",null,[Tl,Il,xl,Object(o["createVNode"])("td",Sl,[Object(o["createVNode"])("a",{href:"#",onClick:t[53]||(t[53]=Object(o["withModifiers"])((function(e){a.drillDown("current_episode_of_tb")}),["prevent"]))},Object(o["toDisplayString"])(e.current_episode_of_tb),1)]),Pl,Bl,Al,Object(o["createVNode"])("td",El,[Object(o["createVNode"])("a",{href:"#",onClick:t[54]||(t[54]=Object(o["withModifiers"])((function(e){a.drillDown("cum_current_episode_of_tb")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_current_episode_of_tb),1)]),Fl,Rl]),Ll,Object(o["createVNode"])("tr",null,[Ml,Hl,Ul,Object(o["createVNode"])("td",ql,[Object(o["createVNode"])("a",{href:"#",onClick:t[55]||(t[55]=Object(o["withModifiers"])((function(e){a.drillDown("kaposis_sarcoma")}),["prevent"]))},Object(o["toDisplayString"])(e.kaposis_sarcoma),1)]),Gl,zl,Yl,Object(o["createVNode"])("td",Wl,[Object(o["createVNode"])("a",{href:"#",onClick:t[56]||(t[56]=Object(o["withModifiers"])((function(e){a.drillDown("cum_kaposis_sarcoma")}),["prevent"]))},Object(o["toDisplayString"])(e.cum_kaposis_sarcoma),1)]),Kl,$l]),Jl,Xl,Object(o["createVNode"])("tr",null,[Ql,Zl,Object(o["createVNode"])("td",ed,[Object(o["createVNode"])("a",{href:"#",onClick:t[57]||(t[57]=Object(o["withModifiers"])((function(e){a.drillDown("total_alive_and_on_art")}),["prevent"]))},Object(o["toDisplayString"])(e.total_alive_and_on_art),1)]),td,nd]),rd,Object(o["createVNode"])("tr",null,[id,od,ad,Object(o["createVNode"])("td",cd,[Object(o["createVNode"])("a",{href:"#",onClick:t[58]||(t[58]=Object(o["withModifiers"])((function(e){a.drillDown("died_within_the_1st_month_of_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.died_within_the_1st_month_of_art_initiation),1)]),sd,ud]),Object(o["createVNode"])("tr",null,[ld,dd,pd,Object(o["createVNode"])("td",bd,[Object(o["createVNode"])("a",{href:"#",onClick:t[59]||(t[59]=Object(o["withModifiers"])((function(e){a.drillDown("died_within_the_2nd_month_of_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.died_within_the_2nd_month_of_art_initiation),1)]),hd,fd]),Object(o["createVNode"])("tr",null,[md,gd,Od,Object(o["createVNode"])("td",vd,[Object(o["createVNode"])("a",{href:"#",onClick:t[60]||(t[60]=Object(o["withModifiers"])((function(e){a.drillDown("died_within_the_3rd_month_of_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.died_within_the_3rd_month_of_art_initiation),1)]),_d,jd]),Object(o["createVNode"])("tr",null,[yd,wd,Nd,Object(o["createVNode"])("td",Cd,[Object(o["createVNode"])("a",{href:"#",onClick:t[61]||(t[61]=Object(o["withModifiers"])((function(e){a.drillDown("died_after_the_3rd_month_of_art_initiation")}),["prevent"]))},Object(o["toDisplayString"])(e.died_after_the_3rd_month_of_art_initiation),1)]),Vd,Dd]),Object(o["createVNode"])("tr",null,[kd,Td,Object(o["createVNode"])("td",Id,[Object(o["createVNode"])("a",{href:"#",onClick:t[62]||(t[62]=Object(o["withModifiers"])((function(e){a.drillDown("died_total")}),["prevent"]))},Object(o["toDisplayString"])(e.died_total),1)]),xd,Sd]),Object(o["createVNode"])("tr",null,[Pd,Bd,Object(o["createVNode"])("td",Ad,[Object(o["createVNode"])("a",{href:"#",onClick:t[63]||(t[63]=Object(o["withModifiers"])((function(e){a.drillDown("defaulted")}),["prevent"]))},Object(o["toDisplayString"])(e.defaulted),1)]),Ed,Fd]),Object(o["createVNode"])("tr",null,[Rd,Ld,Object(o["createVNode"])("td",Md,[Object(o["createVNode"])("a",{href:"#",onClick:t[64]||(t[64]=Object(o["withModifiers"])((function(e){a.drillDown("stopped_art")}),["prevent"]))},Object(o["toDisplayString"])(e.stopped_art),1)]),Hd,Ud]),Object(o["createVNode"])("tr",null,[qd,Gd,Object(o["createVNode"])("td",zd,[Object(o["createVNode"])("a",{href:"#",onClick:t[65]||(t[65]=Object(o["withModifiers"])((function(e){a.drillDown("transfered_out")}),["prevent"]))},Object(o["toDisplayString"])(e.transfered_out),1)]),Yd,Wd]),Kd,$d,Jd,Xd,Object(o["createVNode"])("tr",null,[Qd,Zd,ep,tp,np,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[66]||(t[66]=Object(o["withModifiers"])((function(e){a.drillDown("zero_p")}),["prevent"]))},Object(o["toDisplayString"])(e.zero_p),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[67]||(t[67]=Object(o["withModifiers"])((function(e){a.drillDown("zero_a")}),["prevent"]))},Object(o["toDisplayString"])(e.zero_a),1)])]),Object(o["createVNode"])("tr",null,[rp,ip,op,ap,cp,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[68]||(t[68]=Object(o["withModifiers"])((function(e){a.drillDown("two_p")}),["prevent"]))},Object(o["toDisplayString"])(e.two_p),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[69]||(t[69]=Object(o["withModifiers"])((function(e){a.drillDown("two_a")}),["prevent"]))},Object(o["toDisplayString"])(e.two_a),1)])]),Object(o["createVNode"])("tr",null,[sp,up,lp,dp,pp,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[70]||(t[70]=Object(o["withModifiers"])((function(e){a.drillDown("four_p")}),["prevent"]))},Object(o["toDisplayString"])(e.four_p),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[71]||(t[71]=Object(o["withModifiers"])((function(e){a.drillDown("four_a")}),["prevent"]))},Object(o["toDisplayString"])(e.four_a),1)])]),Object(o["createVNode"])("tr",null,[bp,hp,fp,mp,gp,Op,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[72]||(t[72]=Object(o["withModifiers"])((function(e){a.drillDown("five_a")}),["prevent"]))},Object(o["toDisplayString"])(e.five_a),1)])]),Object(o["createVNode"])("tr",null,[vp,_p,jp,yp,wp,Np,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[73]||(t[73]=Object(o["withModifiers"])((function(e){a.drillDown("six_a")}),["prevent"]))},Object(o["toDisplayString"])(e.six_a),1)])]),Object(o["createVNode"])("tr",null,[Cp,Vp,Dp,kp,Tp,Ip,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[74]||(t[74]=Object(o["withModifiers"])((function(e){a.drillDown("seven_a")}),["prevent"]))},Object(o["toDisplayString"])(e.seven_a),1)])]),Object(o["createVNode"])("tr",null,[xp,Sp,Pp,Bp,Ap,Ep,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[75]||(t[75]=Object(o["withModifiers"])((function(e){a.drillDown("eight_a")}),["prevent"]))},Object(o["toDisplayString"])(e.eight_a),1)])]),Object(o["createVNode"])("tr",null,[Fp,Rp,Lp,Mp,Hp,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",Up,[qp,Object(o["createVNode"])("div",Gp,[Object(o["createVNode"])("div",zp,[Object(o["createVNode"])("a",{href:"#",onClick:t[76]||(t[76]=Object(o["withModifiers"])((function(e){a.drillDown("nine_p_tabs")}),["prevent"])),id:"nine_p_tabs"},Object(o["toDisplayString"])(e.nine_p_tabs),1)]),Object(o["createVNode"])("div",Yp,[Object(o["createVNode"])("a",{href:"#",onClick:t[77]||(t[77]=Object(o["withModifiers"])((function(e){a.drillDown("nine_p_granules")}),["prevent"])),id:"nine_p_granules"},Object(o["toDisplayString"])(e.nine_p_granules),1)])])])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[78]||(t[78]=Object(o["withModifiers"])((function(e){a.drillDown("nine_a")}),["prevent"]))},Object(o["toDisplayString"])(e.nine_a),1)])]),Object(o["createVNode"])("tr",null,[Wp,Kp,$p,Jp,Xp,Qp,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[79]||(t[79]=Object(o["withModifiers"])((function(e){a.drillDown("ten_a")}),["prevent"]))},Object(o["toDisplayString"])(e.ten_a),1)])]),Object(o["createVNode"])("tr",null,[Zp,eb,tb,nb,rb,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",ib,[ob,Object(o["createVNode"])("div",ab,[Object(o["createVNode"])("div",cb,[Object(o["createVNode"])("a",{href:"#",onClick:t[80]||(t[80]=Object(o["withModifiers"])((function(e){a.drillDown("eleven_p_tabs")}),["prevent"])),id:"eleven_p_tabs"},Object(o["toDisplayString"])(e.eleven_p_tabs),1)]),Object(o["createVNode"])("div",sb,[Object(o["createVNode"])("a",{href:"#",onClick:t[81]||(t[81]=Object(o["withModifiers"])((function(e){a.drillDown("eleven_p_granules")}),["prevent"])),id:"eleven_p_granules"},Object(o["toDisplayString"])(e.eleven_p_granules),1)])])])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[82]||(t[82]=Object(o["withModifiers"])((function(e){a.drillDown("eleven_a")}),["prevent"]))},Object(o["toDisplayString"])(e.eleven_a),1)])]),Object(o["createVNode"])("tr",null,[ub,lb,db,pb,bb,hb,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[83]||(t[83]=Object(o["withModifiers"])((function(e){a.drillDown("twelve_a")}),["prevent"]))},Object(o["toDisplayString"])(e.twelve_a),1)])]),Object(o["createVNode"])("tr",null,[fb,mb,gb,Ob,vb,_b,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[84]||(t[84]=Object(o["withModifiers"])((function(e){a.drillDown("thirteen_a")}),["prevent"]))},Object(o["toDisplayString"])(e.thirteen_a),1)])]),Object(o["createVNode"])("tr",null,[jb,yb,wb,Nb,Cb,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",Vb,[Db,Object(o["createVNode"])("div",kb,[Object(o["createVNode"])("div",Tb,[Object(o["createVNode"])("a",{href:"#",onClick:t[85]||(t[85]=function(e){a.drillDown("fourteen_pp")}),id:"fourteen_pp"},Object(o["toDisplayString"])(e.fourteen_pp),1)]),Object(o["createVNode"])("div",Ib,[Object(o["createVNode"])("a",{href:"#",onClick:t[86]||(t[86]=function(e){a.drillDown("fourteen_p")}),id:"fourteen_p"},Object(o["toDisplayString"])(e.fourteen_p),1)])])])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[87]||(t[87]=Object(o["withModifiers"])((function(e){a.drillDown("fourteen_a")}),["prevent"]))},Object(o["toDisplayString"])(e.fourteen_a),1)])]),Object(o["createVNode"])("tr",null,[xb,Sb,Pb,Bb,Ab,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",Eb,[Fb,Object(o["createVNode"])("div",Rb,[Object(o["createVNode"])("div",Lb,[Object(o["createVNode"])("a",{href:"#",onClick:t[88]||(t[88]=function(e){a.drillDown("fifteen_pp")}),id:"fifteen_pp"},Object(o["toDisplayString"])(e.fifteen_pp),1)]),Object(o["createVNode"])("div",Mb,[Object(o["createVNode"])("a",{href:"#",onClick:t[89]||(t[89]=function(e){a.drillDown("fifteen_p")}),id:"fifteen_p"},Object(o["toDisplayString"])(e.fifteen_p),1)])])])]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[90]||(t[90]=Object(o["withModifiers"])((function(e){a.drillDown("fifteen_a")}),["prevent"]))},Object(o["toDisplayString"])(e.fifteen_a),1)])]),Object(o["createVNode"])("tr",null,[Hb,Ub,qb,Gb,zb,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[91]||(t[91]=Object(o["withModifiers"])((function(e){a.drillDown("sixteen_p")}),["prevent"]))},Object(o["toDisplayString"])(e.sixteen_p),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[92]||(t[92]=Object(o["withModifiers"])((function(e){a.drillDown("sixteen_a")}),["prevent"]))},Object(o["toDisplayString"])(e.sixteen_a),1)])]),Object(o["createVNode"])("tr",null,[Yb,Wb,Kb,$b,Jb,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[93]||(t[93]=Object(o["withModifiers"])((function(e){a.drillDown("seventeen_p")}),["prevent"]))},Object(o["toDisplayString"])(e.seventeen_p),1)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[94]||(t[94]=Object(o["withModifiers"])((function(e){a.drillDown("seventeen_a")}),["prevent"]))},Object(o["toDisplayString"])(e.seventeen_a),1)])]),Object(o["createVNode"])("tr",null,[Xb,Qb,Zb,eh,th,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[95]||(t[95]=Object(o["withModifiers"])((function(e){a.drillDown("unknown_regimen")}),["prevent"]))},Object(o["toDisplayString"])(e.unknown_regimen),1)])]),nh,Object(o["createVNode"])("tr",rh,[ih,oh,ah,ch,Object(o["createVNode"])("td",sh,[Object(o["createVNode"])("a",{href:"#",onClick:t[96]||(t[96]=Object(o["withModifiers"])((function(e){a.drillDown("total_pregnant_women")}),["prevent"]))},Object(o["toDisplayString"])(e.total_pregnant_women),1)])]),Object(o["createVNode"])("tr",null,[uh,lh,dh,ph,Object(o["createVNode"])("td",bh,[Object(o["createVNode"])("a",{href:"#",onClick:t[97]||(t[97]=Object(o["withModifiers"])((function(e){a.drillDown("total_breastfeeding_women")}),["prevent"]))},Object(o["toDisplayString"])(e.total_breastfeeding_women),1)])]),Object(o["createVNode"])("tr",null,[hh,fh,mh,gh,Object(o["createVNode"])("td",Oh,[Object(o["createVNode"])("a",{href:"#",onClick:t[98]||(t[98]=Object(o["withModifiers"])((function(e){a.drillDown("total_other_patients")}),["prevent"]))},Object(o["toDisplayString"])(e.total_other_patients),1)])]),vh,Object(o["createVNode"])("tr",null,[_h,jh,yh,wh,Object(o["createVNode"])("td",Nh,[Object(o["createVNode"])("a",{href:"#",onClick:t[99]||(t[99]=Object(o["withModifiers"])((function(e){a.drillDown("tb_not_suspected")}),["prevent"]))},Object(o["toDisplayString"])(e.tb_not_suspected),1)])]),Object(o["createVNode"])("tr",null,[Ch,Vh,Dh,kh,Object(o["createVNode"])("td",Th,[Object(o["createVNode"])("a",{href:"#",onClick:t[100]||(t[100]=Object(o["withModifiers"])((function(e){a.drillDown("tb_suspected")}),["prevent"]))},Object(o["toDisplayString"])(e.tb_suspected),1)])]),Object(o["createVNode"])("tr",null,[Ih,xh,Sh,Ph,Object(o["createVNode"])("td",Bh,[Object(o["createVNode"])("a",{href:"#",onClick:t[101]||(t[101]=Object(o["withModifiers"])((function(e){a.drillDown("tb_confirmed_currently_not_yet_on_tb_treatment")}),["prevent"]))},Object(o["toDisplayString"])(e.tb_confirmed_currently_not_yet_on_tb_treatment),1)])]),Object(o["createVNode"])("tr",null,[Ah,Eh,Fh,Rh,Object(o["createVNode"])("td",Lh,[Object(o["createVNode"])("a",{href:"#",onClick:t[102]||(t[102]=Object(o["withModifiers"])((function(e){a.drillDown("tb_confirmed_on_tb_treatment")}),["prevent"]))},Object(o["toDisplayString"])(e.tb_confirmed_on_tb_treatment),1)])]),Object(o["createVNode"])("tr",null,[Mh,Hh,Uh,qh,Object(o["createVNode"])("td",Gh,[Object(o["createVNode"])("a",{href:"#",onClick:t[103]||(t[103]=Object(o["withModifiers"])((function(e){a.drillDown("unknown_tb_status")}),["prevent"]))},Object(o["toDisplayString"])(e.unknown_tb_status),1)])]),zh,Object(o["createVNode"])("tr",null,[Yh,Wh,Kh,$h,Object(o["createVNode"])("td",Jh,[Object(o["createVNode"])("a",{href:"#",onClick:t[104]||(t[104]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_without_side_effects")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_without_side_effects),1)])]),Object(o["createVNode"])("tr",null,[Xh,Qh,Zh,ef,Object(o["createVNode"])("td",tf,[Object(o["createVNode"])("a",{href:"#",onClick:t[105]||(t[105]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_with_side_effects")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_with_side_effects),1)])]),Object(o["createVNode"])("tr",null,[nf,rf,of,af,Object(o["createVNode"])("td",cf,[Object(o["createVNode"])("a",{href:"#",onClick:t[106]||(t[106]=Object(o["withModifiers"])((function(e){a.drillDown("unknown_side_effects")}),["prevent"]))},Object(o["toDisplayString"])(e.unknown_side_effects),1)])]),sf,Object(o["createVNode"])("tr",null,[uf,lf,df,pf,Object(o["createVNode"])("td",bf,[Object(o["createVNode"])("a",{href:"#",onClick:t[107]||(t[107]=Object(o["withModifiers"])((function(e){a.drillDown("patients_with_0_6_doses_missed_at_their_last_visit")}),["prevent"]))},Object(o["toDisplayString"])(e.patients_with_0_6_doses_missed_at_their_last_visit),1)])]),Object(o["createVNode"])("tr",null,[hf,ff,mf,gf,Object(o["createVNode"])("td",Of,[Object(o["createVNode"])("a",{href:"#",onClick:t[108]||(t[108]=Object(o["withModifiers"])((function(e){a.drillDown("patients_with_7_plus_doses_missed_at_their_last_visit")}),["prevent"]))},Object(o["toDisplayString"])(e.patients_with_7_plus_doses_missed_at_their_last_visit),1)])]),Object(o["createVNode"])("tr",null,[vf,_f,jf,yf,Object(o["createVNode"])("td",wf,[Object(o["createVNode"])("a",{href:"#",onClick:t[109]||(t[109]=Object(o["withModifiers"])((function(e){a.drillDown("patients_with_unknown_adhrence")}),["prevent"]))},Object(o["toDisplayString"])(e.patients_with_unknown_adhrence),1)])]),Nf,Object(o["createVNode"])("tr",null,[Cf,Vf,Df,Object(o["createVNode"])("td",kf,[Object(o["createVNode"])("a",{href:"#",onClick:t[110]||(t[110]=Object(o["withModifiers"])((function(e){a.drillDown("newly_initiated_on_ipt")}),["prevent"]))},Object(o["toDisplayString"])(e.newly_initiated_on_ipt),1)]),Tf,Object(o["createVNode"])("td",If,[Object(o["createVNode"])("a",{href:"#",onClick:t[111]||(t[111]=Object(o["withModifiers"])((function(e){a.drillDown("newly_initiated_on_3hp")}),["prevent"]))},Object(o["toDisplayString"])(e.newly_initiated_on_3hp),1)]),xf]),Object(o["createVNode"])("tr",null,[Sf,Pf,Bf,Object(o["createVNode"])("td",Af,[Object(o["createVNode"])("a",{href:"#",onClick:t[112]||(t[112]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_on_arvs_and_cpt")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_on_arvs_and_cpt),1)]),Ef,Object(o["createVNode"])("td",Ff,[Object(o["createVNode"])("a",{href:"#",onClick:t[113]||(t[113]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_on_arvs_and_ipt")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_on_arvs_and_ipt),1)]),Rf]),Lf,Object(o["createVNode"])("tr",null,[Mf,Hf,Uf,Object(o["createVNode"])("td",qf,[Object(o["createVNode"])("span",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[114]||(t[114]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_on_family_planning")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_on_family_planning),1)]),Gf])]),zf,Object(o["createVNode"])("tr",null,[Yf,Wf,Kf,Object(o["createVNode"])("td",$f,[Object(o["createVNode"])("span",null,[Object(o["createVNode"])("a",{href:"#",onClick:t[115]||(t[115]=Object(o["withModifiers"])((function(e){a.drillDown("total_patients_on_family_planning")}),["prevent"]))},Object(o["toDisplayString"])(e.total_patients_with_screened_bp),1)]),Jf])]),Xf])})),Zf=(n("2b3d"),n("96cf"),n("1da1")),em={data:function(){return{items:[3,4,5,6,7,8,9],re_initiated_on_art:0,cum_re_initiated_on_art:0,total_registered:0,cum_total_registered:0,quarterly_all_males:0,cummulative_all_males:0,pregnant_females_all_ages:0,cum_pregnant_females_all_ages:0,non_pregnant_females:0,cum_non_pregnant_females:0,children_below_24_months_at_art_initiation:0,cum_children_below_24_months_at_art_initiation:0,confirmed_hiv_infection_in_infants_pcr:0,cum_confirmed_hiv_infection_in_infants_pcr:0,quarterly_children_12_59_months:0,cum_children_12_59_months:0,breastfeeding_mothers:0,cum_breastfeeding_mothers:0,who_stage_two:0,cum_who_stage_two:0,asymptomatic:0,cum_asymptomatic:0,who_stage_three:0,cum_who_stage_three:0,who_stage_four:0,cum_who_stage_four:0,unknown_other_reason_outside_guidelines:0,cum_unknown_other_reason_outside_guidelines:0,no_tb:0,cum_no_tb:0,tb_within_the_last_two_years:0,cum_tb_within_the_last_two_years:0,current_episode_of_tb:0,cum_current_episode_of_tb:0,kaposis_sarcoma:0,cum_kaposis_sarcoma:0,total_alive_and_on_art:0,died_within_the_1st_month_of_art_initiation:0,died_within_the_2nd_month_of_art_initiation:0,died_within_the_3rd_month_of_art_initiation:0,died_after_the_3rd_month_of_art_initiation:0,died_total:0,defaulted:0,stopped_art:0,transfered_out:0,zero_p:0,zero_a:0,two_p:0,two_a:0,four_p:0,four_a:0,five_a:0,six_a:0,seven_a:0,eight_a:0,nine_p:0,nine_p_tabs:0,nine_p_granules:0,nine_a:0,ten_a:0,eleven_p:0,eleven_p_tabs:0,eleven_p_granules:0,eleven_a:0,twelve_a:0,thirteen_a:0,fourteen_p:0,fourteen_a:0,fifteen_p:0,fifteen_a:0,sixteen_p:0,sixteen_a:0,seventeen_p:0,seventeen_a:0,unknown_regimen:0,total_pregnant_women:0,total_breastfeeding_women:0,total_other_patients:0,tb_not_suspected:0,tb_suspected:0,tb_confirmed_currently_not_yet_on_tb_treatment:0,tb_confirmed_on_tb_treatment:0,unknown_tb_status:0,total_patients_without_side_effects:0,total_patients_with_side_effects:0,unknown_side_effects:0,patients_with_0_6_doses_missed_at_their_last_visit:0,patients_with_7_plus_doses_missed_at_their_last_visit:0,patients_with_unknown_adhrence:0,total_patients_on_arvs_and_cpt:0,total_patients_on_arvs_and_ipt:0,total_patients_on_family_planning:0,total_patients_with_screened_bp:0,transfer_in:0,cum_transfer_in:0,males_initiated_on_art_first_time:0,cum_males_initiated_on_art_first_time:0,initial_pregnant_females_all_ages:0,cum_initial_pregnant_females_all_ages:0,initial_non_pregnant_females_all_ages:0,cum_initial_non_pregnant_females_all_ages:0,unknown_gender:0,cum_unknown_gender:0,initiated_on_art_first_time:0,cum_initiated_on_art_first_time:0,cum_children_24_months_14_years_at_art_initiation:0,adults_at_art_initiation:0,cum_adults_at_art_initiation:0,presumed_severe_hiv_disease_in_infants:0,cum_presumed_severe_hiv_disease_in_infants:0,pregnant_women:0,cum_pregnant_women:0,children_24_months_14_years_at_art_initiation:0,newly_initiated_on_3hp:0,newly_initiated_on_ipt:0}},props:["params","reportid","quarter","onDrillDown"],methods:{onDownload:function(){var e="Indicator,\tValue,\n      total_registered,".concat(this.total_registered,",\n      cum_total_registered,").concat(this.cum_total_registered,",\n      initiated_on_art_first_time,").concat(this.initiated_on_art_first_time,",\n      cum_initiated_on_art_first_time,").concat(this.cum_initiated_on_art_first_time,",\n      males_initiated_on_art_first_time,").concat(this.males_initiated_on_art_first_time,",\n      cum_males_initiated_on_art_first_time,").concat(this.cum_males_initiated_on_art_first_time,",\n      re_initiated_on_art,").concat(this.re_initiated_on_art,",\n      cum_re_initiated_on_art,").concat(this.cum_re_initiated_on_art,",\n      transfer_in,").concat(this.transfer_in,",\n      cum_transfer_in,").concat(this.cum_transfer_in,",\n      cum_all_males,").concat(this.cummulative_all_males,",\n      quarterly_all_males,").concat(this.quarterly_all_males,",\n      pregnant_females_all_ages,").concat(this.pregnant_females_all_ages,",\n      cum_pregnant_females_all_ages,").concat(this.cum_pregnant_females_all_ages,",\n      initial_pregnant_females_all_ages,").concat(this.initial_pregnant_females_all_ages,",\n      cum_initial_pregnant_females_all_ages,").concat(this.cum_initial_pregnant_females_all_ages,",\n      non_pregnant_females,").concat(this.non_pregnant_females,",\n      cum_non_pregnant_females,").concat(this.cum_non_pregnant_females,",\n      initial_non_pregnant_females_all_ages,").concat(this.initial_non_pregnant_females_all_ages,",\n      cum_initial_non_pregnant_females_all_ages,").concat(this.cum_initial_non_pregnant_females_all_ages,",\n      children_below_24_months_at_art_initiation,").concat(this.children_below_24_months_at_art_initiation,",\n      cum_children_below_24_months_at_art_initiation,").concat(this.cum_children_below_24_months_at_art_initiation,",\n      children_24_months_14_years_at_art_initiation,").concat(this.children_24_months_14_years_at_art_initiation,",\n      cum_children_24_months_14_years_at_art_initiation,").concat(this.cum_children_24_months_14_years_at_art_initiation,",\n      adults_at_art_initiation,").concat(this.adults_at_art_initiation,",\n      cum_adults_at_art_initiation,").concat(this.cum_adults_at_art_initiation,",\n      unknown_gender,").concat(this.unknown_gender,",\n      cum_unknown_gender,").concat(this.cum_unknown_gender,",\n      presumed_severe_hiv_disease_in_infants,").concat(this.presumed_severe_hiv_disease_in_infants,",\n      cum_presumed_severe_hiv_disease_in_infants,").concat(this.cum_presumed_severe_hiv_disease_in_infants,",\n      confirmed_hiv_infection_in_infants_pcr,").concat(this.confirmed_hiv_infection_in_infants_pcr,",\n      cum_confirmed_hiv_infection_in_infants_pcr,").concat(this.cum_confirmed_hiv_infection_in_infants_pcr,",\n      who_stage_two,").concat(this.who_stage_two,",\n      cum_who_stage_two,").concat(this.cum_who_stage_two,",\n      breastfeeding_mothers,").concat(this.breastfeeding_mothers,",\n      cum_breastfeeding_mothers,").concat(this.cum_breastfeeding_mothers,",\n      pregnant_women,").concat(this.pregnant_women,",\n      cum_pregnant_women,").concat(this.cum_pregnant_women,",\n      who_stage_three,").concat(this.who_stage_three,",\n      cum_who_stage_three,").concat(this.cum_who_stage_three,",\n      who_stage_four,").concat(this.who_stage_four,",\n      cum_who_stage_four,").concat(this.cum_who_stage_four,",\n      asymptomatic,").concat(this.asymptomatic,",\n      cum_asymptomatic,").concat(this.cum_asymptomatic,",\n      unknown_other_reason_outside_guidelines,").concat(this.unknown_other_reason_outside_guidelines,",\n      cum_unknown_other_reason_outside_guidelines,").concat(this.cum_unknown_other_reason_outside_guidelines,",\n      cum_children_12_59_months,").concat(this.cum_children_12_59_months,",\n      quarterly_children_12_59_months,").concat(this.quarterly_children_12_59_months,",\n      current_episode_of_tb,").concat(this.current_episode_of_tb,",\n      cum_current_episode_of_tb,").concat(this.cum_current_episode_of_tb,",\n      tb_within_the_last_two_years,").concat(this.tb_within_the_last_two_years,",\n      cum_tb_within_the_last_two_years,").concat(this.cum_tb_within_the_last_two_years,",\n      no_tb,").concat(this.no_tb,",\n      cum_no_tb,").concat(this.cum_no_tb,",\n      kaposis_sarcoma,").concat(this.kaposis_sarcoma,",\n      cum_kaposis_sarcoma,").concat(this.cum_kaposis_sarcoma,",\n      total_alive_and_on_art,").concat(this.total_alive_and_on_art,",\n      died_within_the_1st_month_of_art_initiation,").concat(this.died_within_the_1st_month_of_art_initiation,",\n      died_within_the_2nd_month_of_art_initiation,").concat(this.died_within_the_2nd_month_of_art_initiation,",\n      died_within_the_3rd_month_of_art_initiation,").concat(this.died_within_the_3rd_month_of_art_initiation,",\n      died_after_the_3rd_month_of_art_initiation,").concat(this.died_after_the_3rd_month_of_art_initiation,",\n      died_total,").concat(this.died_total,",\n      defaulted,").concat(this.defaulted,",\n      stopped_art,").concat(this.stopped_art,",\n      transfered_out,").concat(this.transfered_out,",\n      zero_a,").concat(this.zero_a,",\n      zero_p,").concat(this.zero_p,",\n      two_a,").concat(this.two_a,",\n      two_p,").concat(this.two_p,",\n      four_a,").concat(this.four_a,",\n      four_p,").concat(this.four_p,",\n      five_a,").concat(this.five_a,",\n      six_a,").concat(this.six_a,",\n      seven_a,").concat(this.seven_a,",\n      eight_a,").concat(this.eight_a,",\n      nine_a,").concat(this.nine_a,",\n      nine_p_granules,").concat(this.nine_p_granules,",\n      nine_p_tabs,").concat(this.nine_p_tabs,",\n      ten_a,").concat(this.ten_a,",\n      eleven_a,").concat(this.eleven_a,",\n      eleven_p_granules,").concat(this.eleven_p_granules,",\n      eleven_p_tabs,").concat(this.eleven_p_tabs,",\n      twelve_a,").concat(this.twelve_a,",\n      thirteen_a,").concat(this.thirteen_a,",\n      fourteen_p,").concat(this.fourteen_p,",\n      fourteen_p,").concat(this.fourteen_pp,",\n      fourteen_a,").concat(this.fourteen_a,",\n      fifteen_p,").concat(this.fifteen_p,",\n      fifteen_p,").concat(this.fifteen_pp,",\n      fifteen_a,").concat(this.fifteen_a,",\n      sixteen_p,").concat(this.sixteen_p,",\n      sixteen_a,").concat(this.sixteen_a,",\n      seventeen_p,").concat(this.seventeen_p,",\n      seventeen_a,").concat(this.seventeen_a,",\n      unknown_regimen,").concat(this.unknown_regimen,",\n      total_patients_with_side_effects,").concat(this.total_patients_with_side_effects,",\n      total_patients_without_side_effects,").concat(this.total_patients_without_side_effects,",\n      unknown_side_effects,").concat(this.unknown_side_effects,",\n      tb_suspected,").concat(this.tb_suspected,",\n      tb_not_suspected,").concat(this.tb_not_suspected,",\n      tb_confirmed_on_tb_treatment,").concat(this.tb_confirmed_on_tb_treatment,",\n      tb_confirmed_currently_not_yet_on_tb_treatment,").concat(this.tb_confirmed_currently_not_yet_on_tb_treatment,"\n      unknown_tb_status,").concat(this.unknown_tb_status,",\n      patients_with_0_6_doses_missed_at_their_last_visit,").concat(this.patients_with_0_6_doses_missed_at_their_last_visit,",\n      patients_with_7_plus_doses_missed_at_their_last_visit,").concat(this.patients_with_7_plus_doses_missed_at_their_last_visit,",\n      patients_with_unknown_adhrence,").concat(this.patients_with_unknown_adhrence,",\n      total_pregnant_women,").concat(this.total_pregnant_women,",\n      total_breastfeeding_women,").concat(this.total_breastfeeding_women,",\n      total_other_patients,").concat(this.total_other_patients,",\n      total_patients_on_arvs_and_cpt,").concat(this.total_patients_on_arvs_and_cpt,",\n      total_patients_on_arvs_and_ipt,").concat(this.total_patients_on_arvs_and_ipt,",\n      total_patients_on_family_planning,").concat(this.total_patients_on_family_planning,",\n      total_patients_with_screened_bp,").concat(this.total_patients_with_screened_bp,",\n      newly_initiated_on_ipt,").concat(this.newly_initiated_on_ipt,",\n      newly_initiated_on_3hp,").concat(this.newly_initiated_on_3hp,",\n      ");e+="\n          Date Created: ".concat(te()().format("DD/MMM/YYYY HH:MM:ss"),"\n          His-Core Version: ").concat(p["d"].getCoreVersion(),"\n          API Version: ").concat(p["d"].getApiVersion(),"\n          Report Period: ").concat(this.quarter,"\n          Site: ").concat(p["d"].getLocationName(),"\n          Site UUID: ").concat(p["d"].getSiteUUID());var t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n="".concat(p["d"].getLocationName()," cohort report ").concat(this.quarter);if(navigator.msSaveBlob)navigator.msSaveBlob(t,"exportFilename");else{var r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download","".concat(n,".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},renderResults:function(){for(var e=0;e<this.params.length;e++)"re_initiated_on_art"==this.params[e].name&&(this.re_initiated_on_art=this.params[e].contents),"cum_re_initiated_on_art"==this.params[e].name&&(this.cum_re_initiated_on_art=this.params[e].contents),"transfer_in"==this.params[e].name&&(this.transfer_in=this.params[e].contents),"cum_transfer_in"==this.params[e].name&&(this.cum_transfer_in=this.params[e].contents),"total_registered"==this.params[e].name&&(this.total_registered=this.params[e].contents),"cum_total_registered"==this.params[e].name&&(this.cum_total_registered=this.params[e].contents),"cum_all_males"==this.params[e].name&&(this.cummulative_all_males=this.params[e].contents),"all_males"==this.params[e].name&&(this.quarterly_all_males=this.params[e].contents),"non_pregnant_females"==this.params[e].name&&(this.non_pregnant_females=this.params[e].contents),"cum_non_pregnant_females"==this.params[e].name&&(this.cum_non_pregnant_females=this.params[e].contents),"pregnant_females_all_ages"==this.params[e].name&&(this.pregnant_females_all_ages=this.params[e].contents),"cum_pregnant_females_all_ages"==this.params[e].name&&(this.cum_pregnant_females_all_ages=this.params[e].contents),"children_below_24_months_at_art_initiation"==this.params[e].name&&(this.children_below_24_months_at_art_initiation=this.params[e].contents),"cum_children_below_24_months_at_art_initiation"==this.params[e].name&&(this.cum_children_below_24_months_at_art_initiation=this.params[e].contents),"children_24_months_14_years_at_art_initiation"==this.params[e].name&&(this.children_24_months_14_years_at_art_initiation=this.params[e].contents),"cum_children_24_months_14_years_at_art_initiation"==this.params[e].name&&(this.cum_children_24_months_14_years_at_art_initiation=this.params[e].contents),"adults_at_art_initiation"==this.params[e].name&&(this.adults_at_art_initiation=this.params[e].contents),"cum_adults_at_art_initiation"==this.params[e].name&&(this.cum_adults_at_art_initiation=this.params[e].contents),"presumed_severe_hiv_disease_in_infants"==this.params[e].name&&(this.presumed_severe_hiv_disease_in_infants=this.params[e].contents),"cum_presumed_severe_hiv_disease_in_infants"==this.params[e].name&&(this.cum_presumed_severe_hiv_disease_in_infants=this.params[e].contents),"confirmed_hiv_infection_in_infants_pcr"==this.params[e].name&&(this.confirmed_hiv_infection_in_infants_pcr=this.params[e].contents),"cum_confirmed_hiv_infection_in_infants_pcr"==this.params[e].name&&(this.cum_confirmed_hiv_infection_in_infants_pcr=this.params[e].contents),"quarterly_children_12_59_months"==this.params[e].name&&(this.quarterly_children_12_59_months=this.params[e].contents),"cum_children_12_59_months"==this.params[e].name&&(this.cum_children_12_59_months=this.params[e].contents),"pregnant_women"==this.params[e].name&&(this.pregnant_women=this.params[e].contents),"cum_pregnant_women"==this.params[e].name&&(this.cum_pregnant_women=this.params[e].contents),"breastfeeding_mothers"==this.params[e].name&&(this.breastfeeding_mothers=this.params[e].contents),"cum_breastfeeding_mothers"==this.params[e].name&&(this.cum_breastfeeding_mothers=this.params[e].contents),"who_stage_two"==this.params[e].name&&(this.who_stage_two=this.params[e].contents),"cum_who_stage_two"==this.params[e].name&&(this.cum_who_stage_two=this.params[e].contents),"asymptomatic"==this.params[e].name&&(this.asymptomatic=this.params[e].contents),"cum_asymptomatic"==this.params[e].name&&(this.cum_asymptomatic=this.params[e].contents),"who_stage_three"==this.params[e].name&&(this.who_stage_three=this.params[e].contents),"cum_who_stage_three"==this.params[e].name&&(this.cum_who_stage_three=this.params[e].contents),"who_stage_four"==this.params[e].name&&(this.who_stage_four=this.params[e].contents),"cum_who_stage_four"==this.params[e].name&&(this.cum_who_stage_four=this.params[e].contents),"unknown_other_reason_outside_guidelines"==this.params[e].name&&(this.unknown_other_reason_outside_guidelines=this.params[e].contents),"cum_unknown_other_reason_outside_guidelines"==this.params[e].name&&(this.cum_unknown_other_reason_outside_guidelines=this.params[e].contents),"no_tb"==this.params[e].name&&(this.no_tb=this.params[e].contents),"cum_no_tb"==this.params[e].name&&(this.cum_no_tb=this.params[e].contents),"tb_within_the_last_two_years"==this.params[e].name&&(this.tb_within_the_last_two_years=this.params[e].contents),"cum_tb_within_the_last_two_years"==this.params[e].name&&(this.cum_tb_within_the_last_two_years=this.params[e].contents),"current_episode_of_tb"==this.params[e].name&&(this.current_episode_of_tb=this.params[e].contents),"cum_current_episode_of_tb"==this.params[e].name&&(this.cum_current_episode_of_tb=this.params[e].contents),"kaposis_sarcoma"==this.params[e].name&&(this.kaposis_sarcoma=this.params[e].contents),"cum_kaposis_sarcoma"==this.params[e].name&&(this.cum_kaposis_sarcoma=this.params[e].contents),"total_alive_and_on_art"==this.params[e].name&&(this.total_alive_and_on_art=this.params[e].contents),"died_within_the_1st_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_1st_month_of_art_initiation=this.params[e].contents),"died_within_the_2nd_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_2nd_month_of_art_initiation=this.params[e].contents),"died_within_the_3rd_month_of_art_initiation"==this.params[e].name&&(this.died_within_the_3rd_month_of_art_initiation=this.params[e].contents),"died_after_the_3rd_month_of_art_initiation"==this.params[e].name&&(this.died_after_the_3rd_month_of_art_initiation=this.params[e].contents),"died_total"==this.params[e].name&&(this.died_total=this.params[e].contents),"defaulted"==this.params[e].name&&(this.defaulted=this.params[e].contents),"stopped_art"==this.params[e].name&&(this.stopped_art=this.params[e].contents),"transfered_out"==this.params[e].name&&(this.transfered_out=this.params[e].contents),"zero_p"==this.params[e].name&&(this.zero_p=this.params[e].contents),"zero_a"==this.params[e].name&&(this.zero_a=this.params[e].contents),"two_p"==this.params[e].name&&(this.two_p=this.params[e].contents),"two_a"==this.params[e].name&&(this.two_a=this.params[e].contents),"four_p"==this.params[e].name&&(this.four_p=this.params[e].contents),"four_a"==this.params[e].name&&(this.four_a=this.params[e].contents),"five_a"==this.params[e].name&&(this.five_a=this.params[e].contents),"six_a"==this.params[e].name&&(this.six_a=this.params[e].contents),"seven_a"==this.params[e].name&&(this.seven_a=this.params[e].contents),"eight_a"==this.params[e].name&&(this.eight_a=this.params[e].contents),"nine_p"==this.params[e].name&&(this.nine_p=this.params[e].contents),"nine_p_tabs"==this.params[e].name&&(this.nine_p_tabs=this.params[e].contents),"nine_p_granules"==this.params[e].name&&(this.nine_p_granules=this.params[e].contents),"nine_a"==this.params[e].name&&(this.nine_a=this.params[e].contents),"ten_a"==this.params[e].name&&(this.ten_a=this.params[e].contents),"eleven_p"==this.params[e].name&&(this.eleven_p=this.params[e].contents),"eleven_p_tabs"==this.params[e].name&&(this.eleven_p_tabs=this.params[e].contents),"eleven_p_granules"==this.params[e].name&&(this.eleven_p_granules=this.params[e].contents),"eleven_a"==this.params[e].name&&(this.eleven_a=this.params[e].contents),"twelve_a"===this.params[e].name&&(this.twelve_a=this.params[e].contents),"thirteen_a"==this.params[e].name&&(this.thirteen_a=this.params[e].contents),"fourteen_p"==this.params[e].name&&(this.fourteen_p=this.params[e].contents),"fourteen_pp"==this.params[e].name&&(this.fourteen_pp=this.params[e].contents),"fourteen_a"==this.params[e].name&&(this.fourteen_a=this.params[e].contents),"fifteen_p"==this.params[e].name&&(this.fifteen_p=this.params[e].contents),"fifteen_pp"==this.params[e].name&&(this.fifteen_pp=this.params[e].contents),"fifteen_a"==this.params[e].name&&(this.fifteen_a=this.params[e].contents),"sixteen_a"==this.params[e].name&&(this.sixteen_a=this.params[e].contents),"sixteen_p"==this.params[e].name&&(this.sixteen_p=this.params[e].contents),"seventeen_a"==this.params[e].name&&(this.seventeen_a=this.params[e].contents),"seventeen_p"==this.params[e].name&&(this.seventeen_p=this.params[e].contents),"unknown_regimen"==this.params[e].name&&(this.unknown_regimen=this.params[e].contents),"total_pregnant_women"==this.params[e].name&&(this.total_pregnant_women=this.params[e].contents),"total_breastfeeding_women"==this.params[e].name&&(this.total_breastfeeding_women=this.params[e].contents),"total_other_patients"==this.params[e].name&&(this.total_other_patients=this.params[e].contents),"tb_not_suspected"==this.params[e].name&&(this.tb_not_suspected=this.params[e].contents),"tb_suspected"==this.params[e].name&&(this.tb_suspected=this.params[e].contents),"tb_not_suspected"==this.params[e].name&&(this.tb_not_suspected=this.params[e].contents),"tb_confirmed_currently_not_yet_on_tb_treatment"==this.params[e].name&&(this.tb_confirmed_currently_not_yet_on_tb_treatment=this.params[e].contents),"tb_confirmed_on_tb_treatment"==this.params[e].name&&(this.tb_confirmed_on_tb_treatment=this.params[e].contents),"unknown_tb_status"==this.params[e].name&&(this.unknown_tb_status=this.params[e].contents),"total_patients_without_side_effects"==this.params[e].name&&(this.total_patients_without_side_effects=this.params[e].contents),"total_patients_with_side_effects"==this.params[e].name&&(this.total_patients_with_side_effects=this.params[e].contents),"unknown_side_effects"==this.params[e].name&&(this.unknown_side_effects=this.params[e].contents),"patients_with_0_6_doses_missed_at_their_last_visit"==this.params[e].name&&(this.patients_with_0_6_doses_missed_at_their_last_visit=this.params[e].contents),"patients_with_7_plus_doses_missed_at_their_last_visit"==this.params[e].name&&(this.patients_with_7_plus_doses_missed_at_their_last_visit=this.params[e].contents),"patients_with_unknown_adhrence"==this.params[e].name&&(this.patients_with_unknown_adhrence=this.params[e].contents),"total_patients_on_arvs_and_cpt"==this.params[e].name&&(this.total_patients_on_arvs_and_cpt=this.params[e].contents),"total_patients_on_arvs_and_ipt"==this.params[e].name&&(this.total_patients_on_arvs_and_ipt=this.params[e].contents),"total_patients_on_family_planning"==this.params[e].name&&(this.total_patients_on_family_planning=this.params[e].contents),"total_patients_with_screened_bp"==this.params[e].name&&(this.total_patients_with_screened_bp=this.params[e].contents),"males_initiated_on_art_first_time"==this.params[e].name&&(this.males_initiated_on_art_first_time=this.params[e].contents),"cum_males_initiated_on_art_first_time"==this.params[e].name&&(this.cum_males_initiated_on_art_first_time=this.params[e].contents),"initial_pregnant_females_all_ages"==this.params[e].name&&(this.initial_pregnant_females_all_ages=this.params[e].contents),"cum_initial_pregnant_females_all_ages"==this.params[e].name&&(this.cum_initial_pregnant_females_all_ages=this.params[e].contents),"initial_non_pregnant_females_all_ages"==this.params[e].name&&(this.initial_non_pregnant_females_all_ages=this.params[e].contents),"cum_initial_non_pregnant_females_all_ages"==this.params[e].name&&(this.cum_initial_non_pregnant_females_all_ages=this.params[e].contents),"unknown_gender"==this.params[e].name&&(this.unknown_gender=this.params[e].contents),"cum_unknown_gender"==this.params[e].name&&(this.cum_unknown_gender=this.params[e].contents),"initiated_on_art_first_time"==this.params[e].name&&(this.initiated_on_art_first_time=this.params[e].contents),"cum_initiated_on_art_first_time"==this.params[e].name&&(this.cum_initiated_on_art_first_time=this.params[e].contents),"newly_initiated_on_3hp"==this.params[e].name&&(this.newly_initiated_on_3hp=this.params[e].contents),"newly_initiated_on_ipt"==this.params[e].name&&(this.newly_initiated_on_ipt=this.params[e].contents)},drillDown:function(e){var t=this;return Object(Zf["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.reportid){n.next=2;break}return n.abrupt("return");case 2:for(i=0;i<t.params.length;i++)t.params[i].name===e&&(r=t.params[i].id);return n.next=5,t.onDrillDown(r);case 5:case"end":return n.stop()}}),n)})))()}},watch:{params:{immediate:!0,handler:function(){this.renderResults()}}}};n("aa16");const tm=I()(em,[["render",Qf],["__scopeId","data-v-e3818cd2"]]);var nm=tm,rm=Object(o["defineComponent"])({mixins:[qn["a"]],components:{IonLoading:Ie["x"],CohortH:So,CohortV:Ro,CohortFt:nm,HisStandardForm:ue["a"],HisFooter:Bn["a"],IonPage:Ie["B"],IonContent:Ie["n"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},cohort:{},vCohort:{},btns:[],isLoading:!1,fields:[],reportID:-1,clinicName:Wn.getUserLocation(),reportReady:!1,reportUrlParams:""}},created:function(){this.btns=this.getBtns(),this.fields=this.getDateDurationFields(!0,!0,21)},methods:{onPeriod:function(e,t,n){return void 0===n&&(n=!1),Object(r["b"])(this,void 0,void 0,(function(){var i,o,a,c=this;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return this.componentKey+=1,this.formData=e,this.computedFormData=t,this.reportReady=!0,this.isLoading=!0,this.report=new Wn,this.report.setRegenerate(n),i={},"custom_period"===e.quarter.value?(this.report.setStartDate(t.start_date),this.report.setEndDate(t.end_date),this.period="Custom "+this.report.getDateIntervalPeriod(),i=this.report.datePeriodRequestParams()):(this.report.setQuarter(e.quarter.label),this.report.setStartDate(d["a"].toStandardHisFormat(e.quarter.other.start)),this.report.setEndDate(d["a"].toStandardHisFormat(e.quarter.other.end)),i=this.report.qaurterRequestParams(),this.period=e.quarter.label,this.reportUrlParams=mr["a"].parameterizeObjToString({start_date:d["a"].toStandardHisFormat(e.quarter.other.start),end_date:d["a"].toStandardHisFormat(e.quarter.other.end),quarter:e.quarter.label})),[4,this.report.requestCohort(i)];case 1:return o=s.sent(),o.ok&&(a=setInterval((function(){return Object(r["b"])(c,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return i.regenerate=!1,[4,this.report.requestCohort(i)];case 1:return e=n.sent(),200!==e.status?[3,3]:[4,e.json()];case 2:t=n.sent(),this.reportID=t.id,this.vCohort=t.values,this.cohort=t.values,this.isLoading=!1,this.report.cacheCohort(t.values),clearInterval(a),n.label=3;case 3:return[2]}}))}))}),3e3)),[2]}}))}))},printSpec:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){return e=open("","","width:1024px, height:768px"),t=document.getElementById("report-content"),t&&e&&(e.document.write('\n            <html>\n              <head>\n                <title>Print Cohort</title>\n                <link rel="stylesheet" media="print" href="/assets/css/cohort.css" />\n              </head>\n              <body>\n                '+t.innerHTML+"\n              </body>\n            </html>\n          "),setTimeout((function(){e.print(),e.close()}),3500)),[2]}))}))},regenerate:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.onPeriod(this.formData,this.computedFormData,!0)];case 1:return e.sent(),[2]}}))}))},onDrillDown:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i=this;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return t=[[nt["a"].thTxt("ARV number"),nt["a"].thTxt("Name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Birth Date"),nt["a"].thTxt("Outcome"),nt["a"].thTxt("Action")]],n=function(){return Object(r["b"])(i,void 0,void 0,(function(){var t,n=this;return Object(r["d"])(this,(function(i){switch(i.label){case 0:return[4,this.report.getCohortDrillDown(e)];case 1:return t=i.sent(),[2,t.map((function(e){return[nt["a"].td(e["arv_number"]),nt["a"].td(e["given_name"]+" "+e["family_name"]),nt["a"].td(e["gender"]),nt["a"].td(d["a"].getAgeInYears(e["birthdate"])),nt["a"].td(e["outcome"]||"N/A"),nt["a"].tdBtn("Select",(function(){return Object(r["b"])(n,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Ie["U"].dismiss({})];case 1:return t.sent(),this.$router.push({path:"/patient/dashboard/"+e.person_id}),[2]}}))}))}))]}))]}}))}))},[4,this.drilldownAsyncRows("Drill table "+e,t,n)];case 1:return o.sent(),[2]}}))}))},getBtns:function(){var e=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){return e=this.$refs.rep,e.onDownload(),[2]}))}))}},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return e.printSpec()}},{name:"Regenerate",size:"large",slot:"end",color:"danger",visible:!0,onClick:function(){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,this.regenerate()]}))}))}},{name:"Disaggregeted",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){return document.location="/art/report/moh/moh_disaggregated?"+e.reportUrlParams}},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return e.$router.push({path:"/"})}}]}}});const im=I()(rm,[["render",lo]]);var om=im;function am(e,t){var n=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(n)}const cm={},sm=I()(cm,[["render",am]]);var um=sm;function lm(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{title:e.title,rows:e.rows,columns:e.columns},null,8,["title","rows","columns"])}var dm=n("91e4"),pm=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Ai["a"]},data:function(){return{title:"HIV Stock report",rows:[],stock:[],columns:[[nt["a"].thTxt("Medication"),nt["a"].thTxt("Earliest Expiry date"),nt["a"].thTxt("Stock on hand(Tins)")]]}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t=this;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return this.report=new dm["a"],[4,this.report.loadStock()];case 1:return n.sent(),e=this.report.groupStock(),e.forEach((function(e){t.rows.push([nt["a"].td(e.drugName),nt["a"].tdDate(e.expiryDate),nt["a"].td(e.currentQuantity)])})),[2]}}))}))}});const bm=I()(pm,[["render",lm]]);var hm=bm;function fm(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,canExportCsv:!1,canExportPDf:!1,showtitleOnly:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}var mm=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Booked clients",date:"",rows:[],appointments:[],reportReady:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("birthdate"),nt["a"].thTxt("Current Address"),nt["a"].thTxt("Actions")]]}},created:function(){var e=this;this.report=new zn["b"],this.fields=[{id:"date",helpText:"Select date",type:s["b"].TT_APPOINTMENT_PICKER,validation:function(e){return u["a"].required(e)},onValue:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.report.getBookedAppointments(t)];case 1:return e=r.sent(),e.length>0?(this.appointments=e,n.appointmentCounter=this.appointments.length,[2,!0]):[2,!1]}}))}))}}]},methods:{onPeriod:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){return this.reportReady=!0,this.rows=[],this.period=d["a"].toStandardHisDisplayFormat(e.date),this.setRows(this.appointments),[2]}))}))},setRows:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(n){return e.forEach((function(e){t.rows.push([nt["a"].td(e.arv_number||"N/A"),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),nt["a"].td("District: "+e.district+"\n                        Village: "+e.village+"\n                        Land-mark: "+e.land_mark),nt["a"].tdBtn("Select",(function(){return t.confirmPatient(e.person_id)}))])})),[2]}))}))}}});const gm=I()(mm,[["render",fm]]);var Om,vm=gm;function _m(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-template"),s=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,showFilters:!0,onReportConfiguration:e.onPeriod},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]})),_:1})}(function(e){e["DobMoreThanEnrolledDate"]="DOB MORE THAN DATE ENROLLED",e["ClientsWithEncountersAfterDeath"]="CLIENTS WITH ENCOUNTERS AFTER DECLARED DEAD",e["DobMoreThanDateEnrolled"]="DOB MORE THAN DATE ENROLLED",e["DateEnrolledLessThanEarliestStartDate"]="DATE ENROLLED LESS THAN EARLIEST START DATE",e["MalesWithFemaleObs"]="MALE CLIENTS WITH FEMALE OBS",e["PrescriptionWithoutDispensation"]="PRESCRIPTION WITHOUT DISPENSATION",e["MissingDemographics"]="MISSING DEMOGRAPHICS",e["MissingStartReasons"]="MISSING START REASONS",e["MultipleStartReasons"]="MULTIPLE START REASONS",e["PreArtOrUnknownOutcomes"]="PRE ART OR UNKNOWN OUTCOMES"})(Om||(Om={}));var jm=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.prototype.getCleaningToolReport=function(e){return this.getReport("art_data_cleaning_tools",{report_name:e})},t.prototype.getEnrolledOnArtBeforeBirth=function(){return Yn["a"].getJson("enrolled_on_art_before_birth")},t.prototype.getIncompleteVisits=function(){return this.getReport("incomplete_visits",{tool_name:"INCOMPLETE VISITS"})},t}(Yn["a"]),ym=Object(o["defineComponent"])({mixins:[qn["a"]],components:{ReportTemplate:Gn["a"],IonPage:Ie["B"]},data:function(){return{title:"Data cleaning report",rows:[],columns:[]}},created:function(){var e=this;this.fields=Object(r["f"])([{id:"indicator",helpText:"Select indicator",type:s["b"].TT_SELECT,requireNext:!1,validation:function(e){return u["a"].required(e)},options:function(){return e.getIndicatorOptions()}}],Object(z["b"])({id:"start_date",helpText:"Start",required:!0,condition:function(e){return!e.indicator.other.skipDateSelection},minDate:function(){return"2001-01-01"},maxDate:function(){return p["d"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(e){return e}}),Object(z["b"])({id:"end_date",helpText:"End",required:!0,condition:function(e){return!e.indicator.other.skipDateSelection},minDate:function(e,t){return t.start_date},maxDate:function(){return p["d"].getSessionDate()},estimation:{allowUnknown:!1},computeValue:function(e){return e}}))},methods:{onPeriod:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.rows=[],this.title=e.indicator.label,n=e.indicator,this.columns=n.other.columns,[4,n.other.setRows(e,t)];case 1:return r.sent(),[2]}}))}))},masterCardBtn:function(e){var t=this;return nt["a"].tdBtn("View",(function(){return t.$router.push("/art/mastercard/"+e)}))},getDefaultIndicatorColumns:function(e){return void 0===e&&(e=[]),[Object(r["f"])([nt["a"].thTxt("ARV Number"),nt["a"].thTxt("Patient Id"),nt["a"].thTxt("First Name"),nt["a"].thTxt("Last Name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Date of birth")],e,[nt["a"].thTxt("Action")])]},setDefaultIndicatorRows:function(e,t,n,i){return void 0===i&&(i=null),Object(r["b"])(this,void 0,void 0,(function(){var o,a=this;return Object(r["d"])(this,(function(c){switch(c.label){case 0:return this.report=new jm,this.report.setStartDate(t),this.report.setEndDate(n),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getCleaningToolReport(e)];case 1:return o=c.sent(),Object(h["isEmpty"])(o)||o.forEach((function(e){var t="function"===typeof i?i(e):[];a.rows.push(Object(r["f"])([nt["a"].td(e.arv_number),nt["a"].td(e.patient_id),nt["a"].td(e.given_name),nt["a"].td(e.family_name),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate)],t,[a.masterCardBtn(e.patient_id)]))})),[2]}}))}))},getIndicatorOptions:function(){var e=this;return[{label:"DOB > Date enrolled",value:Om.DobMoreThanEnrolledDate,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.DobMoreThanEnrolledDate,n.start_date,n.end_date)}}},{label:"Date enrolled < Earliest start date",value:Om.DateEnrolledLessThanEarliestStartDate,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns([nt["a"].thTxt("Earliest start date"),nt["a"].thTxt("Date enrolled")]),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.DateEnrolledLessThanEarliestStartDate,n.start_date,n.end_date,(function(e){return[nt["a"].tdDate(e.earliest_start_date),nt["a"].tdDate(e.date_enrolled)]}))}}},{label:"Encounters after Death",value:Om.ClientsWithEncountersAfterDeath,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.ClientsWithEncountersAfterDeath,n.start_date,n.end_date)}}},{label:"Incomplete visits",value:"Incomplete visits",other:{skipDateSelection:!1,columns:[[nt["a"].thTxt("ARV#"),nt["a"].thTxt("NHID"),nt["a"].thTxt("First name"),nt["a"].thTxt("Last name"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Birthdate"),nt["a"].thTxt("Date(s)"),nt["a"].thTxt("Action")]],setRows:function(t,n){return Object(r["b"])(e,void 0,void 0,(function(){var e,t,i,o=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return this.report=new jm,this.report.setStartDate(n.start_date),this.report.setEndDate(n.end_date),this.period=this.report.getDateIntervalPeriod(),[4,this.report.getIncompleteVisits()];case 1:for(t in e=r.sent(),e)i=e[t],this.rows.push([nt["a"].td(i.arv_number),nt["a"].td(i.national_id),nt["a"].td(i.given_name),nt["a"].td(i.family_name),nt["a"].td(i.gender),nt["a"].tdDate(i.birthdate),nt["a"].td(i.dates.map((function(e){return o.toDate(e)})).join("<br/>")),this.masterCardBtn(parseInt(t.toString()))]);return[2]}}))}))}}},{label:"Enrolled on ART before birth",value:"Enrolled on ART before birth",other:{skipDateSelection:!0,columns:[[nt["a"].thTxt("ARV number"),nt["a"].thTxt("Name"),nt["a"].thTxt("Earliest start date"),nt["a"].thTxt("Date enrolled"),nt["a"].thTxt("Gender"),nt["a"].thTxt("Birth Date"),nt["a"].thTxt("Action")]],setRows:function(){return Object(r["b"])(e,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.report=new jm,[4,this.report.getEnrolledOnArtBeforeBirth()];case 1:return e=r.sent(),e.forEach((function(e){n.rows.push([nt["a"].td(e.identifier),nt["a"].td(e.name),nt["a"].tdDate(e.earliest_start_date),nt["a"].tdDate(e.date_enrolled),nt["a"].td(e.gender),nt["a"].tdDate(e.birthdate),n.masterCardBtn(e.patient_id)])})),[3,3];case 2:if(t=r.sent(),!(t instanceof p["c"]))throw t;return[3,3];case 3:return[2]}}))}))}}},{label:"Male patients with female observations",value:Om.MalesWithFemaleObs,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns([nt["a"].thTxt("Visit date")]),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.MalesWithFemaleObs,n.start_date,n.end_date,(function(e){return[nt["a"].tdDate(e.visit_date)]}))}}},{label:"Missing important demographics elements",value:Om.MissingDemographics,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.MissingDemographics,n.start_date,n.end_date)}}},{label:"Missing start reason",value:Om.MissingStartReasons,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.MissingStartReasons,n.start_date,n.end_date)}}},{label:"Multiple start reasons",value:Om.MultipleStartReasons,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.MultipleStartReasons,n.start_date,n.end_date)}}},{label:"Patients with Pre-ART / Unknown outcome",value:Om.PreArtOrUnknownOutcomes,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns(),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.PreArtOrUnknownOutcomes,n.start_date,n.end_date)}}},{label:"Prescriptions without dispensations",value:Om.PrescriptionWithoutDispensation,other:{skipDateSelection:!1,columns:this.getDefaultIndicatorColumns([nt["a"].thTxt("Visit Date")]),setRows:function(t,n){return e.setDefaultIndicatorRows(Om.PrescriptionWithoutDispensation,n.start_date,n.end_date,(function(e){return[nt["a"].tdDate(e.visit_date)]}))}}}]}}});const wm=I()(ym,[["render",_m]]);var Nm=wm;function Cm(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onOnFinish:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination,activeField:e.fieldComponent},null,8,["fields","onOnFinish","cancelDestinationPath","activeField"])}var Vm=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{fields:[],consultation:{},options:[],values:[],gender:null,activeField:""}},watch:{ready:{handler:function(e){e&&this.init()},immediate:!0}},methods:{onFinish:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,a,c,s,u;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.consultation.createEncounter()];case 1:return n=r.sent(),i=e.has_hypertension.value,n?(o=[],[4,Ve["a"].buildValueCoded("Patient has hypertension",e.has_hypertension.value)]):[3,6];case 2:return a=r.sent(),o.push(a),"Yes"!==i?[3,4]:(c=t.hypertension_diagnosis,[4,Ve["a"].buildValueDate("Hypertension diagnosis date",c)]);case 3:s=r.sent(),o.push(s),r.label=4;case 4:return[4,this.consultation.saveObservationList(o)];case 5:return u=r.sent(),u?(Object(_["d"])("Observations and encounter created!"),this.$router.back(),[3,7]):[2,Object(_["e"])("Unable to save patient observations")];case 6:return[2,Object(_["e"])("Unable to create consultation encounter")];case 7:return[2]}}))}))},init:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.consultation=new De(this.patientID,this.providerID),this.fields=this.getFields(),[2]}))}))},getYesNo:function(){return[{label:"yes",value:"Yes"},{label:"no",value:"No"}]},getFields:function(){var e=this,t=Object(r["f"])([{id:"has_hypertension",helpText:"Does the patient have hypertension",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return e.getYesNo()}}],Object(z["b"])({condition:function(e){return"Yes"===e.has_hypertension.value},id:"hypertension_diagnosis",helpText:"Date the patient was diagnosed with hypertension",required:!0,estimation:{allowUnknown:!1},computeValue:function(e){return e}},""));return t}}});const Dm=I()(Vm,[["render",Cm]]);var km=Dm,Tm=Object(o["withScopeId"])("data-v-7217b18a");Object(o["pushScopeId"])("data-v-7217b18a");var Im=Object(o["createVNode"])("label",{class:"his-title"}," Prescribe BP drugs ",-1),xm={key:0,class:"view-port-content"},Sm={id:"main-table",style:{width:"100%"}},Pm=Object(o["createVNode"])("th",null,"",-1),Bm=Object(o["createVNode"])("td",{class:"td-remaining td-title"},[Object(o["createVNode"])("span",null,"New/Current")],-1),Am=Object(o["createVNode"])("td",{class:"td-remaining td-title"},[Object(o["createVNode"])("span",null,"")],-1),Em=Object(o["createTextVNode"])(" Add notes "),Fm=Object(o["createVNode"])("p",null,null,-1),Rm={id:"table-notes",style:{width:"100%"}},Lm=Object(o["createVNode"])("caption",{style:{"font-size":"1.2em"}}," Notes ",-1),Mm=Object(o["createVNode"])("p",null,null,-1),Hm={class:"table-inner-notes",id:"notes-HCZ"},Um={class:"date-td today-td"},qm={class:"date-td today-td"},Gm=Object(o["createTextVNode"])(" X "),zm=Object(o["createTextVNode"])(" cancel "),Ym=Object(o["createTextVNode"])(" Clear Session Prescription "),Wm=Object(o["createTextVNode"])(" Continue ");Object(o["popScopeId"])();var Km=Tm((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-col"),s=Object(o["resolveComponent"])("ion-row"),u=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("ion-checkbox"),p=Object(o["resolveComponent"])("ion-button"),b=Object(o["resolveComponent"])("view-port"),h=Object(o["resolveComponent"])("ion-content"),f=Object(o["resolveComponent"])("ion-footer"),m=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(m,null,{default:Tm((function(){return[Object(o["createVNode"])(l,null,{default:Tm((function(){return[Object(o["createVNode"])(u,null,{default:Tm((function(){return[Object(o["createVNode"])(s,null,{default:Tm((function(){return[Object(o["createVNode"])(c,null,{default:Tm((function(){return[Im]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:Tm((function(){return[Object(o["createVNode"])(b,null,{default:Tm((function(){return[e.drugs?(Object(o["openBlock"])(),Object(o["createBlock"])("div",xm,[Object(o["createVNode"])("table",Sm,[Object(o["createVNode"])("tr",null,[Pm,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("th",{key:t},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t)+" ",1),Object(o["createVNode"])(s,null,{default:Tm((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{class:"col-borders",key:t},{default:Tm((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.amount||"0mg"),1)]})),_:2},1024)})),128))]})),_:2},1024)])})),128))]),Object(o["createVNode"])("tr",null,[Bm,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("td",{key:n,class:"td-current td-value"},[Object(o["createVNode"])(s,null,{default:Tm((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.drugs,(function(t,r){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:r},{default:Tm((function(){return[Object(o["createVNode"])(d,{checked:t.selected,onIonChange:function(t){return e.selectDrug(n,r,t)}},null,8,["checked","onIonChange"])]})),_:2},1024)})),128))]})),_:2},1024)])})),128))]),Object(o["createVNode"])("tr",null,[Am,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(Object.keys(e.drugs),(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("td",{class:"td-remaining td-value",key:n},[Object(o["createVNode"])(s,null,{default:Tm((function(){return[Object(o["createVNode"])(c,null,{default:Tm((function(){return[Object(o["createVNode"])(p,{onClick:function(n){return e.launchNotePad(t)},color:"warning"},{default:Tm((function(){return[Em]})),_:1},8,["onClick"])]})),_:1})]})),_:1})])})),128))])]),Fm,Object(o["createVNode"])("table",Rm,[Lm,Mm,Object(o["createVNode"])("tr",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("th",{style:{width:"25%"},key:t},[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(t),1)])})),128))]),Object(o["createVNode"])("tr",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(Object.keys(e.drugs),(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("td",{id:"HCZ",style:{"padding-top":"2px !important"},valign:"top",key:n},[Object(o["createVNode"])("table",Hm,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs[t].notes,(function(n,r){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:r},[Object(o["createVNode"])("td",Um,Object(o["toDisplayString"])(n.date),1),Object(o["createVNode"])("td",qm,Object(o["toDisplayString"])(n.description),1),Object(o["createVNode"])("td",null,[n.isNewNote?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,color:"danger",onClick:function(n){return e.removeNote(t,r)}},{default:Tm((function(){return[Gm]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)])])})),128))])])})),128))])])])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(f,null,{default:Tm((function(){return[Object(o["createVNode"])(u,{color:"dark"},{default:Tm((function(){return[Object(o["createVNode"])(p,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:Tm((function(){return[zm]})),_:1},8,["onClick"]),e.canClearHtnSessionPrescription?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,size:"large",color:"warning",slot:"end",onClick:e.clearPrescriptionInSession},{default:Tm((function(){return[Ym]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),e.selectedDrugs&&e.selectedDrugs.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,size:"large",color:"success",slot:"end",onClick:e.onFinish},{default:Tm((function(){return[Wm]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})})),$m=(n("a434"),n("0a79")),Jm=n("e6e9"),Xm=Object(o["defineComponent"])({mixins:[y["a"]],components:{ViewPort:$m["a"],IonToolbar:Ie["N"],IonHeader:Ie["q"],IonContent:Ie["n"],IonRow:Ie["F"],IonButton:Ie["d"],IonCol:Ie["m"],IonFooter:Ie["o"],IonPage:Ie["B"],IonCheckbox:Ie["k"]},watch:{ready:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e?(this.HTN=new V["a"](this.patientID,this.providerID),this.drugs=this.HTN.getDrugs(),[4,this.HTN.getCurrentDrugs()]):[3,2];case 1:t=r.sent(),n=t.drugs,i=t.notes,this.setPreviousBpDrugs(n),this.setPreviousBpNotes(i),this.canClearHtnSessionPrescription=this.patientHasHtnSessionKey(),r.label=2;case 2:return[2]}}))}))},immediate:!0}},data:function(){return{HTN:{},drugs:null,canClearHtnSessionPrescription:!1}},methods:{clearPrescriptionInSession:function(){sessionStorage.removeItem(V["b"].Prescription),this.canClearHtnSessionPrescription=!1},patientHasHtnSessionKey:function(){try{var e=sessionStorage.getItem(V["b"].Prescription);if(e){var t=JSON.parse(e);return t[this.patientID]}}catch(n){console.warn(n)}return!1},removeNote:function(e,t,n){this.drugs[e].notes.splice(n,1)},launchNotePad:function(e){var t=this;this.showModal({id:"note",helpText:"Add notes for "+e,type:s["b"].TT_TEXT},(function(n){n&&t.drugs[e].notes.push({date:D["a"].getSessionDate(),description:n.value||"",drugID:t.drugs[e].drugs[0].drugID,isNewNote:!0})}))},onFinish:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:if(e=Object.values(this.drugs).filter((function(e){return!Object(h["isEmpty"])(e.notes)})).map((function(e){return e.notes})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e.isNewNote})).map((function(e){return o.HTN.buildObs("Clinician notes",{value_text:e.description,value_drug:e.drugID})})),Object(h["isEmpty"])(e))return[3,6];r.label=1;case 1:return r.trys.push([1,5,,6]),[4,this.HTN.createEncounter()];case 2:return r.sent(),n=(t=this.HTN).saveObservationList,[4,Promise.all(e)];case 3:return[4,n.apply(t,[r.sent()])];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),[2,Object(_["e"])("Unable to save notes "+i)];case 6:return this.gotoTreatment(),[2]}}))}))},gotoTreatment:function(){var e=this.selectedDrugs.map((function(e){return Object(h["find"])(V["a"].htnDrugReferences(),{drug_id:e.drugID})})),t={};t[this.patientID]=e,sessionStorage.setItem(V["b"].Prescription,JSON.stringify(t)),this.$router.push("/art/encounters/prescriptions/"+this.patientID)},showModal:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,Ie["U"].create({component:Jm["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})];case 1:return n=r.sent(),n.present(),[2]}}))}))},setPreviousBpNotes:function(e){var t=function(t){n.drugs[t].notes=Object.keys(e[t]).map((function(n){return e[t][n].map((function(e){return{date:n,description:e,isNewNote:!1}}))})).reduce((function(e,t){return e.concat(t)}),[])},n=this;for(var r in e)t(r)},setPreviousBpDrugs:function(e){var t=this;e.forEach((function(e){var n=function(n){t.drugs[n].drugs.forEach((function(r,i){e.drug_id===r.drugID&&(t.drugs[n].drugs[i].current=!0,t.drugs[n].drugs[i].selected=!0,t.drugs[n].selected=e.drug_id)}))};for(var r in t.drugs)n(r)}))},selectDrug:function(e,t,n){var r=this;this.drugs[e].drugs.forEach((function(t,n){r.drugs[e].drugs[n].selected=!1})),this.drugs[e].drugs[t].selected=n.detail.checked}},computed:{selectedDrugs:function(){return this.drugs?Object.values(this.drugs).map((function(e){return e.drugs})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e.selected})):[]}}});n("c2f2");const Qm=I()(Xm,[["render",Km],["__scopeId","data-v-7217b18a"]]);var Zm=Qm;function eg(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-standard-form");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!1,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var tg=n("fde0"),ng=Object(o["defineComponent"])({mixins:[y["a"]],components:{HisStandardForm:ue["a"]},data:function(){return{socialHistory:{},obs:[]}},watch:{patient:{handler:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return this.socialHistory=new tg["a"](this.patientID,this.providerID),e=this,[4,this.getFields()];case 1:return e.fields=t.sent(),[2]}}))}))},deep:!0}},methods:{onFinish:function(e){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(i){switch(i.label){case 0:return[4,this.socialHistory.createEncounter()];case 1:return e=i.sent(),e?[4,Promise.all(Object(r["f"])(this.obs))]:[2,Object(_["e"])("Unable to create encounter")];case 2:return t=i.sent(),[4,this.socialHistory.saveObservationList(t)];case 3:return n=i.sent(),n?(Object(_["d"])("Observations and encounter created!"),this.nextTask(),[2]):[2,Object(_["e"])("Unable to save patient observations")]}}))}))},getFields:function(){var e=this;return[{id:"smoking_history",helpText:"Have you ever smoked cigarettes?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueCoded("SMOKE_HIS",t.value)),[2]}))}))}},{id:"number_of_cigarettes",helpText:"Number of cigarettes smoked per day",type:s["b"].TT_NUMBER,validation:function(e){return u["a"].rangeOf(e,1,90)},condition:function(e){return"Yes"===e.smoking_history.value},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueNumber("Number of cigarettes smoked per day",t.value)),[2]}))}))}},{id:"smoking_duration",helpText:"How long have you been smoking?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.smoking_history.value},options:function(){return[{label:"Less than five years",value:"Less than five years"},{label:"Five years or more",value:"Five years or more"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueText("Smoking duration",t.value)),[2]}))}))}},{id:"current_smoker",helpText:"Do you still smoke?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.smoking_history.value},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueCoded("Current smoker",t.value)),[2]}))}))}},{id:"alcohol_history",helpText:"Do you drink alcohol?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueCoded("Does the patient drink alcohol?",t.value)),[2]}))}))}},{id:"number_of_drinks",helpText:"How many alcoholic drinks do you have per day?",type:s["b"].TT_NUMBER,validation:function(e){return u["a"].required(e)},condition:function(e){return"Yes"===e.alcohol_history.value},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueNumber("Alcoholic drinks per day",t.value)),[2]}))}))}},{id:"number_of_days_drank",helpText:"Number of days per week alcohol is used?",type:s["b"].TT_NUMBER,validation:function(e){return u["a"].rangeOf(e,1,7)},condition:function(e){return"Yes"===e.alcohol_history.value},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueNumber("Number of days per week alcohol is used",t.value)),[2]}))}))}},{id:"exercise",helpText:"Do you do any physical exercise?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueCoded("Physical Exercises",t.value)),[2]}))}))}},{id:"employment",helpText:"Type of employment?",type:s["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Active",value:"Active"},{label:"Sedentary",value:"Sedentary"}]},unload:function(t){return Object(r["b"])(e,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return this.obs.push(this.socialHistory.buildValueText("Type of employment",t.value)),[2]}))}))}}]}}});const rg=I()(ng,[["render",eg]]);var ig=rg,og=Object(o["withScopeId"])("data-v-15839c59");Object(o["pushScopeId"])("data-v-15839c59");var ag=Object(o["createVNode"])("label",{class:"his-title"}," BP Drug management ",-1),cg={key:0,class:"view-port-content"},sg={id:"main-table",style:{width:"100%"}},ug=Object(o["createVNode"])("th",null,"",-1),lg=Object(o["createVNode"])("td",{class:"td-current td-title"},[Object(o["createVNode"])("span",null,"Current")],-1),dg=Object(o["createVNode"])("td",{class:"td-remaining td-title"},[Object(o["createVNode"])("span",null,"Pills remaining")],-1),pg=Object(o["createVNode"])("p",null,null,-1),bg={id:"table-notes",style:{width:"100%"}},hg=Object(o["createVNode"])("caption",{style:{"font-size":"1.4em"}}," Adherence summary ",-1),fg=Object(o["createVNode"])("p",null,null,-1),mg=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{style:{width:"25%"}},[Object(o["createVNode"])("span",null,"Drug")]),Object(o["createVNode"])("th",{style:{width:"25%"}},[Object(o["createVNode"])("span",null,"Pills dispensed during last visit")]),Object(o["createVNode"])("th",{style:{width:"25%"}},[Object(o["createVNode"])("span",null,"Expected pills remaining")]),Object(o["createVNode"])("th",{style:{width:"25%"}},[Object(o["createVNode"])("span",null,"Adherence for drug")])],-1),gg={class:"date-td today-td"},Og={class:"date-td today-td"},vg={class:"date-td today-td"},_g={class:"date-td today-td"},jg=Object(o["createTextVNode"])(" cancel "),yg=Object(o["createTextVNode"])(" Change drugs "),wg=Object(o["createTextVNode"])(" Continue ");Object(o["popScopeId"])();var Ng=og((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-col"),s=Object(o["resolveComponent"])("ion-row"),u=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("ion-checkbox"),p=Object(o["resolveComponent"])("ion-input"),b=Object(o["resolveComponent"])("view-port"),h=Object(o["resolveComponent"])("ion-content"),f=Object(o["resolveComponent"])("ion-button"),m=Object(o["resolveComponent"])("ion-footer"),g=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(g,null,{default:og((function(){return[Object(o["createVNode"])(l,null,{default:og((function(){return[Object(o["createVNode"])(u,null,{default:og((function(){return[Object(o["createVNode"])(s,null,{default:og((function(){return[Object(o["createVNode"])(c,null,{default:og((function(){return[ag]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:og((function(){return[Object(o["createVNode"])(b,null,{default:og((function(){return[e.drugs?(Object(o["openBlock"])(),Object(o["createBlock"])("div",cg,[Object(o["createVNode"])("table",sg,[Object(o["createVNode"])("tr",null,[ug,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("th",{key:t},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t)+" ",1),Object(o["createVNode"])(s,null,{default:og((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{class:"col-borders",key:t},{default:og((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.amount||"0mg"),1)]})),_:2},1024)})),128))]})),_:2},1024)])})),128))]),Object(o["createVNode"])("tr",null,[lg,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("td",{class:"td-current td-value",key:t},[Object(o["createVNode"])(s,null,{default:og((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:t},{default:og((function(){return[e.current?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:0,checked:e.current,disabled:""},null,8,["checked"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)})),128))]})),_:2},1024)])})),128))]),Object(o["createVNode"])("tr",null,[dg,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugs,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("td",{key:n,class:"td-current td-value"},[Object(o["createVNode"])(s,null,{default:og((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.drugs,(function(t,r){return Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:r},{default:og((function(){return[t.dispensed?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,type:"number",modelValue:t.remaining,"onUpdate:modelValue":function(e){return t.remaining=e},onClick:function(t){return e.launchKeyPad(n,r)}},null,8,["modelValue","onUpdate:modelValue","onClick"])):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)})),128))]})),_:2},1024)])})),128))])]),pg,Object(o["createVNode"])("table",bg,[hg,fg,mg,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.selectedDrugs,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:t,class:"dispensation-row"},[Object(o["createVNode"])("td",gg,Object(o["toDisplayString"])(e.drugName),1),Object(o["createVNode"])("td",Og,Object(o["toDisplayString"])(e.dispensed),1),Object(o["createVNode"])("td",vg,Object(o["toDisplayString"])(e.expectedRemaining),1),Object(o["createVNode"])("td",_g,Object(o["toDisplayString"])(e.adherence?e.adherence+" %":"?"),1)])})),128))])])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:og((function(){return[Object(o["createVNode"])(u,{color:"dark"},{default:og((function(){return[Object(o["createVNode"])(f,{size:"large",color:"danger",slot:"start",onClick:e.gotoPatientDashboard},{default:og((function(){return[jg]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{size:"large",color:"primary",slot:"end",onClick:e.goToPrescription},{default:og((function(){return[yg]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{size:"large",color:"success",slot:"end",onClick:e.onFinish},{default:og((function(){return[wg]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),Cg=n("10be"),Vg=Object(o["defineComponent"])({mixins:[y["a"]],components:{ViewPort:$m["a"],IonToolbar:Ie["N"],IonHeader:Ie["q"],IonContent:Ie["n"],IonRow:Ie["F"],IonInput:Ie["t"],IonButton:Ie["d"],IonCol:Ie["m"],IonFooter:Ie["o"],IonPage:Ie["B"],IonCheckbox:Ie["k"]},watch:{ready:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e?(this.HTN=new V["a"](this.patientID,this.providerID),this.drugs=this.HTN.getDrugs(),[4,this.getCurrentDrugs()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},immediate:!0}},data:function(){return{HTN:{},drugs:null}},methods:{onFinish:function(){this.selectNextAction()},goToPrescription:function(){this.$router.push("/art/encounters/bp_prescription/"+this.patientID)},gotoTreatment:function(){var e=this.selectedDrugs.map((function(e){return Object(h["find"])(V["a"].htnDrugReferences(),{drug_id:e.drugID})})),t={};t[this.patientID]=e,sessionStorage.setItem(V["b"].Prescription,JSON.stringify(t)),this.$router.push("/art/encounters/prescriptions/"+this.patientID)},selectNextAction:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,Object(w["c"])("Action confirmation","Please specify how to proceed with patient",["Continue with current BP Drugs","Continue without BP Drugs","Change BP drugs"],[{name:"Cancel",color:"danger",slot:"start"},{name:"Confirm",color:"primary",slot:"end",role:"action"}])];case 1:if(e=t.sent(),e.selection&&"Cancel"!=e.action)switch(e.selection){case"Continue without BP Drugs":return sessionStorage.removeItem(V["b"].Prescription),[2,this.nextTask()];case"Continue with current BP Drugs":return[2,this.gotoTreatment()];case"Change BP drugs":this.goToPrescription()}return[2]}}))}))},getCurrentDrugs:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n=this;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.HTN.getCurrentDrugs()];case 1:return e=r.sent(),[4,this.HTN.getLastDrugs()];case 2:return t=r.sent(),e.drugs.forEach((function(e){var r=function(r){n.drugs[r].drugs.forEach((function(i,o){e.drug_id===i.drugID&&(n.drugs[r].drugs[o].current=!0,n.drugs[r].drugs[o].selected=!0,n.drugs[r].selected=e.drug_id);var a=n.drugs[r].drugs[o].drugName;Object.prototype.hasOwnProperty.call(t,a)&&(n.drugs[r].drugs[o].expectedRemaining=t[a].remaining,n.drugs[r].drugs[o].dispensed=t[a].value_numeric)}))};for(var i in n.drugs)r(i)})),[2]}}))}))},launchKeyPad:function(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i=this;return Object(r["d"])(this,(function(o){switch(o.label){case 0:return[4,Ie["U"].create({component:Cg["a"],backdropDismiss:!1,cssClass:"keypad-modal",componentProps:{strictNumbers:!0,onKeyPress:function(n){return Object(r["b"])(i,void 0,void 0,(function(){var i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.HTN.getAdherence(this.drugs[e].drugs[t].drugID,n)];case 1:return i=r.sent(),this.drugs[e].drugs[t].adherence=i.adherence,this.drugs[e].drugs[t].remaining=n,[2]}}))}))}}})];case 1:return n=o.sent(),n.present(),[2]}}))}))}},computed:{selectedDrugs:function(){return Object.values(this.drugs).map((function(e){return e.drugs})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e.dispensed}))}}});n("abd7");const Dg=I()(Vg,[["render",Ng],["__scopeId","data-v-15839c59"]]);var kg=Dg,Tg=[{name:"preferences",path:"/art/preferences",component:function(){return n.e("chunk-138b25ac").then(n.bind(null,"b236"))}},{name:i["a"].CLINIC_HOLIDAYS,path:"/art/preferences/clinic_holidays",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:"bp_thresholds",path:"/art/preferences/bp_thresholds",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:"clinic_days",path:"/art/preferences/clinic_days",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:"cervical_cancer",path:"/art/preferences/cervical_cancer_screening",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:i["a"].HTN_SCREENING_AGE_THRESHOLD,path:"/art/preferences/htn_age",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:i["a"].FILING_NUMBER_LIMIT,path:"/art/preferences/fn/limit",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:i["a"].APPOINTMENT_LIMIT,path:"/art/preferences/appointment/limit",component:function(){return n.e("chunk-2d0b5f74").then(n.bind(null,"1ac1"))}},{name:"art_patient_visit_stats",path:"/art/patient_visits",component:function(){return n.e("chunk-2d238053").then(n.bind(null,"fe31"))}},{name:"filing management",path:"/art/filing_numbers/:patient_id",component:function(){return n.e("chunk-2d0aaf0b").then(n.bind(null,"12c7"))}},{name:"Enter stock",path:"/art/stock/enter",component:function(){return n.e("chunk-2d0e8890").then(n.bind(null,"8a4e"))}},{name:"Audit trail",path:"/art/stock/trail",component:function(){return n.e("chunk-2d0cc7e7").then(n.bind(null,"4dbc"))}},{name:"Verify stock",path:"/art/stock/verify",component:function(){return n.e("chunk-2d0e2514").then(n.bind(null,"7dd5"))}},{name:"Move stock",path:"/art/stock/move",component:function(){return n.e("chunk-2d0d5c2c").then(n.bind(null,"7052"))}},{name:"Print drug barcode",path:"/drug/print",component:function(){return n.e("chunk-2d228961").then(n.bind(null,"da8f"))}},{name:"treatment",path:"/art/encounters/prescriptions/:patient_id",component:S},{name:"bp_alert",path:"/art/encounters/bp/alert/:patient_id",component:function(){return n.e("chunk-4a86bb9e").then(n.bind(null,"7337"))}},{name:"art adherence",path:"/art/encounters/adherence/:patient_id",component:we},{name:"hiv clinic consultation",path:"/art/encounters/consultation/:patient_id",component:at},{name:"hiv clinic registration",path:"/art/encounters/registration/:patient_id",component:ce},{name:"hiv reception",path:"/art/encounters/reception/:patient_id",component:mt},{name:"hiv staging",path:"/art/encounters/staging/:patient_id",component:_t},{name:"appointment",path:"/art/encounters/appointment/:patient_id",component:fe},{name:"dispensing",path:"/art/encounters/dispensation/:patient_id",component:lt},{name:"vitals",path:"/art/encounters/vitals/:patient_id",component:jt["default"]},{name:"htn_vitals",path:"/art/encounters/vitals/:patient_id",component:jt["default"]},{name:"patient type",path:"/art/encounters/patient_type/:patient_id",component:Vt},{name:"fast track assesment",path:"/art/encounters/fast_track/:patient_id",component:xt},{name:"bp_management",path:"/art/encounters/bp_management/:patient_id",component:nn},{name:"Hypertesnion diagnosis",path:"/art/encounters/hypertension_diagnosis/:patient_id",component:km},{name:"BP prescription",path:"/art/encounters/bp_prescription/:patient_id",component:Zm},{name:"Social history",path:"/art/encounters/social_history/:patient_id",component:ig},{name:"BP adherence",path:"/art/encounters/bp_adherence/:patient_id",component:kg},{name:"lab activities",path:"/art/encounters/lab/:patient_id",component:cn},{name:"patient mstercard",path:"/art/mastercard/:patient_id",component:Mn},{name:"Data cleaning",path:"/data_cleaning",component:Nm},{path:"/art/report/moh",component:um,children:[{name:"moh_cohort",path:"moh_cohort",component:om},{name:"moh_disaggregated",path:"moh_disaggregated",component:qi},{name:"moh_survial_analysis",path:"moh_survial_analysis",component:$i},{name:"moh_tpt_new_initiations",path:"moh_tpt_new_initiations",component:Zi},{name:"moh_tx_curr_mmd",path:"moh_tx_curr_mmd",component:ro},{name:"moh_regimen_weight_distribution",path:"moh_regimen_weight_distribution",component:co}]},{path:"/art/report/clinic",component:um,children:[{name:"clinic_archiving_candidates",path:"clinic_archiving_candidates",component:Ri},{name:"clinic_retention_report",path:"clinic_retention_report",component:pi},{name:"clinic_external_consultation_report",path:"clinic_external_consultation_report",component:mi},{name:"clinic_due_viral_load_report",path:"clinic_due_viral_load_report",component:si},{name:"clinic_lab_results",path:"clinic_lab_results",component:Pi},{name:"clinic_missed_appointments",path:"clinic_missed_appointments",component:Ur},{name:"clinic_defaulters_report",path:"clinic_defaulters",component:Yr},{name:"clinic_regimen_report",path:"clinic_regimen_report",component:Jr},{name:"clinic_regimen_switch",path:"clinic_regimen_switch",component:ei},{name:"clinic_pregnant_patients",path:"clinic_pregnant_patients",component:ii},{name:"clinic_appointments",path:"clinic_appointments",component:vm},{name:"stock_card_report",path:"stock_card_report",component:hm},{name:"clinic_viral_load",path:"clinic_viral_load",component:_i},{name:"clinic_other_outcome_list",path:"clinic_other_outcome_list",component:Ni},{name:"clinic_regimen_formulation",path:"clinic_regimen_formulation",component:ki}]},{path:"/art/report/pepfar",component:um,children:[{name:"pepfar_disaggregated_report",path:"disaggregated",component:Xn},{name:"pepfar_defaulters_report",path:"defaulters",component:nr},{name:"pepfar_regimen_report",path:"regimens",component:lr},{name:"pepfar_regimen_switch",path:"regimen_switch",component:hr},{name:"pepfar_tb_prev_report",path:"tb_prev",component:Cr},{name:"pepfar_tx_curr_mmd_report",path:"tx_cur_mmd",component:Ir},{name:"pepfar_tx_ml_report",path:"tx_ml",component:Br},{name:"pepfar_tx_rtt",path:"tx_rtt",component:Rr},{name:"pepfar_vl_coverage",path:"pepfar_vl_coverage",component:_r}]}],Ig=Object(o["withScopeId"])("data-v-744b1c34");Object(o["pushScopeId"])("data-v-744b1c34");var xg=Object(o["createVNode"])("p",null,"Complete / incomplete visits: last 5 days",-1),Sg=Object(o["createVNode"])("p",null,"Encounters created today",-1),Pg=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th"),Object(o["createVNode"])("th",null,"Female"),Object(o["createVNode"])("th",null,"Male"),Object(o["createVNode"])("th",null,"Me"),Object(o["createVNode"])("th",null,"Facility")],-1),Bg={class:"encounter-td"},Ag={class:"other-td"},Eg={class:"other-td"},Fg={class:"other-td"},Rg={class:"other-td"};Object(o["popScopeId"])();var Lg=Ig((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("apexchart"),s=Object(o["resolveComponent"])("ion-col"),u=Object(o["resolveComponent"])("ion-row"),l=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(l,null,{default:Ig((function(){return[Object(o["createVNode"])(u,null,{default:Ig((function(){return[Object(o["createVNode"])(s,{"size-lg":"6","size-sm":"12"},{default:Ig((function(){return[xg,Object(o["createVNode"])(c,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]})),_:1}),Object(o["createVNode"])(s,{"size-lg":"6","size-sm":"12"},{default:Ig((function(){return[Sg,Object(o["createVNode"])("table",null,[Pg,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.rows,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:n},[Object(o["createVNode"])("td",Bg,Object(o["toDisplayString"])(e.encounters[t.encounter]),1),Object(o["createVNode"])("td",Ag,Object(o["toDisplayString"])(t.female),1),Object(o["createVNode"])("td",Eg,Object(o["toDisplayString"])(t.male),1),Object(o["createVNode"])("td",Fg,Object(o["toDisplayString"])(t.me),1),Object(o["createVNode"])("td",Rg,Object(o["toDisplayString"])(t.facility),1)])})),128))])]})),_:1})]})),_:1})]})),_:1})})),Mg=n("156d"),Hg=Object(o["defineComponent"])({data:function(){return{dayjs:te.a,startDate:"",endDate:"",options:{chart:{id:"vuechart-example"},xaxis:{categories:["","","","",""]}},series:[{name:"complete",data:[0,0,0,0,0]},{name:"incomplete",data:[0,0,0,0,0]}],rows:[{}],encounters:{9:"HIV clinic registration",51:"HIV reception",6:"Vitals",52:"HIV staging",53:"HIV clinic consultation",68:"ART adherence",25:"Treatment",54:"Dispensing",7:"Appointments"}}},components:{IonGrid:Ie["p"],IonRow:Ie["F"],IonCol:Ie["m"]},mounted:function(){this.endDate=this.dayjs().subtract(1,"days").format("YYYY-MM-DD"),this.startDate=this.dayjs().subtract(5,"days").format("YYYY-MM-DD"),this.getVisits(),this.getEncounters()},methods:{getVisits:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a,c=this;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return[4,Mg["b"].get("programs/1/reports/visits?name=visits&start_date="+this.startDate+"&end_date="+this.endDate)];case 1:return e=s.sent(),e&&200==e.status?[4,e.json()]:[3,3];case 2:t=s.sent(),n=Object.keys(t),i=[],o=[],n.forEach((function(e,n){i[n]=t[e].incomplete,o[n]=t[e].complete})),this.series[0].data=Object(r["f"])(o),this.series[1].data=Object(r["f"])(i),a=n.map((function(e){return c.dayjs(e).format("dddd")})),this.options=Object(r["a"])(Object(r["a"])({},this.options),{xaxis:{categories:Object(r["f"])(a)}}),s.label=3;case 3:return[2]}}))}))},getEncounters:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a,c;return Object(r["d"])(this,(function(s){switch(s.label){case 0:return e={encounter_types:Object(r["f"])(Object.keys(this.encounters).map((function(e){return parseInt(e)})))},t={all:!0,encounter_types:Object(r["f"])(Object.keys(this.encounters).map((function(e){return parseInt(e)})))},[4,Mg["b"].post("reports/encounters?date="+this.dayjs().format("YYYY-MM-DD"),e)];case 1:return n=s.sent(),[4,Mg["b"].post("reports/encounters?date="+this.dayjs().format("YYYY-MM-DD"),t)];case 2:return i=s.sent(),n&&i&&200==n.status&&200==i.status?[4,n.json()]:[3,5];case 3:return o=s.sent(),[4,i.json()];case 4:a=s.sent(),c=[],Object.keys(o).forEach((function(e){c.push({encounter:e,female:a[e]["F"],male:a[e]["M"],me:o[e]["F"]+o[e]["M"],facility:a[e]["F"]+a[e]["M"]})})),this.rows=Object(r["f"])(c),s.label=5;case 5:return[2]}}))}))}}});n("2f1c");const Ug=I()(Hg,[["render",Lg],["__scopeId","data-v-744b1c34"]]);var qg=Ug,Gg=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",files:[{name:"Cohort / disaggregated",pathName:"moh_cohort"},{name:"Disaggregated",pathName:"moh_disaggregated",condition:function(){return!1}},{name:"Regimen Distribution (Weight)",pathName:"moh_regimen_weight_distribution"},{name:"Survival analysis",pathName:"moh_survial_analysis"},{name:"TPT new initiations",pathName:"moh_tpt_new_initiations"},{name:"TX CURR MMD",pathName:"moh_tx_curr_mmd"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Active clients with adverse outcomes",pathName:"clinic_archiving_candidates"},{name:"Defaulter list",pathName:"clinic_defaulters_report"},{name:"Regimen report",pathName:"clinic_regimen_report"},{name:"Lab results",pathName:"clinic_lab_results"},{name:"Regimen switch",pathName:"clinic_regimen_switch"},{name:"Clients due for VL",pathName:"clinic_due_viral_load_report"},{name:"External consultation clients",pathName:"clinic_external_consultation_report"},{name:"Retention report",pathName:"clinic_retention_report"},{name:"Pregnant Patient",pathName:"clinic_pregnant_patients"},{name:"Missed Appointment",pathName:"clinic_missed_appointments"},{name:"VL results",pathName:"clinic_viral_load"},{name:"Other outcome list",pathName:"clinic_other_outcome_list"},{name:"Regimens and Formulation",pathName:"clinic_regimen_formulation"},{name:"Appointments",pathName:"clinic_appointments"},{name:"Stock card report",pathName:"stock_card_report",condition:function(){return i["b"].drugManagementEnabled()}}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",files:[{name:"Defaulter list",pathName:"pepfar_defaulters_report"},{name:"Disaggregated",pathName:"pepfar_disaggregated_report"},{name:"Regimen Report",pathName:"pepfar_regimen_report"},{name:"Regimen Switch",pathName:"pepfar_regimen_switch"},{name:"TB PREV",pathName:"pepfar_tb_prev_report"},{name:"TX CURR MMD",pathName:"pepfar_tx_curr_mmd_report"},{name:"TX ML",pathName:"pepfar_tx_ml_report"},{name:"TX RTT",pathName:"pepfar_tx_rtt"},{name:"Viral Load Coverage",pathName:"pepfar_vl_coverage"}]}];function zg(e,t){return{name:e,pathUrl:"/preferences?label="+e+"&property="+t}}var Yg=[{name:"Drug Management",icon:"drug.png",condition:function(){return Object(r["b"])(void 0,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=ke["a"].isAdmin(),e?[4,i["b"].drugManagementEnabled()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e]}}))}))},files:[{name:"Enter Receipts",pathUrl:"/art/stock/enter"},{name:"Enter Product relocation/Disposal",pathUrl:"/art/stock/move"},{name:"Enter verified physical stock count",pathUrl:"/art/stock/verify"},{name:"Print Barcode",pathUrl:"/drug/print"},{name:"Audit Trail",pathUrl:"/art/stock/trail"}]},{name:"System Preferences",icon:"hiv-staging.png",condition:function(){return ke["a"].isAdmin()},files:[{name:"View Systems settings",pathUrl:"/art/preferences"},zg("Activate Extended Lab",i["a"].EXTENDED_LABS),zg("Activate VL routine check",i["a"].VL_ROUTINE_CHECK),zg("Ask pills remaining at home",i["a"].PILLS_REMAINING),zg("Activate Filing Numbers",i["a"].FILING_NUMBERS),zg("Activate drug management",i["a"].DRUG_MANAGEMENT),zg("Activate Hypertension screening",i["a"].HTN_ENHANCEMENT),zg("Activate fast track",i["a"].FAST_TRACK),zg("Activate 3HP auto select",i["a"].THREE_HP_AUTO_SELECT),zg("Is this a military site?",pt["a"].MILITARY_SITE),{name:"Activate CxCa Screening",pathUrl:"/art/preferences/cervical_cancer_screening"},{name:"Set Hypertension Thresholds",pathUrl:"/art/preferences/bp_thresholds"},{name:"Set Clinic Days",pathUrl:"/art/preferences/clinic_days"},{name:"Set HTN Age",pathUrl:"/art/preferences/htn_age"},{name:"Set Appointment Limit",pathUrl:"/art/preferences/appointment/limit"},{name:"Set Filing Numbers Limit",pathUrl:"/art/preferences/fn/limit"},{name:"Set Clinic Holidays",pathUrl:"/art/preferences/clinic_holidays"}]}],Wg=[{id:"art adherence",name:"ART adherence",workflowID:"ART adherence",icon:"adherence.png"},{id:"hiv clinic consultation",name:"HIV clinic consultations",icon:"consultation.png"},{id:"hiv clinic registration",name:"Hiv clinic registration",workflowID:"HIV first visits",icon:"registration.png"},{id:"hiv reception",name:"HIV reception",workflowID:"HIV reception visits",icon:"reception.png"},{id:"hiv staging",name:"HIV staging",workflowID:"HIV staging visits",icon:"hiv-staging.png"},{id:"appointment",name:"Manage Appointments",workflowID:"Manage Appointments",icon:"appointment.png"},{id:"dispensing",name:"Drug Dispensations",workflowID:"Drug Dispensations",icon:"dispensing.png"},{id:"treatment",name:"Treatment",workflowID:"Prescriptions",icon:"prescription.png"},{id:"vitals",name:"Vitals",icon:"vitals.png"},{id:"patient type",name:"Patient Type",icon:"patient-type.png",availableOnActivitySelection:!1},{id:"fast track assesment",name:"Fast Track assesment",globalProperty:i["a"].FAST_TRACK+"=true",icon:"fast-track.png",availableOnActivitySelection:!1},{id:"bp_management",name:"bp_management",icon:"dispensing.png",globalProperty:i["a"].HTN_ENHANCEMENT+"=true"},{id:"bp_alert",name:"bp_alert",icon:"dispensing.png",globalProperty:i["a"].HTN_ENHANCEMENT+"=true"}],Kg=[{id:"master_card",name:"Master card",description:"View mastercard",action:function(e,t){var n=e.patient;t.push("/art/mastercard/"+n.patient_id)},icon:"card.png"},{id:"f_number",name:"Filing Number (Print)",description:"Print Patient Filing Number",globalProperty:i["a"].FILING_NUMBERS+"=true",action:function(e){var t=e.patient,n=new de["a"](t.patient_id);return n.printFilingNumberLbl()},icon:"folder.png"},{id:"archive_client",name:"Archive client",description:"Archive a client",action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/"+n.patient_id+"?archive=true")},condition:function(e){var t=e.patient;return Object(r["b"])(void 0,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){return[2,new un["a"](t).hasActiveFilingNumber()]}))}))},globalProperty:i["a"].FILING_NUMBERS+"=true",icon:"archive.png"},{id:"assign_filing_number",name:"Assign filing number",description:"Assign a new filing number",condition:function(e){var t=e.patient;return Object(r["b"])(void 0,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(n){return e=new un["a"](t),[2,e.hasDormantFilingNumber()||!e.hasActiveFilingNumber()]}))}))},action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/"+n.patient_id+"?assign=true")},globalProperty:i["a"].FILING_NUMBERS+"=true",icon:"archive.png"},{id:"filing_number_trail",name:"View filing number trail",description:"view trail",action:function(e,t){var n=e.patient;t.push("/art/filing_numbers/"+n.patient_id+"?trail=true")},globalProperty:i["a"].FILING_NUMBERS+"=true",icon:"folder.png"}],$g=Object(o["withScopeId"])("data-v-06941648");Object(o["pushScopeId"])("data-v-06941648");var Jg=Object(o["createTextVNode"])("Select activities"),Xg=Object(o["createTextVNode"])("finish");Object(o["popScopeId"])();var Qg=$g((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),u=Object(o["resolveComponent"])("ion-header"),l=Object(o["resolveComponent"])("ion-checkbox"),d=Object(o["resolveComponent"])("ion-col"),p=Object(o["resolveComponent"])("ion-row"),b=Object(o["resolveComponent"])("ion-grid"),h=Object(o["resolveComponent"])("ion-content"),f=Object(o["resolveComponent"])("ion-button"),m=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,null,{default:$g((function(){return[Object(o["createVNode"])(s,null,{default:$g((function(){return[Object(o["createVNode"])(c,null,{default:$g((function(){return[Jg]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(h,null,{default:$g((function(){return[Object(o["createVNode"])(b,null,{default:$g((function(){return[Object(o["createVNode"])(p,null,{default:$g((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.multiViewActivities,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:n,size:e.singleView?12:6},{default:$g((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"his-card clickable",key:t,onClick:function(t){return e.selected=!e.selected}},[Object(o["createVNode"])(p,null,{default:$g((function(){return[Object(o["createVNode"])(d,{size:"1",style:{"border-right":"1px solid gray",mouse:""}},{default:$g((function(){return[Object(o["createVNode"])(l,{modelValue:e.selected,"onUpdate:modelValue":function(t){return e.selected=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:2},1024),Object(o["createVNode"])(d,{class:"ion-text-center"},{default:$g((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)],8,["onClick"])})),128))]})),_:2},1032,["size"])})),128))]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:$g((function(){return[Object(o["createVNode"])(s,null,{default:$g((function(){return[Object(o["createVNode"])(f,{onClick:e.postActivities,color:"success",disabled:0==e.selectedActivities.length,size:"large",style:{float:"right"}},{default:$g((function(){return[Xg]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})],64)})),Zg=(n("841c"),Object(o["defineComponent"])({name:"Modal",props:{activities:{type:Object,required:!0},title:{type:String,default:""}},watch:{activities:{handler:function(e){e&&(this.appActivities=Object(r["f"])(e),this.getActivities())},immediate:!0}},methods:{getActivities:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Mg["b"].get("/user_properties?property=activities")];case 1:return e=n.sent(),e&&200===e.status?[3,2]:(Object(_["e"])("Could not get user activities"),[3,4]);case 2:return[4,e.json()];case 3:t=n.sent(),this.appActivities=this.appActivities.map((function(e){return t.property_value.search(e.value)>=0&&(e.selected=!0),e})),n.label=4;case 4:return[2]}}))}))},postActivities:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return e={property:"activities",property_value:this.selectedActivities},[4,Mg["b"].post("/user_properties",e)];case 1:return t=n.sent(),t&&201===t.status?[3,2]:(Object(_["e"])("Could not save activities"),[3,4]);case 2:return[4,Ie["U"].dismiss()];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}},computed:{selectedActivities:function(){return this.appActivities.filter((function(e){return 1==e.selected})).map((function(e){return e.value})).join(",")},singleView:function(){var e=this.appActivities.length;return!(e>this.splitFactor)},multiViewActivities:function(){var e=this.singleView?this.appActivities.length:Math.ceil(this.appActivities.length/2);return Object(h["chunk"])(this.appActivities,e)}},data:function(){return{content:"Content",appActivities:[],splitFactor:7}},components:{IonButton:Ie["d"],IonContent:Ie["n"],IonHeader:Ie["q"],IonTitle:Ie["M"],IonToolbar:Ie["N"],IonCheckbox:Ie["k"]}}));n("0ff4");const eO=I()(Zg,[["render",Qg],["__scopeId","data-v-06941648"]]);var tO=eO,nO=n("50e7");function rO(e,t){return void 0===t&&(t="Malawi ART side effects"),Object(r["b"])(this,void 0,void 0,(function(){var n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,Ve["a"].getObservations(e,E["a"].getCachedConceptID(t))];case 1:return n=r.sent(),[2,n.filter((function(e){try{return e.children[0].value_coded==E["a"].getCachedConceptID("Yes")}catch(t){return!1}}))]}}))}))}var iO={alertSideEffects:rO},oO=Object(o["createTextVNode"])("Stock levels (Consumption rate calculated over a 3 month period)"),aO=Object(o["createTextVNode"])("X"),cO=Object(o["createTextVNode"])("Paeds"),sO=Object(o["createTextVNode"])("Adults");function uO(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-button"),u=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),d=Object(o["resolveComponent"])("ion-label"),p=Object(o["resolveComponent"])("ion-segment-button"),b=Object(o["resolveComponent"])("ion-segment"),h=Object(o["resolveComponent"])("apexchart"),f=Object(o["resolveComponent"])("ion-content");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[oO]})),_:1}),Object(o["createVNode"])(s,{color:"danger",slot:"end",onClick:t[1]||(t[1]=function(t){return e.closeModal()})},{default:Object(o["withCtx"])((function(){return[aO]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{onIonChange:t[2]||(t[2]=function(t){return e.segmentChanged(t)}),value:e.segment},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,{value:"paeds"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[cO]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{value:"adults"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[sO]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(o["createVNode"])(f,{class:"ion-padding"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(h,{width:"100%",type:"bar",options:e.options,series:e.series},null,8,["options","series"])]})),_:1})],64)}var lO=n("3d6c"),dO=Object(o["defineComponent"])({name:"Modal",components:{IonContent:Ie["n"],IonHeader:Ie["q"],IonTitle:Ie["M"],IonToolbar:Ie["N"],IonButton:Ie["d"],IonSegment:Ie["G"],IonSegmentButton:Ie["H"]},methods:{closeModal:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,Ie["U"].dismiss()];case 1:return e.sent(),[2]}}))}))},getDrugs:function(){this.paedDrugs=lO["a"].getPaedeatricDrugs(),this.adultDrugs=lO["a"].getAdultDrugs(),this.formatDrugs()},segmentChanged:function(e){this.segment=e.detail.value,this.formatDrugs()},formatDrugs:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i=this;return Object(r["d"])(this,(function(o){return e=new lO["a"],t="paeds"===this.segment?this.paedDrugs:this.adultDrugs,n=[],this.series[0].data=Object(r["f"])(n),t.forEach((function(t){return Object(r["b"])(i,void 0,void 0,(function(){var n,i;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,e.getConsumptionRate(t.drugID)];case 1:return n=r.sent(),i=parseInt(n["stock_level_in_months"]),this.series[0].data.push({x:t.shortName,y:i}),[2]}}))}))})),[2]}))}))}},created:function(){this.getDrugs()},data:function(){return{paedDrugs:[],adultDrugs:[],segment:"paeds",options:{chart:{id:"vuechart-example"},plotOptions:{bar:{borderRadius:4,horizontal:!0,colors:{ranges:[{from:0,to:2,color:"#ff0000"},{from:2,to:4,color:"#66CDAA"},{from:4,to:1e6,color:"#ffff00"}]}}},grid:{column:{colors:["#FFFFFF","#FFFFFF","green"]}},yaxis:{min:1,max:9,fillColor:"#ffff00",tickAmount:1},xaxis:{fillColor:"#ffff00"}},series:[{name:"Available",data:[]}]}}});const pO=I()(dO,[["render",uO]]);var bO=pO,hO=n("0fa1");function fO(e,t,n){return Object(r["b"])(this,void 0,void 0,(function(){var i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return i=new Xt["a"](e),[4,i.enrollProgram()];case 1:return r.sent(),o=new rt["a"](e,-1),o.setPatientType(t),o.setLocationName(n),[4,o.createEncounter()];case 2:return r.sent(),[4,o.save()];case 3:return r.sent(),[2]}}))}))}function mO(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return e=Wg.filter((function(e){return"boolean"===typeof e.availableOnActivitySelection&&e.availableOnActivitySelection||"boolean"!=typeof e.availableOnActivitySelection})).map((function(e){return{value:e.workflowID||e.name,selected:!1}})),[4,Ie["U"].create({component:tO,cssClass:e.length>7?"large-modal":"",backdropDismiss:!1,componentProps:{activities:e}})];case 1:return t=n.sent(),t.present(),[4,t.onDidDismiss()];case 2:return n.sent(),[2]}}))}))}function gO(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,i["b"].drugManagementEnabled()];case 1:return t.sent()?[4,Ie["U"].create({component:bO,cssClass:"large-modal",backdropDismiss:!1})]:[3,4];case 2:return e=t.sent(),e.present(),[4,e.onDidDismiss()];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}function OO(e){var t=e.tests[0],n=t.result[0],r=Te["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return t.name+" "+n.value_modifier+n.value+" "+r}function vO(e){return void 0===e&&(e=""),Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return[4,mO()];case 1:return t.sent(),"HomePage"!==e?[3,3]:[4,gO()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))}function _O(e,t,n,o,a){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,fO(e,t.patient_type,t.location)];case 1:return n.sent(),"Yes"===t.relationship&&Object(hO["a"])(e,{from:"Patient Registration",to:"/guardian/registration/"+e}),[4,i["b"].filingNumbersEnabled()];case 2:return n.sent()&&Object(hO["a"])(e,{from:"Yes"===(null===t||void 0===t?void 0:t.relationship)?"Guardian Registration":"Patient Registration",to:"/art/filing_numbers/"+e+"?assign=true"}),Object(hO["b"])(e,o,a),[2,!0]}}))}))}function jO(e){return Object(r["b"])(this,void 0,Promise,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,iO.alertSideEffects(e.getID())];case 1:return t=r.sent(),[4,e.getBMI()];case 2:return n=r.sent(),[2,[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]]}}))}))}function yO(e){return[{label:"ART- Start Date",value:e.art_start_date},{label:"ARV Number",value:e.arv_number+" | Regimen: "+e.current_regimen},{label:"File Number",value:e.filing_number.number},{label:"Current Outcome",value:e.current_outcome}]}function wO(e,t){return Object(r["b"])(this,void 0,void 0,(function(){var n,i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,Te["a"].getOrders(e)];case 1:return n=r.sent(),i=function(e){return d["a"].toStandardHisFormat(e)},o=function(e){return d["a"].toStandardHisTimeFormat(e)},a=n.filter((function(e){try{return e.tests[0].name.match(/HIV/i)&&i(e.tests[0].result[0].date)===i(t)}catch(n){return!1}})),Object(h["isEmpty"])(a)?[2,n.filter((function(e){return i(e.order_date)===i(t)})).map((function(e){return{label:"Order:  "+e.specimen.name,value:o(e.order_date),other:{tableRow:[e.accession_number,e.specimen.name,o(e.order_date)]}}}))]:[2,a.map((function(e){var t=e.tests[0],n=t.result[0];return{label:OO(e),value:o(n.date),other:{tableRow:[e.accession_number,e.specimen.name,o(e.order_date)]}}}))]}}))}))}function NO(e,t){var n=this,i=e.getID();return{"PROGRAM INFORMATION":function(){return Object(r["b"])(n,void 0,void 0,(function(){var e,t,n,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e=[],[4,nO["a"].getNextTaskParams(i)];case 1:return t=r.sent(),e.push({label:"Next Task",value:t.name?""+t.name:"NONE"}),[4,D["a"].getProgramInformation(i).then((function(t){e.push({label:"ART Duration",value:t.art_duration+" month(s) "})}))];case 2:return r.sent(),[4,D["a"].getFastTrackStatus(i).then((function(t){e.push({label:"On Fast Track",value:!0===t["Continue FT"]?"Yes":"No"})}))];case 3:return r.sent(),[4,Ve["a"].getObservations(i,E["a"].getCachedConceptID("appointment date"))];case 4:return n=r.sent(),n.length>0&&(o=d["a"].toStandardHisDisplayFormat(n[0].value_datetime),e.push({label:"Next Appointment",value:o})),[2,e]}}))}))},"PATIENT IDENTIFIERS":function(){return[{label:"ARV Number",value:e.getArvNumber()},{label:"NPID",value:e.getNationalID()}]},ALERTS:function(){return jO(e)},"LAB ORDERS":function(){return Object(r["b"])(n,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return t=[],[4,Te["a"].getOrders(e.getID()).then((function(e){var n=Te["a"].getViralLoadOrders(e);n.forEach((function(e){t.push({value:OO(e),label:""})}))}))];case 1:return n.sent(),[2,t]}}))}))},OUTCOME:function(){return[{label:"Current Outcome",value:t.outcome||"N/A"}]},GUARDIAN:function(){return Object(r["b"])(n,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Fn.getGuardianDetails(e.getID())];case 1:return t=n.sent(),t?[2,t.map((function(e){return{label:e.name,value:e.relationshipType}}))]:[2,[]]}}))}))}}}var CO={init:vO,programID:1,applicationName:"ART",applicationIcon:"aids.png",applicationDescription:"HIV Client management app",appRoutes:Tg,primaryPatientActivites:Wg,secondaryPatientActivites:Kg,globalPropertySettings:Yg,programReports:Gg,homeOverviewComponent:qg,confirmationSummary:NO,formatPatientProgramSummary:yO,getPatientDashboardAlerts:jO,onRegisterPatient:_O,getPatientDashboardLabOrderCardItems:wO,programPatientIdentifiers:{"ARV Number":{id:4,name:"ARV Number",isPrimary:!0,useForSearch:!0,prefix:function(){return Object(r["b"])(void 0,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,pt["b"].sitePrefix()];case 1:return[2,e.sent()+"-ARV-"]}}))}))}},"Archived filing number":{id:18,name:"Archived filing number",isPrimary:!1,useForSearch:!1,prefix:function(){return""},globalPropertySetting:i["a"].FILING_NUMBERS+"=true"},"Filing number":{id:17,name:"Filing number",isPrimary:!1,useForSearch:!1,prefix:function(){return""},globalPropertySetting:i["a"].FILING_NUMBERS+"=true"}}},VO=CO,DO=Object(o["withScopeId"])("data-v-a517e22e");Object(o["pushScopeId"])("data-v-a517e22e");var kO={class:"los-overview"};Object(o["popScopeId"])();var TO=DO((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("report-table");return Object(o["openBlock"])(),Object(o["createBlock"])("div",kO,[Object(o["createVNode"])(c,{rows:e.rows,columns:e.columns},null,8,["rows","columns"])])})),IO=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.overviewStats=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return e={},[4,this.ordersMade("ordered")];case 1:return t=r.sent(),[4,this.ordersMade("drawn")];case 2:return n=r.sent(),t.forEach((function(t){t.name in e||(e[t.name]={ordered:0}),e[t.name].ordered+=1})),n.forEach((function(t){t.name in e||(e[t.name]={drawn:0}),e[t.name].drawn||(e[t.name].drawn=0),e[t.name].drawn+=1})),[2,e]}}))}))},t.ordersMade=function(t){return e.getJson.call(this,"orders_made",{date:e.getSessionDate.call(this),status:t,start_date:e.getSessionDate.call(this),end_date:e.getSessionDate.call(this),program_id:e.getProgramID.call(this)})},t}(p["d"]),xO=Object(o["defineComponent"])({components:{ReportTable:Qt["a"]},data:function(){return{rows:[],columns:[[nt["a"].thTxt("Test"),nt["a"].thTxt("Ordered"),nt["a"].thTxt("Drawn")]]}},created:function(){this.setRows()},methods:{setRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,IO.overviewStats()];case 1:if(e=r.sent(),!Object(h["isEmpty"])(e))for(t in e)n=e[t],this.rows.push([nt["a"].td(t),nt["a"].td(n.ordered),nt["a"].td(n.drawn)]);return[2]}}))}))}}});n("133d");const SO=I()(xO,[["render",TO],["__scopeId","data-v-a517e22e"]]);var PO=SO,BO=Object(o["createVNode"])("p",null,null,-1),AO=Object(o["createTextVNode"])("Open"),EO=Object(o["createTextVNode"])("Drawn"),FO=Object(o["createVNode"])("p",null,null,-1),RO={style:{overflowX:"auto",height:"84%"}},LO=Object(o["createVNode"])("b",null,"Select specimen",-1),MO=Object(o["createTextVNode"])(" Close "),HO=Object(o["createTextVNode"])(" Submit ");function UO(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-label"),s=Object(o["resolveComponent"])("ion-segment-button"),u=Object(o["resolveComponent"])("ion-segment"),l=Object(o["resolveComponent"])("report-table"),d=Object(o["resolveComponent"])("ion-title"),p=Object(o["resolveComponent"])("ion-toolbar"),b=Object(o["resolveComponent"])("ion-header"),h=Object(o["resolveComponent"])("ion-radio"),f=Object(o["resolveComponent"])("ion-item"),m=Object(o["resolveComponent"])("ion-radio-group"),g=Object(o["resolveComponent"])("ion-list"),O=Object(o["resolveComponent"])("ion-col"),v=Object(o["resolveComponent"])("ion-chip"),_=Object(o["resolveComponent"])("ion-row"),j=Object(o["resolveComponent"])("ion-content"),y=Object(o["resolveComponent"])("ion-button"),w=Object(o["resolveComponent"])("ion-footer"),N=Object(o["resolveComponent"])("ion-page"),C=Object(o["resolveComponent"])("ion-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[BO,Object(o["createVNode"])(u,{mode:"ios",scrollable:"",value:e.activeTab,class:"ion-justify-content-center"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{value:"openOrders",onClick:t[1]||(t[1]=function(t){return e.activeTab="openOrders"})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[AO]})),_:1})]})),_:1}),Object(o["createVNode"])(s,{value:"drawnOrders",onClick:t[2]||(t[2]=function(t){return e.activeTab="drawnOrders"})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[EO]})),_:1})]})),_:1})]})),_:1},8,["value"]),FO,Object(o["createVNode"])("div",RO,["openOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,rows:e.labOrderRows,columns:e.openColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0),"drawnOrders"===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:1,rows:e.drawnOrders,columns:e.drawnColumns},null,8,["rows","columns"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(C,{"is-open":e.showSpecimenModal,class:"custom-modal"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(N,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[LO]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,{class:"ion-padding"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(_,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.specimens,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:n},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,null,{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.name),1)]})),_:2},1024),Object(o["createVNode"])(h,{slot:"start",onClick:function(n){return e.selectedSpecimen=t}},null,8,["onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.order.tests,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(f,{lines:"none",key:t},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(v,{color:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.name),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(w,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(y,{color:"danger",slot:"start",onClick:t[3]||(t[3]=function(t){e.showSpecimenModal=!1,e.selectedSpecimen={}})},{default:Object(o["withCtx"])((function(){return[MO]})),_:1}),Object(o["createVNode"])(y,{disabled:!e.selectedSpecimen.name,color:"success",slot:"end",onClick:e.drawOrder},{default:Object(o["withCtx"])((function(){return[HO]})),_:1},8,["disabled","onClick"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["is-open"])],64)}var qO=n("9c73"),GO=n("e4bd"),zO=Object(o["defineComponent"])({components:{IonTitle:Ie["M"],IonCol:Ie["m"],IonRow:Ie["F"],IonRadio:Ie["C"],IonButton:Ie["d"],IonList:Ie["w"],IonRadioGroup:Ie["D"],IonFooter:Ie["o"],IonToolbar:Ie["N"],IonHeader:Ie["q"],IonItem:Ie["u"],IonChip:Ie["l"],IonModal:Ie["A"],IonContent:Ie["n"],IonPage:Ie["B"],ReportTable:Qt["a"],IonSegment:Ie["G"],IonLabel:Ie["v"],IonSegmentButton:Ie["H"]},data:function(){return{showSpecimenModal:!1,specimens:[],order:{},selectedSpecimen:{},service:{},activeTab:"openOrders",drawnColumns:[[nt["a"].thTxt("Accession #"),nt["a"].thTxt("Test"),nt["a"].thTxt("Actions")]],openColumns:[[nt["a"].thTxt("Accession #"),nt["a"].thTxt("Test"),nt["a"].thTxt("Reason for test"),nt["a"].thTxt("Drawn"),nt["a"].thTxt("Void")]],drawnOrders:[],labOrderRows:[]}},watch:{patient:{handler:function(e){Object(h["isEmpty"])(e)||(this.service=new qO["a"](this.patient.getID()))},immediate:!0,deep:!0},visitDate:{handler:function(e){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e&&this.activeTab?(this.service.setDate(e),[4,this.init()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},immediate:!0,deep:!0}},methods:{init:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,this.service.getOrders("drawn")];case 1:return e=n.sent(),[4,this.service.getOrders("ordered")];case 2:return t=n.sent(),this.labOrderRows=this.getLabOrderRows(t),this.drawnOrders=this.getdrawnOrders(e),[2]}}))}))},drawOrder:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.service.updateOrderSpecimen(this.order.order_id,this.selectedSpecimen.concept_id)];case 1:return e=n.sent(),e?(this.drawnOrders=this.drawnOrders.concat(this.getdrawnOrders([e])),this.labOrderRows.splice(this.order.orderIndex,1),this.showSpecimenModal=!1,[2,this.service.printSpecimenLabel(this.order.order_id)]):[3,3];case 2:return t=n.sent(),console.error(t),[3,3];case 3:return Object(_["c"])("Unable to draw sample"),[2]}}))}))},getLabOrderRows:function(e){var t=this;return e.map((function(e,n){return[nt["a"].td(e.accession_number),nt["a"].td(e.tests.map((function(e){return e.name})).join(",")),nt["a"].td(e.reason_for_test.name||"N/A"),nt["a"].tdBtn("Drawn",(function(){return Object(r["b"])(t,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(i){switch(i.label){case 0:return this.order=Object(r["a"])(Object(r["a"])({},e),{orderIndex:n}),this.showSpecimenModal=!0,t=this,[4,qO["a"].getSpecimensForTests(e.tests)];case 1:return t.specimens=i.sent(),[2]}}))}))}),{},"success"),nt["a"].tdBtn("Void",(function(){return Object(r["b"])(t,void 0,void 0,(function(){var t=this;return Object(r["d"])(this,(function(i){return Object(GO["a"])((function(i){return Object(r["b"])(t,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.service.voidOrder(e.order_id,i)];case 1:return t=r.sent(),t?this.labOrderRows.splice(n,1):Object(_["e"])("Unable to void order. Try again later"),[2]}}))}))}),["Duplicate order","Wrong client"]),[2]}))}))}),{},"danger")]}))},getdrawnOrders:function(e){var t=this;return e.map((function(e){return[nt["a"].td(e.accession_number),nt["a"].td(e.tests.map((function(e){return e.name})).join(",")),nt["a"].tdBtn("Print",(function(){t.service.printSpecimenLabel(e.order_id)}))]}))}},props:{patient:{type:Object,required:!0},visitDate:{type:String}}});const YO=I()(zO,[["render",UO]]);var WO=YO,KO=[{id:"draw samples",name:"Draw Samples",icon:"social_history.png",action:function(e,t){var n=e.patient;t.push("/los/forms/order/"+n.patient_id+"?type=DRAW_SAMPLES")}}],$O=[{name:"order tests",path:"/los/forms/order/:patient_id",component:function(){return n.e("chunk-2d237731").then(n.bind(null,"fabb"))}},{name:"Tests requested report",path:"/los/report/tests/requests",component:function(){return n.e("chunk-2d2297b9").then(n.bind(null,"de46"))}},{name:"Test results report",path:"/los/report/tests/results",component:function(){return n.e("chunk-2d226ccc").then(n.bind(null,"e9ce"))}}],JO={programID:23,applicationName:"LOS",applicationIcon:"order.png",applicationDescription:"Lab Order System",appRoutes:$O,primaryPatientActivites:KO,secondaryPatientActivites:[],globalPropertySettings:[],homeOverviewComponent:PO,customPatientDashboardContentComponent:WO,confirmationSummary:function(e){return{"PATIENT IDENTIFIERS":function(){return[{label:"NPID",value:e.getNationalID()}]},"LAB ORDERS":function(){return Object(r["b"])(void 0,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Te["a"].getOrders(e.getID())];case 1:return t=n.sent(),[2,t.map((function(e){return{label:e.specimen.name,value:e.accession_number+" - "+d["a"].toStandardHisDisplayFormat(e.order_date)}}))]}}))}))}}},programReports:[{name:"Clinical",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Test requested",pathUrl:"/los/report/tests/requests"},{name:"Test results",pathUrl:"/los/report/tests/results"}]}]},XO=JO,QO=Object(o["withScopeId"])("data-v-8512bc00"),ZO=QO((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("opd-stat-card"),s=Object(o["resolveComponent"])("ion-col"),u=Object(o["resolveComponent"])("ion-row"),l=Object(o["resolveComponent"])("opd-stat-chart"),d=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])(d,null,{default:QO((function(){return[Object(o["createVNode"])(u,null,{default:QO((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientSummaryStats,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.label},{default:QO((function(){var t;return[Object(o["createVNode"])(c,{label:e.label,value:e.value,color:null!==(t=e.color)&&void 0!==t?t:""},null,8,["label","value","color"])]})),_:2},1024)})),128))]})),_:1}),Object(o["createVNode"])(u,null,{default:QO((function(){return[Object(o["createVNode"])(s,null,{default:QO((function(){return[Object(o["createVNode"])(l,{series:e.accumulativeVisits.visits,categories:e.accumulativeVisits.days},null,8,["series","categories"])]})),_:1})]})),_:1})]})),_:1})})),ev=Object(o["withScopeId"])("data-v-746b8a56"),tv=ev((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-card-content"),u=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{style:e.bgColor},{default:ev((function(){return[Object(o["createVNode"])(s,null,{default:ev((function(){return[Object(o["createVNode"])(c,null,{default:ev((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:1}),Object(o["createVNode"])(c,null,{default:ev((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]})),_:1})]})),_:1})]})),_:1},8,["style"])})),nv=Object(o["defineComponent"])({props:{label:String,value:Number,color:String},components:{IonCard:Ie["f"],IonCardContent:Ie["g"],IonCardSubtitle:Ie["i"]},setup:function(e){var t;return{bgColor:"background-color: "+(null!==(t=e.color)&&void 0!==t?t:"")}}});n("1e67");const rv=I()(nv,[["render",tv],["__scopeId","data-v-746b8a56"]]);var iv=rv;function ov(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("apexchart");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{width:"100%",height:"350px",type:"bar",options:e.options,series:e.series},null,8,["options","series"])}var av=Object(o["defineComponent"])({props:{categories:Array,series:Array},setup:function(e){var t=Object(o["ref"])({chart:{height:"auto",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},title:{text:"New registered , Returning and Referred clients",margin:20,align:"center",style:{fontWeight:"regular"}},subtitle:{text:"For the past 12 months",align:"center",margin:10},xaxis:{categories:e.categories},yaxis:{min:0,forceNiceScale:!0,title:{text:"Number of clients"}},noData:{text:"Loading data. Please wait...",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#000000",fontSize:"30px",fontFamily:"Helvetica"}}});return{options:t}}});const cv=I()(av,[["render",ov]]);var sv=cv,uv=n("ecc5"),lv=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.getStatistics=function(){return e.getJsonSWR.call(this,"dashboard_stats",{date:e.getSessionDate.call(this),program_id:e.getProgramID.call(this)})},t.getTodaysPatientVisits=function(e){var t=Object.keys(e),n=0,r=[];return t.forEach((function(t){r.push({label:uv["a"].capitalizeFirstLetter(t.replace("_"," ")),value:e[t],color:"lightyellow"}),n+=e[t]})),r.push({label:"Total",value:n,color:"yellowgreen"}),r},t.getAccumulativePatientVisits=function(e){var t=Object.keys(e),n=Object.keys(e[t[0]]),r=[],i=[];for(var o in t){var a=[];for(var c in n){var s=e[t[o]][n[c]].start_date,u=te()(s).format("MMM/YYYY");u!==r[c]&&r.push(u),a.push(e[t[o]][n[c]].count)}i.push({name:uv["a"].capitalizeFirstLetter(t[o]),data:a})}return{days:r,visits:i}},t}(p["d"]),dv=lv,pv=Object(o["defineComponent"])({components:{OpdStatCard:iv,OpdStatChart:sv,IonGrid:Ie["p"],IonRow:Ie["F"],IonCol:Ie["m"]},setup:function(){var e=dv.getStatistics(),t=Object(o["computed"])((function(){var t;return e.value?dv.getTodaysPatientVisits(null===(t=e.value)||void 0===t?void 0:t.top):[]})),n=Object(o["computed"])((function(){var t;return e.value?dv.getAccumulativePatientVisits(null===(t=e.value)||void 0===t?void 0:t.down):{days:[],visits:[]}}));return{patientSummaryStats:t,accumulativeVisits:n}}});n("bcf6");const bv=I()(pv,[["render",ZO],["__scopeId","data-v-8512bc00"]]);var hv=bv,fv=[{id:"patient registration",name:"Patient registration",icon:"attributes.png"},{id:"vitals",name:"Vitals",icon:"vitals.png"},{id:"presenting complaints",name:"Presenting complaints",icon:"complaints.png"},{id:"hiv status",name:"HIV STatus",icon:"aids.png"},{id:"outpatient diagnosis",name:"Outpatient diagnosis",icon:"diagnosis.png"},{id:"outcome status",name:"Outcome status",icon:"outcomes.png"},{id:"lab orders",name:"Lab orders",icon:"clinical-notes.png",action:function(e,t){var n=e.patient;t.push("/los/forms/order/"+n.patient_id+"?type=DRAW_SAMPLES")}},{id:"lab results",name:"Lab results",icon:"enter.png",action:function(e,t){var n=e.patient;t.push({path:"/lab/results/"+n.patient_id})}},{id:"social history",name:"Social history",icon:"medical-report.png"},{id:"prescription",name:"Prescription",icon:"drugs-given.png"},{id:"dispensation",name:"Dispensation",icon:"dispensing.png"}],mv=[{name:"MoH",icon:"login-logos/Malawi-Coat_of_arms_of_arms.png",defaultFilesIcon:"reports.png",condition:function(){return!1},files:[{name:"LA report",pathName:"moh_la"},{name:"Drug report",pathName:"moh_drug"},{name:"Malaria report",pathName:"moh_malaria"},{name:"IPT",pathName:"moh_ipt"}]},{name:"PEPFAR",icon:"login-logos/PEPFAR.png",defaultFilesIcon:"reports.png",condition:function(){return!1},files:[{name:"IDSR report",pathName:"pepfar_idsr"},{name:"DHIS 2",pathName:"pepfar_dhis_2"}]},{name:"Clinic",icon:"reports.png",defaultFilesIcon:"reports.png",files:[{name:"Diagnosis by address",pathName:"clinic_diagnosis_by_address"},{name:"Diagnosis",pathName:"clinic_diagnosis"},{name:"Registration report",pathName:"clinic_registration"},{name:"LA report",pathName:"clinic_la"},{name:"Cases seen report",pathName:"clinic_cases_seen"},{name:"Mental health report",pathName:"clinic_mental_health"},{name:"Drugs given",pathName:"clinic_drugs_given"},{name:"Drugs (prescribed and dispensed)",pathName:"clinic_drugs"},{name:"With NIDs",pathName:"clinic_with_nids"}]}];function gv(e,t){var n=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(n)}const Ov={},vv=I()(Ov,[["render",gv]]);var _v=vv,jv=[{name:"patient registration",path:"/opd/encounters/registration/:patient_id",component:function(){return n.e("chunk-770d622c").then(n.bind(null,"c7512"))}},{name:"hiv status",path:"/opd/encounters/hiv-status/:patient_id",component:function(){return n.e("chunk-2d0de711").then(n.bind(null,"8652"))}},{name:"vitals",path:"/opd/encounters/vitals/:patient_id",component:function(){return Promise.resolve().then(n.bind(null,"ab49"))}},{name:"outpatient diagnosis",path:"/opd/encounters/diagnosis/:patient_id",component:function(){return n.e("chunk-6c1c8555").then(n.bind(null,"a16a6"))}},{name:"outcome status",path:"/opd/encounters/outcome-status/:patient_id",component:function(){return n.e("chunk-2d0dd6ae").then(n.bind(null,"80ff"))}},{name:"social history",path:"/opd/encounters/social/:patient_id",component:function(){return n.e("chunk-2d209573").then(n.bind(null,"a949"))}},{name:"presenting complaints",path:"/opd/encounters/complaints/:patient_id",component:function(){return n.e("chunk-b3cd6a20").then(n.bind(null,"fea93"))}},{name:"prescription",path:"/opd/encounters/prescription/:patient_id",component:function(){return n.e("chunk-0a163f3e").then(n.bind(null,"13c2"))}},{name:"dispensation",path:"/opd/encounters/dispensing/:patient_id",component:function(){return n.e("chunk-2d0ccf55").then(n.bind(null,"4fc0"))}},{path:"/opd/reports/clinic",component:_v,children:[{name:"clinic_with_nids",path:"clinic_with_nids",component:function(){return n.e("chunk-b74657c4").then(n.bind(null,"efa6"))}},{name:"clinic_drugs_given",path:"clinic_drugs_given",component:function(){return n.e("chunk-10f9d0ce").then(n.bind(null,"d48c"))}},{name:"clinic_drugs",path:"clinic_drugs",component:function(){return n.e("chunk-6ca4a330").then(n.bind(null,"2941"))}},{name:"clinic_registration",path:"cclinic_registration",component:function(){return n.e("chunk-eed33bb6").then(n.bind(null,"fd0a"))}},{name:"clinic_la",path:"clinic_la",component:function(){return n.e("chunk-66ea19b5").then(n.bind(null,"7666"))}},{name:"clinic_cases_seen",path:"clinic_cases_seen",component:function(){return n.e("chunk-f244bbfa").then(n.bind(null,"f482"))}},{name:"clinic_mental_health",path:"clinic_mental_health",component:function(){return n.e("chunk-3f2f976c").then(n.bind(null,"3c87"))}},{name:"clinic_diagnosis",path:"clinic_diagnosis",component:function(){return n.e("chunk-22c75100").then(n.bind(null,"15ab"))}},{name:"clinic_diagnosis_by_address",path:"clinic_diagnosis_by_address",component:function(){return n.e("chunk-2b3c4e77").then(n.bind(null,"e4c1"))}}]}];function yv(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=new Xt["a"](e),[4,t.enrollProgram()];case 1:return r.sent(),n=new f["a"](e,5),[4,n.createEncounter()];case 2:return r.sent(),[4,n.saveValueCodedObs("Type of patient","New Patient")];case 3:return r.sent(),[2]}}))}))}function wv(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){return t=e&&e.national_id?e.national_id:"",n=e&&e.hiv_status?e.hiv_status:"",[2,[{label:"Malawi National ID",value:t},{label:"HIV Status",value:n}]]}))}))}function Nv(e){return Object(r["b"])(this,void 0,Promise,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,iO.alertSideEffects(e.getID())];case 1:return t=r.sent(),[4,e.getBMI()];case 2:return n=r.sent(),[2,[{label:"Side effects",value:""+t.length},{label:"Patient BMI is",value:""+n.result}]]}}))}))}function Cv(e){var t=e.tests[0],n=t.result[0],r=Te["a"].isHighViralLoadResult(n)?'(<b style="color: #eb445a;">High</b>)':"";return t.name+" "+n.value_modifier+n.value+" "+r}function Vv(e,t){var n=this;return{"PATIENT IDENTIFIERS":function(){return[{label:"NPID",value:e.getNationalID()}]},ALERTS:function(){return Nv(e)},"LAB ORDERS":function(){return Object(r["b"])(n,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return t=[],[4,Te["a"].getOrders(e.getID()).then((function(e){var n=Te["a"].getViralLoadOrders(e);n.forEach((function(e){t.push({value:Cv(e),label:""})}))}))];case 1:return n.sent(),[2,t]}}))}))},OUTCOME:function(){return[{label:"Current Outcome",value:t.outcome||"N/A"}]},GUARDIAN:function(){return Object(r["b"])(n,void 0,void 0,(function(){var t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Fn.getGuardianDetails(e.getID())];case 1:return t=n.sent(),t?[2,t.map((function(e){return{label:e.name,value:e.relationshipType}}))]:[2,[]]}}))}))}}}var Dv={programID:14,applicationName:"OPD",applicationIcon:"opd.png",applicationDescription:"Outpatient Program",appRoutes:jv,programReports:mv,primaryPatientActivites:fv,secondaryPatientActivites:[],homeOverviewComponent:hv,onRegisterPatient:yv,formatPatientProgramSummary:wv,confirmationSummary:Vv,programPatientIdentifiers:{"National ID":{id:28,name:"National ID",isPrimary:!0,useForSearch:!0,prefix:function(){return""}}}},kv=Dv,Tv=Object(o["withScopeId"])("data-v-fbd09b5e");Object(o["pushScopeId"])("data-v-fbd09b5e");var Iv={class:"los-overview"};Object(o["popScopeId"])();var xv=Tv((function(e,t,n,r,i,a){var c=Object(o["resolveComponent"])("his-basic-table"),s=Object(o["resolveComponent"])("ion-col"),u=Object(o["resolveComponent"])("ion-row"),l=Object(o["resolveComponent"])("ion-grid");return Object(o["openBlock"])(),Object(o["createBlock"])("div",Iv,[Object(o["createVNode"])(l,{style:{height:"100%"}},{default:Tv((function(){return[Object(o["createVNode"])(u,null,{default:Tv((function(){return[Object(o["createVNode"])(s,{size:"6"},{default:Tv((function(){return[Object(o["createVNode"])(c,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(o["createVNode"])(s,{size:"6",style:{"border-left":"5px solid black"}},{default:Tv((function(){return[Object(o["createVNode"])(c,{columns:e.screenedColumns,rows:e.screenedRows},null,8,["columns","rows"])]})),_:1})]})),_:1})]})),_:1})])})),Sv=n("a3a5"),Pv=function(e){function t(){return e.call(this)||this}return Object(r["c"])(t,e),t.overviewStats=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.dashboardStats()];case 1:for(n in e=r.sent(),t=[],e)t.push([n,e[n]]);return[2,t]}}))}))},t.screenedOverviewStats=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t,n,i,o,a,c,s;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.screenedStats()];case 1:for(n in e=r.sent(),t=[],e){for(i=e[n],o=0,a=0,c=i;a<c.length;a++)s=c[a],1==s["screening_method_present"]&&o++;t.push([n,i.length,o])}return[2,t]}}))}))},t.dashboardStats=function(){return e.getJson.call(this,"dashboard_stats",{date:e.getSessionDate.call(this),program_id:e.getProgramID.call(this)})},t.screenedStats=function(){return e.getJson.call(this,"screened_for_cxca",{date:e.getSessionDate.call(this),program_id:e.getProgramID.call(this),report_name:"BOOKED CLIENTS FROM ART",start_date:e.getSessionDate.call(this),end_date:e.getSessionDate.call(this)})},t}(p["d"]),Bv=Object(o["defineComponent"])({components:{HisBasicTable:Sv["a"]},data:function(){return{rows:[],columns:["Today's screening method","Count"],screenedColumns:["Age group","Booked","Screened"],screenedRows:[]}},created:function(){return Object(r["b"])(this,void 0,void 0,(function(){return Object(r["d"])(this,(function(e){switch(e.label){case 0:return[4,this.setRows()];case 1:return e.sent(),[2]}}))}))},methods:{setRows:function(){return Object(r["b"])(this,void 0,void 0,(function(){var e,t;return Object(r["d"])(this,(function(n){switch(n.label){case 0:return[4,Pv.overviewStats()];case 1:return e=n.sent(),this.rows=Object(r["f"])(e),[4,Pv.screenedOverviewStats()];case 2:return t=n.sent(),this.screenedRows=Object(r["f"])(t),[2]}}))}))}}});n("c146");const Av=I()(Bv,[["render",xv],["__scopeId","data-v-fbd09b5e"]]);var Ev=Av,Fv=[{id:"cxca test",name:"cxca test",workflowID:"cxca test",icon:"via-test.png"},{id:"cxca screening result",name:"cxca screening result",workflowID:"cxca screening result",icon:"first-aid-kit.png"},{id:"cxca treatment",name:"cxca treatment",workflowID:"cxca treatment",icon:"cancer.png"},{id:"cxca referral feedback",name:"cxca referral feedback",workflowID:"cxca referral feedback",icon:"referral.png"},{id:"appointment",name:"Manage Appointments",workflowID:"Manage Appointments",icon:"appointment.png"}],Rv=[{name:"cxca test",path:"/cxca/encounters/clinical_assessment/:patient_id",component:function(){return n.e("chunk-2d226508").then(n.bind(null,"e7aa"))}},{name:"cxca treatment",path:"/cxca/encounters/cancer_treatment/:patient_id",component:function(){return n.e("chunk-2d0a4381").then(n.bind(null,"0605"))}},{name:"cxca reception",path:"/cxca/encounters/cancer_reception/:patient_id",component:function(){return n.e("chunk-2d21a0bf").then(n.bind(null,"ba9c"))}},{name:"cxca referral feedback",path:"/cxca/encounters/cancer_feedback/:patient_id",component:function(){return n.e("chunk-2d0a36f9").then(n.bind(null,"01bd"))}},{name:"cxca screening result",path:"/cxca/encounters/cancer_screening_result/:patient_id",component:function(){return n.e("chunk-2d21e7b5").then(n.bind(null,"d66c"))}},{name:"cxca result",path:"/cxca/encounters/cancer_result/:patient_id",component:function(){return n.e("chunk-2d0ab079").then(n.bind(null,"1411"))}}];function Lv(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=new Xt["a"](e),[4,t.enrollProgram()];case 1:return r.sent(),n=new f["a"](e,5),[4,n.createEncounter()];case 2:return r.sent(),[4,n.saveValueCodedObs("Type of patient","New Patient")];case 3:return r.sent(),[2]}}))}))}var Mv={programID:24,applicationName:"CxCa",applicationIcon:"ccm.png",applicationDescription:"Cervical cancer screening module",appRoutes:Rv,primaryPatientActivites:Fv,secondaryPatientActivites:[],globalPropertySettings:[],onRegisterPatient:Lv,homeOverviewComponent:Ev,confirmationSummary:function(e,t){return{"PATIENT IDENTIFIERS":function(){return[{label:"NPID",value:e.getNationalID()}]},OUTCOME:function(){return[{label:"Current Outcome",value:t.outcome||"N/A"}]},"PROGRAM INFORMATION":function(){return Object(r["b"])(void 0,void 0,void 0,(function(){var t,n,i,o,a;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return t=e.getID(),n=[],[4,nO["a"].getNextTaskParams(t)];case 1:return i=r.sent(),n.push({label:"Next Task",value:i.name?""+i.name:"NONE"}),[4,Ve["a"].getAll(t,"appointment date")];case 2:return o=r.sent(),a=o?d["a"].toStandardHisDisplayFormat(o[0].value_datetime):"Not Available",n.push({label:"Next Appointment",value:a}),[2,n]}}))}))}}},programReports:[{name:"Clinical",icon:"reports.png",defaultFilesIcon:"reports.png",files:[]}]},Hv=Mv;t["a"]=[VO,XO,kv,Hv]},f7a2:function(e,t,n){"use strict";n("1cd4")},fa73:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("99af"),n("caad"),n("a15b"),n("d81d"),n("fb6a"),n("45fc"),n("d3b7"),n("ac1f"),n("2532"),n("466d"),n("1276");var r=n("9ab4"),i=n("1c74"),o=n("2ef0"),a=n("4db7"),c=n("9283"),s=n("23e6"),u=n("cc74"),l=function(e){function t(){var t=e.call(this)||this;return t.patientID=-1,t.enabled=!1,t}return Object(r["c"])(t,e),t.prototype.setPatientID=function(e){this.patientID=e},t.prototype.loadDDEStatus=function(){return Object(r["b"])(this,void 0,void 0,(function(){var e;return Object(r["d"])(this,(function(t){switch(t.label){case 0:return e=this,[4,u["b"].ddeEnabled()];case 1:return e.enabled=t.sent(),[2]}}))}))},t.prototype.isEnabled=function(){return this.enabled},t.prototype.postMerge=function(e){var t=e.map((function(e){return{patient_id:e.patientID,doc_id:e.docID||""}})),n=t[0],r=t.slice(1);return this.patientID=n.patient_id,this.mergePatients({primary:n,secondary:r,program_id:i["d"].getProgramID()})},t.prototype.checkPotentialDuplicates=function(e){return i["d"].getJson("dde/patients/match_by_demographics",Object(r["a"])(Object(r["a"])({},e),{program_id:i["d"].getProgramID()}))},t.prototype.hasPatientDoubles=function(e){return e.map((function(t){return e.map((function(e){return e.patient_id})).includes(t.patient_id)})).some(Boolean)},t.prototype.searchDemographics=function(e){return Object(r["b"])(this,void 0,void 0,(function(){var t,n,o,a;return Object(r["d"])(this,(function(c){switch(c.label){case 0:return[4,i["d"].getJson("dde/patients/find_by_name_and_gender",Object(r["a"])({program_id:i["d"].getProgramID()},e))];case 1:return t=c.sent(),n=function(e,t){var n=new s["a"](e);return Object(r["a"])({patient_type:t,doc_id:n.getPatientIdentifier(27)},e)},t?(o=t.locals.map((function(e){return n(e,"Local")})),a=t.remotes.map((function(e){return n(e,"Remote")})),[2,o.concat(a)]):[2,[]]}}))}))},t.prototype.searchNpid=function(e){return Object(r["b"])(this,void 0,Promise,(function(){var t,n,i,o;return Object(r["d"])(this,(function(r){switch(r.label){case 0:return[4,this.findNpid(e)];case 1:return t=r.sent(),t?(n=t.locals.concat(t.remotes),i=this.hasPatientDoubles(t.locals),o=this.hasPatientDoubles(t.remotes),this.patientID=n[0].patient_id,[2,i||o?n:n[0]]):[2,[]]}}))}))},t.prototype.findNpid=function(e){return i["d"].getJson("dde/patients/find_by_npid",{npid:e,program_id:i["d"].getProgramID()})},t.prototype.findVoidedIdentifier=function(e){return i["d"].getJson("search/patients/by_identifier",{type_id:3,voided:!0,identifier:e})},t.prototype.shouldCreateNpid=function(e){return!Object(o["isEmpty"])(e)&&e.npid},t.prototype.formatDiffValuesByType=function(e,t){var n={};for(var r in e)n[r]=e[t];return n},t.prototype.diffsToTurple=function(e){var t=[],n=function(e,t){return"string"===typeof t&&e.match(/date/i)?c["a"].toStandardHisDisplayFormat(t):t};for(var r in e){var i=e[r],o=r.split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ");t.push([o,n(r,i.local),n(r,i.remote)])}return t},t.prototype.shouldUpdateDiffs=function(e){return!Object(o["isEmpty"])(e)},t.prototype.mergePatients=function(e){return i["d"].postJson("dde/patients/merge",e)},t.prototype.reassignNpid=function(e,t){return void 0===t&&(t=this.patientID),i["d"].postJson("dde/patients/reassign_npid",{program_id:i["d"].getProgramID(),patient_id:t,doc_id:e})},t.prototype.createNPID=function(e){return i["d"].postJson("patient_identifiers",{identifier:e,patient_id:this.patientID,identifier_type:3})},t.prototype.printNpid=function(e){return void 0===e&&(e=this.patientID),new a["a"](e).printNidLbl()},t.prototype.getLocalAndRemoteDiffs=function(){return i["d"].getJson("dde/patients/diff",{patient_id:this.patientID,program_id:i["d"].getProgramID()})},t.prototype.updateLocalDifferences=function(e){return i["d"].putJson("people/"+this.patientID,Object(r["a"])({program_id:i["d"].getProgramID()},e))},t.prototype.refreshDemographics=function(){return i["d"].getJson("dde/patients/refresh",{patient_id:this.patientID,program_id:i["d"].getProgramID()})},t}(i["d"])},fa9e:function(e,t,n){"use strict";n("6a5f")},fb2e:function(e,t,n){},fbc3:function(e,t,n){},fca8:function(e,t,n){"use strict";n("f10c")},fcf1:function(e,t,n){},fd60:function(e,t,n){"use strict";n("d683")},fde0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("9ab4"),i=n("cc6f"),o=function(e){function t(t,n){return e.call(this,t,84,n)||this}return Object(r["c"])(t,e),t}(i["a"])},ff2d:function(e,t,n){},ff7d:function(e,t,n){"use strict";n("e22d")}});
//# sourceMappingURL=app.579a48a4.js.map