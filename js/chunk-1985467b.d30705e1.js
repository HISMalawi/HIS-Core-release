(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1985467b","chunk-87e0a2c6"],{"0695":function(e,t,n){},"0e03":function(e,t,n){"use strict";var o=n("7a23"),r=Object(o["withScopeId"])("data-v-c719b9ce");Object(o["pushScopeId"])("data-v-c719b9ce");var c={key:0},a={key:1};Object(o["popScopeId"])();var i=r((function(e,t,n,i,s,l){var u=Object(o["resolveComponent"])("ion-thumbnail"),d=Object(o["resolveComponent"])("ion-label"),b=Object(o["resolveComponent"])("ion-item"),p=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{class:["his-card task-card",{clickable:!e.isDisabled,disabled:e.isDisabled}]},{default:r((function(){return[Object(o["createVNode"])(b,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(u,{slot:"start"},{default:r((function(){return[Object(o["createVNode"])("img",{src:e.activeIcon},null,8,["src"])]})),_:1}),Object(o["createVNode"])(d,{class:"his-sm-text ion-text-wrap",style:{"font-weight":"600",color:"#333!important"}},{default:r((function(){return[e.isCompleted?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("span",c,Object(o["toDisplayString"])(e.title),1)),e.isCompleted?(Object(o["openBlock"])(),Object(o["createBlock"])("s",a,Object(o["toDisplayString"])(e.title),1)):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1},8,["class"])})),s=n("8a30"),l=n("1718"),u=Object(o["defineComponent"])({components:{IonCard:s["IonCard"],IonThumbnail:s["IonThumbnail"],IonItem:s["IonItem"],IonLabel:s["IonLabel"]},props:{title:{type:String,required:!0},icon:{type:String,required:!0},description:{type:String,required:!1},taskDisabled:{type:Boolean,required:!1},taskCompleted:{type:Boolean,required:!1}},setup:function(e){var t="boolean"===typeof e.taskCompleted&&e.taskCompleted,n="boolean"===typeof e.taskDisabled&&e.taskDisabled,r=Object(o["computed"])((function(){return n?Object(l["a"])("Disabled.svg"):t?Object(l["a"])("Checkmark.svg"):e.icon}));return{activeIcon:r,isDisabled:n,isCompleted:t}}}),d=(n("cbbc"),n("d959")),b=n.n(d);const p=b()(u,[["render",i],["__scopeId","data-v-c719b9ce"]]);t["a"]=p},"111c":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r=Object(o["withScopeId"])("data-v-360fd8c4");Object(o["pushScopeId"])("data-v-360fd8c4");var c={style:{"font-size":"0.7em","font-weight":"bold"},class:"ion-text-center"};Object(o["popScopeId"])();var a=r((function(e,t,n,a,i,s){var l=Object(o["resolveComponent"])("ion-img"),u=Object(o["resolveComponent"])("tool-bar-medium-card");return Object(o["openBlock"])(),Object(o["createBlock"])(u,null,{default:r((function(){return[e.icon?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,src:e.icon,id:"logo"},null,8,["src"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",c,Object(o["toDisplayString"])(e.version),1)]})),_:1})})),i=n("2b47"),s=n("8a30"),l=Object(o["defineComponent"])({name:"AppIcon",components:{IonImg:s["IonImg"],ToolBarMediumCard:i["a"]},props:{icon:{type:String,required:!0},version:{type:String,default:"-/-"}}}),u=(n("5357"),n("d959")),d=n.n(u);const b=d()(l,[["render",a],["__scopeId","data-v-360fd8c4"]]);t["default"]=b},"2b07":function(e,t,n){"use strict";n("0695")},"2b47":function(e,t,n){"use strict";var o=n("7a23"),r={class:"tool-bar-medium-card"};function c(e,t,n,c,a,i){return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[Object(o["renderSlot"])(e.$slots,"default")])}var a=Object(o["defineComponent"])({name:"ToolBarMediumCard"}),i=n("d959"),s=n.n(i);const l=s()(a,[["render",c]]);t["a"]=l},"4d9a":function(e,t,n){},5357:function(e,t,n){"use strict";n("4d9a")},5906:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),r=Object(o["withScopeId"])("data-v-2709f2f0");Object(o["pushScopeId"])("data-v-2709f2f0");var c=Object(o["createTextVNode"])("Visits"),a=Object(o["createTextVNode"])("Patient"),i=Object(o["createTextVNode"])("Program"),s=Object(o["createTextVNode"])("Dates"),l={key:0},u=Object(o["createVNode"])("p",null,null,-1),d={class:"his-card info-card-item"},b=Object(o["createTextVNode"])(" Today "),p={class:"his-card info-card-item"},f=Object(o["createTextVNode"])(" Session "),m={class:"his-card info-card-item"},O=Object(o["createTextVNode"])(" Current visit date "),j={class:"his-sm-text his-card"},v=Object(o["createTextVNode"])(" Today's Date: "),h={key:0},g={key:1},k=Object(o["createTextVNode"])(" Next Task: "),C=Object(o["createVNode"])("b",null,"NONE",-1),I={key:0},V={key:1},N=Object(o["createTextVNode"])(" Set Date: "),y={key:1},_=Object(o["createTextVNode"])(" Tasks "),D=Object(o["createTextVNode"])(" Printouts/Other "),w=Object(o["createTextVNode"])(" Applications "),x=Object(o["createTextVNode"])(" Finish ");Object(o["popScopeId"])();var B=r((function(e,t,n,B,T,S){var L=Object(o["resolveComponent"])("minimal-toolbar"),P=Object(o["resolveComponent"])("ion-icon"),E=Object(o["resolveComponent"])("ion-label"),A=Object(o["resolveComponent"])("ion-segment-button"),R=Object(o["resolveComponent"])("ion-segment"),M=Object(o["resolveComponent"])("ion-toolbar"),z=Object(o["resolveComponent"])("ion-button"),F=Object(o["resolveComponent"])("primary-card"),H=Object(o["resolveComponent"])("ion-col"),q=Object(o["resolveComponent"])("ion-row"),J=Object(o["resolveComponent"])("ion-grid"),$=Object(o["resolveComponent"])("ion-item"),G=Object(o["resolveComponent"])("ion-list"),U=Object(o["resolveComponent"])("ion-content"),W=Object(o["resolveComponent"])("ion-footer"),K=Object(o["resolveComponent"])("ion-page"),Y=Object(o["resolveComponent"])("full-toolbar"),Q=Object(o["resolveComponent"])("visit-dates-card"),X=Object(o["resolveComponent"])("ion-chip");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,["sm"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])(K,{key:0},{default:r((function(){return[Object(o["createVNode"])(L,{title:e.patientName,menuTitle:e.visitDatesTitle,menuItems:e.visitDates,appIcon:e.app.applicationIcon,onOnClickMenuItem:e.onActiveVisitDate},null,8,["title","menuTitle","menuItems","appIcon","onOnClickMenuItem"]),"sm"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0},{default:r((function(){return[Object(o["createVNode"])(R,{value:e.activeTab,class:"ion-justify-content-center"},{default:r((function(){return[Object(o["createVNode"])(A,{value:"1",onClick:t[1]||(t[1]=function(t){return e.activeTab=1})},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.calendar},null,8,["icon"]),Object(o["createVNode"])(E,null,{default:r((function(){return[c]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{value:"2",onClick:t[2]||(t[2]=function(t){return e.activeTab=2})},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.person},null,8,["icon"]),Object(o["createVNode"])(E,null,{default:r((function(){return[a]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{value:"3",onClick:t[3]||(t[3]=function(t){return e.activeTab=3})},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.medical},null,8,["icon"]),Object(o["createVNode"])(E,null,{default:r((function(){return[i]})),_:1})]})),_:1}),Object(o["createVNode"])(A,{value:"4",onClick:t[4]||(t[4]=function(t){return e.activeTab=4})},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.time},null,8,["icon"]),Object(o["createVNode"])(E,null,{default:r((function(){return[s]})),_:1})]})),_:1})]})),_:1},8,["value"])]})),_:1})):Object(o["createCommentVNode"])("",!0),e.nextTask.name&&"sm"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:1},{default:r((function(){return[Object(o["createVNode"])(z,{style:{width:"100%"},color:"success",onClick:e.goToNextTask},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[Object(o["createVNode"])("b",null,"Next Task: "+Object(o["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1}),Object(o["createVNode"])(P,{icon:e.alertCircle},null,8,["icon"])]})),_:1},8,["onClick"])]})),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(U,{id:"main-content"},{default:r((function(){return["sm"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[e.appHasCustomContent&&1===e.activeTab&&e.patientIsset?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(o["createCommentVNode"])("",!0),e.appHasCustomContent||1!==e.activeTab?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:1},{default:r((function(){return[Object(o["createVNode"])(q,null,{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientCards,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(H,{size:"12",key:t},{default:r((function(){return[Object(o["createVNode"])(F,{key:"mcard".concat(t),isEnabled:e.isEnabled,counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,isLoading:e.isLoading,onClick:function(t){return e.onClick(e)}},null,8,["isEnabled","counter","icon","title","titleColor","items","isLoading","onClick"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})),2===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(G,{key:2},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientCardInfo,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(o["createVNode"])($,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:2},1024),Object(o["createVNode"])(E,{slot:"end"},{default:r((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024)])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),3===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(G,{key:3},{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.programCardInfo,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"his-card info-card-item",key:t},[Object(o["createVNode"])($,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:2},1024),Object(o["createVNode"])(E,{slot:"end"},{default:r((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.value),1)]})),_:2},1024)]})),_:2},1024),u])})),128))]})),_:1})):Object(o["createCommentVNode"])("",!0),4===e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(G,{key:4},{default:r((function(){return[Object(o["createVNode"])("div",d,[Object(o["createVNode"])($,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[b]})),_:1}),Object(o["createVNode"])(E,{slot:"end"},{default:r((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.currentDate),1)]})),_:1})]})),_:1})]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])($,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[f]})),_:1}),Object(o["createVNode"])(E,{slot:"end"},{default:r((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.sessionDate),1)]})),_:1})]})),_:1})]),Object(o["createVNode"])("div",m,[Object(o["createVNode"])($,{lines:"none"},{default:r((function(){return[Object(o["createVNode"])(E,null,{default:r((function(){return[O]})),_:1}),Object(o["createVNode"])(E,{slot:"end"},{default:r((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.activeVisitDate),1)]})),_:1})]})),_:1})])]})),_:1})):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])(W,null,{default:r((function(){return["sm"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0,color:"dark"},{default:r((function(){return[Object(o["createVNode"])(z,{color:"primary",size:"medium",slot:"end",onClick:e.showTasks},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.clipboard},null,8,["icon"])]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{color:"primary",size:"medium",slot:"end",onClick:e.showOptions},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.folder},null,8,["icon"])]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{color:"primary",size:"medium",slot:"end",onClick:e.changeApp},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.apps},null,8,["icon"])]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{color:"success",size:"medium",slot:"end",onClick:e.onCancel},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.logOut},null,8,["icon"])]})),_:1},8,["onClick"])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0),"lg"===e.screenBreakPoint?(Object(o["openBlock"])(),Object(o["createBlock"])(K,{key:1},{default:r((function(){return[Object(o["createVNode"])(Y,{appVersion:e.appVersion,appIcon:e.app.applicationIcon,patientCardInfo:e.patientCardInfo,programCardInfo:e.programCardInfo},null,8,["appVersion","appIcon","patientCardInfo","programCardInfo"]),Object(o["createVNode"])(U,{id:"main-content"},{default:r((function(){return[e.appHasCustomDashboard?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:0,class:"grid-custom vertically-align"},{default:r((function(){return[Object(o["createVNode"])(q,null,{default:r((function(){return[Object(o["createVNode"])(H,{size:"2.4"},{default:r((function(){return[Object(o["createVNode"])(Q,{title:e.visitDatesTitle,items:e.visitDates,onOnselect:e.onActiveVisitDate},null,8,["title","items","onOnselect"])]})),_:1}),Object(o["createVNode"])(H,{size:"9.6"},{default:r((function(){return[Object(o["createVNode"])("div",j,[Object(o["createVNode"])(q,null,{default:r((function(){return[Object(o["createVNode"])(H,{"size-md":"4","size-sm":"6"},{default:r((function(){return[v,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.currentDate),1)]})),_:1}),Object(o["createVNode"])(H,{"size-md":"4","size-sm":"6"},{default:r((function(){return[e.nextTask.name?(Object(o["openBlock"])(),Object(o["createBlock"])("span",h,[Object(o["createVNode"])(X,{class:"next-task",color:"success",onClick:e.goToNextTask},{default:r((function(){return[Object(o["createTextVNode"])("Next Task: "+Object(o["toDisplayString"])(e.nextTask.name.toUpperCase()),1)]})),_:1},8,["onClick"])])):(Object(o["openBlock"])(),Object(o["createBlock"])("span",g,[k,C]))]})),_:1}),Object(o["createVNode"])(H,{"size-md":"4","size-sm":"12"},{default:r((function(){return[e.isBDE?(Object(o["openBlock"])(),Object(o["createBlock"])("span",I,[Object(o["createVNode"])(X,{style:{marginTop:"-8px"},color:"danger",onClick:t[5]||(t[5]=function(t){return e.$router.push({name:"Session Date"})})},{default:r((function(){return[Object(o["createVNode"])("b",null," BDE: "+Object(o["toDisplayString"])(e.sessionDate.toUpperCase()),1)]})),_:1})])):(Object(o["openBlock"])(),Object(o["createBlock"])("span",V,[N,Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.sessionDate),1)]))]})),_:1})]})),_:1}),e.appHasCustomContent&&e.patientIsset?(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.customDashboardContent),{key:0,patient:e.patient,visitDate:e.activeVisitDate},null,8,["patient","visitDate"])):Object(o["createCommentVNode"])("",!0),e.appHasCustomContent?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",y,[Object(o["createVNode"])(q,null,{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.patientCards,(function(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(H,{size:"6",key:t},{default:r((function(){return[Object(o["createVNode"])(F,{key:e.label,isEnabled:e.isEnabled,counter:e.items.length,icon:e.icon,title:e.label,titleColor:e.color,items:e.items,isLoading:e.isLoading,onClick:function(t){return e.onClick(e)}},null,8,["isEnabled","counter","icon","title","titleColor","items","isLoading","onClick"])]})),_:2},1024)})),128))]})),_:1})]))])]})),_:1})]})),_:1})]})),_:1}))]})),_:1}),Object(o["createVNode"])(M,{color:"dark"},{default:r((function(){return[Object(o["createVNode"])(z,{color:"primary",size:"large",slot:"end",onClick:e.showTasks},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.clipboardOutline},null,8,["icon"]),_]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{color:"primary",size:"large",slot:"end",onClick:e.showOptions},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.folderOutline},null,8,["icon"]),D]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{color:"primary",size:"large",slot:"end",onClick:e.changeApp},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.appsOutline},null,8,["icon"]),w]})),_:1},8,["onClick"]),Object(o["createVNode"])(z,{onClick:e.onCancel,color:"success",size:"large",slot:"end"},{default:r((function(){return[Object(o["createVNode"])(P,{icon:e.logOutOutline},null,8,["icon"]),x]})),_:1},8,["onClick"])]})),_:1})]})),_:1})):Object(o["createCommentVNode"])("",!0)],64)})),T=n("2909"),S=n("b85c"),L=n("1da1"),P=n("53ca"),E=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("99af"),n("159b"),n("caad"),n("2532"),n("25f0"),n("3e53")),A=n("9283"),R=n("23e6"),M=n("ad60"),z=n("7957"),F=n("71c3"),H=n("9b7c"),q=(n("a4d3"),n("e01a"),Object(o["withScopeId"])("data-v-0f1e8a5b"));Object(o["pushScopeId"])("data-v-0f1e8a5b");var J=Object(o["createTextVNode"])(" Close ");Object(o["popScopeId"])();var $=q((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),u=Object(o["resolveComponent"])("task-card"),d=Object(o["resolveComponent"])("ion-col"),b=Object(o["resolveComponent"])("ion-row"),p=Object(o["resolveComponent"])("ion-grid"),f=Object(o["resolveComponent"])("ion-button"),m=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,null,{default:q((function(){return[Object(o["createVNode"])(s,null,{default:q((function(){return[Object(o["createVNode"])(i,null,{default:q((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(p,{class:"selector"},{default:q((function(){return[Object(o["createVNode"])(b,null,{default:q((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.filteredItems,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(d,{"size-lg":"4","size-sm":"6",key:n},{default:q((function(){return[Object(o["createVNode"])(u,{onClick:function(n){return e.doTask(t)},title:t.name.toUpperCase(),description:t.description,taskCompleted:t.taskCompleted,taskDisabled:e.isDisabled(t.disabled),icon:e.img(t.icon)},null,8,["onClick","title","description","taskCompleted","taskDisabled","icon"])]})),_:2},1024)})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:q((function(){return[Object(o["createVNode"])(s,null,{default:q((function(){return[Object(o["createVNode"])(f,{class:"close-btn",color:"danger",size:"large",onClick:e.closeModal,slot:"end"},{default:q((function(){return[J]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),G=n("1718"),U=n("0e03"),W=n("ad49"),K=n("8a30"),Y=n("2ef0"),Q=n("b5e4"),X=Object(o["defineComponent"])({components:{IonGrid:K["IonGrid"],IonRow:K["IonRow"],IonCol:K["IonCol"],TaskCard:U["a"],IonFooter:K["IonFooter"],IonToolbar:K["IonToolbar"],IonButton:K["IonButton"],IonHeader:K["IonHeader"],IonTitle:K["IonTitle"]},props:{title:{type:String,default:"Select Activity"},items:{type:Object,required:!0},taskParams:{type:Object,required:!1}},data:function(){return{filteredItems:[]}},watch:{items:{handler:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&!Object(Y["isEmpty"])(e)){n.next=2;break}return n.abrupt("return");case 2:n.t0=regeneratorRuntime.keys(e);case 3:if((n.t1=n.t0()).done){n.next=19;break}if(o=n.t1.value,r=e[o],!r.globalProperty){n.next=11;break}return n.next=9,W["a"].isProp(r.globalProperty);case 9:if(n.sent){n.next=11;break}return n.abrupt("continue",3);case 11:if(!r.condition){n.next=16;break}return n.next=14,r.condition(t.taskParams);case 14:if(n.sent){n.next=16;break}return n.abrupt("continue",3);case 16:t.filteredItems.push(r),n.next=3;break;case 19:case"end":return n.stop()}}),n)})))()},deep:!0,immediate:!0}},methods:{img:function(e){return Object(G["a"])(e)},isDisabled:function(e){return"function"===typeof e&&e(this.taskParams)},closeModal:function(){K["modalController"].dismiss({})},doTask:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isDisabled(e.disabled)){n.next=2;break}return n.abrupt("return",Object(Q["e"])("This task is disabled"));case 2:if("boolean"!==typeof e.taskCompleted||null===e||void 0===e||!e.taskCompleted){n.next=7;break}return n.next=5,Object(Q["a"])("This task was already completed. Do you want to continue?");case 5:if(n.sent){n.next=7;break}return n.abrupt("return");case 7:e.action?e.action(t.taskParams,t.$router):e.url?t.$router.push({path:e.url}):t.$router.push({name:e.id,params:{patient_id:null===(o=t.taskParams)||void 0===o?void 0:o.patient.patient_id}}),t.closeModal();case 9:case"end":return n.stop()}}),n)})))()}}}),Z=(n("6ba7"),n("d959")),ee=n.n(Z);const te=ee()(X,[["render",$],["__scopeId","data-v-0f1e8a5b"]]);var ne=te,oe=Object(o["withScopeId"])("data-v-e6fe704c");Object(o["pushScopeId"])("data-v-e6fe704c");var re={style:{float:"right"}},ce={class:"tb"},ae=Object(o["createTextVNode"])(" Void encounter"),ie=Object(o["createTextVNode"])(" Close ");Object(o["popScopeId"])();var se=oe((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),u=Object(o["resolveComponent"])("ion-item"),d=Object(o["resolveComponent"])("ion-list"),b=Object(o["resolveComponent"])("ion-col"),p=Object(o["resolveComponent"])("his-basic-table"),f=Object(o["resolveComponent"])("ion-row"),m=Object(o["resolveComponent"])("ion-content"),O=Object(o["resolveComponent"])("ion-button"),j=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,null,{default:oe((function(){return[Object(o["createVNode"])(s,null,{default:oe((function(){return[Object(o["createVNode"])(i,{class:"his-md-text"},{default:oe((function(){return[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("span",re,"Provider: "+Object(o["toDisplayString"])(e.active.provider),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(m,null,{default:oe((function(){return[Object(o["createVNode"])(f,null,{default:oe((function(){return[Object(o["createVNode"])(b,{size:"4"},{default:oe((function(){return[Object(o["createVNode"])(d,null,{default:oe((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.encounters,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(u,{class:"his-sm-text",key:n,color:t.other.id===e.active.id?"primary":"",detail:!0,onClick:function(){return e.showDetails(t)}},{default:oe((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(b,{size:"8"},{default:oe((function(){return[Object(o["createVNode"])("div",ce,[Object(o["createVNode"])(p,{columns:e.active.columns,rows:e.active.rows},null,8,["columns","rows"])])]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(j,null,{default:oe((function(){return[Object(o["createVNode"])(s,null,{default:oe((function(){return[Object(o["createVNode"])(O,{color:"danger",onClick:e.voidActiveItem,disabled:!e.canVoid,size:"large"},{default:oe((function(){return[ae]})),_:1},8,["onClick","disabled"]),Object(o["createVNode"])(O,{onClick:e.closeModal,size:"large",slot:"end"},{default:oe((function(){return[ie]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)})),le=(n("4de4"),n("a3a5")),ue=n("76df"),de=Object(o["defineComponent"])({components:{HisBasicTable:le["a"],IonButton:K["IonButton"],IonToolbar:K["IonToolbar"],IonList:K["IonList"],IonFooter:K["IonFooter"],IonContent:K["IonContent"],IonRow:K["IonRow"],IonCol:K["IonCol"],IonTitle:K["IonTitle"],IonHeader:K["IonHeader"],IonItem:K["IonItem"]},data:function(){return{active:{id:-1,name:"",provider:"",rows:[],columns:[]},encounters:[]}},computed:{canVoid:function(){return!Object(Y["isEmpty"])(this.active)&&!Object(Y["isEmpty"])(this.active.rows)}},watch:{items:{handler:function(e){Object(Y["isEmpty"])(e)||(this.encounters=e,this.showDetails(this.encounters[0]))},immediate:!0,deep:!0}},props:{title:{type:String,required:!0},items:{type:Object,required:!0}},methods:{closeModal:function(){K["modalController"].dismiss({})},removeEncounter:function(e){this.encounters=this.encounters.filter((function(t){return t.other.id!=e}))},voidActiveItem:function(){var e=this;Object(ue["a"])(function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.active.onVoid(n);case 3:e.removeEncounter(e.active.id),e.active={},Object(Y["isEmpty"])(e.encounters)||e.showDetails(e.encounters[0]),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(Q["c"])(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),"void-modal custom-modal-backdrop")},showDetails:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.active.id=e.other.id,t.active.name=e.label,t.active.columns=e.other.columns,t.active.onVoid=e.other.onVoid,n.next=6,e.other.getRows();case 6:return t.active.rows=n.sent,n.next=9,e.other.provider;case 9:t.active.provider=n.sent;case 10:case"end":return n.stop()}}),n)})))()}}});n("627d");const be=ee()(de,[["render",se],["__scopeId","data-v-e6fe704c"]]);var pe=be,fe=Object(o["createTextVNode"])(" Close ");function me(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-title"),s=Object(o["resolveComponent"])("ion-toolbar"),l=Object(o["resolveComponent"])("ion-header"),u=Object(o["resolveComponent"])("his-basic-table"),d=Object(o["resolveComponent"])("ion-content"),b=Object(o["resolveComponent"])("ion-button"),p=Object(o["resolveComponent"])("ion-footer");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"his-md-text"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,{columns:e.columns,rows:e.rows},null,8,["columns","rows"])]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{size:"large",onClick:e.closeModal,slot:"end"},{default:Object(o["withCtx"])((function(){return[fe]})),_:1},8,["onClick"])]})),_:1})]})),_:1})],64)}var Oe=Object(o["defineComponent"])({components:{HisBasicTable:le["a"],IonHeader:K["IonHeader"],IonToolbar:K["IonToolbar"],IonContent:K["IonContent"],IonFooter:K["IonFooter"],IonButton:K["IonButton"]},props:{title:{type:String,required:!0},columns:{type:Object,required:!0},rows:{type:Object,default:!0}},methods:{closeModal:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["modalController"].dismiss({});case 2:case"end":return e.stop()}}),e)})))()}}});const je=ee()(Oe,[["render",me]]);var ve=je,he=n("50e7"),ge=n("ff79"),ke=n("ec2a"),Ce=n("8158"),Ie=n("d10e"),Ve=n("0fa1"),Ne=Object(o["withScopeId"])("data-v-4526fe87"),ye=Ne((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-badge"),s=Object(o["resolveComponent"])("ion-label"),l=Object(o["resolveComponent"])("ion-item"),u=Object(o["resolveComponent"])("text-skeleton"),d=Object(o["resolveComponent"])("ion-icon"),b=Object(o["resolveComponent"])("ion-chip"),p=Object(o["resolveComponent"])("ion-list");return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["card",{inactive:!e.isEnabled,clickable:e.isEnabled}]},[Object(o["createVNode"])(l,{color:e.titleColor,lines:"none",class:"his-md-text title-card"},{default:Ne((function(){return[Object(o["createVNode"])(i,{slot:"start",class:"his-sm-text",color:"light"},{default:Ne((function(){return[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(e.counter),1)]})),_:1}),Object(o["createVNode"])(s,null,{default:Ne((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.title),1)]})),_:1})]})),_:1},8,["color"]),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,itemCount:5})):Object(o["createCommentVNode"])("",!0),e.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1},{default:Ne((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:n},{default:Ne((function(){var n;return[Object(o["createVNode"])(s,{class:null!==t&&void 0!==t&&null!==(n=t.other)&&void 0!==n&&n.wrapTxt?"ion-text-wrap":"",innerHTML:t.label},null,8,["class","innerHTML"]),t.value?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"his-sm-text",slot:"end"},{default:Ne((function(){return[Object(o["createVNode"])(d,{icon:e.icon},null,8,["icon"]),Object(o["createVNode"])(s,null,{default:Ne((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.value),1)]})),_:2},1024)]})),_:2},1024)):Object(o["createCommentVNode"])("",!0)]})),_:2},1024)})),128))]})),_:1}))],2)})),_e=(n("a9e3"),n("ded6")),De=Object(o["defineComponent"])({components:{TextSkeleton:_e["a"],IonLabel:K["IonLabel"],IonList:K["IonList"],IonItem:K["IonItem"],IonChip:K["IonChip"],IonIcon:K["IonIcon"],IonBadge:K["IonBadge"]},data:function(){return{time:ge["time"]}},props:{isEnabled:{type:Boolean,default:function(){return!0}},counter:{type:Number,required:!1},isLoading:{type:Boolean},icon:{type:Object},title:{type:String,required:!0},items:{type:Object},titleColor:{type:String,required:!1,default:function(){return"#337ab7"}}}});n("913b");const we=ee()(De,[["render",ye],["__scopeId","data-v-4526fe87"]]);var xe=we,Be=Object(o["withScopeId"])("data-v-fb9fb750");Object(o["pushScopeId"])("data-v-fb9fb750");var Te={class:"card his-card"},Se={class:"his-md-text header-section"},Le={class:"bottom-section"};Object(o["popScopeId"])();var Pe=Be((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-item"),s=Object(o["resolveComponent"])("ion-list");return Object(o["openBlock"])(),Object(o["createBlock"])("div",Te,[Object(o["createVNode"])("div",Se,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("button",{class:"nav-btn nav-btn-top clickable",disabled:!e.showPrevButton,onClick:t[1]||(t[1]=function(){return e.goPrev.apply(e,arguments)})},[Object(o["createVNode"])("img",{src:e.upbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"]),Object(o["createVNode"])("div",{class:e.listAlignmentClass},[Object(o["createVNode"])(s,null,{default:Be((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.activeListItems,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(i,{class:"his-md-text",key:n,onClick:function(n){return e.onselect(t)},detail:!0,color:e.isActive(t)?"primary":""},{default:Be((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]})),_:2},1032,["onClick","color"])})),128))]})),_:1})],2),Object(o["createVNode"])("div",Le,[Object(o["createVNode"])("button",{class:"nav-btn nav-btn-bottom clickable",disabled:!e.showNextButton,onClick:t[2]||(t[2]=function(){return e.goNext.apply(e,arguments)})},[Object(o["createVNode"])("img",{src:e.downbuttonImg,width:e.btnSize},null,8,["src","width"])],8,["disabled"])])])})),Ee=Object(o["defineComponent"])({components:{IonList:K["IonList"],IonItem:K["IonItem"]},props:{title:{type:String,default:function(){return"Visits"}},items:{type:Object,required:!0}},data:function(){return{active:{},activeListItems:[],paginatedListItems:[],index:-1,perPage:6,btnSize:45}},computed:{listAlignmentClass:function(){return this.activeListItems&&this.activeListItems.length===this.perPage?"vertically-align":""},upbuttonImg:function(){return"/assets/images/drop-up-arrow.svg"},downbuttonImg:function(){return"/assets/images/drop-down-arrow.svg"},showNextButton:function(){return this.index+1<this.paginatedListItems.length},showPrevButton:function(){return this.index>=1}},watch:{items:{handler:function(e){if(!Object(Y["isEmpty"])(e))for(var t in this.index=0,this.paginatedListItems=Object(Y["chunk"])(e,this.perPage),this.activeListItems=this.paginatedListItems[0],this.active=this.activeListItems[0],this.paginatedListItems){var n=Object(Y["findIndex"])(this.paginatedListItems[t],(function(e){return!0===e.other.isActive}),0);if(-1!=n){this.index=parseInt(t),this.activeListItems=this.paginatedListItems[t],this.active=this.activeListItems[n];break}}},deep:!0,immediate:!0},index:{handler:function(e){this.activeListItems=this.paginatedListItems[e]},immediate:!0},active:function(e){this.$emit("onselect",e)}},methods:{onselect:function(e){this.active=e},isActive:function(e){return e.label===this.active.label},goNext:function(){var e=this.index+1;e<=this.paginatedListItems.length&&(this.index=e)},goPrev:function(){this.paginatedListItems.length>=1&&(this.index-=1)}}});n("2b07");const Ae=ee()(Ee,[["render",Pe],["__scopeId","data-v-fb9fb750"]]);var Re=Ae;function Me(){var e=Object(o["ref"])({width:window.innerWidth,height:window.innerHeight});function t(t){e.value={height:t.currentTarget.innerHeight,width:t.currentTarget.innerWidth}}return Object(o["onMounted"])((function(){addEventListener("resize",t)})),Object(o["onUnmounted"])((function(){removeEventListener("resize",t)})),{resolution:e}}function ze(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("info-card"),s=Object(o["resolveComponent"])("ion-col"),l=Object(o["resolveComponent"])("icon-card"),u=Object(o["resolveComponent"])("ion-row"),d=Object(o["resolveComponent"])("ion-toolbar"),b=Object(o["resolveComponent"])("ion-header");return Object(o["openBlock"])(),Object(o["createBlock"])(b,{translucent:!0},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{size:"5"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{items:e.patientCardInfo},null,8,["items"])]})),_:1}),Object(o["createVNode"])(s,{size:"5"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{items:e.programCardInfo},null,8,["items"])]})),_:1}),Object(o["createVNode"])(s,{size:"2"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{version:e.appVersion,icon:e.logo},null,8,["version","icon"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var Fe=Object(o["withScopeId"])("data-v-031d3d8c");Object(o["pushScopeId"])("data-v-031d3d8c");var He={class:"tool-bar-medium-card"};Object(o["popScopeId"])();var qe=Fe((function(e,t,n,r,c,a){var i=Object(o["resolveComponent"])("ion-icon");return Object(o["openBlock"])(),Object(o["createBlock"])("div",He,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.items,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:n},[e.hasIcon(t)?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0,icon:t.other.icon},null,8,["icon"])):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.label)+": ",1),Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(t.value),1)])})),128))])})),Je=Object(o["defineComponent"])({name:"HisResultCard",components:{IonIcon:K["IonIcon"]},props:{icon:{required:!1},items:{type:Object,required:!0}},methods:{hasIcon:function(e){return"other"in e&&"icon"in e.other}}});n("eed0");const $e=ee()(Je,[["render",qe],["__scopeId","data-v-031d3d8c"]]);var Ge=$e,Ue=n("111c"),We=Object(o["defineComponent"])({name:"PatientToolbar",components:{IonHeader:K["IonHeader"],IonToolbar:K["IonToolbar"],IonCol:K["IonCol"],IonRow:K["IonRow"],InfoCard:Ge,IconCard:Ue["default"]},props:{appVersion:{type:String},patientCardInfo:{type:Array,required:!0},programCardInfo:{type:Array,required:!0},appIcon:{type:String,required:!0}},computed:{logo:function(){return Object(G["a"])(this.appIcon)}}});const Ke=ee()(We,[["render",ze]]);var Ye=Ke,Qe=n("8e8b"),Xe=Object(o["defineComponent"])({components:{IonSegment:K["IonSegment"],IonSegmentButton:K["IonSegmentButton"],IonChip:K["IonChip"],IonPage:K["IonPage"],IonIcon:K["IonIcon"],IonFooter:K["IonFooter"],IonContent:K["IonContent"],IonButton:K["IonButton"],IonToolbar:K["IonToolbar"],IonGrid:K["IonGrid"],IonRow:K["IonRow"],IonCol:K["IonCol"],FullToolbar:Ye,PrimaryCard:xe,VisitDatesCard:Re,MinimalToolbar:Object(o["defineAsyncComponent"])((function(){return n.e("chunk-2d0c4649").then(n.bind(null,"3b48"))}))},setup:function(){var e=Object(o["ref"])("lg"),t=Me(),n=t.resolution;return Object(o["watch"])((function(){return n.value}),(function(t){t&&t.width<=900?e.value="sm":e.value="lg"}),{immediate:!0,deep:!0}),{time:ge["time"],person:ge["person"],calendar:ge["calendar"],medical:ge["medical"],clipboard:ge["clipboard"],apps:ge["apps"],folder:ge["folder"],logOut:ge["logOut"],clipboardOutline:ge["clipboardOutline"],appsOutline:ge["appsOutline"],folderOutline:ge["folderOutline"],logOutOutline:ge["logOutOutline"],alertCircle:ge["alertCircle"],screenBreakPoint:e}},data:function(){return{activeTab:1,app:{},dashboardComponent:{},isBDE:!1,currentDate:"",sessionDate:"",nextTask:{},programId:0,patientId:0,patient:{},patientProgram:{},patientCardInfo:[],programCardInfo:[],visitDates:[],activeVisitDate:"",patientCards:[],appVersion:M["a"].getFullVersion(),sessionEncounterMap:{},savedEncounters:[]}},computed:{patientIsset:function(){return!Object(Y["isEmpty"])(this.patient)},patientName:function(){return Object(Y["isEmpty"])(this.patient)?"N/A":this.patient.getFullName()},appHasCustomContent:function(){return!Object(Y["isEmpty"])(this.app.customPatientDashboardContentComponent)},customDashboardContent:function(){return this.app.customPatientDashboardContentComponent},visitDatesTitle:function(){return"".concat(this.visitDates.length," Visits")}},watch:{activeVisitDate:function(e){this.appHasCustomContent||this.updateCardVisitData(e)}},created:function(){var e=this;this.app=E["a"].getActiveApp(),this.patientCards=[{items:[],cache:{},label:"Activities",color:"primary",isLoading:!1,icon:ge["timeOutline"],isEnabled:this.isCardEnabled("activitiesEnabled"),onVisitDate:function(t,n){t.isLoading=!0,ke["a"].getEncounters(e.patientId,{date:n}).then((function(o){t.items=e.getActivitiesCardInfo(o),t.cache[n]=t.items,t.isLoading=!1,e.sessionEncounterMap={},n!==M["a"].getSessionDate()||Object(Y["isEmpty"])(o)||(e.sessionEncounterMap=o.reduce((function(e,t){return e[t.type.name.toLowerCase()]=t.observations.reduce((function(e,t){return e.concat(t.concept.concept_names)}),[]).map((function(e){return e.name.toLowerCase()})),e}),{}))})).catch((function(){t.items=[],t.cache[n]=t.items,t.isLoading=!1}))},onClick:function(t){t.isEnabled&&(t.isLoading?Object(Q["e"])("Please wait..."):e.openModal(t.items,"Select Activities",pe))}},{items:[],cache:{},color:"success",isLoading:!1,label:"Lab Orders",icon:ge["timeOutline"],isEnabled:this.isCardEnabled("labEnabled"),onVisitDate:function(t,n,o,r){o&&"LAB ORDERS"===r&&Qe["a"].invalidate("PATIENT_LAB_ORDERS"),t.isLoading=!0,e.getLabOrderCardInfo(n).then((function(e){t.items=e,t.cache[n]=t.items,t.isLoading=!1})).catch((function(){t.items=[],t.cache[n]=t.items,t.isLoading=!1}))},onClick:function(t){return t.isEnabled&&e.$router.push("/art/encounters/lab/".concat(e.patient.getID()))}},{items:[],label:"Alerts",color:"danger",icon:ge["warningOutline"],isLoading:!1,isInit:!1,isEnabled:this.isCardEnabled("alertsEnabled"),onVisitDate:function(t){if(!t.isInit){var n=e.getPatientAlertCardInfo();"object"===Object(P["a"])(n)&&n.then&&(t.isLoading=!0,e.getPatientAlertCardInfo().then((function(e){e&&(t.items=e),t.isInit=!0,t.isLoading=!1})).catch((function(){t.items=[],t.isInit=!0,t.isLoading=!1}))),n&&(t.items=n)}},onClick:function(){}},{items:[],cache:{},label:"Medications",color:"warning",icon:ge["timeOutline"],isLoading:!1,isEnabled:this.isCardEnabled("medicationsEnabled"),onVisitDate:function(t,n){t.isLoading=!0,F["a"].getOrderByPatient(e.patientId,{start_date:n}).then((function(o){t.items=e.getMedicationCardInfo(o),t.cache[n]=t.items,t.isLoading=!1})).catch((function(){t.data,t.items=[],t.cache[n]=t.items,t.isLoading=!1}))},onClick:function(t){if(t.isEnabled){if(t.isLoading)return Object(Q["e"])("Please wait..");var n=["Medication","Start date","End date","Amount given"],o=t.items.map((function(t){return[t.other.drug.name,e.toDate(t.other.order.start_date),e.toDate(t.other.order.auto_expire_date),t.other.quantity]}));e.openTableModal(n,o,"Medication History")}}}]},mounted:function(){var e=this;this.patientId=parseInt("".concat(this.$route.params.id)),this.patientId&&E["a"].doAppManagementTasks().then((function(){e.app=E["a"].getActiveApp(),e.programId=e.app.programID,e.appHasCustomContent&&(e.patientCards=[]),e.initData()}))},methods:{initData:function(){var e,t,n=this;this.programCardInfo="function"===typeof(null===(e=this.app)||void 0===e?void 0:e.patientProgramInfoData)?null===(t=this.app)||void 0===t?void 0:t.patientProgramInfoData(this.patientId):[],this.currentDate=A["c"].currentDisplayDate(),this.sessionDate=this.toDate(M["a"].getSessionDate()),this.isBDE=M["a"].isBDE()||!1,Qe["a"].get("ACTIVE_PATIENT",{patientID:this.patientId}).then(function(){var e=Object(L["a"])(regeneratorRuntime.mark((function e(t){var o,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.patient=t,n.patientCardInfo=n.getPatientCardInfo(t),n.getNextTask().then((function(e){return n.nextTask=e})),n.getPatientVisitDates(n.patientId).then((function(e){n.visitDates=e,n.loadSavedEncounters()})).catch((function(e){console.error(e)})),o=Object(S["a"])(n.programCardInfo),e.prev=5,c=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.value,"function"!==typeof t.init){e.next=4;break}return e.next=4,t.init();case 4:"function"===typeof t.asyncValue?t.asyncValue().then((function(e){return t.value=e})):"function"===typeof t.staticValue&&(t.value=t.staticValue());case 5:case"end":return e.stop()}}),e)})),o.s();case 8:if((r=o.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e["catch"](5),o.e(e.t1);case 17:return e.prev=17,o.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return Object(Q["c"])("".concat(e))}))},isCardEnabled:function(e){var t,n=null===(t=this.app)||void 0===t?void 0:t.configDefaultPatientDashboardCards;return!n||!(e in n)||(n[e]||!1)},showLoader:function(){return Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["loadingController"].create({message:"Please wait....",backdropDismiss:!1});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e)})))()},clearLoader:function(){K["loadingController"].getTop().then((function(e){return e?K["loadingController"].dismiss():null}))},toDate:function(e){return A["c"].toStandardHisDisplayFormat(e)},toTime:function(e){return A["c"].toStandardHisTimeFormat(e)},loadSavedEncounters:function(){var e=this;ke["a"].getSavedEncounters(this.patientId).then((function(t){e.savedEncounters=t}))},updateCardVisitData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.patientCards.forEach((function(o){if(o.isEnabled&&"function"===typeof o.onVisitDate){if("object"===Object(P["a"])(o.cache)&&o.cache[e]&&!t)return void(o.items=o.cache[e]);o.onVisitDate(o,e,t,n)}}))},getPatientVisitDates:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,R["a"].getPatientVisits(e,!1);case 2:return n.abrupt("return",n.sent.map((function(e){return{label:t.toDate(e),value:e,other:{isActive:e===M["a"].getSessionDate()}}})));case 3:case"end":return n.stop()}}),n)})))()},getNextTask:function(){return he["a"].getNextTaskParams(this.patientId)},goToNextTask:function(){Object(Ve["b"])(this.patientId,this.$router)},onActiveVisitDate:function(e){this.activeVisitDate=e.value},getPatientCardInfo:function(e){var t=e.getBirthdate(),n="M"===e.getGender()?ge["man"]:ge["woman"];return[{label:"Name",value:e.getFullName(),other:{icon:n}},{label:"Birthdate",value:"\n                    ".concat(this.toDate(t),"\n                    (").concat(e.getAge(),") \n                    (").concat(e.getNationalID(),")")},{label:"Current Village",value:e.getCurrentVillage()},{label:"Phone#",value:e.getPhoneNumber()}]},getActivitiesCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.type.name,value:t.toTime(e.encounter_datetime),other:{provider:Ie["a"].getPersonFullName(e.provider_id),id:e.encounter_id,columns:["Observation","Value","Time"],onVoid:function(){var n=Object(L["a"])(regeneratorRuntime.mark((function n(o){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.showLoader();case 2:ke["a"].voidEncounter(e.encounter_id,o).then((function(){t.clearLoader(),t.loadSavedEncounters(),t.updateCardVisitData(t.activeVisitDate,!0,e.type.name),t.getNextTask().then((function(e){return t.nextTask=e})),Object(Q["d"])("Encounter has been voided!",2e3)})).catch((function(e){t.clearLoader(),Object(Q["c"])("".concat(e),32e3)}));case 3:case"end":return n.stop()}}),n)})));function o(e){return n.apply(this,arguments)}return o}(),getRows:function(){var t=Object(L["a"])(regeneratorRuntime.mark((function t(){var n,o,r,c,a,i,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=[],o=e.observations,t.t0=regeneratorRuntime.keys(o);case 3:if((t.t1=t.t0()).done){t.next=27;break}if(r=t.t1.value,c="<UNKNOWN CONCEPT>",a=o[r],t.prev=7,null===a||void 0===a||null===(i=a.concept)||void 0===i||!i.concept_names){t.next=12;break}c=a.concept.concept_names[0].name,t.next=15;break;case 12:return t.next=14,Ce["a"].getConceptName(a.concept_id);case 14:c=t.sent;case 15:t.next=20;break;case 17:t.prev=17,t.t2=t["catch"](7),console.error(a,t.t2);case 20:return t.next=22,z["a"].resolvePrimaryValue(a);case 22:s=t.sent,l=A["c"].toStandardHisTimeFormat(a.date_created),n.push([c,s,l]),t.next=3;break;case 27:return t.abrupt("return",n);case 28:case"end":return t.stop()}}),t,null,[[7,17]])})));function n(){return t.apply(this,arguments)}return n}()}}}))},getMedicationCardInfo:function(e){var t=this;return e.map((function(e){return{label:e.drug.name,value:t.toTime(e.order.start_date),other:e}}))},getLabOrderCardInfo:function(e){var t=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("function"!==typeof t.app.getPatientDashboardLabOrderCardItems){n.next=2;break}return n.abrupt("return",t.app.getPatientDashboardLabOrderCardItems(t.patientId,e));case 2:return n.next=4,H["a"].getOrders(t.patientId,{date:e});case 4:return o=n.sent,n.abrupt("return",o.map((function(e){return{label:e.specimen.name,value:t.toTime(e.order_date)}})));case 6:case"end":return n.stop()}}),n)})))()},getPatientAlertCardInfo:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!("getPatientDashboardAlerts"in e.app)){t.next=2;break}return t.abrupt("return",e.app.getPatientDashboardAlerts(e.patient));case 2:case"end":return t.stop()}}),t)})))()},changeApp:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E["a"].selectApplication("PatientDashboard",!0);case 2:if(n=t.sent,n){t.next=5;break}return t.abrupt("return");case 5:n.programID!=e.programId?(e.programId=n.programID,e.$router.push("/patients/confirm?patient_barcode=".concat(e.patient.getNationalID()))):e.initData();case 6:case"end":return t.stop()}}),t)})))()},showTasks:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"primaryPatientActivites"in e.app&&(n=Object(T["a"])(e.app.primaryPatientActivites).map((function(t){var n=(t.encounterTypeName||t.name).toLowerCase();return"object"!==Object(P["a"])(t.taskCompletionChecklist)||Object(Y["isEmpty"])(e.sessionEncounterMap)?t.taskCompleted=!Object(Y["isEmpty"])(e.sessionEncounterMap[n]):t.taskCompleted=t.taskCompletionChecklist.every((function(t){return Object(Y["isArray"])(e.sessionEncounterMap[n])&&e.sessionEncounterMap[n].includes(t.toLowerCase())})),t})),e.openModal(n,"Tasks for",ne,e.sessionDate));case 1:case"end":return t.stop()}}),t)})))()},showOptions:function(){if("secondaryPatientActivites"in this.app){var e=this.app.secondaryPatientActivites;this.openModal(e,"Select Activity",ne)}},startModal:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,K["modalController"].create({component:e,backdropDismiss:!1,cssClass:"large-modal",componentProps:t});case 2:n.sent.present();case 3:case"end":return n.stop()}}),n)})))()},openModal:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.startModal(n,{items:e,title:"".concat(t,": ").concat(o||this.toDate(this.activeVisitDate.toString())),taskParams:{patient:this.patient.getObj(),program:this.patientProgram,visitDate:this.activeVisitDate,patientID:this.patientId,savedEncounters:this.savedEncounters}})},openTableModal:function(e,t,n){this.startModal(ve,{columns:e,rows:t,title:"".concat(n,": ").concat(this.toDate(this.activeVisitDate.toString()))})},onCancel:function(){Qe["a"].invalidate("ACTIVE_PATIENT"),Qe["a"].invalidate("PATIENT_PROGRAM"),Qe["a"].invalidate("PATIENT_LAB_ORDERS"),this.$router.push({path:"/"})}}});n("e8ef");const Ze=ee()(Xe,[["render",B],["__scopeId","data-v-2709f2f0"]]);t["default"]=Ze},"627d":function(e,t,n){"use strict";n("8434")},"6ba7":function(e,t,n){"use strict";n("aa70")},"71c3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("5530"),r=n("d4ec"),c=n("bee2"),a=n("262e"),i=n("2caf"),s=(n("d81d"),n("99af"),n("1c74")),l=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(c["a"])(n,null,[{key:"create",value:function(e){return this.postJson("drug_orders",e)}},{key:"updateDispensationOrders",value:function(e){var t=this;return this.postJson("dispensations",{program_id:this.getProgramID(),dispensations:e.map((function(e){return{date:t.getSessionDate(),drug_order_id:e["order_id"],quantity:e["quantity"]}}))})}},{key:"getDrugOrderHistory",value:function(e){return this.getJson("drug_orders",{patient_id:e})}},{key:"getDrugOrders",value:function(e){return this.getJson("drug_orders",{patient_id:e,date:this.getSessionDate(),program_id:this.getProgramID()})}},{key:"getAllDrugOrders",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.getJson("drug_orders",{patient_id:e,program_id:s["e"].getProgramID(),page_size:t})}},{key:"getLastDrugsReceived",value:function(e){return this.getJson("patients/".concat(e,"/last_drugs_received"),{date:this.getSessionDate(),program_id:this.getProgramID()})}},{key:"getDrugDosages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getSessionDate(),o={drug_id:t,date:n};return this.getJson("programs/".concat(this.getProgramID(),"/patients/").concat(e,"/drug_doses"),o)}},{key:"getOrderByPatient",value:function(e,t){return this.getJson("/drug_orders",Object(o["a"])({patient_id:e,program_id:this.getProgramID()},t))}}]),n}(s["e"])},"76df":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("1da1"),r=(n("96cf"),n("7f35"));function c(e){return a.apply(this,arguments)}function a(){return a=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"action-sheet-modal",e.next=3,Object(r["c"])("Are you sure you want to void record?","Please specify reason for voiding this record",["Mistake/ Wrong Entry","Duplicate","System Error"],[{name:"Cancel",slot:"start"},{name:"Void",color:"danger",slot:"end",role:"action"}],"",n);case 3:if(o=e.sent,!o.selection||"Void"!==o.action){e.next=7;break}return e.next=7,t(o.selection);case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}},"7bd8":function(e,t,n){},8434:function(e,t,n){},"913b":function(e,t,n){"use strict";n("7bd8")},aa70:function(e,t,n){},bb9e:function(e,t,n){},c522:function(e,t,n){},cbbc:function(e,t,n){"use strict";n("c522")},d10e:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("1da1"),r=n("5530"),c=n("d4ec"),a=n("bee2"),i=n("45eb"),s=n("7e84"),l=n("262e"),u=n("2caf"),d=(n("96cf"),n("1c74")),b=function(e){Object(l["a"])(n,e);var t=Object(u["a"])(n);function n(e){var o;return Object(c["a"])(this,n),o=t.call(this),o.person=e,o}return Object(a["a"])(n,[{key:"create",value:function(){return d["e"].postJson("/people",this.person)}},{key:"update",value:function(e){return d["e"].putJson("people/".concat(e),Object(r["a"])(Object(r["a"])({},this.person),{},{program_id:d["e"].getProgramID()}))}}],[{key:"searchFamilyName",value:function(e){return Object(i["a"])(Object(s["a"])(n),"getJson",this).call(this,"/search/family_name",{search_string:e})}},{key:"searchGivenName",value:function(e){return Object(i["a"])(Object(s["a"])(n),"getJson",this).call(this,"/search/given_name",{search_string:e})}},{key:"getPersonFullName",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(Object(s["a"])(n),"getJson",this).call(this,"/people/".concat(t,"/names"));case 2:return o=e.sent,e.abrupt("return",o&&o.length?o[0].given_name+" "+o[0].family_name:"");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(d["e"])},e4a1:function(e,t,n){},e8ef:function(e,t,n){"use strict";n("bb9e")},eed0:function(e,t,n){"use strict";n("e4a1")}}]);
//# sourceMappingURL=chunk-1985467b.d30705e1.js.map