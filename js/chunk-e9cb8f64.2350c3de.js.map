{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ART/views/encounters/BPDrug_management.vue","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/apps/ART/views/encounters/BPDrug_management.vue?88e9","webpack:///./src/components/Forms/SIngleTouchField.vue"],"names":["_withId","_withScopeId","_pushScopeId","_hoisted_1","_createVNode","class","_hoisted_2","key","_hoisted_3","id","style","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_createTextVNode","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_col","_resolveComponent","_component_ion_row","_component_ion_toolbar","_component_ion_header","_component_ion_checkbox","_component_ion_button","_component_view_port","_component_ion_content","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","_","drugs","_Fragment","_renderList","item","itemIndex","_toDisplayString","drug","drugIndex","amount","i","checked","selected","onIonChange","$event","selectDrug","Object","keys","ind","onClick","launchNotePad","color","d","valign","notes","note","date","description","isNewNote","removeNote","_createCommentVNode","size","slot","gotoPatientDashboard","canClearHtnSessionPrescription","clearPrescriptionInSession","selectedDrugs","length","onFinish","defineComponent","mixins","EncounterMixinVue","components","ViewPort","IonToolbar","IonHeader","IonContent","IonRow","IonButton","IonCol","IonFooter","IonPage","IonCheckbox","watch","ready","HTN","BPManagementService","patientID","providerID","getDrugs","getCurrentDrugs","setPreviousBpDrugs","setPreviousBpNotes","patientHasHtnSessionKey","immediate","data","methods","sessionStorage","removeItem","HTN_SESSION_KEY","Prescription","sessionData","getItem","JSON","parse","e","console","warn","splice","showModal","helpText","type","FieldType","TT_TEXT","push","ProgramService","getSessionDate","value","drugID","drugNotes","values","filter","isEmpty","map","reduce","accum","cur","concat","n","buildObs","createEncounter","saveObservationList","Promise","all","toastWarning","gotoTreatment","htnDrugs","find","htnDrugReferences","setItem","stringify","$router","currentField","modal","modalController","create","component","TouchField","backdropDismiss","cssClass","componentProps","dismissType","present","forEach","element","index","drug_id","current","event","detail","computed","__exports__","AppEncounterService","constructor","super","sbp","dbp","bpTrail","firstRecentGrade","secondRecentGrade","sort","a","b","bp","this","getBpGrade","getSystolicBp","ObservationService","getFirstValueNumber","getDiastolicBp","query","getFirstValueCoded","getJson","pills","postJson","state","HCZ","drugName","isChecked","dispensed","expectedRemaining","adherence","Enalapril","remaining","Amlodipine","Atenolol","_component_ion_title","_withCtx","_KeepAlive","_resolveDynamicComponent","currentFieldig","options","preset","clear","valueClearIndex","fdata","formData","config","cdata","computedFormData","activationState","onValue","defaultValue","onValueUpdate","onOnValue","onFieldValue","disabled","disableBtn","onClose","onClear","onDone","buildAsyncComponents","COMPONENT_REFS","name","defineAsyncComponent","IonTitle","props","String","Function","required","dismiss","back","validation","errors","join","toastDanger","error"],"mappings":"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","file":"js/chunk-e9cb8f64.2350c3de.js","sourcesContent":["import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, KeepAlive as _KeepAlive } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Close \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Clear \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Done \")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_title, { class: \"his-lg-text ion-text-center\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(_toDisplayString(_ctx.currentField.helpText), 1 /* TEXT */)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, null, {\n        default: _withCtx(() => [\n          (_openBlock(), _createBlock(_KeepAlive, null, [\n            (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.currentField.type), {\n              key: _ctx.currentField.id,\n              currentFieldig: _ctx.currentField.currentFieldig,\n              options: _ctx.currentField.options,\n              preset: _ctx.currentField.preset,\n              clear: _ctx.valueClearIndex,\n              fdata: _ctx.formData,\n              config: _ctx.currentField.config,\n              cdata: _ctx.computedFormData,\n              activationState: _ctx.state,\n              onValue: _ctx.currentField.onValue,\n              defaultValue: _ctx.currentField.defaultValue,\n              onValueUpdate: _ctx.currentField.onValueUpdate,\n              onOnValue: _ctx.onFieldValue\n            }, null, 8, [\"currentFieldig\", \"options\", \"preset\", \"clear\", \"fdata\", \"config\", \"cdata\", \"activationState\", \"onValue\", \"defaultValue\", \"onValueUpdate\", \"onOnValue\"]))\n          ], 1024))\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, { color: \"light\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_button, {\n                disabled: _ctx.disableBtn,\n                onClick: _ctx.onClose,\n                slot: \"start\",\n                color: \"danger\",\n                size: \"large\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_1\n                ]),\n                _: 1\n              }, 8, [\"disabled\", \"onClick\"]),\n              _createVNode(_component_ion_button, {\n                disabled: _ctx.disableBtn,\n                onClick: _ctx.onClear,\n                slot: \"end\",\n                color: \"warning\",\n                size: \"large\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_2\n                ]),\n                _: 1\n              }, 8, [\"disabled\", \"onClick\"]),\n              _createVNode(_component_ion_button, {\n                disabled: _ctx.disableBtn,\n                onClick: _ctx.onDone,\n                slot: \"end\",\n                color: \"success\",\n                size: \"large\"\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_3\n                ]),\n                _: 1\n              }, 8, [\"disabled\", \"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent, PropType, defineAsyncComponent } from 'vue'\nimport { Field, Option } from \"@/components/Forms/FieldInterface\"\nimport { toastDanger, toastWarning } from \"@/utils/Alerts\";\nimport { COMPONENT_REFS } from \"@/components/Forms/BaseFormElements\";\nimport {\n    IonToolbar,\n    IonContent,\n    IonHeader,\n    IonTitle,\n    IonButton,\n    IonPage,\n    IonFooter,\n    modalController\n} from \"@ionic/vue\"\n\nfunction buildAsyncComponents() {\n  const components: any = {}\n  COMPONENT_REFS.forEach((name: string) => {\n    components[name] = defineAsyncComponent(() => import(\n      /* webpackChunkName: \"TouchFormElement\"*/`@/components/FormElements/${name}.vue`)\n    )\n  })\n  return components\n}\n\nexport default defineComponent({\n    name: 'SingleFieldTouchForm',\n    components: {\n        IonPage,\n        IonContent,\n        IonFooter,\n        IonToolbar,\n        IonButton,\n        IonHeader,\n        IonTitle,\n        ...buildAsyncComponents()\n    },\n    props: {\n        dismissType: {\n            type: String\n        },\n        onFinish: {\n           type: Function,\n           required: true\n        },\n        currentField: {\n            type: Object as PropType<Field>,\n            required: true\n        }\n    },\n    data: () => ({\n        valueClearIndex: 0 as number,\n        formData: {} as any,\n        computedFormData: {} as any,\n        state: \"\" as string,\n        value: null as Option | Option[] | null,\n        disableBtn: false as boolean,\n    }),\n    methods: {\n        onClose() {\n            if (this.dismissType === 'modal') {\n                modalController.dismiss()\n            } else {\n                this.$router.back()\n            }\n        },\n        onClear() {\n            this.valueClearIndex += 1\n            this.value = null\n        },\n        onFieldValue(value: any) {\n            this.value = value\n        },\n        onDone() {\n            this.disableBtn = true\n            if (this.currentField.validation) {\n                const errors = this.currentField.validation(this.value)\n                this.disableBtn = false\n                if (errors) return toastWarning(errors.join(\", \"), 60000);\n            } \n            try {\n                this.onFinish(this.value)\n            } catch(e) {\n                toastDanger(e)\n                console.error(e)\n            }\n            this.onClose()\n            this.disableBtn = false\n        }\n    }\n})\n","import { render } from \"./BPDrug_management.vue?vue&type=template&id=7217b18a&scoped=true&ts=true\"\nimport script from \"./BPDrug_management.vue?vue&type=script&lang=ts\"\nexport * from \"./BPDrug_management.vue?vue&type=script&lang=ts\"\n\nimport \"./BPDrug_management.vue?vue&type=style&index=0&id=7217b18a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7217b18a\"]])\n\nexport default __exports__","import { AppEncounterService } from \"@/services/app_encounter_service\"\nimport { ObservationService } from \"@/services/observation_service\"\n\nexport enum HTN_SESSION_KEY {\n  Prescription = \"htnPrescription\"\n}\n\nexport class BPManagementService extends AppEncounterService {\n    constructor(patientID: number, providerID: number) {\n      super(patientID, 48, providerID) //TODO: Use encounter type reference name'\n    }\n\n    static getBpGrade(sbp: number, dbp: number) {\n      if ((sbp < 140) && (dbp < 90)) {\n        return \"normal\"\n      }\n      else if ((sbp >= 140 && sbp < 160) || (dbp >= 100 && dbp < 110)) {\n        return \"grade 1\"\n      }\n      else if ((sbp >= 180 && dbp > 110) || sbp >= 180) {\n        return \"grade 3\"\n      }\n      else if ((sbp >= 160 && sbp < 180) || (dbp >= 110)) {\n        return \"grade 2\"\n      }\n      return 'N/A'\n    }\n\n    /**\n     * BP is normointensive if two most recent consecutive tests are normal\n     * @param bpTrail \n     * @returns\n    */\n    static isBpNormotensive(bpTrail: any) {\n      const [ firstRecentGrade, secondRecentGrade ] = Object.values(bpTrail)\n        .sort((a: any, b: any) => a.date < b.date ? 1 : 0)\n        .map((bp: any) => this.getBpGrade(bp.sbp, bp.dbp))\n      return firstRecentGrade === 'normal' && secondRecentGrade === 'normal'\n    }\n\n    getSystolicBp() {\n      return ObservationService.getFirstValueNumber(this.patientID, 'Systolic blood pressure')\n    }\n\n    getDiastolicBp() {\n      return ObservationService.getFirstValueNumber(this.patientID, 'Diastolic blood pressure')\n    }\n\n    async onBpDrugs() {\n      const query = await ObservationService.getFirstValueCoded(this.patientID, 'Treatment status')\n      return query ? query === 'Yes' : false\n    }\n  \n    async getBPTrail() {\n      return await AppEncounterService.getJson(`/patients/${this.patientID}/bp_trail`);\n    }\n    async getCurrentDrugs() {\n      return await AppEncounterService.getJson(`/patients/${this.patientID}/current_bp_drugs`);\n    }\n    async getLastDrugs() {\n      return await AppEncounterService.getJson(`/patients/${this.patientID}/last_bp_drugs_dispensation`);\n    }\n    async getAdherence(drugID: number, pills: number) {\n      return await AppEncounterService.postJson(`/patients/${this.patientID}/remaining_bp_drugs`, {\n        'drug_id': drugID,\n        pills: pills\n      });\n    }\n    async enrollPatient(state: any) {\n      return await AppEncounterService.postJson(`/patients/${this.patientID}/update_or_create_htn_state`, state);\n    }\n    static htnDrugReferences() {\n      return [\n        { \n          'drug_id': 275,\n          'drug_name': \"HCZ (25mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 942,\n          'drug_name': \"Enalapril (5mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 943,\n          'drug_name': \"Enalapril (10mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 558,\n          'drug_name': \"Amlodipine (5mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 559,\n          'drug_name': \"Amlodipine (10mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 117,\n          'drug_name': \"Atenolol (50mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        },\n        {\n          'drug_id': 11,\n          'drug_name': \"Atenolol(100mg tablet)\",\n          'units': 'tab(s)',\n          'am': 0,\n          'noon': 0,\n          'pm': 1,\n          'frequency': 'Daily (QOD)'\n        }\n      ]\n    }\n    getDrugs() {\n        return {\n        HCZ: {\n          drugs: [\n            {\n              drugName: \"HCZ (25mg tablet)\",\n              drugID: 275,\n              amount: '25mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n            },\n          ],\n          selected: null,\n          notes: [],\n        },\n        Enalapril: {\n          drugs: [\n            {\n              drugName: \"Enalapril (5mg tablet)\",\n              drugID: 942,\n              amount: '5mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n            {\n              drugName: \"Enalapril (10mg tablet)\",\n              drugID: 943,\n              amount: '10mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n          ],\n          selected: null,\n          notes: [],\n        },\n        Amlodipine: {\n          drugs: [\n            {\n              drugName: \"Amlodipine (5mg tablet)\",\n              drugID: 558,\n              amount: '5mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n            {\n              drugName: \"Amlodipine (10mg tablet)\",\n              drugID: 559,\n              amount: '10mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n          ],\n          selected: null,\n          notes: [],\n        },\n        Atenolol: {\n          drugs: [\n            {\n              drugName: \"Atenolol (50mg tablet)\",\n              drugID: 117,\n              amount: '50mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n            {\n              drugName: \"Atenolol(100mg tablet)\",\n              drugID: 11,\n              amount: '100mg',\n              current: false,\n              selected: false,\n              isChecked: false,\n              dispensed: null,\n              expectedRemaining: null,\n              adherence: null,\n              remaining: null,\n            },\n          ],\n          selected: null,\n          notes: [],\n        },\n      }\n    }\n}","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BPDrug_management.vue?vue&type=style&index=0&id=7217b18a&scoped=true&lang=css\"","import { render } from \"./SIngleTouchField.vue?vue&type=template&id=78de1c7c&ts=true\"\nimport script from \"./SIngleTouchField.vue?vue&type=script&lang=ts\"\nexport * from \"./SIngleTouchField.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}