{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ANC/Views/Encounters/MedicalHistory.vue"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","fields","formFields","skipSummary","onFinishAction","onFinish","cancelDestinationPath","cancelDestination","_","AncMedicalHistoryService","AppEncounterService","constructor","patientID","providerID","super","ConceptService","getConceptsByCategory","defineComponent","components","IonPage","mixins","EncounterMixinVue","data","service","watch","ready","handler","this","getFields","immediate","methods","computedData","obs","resolveObs","anc","createEncounter","saveObservationList","nextTask","id","helpText","type","FieldType","TT_MULTIPLE_YES_NO","validation","v","Validation","required","computedValue","map","i","buildValueCoded","label","value","options","medicalHistoryOptions","h","name","other","values","yesNoOptions","config","footerBtns","slot","onClickComponentEvents","refreshOptions","onClick","__exports__"],"mappings":"wIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA+BC,8BAAkB,qBACjDC,EAAsBD,8BAAkB,YAE9C,OAAQE,yBAAcC,yBAAaF,EAAqB,KAAM,CAC5DG,QAASC,qBAAS,IAAM,CACtBC,yBAAaP,EAA8B,CACzCQ,OAAQd,EAAKe,WACbC,aAAa,EACbC,eAAgBjB,EAAKkB,SACrBC,sBAAuBnB,EAAKoB,mBAC3B,KAAM,EAAG,CAAC,SAAU,iBAAkB,4BAE3CC,EAAG,I,oDCZD,MAAOC,UAAiCC,OAC1CC,YAAYC,EAAmBC,GAC3BC,MAAMF,EAAW,GAAIC,GAGG,+BACxB,OAAOE,OAAeC,sBAAsB,wB,4BCCrCC,+BAAgB,CAC7BC,WAAY,CAAEC,gBACdC,OAAQ,CAACC,QACTC,KAAM,KAAM,CACVpB,WAAY,GACZqB,QAAS,KAEXC,MAAO,CACLC,MAAO,CACLC,QAAQD,GACFA,IAAOE,KAAKzB,WAAayB,KAAKC,cAEpCC,WAAW,IAGfC,QAAS,CACP,eAAetB,EAAQuB,GACrB,MAAMC,QAAYL,KAAKM,WAAWF,GAC5BG,EAAM,IAAIzB,EAAyBkB,KAAKf,UAAWe,KAAKd,kBACxDqB,EAAIC,wBACJD,EAAIE,oBAAoBJ,GAC9BL,KAAKU,YAEPT,YACE,MAAO,CACL,CACEU,GAAI,kBACJC,SAAU,6BACVC,KAAMC,OAAUC,mBAChBC,WAAaC,GAAgBC,OAAWC,SAASF,GACjDG,cAAgBH,GACPA,EAAEI,IAAIC,GAAKxC,EAAyByC,gBAAgBD,EAAEE,MAAO,GAAGF,EAAEG,QAE3EC,QAAS,IACA5C,EAAyB6C,wBAAwBN,IAAIO,IAAC,CAC1DJ,MAAOI,EAAEC,KACTJ,MAAO,GACPK,MAAO,CACJC,OAAQ/B,KAAKgC,mBAIrBC,OAAS,CACPC,WAAY,CACV,CACEL,KAAM,OACNM,KAAM,MACNC,uBAAuB,CACrBC,eAAgB,IACPvD,EAAyB6C,wBAAwBN,IAAIO,IAAC,CAC3DJ,MAAOI,EAAEC,KACTJ,MAAO,KACPK,MAAO,CACLC,OAAQ/B,KAAKgC,oBAKrBM,QAAS,IAAM,gB,qBC/D/B,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAShF,KAErD","file":"js/chunk-77126da4.ac2f596b.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        fields: _ctx.formFields,\n        skipSummary: true,\n        onFinishAction: _ctx.onFinish,\n        cancelDestinationPath: _ctx.cancelDestination\n      }, null, 8, [\"fields\", \"onFinishAction\", \"cancelDestinationPath\"])\n    ]),\n    _: 1\n  }))\n}","import { AppEncounterService } from \"@/services/app_encounter_service\";\nimport { ConceptService } from \"@/services/concept_service\";\n\nexport class AncMedicalHistoryService extends AppEncounterService {\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 30, providerID)\n    }\n\n    static medicalHistoryOptions() {\n        return ConceptService.getConceptsByCategory('anc_medical_history')\n    }\n}\n","\nimport EncounterMixinVue from '@/views/EncounterMixin.vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { defineComponent } from 'vue'\nimport { AncMedicalHistoryService } from \"@/apps/ANC/Services/anc_medical_history_service\"\nimport { Option } from '@/components/Forms/FieldInterface'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { IonPage } from \"@ionic/vue\"\nimport { ObsValue } from '@/services/observation_service'\n\nexport default defineComponent({\n  components: { IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    formFields: [] as any,\n    service: {} as any\n  }),\n  watch: {\n    ready: {\n      handler(ready: boolean) {\n        if (ready) this.formFields = this.getFields()\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async onFinish(_: any, computedData: any) {\n      const obs = await this.resolveObs(computedData)\n      const anc = new AncMedicalHistoryService(this.patientID, this.providerID)\n      await anc.createEncounter()\n      await anc.saveObservationList(obs as ObsValue[])\n      this.nextTask()\n    },\n    getFields() {\n      return [\n        {\n          id: 'medical_history',\n          helpText: 'Past Medical Complications',\n          type: FieldType.TT_MULTIPLE_YES_NO,\n          validation: (v: Option[]) => Validation.required(v),\n          computedValue: (v: Option[]) => {\n            return v.map(i => AncMedicalHistoryService.buildValueCoded(i.label, `${i.value}`))\n          },\n          options: () => {\n            return AncMedicalHistoryService.medicalHistoryOptions().map(h =>({\n               label: h.name,\n               value: '',\n               other: {\n                  values: this.yesNoOptions()\n               }\n            }))\n          },\n          config : {\n            footerBtns: [\n              {\n                name: \"None\",\n                slot: \"end\",\n                onClickComponentEvents:{\n                  refreshOptions: () => {\n                    return AncMedicalHistoryService.medicalHistoryOptions().map(h =>({\n                      label: h.name,\n                      value: 'No',\n                      other: {\n                        values: this.yesNoOptions()\n                      }\n                    }))\n                  }\n                },\n                onClick: () => 'None'\n              }\n            ]\n          }\n        }\n      ]\n    }\n  }\n})\n","import { render } from \"./MedicalHistory.vue?vue&type=template&id=3dd6a597&ts=true\"\nimport script from \"./MedicalHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./MedicalHistory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}