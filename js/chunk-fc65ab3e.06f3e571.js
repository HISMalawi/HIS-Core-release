(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc65ab3e"],{"1d25":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:" his-lg-text ion-padding-start"},a=Object(o["createTextVNode"])(" Dashboard "),c=Object(o["createTextVNode"])(" Refresh ");function l(e,t,n,l,i,u){var s=Object(o["resolveComponent"])("ion-button"),d=Object(o["resolveComponent"])("dashboard-card"),b=Object(o["resolveComponent"])("ion-col"),p=Object(o["resolveComponent"])("ion-row"),O=Object(o["resolveComponent"])("line-chart"),f=Object(o["resolveComponent"])("ion-grid"),j=Object(o["resolveComponent"])("layout");return Object(o["openBlock"])(),Object(o["createBlock"])(j,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("h1",r,[a,Object(o["createVNode"])(s,{class:"ion-margin-end ion-float-right",onClick:t[1]||(t[1]=function(){return e.loadData(!0)})},{default:Object(o["withCtx"])((function(){return[c]})),_:1})]),Object(o["createVNode"])(f,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"size-lg":"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{value:e.missedAppointments,label:"Missed Appointments",color:"primary",icon:e.calendar},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(b,{"size-lg":"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{value:e.appointmentsDue,label:"Appointments Due",color:"success",icon:e.alarm},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(b,{"size-lg":"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{value:e.dueForVL,label:"Due for Viral Load",color:"secondary",icon:e.time},null,8,["value","icon"])]})),_:1}),Object(o["createVNode"])(b,{"size-lg":"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{value:e.defaulters,label:"Defaulters (this Quarter)",color:"danger",icon:e.people},null,8,["value","icon"])]})),_:1})]})),_:1}),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{"size-lg":"3"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(d,{label:"Patients on DTG",value:e.patientsOnDTG,class:"his-card"},null,8,["value"]),Object(o["createVNode"])(d,{label:"TX Current (30 Days)",value:e.txCurrent30,class:"his-card"},null,8,["value"]),Object(o["createVNode"])(d,{label:"TX Current (60 Days)",value:e.txCurrent60,class:"his-card"},null,8,["value"])]})),_:1}),Object(o["createVNode"])(b,{"size-lg":"9"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(O,{options:e.chartOptions,series:e.chartSeries},null,8,["options","series"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})}var i=n("5530"),u=n("1da1"),s=(n("96cf"),n("b64b"),n("d3b7"),n("159b"),n("8d56")),d=n("8a30"),b=Object(o["withScopeId"])("data-v-4e012de6"),p=b((function(e,t,n,r,a,c){var l=Object(o["resolveComponent"])("ion-card-title"),i=Object(o["resolveComponent"])("ion-spinner"),u=Object(o["resolveComponent"])("ion-card-subtitle"),s=Object(o["resolveComponent"])("ion-icon"),d=Object(o["resolveComponent"])("ion-card-content"),p=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(p,{color:e.color},{default:b((function(){return[Object(o["createVNode"])(d,{class:"ion-padding"},{default:b((function(){return[Object(o["createVNode"])(l,{class:"ion-padding"},{default:b((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),_:1}),e.isLoading?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,class:"ion-padding"},{default:b((function(){return[Object(o["createVNode"])(i,{name:"bubbles",color:e.loaderColor},null,8,["color"])]})),_:1})):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,class:"ion-padding"},{default:b((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.value),1)]})),_:1})),e.canShowIcon?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:2,icon:e.icon,class:"ion-float-right"},null,8,["icon"])):Object(o["createCommentVNode"])("",!0)]})),_:1})]})),_:1},8,["color"])})),O=(n("a9e3"),Object(o["defineComponent"])({name:"DashboardCard",props:{value:{type:Number,default:-1},label:{type:String,required:!0},icon:{type:String},color:{type:String,default:"light"}},components:{IonCard:d["IonCard"],IonCardContent:d["IonCardContent"],IonCardTitle:d["IonCardTitle"],IonCardSubtitle:d["IonCardSubtitle"],IonSpinner:d["IonSpinner"],IonIcon:d["IonIcon"]},setup:function(e){var t=Object(o["computed"])((function(){return-1===e.value})),n=Object(o["computed"])((function(){var t;return!(null===(t=e.icon)||void 0===t||!t.length)})),r=Object(o["computed"])((function(){return"light"===e.color?"primary":"light"}));return{isLoading:t,canShowIcon:n,loaderColor:r}}})),f=(n("7d1e"),n("d959")),j=n.n(f);const h=j()(O,[["render",p],["__scopeId","data-v-4e012de6"]]);var m=h,C=n("ff79"),v=n("9283"),g=n("8e8b"),x=n("2845"),N=n("c5be"),I=n("2ef0"),y=Object(o["defineComponent"])({name:"Dashboard",inheritAttrs:!1,components:{Layout:s["a"],IonGrid:d["IonGrid"],IonRow:d["IonRow"],IonCol:d["IonCol"],DashboardCard:m,LineChart:N["a"],IonButton:d["IonButton"]},setup:function(){var e=v["c"].toStandardHisFormat(new Date),t=v["c"].getDateQuarter(e),n=v["c"].add(e,"day",1).format(v["b"]),r=Object(o["ref"])(),a=Object(o["ref"])(),c=Object(o["ref"])(),l=Object(o["ref"])(),s=Object(o["ref"])(),d=Object(o["ref"])(),b=Object(o["ref"])(),p=Object(o["ref"])([]),O=Object(o["ref"])({}),f=function(e){if(!Object(I["isEmpty"])(e)){var t=Object.keys(e),n=[],o=[],r=[];t.forEach((function(t){r.push(v["c"].toStandardHisDisplayFormat(t)),n.push(e[t].complete),o.push(e[t].incomplete)})),O.value={title:{text:"Complete / incomplete visits",align:"left"},xaxis:{categories:r,tickAmount:30,labels:{show:!0,rotate:-75}}},p.value=[{name:"Complete Visits",data:n},{name:"Incomplete Visits",data:o}]}},j=function(){var o=Object(u["a"])(regeneratorRuntime.mark((function o(){var u,p=arguments;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return u=p.length>0&&void 0!==p[0]&&p[0],o.next=3,g["a"].get(x["a"].PATIENT_ON_DTG,{quarter:t,reload:u});case 3:return s.value=o.sent.length,o.t0=f,o.next=7,g["a"].get(x["a"].PATIENT_VISITS,{quarter:t,reload:u});case 7:return o.t1=o.sent,(0,o.t0)(o.t1),o.next=11,g["a"].get(x["a"].APPOINTMENTS_DUE,{date:n,reload:u});case 11:return a.value=o.sent.length,o.next=14,g["a"].get(x["a"].MISSED_APPOINTMENTS,{date:e,quarter:t,reload:u});case 14:return r.value=o.sent.length,o.next=17,g["a"].get(x["a"].TX_CURRENT_30,{quarter:t,reload:u});case 17:return d.value=o.sent.length,o.next=20,g["a"].get(x["a"].TX_CURRENT_60,{quarter:t,reload:u});case 20:return b.value=o.sent.length,o.next=23,g["a"].get(x["a"].DUE_FOR_VL,{quarter:t,reload:u});case 23:return c.value=o.sent.length,o.next=26,g["a"].get(x["a"].DEFAULTERS,{date:e,quarter:Object(i["a"])(Object(i["a"])({},t),{},{end:e}),reload:u});case 26:l.value=o.sent.length;case 27:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return Object(o["onMounted"])(Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",j());case 1:case"end":return e.stop()}}),e)})))),{people:C["people"],calendar:C["calendar"],alarm:C["alarm"],time:C["time"],missedAppointments:r,appointmentsDue:a,dueForVL:c,defaulters:l,patientsOnDTG:s,txCurrent30:d,txCurrent60:b,chartOptions:O,chartSeries:p,loadData:j}}});const V=j()(y,[["render",l]]);t["default"]=V},"4e17":function(e,t,n){},"7d1e":function(e,t,n){"use strict";n("4e17")},c5be:function(e,t,n){"use strict";var o=n("7a23");function r(e,t,n,r,a,c){var l=Object(o["resolveComponent"])("apex-chart"),i=Object(o["resolveComponent"])("ion-card-content"),u=Object(o["resolveComponent"])("ion-card");return Object(o["openBlock"])(),Object(o["createBlock"])(u,{class:"his-card",style:{height:"100%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(l,{width:"100%",height:e.height,type:"line",options:e.chartOptions,series:e.series,onClick:t[1]||(t[1]=function(t,n,o){return e.$emit("pointSelection",o)})},null,8,["height","options","series"])]})),_:1})]})),_:1})}var a=n("5530"),c=(n("a9e3"),n("8a30")),l=n("ae27"),i=n.n(l),u=Object(o["defineComponent"])({name:"LineChart",props:{series:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return[]}},height:{type:[String,Number],default:560},placeholder:{type:String,default:"Loading data..."}},components:{IonCard:c["IonCard"],IonCardContent:c["IonCardContent"],ApexChart:i.a},emits:["pointSelection"],setup:function(e){var t=Object(o["computed"])((function(){var t={chart:{id:"line-chart",type:"line"},xaxis:{type:"datetime",tickAmount:2,labels:{show:!0,rotate:-75}},tooltip:{x:{format:"dd/MMM/yyyy"}},title:{text:"Line Chart",align:"left"},noData:{text:e.placeholder,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:"#a7a7a7",fontSize:"25px",fontFamily:"Helvetica"}}};for(var n in e.options)t[n]=Object(a["a"])(Object(a["a"])({},t[n]),e.options[n]);return t}));return{chartOptions:t}}}),s=n("d959"),d=n.n(s);const b=d()(u,[["render",r]]);t["a"]=b}}]);
//# sourceMappingURL=chunk-fc65ab3e.06f3e571.js.map