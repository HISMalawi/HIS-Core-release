(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d67dc9b"],{3286:function(e,t,o){"use strict";o.r(t);var c=o("7a23");const n=Object(c["withScopeId"])("data-v-31e11cd2");Object(c["pushScopeId"])("data-v-31e11cd2");const a=Object(c["createTextVNode"])(" Drug Set "),r=Object(c["createTextVNode"])(" Cancel "),s=Object(c["createTextVNode"])(" Void Drug Set "),l=Object(c["createTextVNode"])(" Add Drug Set ");Object(c["popScopeId"])();const d=n((function(e,t,o,d,u,i){const b=Object(c["resolveComponent"])("ion-title"),j=Object(c["resolveComponent"])("ion-toolbar"),O=Object(c["resolveComponent"])("ion-header"),p=Object(c["resolveComponent"])("ion-label"),g=Object(c["resolveComponent"])("ion-item"),v=Object(c["resolveComponent"])("ion-list"),m=Object(c["resolveComponent"])("ion-col"),f=Object(c["resolveComponent"])("report-data-table"),C=Object(c["resolveComponent"])("ion-row"),_=Object(c["resolveComponent"])("ion-grid"),S=Object(c["resolveComponent"])("view-port"),k=Object(c["resolveComponent"])("ion-content"),h=Object(c["resolveComponent"])("ion-button"),D=Object(c["resolveComponent"])("ion-footer"),N=Object(c["resolveComponent"])("ion-page");return Object(c["openBlock"])(),Object(c["createBlock"])(N,null,{default:n(()=>[Object(c["createVNode"])(O,null,{default:n(()=>[Object(c["createVNode"])(j,null,{default:n(()=>[Object(c["createVNode"])(b,{class:"his-lg-text"},{default:n(()=>[a]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(k,null,{default:n(()=>[Object(c["createVNode"])(S,null,{default:n(()=>[Object(c["createVNode"])(_,{style:{"background-color":"white"},class:"view-port-content"},{default:n(()=>[Object(c["createVNode"])(C,null,{default:n(()=>[Object(c["createVNode"])(m,{size:"4"},{default:n(()=>[Object(c["createVNode"])(v,null,{default:n(()=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.drugSets,(t,o)=>(Object(c["openBlock"])(),Object(c["createBlock"])(g,{class:"his-sm-text",button:"",detail:"",color:e.selectedDrugSet.id===t.id?"lightblue":"",onClick:o=>e.selectedDrugSet=t,key:o},{default:n(()=>[Object(c["createVNode"])(p,null,{default:n(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(c["createVNode"])(m,{size:"8"},{default:n(()=>[Object(c["createVNode"])(f,{columns:e.drugSetColumns,rows:e.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Object(c["createVNode"])(D,null,{default:n(()=>[Object(c["createVNode"])(j,{color:"dark"},{default:n(()=>[Object(c["createVNode"])(h,{onClick:e.cancel,slot:"start",color:"danger",size:"large"},{default:n(()=>[r]),_:1},8,["onClick"]),e.hasSelectedDrugSet?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:0,onClick:e.voidDrugset,slot:"end",color:"danger",size:"large"},{default:n(()=>[s]),_:1},8,["onClick"])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(h,{onClick:e.addDrugset,slot:"end",color:"success",size:"large"},{default:n(()=>[l]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}));var u=o("0a79"),i=o("80e3"),b=o("9ceb"),j=o("8a30"),O=o("c84b"),p=o("2ef0"),g=o("6c02"),v=o("b5e4"),m=Object(c["defineComponent"])({components:{IonPage:j["D"],ReportDataTable:i["a"],IonList:j["y"],IonItem:j["w"],IonLabel:j["x"],ViewPort:u["a"],IonButton:j["d"],IonContent:j["n"],IonHeader:j["q"],IonGrid:j["p"],IonRow:j["H"],IonCol:j["m"],IonTitle:j["R"],IonFooter:j["o"],IonToolbar:j["S"]},setup(){const e=Object(g["f"])(),t=Object(c["ref"])({}),o=Object(c["ref"])([]),n=[[b["a"].thTxt("Drug"),b["a"].thTxt("Duration in days"),b["a"].thTxt("Frequency")]],a=Object(c["computed"])(()=>!Object(p["isEmpty"])(o.value)),r=Object(c["computed"])(()=>{var e,o;return(null===(e=t.value)||void 0===e||null===(o=e.drugs)||void 0===o?void 0:o.map(e=>[b["a"].td(e["drug_name"]||"N/A"),b["a"].td(e.duration||"N/A"),b["a"].td(e.frequency)]))||[]});function s(){e.back()}function l(){e.push({name:"add anc drugset"})}async function d(){if(await Object(v["a"])("Are you sure you want to void this drug set?"))try{await O["a"].voidDrugSet(t.value.id||-1),o.value=o.value.filter(e=>e.id!=t.value.id),Object(p["isEmpty"])(o.value)?t.value={}:t.value=o.value[0]}catch(e){Object(v["e"])("e")}}return Object(c["onMounted"])(async()=>{o.value=await O["a"].getDrugSets(),Object(p["isEmpty"])(o.value)||(t.value=o.value[0])}),{cancel:s,addDrugset:l,voidDrugset:d,drugSets:o,hasSelectedDrugSet:a,selectedDrugSet:t,drugSetColumns:n,drugSetRows:r}}}),f=(o("5271"),o("d959")),C=o.n(f);const _=C()(m,[["render",d],["__scopeId","data-v-31e11cd2"]]);t["default"]=_},5271:function(e,t,o){"use strict";o("9b6e")},"9b6e":function(e,t,o){},c84b:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));o("13d5");var c=o("1c74");class n extends c["e"]{static saveDrugSet(e){const t={...e};return t["datetime"]=c["e"].getSessionDate(),this.postJson("/drug_sets",e)}static voidDrugSet(e){return this.void("/drug_sets/"+e,{date:this.getSessionDate()})}static async getDrugSets(){const e=await this.getJson("drug_sets");return e?Object.keys(e["set_names"]).reduce((t,o)=>{const c=e["set_names"][o],n=e["set_descriptions"][o],a=e["drug_sets"][o];return t.push({id:parseInt(o),name:c,description:n,drugs:Object.keys(a).reduce((e,t)=>[...e,{id:parseInt(t),...a[t],drug_name:a[t].drug_name,duration:parseInt(a[t].duration),frequency:a[t].frequency,units:a[t].units}],[])}),t},[]):[]}}}}]);
//# sourceMappingURL=chunk-0d67dc9b.3b295e71.js.map