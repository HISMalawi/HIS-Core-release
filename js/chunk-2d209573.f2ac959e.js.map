{"version":3,"sources":["webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?d08d","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue","webpack:///./src/apps/OPD/views/encounters/SocialHistory.vue?682f"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_openBlock","_createBlock","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","defineComponent","components","HisStandardForm","mixins","EncounterMixinVue","data","socialService","watch","ready","handler","isReady","SocialHistoryService","patient","getID","providerID","getFields","immediate","deep","methods","_","computedData","createEncounter","encounter","toastWarning","resolveObs","registrationData","saveObservationList","registrationObs","nextTask","id","helpText","type","FieldType","TT_MULTIPLE_YES_NO","validation","validateSeries","Validation","required","anyEmpty","computedValue","options","obs","map","option","buildValueCoded","label","value","summaryMapValue","other","values","yesNoOptions","TT_SELECT","buildValueText","__exports__"],"mappings":"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","file":"js/chunk-2d209573.f2ac959e.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    cancelDestinationPath: _ctx.cancelDestination,\n    fields: _ctx.fields,\n    onFinishAction: _ctx.onSubmit\n  }, null, 8, [\"cancelDestinationPath\", \"fields\", \"onFinishAction\"]))\n}","\nimport { defineComponent} from 'vue'\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\nimport Validation from '@/components/Forms/validations/StandardValidations';\nimport { Field, Option } from '@/components/Forms/FieldInterface';\nimport { FieldType } from '@/components/Forms/BaseFormElements';\nimport { toastWarning } from '@/utils/Alerts';\nimport { SocialHistoryService } from '@/apps/ART/services/social_history_service';\n\nexport default defineComponent({\n  components: { HisStandardForm },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    socialService: {} as any\n  }),\n  watch: {\n    ready: {\n      async handler(isReady: boolean) {\n        if(isReady){\n          this.socialService = new SocialHistoryService(this.patient.getID(), this.providerID)\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    async onSubmit(_: any, computedData: any){\n      const encounter = await this.socialService.createEncounter()\n      if (!encounter) return toastWarning('Unable to create social history encounter')\n      \n      const registrationData = await this.resolveObs({...computedData})\n      const registrationObs = await this.socialService.saveObservationList(registrationData)\n      if (!registrationObs) return toastWarning('Unable to save observations')\n\n      this.nextTask()        \n    },\n    getFields(): Array<Field>{\n      return [\n        {\n          id: \"social_acitivites\",\n          helpText: `Social Activities`,\n          type: FieldType.TT_MULTIPLE_YES_NO,\n          validation: (data: any) => this.validateSeries([\n            () => Validation.required(data), \n            () => Validation.anyEmpty(data)\n          ]),\n          computedValue: (options: Option[]) => ({\n            obs: options.map(option => this.socialService.buildValueCoded(\n              option.label,\n              option.value\n            ))                     \n          }),\n          summaryMapValue: (option: Option) => ({\n            label: option.label,\n            value: option.value\n          }),\n          options: () => [\n            {\n              label: \"Patient smokes\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n            {\n              label: \"Patient drinks alcohol\",\n              value: \"\",\n              other: {\n                values: this.yesNoOptions(),\n              },\n            },\n          ],\n        },\n        {\n          id: 'marital_status',\n          helpText: 'Marital Status',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Marital status', value)\n          }),\n          options: () => [\n            { label: \"Single\", value: \"Single\" },\n            { label: \"Engaged\", value: \"Engaged\" },\n            { label: \"Married\", value: \"Married\" },\n            { label: \"Separated\", value: \"Separated\" },\n            { label: \"Widowed\", value: \"Widowed\" },\n            { label: \"Other\", value: \"Other\" },\n          ],\n        },\n        {\n          id: 'religion',\n          helpText: 'Religion',\n          type: FieldType.TT_SELECT,\n          validation: (value: any) => Validation.required(value),\n          computedValue: ({ value }: Option) => ({\n            obs: this.socialService.buildValueText('Religion', value)\n          }),\n          options: () => ([\n            { label: 'Catholic', value: 'Catholic' },\n            { label: 'CCAP', value: 'CCAP' },\n            { label: 'SDA', value: 'SDA' },\n            { label: 'Angelican', value: 'Angelican' },\n            { label: 'Muslim', value: 'Muslim' },\n            { label: 'Pentecostalism', value: 'Pentecostalism' },\n            { label: 'Jehovah witness', value: 'Jehovah witness' },\n            { label: 'Other', value: 'Other' },\n          ])\n        },\n      ]\n    }\n  }\n})\n","import { render } from \"./SocialHistory.vue?vue&type=template&id=f1e005e0&ts=true\"\nimport script from \"./SocialHistory.vue?vue&type=script&lang=ts\"\nexport * from \"./SocialHistory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}