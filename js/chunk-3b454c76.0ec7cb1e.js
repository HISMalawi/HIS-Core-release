(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b454c76"],{"38e6":function(e,t,i){"use strict";var l=i("7a23");const n={id:"report-content"},a={id:"moh_template"},o={key:0,class:"main-title"},r={key:1,class:"main-title"},c={key:2,class:"main-title"},s={key:3,class:"table-section"},d={key:4,colspan:2,class:"table-section"},b={key:5},_=["onClick"];function u(e,t,i,u,p,v){const m=Object(l["resolveComponent"])("layout");return Object(l["openBlock"])(),Object(l["createBlock"])(m,{logo:"login-logos/Malawi-Coat_of_arms_of_arms.png",title:e.data.title,toCSV:e.exportCsv,toPDF:e.exportPdf,period:e.data.period,dateGenerated:e.data.dateGenerated,refreshReport:e.generate,configure:e.configure},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",n,[Object(l["createElementVNode"])("table",a,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(e.indicators,(t,i)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("tr",{key:i},[t.isMainTitle?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",o,"#")):Object(l["createCommentVNode"])("",!0),t.isMainTitle?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",r,Object(l["toDisplayString"])(t.label),1)):Object(l["createCommentVNode"])("",!0),t.isMainTitle?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",c,"#")):Object(l["createCommentVNode"])("",!0),t.isSectionTitle?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",s)):Object(l["createCommentVNode"])("",!0),t.isSectionTitle?(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",d,Object(l["toDisplayString"])(t.label),1)):Object(l["createCommentVNode"])("",!0),t.isMainTitle||t.isSectionTitle?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",b,Object(l["toDisplayString"])(t.index),1)),t.isMainTitle||t.isSectionTitle?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",{key:6,style:Object(l["normalizeStyle"])(t.style||{}),class:"table-key"},Object(l["toDisplayString"])(t.label),5)),t.isMainTitle||t.isSectionTitle?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("td",{key:7,class:"table-value",onClick:i=>e.drill(t)},Object(l["toDisplayString"])(t._value),9,_))]))),128))])])]),_:1},8,["title","toCSV","toPDF","period","dateGenerated","refreshReport","configure"])}var p=i("954d"),v=i("d20e"),m=i("1c74"),g=i("b5e4"),O=i("ba82"),f=i("6179"),j=i("cf9e"),x=i("d867"),y=i("5a0c"),h=i.n(y),k=i("2ef0");const C=Object(l["reactive"])({model:[],indicators:{},dateGenerated:"",startDate:"",endDate:"",title:"",period:""}),N=Object(l["computed"])(()=>C.model.map(e=>{if("function"===typeof e.value){const t=e.value(C.indicators);Array.isArray(t)?(e._value=""+t.length,e._drill=t):e._value=t}return e})),V=Object(l["computed"])(()=>{const[e,...t]=N.value.map(e=>[e.index||"",e.label,e.index?e._value||0:""]);return{rows:t,columns:[["#",N.value[0].label,"#"]]}});function w(e){e.title!=C.title&&(C.indicators={}),C.title=e.title,C.model=e.indicators;const t=async(t="",i="")=>{(await x["Y"].create({message:"Please wait .."})).present();try{const l=new v["a"](e.name);l.startDate=t||C.startDate,l.endDate=i||C.endDate,C.indicators=await l.requestReport({type:"moh"}),C.dateGenerated=h()(m["e"].getSessionDate()).format("DD/MMM/YYYY HH:mm:ss")}catch(l){Object(g["e"])("Unable to generate report")}x["Y"].dismiss()},i=()=>Object(j["a"])({title:C.title,onFinish:(e,i,l)=>{C.period=l,C.startDate=e,C.endDate=i,t()}}),n=e=>{Array.isArray(e._drill)&&Object(f["a"])(e.label,e._drill)},a=()=>{const e=document.getElementById("report-content");e&&Object(O["c"])(`\n                <html>\n                <head>\n                    <link rel="stylesheet" media="print"  href="/assets/css/hts-report-style-print.css"/>\n                    <style> \n                        #moh_template { border: solid 1px #3333; width: 100%; } td { font-size: var(--his-sm-font-size); padding: 0.3em; } .main-title { background: #8EAADB; font-weight: bold; border: solid 3px black; } .table-value { padding: 1em; text-align: center; color: #337ab7; font-weight: bold; font-size: var(--his-md-font-size); border: solid 2px black; } .table-section { font-weight: bold; background: #D9E2F3; border: solid 3px black; }\n                    </style>\n                </head>\n                <body>\n                    ${e.innerHTML}\n                </body>\n                </html>\n            `,50)},o=()=>{const{rows:e,columns:t}=V.value;Object(O["b"])(t,Object(O["a"])(e,C),`MOH-${C.title}-${m["e"].getLocationName()}-${C.period}`)};return Object(l["onMounted"])(()=>Object(k["isEmpty"])(C.indicators)&&i()),{drill:n,data:C,indicators:N,exportable:V,generate:t,exportPdf:a,exportCsv:o,configure:i}}var S=Object(l["defineComponent"])({components:{Layout:p["a"]},props:{params:{type:Object,required:!0}},setup(e){return w(e.params)}}),I=(i("7b22"),i("d959")),T=i.n(I);const D=T()(S,[["render",u],["__scopeId","data-v-5c21aaf2"]]);t["a"]=D},4038:function(e,t,i){"use strict";i.r(t);var l=i("7a23");function n(e,t,i,n,a,o){const r=Object(l["resolveComponent"])("moh-template"),c=Object(l["resolveComponent"])("ion-page");return Object(l["openBlock"])(),Object(l["createBlock"])(c,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(r,{params:e.params},null,8,["params"])]),_:1})}var a=i("d867"),o=i("38e6"),r=Object(l["defineComponent"])({components:{IonPage:a["D"],MohTemplate:o["a"]},setup(){const e={title:"Confirmatory HTS",name:"HTS CONFIRMATORY",indicators:[{isMainTitle:!0,label:"Confirmatory HIV Testing Register"},{label:"Total clients in confirmatory register",index:"1",value:e=>e["total_clients_in_confirmatory_register"]},{isSectionTitle:!0,label:"HIV test 2 result"},{label:"Negative",index:"2",value:e=>e["hiv_test_2_result_negative"]},{label:"Positive",index:"3",value:e=>e["hiv_test_2_result_positive"]},{label:"Invalid entry",index:"4",value:e=>e["hiv_test_2_result_invalid_entry"]},{label:"Missing",index:"5",value:e=>e["hiv_test_2_result_missing"]},{isSectionTitle:!0,label:"HIV test 3 result"},{label:"Negative",index:"6",value:e=>e["hiv_test_3_result_negative"]},{label:"Positive",index:"7",value:e=>e["hiv_test_3_result_positive"]},{label:"Invalid entry",index:"8",value:e=>e["hiv_test_3_result_invalid_entry"]},{label:"Not applicable / missing",index:"9",value:e=>e["hiv_test_3_result_not_applicable_or_missing"]},{isSectionTitle:!0,label:"HIV test 1 repeat result"},{label:"Negative",index:"10",value:e=>e["hiv_test_1_repeat_result_negative"]},{label:"Positive",index:"11",value:e=>e["hiv_test_1_repeat_result_positive"]},{label:"Invalid entry",index:"12",value:e=>e["hiv_test_1_repeat_result_invalid_entry"]},{label:"Not applicable / missing",index:"13",value:e=>e["hiv_test_1_repeat_result_not_applicable_or_missing"]},{isSectionTitle:!0,label:"Result given to client"},{label:"Negative",index:"14",value:e=>e["hiv_group_negative"]},{label:"New Positive",index:"15",value:e=>e["hiv_group_new_positive"]},{label:"New Inconclusive",index:"16",value:e=>e["hiv_group_new_inconclusive"]},{label:"Exposed infant",index:"17",value:e=>e["hiv_group_exposed_infant"]},{label:"Positive re-test",index:"18",value:e=>e["hiv_group_positive_retest"]},{label:"Inconclusive re-test",index:"19",value:e=>e["hiv_group_inconclusive_retest"]},{label:"Invalid entry",index:"20",value:e=>e["result_given_to_client_invalid_entry"]},{label:"Missing",index:"21",value:e=>e["result_given_to_client_missing"]},{isSectionTitle:!0,label:"RTRI result"},{label:"Long-term",index:"22",value:e=>e["rtri_result_longterm"]},{label:"Recent",index:"23",value:e=>e["rtri_result_recent"]},{label:"Negative",index:"24",value:e=>e["rtri_result_negative"]},{label:"Invalid RTRI result",index:"25",value:e=>e["invalid_rtri_result"]},{label:"Not done",index:"26",value:e=>e["rtri_result_not_done"]},{label:"Invalid entry",index:"27",value:e=>e["rtri_result_invalid_entry"]},{label:"Missing",index:"28",value:e=>e["rtri_result_missing_among_hiv_positive_clients"]},{isSectionTitle:!0,label:"DBS collected"},{label:"No",index:"29",value:e=>e["dbs_collected_no"]},{label:"Yes",index:"30",value:e=>e["dbs_collected_yes"]},{label:"Invalid entry",index:"30",value:e=>e["dbs_collected_invalid_entry"]},{label:"Missing (where RTRI recent)",index:"31",value:e=>e["dbs_collected_missing_where_rtri_recent"]},{label:"Not applicable",index:"32",value:e=>e["dbs_collected_not_applicable"]},{isSectionTitle:!0,label:"Specimen IDs"},{label:"Valid IDs entered",index:"33",value:e=>e["specimen_ids_valid_ids_entered"]},{label:"Invalid entry",index:"34",value:e=>e["specimen_ids_invalid_entry"]},{label:"Missing (where DBS collected)",index:"35",value:e=>e["specimen_ids_missing_where_dbs_collected"]},{label:"Not applicable",index:"36",value:e=>e["specimen_ids_not_applicable"]},{isSectionTitle:!0,label:"Referral for re-testing (after confirmatory)"},{label:"No",index:"37",value:e=>e["referral_for_retesting_after_confirmatory_no"]},{label:"Yes",index:"38",value:e=>e["referral_for_retesting_after_confirmatory_yes"]},{label:"Invalid entry",index:"39",value:e=>e["referral_for_retesting_after_confirmatory_invalid_entry"]},{label:"Missing",index:"40",value:e=>e["referral_for_retesting_after_confirmatory_missing"]},{isSectionTitle:!0,label:"Referral for ART initiation"},{label:"No",index:"41",value:e=>e["referral_for_art_initiation_no"]},{label:"Yes",index:"42",value:e=>e["referral_for_art_initiation_yes"]},{label:"Invalid entry",index:"43",value:e=>e["referral_for_art_initiation_invalid_entry"]},{label:"Missing",index:"44",value:e=>e["referral_for_art_initiation_missing"]},{isSectionTitle:!0,label:"ART referral outcome"},{label:"Linked",index:"45",value:e=>e["art_referral_outcome_linked"]},{label:"Refused",index:"46",value:e=>e["art_referral_outcome_refused"]},{label:"Died",index:"47",value:e=>e["art_referral_outcome_died"]},{label:"Unknown",index:"48",value:e=>e["art_referral_outcome_unknown"]},{label:"Invalid entry",index:"49",value:e=>e["art_referral_outcome_invalid_entry"]},{label:"Missing (where referred for ART)",index:"50",value:e=>e["art_referral_outcome_missing_where_referred_for_art"]},{label:"Not applicable",index:"51",value:e=>e["art_referral_outcome_not_applicable"]},{isSectionTitle:!0,label:"ART clinic registration indexber"},{label:"Valid entry",index:"52",value:e=>e["art_clinic_registration_indexber_valid_entry"]},{label:"Invalid entry",index:"53",value:e=>e["art_clinic_registration_indexber_invalid_entry"]},{label:"Missing (among clients linked to ART)",index:"54",value:e=>e["art_clinic_registration_indexber_missing_among_clients_linked_to_art"]},{label:"Not applicable",index:"55",value:e=>e["art_clinic_registration_indexber_not_applicable"]},{isSectionTitle:!0,label:"Linking with initial register"},{label:"Valid Link-ID",index:"56",value:e=>e["linking_with_initial_register_valid_linkid"]},{label:"Invalid Link-ID",index:"57",value:e=>e["linking_with_initial_register_invalid_linkid"]},{label:"Missing Link-ID",index:"58",value:e=>e["linking_with_initial_register_missing_linkid"]}]};return{params:e}}}),c=i("d959"),s=i.n(c);const d=s()(r,[["render",n]]);t["default"]=d},5454:function(e,t,i){},"7b22":function(e,t,i){"use strict";i("bdcc")},"954d":function(e,t,i){"use strict";var l=i("7a23");const n={class:"header-text-list"},a={key:0},o={id:"report-content"};function r(e,t,i,r,c,s){const d=Object(l["resolveComponent"])("ion-img"),b=Object(l["resolveComponent"])("ion-thumbnail"),_=Object(l["resolveComponent"])("ion-label"),u=Object(l["resolveComponent"])("ion-item"),p=Object(l["resolveComponent"])("ion-toolbar"),v=Object(l["resolveComponent"])("ion-header"),m=Object(l["resolveComponent"])("ion-content"),g=Object(l["resolveComponent"])("ion-chip"),O=Object(l["resolveComponent"])("ion-footer"),f=Object(l["resolveComponent"])("his-footer"),j=Object(l["resolveComponent"])("ion-page");return Object(l["openBlock"])(),Object(l["createBlock"])(j,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(v,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(p,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(u,null,{default:Object(l["withCtx"])(()=>[e.reportLogo?(Object(l["openBlock"])(),Object(l["createBlock"])(b,{key:0},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(d,{src:e.reportLogo},null,8,["src"])]),_:1})):Object(l["createCommentVNode"])("",!0),Object(l["createVNode"])(_,null,{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("ul",n,[Object(l["createElementVNode"])("li",null,[Object(l["createElementVNode"])("b",null,Object(l["toDisplayString"])(e.title),1)]),e.period?(Object(l["openBlock"])(),Object(l["createElementBlock"])("li",a,[Object(l["createElementVNode"])("b",null,Object(l["toDisplayString"])(e.period),1)])):Object(l["createCommentVNode"])("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),Object(l["createVNode"])(m,{"scroll-y":"","scroll-x":""},{default:Object(l["withCtx"])(()=>[Object(l["createElementVNode"])("div",o,[Object(l["renderSlot"])(e.$slots,"default",{},void 0,!0)])]),_:3}),Object(l["createVNode"])(O,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(p,null,{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(g,{color:"primary"},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("Date Generated: "),Object(l["createElementVNode"])("b",null,Object(l["toDisplayString"])(e.dateGenerated),1)]),_:1}),Object(l["createVNode"])(g,{color:"primary"},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("APP version: "),Object(l["createElementVNode"])("b",null,Object(l["toDisplayString"])(e.appVersion),1)]),_:1}),Object(l["createVNode"])(g,{color:"primary"},{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])("API version: "),Object(l["createElementVNode"])("b",null,Object(l["toDisplayString"])(e.apiVersion),1)]),_:1})]),_:1})]),_:1}),Object(l["createVNode"])(f,{color:"dark",btns:e.buttons},null,8,["btns"])]),_:3})}i("14d9");var c=i("d867"),s=i("1718"),d=i("0f25"),b=i("6605"),_=i("1c74"),u=Object(l["defineComponent"])({components:{IonLabel:c["x"],IonItem:c["w"],HisFooter:d["a"],IonPage:c["D"],IonHeader:c["q"],IonContent:c["n"],IonToolbar:c["T"],IonChip:c["l"],IonFooter:c["o"],IonThumbnail:c["R"],IonImg:c["s"]},props:{title:{type:String},period:{type:String},logo:{type:String},toCSV:{type:Function,required:!1},toPDF:{type:Function,required:!1},configure:{type:Function,required:!1},refreshReport:{type:Function,required:!0},dateGenerated:{type:String,default:"-"}},setup(e){const t=Object(b["i"])(),i=[],n=_["e"].getCoreVersion(),a=_["e"].getApiVersion(),o=Object(l["computed"])(()=>e.logo?Object(s["a"])(e.logo):null);function r(e,t){return{name:e.name||"Btn",size:e.size||"large",slot:e.slot||"start",color:e.color||"primary",visible:e.visible||!0,onClick:t}}return"function"===typeof e.toCSV&&i.push(r({name:"CSV"},e.toCSV)),"function"===typeof e.toPDF&&i.push(r({name:"PDF"},e.toPDF)),"function"===typeof e.configure&&i.push(r({name:"Set Date",slot:"end",color:"primary"},()=>e.configure&&e.configure())),i.push(r({name:"Refresh",slot:"end",color:"warning"},()=>e.refreshReport())),i.push(r({name:"Finish",slot:"end",color:"success"},()=>t.push("/"))),{buttons:i,appVersion:n,apiVersion:a,reportLogo:o}}}),p=(i("f47e"),i("d959")),v=i.n(p);const m=v()(u,[["render",r],["__scopeId","data-v-3e4a390e"]]);t["a"]=m},bdcc:function(e,t,i){},f47e:function(e,t,i){"use strict";i("5454")}}]);
//# sourceMappingURL=chunk-3b454c76.0ec7cb1e.js.map