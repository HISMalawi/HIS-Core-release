{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/DataViews/ViewPort.vue","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugsetManager.vue?9129","webpack:///./src/components/DataViews/ViewPort.vue?da42","webpack:///./node_modules/eslint-loader/index.js"],"names":["_withId","_withScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","id","class","showFull","_renderSlot","$slots","defineComponent","name","props","type","Boolean","default","__exports__","_pushScopeId","_hoisted_1","_createTextVNode","_hoisted_2","_hoisted_3","_hoisted_4","_popScopeId","_component_ion_title","_resolveComponent","_component_ion_toolbar","_component_ion_header","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_col","_component_report_data_table","_component_ion_row","_component_ion_grid","_component_view_port","_component_ion_content","_component_ion_button","_component_ion_footer","_component_ion_page","_createVNode","_","style","size","_Fragment","_renderList","drugSets","dataSet","dIndex","button","detail","color","selectedDrugSet","onClick","$event","key","_toDisplayString","columns","drugSetColumns","rows","drugSetRows","config","tableCssTheme","cancel","slot","hasSelectedDrugSet","voidDrugset","_createCommentVNode","addDrugset","components","IonPage","ReportDataTable","IonList","IonItem","IonLabel","ViewPort","IonButton","IonContent","IonHeader","IonGrid","IonRow","IonCol","IonTitle","IonFooter","IonToolbar","setup","router","useRouter","ref","Table","thTxt","computed","isEmpty","value","drugs","map","drugSet","td","duration","frequency","back","push","async","alertConfirmation","AncDrugSetService","voidDrugSet","filter","d","e","toastWarning","onMounted","getDrugSets","Service","data","getSessionDate","this","postJson","setID","void","date","getJson","Object","keys","reduce","sets","setKey","description","parseInt","a","k","drug_name","units"],"mappings":"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","file":"js/chunk-f15d923e.07a23468.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-31e11cd2\")\n\n_pushScopeId(\"data-v-31e11cd2\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Drug Set \")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Cancel \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Void Drug Set \")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" Add Drug Set \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_label = _resolveComponent(\"ion-label\")\n  const _component_ion_item = _resolveComponent(\"ion-item\")\n  const _component_ion_list = _resolveComponent(\"ion-list\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_report_data_table = _resolveComponent(\"report-data-table\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_view_port = _resolveComponent(\"view-port\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withId(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withId(() => [\n              _createVNode(_component_ion_title, { class: \"his-lg-text\" }, {\n                default: _withId(() => [\n                  _hoisted_1\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, null, {\n        default: _withId(() => [\n          _createVNode(_component_view_port, null, {\n            default: _withId(() => [\n              _createVNode(_component_ion_grid, {\n                style: {\"background-color\":\"white\"},\n                class: \"view-port-content\"\n              }, {\n                default: _withId(() => [\n                  _createVNode(_component_ion_row, null, {\n                    default: _withId(() => [\n                      _createVNode(_component_ion_col, { size: \"4\" }, {\n                        default: _withId(() => [\n                          _createVNode(_component_ion_list, null, {\n                            default: _withId(() => [\n                              (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugSets, (dataSet, dIndex) => {\n                                return (_openBlock(), _createBlock(_component_ion_item, {\n                                  class: \"his-sm-text\",\n                                  button: \"\",\n                                  detail: \"\",\n                                  color: _ctx.selectedDrugSet.id === dataSet.id ? 'lightblue': '',\n                                  onClick: $event => (_ctx.selectedDrugSet=dataSet),\n                                  key: dIndex\n                                }, {\n                                  default: _withId(() => [\n                                    _createVNode(_component_ion_label, null, {\n                                      default: _withId(() => [\n                                        _createTextVNode(_toDisplayString(dataSet.name), 1 /* TEXT */)\n                                      ]),\n                                      _: 2\n                                    }, 1024)\n                                  ]),\n                                  _: 2\n                                }, 1032, [\"color\", \"onClick\"]))\n                              }), 128 /* KEYED_FRAGMENT */))\n                            ]),\n                            _: 1\n                          })\n                        ]),\n                        _: 1\n                      }),\n                      _createVNode(_component_ion_col, { size: \"8\" }, {\n                        default: _withId(() => [\n                          _createVNode(_component_report_data_table, {\n                            columns: _ctx.drugSetColumns,\n                            rows: _ctx.drugSetRows,\n                            config: {\n                                    tableCssTheme: 'art-report-theme'\n                                }\n                          }, null, 8, [\"columns\", \"rows\"])\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withId(() => [\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.cancel,\n                slot: \"start\",\n                color: \"danger\",\n                size: \"large\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_2\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]),\n              (_ctx.hasSelectedDrugSet)\n                ? (_openBlock(), _createBlock(_component_ion_button, {\n                    key: 0,\n                    onClick: _ctx.voidDrugset,\n                    slot: \"end\",\n                    color: \"danger\",\n                    size: \"large\"\n                  }, {\n                    default: _withId(() => [\n                      _hoisted_3\n                    ]),\n                    _: 1\n                  }, 8, [\"onClick\"]))\n                : _createCommentVNode(\"\", true),\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.addDrugset,\n                slot: \"end\",\n                color: \"success\",\n                size: \"large\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_4\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n})","\nimport { computed, defineComponent, onMounted, ref } from 'vue'\nimport ViewPort from \"@/components/DataViews/ViewPort.vue\"\nimport ReportDataTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport Table from \"@/components/DataViews/tables/ReportDataTable\"\nimport {\n    IonPage,\n    IonList,\n    IonItem,\n    IonLabel,\n    IonButton,\n    IonContent,\n    IonHeader,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonTitle,\n    IonFooter,\n    IonToolbar\n} from \"@ionic/vue\"\nimport { AncDrugSetService, NewDrugSet } from '../../Services/anc_drug_set'\nimport { isEmpty } from 'lodash'\nimport { useRouter } from 'vue-router'\nimport { alertConfirmation, toastWarning } from '@/utils/Alerts'\n\nexport default defineComponent({\n    components: {\n        IonPage,\n        ReportDataTable,\n        IonList,\n        IonItem,\n        IonLabel,\n        ViewPort,\n        IonButton,\n        IonContent,\n        IonHeader,\n        IonGrid,\n        IonRow,\n        IonCol,\n        IonTitle,\n        IonFooter,\n        IonToolbar\n    },\n    setup() {\n        const router = useRouter()\n        const selectedDrugSet = ref({} as NewDrugSet) \n        const drugSets = ref([] as NewDrugSet[])\n        const drugSetColumns = [\n            [\n                Table.thTxt('Drug'),\n                Table.thTxt('Duration in days'),\n                Table.thTxt('Frequency')\n            ]\n        ]\n        const hasSelectedDrugSet = computed(() => {\n            return !isEmpty(drugSets.value)\n        })\n        const drugSetRows = computed(() => {\n            return selectedDrugSet.value?.drugs?.map(drugSet => [\n                Table.td(drugSet['drug_name'] || 'N/A'),\n                Table.td(drugSet.duration || 'N/A'),\n                Table.td(drugSet.frequency)\n            ]) || []\n        })\n        onMounted(async () => {\n            drugSets.value = await AncDrugSetService.getDrugSets() as NewDrugSet[]\n            if (!isEmpty(drugSets.value)) {\n                selectedDrugSet.value = drugSets.value[0]\n            }\n        })\n\n        function cancel() {\n            router.back()\n        }\n\n        function addDrugset() {\n            router.push({\n                name: 'add anc drugset'\n            })\n        }\n\n        async function voidDrugset() {\n            if((await alertConfirmation('Are you sure you want to void this drug set?'))){\n                try {\n                    await AncDrugSetService.voidDrugSet(selectedDrugSet.value.id || -1)\n                    drugSets.value = drugSets.value.filter(d => d.id != selectedDrugSet.value.id)\n                    if (!isEmpty(drugSets.value)) {\n                        selectedDrugSet.value = drugSets.value[0]\n                    } else {\n                        selectedDrugSet.value = {} as any\n                    }\n                } catch (e) {\n                    toastWarning(`e`)\n                }\n            }\n        }\n        return {\n            cancel,\n            addDrugset,\n            voidDrugset,\n            drugSets,\n            hasSelectedDrugSet,\n            selectedDrugSet,\n            drugSetColumns,\n            drugSetRows\n        }\n    }\n})\n","import { render } from \"./ViewPort.vue?vue&type=template&id=7c293cad&scoped=true&ts=true\"\nimport script from \"./ViewPort.vue?vue&type=script&lang=ts\"\nexport * from \"./ViewPort.vue?vue&type=script&lang=ts\"\n\nimport \"./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c293cad\"]])\n\nexport default __exports__","import { render } from \"./AncDrugsetManager.vue?vue&type=template&id=31e11cd2&scoped=true&ts=true\"\nimport script from \"./AncDrugsetManager.vue?vue&type=script&lang=ts\"\nexport * from \"./AncDrugsetManager.vue?vue&type=script&lang=ts\"\n\nimport \"./AncDrugsetManager.vue?vue&type=style&index=0&id=31e11cd2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31e11cd2\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AncDrugsetManager.vue?vue&type=style&index=0&id=31e11cd2&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ViewPort.vue?vue&type=style&index=0&id=7c293cad&scoped=true&lang=css\"","import { Service } from \"@/services/service\";\n\nexport interface AncDrugSetDrugs {\n    drug: number;\n    drug_name?: string;\n    quantity: number;\n    duration?: number;\n    frequency: string;\n}\n\nexport interface NewDrugSet {\n    id?: number;\n    datetime?: string;\n    name: string;\n    description: string;\n    drugs: AncDrugSetDrugs[];\n}\n\nexport class AncDrugSetService extends Service {\n    static saveDrugSet(drugSet: NewDrugSet) {\n        const data  = {...drugSet}\n        data['datetime'] = Service.getSessionDate()\n        return this.postJson('/drug_sets', drugSet)\n    }\n\n    static voidDrugSet(setID: number) {\n        return this.void(`/drug_sets/${setID}`, { date: this.getSessionDate()})\n    }\n\n    static async getDrugSets() {\n        const data = await this.getJson('drug_sets')\n        if (data) {\n            return Object.keys(data['set_names'])\n                .reduce((sets: Array<any>, setKey: string) => {\n                    const name = data['set_names'][setKey]\n                    const description = data['set_descriptions'][setKey]\n                    const drugs = data['drug_sets'][setKey]\n                    sets.push({\n                        id: parseInt(setKey),\n                        name,\n                        description,\n                        drugs: Object.keys(drugs).reduce(\n                            (a: any, k: string) => [\n                                ...a, { \n                                    'id': parseInt(k), ...drugs[k],\n                                    'drug_name': drugs[k].drug_name,\n                                    'duration': parseInt(drugs[k].duration),\n                                    'frequency': drugs[k].frequency,\n                                    'units': drugs[k].units,\n                                }], []\n                        )\n                    })\n                    return sets\n                }, [])\n        }\n        return []\n    }\n}"],"sourceRoot":""}