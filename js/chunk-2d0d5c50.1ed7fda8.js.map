{"version":3,"sources":["webpack:///./src/apps/CxCa/views/reports/clinic/Monthly_CxCa_CECAP_TX_Report.vue?e074","webpack:///./src/apps/CxCa/views/reports/clinic/Monthly_CxCa_CECAP_TX_Report.vue","webpack:///./src/apps/CxCa/views/reports/clinic/Monthly_CxCa_CECAP_TX_Report.vue?799b"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_loading","_resolveComponent","_component_v2Datatable","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","isLoading","message","title","subtitle","period","columns","columnData","reportData","rowsPerPage","onConfigure","configure","csvQuarter","onRefresh","generate","order","headers","csvheaders","spacing","subHeaders","_","ref","startDate","endDate","defineComponent","components","IonPage","IonLoading","v2Datatable","setup","convertToArray","data","totals","convertedData","convertGroupToArray","first_time_screened","rescreened_after_prev_visit","post_treatment_followup","push","extractTotals","group","map","item","age_group","procedures","extractedTotals","key","obj","drilldown","async","patientIdentifiers","modalController","create","component","DrillPatientIds","backdropDismiss","cssClass","componentProps","onFinish","getTop","then","v","dismiss","present","label","span","thColspan","value","secondaryLabel","cryotherapy","length","tdClick","column","thermocoagulation","leep","via_deffered","via_reffered","suspected_reffered","exportable","total_cyrotherapy","total_thermocoagulation","total_leep","total_number_same_day_tx","total_via_deffered","total_via_reffered","suspects_reffered","total_reffered","toastWarning","report","CxCaReportService","rawReport","getClinicReport","e","toastDanger","console","error","MultiStepPopupForm","id","helpText","type","FieldType","TT_NUMBER","computedValue","validation","year","isPlainObject","Validation","validateSeries","required","isNaN","parseInt","rangeOf","HisDate","getYear","Service","getSessionDate","TT_SELECT","options","f","month","dayjs","Date","toISOString","endOf","format","toDate","onMounted","__exports__"],"mappings":"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","file":"js/chunk-2d0d5c50.1ed7fda8.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_loading = _resolveComponent(\"ion-loading\")!\n  const _component_v2Datatable = _resolveComponent(\"v2Datatable\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_loading, {\n        \"is-open\": _ctx.isLoading,\n        message: \"Please wait...\"\n      }, null, 8, [\"is-open\"]),\n      _createVNode(_component_v2Datatable, {\n        title: \"CECAP TX Report\",\n        subtitle: _ctx.period,\n        columns: _ctx.columns,\n        columnData: _ctx.reportData,\n        rowsPerPage: 25,\n        onConfigure: _ctx.configure,\n        csvQuarter: _ctx.csvQuarter,\n        onRefresh: () => _ctx.generate(),\n        order: _ctx.order,\n        headers: _ctx.csvheaders,\n        \"csv-spacing\": _ctx.spacing,\n        \"csv-sub-header\": _ctx.subHeaders\n      }, null, 8, [\"subtitle\", \"columns\", \"columnData\", \"onConfigure\", \"csvQuarter\", \"onRefresh\", \"order\", \"headers\", \"csv-spacing\", \"csv-sub-header\"])\n    ]),\n    _: 1\n  }))\n}","\nimport { defineComponent, ref, onMounted } from 'vue';\nimport { IonPage, IonLoading, modalController } from \"@ionic/vue\"\nimport  v2Datatable from \"@/apps/CxCa/views/reports/clinic/TableView.vue\"\nimport { v2ColumnDataInterface, v2ColumnInterface } from '@/components/DataViews/tables/v2PocDatatable/types';\nimport { CxCaReportService } from \"@/apps/CxCa/services/reports/cxca_report_service\"\nimport { toastDanger, toastWarning } from '@/utils/Alerts';\nimport DrillPatientIds from '../../../../../components/DrillPatientIds.vue';\nimport { toDate } from '@/utils/Strs';\nimport { MultiStepPopupForm } from \"@/utils/PopupKeyboard\";\nimport { FieldType } from \"@/components/Forms/BaseFormElements\";\nimport { Option } from '@/components/Forms/FieldInterface'\nimport { isPlainObject } from \"lodash\";\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { Service } from \"@/services/service\"\nimport HisDate from \"@/utils/Date\"\nimport dayjs from \"dayjs\";\n\n\nconst reportData = ref<any>([])\nconst startDate = ref('')\nconst endDate = ref('')\nconst period = ref('')\nconst isLoading = ref(false)\nconst csvQuarter = ref('')\n\nexport default defineComponent({ \n    components: { \n        IonPage,\n        IonLoading,\n        v2Datatable,\n    },\n    setup() {\n        const totals = ref<any[]>([])\n\n        const convertToArray = (data: any, totals: any) => {\n            const convertedData = [\n                convertGroupToArray(data.first_time_screened),\n                convertGroupToArray(data.rescreened_after_prev_visit),\n                convertGroupToArray(data.post_treatment_followup),\n            ];\n\n            convertedData.push(extractTotals(totals))\n\n            return convertedData\n        }\n        const convertGroupToArray = (group: any) =>  {\n            return group.map((item: { [x: string]: any; age_group: any }) => {\n                const { age_group, ...procedures } = item;\n                return { ...procedures, age_group };\n            });\n        }\n\n        const extractTotals = (data: any) => {\n            const extractedTotals: { [key: string]: any }[] = [];\n            for (const key in data) {\n                const obj: { [key: string]: any } = {};\n                obj[key] = data[key];\n                extractedTotals.push(obj);\n            }\n            return extractedTotals;\n        }\n\n        const drilldown = async (title: string, patientIdentifiers: number[]) => {\n            (await modalController.create({\n                component: DrillPatientIds,\n                backdropDismiss: false,\n                cssClass: 'large-modal',\n                componentProps: {\n                    title,\n                    subtitle: period,\n                    patientIdentifiers,\n                    onFinish: () => modalController.getTop().then(v => v && modalController.dismiss())\n                }\n            })).present()\n        }\n        /**\n         * ordering of columns\n         */\n        const order = [\n            'age_group',\n            'cryotherapy',\n            'thermocoagulation',\n            'leep',\n            'via_deffered',\n            'via_reffered',\n            'suspected_reffered'\n        ];\n\n        //csv headers\n        const csvheaders = [\n            'Age Disaggregate', \n            'Cryotherapy', \n            'Thermocoagulation', \n            'Leep', \n            'VIA + Defferred Tx', \n            'VIA + Referred', \n            'CxCa Suspect Referred'\n        ];\n\n        //sub headers for report sections\n        const subHeaders = [\n                    [\"\",\"\",\"\",'1st time screened',\"\",\"\",\"\"],\n                    [\"\",\"\",\"\",'Rescreened after previous negative',\"\",\"\",\"\"],\n                    [\"\",\"\",\"\",'Post-treatment follow-up',\"\",\"\",\"\"],\n                    [\"\",\"\",\"\",'Month Summary',\"\",\"\",\"\"]\n            ];\n\n        //blank spacing for csv spacing\n        const spacing = 5;\n\n\n        /**\n         * Table column definition and value mapping\n         */\n        const columns: Array<v2ColumnInterface[]> = [\n            [\n                {\n                    label: \"Facility:\",\n                    ref: \"\"\n                },\n                {\n                    label: \"Month/Year:\",\n                    ref: \"\",\n                    span: {\n                        thColspan: 3,\n                    }\n                },\n                {\n                    label: \"Report Officer:\",\n                    ref: \"\",\n                    span: {\n                        thColspan: 4,\n                    }\n                },\n            ],\n            [\n                {\n                    label: \"Age Disaggregate:\",\n                    ref: \"data.age_group\",\n                    value: (data: any) => data.age_group\n                },\n                {\n                    label: \"Cryotherapy\",\n                    ref: \"data.cryotherapy.length\",\n                    secondaryLabel: \"1st screened (cryotherapy)\",\n                    value: (data: any) => data.cryotherapy.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.cryotherapy\n                    )\n                },\n                {\n                    label: \"Thermocoagulation\",\n                    ref: \"data.thermocoagulation.length\",\n                    secondaryLabel: \"1st screened (thermocoagulation)\",\n                    value: (data: any) => data.thermocoagulation.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.thermocoagulation\n                    )\n                },\n                {\n                    label: \"LEEP\",\n                    ref: \"data.leep.length\",\n                    secondaryLabel: \"1st screened (LEEP)\",\n                    value: (data: any) => data.leep.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.leep\n                    )\n                },\n                {\n                    label: \"VIA+Deferred Tx\",\n                    ref: \"data.via_deffered.length\",\n                    secondaryLabel: \"1st screened (VIA Deferred)\",\n                    value: (data: any) => data.via_deffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_deffered\n                    )\n                },\n                {\n                    label: \"VIA+ Referred\",\n                    ref: \"data.via_reffered.length\",\n                    secondaryLabel: \"1st screened (VIA Referred)\",\n                    value: (data: any) => data.via_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_reffered\n                    )\n                },\n                {\n                    label: \"CXCA Suspect Referred\",\n                    ref: \"data.suspected_reffered.length\",\n                    secondaryLabel: \"1st screened (CxCa Suspect Referred)\",\n                    value: (data: any) => data.suspected_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.suspected_reffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Age Disaggregate:\",\n                    ref: \"data.age_group\",\n                    value: (data: any) => data.age_group\n                },\n                {\n                    label: \"Cryotherapy\",\n                    ref: \"data.cryotherapy.length\",\n                    secondaryLabel: \"Rescreened after previous negative (cryotherapy)\",\n                    value: (data: any) => data.cryotherapy.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.cryotherapy\n                    )\n                },\n                {\n                    label: \"Thermocoagulation\",\n                    ref: \"data.thermocoagulation.length\",\n                    secondaryLabel: \"Rescreened after previous negative (thermocoagulation)\",\n                    value: (data: any) => data.thermocoagulation.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.thermocoagulation\n                    )\n                },\n                {\n                    label: \"LEEP\",\n                    ref: \"data.leep.length\",\n                    secondaryLabel: \"Rescreened after previous negative (LEEP)\",\n                    value: (data: any) => data.leep.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.leep\n                    )\n                },\n                {\n                    label: \"VIA+Deferred Tx\",\n                    ref: \"data.via_deffered.length\",\n                    secondaryLabel: \"Rescreened after previous negative (VIA Deferred)\",\n                    value: (data: any) => data.via_deffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_deffered\n                    )\n                },\n                {\n                    label: \"VIA+ Referred\",\n                    ref: \"first_time_screened_via_reffered\",\n                    secondaryLabel: \"Rescreened after previous negative (VIA Referred)\",\n                    value: (data: any) => data.via_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_reffered\n                    )\n                },\n                {\n                    label: \"CXCA Suspect Referred\",\n                    ref: \"data.suspected_reffered.length\",\n                    secondaryLabel: \"Rescreened after previous negative (CxCa Suspect Referred)\",\n                    value: (data: any) => data.suspected_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.suspected_reffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Age Disaggregate:\",\n                    ref: \"data.age_group\",\n                    value: (data: any) => data.age_group\n                },\n                {\n                    label: \"Cryotherapy\",\n                    ref: \"data.cryotherapy.length\",\n                    secondaryLabel: \"Post-treatment follow-up (cryotherapy)\",\n                    value: (data: any) => data.cryotherapy.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.cryotherapy\n                    )\n                },\n                {\n                    label: \"Thermocoagulation\",\n                    ref: \"data.thermocoagulation.length\",\n                    secondaryLabel: \"Post-treatment follow-up (thermocoagulation)\",\n                    value: (data: any) => data.thermocoagulation.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.thermocoagulation\n                    )\n                },\n                {\n                    label: \"LEEP\",\n                    ref: \"data.leep.length\",\n                    secondaryLabel: \"Post-treatment follow-up (LEEP)\",\n                    value: (data: any) => data.leep.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.leep\n                    )\n                },\n                {\n                    label: \"VIA+Deferred Tx\",\n                    ref: \"data.via_deffered.length\",\n                    secondaryLabel: \"Post-treatment follow-up (VIA Deferred)\",\n                    value: (data: any) => data.via_deffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_deffered\n                    )\n                },\n                {\n                    label: \"VIA+ Referred\",\n                    ref: \"data.via_reffered.length\",\n                    secondaryLabel: \"Post-treatment follow-up (VIA Referred)\",\n                    value: (data: any) => data.via_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.via_reffered\n                    )\n                },\n                {\n                    label: \"CXCA Suspect Referred\",\n                    ref: \"data.suspected_reffered.length\",\n                    secondaryLabel: \"Post-treatment follow-up (CxCa Suspect Referred)\",\n                    value: (data: any) => data.suspected_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${data.age_group} ${column.secondaryLabel}`, data.suspected_reffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"1st time Screened\",\n                    ref: \"\",\n                    exportable: false,\n                    span: {\n                        thColspan: 7,\n                    }\n                }\n            ],\n            [\n                {\n                    label: \"Rescreened after previous negative\",\n                    ref: \"\",\n                    exportable: false,\n                    span: {\n                        thColspan: 7,\n                    }\n                }\n            ],\n            [\n                {\n                    label: \"Post-treatment follow-up\",\n                    ref: \"\",\n                    \n                    span: {\n                        thColspan: 7,\n                    }\n                }\n            ],\n            [\n                {\n                    label: \"Month Summary\",\n                    ref: \"\",\n                    span: {\n                        thColspan: 7,\n                    }\n                }\n            ],\n            [\n                {\n                    label: \"Total Cryotherapy\",\n                    ref: \"data.total_cyrotherapy.length\",\n                    secondaryLabel: \"Total Cryotherapy\",\n                    value: (data: any) => data.total_cyrotherapy.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_cyrotherapy\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total Thermocoagulation\",\n                    ref: \"data.total_thermocoagulation.length\",\n                    secondaryLabel: \"Total Thermocoagulation\",\n                    value: (data: any) => data.total_thermocoagulation.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_thermocoagulation\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total LEEP\",\n                    ref: \"data.total_leep.length\",\n                    secondaryLabel: \"Total LEEP\",\n                    value: (data: any) => data.total_leep.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_leep\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total # Same Day Tx\",\n                    ref: \"data.total_number_same_day_tx.length\",\n                    secondaryLabel: \"Total # Same Day Tx\",\n                    value: (data: any) => data.total_number_same_day_tx.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_number_same_day_tx\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total VIA+ Deferred Tx\",\n                    ref: \"data.total_via_deffered.length\",\n                    secondaryLabel: \"Total VIA+ Deferred Tx\",\n                    value: (data: any) => data.total_via_deffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_via_deffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total VIA+ Referred\",\n                    ref: \"data.total_via_reffered.length\",\n                    secondaryLabel: \"Total VIA+ Referred\",\n                    value: (data: any) => data.total_via_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_via_reffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total CXCA Suspect Referred\",\n                    ref: \"data.suspects_reffered.length\",\n                    secondaryLabel: \"Total CXCA Suspect Referred\",\n                    value: (data: any) => data.suspects_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.suspects_reffered\n                    )\n                }\n            ],\n            [\n                {\n                    label: \"Total Referred\",\n                    ref: \"data.total_reffered.length\",\n                    secondaryLabel: \"Total Referred\",\n                    value: (data: any) => data.total_reffered.length,\n                    tdClick: ({ column, data }: v2ColumnDataInterface) => drilldown(\n                        `${column.secondaryLabel}`, data.total_reffered\n                    )\n                }\n            ]\n        ]\n        /**\n         * Generates report by start date and end date\n         */\n         const generate = async () => {\n            if (!(startDate.value && endDate.value))  {\n                return toastWarning('Start date and end date required!')\n            }\n            isLoading.value = true\n            reportData.value = []\n            const report = new CxCaReportService()\n            report.startDate = startDate.value\n            report.endDate = endDate.value\n            try {\n                const rawReport = (await report.getClinicReport('MONTHLY CECAP TX'))\n                reportData.value = convertToArray(rawReport.data, rawReport.totals)\n            } catch (e) {\n                toastDanger(\"Unable to generate report!\")\n                console.error(e)\n            }\n            isLoading.value = false\n        }\n        /**\n         * Loads a dialogue to allow users to configure start and end date\n         */\n         const configure = () => MultiStepPopupForm([\n            {\n                id: 'year',\n                helpText: 'Select Year',\n                type: FieldType.TT_NUMBER,\n                computedValue: (v: Option) => v.value,\n                validation: (v: Option) => {\n                    const year = isPlainObject(v) ? v.value : -1\n                    return Validation.validateSeries([\n                        () => Validation.required(v),\n                        () => {\n                            if (isNaN(parseInt(`${year}`))) {\n                                return ['Invalid year']\n                            }\n                            return null\n                        },\n                        () => Validation.rangeOf(v, 2000, HisDate.getYear(Service.getSessionDate()))\n                    ])\n                }\n            },\n            {\n                id: 'month',\n                helpText: 'Select Month',\n                type: FieldType.TT_SELECT,\n                validation: (v: Option) => Validation.required(v),\n                computedValue: (v: Option) => v.value,\n                options: () => {\n                    return [\n                        {label: 'January', value: '01'},\n                        {label: 'February', value: '02'},\n                        {label: 'March', value: '03'},\n                        {label: 'April', value: '04'},\n                        {label: 'May', value: '05'},\n                        {label: 'June', value: '06'},\n                        {label: 'July', value: '07'},\n                        {label: 'August', value: '08'},\n                        {label: 'September', value: '09'},\n                        {label: 'October', value: '10'},\n                        {label: 'November', value: '11'},\n                        {label: 'December', value: '12'}\n                    ]\n                }\n            }\n        ],\n        {\n            onFinish: (f: any) => {\n                startDate.value = `${f.year.value}-${f.month.value}-01`\n                endDate.value = dayjs(new Date(startDate.value).toISOString()).endOf(\"month\").format(\"YYYY-MM-DD\")\n                period.value = `Period (${toDate(startDate.value)} to ${toDate(endDate.value)})`\n                modalController.dismiss()\n                csvQuarter.value = `${toDate(startDate.value)} to ${toDate(endDate.value)}`\n                generate()\n            }\n        })\n\n        /**\n         * Initialization code when the report is empty!\n         */\n        onMounted(() => !reportData.value.length && configure())\n\n\n        return  {\n            columns,\n            isLoading,\n            reportData,\n            period,\n            csvQuarter,\n            generate,\n            configure,\n            order,\n            csvheaders,\n            spacing,\n            subHeaders\n        }\n    }\n})\n\n","import { render } from \"./Monthly_CxCa_CECAP_TX_Report.vue?vue&type=template&id=8c2228d4&ts=true\"\nimport script from \"./Monthly_CxCa_CECAP_TX_Report.vue?vue&type=script&lang=ts\"\nexport * from \"./Monthly_CxCa_CECAP_TX_Report.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}