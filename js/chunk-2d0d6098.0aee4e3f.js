(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6098"],{"719a":function(t,e,n){"use strict";n.r(e);var a=n("7a23");function r(t,e,n,r,s,o){var i=Object(a["resolveComponent"])("report-template");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{title:t.title,rows:t.rows,columns:t.columns},null,8,["title","rows","columns"])}var s=n("1da1"),o=(n("d3b7"),n("159b"),n("caad"),n("b64b"),n("96cf"),n("91e4")),i=n("44e3"),c=n("d6aa"),u=n("9ceb"),d=Object(a["defineComponent"])({mixins:[i["a"]],components:{ReportTemplate:c["a"]},data:function(){return{title:"Stock report",rows:[],stock:[],columns:[[u["a"].thTxt("Batch Number"),u["a"].thTxt("Medication"),u["a"].thTxt("Units"),u["a"].thTxt("Closing Balance"),u["a"].thTxt("Losses"),u["a"].thTxt("(+ve Adjustment)"),u["a"].thTxt("(-ve Adjustment)"),u["a"].thTxt("Quantity Used"),u["a"].thTxt("Quantity Received")]]}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.report=new o["a"],e.next=3,t.report.loadTrail();case 3:n=e.sent,t.createStock(n);case 5:case"end":return e.stop()}}),e)})))()},methods:{createStock:function(t){var e=this,n={};t.forEach((function(t){n[t.batch_number]||(n[t.batch_number]={drug_name:t.drug_name,drug_id:t.drug_id,"Closing balance":0,Losses:0,"Positive adjustment":0,"Negative adjustment":0,"Quantity used":0,"Quantity receieved":0});var e=t.amount_committed_to_stock;n[t.batch_number]["Closing balance"]+=e,n[t.batch_number]["Losses"]+=["Expired","Damaged","Phased out","Banned","Missing","For trainings"].includes(t.transaction_reason)?e:0,n[t.batch_number]["Positive adjustment"]+=["Drugs delivered"].includes(t.transaction_reason)?e:0,n[t.batch_number]["Negative adjustment"]+=["Transfer to another facility/relocation"].includes(t.transaction_reason)?e:0,n[t.batch_number]["Quantity used"]+=["Drug dispensed"].includes(t.transaction_reason)?e:0,n[t.batch_number]["Quantity receieved"]+=["Drugs delivered"].includes(t.transaction_reason)?e:0})),Object.keys(n).forEach((function(t){e.rows.push([u["a"].td(t),u["a"].td(n[t]["drug_name"]),u["a"].td("Tins"),u["a"].td(n[t]["Closing balance"]),u["a"].td(n[t]["Losses"]),u["a"].td(n[t]["Positive adjustment"]),u["a"].td(n[t]["Negative adjustment"]),u["a"].td(n[t]["Quantity used"]),u["a"].td(n[t]["Quantity receieved"])])}))}}}),m=n("6b0d"),l=n.n(m);const b=l()(d,[["render",r]]);e["default"]=b}}]);
//# sourceMappingURL=chunk-2d0d6098.0aee4e3f.js.map