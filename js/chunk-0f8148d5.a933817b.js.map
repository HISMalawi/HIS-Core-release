{"version":3,"sources":["webpack:///./src/views/HClocation.vue?e349","webpack:///./src/views/HClocation.vue","webpack:///./src/views/HClocation.vue?b764","webpack:///./src/views/HClocation.vue?17bd","webpack:///./src/components/Keyboard/HisKeyboard.vue?8c35","webpack:///./src/components/Keyboard/HisKeyboard.vue","webpack:///./src/components/Keyboard/HisKeyboard.vue?8916"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_title","_resolveComponent","_component_ion_toolbar","_component_ion_header","_component_barcode_input","_component_ion_content","_component_his_keyboard","_component_ion_button","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","translucent","_createTextVNode","_","class","clearValue","virtualText","barcodeText","onOnValue","onbarcodeText","onOnScan","onScan","useVirtualKeyboard","key","kbConfig","NUMBERS","onKeyPress","onKbClick","_createCommentVNode","color","size","slot","onClick","searchLocation","defineComponent","name","components","BarcodeInput","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButton","IonFooter","HisKeyboard","setup","activePlatformProfile","usePlatform","ref","computed","value","scanner","ScannerType","CAMERA_SCANNER","async","includes","response","Service","getJson","isEmpty","toastWarning","data","sessionStorage","siteUUID","uuid","userLocation","router","push","t","kbHandler","console","log","__exports__","_hoisted_1","_hoisted_2","_component_base_keyboard","_createElementBlock","_createElementVNode","_Fragment","_renderList","activeLayout","layout","index","keypress","BaseKeyboard","props","initalKeyboardName","type","String","Array","required","Function","watch","handler","this","$nextTick","switchKeyboard","immediate","keyboard","deep","methods","isFunctionKey","kbIndex","KEY_BTN_NAV","map","item","btn","indexOf"],"mappings":"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","file":"js/chunk-0f8148d5.a933817b.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_barcode_input = _resolveComponent(\"barcode-input\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_his_keyboard = _resolveComponent(\"his-keyboard\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, { translucent: true }, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_title, null, {\n                default: _withCtx(() => [\n                  _createTextVNode(\"Scan work-station location\")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, { class: \"ion-padding-top\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_barcode_input, {\n            class: \"his-card\",\n            clearValue: _ctx.clearValue,\n            virtualText: _ctx.barcodeText,\n            onOnValue: _ctx.onbarcodeText,\n            onOnScan: _ctx.onScan\n          }, null, 8, [\"clearValue\", \"virtualText\", \"onOnValue\", \"onOnScan\"])\n        ]),\n        _: 1\n      }),\n      (_ctx.useVirtualKeyboard)\n        ? (_openBlock(), _createBlock(_component_his_keyboard, {\n            key: 0,\n            kbConfig: _ctx.NUMBERS,\n            onKeyPress: _ctx.onKbClick\n          }, null, 8, [\"kbConfig\", \"onKeyPress\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_ion_footer, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_button, {\n                color: \"danger\",\n                size: \"large\",\n                \"router-link\": \"/login\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Cancel \")\n                ]),\n                _: 1\n              }),\n              (_ctx.barcodeText)\n                ? (_openBlock(), _createBlock(_component_ion_button, {\n                    key: 0,\n                    slot: \"end\",\n                    color: \"success\",\n                    size: \"large\",\n                    onClick: _ctx.searchLocation\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Next \")\n                    ]),\n                    _: 1\n                  }, 8, [\"onClick\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, ref } from 'vue';\nimport BarcodeInput from \"@/components/BarcodeInput.vue\"\nimport {toastWarning} from \"@/utils/Alerts\"\nimport router from '@/router/index';\nimport { Service } from \"@/services/service\"\nimport { isEmpty } from 'lodash';\nimport {\n  IonContent, \n  IonHeader, \n  IonPage, \n  IonTitle, \n  IonToolbar,\n  IonButton,\n  IonFooter,\n} from '@ionic/vue';\nimport HisKeyboard from '@/components/Keyboard/HisKeyboard.vue';\nimport {NUMBERS} from \"@/components/Keyboard/HisKbConfigurations\"\nimport usePlatform, { ScannerType } from '@/composables/usePlatform';\nimport kbHandler from '@/components/Keyboard/KbHandler';\n\nexport default defineComponent({\n  name: 'HC location',\n  components: {\n    BarcodeInput,\n    IonContent,\n    IonHeader,\n    IonPage,\n    IonTitle,\n    IonToolbar,\n    IonButton,\n    IonFooter,\n    HisKeyboard\n  },\n  setup() {\n    const { activePlatformProfile } = usePlatform()\n    const barcodeText = ref('')\n    const clearValue = ref('')\n    const useVirtualKeyboard = computed(() => activePlatformProfile.value.scanner === ScannerType.CAMERA_SCANNER)\n  \n    async function searchLocation() {\n      if (!barcodeText.value.includes('$')) {\n        barcodeText.value += '$'\n      }\n      const response = await Service.getJson(`locations/${barcodeText.value}`)\n      if (isEmpty(response)) {\n        toastWarning(\"Invalid location\")\n      }else {\n        const data = response\n        sessionStorage.siteUUID = data.uuid\n        sessionStorage.userLocation = data.name;\n        router.push(\"/\");\n      }\n      clearValue.value = barcodeText.value\n      barcodeText.value = ''\n    }\n\n    function onbarcodeText(t: string) {\n      barcodeText.value = t\n    }\n\n    function onKbClick(t: string) {\n      barcodeText.value = kbHandler(t, barcodeText.value)\n      console.log(\"barcode\", barcodeText.value)\n    }\n\n    async function onScan(t: string) {\n      barcodeText.value = t\n      await searchLocation()\n    }\n\n    return {\n      onbarcodeText,\n      onScan,\n      onKbClick,\n      searchLocation,\n      useVirtualKeyboard,\n      clearValue,\n      barcodeText,\n      NUMBERS\n    }\n  }\n})\n","import { render } from \"./HClocation.vue?vue&type=template&id=7ed511b6&scoped=true&ts=true\"\nimport script from \"./HClocation.vue?vue&type=script&lang=ts\"\nexport * from \"./HClocation.vue?vue&type=script&lang=ts\"\n\nimport \"./HClocation.vue?vue&type=style&index=0&id=7ed511b6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ed511b6\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HClocation.vue?vue&type=style&index=0&id=7ed511b6&scoped=true&lang=css\"","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"his-floating-keyboard\" }\nconst _hoisted_2 = { class: \"his-floating-keyboard-content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_base_keyboard = _resolveComponent(\"base-keyboard\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.activeLayout, (layout, index) => {\n        return (_openBlock(), _createElementBlock(\"div\", { key: index }, [\n          _createVNode(_component_base_keyboard, {\n            layout: layout,\n            onKeyPress: _ctx.keypress\n          }, null, 8, [\"layout\", \"onKeyPress\"])\n        ]))\n      }), 128))\n    ])\n  ]))\n}","\nimport { defineComponent } from \"vue\";\nimport { KEY_BTN_NAV } from \"@/components/Keyboard/HisKbConfigurations\"\nimport BaseKeyboard from \"@/components/Keyboard/BaseKeyboard.vue\";\nexport default defineComponent({\n  components: { BaseKeyboard},\n  props: {\n    initalKeyboardName: {\n      type: String\n    },\n    kbConfig: {\n      type: Array,\n      required: true\n    },\n    onKeyPress: {\n      type: Function,\n      required: true,\n    },\n  },\n  data: () => ({\n    activeLayout: {} as Array<any>\n  }),\n  watch: {\n    initalKeyboardName: {\n      handler(name: string) {\n        if (name) {\n          this.$nextTick(() => this.switchKeyboard(name))\n        }\n      },\n      immediate: true\n    },\n    kbConfig: {\n      handler(keyboard: Array<any>){\n        if(keyboard) {\n          this.activeLayout = keyboard\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n    keypress(key: any) {\n      if (!this.isFunctionKey(key)) {\n        this.onKeyPress(key);\n      }\n    },\n    isFunctionKey(key: string) {  \n      if (this.switchKeyboard(key)) {\n        return true\n      }\n      return false\n    },\n    switchKeyboard(key: string): boolean {\n      const kbIndex = KEY_BTN_NAV.map(item => item.btn).indexOf(key)\n      if (kbIndex >= 0) {\n        this.activeLayout = KEY_BTN_NAV[kbIndex].keyboard\n        return true\n      }\n      return false\n    }\n  },\n});\n","import { render } from \"./HisKeyboard.vue?vue&type=template&id=7167c7d4&ts=true\"\nimport script from \"./HisKeyboard.vue?vue&type=script&lang=ts\"\nexport * from \"./HisKeyboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}