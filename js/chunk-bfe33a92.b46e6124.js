(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfe33a92"],{7337:function(e,t,o){"use strict";o.r(t);var s=o("7a23");const a=Object(s["withScopeId"])("data-v-146a0e6b");Object(s["pushScopeId"])("data-v-146a0e6b");const n=Object(s["createVNode"])("h1",{class:"ion-text-center"}," High BP Alert ",-1),c={key:0,class:"vertically-align ion-text-center"},i={style:{"font-weight":"bold"}},r={class:"name"},l=Object(s["createTextVNode"])(" has "),d=Object(s["createTextVNode"])(" blood pressure of "),h={class:"bp"},p=Object(s["createVNode"])("br",null,null,-1),b=Object(s["createVNode"])("span",null,[Object(s["createTextVNode"])(" Retesting BP is "),Object(s["createVNode"])("span",{style:{"font-weight":"bold",color:"#000000","text-decoration":"underline"}},"optional"),Object(s["createTextVNode"])(". "),Object(s["createVNode"])("br"),Object(s["createTextVNode"])(" Do you want to test BP? ")],-1),u={key:1,class:"vertically-align ion-text-center"},O=Object(s["createTextVNode"])(" No BP Reading found "),j=Object(s["createVNode"])("br",null,null,-1),g=Object(s["createVNode"])("h1",null," Do you want to test BP? ",-1),B=Object(s["createTextVNode"])(" No "),m=Object(s["createTextVNode"])(" Yes ");Object(s["popScopeId"])();const y=a((function(e,t,o,y,N,w){const P=Object(s["resolveComponent"])("ion-content"),V=Object(s["resolveComponent"])("ion-button"),k=Object(s["resolveComponent"])("ion-toolbar"),f=Object(s["resolveComponent"])("ion-footer"),v=Object(s["resolveComponent"])("ion-page");return Object(s["openBlock"])(),Object(s["createBlock"])(v,null,{default:a(()=>[Object(s["createVNode"])(P,null,{default:a(()=>[n,e.hasPressureReading?(Object(s["openBlock"])(),Object(s["createBlock"])("div",c,[Object(s["withDirectives"])(Object(s["createVNode"])("h2",i," (Patient already on BP drugs) ",512),[[s["vShow"],e.patientOnBpDrugs]]),Object(s["createVNode"])("h2",null,[Object(s["createVNode"])("span",r,Object(s["toDisplayString"])(e.patientName),1),l,Object(s["withDirectives"])(Object(s["createVNode"])("span",null," a high ",512),[[s["vShow"],e.highBP]]),d,Object(s["createVNode"])("span",h,Object(s["toDisplayString"])(e.sysBp)+" / "+Object(s["toDisplayString"])(e.dsBP),1),p,b])])):Object(s["createCommentVNode"])("",!0),e.hasPressureReading?Object(s["createCommentVNode"])("",!0):(Object(s["openBlock"])(),Object(s["createBlock"])("div",u,[O,j,g]))]),_:1}),Object(s["createVNode"])(f,null,{default:a(()=>[Object(s["createVNode"])(k,{color:"dark"},{default:a(()=>[Object(s["createVNode"])(V,{onClick:t[1]||(t[1]=()=>e.hasPressureReading?e.showRiskFactors():e.nextTask()),size:"large",color:"danger",slot:"start"},{default:a(()=>[B]),_:1}),Object(s["createVNode"])(V,{onClick:e.recaptureBp,size:"large",color:"success",slot:"end"},{default:a(()=>[m]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}));var N=o("7365"),w=o("8a30"),P=o("d1ca"),V=o("32b3"),k=o("8158"),f=o("77fd"),v=o("7957"),C=o("2ef0"),T=Object(s["defineComponent"])({mixins:[N["a"]],components:{IonFooter:w["IonFooter"],IonContent:w["IonContent"],IonPage:w["IonPage"],IonButton:w["IonButton"],IonToolbar:w["IonToolbar"]},data:()=>({sysBp:0,dsBP:0,riskFactors:[],patientOnBpDrugs:!1,isPregnant:!1,systolicThreshold:145,diastolicTheshold:94}),methods:{async showRiskFactors(){const e=await w["modalController"].create({component:f["a"],backdropDismiss:!1,cssClass:"large-modal",componentProps:{factors:this.riskFactors}});e.present();const{data:t}=await e.onDidDismiss();Object(C["isEmpty"])(t)||this.nextTask()},async getRiskFactors(){const e=k["a"].getConceptsByCategory("risk factors"),t=e.map(async e=>{const t=await v["a"].getFirstValueCoded(this.patientID,e.name);return{concept:e.name,value:t}});return Promise.all(t)},recaptureBp(){this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)}},watch:{ready:{async handler(e){if(!e)return;const t=await w["loadingController"].create({message:"Verifying Blood Pressure...",backdropDismiss:!1});await t.present();const o=new V["a"](this.patientID,this.providerID);this.riskFactors=await this.getRiskFactors(),this.systolicThreshold=await P["b"].systolicThreshold()||145,this.diastolicTheshold=await P["b"].diastolicThreshold()||94,this.dsBP=await o.getDiastolicBp()||0,this.sysBp=await o.getSystolicBp()||0,this.patientOnBpDrugs=await o.onBpDrugs()||!1,this.isPregnant=this.patient.isChildBearing()&&await this.patient.isPregnant()||!1,w["loadingController"].dismiss()},immediate:!0}},computed:{patientName(){return this.ready?this.patient.getFullName():"Patient"},hasPressureReading(){return this.sysBp>0&&this.dsBP>0},highBP(){return(this.sysBp>=this.systolicThreshold&&this.dsBP>=this.diastolicTheshold||this.dsBP>=this.diastolicTheshold)&&!this.isPregnant}}}),D=(o("8bd6"),o("d959")),I=o.n(D);const x=I()(T,[["render",y],["__scopeId","data-v-146a0e6b"]]);t["default"]=x},"8bd6":function(e,t,o){"use strict";o("c658")},c658:function(e,t,o){}}]);
//# sourceMappingURL=chunk-bfe33a92.b46e6124.js.map