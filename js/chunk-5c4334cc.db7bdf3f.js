(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c4334cc"],{5969:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("1c74"),a=n("9283"),s=n("5a0c"),i=n.n(s);class o extends r["e"]{constructor(){super(),this.endDate="",this.startDate="",this.quarter="",this.date=r["e"].getSessionDate(),this.programID=r["e"].getProgramID()}getDateIntervalPeriod(){return`${a["b"].toStandardHisDisplayFormat(this.startDate)} - ${a["b"].toStandardHisDisplayFormat(this.endDate)}`}setStartDate(t){this.startDate=t}setEndDate(t){this.endDate=t}setQuarter(t){this.quarter=t}getReport(t,e={}){return r["e"].getJson(t,this.buildRequest(e))}buildRequest(t={}){const e={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(e["start_date"]=this.startDate,e["end_date"]=this.endDate),this.quarter&&(e["quarter"]=this.quarter),{...e,...t}}static getQuarterBounds(t){const e=e=>i()(`${t}-${e}-01`).daysInMonth(),n=e=>`${t}-${e}-01 00:00`,r=n=>`${t}-${n}-${e(n)} 00:00`;return{Q1:{qtr:1,start:n("01"),end:r("03")},Q2:{qtr:2,start:n("04"),end:r("06")},Q3:{qtr:3,start:n("07"),end:r("09")},Q4:{qtr:4,start:n("10"),end:r("12")}}}static getQtrByDate(t){const e=this.getQuarterBounds(t.getFullYear());for(const n in e){const{start:r,end:a}=e[n];if(t>=new Date(r)&&t<=new Date(a))return e[n]}return null}static buildQtrObj(t,e){const n=this.getQuarterBounds(e),{start:r,end:a}=n[t];return{start:r,end:a,name:`${t} ${e}`}}static getReportQuarters(t=5){const e=[];let n=new Date,r=n.getFullYear();const a=r;n=new Date(`${a}-${n.getMonth()+1}-${n.getDate()} 00:00`);const s=this.getQtrByDate(n);let i=s.qtr,o=0;4===i&&e.push(this.buildQtrObj("Q1",r+1));while(o<t)0===o&&i<4&&e.push(this.buildQtrObj("Q"+(i+1),r)),e.push(this.buildQtrObj("Q"+i,r)),i=i>0?i-=1:i,r=0==i?r-1:r,i=0==i?i+=4:i,o++;return e}}},b791:function(t,e,n){"use strict";n.r(e);var r=n("7a23");function a(t,e,n,a,s,i){const o=Object(r["resolveComponent"])("his-standard-form"),u=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(u,null,{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(o,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0,cancelDestinationPath:"/"},null,8,["fields","onFinishAction"])]),_:1})}var s=n("df95"),i=n("d95e"),o=n("8a30"),u=n("7365"),c=n("2706"),d=n("80b5"),l=Object(r["defineComponent"])({mixins:[u["a"]],components:{IonPage:o["D"]},created(){this.fields=[{id:"data_cleaning_datetime",helpText:"Date data cleaning done",type:i["b"].TT_FULL_DATE,computedValue:t=>t.value,validation:t=>c["a"].required(t)},(()=>{const t=d["a"].getGivenNameField();return t.helpText="Verifier's First name",t.proxyID="supervisors",t})(),(()=>{const t=d["a"].getFamilyNameField();return t.helpText="Verifier's Last name",t.proxyID="supervisors",t.computedValue=(t,e)=>[`${e.given_name.value} ${t.value}`],t})()]},methods:{async onFinish(t,e){const n=await(new s["b"]).saveDataCleaningVerification(e);n&&this.$router.back()}}}),h=n("6b0d"),D=n.n(h);const p=D()(l,[["render",a]]);e["default"]=p},df95:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var r,a=n("5969");(function(t){t["DobMoreThanEnrolledDate"]="DOB MORE THAN DATE ENROLLED",t["ClientsWithEncountersAfterDeath"]="CLIENTS WITH ENCOUNTERS AFTER DECLARED DEAD",t["DobMoreThanDateEnrolled"]="DOB MORE THAN DATE ENROLLED",t["DateEnrolledLessThanEarliestStartDate"]="DATE ENROLLED LESS THAN EARLIEST START DATE",t["MalesWithFemaleObs"]="MALE CLIENTS WITH FEMALE OBS",t["PrescriptionWithoutDispensation"]="PRESCRIPTION WITHOUT DISPENSATION",t["MissingDemographics"]="MISSING DEMOGRAPHICS",t["MissingStartReasons"]="MISSING START REASONS",t["MultipleStartReasons"]="MULTIPLE START REASONS",t["PreArtOrUnknownOutcomes"]="PRE ART OR UNKNOWN OUTCOMES"})(r||(r={}));class s extends a["a"]{constructor(){super()}saveDataCleaningVerification(t){return a["a"].postJson("data_cleaning_confirmation",t)}getCleaningToolReport(t){return this.getReport("art_data_cleaning_tools",{report_name:t})}getEnrolledOnArtBeforeBirth(){return a["a"].getJson("enrolled_on_art_before_birth")}getIncompleteVisits(){return this.getReport("incomplete_visits",{tool_name:"INCOMPLETE VISITS"})}}}}]);
//# sourceMappingURL=chunk-5c4334cc.db7bdf3f.js.map