{"version":3,"sources":["webpack:///./src/views/PrintDrug.vue?01c7","webpack:///./src/services/drug_service.ts","webpack:///./src/views/PrintDrug.vue","webpack:///./src/views/PrintDrug.vue?e755"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_openBlock","_createBlock","skipSummary","fields","onOnFinish","onSubmit","DrugService","params","Service","defineComponent","components","HisStandardForm","data","created","id","helpText","type","FieldType","TT_SELECT","validation","val","Validation","required","options","_","filter","getDrugs","name","facilities","map","facility","label","value","drug_id","config","showKeyboard","isFilterDataViaApi","TT_NUMBER","methods","form","PrintoutService","printDrug","drug","quantity","$router","push","path","console","log","__exports__"],"mappings":"uIAEM,SAAUA,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,IAAMC,EAA+BC,8BAAkB,qBAEvD,OAAQC,yBAAcC,yBAAaH,EAA8B,CAC/DI,aAAa,EACbC,OAAQX,EAAKW,OACbC,WAAYZ,EAAKa,UAChB,KAAM,EAAG,CAAC,SAAU,e,gJCPZC,EAAb,wDACI,wDADJ,oDAMI,WAA4D,IAA5CC,EAA4C,uDAArC,GACnB,kEAAqB,SAAUA,OAPvC,GAAiCC,Q,oCCOlBC,+BAAgB,CAC3BC,WAAY,CAAEC,wBACdC,KAAM,iBAAO,CACTT,OAAQ,KAENU,QALqB,WAKd,wJACT,EAAKV,OAAS,CACV,CACIW,GAAI,OACJC,SAAU,cACVC,KAAMC,OAAUC,UAChBC,WAAY,SAACC,GAAD,OAAcC,OAAWC,SAASF,IAC9CG,QAAS,WAAF,8CAAE,WAAOC,GAAP,4GAAUC,EAAV,+BAAiB,GAAjB,SACoBnB,EAAYoB,SAAS,CAACC,KAAMF,IADhD,cACCG,EADD,yBAEEA,EAAWC,KAAI,SAACC,GAAD,MAAoB,CACtCC,MAAOD,EAASH,KAChBK,MAAOF,EAASG,aAJf,2CAAF,sDAAE,GAOTC,OAAQ,CACJC,cAAc,EACdC,oBAAoB,IAG5B,CACItB,GAAI,WACJC,SAAU,iBACVC,KAAMC,OAAUoB,UAChBlB,WAAY,SAACC,GAAD,OAAcC,OAAWC,SAASF,IAC9Cc,OAAQ,CACJC,cAAc,KAzBjB,8CA8BbG,QAAS,CACCjC,SADD,SACUkC,GAAS,qKACdR,EAAQ,IAAIS,OADE,kBAGVT,EAAMU,UAAUF,EAAKG,KAAKV,MAAOO,EAAKI,SAASX,OAHrC,OAIhB,EAAKY,QAAQC,KAAK,CAACC,KAAM,MAJT,mDAMhBC,QAAQC,IAAR,MANgB,+D,qBCxChC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAAS1D,KAErD","file":"js/chunk-2d228961.9a870bb9.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n\n  return (_openBlock(), _createBlock(_component_his_standard_form, {\n    skipSummary: true,\n    fields: _ctx.fields,\n    onOnFinish: _ctx.onSubmit\n  }, null, 8, [\"fields\", \"onOnFinish\"]))\n}","import { Service } from \"./service\";\n\nexport class DrugService extends Service {\n    constructor() {\n        super()\n    }\n\n    \n    static getDrugs(params={} as Record<string, string | number>) {\n        return super.getJson('/drugs', params)\n    }\n}","\nimport { defineComponent } from 'vue'\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport {DrugService} from \"@/services/drug_service\"\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { Field } from \"@/components/Forms/FieldInterface\"\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { PrintoutService} from \"@/services/printout_service\"\n\nexport default defineComponent({\n    components: { HisStandardForm },\n    data: () => ({\n        fields: [] as Array<Field>    \n    }),\n    async created(){\n        this.fields = [ \n            {\n                id: 'drug',\n                helpText: 'Select drug',\n                type: FieldType.TT_SELECT,\n                validation: (val: any) => Validation.required(val),\n                options: async (_, filter='') => {\n                    const facilities = await DrugService.getDrugs({name: filter})\n                    return facilities.map((facility: any) => ({\n                        label: facility.name,\n                        value: facility.drug_id\n                    }))\n                },\n                config: {\n                    showKeyboard: true,\n                    isFilterDataViaApi: true\n                }\n            },\n            {\n                id: 'quantity',\n                helpText: 'Input quantity',\n                type: FieldType.TT_NUMBER,\n                validation: (val: any) => Validation.required(val),\n                config: {\n                    showKeyboard: true,\n                }\n            }\n        ]\n    },\n    methods: {\n        async onSubmit(form: any) {\n            const label = new PrintoutService()\n            try {\n                await label.printDrug(form.drug.value, form.quantity.value)\n                this.$router.push({path: '/'})\n            }catch(e) { \n                console.log(e)\n            }\n        }\n    }\n})\n","import { render } from \"./PrintDrug.vue?vue&type=template&id=1dc9557a&ts=true\"\nimport script from \"./PrintDrug.vue?vue&type=script&lang=ts\"\nexport * from \"./PrintDrug.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}