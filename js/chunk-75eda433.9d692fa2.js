(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75eda433","TouchFormElement38"],{"04a0":function(e,t,o){},"0a79":function(e,t,o){"use strict";var n=o("7a23");const c=Object(n["withScopeId"])("data-v-7c293cad"),a=c((function(e,t,o,c,a,r){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{id:"view-port",class:e.showFull?"":"half"},[Object(n["renderSlot"])(e.$slots,"default")],2)}));var r=Object(n["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:()=>!0}}}),l=(o("a4d3"),o("d959")),s=o.n(l);const d=s()(r,[["render",a],["__scopeId","data-v-7c293cad"]]);t["a"]=d},3286:function(e,t,o){"use strict";o.r(t);var n=o("7a23");const c=Object(n["withScopeId"])("data-v-31e11cd2");Object(n["pushScopeId"])("data-v-31e11cd2");const a=Object(n["createTextVNode"])(" Drug Set "),r=Object(n["createTextVNode"])(" Cancel "),l=Object(n["createTextVNode"])(" Void Drug Set "),s=Object(n["createTextVNode"])(" Add Drug Set ");Object(n["popScopeId"])();const d=c((function(e,t,o,d,u,i){const b=Object(n["resolveComponent"])("ion-title"),j=Object(n["resolveComponent"])("ion-toolbar"),O=Object(n["resolveComponent"])("ion-header"),p=Object(n["resolveComponent"])("ion-label"),g=Object(n["resolveComponent"])("ion-item"),v=Object(n["resolveComponent"])("ion-list"),m=Object(n["resolveComponent"])("ion-col"),f=Object(n["resolveComponent"])("report-data-table"),I=Object(n["resolveComponent"])("ion-row"),C=Object(n["resolveComponent"])("ion-grid"),_=Object(n["resolveComponent"])("view-port"),h=Object(n["resolveComponent"])("ion-content"),S=Object(n["resolveComponent"])("ion-button"),k=Object(n["resolveComponent"])("ion-footer"),w=Object(n["resolveComponent"])("ion-page");return Object(n["openBlock"])(),Object(n["createBlock"])(w,null,{default:c(()=>[Object(n["createVNode"])(O,null,{default:c(()=>[Object(n["createVNode"])(j,null,{default:c(()=>[Object(n["createVNode"])(b,{class:"his-lg-text"},{default:c(()=>[a]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(h,null,{default:c(()=>[Object(n["createVNode"])(_,null,{default:c(()=>[Object(n["createVNode"])(C,{style:{"background-color":"white"},class:"view-port-content"},{default:c(()=>[Object(n["createVNode"])(I,null,{default:c(()=>[Object(n["createVNode"])(m,{size:"4"},{default:c(()=>[Object(n["createVNode"])(v,null,{default:c(()=>[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.drugSets,(t,o)=>(Object(n["openBlock"])(),Object(n["createBlock"])(g,{class:"his-sm-text",button:"",detail:"",color:e.selectedDrugSet.id===t.id?"lightblue":"",onClick:o=>e.selectedDrugSet=t,key:o},{default:c(()=>[Object(n["createVNode"])(p,null,{default:c(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(t.name),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),Object(n["createVNode"])(m,{size:"8"},{default:c(()=>[Object(n["createVNode"])(f,{columns:e.drugSetColumns,rows:e.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),Object(n["createVNode"])(k,null,{default:c(()=>[Object(n["createVNode"])(j,{color:"dark"},{default:c(()=>[Object(n["createVNode"])(S,{onClick:e.cancel,slot:"start",color:"danger",size:"large"},{default:c(()=>[r]),_:1},8,["onClick"]),e.hasSelectedDrugSet?(Object(n["openBlock"])(),Object(n["createBlock"])(S,{key:0,onClick:e.voidDrugset,slot:"end",color:"danger",size:"large"},{default:c(()=>[l]),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(S,{onClick:e.addDrugset,slot:"end",color:"success",size:"large"},{default:c(()=>[s]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})}));var u=o("0a79"),i=o("80e3"),b=o("9ceb"),j=o("8a30"),O=o("c84b"),p=o("2ef0"),g=o("6c02"),v=o("b5e4"),m=Object(n["defineComponent"])({components:{IonPage:j["IonPage"],ReportDataTable:i["a"],IonList:j["IonList"],IonItem:j["IonItem"],IonLabel:j["IonLabel"],ViewPort:u["a"],IonButton:j["IonButton"],IonContent:j["IonContent"],IonHeader:j["IonHeader"],IonGrid:j["IonGrid"],IonRow:j["IonRow"],IonCol:j["IonCol"],IonTitle:j["IonTitle"],IonFooter:j["IonFooter"],IonToolbar:j["IonToolbar"]},setup(){const e=Object(g["f"])(),t=Object(n["ref"])({}),o=Object(n["ref"])([]),c=[[b["a"].thTxt("Drug"),b["a"].thTxt("Duration in days"),b["a"].thTxt("Frequency")]],a=Object(n["computed"])(()=>!Object(p["isEmpty"])(o.value)),r=Object(n["computed"])(()=>{var e,o;return(null===(e=t.value)||void 0===e||null===(o=e.drugs)||void 0===o?void 0:o.map(e=>[b["a"].td(e["drug_name"]||"N/A"),b["a"].td(e.duration||"N/A"),b["a"].td(e.frequency)]))||[]});function l(){e.back()}function s(){e.push({name:"add anc drugset"})}async function d(){if(await Object(v["a"])("Are you sure you want to void this drug set?"))try{await O["a"].voidDrugSet(t.value.id||-1),o.value=o.value.filter(e=>e.id!=t.value.id),Object(p["isEmpty"])(o.value)?t.value={}:t.value=o.value[0]}catch(e){Object(v["e"])("e")}}return Object(n["onMounted"])(async()=>{o.value=await O["a"].getDrugSets(),Object(p["isEmpty"])(o.value)||(t.value=o.value[0])}),{cancel:l,addDrugset:s,voidDrugset:d,drugSets:o,hasSelectedDrugSet:a,selectedDrugSet:t,drugSetColumns:c,drugSetRows:r}}}),f=(o("5271"),o("d959")),I=o.n(f);const C=I()(m,[["render",d],["__scopeId","data-v-31e11cd2"]]);t["default"]=C},5271:function(e,t,o){"use strict";o("9b6e")},"9b6e":function(e,t,o){},a4d3:function(e,t,o){"use strict";o("04a0")},c84b:function(e,t,o){"use strict";o.d(t,"a",(function(){return c}));o("13d5");var n=o("1c74");class c extends n["e"]{static saveDrugSet(e){const t={...e};return t["datetime"]=n["e"].getSessionDate(),this.postJson("/drug_sets",e)}static voidDrugSet(e){return this.void("/drug_sets/"+e,{date:this.getSessionDate()})}static async getDrugSets(){const e=await this.getJson("drug_sets");return e?Object.keys(e["set_names"]).reduce((t,o)=>{const n=e["set_names"][o],c=e["set_descriptions"][o],a=e["drug_sets"][o];return t.push({id:parseInt(o),name:n,description:c,drugs:Object.keys(a).reduce((e,t)=>[...e,{id:parseInt(t),...a[t],drug_name:a[t].drug_name,duration:parseInt(a[t].duration),frequency:a[t].frequency,units:a[t].units}],[])}),t},[]):[]}}}}]);
//# sourceMappingURL=chunk-75eda433.9d692fa2.js.map