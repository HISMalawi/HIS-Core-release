(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-239749e2"],{"83af":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("cc6f");class i extends a["a"]{constructor(t,e){super(t,7,e)}async getNextAppointment(){const t=a["a"].getProgramID();return a["a"].getJson(`/programs/${t}/patients/${this.patientID}/next_appointment_date`,{date:this.date})}static async getDailiyAppointments(t){const e=a["a"].getProgramID();return a["a"].getJson(`/programs/${e}/booked_appointments`,{date:t,paginate:!1})}}},a93b:function(t,e,n){"use strict";n.r(e);var a=n("7a23");function i(t,e,n,i,o,s){const p=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(p,{fields:t.fields,onFinishAction:t.onFinish,skipSummary:!0,cancelDestinationPath:t.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var o=n("d95e"),s=n("7920"),p=n("2706"),r=n("7365"),c=n("83af"),d=n("5a0c"),m=n.n(d),h=Object(a["defineComponent"])({mixins:[r["a"]],components:{HisStandardForm:s["a"]},data:()=>({appointmentDate:"",maxAppointmentDate:"",appointment:{}}),watch:{ready:{async handler(t){t&&(this.appointment=new c["a"](this.patientID,this.providerID),this.init())},immediate:!0}},methods:{async onFinish(t,e){await this.appointment.createEncounter(),await this.appointment.saveObservationList(await this.resolveObs(e,"obs")),this.gotoPatientDashboard()},init(){this.appointmentDate=c["a"].getSessionDate(),this.maxAppointmentDate=m()(this.appointmentDate).add(100,"year").format("YYYY-MM-DD"),this.fields=this.getFields()},getFields(){return[{id:"set_appointment",helpText:"Appointments booking",type:o["b"].TT_APPOINTMENTS_ENTRY,validation:t=>p["a"].required(t),computedValue:t=>({tag:"obs",obs:[this.appointment.buildValueDate("Appointment date",t.value)]}),config:{patientAge:this.patient.getAge(),hideRunoutDate:!0,hiddenFooterBtns:["Clear"]},options:()=>[{label:"",value:"",other:{runOutDate:this.maxAppointmentDate,appointmentDate:this.appointmentDate}}]}]}}}),u=n("6b0d"),l=n.n(u);const D=l()(h,[["render",i]]);e["default"]=D}}]);
//# sourceMappingURL=chunk-239749e2.e25e7167.js.map