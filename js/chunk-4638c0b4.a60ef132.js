(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4638c0b4"],{7920:function(e,n,t){"use strict";var r=t("7a23");function i(e,n,t,i,s,a){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var s=t("9441"),a=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:s["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,n){this.$emit("onFinish",e,n)},onIndex:function(e){this.$emit("onIndex",e)}}}),o=t("d959"),c=t.n(o);const u=c()(a,[["render",i]]);n["a"]=u},cb7c:function(e,n,t){"use strict";t.r(n);var r=t("7a23");function i(e,n,t,i,s,a){var o=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(o,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,key:e.refreshKey},null,8,["fields","onFinishAction"])}var s=t("1da1"),a=(t("b0c0"),t("4e82"),t("d81d"),t("96cf"),t("d95e")),o=t("7920"),c=t("b89f"),u=t("2ef0"),l=t("fe70"),f=t("b5e4"),d=Object(r["defineComponent"])({components:{HisStandardForm:o["a"]},data:function(){return{printFieldContext:null,printerService:{},defaultPrinter:{},refreshKey:0,fields:[],refreshInterval:null,isRefreshingDevices:!1}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.printerService=new c["a"],n.next=3,e.printerService.getDefaultPrinter();case 3:if(n.t0=n.sent,n.t0){n.next=6;break}n.t0={};case 6:e.defaultPrinter=n.t0,e.fields=e.getFields();case 8:case"end":return n.stop()}}),n)})))()},unmounted:function(){this.refreshInterval&&clearInterval(this.refreshInterval)},methods:{onFinish:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$router.back();case 1:case"end":return n.stop()}}),n)})))()},isDefaultPrinter:function(e){return e.name&&this.defaultPrinter.name?e.name===this.defaultPrinter.name:e.deviceID===this.defaultPrinter.deviceID},sortPrinters:function(e){var n=this;return e.sort((function(e,t){return n.isDefaultPrinter(e)&&!n.isDefaultPrinter(t)?-1:!n.isDefaultPrinter(e)&&n.isDefaultPrinter(t)?1:(e.name||e.deviceID).localeCompare(t.name||t.deviceID)}))},defaultPrinterStyle:function(){var e=[];return Object(u["isEmpty"])(this.defaultPrinter)||e.push({indexes:[0],class:"adherence-txt-good adherence-col-bg bold"}),e},getFields:function(){var e=this;return[{id:"printer_settings",helpText:"Printer Settings",type:a["b"].TT_TABLE_VIEWER,config:{hiddenFooterBtns:["Clear"],footerBtns:[{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.isRefreshingDevices){n.next=2;break}return n.abrupt("return",Object(f["e"])("Please wait..."));case 2:if(!e.printFieldContext){n.next=17;break}return n.next=5,l["j"].create({backdropDismiss:!1,message:"Please wait..."});case 5:return n.sent.present(),e.isRefreshingDevices=!0,n.prev=7,n.next=10,e.printFieldContext.init();case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](7),Object(f["c"])("".concat(n.t0));case 15:e.isRefreshingDevices=!1,l["j"].dismiss();case 17:case"end":return n.stop()}}),n,null,[[7,12]])})));function t(){return n.apply(this,arguments)}return t}()}]},init:function(){e.refreshInterval=setInterval(Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.printFieldContext||e.isRefreshingDevices){n.next=5;break}return e.isRefreshingDevices=!0,n.next=4,e.printFieldContext.init();case 4:e.isRefreshingDevices=!1;case 5:case"end":return n.stop()}}),n)}))),5e3)},onload:function(n){e.printFieldContext=n},options:function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.printerService.getAllPrinters();case 2:return t=n.sent,r=e.sortPrinters(t),n.abrupt("return",[{other:{rowColors:e.defaultPrinterStyle(),columns:["Available Devices"],rows:r.map((function(n){return[n.name||n.deviceID,{type:"button",name:"Test Printer",action:function(){return e.printerService.printTestLbl(n)}},e.isDefaultPrinter(n)?"Default Printer":{type:"button",name:"Set as Default",visible:!e.isDefaultPrinter(n),action:function(){e.printerService.setDefaultPrinter(n),e.defaultPrinter=n,e.refreshKey=1e4*Math.random()}}]}))}}]);case 5:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}]}}}),p=t("d959"),h=t.n(p);const m=h()(d,[["render",i]]);n["default"]=m}}]);
//# sourceMappingURL=chunk-4638c0b4.a60ef132.js.map