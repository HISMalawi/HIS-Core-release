(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f61767b"],{"0db2":function(e,t,n){"use strict";var r=n("7a23"),o=Object(r["createVNode"])("span",null,null,-1),a={key:0,class:"ion-float-right ion-margin-end checkbox-label"},c={key:0,style:{background:"#f2f2f2",height:"100%",padding:".5rem","flex-grow":"1"}},u={style:{background:"#ffffff",height:"100%",padding:".5rem","flex-grow":"8"}},i={key:1,style:{background:"#f2f2f2",height:"100%",padding:".5rem","flex-grow":"1"}};function l(e,t,n,l,s,d){var p=Object(r["resolveComponent"])("ion-checkbox"),b=Object(r["resolveComponent"])("ion-label"),f=Object(r["resolveComponent"])("ion-input"),m=Object(r["resolveComponent"])("ion-note");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.model.label?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,class:" ion-padding-bottom bold"},{default:Object(r["withCtx"])((function(){return[o,Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.label)+" ",1),e.allowUnknown?(Object(r["openBlock"])(),Object(r["createBlock"])("span",a,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.label)+" Unknown? ",1),Object(r["createVNode"])(p,{modelValue:e.isUnknown,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.isUnknown=t})},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",{class:["ion-margin-top",e.model.error?"box-input-error":"box-input"],style:{width:"100%",height:"2.5rem",display:"flex","justify-content":"space-between"}},[e.prefix?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])(b,{class:"checkbox-label bold"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.prefix),1)]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",u,[Object(r["createVNode"])(f,{class:"ion-no-margin ion-no-padding",modelValue:e.model.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.model.value=t}),type:e.password?"password":"text",placeholder:e.model.placeholder,disabled:e.model.disabled||e.isUnknown,onIonFocus:t[3]||(t[3]=function(t){return e.model.error=""}),onIonBlur:e.validate},null,8,["modelValue","type","placeholder","disabled","onIonBlur"])]),e.suffix?(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[Object(r["createVNode"])(b,{class:"checkbox-label bold ion-float-right"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.suffix),1)]})),_:1})])):Object(r["createCommentVNode"])("",!0)],2),e.model.error?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:1,color:"danger"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.error),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)}var s=n("1da1"),d=(n("96cf"),n("d3b7"),n("25f0"),n("8a30")),p=Object(r["defineComponent"])({name:"TextInput",props:{modelValue:{type:Object,default:function(){return{}}},allowUnknown:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},prefix:{type:String,default:""},suffix:{type:String,default:""},password:{type:Boolean,default:!1}},components:{IonLabel:d["IonLabel"],IonInput:d["IonInput"],IonNote:d["IonNote"],IonCheckbox:d["IonCheckbox"]},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=Object(r["ref"])(!1),a=Object(r["computed"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),c=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.value.required||a.value.value){t.next=2;break}return t.abrupt("return",a.value.error="This field is required");case 2:if((e.allowUnknown||"Unknown"!==a.value.value)&&"N/A"!==a.value.value){t.next=4;break}return t.abrupt("return",a.value.error="Unknown is not allowed");case 4:if(!a.value.validation){t.next=10;break}return t.next=7,a.value.validation({label:a.value.value,value:a.value.value},e.form);case 7:if(n=t.sent,!n||!n.length){t.next=10;break}return t.abrupt("return",a.value.error+=n.toString());case 10:return t.abrupt("return",a.value.error="");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r["watch"])(o,(function(e){e?(a.value.value="Unknown",a.value.error="",a.value.disabled=!0):(a.value.value="",a.value.disabled=!1)})),Object(r["watch"])(e.modelValue,(function(e){"Unknown"===e.value?o.value||(o.value=!0):o.value=!1})),Object(r["onMounted"])((function(){"Unknown"!==a.value.value||o.value||(o.value=!0)})),{validate:c,model:a,isUnknown:o}}}),b=n("d959"),f=n.n(b);const m=f()(p,[["render",l]]);t["a"]=m},"44d7":function(e,t,n){"use strict";n("68c9")},5969:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("5530"),o=n("d4ec"),a=n("bee2"),c=n("262e"),u=n("2caf"),i=(n("99af"),n("1c74")),l=n("9283"),s=n("5a0c"),d=n.n(s),p=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this),e.endDate="",e.startDate="",e.quarter="",e.date=i["e"].getSessionDate(),e.programID=i["e"].getProgramID(),e}return Object(a["a"])(n,[{key:"getDateIntervalPeriod",value:function(){return"".concat(l["c"].toStandardHisDisplayFormat(this.startDate)," - ").concat(l["c"].toStandardHisDisplayFormat(this.endDate))}},{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"setQuarter",value:function(e){this.quarter=e}},{key:"getReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i["e"].getJson(e,this.buildRequest(t))}},{key:"buildRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.quarter&&(t["quarter"]=this.quarter),Object(r["a"])(Object(r["a"])({},t),e)}}],[{key:"getQuarterBounds",value:function(e){var t=function(t){return d()("".concat(e,"-").concat(t,"-01")).daysInMonth()},n=function(t){return"".concat(e,"-").concat(t,"-01 00:00")},r=function(n){return"".concat(e,"-").concat(n,"-").concat(t(n)," 00:00")};return{Q1:{qtr:1,start:n("01"),end:r("03")},Q2:{qtr:2,start:n("04"),end:r("06")},Q3:{qtr:3,start:n("07"),end:r("09")},Q4:{qtr:4,start:n("10"),end:r("12")}}}},{key:"getQtrByDate",value:function(e){var t=this.getQuarterBounds(e.getFullYear());for(var n in t){var r=t[n],o=r.start,a=r.end;if(e>=new Date(o)&&e<=new Date(a))return t[n]}return null}},{key:"buildQtrObj",value:function(e,t){var n=this.getQuarterBounds(t),r=n[e],o=r.start,a=r.end;return{start:o,end:a,name:"".concat(e," ").concat(t)}}},{key:"getReportQuarters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=new Date,r=n.getFullYear(),o=r;n=new Date("".concat(o,"-").concat(n.getMonth()+1,"-").concat(n.getDate()," 00:00"));var a=this.getQtrByDate(n),c=a.qtr,u=0;4===c&&t.push(this.buildQtrObj("Q1",r+1));while(u<e)0===u&&c<4&&t.push(this.buildQtrObj("Q".concat(c+1),r)),t.push(this.buildQtrObj("Q".concat(c),r)),c=c>0?c-=1:c,r=0==c?r-1:r,c=0==c?c+=4:c,u++;return t}}]),n}(i["e"])},"5e76":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return v}));var r=n("53ca"),o=n("1da1"),a=(n("96cf"),n("d3b7"),n("4de4"),n("07ac"),n("99af"),n("3ca3"),n("ddb0"),n("25f0"),n("d81d"),n("7957")),c=n("0011"),u=n("2ef0"),i=n("b211"),l=n("b5e4");function s(e){return d.apply(this,arguments)}function d(){return d=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t);case 1:if((e.t1=e.t0()).done){e.next=16;break}if(n=e.t1.value,!t[n].required||!Object(u["isEmpty"])(t[n].value)){e.next=6;break}return t[n].error="This field is required",e.abrupt("continue",1);case 6:if("function"===typeof t[n].validation){e.next=9;break}return t[n].error="",e.abrupt("continue",1);case 9:return o="object"===Object(r["a"])(t[n].value)?t[n].value:{label:t[n].value,value:t[n].value},e.next=12,t[n].validation(o,t);case 12:a=e.sent,a&&a.length>0?(t[n].error=a.toString(),console.log(n,t[n].error)):t[n].error="",e.next=1;break;case 16:return e.abrupt("return",Object.values(t).every((function(e){var t=e.error;return!t})));case 17:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r={};for(var o in e)if(e[o].value){var a=t?Object(c["i"])(o):o;n[a]=e[o].value,"function"===typeof e[o].computedValue&&(r[a]=e[o].computedValue(e[o].value,e))}return{formData:n,computedFormData:r}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.values(e).filter((function(e){return e&&(e.tag===t||""===t)})).reduce((function(e,t){var n=t.obs?t.obs:t;return Array.isArray(n)?e=e.concat(n):e.push(n),e}),[]);return Promise.all(n)}function f(e,t){return m.apply(this,arguments)}function m(){return m=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",a["a"].buildGroupValueCoded(t,n.label,n.isChecked?"Yes":"No"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function v(e,t,n){return O.apply(this,arguments)}function O(){return O=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var o,a,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,o=(null===r||void 0===r?void 0:r.showloader)||!1,o&&i["a"].show(),a=p(t,null===r||void 0===r?void 0:r.underscoreKeys),c=a.formData,u=a.computedFormData,e.next=10,n(c,u);case 10:if(!o){e.next=13;break}return e.next=13,i["a"].hide();case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](4),Object(l["e"])("".concat(e.t0)),i["a"].hide();case 19:case"end":return e.stop()}}),e,null,[[4,15]])}))),O.apply(this,arguments)}},"68c9":function(e,t,n){},7498:function(e,t,n){"use strict";n.r(t);var r=n("7a23");function o(e,t,n,o,a,c){var u=Object(r["resolveComponent"])("base-report-table");return Object(r["openBlock"])(),Object(r["createBlock"])(u,{title:"Users","report-icon":"patient-type.png",columns:e.columns,rows:e.rows,rowActionButtons:e.rowActionBtns,"action-buttons":e.actionBtns,canExportCsv:!1,canExportPDF:!1,showRefreshButton:!1},null,8,["columns","rows","rowActionButtons","action-buttons"])}var a=n("1da1"),c=n("5530"),u=(n("96cf"),n("a15b"),n("d81d"),n("4de4"),n("d3b7"),n("8727")),i=n("c1e4"),l=n("9b02"),s=n.n(l),d=n("b5e4"),p=n("ff79"),b=n("da44"),f=Object(r["createTextVNode"])("Save"),m=Object(r["createTextVNode"])("Close");function v(e,t,n,o,a,c){var u=Object(r["resolveComponent"])("IonIcon"),i=Object(r["resolveComponent"])("IonButton"),l=Object(r["resolveComponent"])("IonButtons"),s=Object(r["resolveComponent"])("IonTitle"),d=Object(r["resolveComponent"])("IonToolbar"),p=Object(r["resolveComponent"])("IonHeader"),b=Object(r["resolveComponent"])("text-input"),v=Object(r["resolveComponent"])("ion-col"),O=Object(r["resolveComponent"])("TextInput"),j=Object(r["resolveComponent"])("SelectInput"),h=Object(r["resolveComponent"])("ion-row"),g=Object(r["resolveComponent"])("ion-grid"),y=Object(r["resolveComponent"])("IonContent"),w=Object(r["resolveComponent"])("IonFooter"),k=Object(r["resolveComponent"])("IonPage");return Object(r["openBlock"])(),Object(r["createBlock"])(k,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{slot:"end"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{slot:"end",onClick:t[1]||(t[1]=function(t){return e.modal.hide()}),"icon-only":""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u,{icon:e.close},null,8,["icon"])]})),_:1})]})),_:1}),Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.title),1)]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(y,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{size:"12",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.form.username,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.username=t})},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(v,{size:"6",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{modelValue:e.form.password,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.password=t}),password:""},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(v,{size:"6",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{modelValue:e.form.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.confirmPassword=t}),form:e.form,password:""},null,8,["modelValue","form"])]})),_:1}),Object(r["createVNode"])(v,{size:"12",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{modelValue:e.form.roles,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.roles=t}),options:e.roles,multiple:""},null,8,["modelValue","options"])]})),_:1}),Object(r["createVNode"])(v,{size:"12",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{modelValue:e.form.givenName,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.givenName=t})},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(v,{size:"12",class:"ion-margin-vertical"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{modelValue:e.form.familyName,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.familyName=t})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(w,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{class:"ion-margin-end ion-margin-vertical ion-float-right",onClick:e.submit},{default:Object(r["withCtx"])((function(){return[f]})),_:1},8,["onClick"]),Object(r["createVNode"])(i,{class:"ion-margin-vertical ion-float-right",color:"light",onClick:t[8]||(t[8]=function(t){return e.modal.hide()})},{default:Object(r["withCtx"])((function(){return[m]})),_:1})]})),_:1})]})),_:1})}n("e9c4");var O=n("8a30"),j=n("0db2"),h=n("be95"),g=n("5e76"),y=n("2ef0"),w=n("1c74"),k=Object(r["defineComponent"])({name:"UserModal",components:{IonButton:O["IonButton"],IonPage:O["IonPage"],IonHeader:O["IonHeader"],IonContent:O["IonContent"],IonToolbar:O["IonToolbar"],IonButtons:O["IonButtons"],IonFooter:O["IonFooter"],IonTitle:O["IonTitle"],IonIcon:O["IonIcon"],TextInput:j["a"],SelectInput:h["a"]},props:{user:{type:Object,default:function(){return{}}}},setup:function(e){var t,n,o=Object(r["ref"])([]),u=Object(r["computed"])((function(){return Object(y["isEmpty"])(e.user)?"Add New User":"Edit User"})),l=Object(r["reactive"])({givenName:{value:s()(e.user,"person.names[0].given_name",""),label:"First Name",required:!0,validation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","".concat(t.value).length>2?null:["Name must be atleast 3 characters long"]);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},familyName:{validation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return","".concat(t.value).length>2?null:["Name must be atleast 3 characters long"]);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),value:s()(e.user,"person.names[0].family_name",""),label:"Last Name",required:!0},username:{value:s()(e.user,"username",""),label:"Username",required:!0,disabled:!Object(y["isEmpty"])(e.user),validation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("".concat(t.value).length<4)){e.next=2;break}return e.abrupt("return",["Username must be at least 4 characters long"]);case 2:return e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},password:{value:"",label:"Password",required:Object(y["isEmpty"])(e.user),validation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.value,!(n&&"".concat(n).length<6)){e.next=3;break}return e.abrupt("return",["Password must be at least 6 characters long"]);case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},confirmPassword:{value:"",label:"Confirm Password",required:Object(y["isEmpty"])(e.user),validation:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.value,!r||r===n.password.value){e.next=3;break}return e.abrupt("return",["Passwords not matching"]);case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},roles:{value:(null===(t=e.user)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.map((function(e){return{label:e.role,value:e.role,other:e}})))||[],label:"Roles",placeholder:"Select Roles",required:!0}}),f=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(g["a"])(l);case 2:if(t.sent){t.next=4;break}return t.abrupt("return");case 4:if(n=Object(g["c"])(l,!0),r=n.formData,o=Object(c["a"])(Object(c["a"])({},r),{},{roles:r.roles.map((function(e){return e.label}))}),t.prev=6,!Object(y["isEmpty"])(e.user)){t.next=13;break}return t.next=10,i["a"].createUser(o);case 10:o=t.sent,t.next=16;break;case 13:return t.next=15,i["a"].updateUser(e.user["user_id"],o);case 15:o=t.sent;case 16:b["a"].hide(o),t.next=24;break;case 19:if(t.prev=19,t.t0=t["catch"](6),!(t.t0 instanceof w["d"])){t.next=23;break}return t.abrupt("return",l.username.error="Username already exists");case 23:Object(d["e"])(JSON.stringify(t.t0),2e3);case 24:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(){return t.apply(this,arguments)}}();return Object(r["onMounted"])((function(){i["a"].getAllRoles().then((function(e){o.value=e.map((function(e){return{value:e.role,label:e.role,other:e}}))}))})),{form:l,close:p["close"],modal:b["a"],roles:o,title:u,submit:f}}}),x=n("d959"),C=n.n(x);const V=C()(k,[["render",v]]);var I=V,B=n("9283"),N=Object(r["defineComponent"])({name:"Users",components:{BaseReportTable:u["a"]},setup:function(){var e=Object(r["ref"])([]),t=[{path:"username",label:"Username",initialSort:!0,initialSortOrder:"asc"},{path:"given_name",label:"First name"},{path:"family_name",label:"Last name"},{path:"role",label:"Roles"},{path:"deactivated_on",label:"Deactivated On",formatter:B["c"].toStandardHisDisplayFormat}],n=function(e){return Object(c["a"])({given_name:s()(e,"person.names[0].given_name","Unknown"),family_name:s()(e,"person.names[0].family_name","Unknown"),role:e.roles.map((function(e){return e.role})).join(", ")},e)},o=[{icon:p["pencil"],action:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].show(I,{user:t});case 2:if(r=e.sent,!Object(y["isEmpty"])(r)){e.next=5;break}return e.abrupt("return");case 5:Object.assign(t,n(r));case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{color:"danger",icon:p["personRemove"],condition:function(e){return null===e.deactivated_on},action:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["a"])("Are you sure you want to deactivate this user?");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,i["a"].deactivateUser(t["user_id"]);case 7:n=e.sent,r=n.user,t["deactivated_on"]=r["deactivated_on"],Object(d["d"])("User deactivated"),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](4),Object(d["e"])("Deactivation Failed: ".concat(e.t0));case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{color:"warning",icon:p["personAdd"],condition:function(e){return null!==e.deactivated_on},action:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i["a"].activateUser(t["user_id"]);case 3:t["deactivated_on"]=null,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),Object(d["e"])("Activation Failed: ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}],u=[{label:"Add New User",action:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b["a"].show(I);case 2:if(r=t.sent,!Object(y["isEmpty"])(null===r||void 0===r?void 0:r.user)){t.next=5;break}return t.abrupt("return");case 5:e.value.push(n(r.user));case 6:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}()}];return Object(r["onMounted"])(Object(a["a"])(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].getAllUsers({paginate:!1});case 2:return r=t.sent,t.next=5,i["a"].getCurrentUser();case 5:o=t.sent,e.value=r.filter((function(e){return e["person_id"]!==o["person_id"]})).map((function(e){return n(e)}));case 7:case"end":return t.stop()}}),t)})))),{rows:e,columns:t,rowActionBtns:o,actionBtns:u}}});const R=C()(N,[["render",o]]);t["default"]=R},8727:function(e,t,n){"use strict";var r=n("7a23"),o={key:1},a={key:2},c={key:3},u={key:4};function i(e,t,n,i,l,s){var d=Object(r["resolveComponent"])("ion-col"),p=Object(r["resolveComponent"])("ion-row"),b=Object(r["resolveComponent"])("ion-grid"),f=Object(r["resolveComponent"])("ion-card-header"),m=Object(r["resolveComponent"])("data-table"),v=Object(r["resolveComponent"])("ion-card-content"),O=Object(r["resolveComponent"])("ion-card"),j=Object(r["resolveComponent"])("Layout");return Object(r["openBlock"])(),Object(r["createBlock"])(j,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{class:"his-card",style:{padding:"0 !important"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{style:{"border-bottom":"1px solid #c2c2c2","font-weight":"500",color:"#000"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{size:"1",class:"ion-padding ion-margin-end"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("img",{src:"assets/images/".concat(e.reportIcon),style:{height:e.subtitle?7:"5rem",width:e.subtitle?7:"5rem"}},null,12,["src"])]})),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("h1",{innerHTML:e.title},null,8,["innerHTML"]),e.subtitle?(Object(r["openBlock"])(),Object(r["createBlock"])("h3",{key:0,innerHTML:e.subtitle,style:{color:"#818181"}},null,8,["innerHTML"])):Object(r["createCommentVNode"])("",!0),e.useDateRangeFilter?(Object(r["openBlock"])(),Object(r["createBlock"])("h5",o," Period: "+Object(r["toDisplayString"])(e.period),1)):e.useQuarterFilter?(Object(r["openBlock"])(),Object(r["createBlock"])("h5",a," Quarter: "+Object(r["toDisplayString"])(e.quarter.value),1)):e.useDateFilter?(Object(r["openBlock"])(),Object(r["createBlock"])("h5",c,"Date: "+Object(r["toDisplayString"])(e.dayjs(e.date).format("DD/MMM/YYYY")),1)):Object(r["createCommentVNode"])("",!0),e.totalClients?(Object(r["openBlock"])(),Object(r["createBlock"])("h5",u,"Total Clients: "+Object(r["toDisplayString"])(e.totalClients),1)):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(v,{class:"ion-no-padding",style:{"min-height":"45vh"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{rows:e.rows,"async-rows":e.asyncRows,columns:e.columns,"actions-buttons":e.actionBtns,"row-actions-buttons":e.rowActionButtons,"custom-filters":e.filters,onCustomFilter:e.onCustomFilter,onDrilldown:e.onDrilldown,color:"custom"},null,8,["rows","async-rows","columns","actions-buttons","row-actions-buttons","custom-filters","onCustomFilter","onDrilldown"])]})),_:1})]})),_:1})]})),_:1})}var l=n("53ca"),s=n("1da1"),d=n("2909"),p=(n("96cf"),n("a9e3"),n("99af"),n("ac1f"),n("1276"),n("d81d"),n("b0c0"),n("d3b7"),n("07ac"),n("8a30")),b=n("ad8d"),f=n("5a0c"),m=n.n(f),v=n("8d56"),O=n("5969"),j=n("4971"),h=n("b5e4"),g=n("2ef0"),y=(n("498a"),n("5319"),n("a15b"),n("4de4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("1c74"));function w(e){try{return e.replace(/<(?:.|\n)*?>/gm," ").replace(/\n/g," ").replace(/\t/g," ").replace(/\s{2,}/g," ").replace(/=/g," ").replace(/,/g," ").trim()}catch(t){return e}}function k(e){var t=e.columns,n=e.rows,r=e.quarter,o=e.period,a=t.filter((function(e){return!1!==e.exportable})).map((function(e){return e.label})).join(",");return a+="\n",a+=n.map((function(e){return t.filter((function(e){return!1!==e.exportable})).map((function(t){var n=Object(g["get"])(e,t.path);return"function"===typeof t.formatter&&n&&(n=t.formatter(n)),w(t.drillable&&Array.isArray(n)?n.length:n)})).join(",")})).join("\n"),a+="\n"+"Date Created:  ".concat(new Date),r&&(a+="\n"+"Quarter: ".concat(r)),o&&(a+="\n"+"Quarter: ".concat(o)),a+="\n"+"e-Mastercard Version : ".concat(y["e"].getAppVersion()),a+="\n"+"API Version ".concat(y["e"].getApiVersion()),a+="\n"+"Site UUID: ".concat(y["e"].getSiteUUID()),a}function x(e){var t=new Blob([k(e)],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=window.URL.createObjectURL(t),n.setAttribute("download","".concat(e.filename,".csv")),document.body.appendChild(n),n.click(),document.body.removeChild(n)}var C=Object(r["defineComponent"])({name:"BaseReportTable",components:{IonCard:p["IonCard"],IonCardHeader:p["IonCardHeader"],IonCardContent:p["IonCardContent"],Layout:v["a"],IonGrid:p["IonGrid"],IonRow:p["IonRow"],IonCol:p["IonCol"],DataTable:j["DataTable"]},props:{title:{type:String,default:"Report"},subtitle:{type:String,default:""},period:{type:String,default:""},date:{type:String,default:""},quarter:{type:Object,default:function(){return{}}},totalClients:{type:Number,default:0},reportIcon:{type:String,default:"reports/report.png"},columns:{type:Array,default:function(){return[]}},rows:{type:Array,default:function(){return[]}},asyncRows:{type:Function},actionButtons:{type:Array,default:function(){return[]}},rowActionButtons:{type:Array,default:function(){return[]}},canExportCsv:{type:Boolean,default:!0},canExportPDF:{type:Boolean,default:!0},showRefreshButton:{type:Boolean,default:!0},useDateRangeFilter:{type:Boolean,default:!1},useQuarterFilter:{type:Boolean,default:!1},useDateFilter:{type:Boolean,default:!1},customFilters:{type:Array,default:function(){return[]}}},emits:["regenerate","customFilter","drilldown"],setup:function(e,t){var n=t.emit,o=Object(r["computed"])((function(){return"".concat(b["b"].getLocationName()," ").concat(e.title," ").concat(e.period?e.period:e.date)})),a=Object(r["computed"])((function(){var t=Object(d["a"])(e.actionButtons);return e.showRefreshButton&&t.push({label:"Refresh/Rebuild",color:"success",action:function(){return n("regenerate")}}),e.canExportCsv&&t.push({label:"CSV",color:"primary",action:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n,r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x({rows:r,columns:e.columns,quarter:null===(a=e.quarter)||void 0===a?void 0:a.label,period:e.period,filename:o.value}));case 1:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()}),t})),c=Object(r["computed"])((function(){var t=Object(d["a"])(e.customFilters);return e.useDateRangeFilter?t.push({id:"dateRange",label:"Date Range",type:"dateRange",gridSize:5,value:{startDate:e.period.split("-")[0],endDate:e.period.split("-")[1]}}):e.useQuarterFilter?t.push({id:"quarter",label:"Quarter:",type:"select",value:e.quarter,options:O["a"].getReportQuarters().map((function(e){return{label:e.name,value:e.name,other:e}}))}):e.useDateFilter&&t.push({id:"date",label:"Date",type:"date",value:e.date}),t})),u=function(e){return"dateRange"in e&&m()(e.dateRange.startDate).isAfter(e.dateRange.endDate)?Object(h["e"])("Invalid date range"):c.value.every((function(t){return!1===t.required||(Object(g["isEmpty"])(e[t.id])||"object"!==Object(l["a"])(e[t.id])?!Object(g["isEmpty"])(e[t.id]):Object.values(e[t.id]).every((function(e){return!Object(g["isEmpty"])(e)})))}))?n("customFilter",e):void Object(h["e"])("Invalid filters")},i=function(e){n("drilldown",e)};return{actionBtns:a,filters:c,onCustomFilter:u,onDrilldown:i,dayjs:m.a}}}),V=n("d959"),I=n.n(V);const B=I()(C,[["render",i]]);t["a"]=B},ad8d:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l}));var r=n("d4ec"),o=n("bee2"),a=n("262e"),c=n("2caf"),u=n("5969"),i=["<1 year","1-4 years","5-9 years","10-14 years","15-19 years","20-24 years","25-29 years","30-34 years","35-39 years","40-44 years","45-49 years","50-54 years","55-59 years","60-64 years","65-69 years","70-74 years","75-79 years","80-84 years","85-89 years","90 plus years"],l=function(e){Object(a["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(o["a"])(n,[{key:"getBookedAppointments",value:function(e){return u["a"].getJson("programs/".concat(this.programID,"/scheduled_appointments"),{date:e})}},{key:"getViralLoadResults",value:function(e){return this.getReport("/programs/".concat(this.programID,"/reports/high_vl_patients"),{range:e})}},{key:"getOtherOutcome",value:function(e){return this.getReport("patient_outcome_list",{outcome:e})}},{key:"getPatientVisitTypes",value:function(){return this.getReport("patient_visit_types")}},{key:"getClientsDueForVl",value:function(){return this.getReport("clients_due_vl")}},{key:"getClientRentention",value:function(){return this.getReport("/programs/".concat(this.programID,"/reports/retention"))}},{key:"getExternalConsultationClients",value:function(){return this.getReport("".concat(this.programID,"/external_consultation_clients"))}},{key:"getMissedAppointments",value:function(){return this.getReport("missed_appointments")}},{key:"getPregnantWomen",value:function(){return this.getReport("/programs/".concat(this.programID,"/reports/pregnant_patients"))}},{key:"getArchivingCandidates",value:function(){return u["a"].getJson("programs/".concat(this.programID,"/reports/archiving_candidates"),{start_date:this.date})}},{key:"getIncompleteVisits",value:function(){return this.getReport("incomplete_visits",{tool_name:"INCOMPLETE VISITS"})}}]),n}(u["a"])},be95:function(e,t,n){"use strict";n("4de4"),n("d3b7");var r=n("7a23"),o=Object(r["withScopeId"])("data-v-66a24b01");Object(r["pushScopeId"])("data-v-66a24b01");var a={key:0,class:"ion-float-right ion-margin-end checkbox-label"},c={class:"inner-input-box"},u={key:0,class:"input-options"},i={class:"input-icon"};Object(r["popScopeId"])();var l=o((function(e,t,n,l,s,d){var p=Object(r["resolveComponent"])("ion-checkbox"),b=Object(r["resolveComponent"])("ion-label"),f=Object(r["resolveComponent"])("ion-input"),m=Object(r["resolveComponent"])("ion-icon"),v=Object(r["resolveComponent"])("ion-chip"),O=Object(r["resolveComponent"])("ion-item"),j=Object(r["resolveComponent"])("ion-list"),h=Object(r["resolveComponent"])("ion-note");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[e.model.label?(Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:0,class:"ion-padding-bottom bold"},{default:o((function(){return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.model.label),1),e.allowCustom?(Object(r["openBlock"])(),Object(r["createBlock"])("span",a,[Object(r["createTextVNode"])(" Add Custom "+Object(r["toDisplayString"])(e.model.label)+"? ",1),Object(r["createVNode"])(p,{modelValue:e.isCustom,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.isCustom=t}),onIonChange:t[2]||(t[2]=function(t){return e.model.value=""})},null,8,["modelValue"])])):Object(r["createCommentVNode"])("",!0)]})),_:1})):Object(r["createCommentVNode"])("",!0),e.isCustom?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:1,class:["box-input",{"box-input-error":e.model.error,"ion-margin-top":e.model.label}],modelValue:e.customOption,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.customOption=t}),placeholder:e.model.placeholder||e.model.label,disabled:e.model.disabled,onIonFocus:t[4]||(t[4]=function(){return e.model.error=""}),onIonBlur:e.validate,onIonInput:e.onCustomValue},null,8,["class","modelValue","placeholder","disabled","onIonBlur","onIonInput"])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:2,class:["outer-input-box box-input",{"box-input-error":e.model.error,"ion-margin-top":e.model.label}]},[Object(r["createVNode"])("div",c,[Object(r["createVNode"])("div",{style:{display:"flex","flex-wrap":"wrap",width:"100%"},onClick:t[6]||(t[6]=function(){return e.onShowOptions.apply(e,arguments)})},[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.tags,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(v,{key:n},{default:o((function(){return[Object(r["createVNode"])(b,null,{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024),Object(r["createVNode"])(m,{icon:e.closeCircle,color:"danger",onClick:function(n){return e.diselect(t)},style:{"z-index":"20"}},null,8,["icon","onClick"])]})),_:2},1024)})),128)),Object(r["createVNode"])(f,{disabled:e.model.disabled,placeholder:e.showPlaceholder?e.model.placeholder||"select option":"",modelValue:e.filter,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.filter=t}),class:"search-input",ref:"searchInput"},null,8,["disabled","placeholder","modelValue"])]),e.showOptions?(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,[Object(r["createVNode"])(j,null,{default:o((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.filteredOptions,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:n,lines:n+1===e.filteredOptions.length?"none":"",onClick:function(n){return e.onSelect(t)}},{default:o((function(){return[e.multiple?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:0,class:"input-option-checkbox",slot:"start",modelValue:t.isChecked,"onUpdate:modelValue":function(e){return t.isChecked=e}},null,8,["modelValue","onUpdate:modelValue"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(b,null,{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["lines","onClick"])})),128))]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",i,[e.filter||e.tags.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,icon:e.close,onClick:e.onReset},null,8,["icon","onClick"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(m,{icon:e.showOptions?e.chevronUp:e.chevronDown,onClick:t[7]||(t[7]=function(t){return e.showOptions?e.onCloseOptions():e.onShowOptions()})},null,8,["icon"])])])],2)),e.model.error?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:3,color:"danger"},{default:o((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.model.error),1)]})),_:1})):Object(r["createCommentVNode"])("",!0)],64)})),s=n("2909"),d=n("1da1"),p=n("5530"),b=(n("96cf"),n("159b"),n("c740"),n("7db0"),n("caad"),n("2532"),n("99af"),n("25f0"),n("8a30")),f=n("ff79"),m=n("2ef0"),v=Object(r["defineComponent"])({name:"SelectInput",props:{modelValue:{type:Object,default:function(){return{}}},form:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},asyncOptions:{type:Function,required:!1},allowCustom:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},infiniteScrolling:{type:Boolean,default:!1}},components:{IonLabel:b["IonLabel"],IonInput:b["IonInput"],IonNote:b["IonNote"],IonIcon:b["IonIcon"],IonCheckbox:b["IonCheckbox"],IonList:b["IonList"],IonChip:b["IonChip"],IonItem:b["IonItem"]},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,o=Object(r["ref"])(!1),a=Object(r["ref"])(""),c=Object(r["ref"])(),u=Object(r["ref"])(!1),i=Object(r["ref"])(""),l=Object(r["ref"])([]),b=Object(r["ref"])(1),v=Object(r["computed"])((function(){return e.multiple?l.value.filter((function(e){var t=e.isChecked;return t})):c.value?[c.value]:[]})),O=Object(r["computed"])((function(){return!i.value&&Object(m["isEmpty"])(v.value)&&!u.value})),j=Object(r["computed"])({get:function(){return e.modelValue},set:function(e){return n("update:modelValue",e)}}),h=function(){if(c.value=void 0,!Object(m["isEmpty"])(j.value.value)){if(Array.isArray(j.value.value)&&e.multiple)return console.log(j.value.value),j.value.value.forEach((function(e){var t=l.value.findIndex((function(t){var n=t.value;return n===e.value}));-1===t?l.value.push(Object(p["a"])(Object(p["a"])({},e),{},{isChecked:!0})):l.value[t].isChecked=!0}));var t=l.value.find((function(e){return e.value===j.value.value}));c.value=t||{label:j.value.value,value:j.value.value}}},g=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof e.asyncOptions){t.next=6;break}return t.next=3,e.asyncOptions(i.value,b.value);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e.options.filter((function(e){var t=e.label;return t.toLowerCase().includes(i.value.toLowerCase())}));case 7:n=t.t0,v.value.forEach((function(e){var t=n.findIndex((function(t){return t.value===e.value}));-1===t?n.push(e):n[t].isChecked=!0})),l.value=n;case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.infiniteScrolling||"function"!==typeof e.asyncOptions){t.next=6;break}return b.value++,t.next=4,e.asyncOptions(i.value,b.value);case 4:r=t.sent,r.length>0?l.value=[].concat(Object(s["a"])(l.value),Object(s["a"])(r.filter((function(e){return!l.value.find((function(t){return t.value===e.value}))})))):n.target.disabled=!0;case 6:n.target.complete();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!j.value.required||!Object(m["isEmpty"])(j.value.value)){t.next=2;break}return t.abrupt("return",j.value.error="This field is required");case 2:if(!j.value.validation){t.next=8;break}return t.next=5,j.value.validation({label:j.value.value,value:j.value.value},e.form);case 5:if(n=t.sent,!n||!n.length){t.next=8;break}return t.abrupt("return",j.value.error+=n.toString());case 8:return t.abrupt("return",j.value.error="");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){u.value=!1,j.value.value=e.multiple?v.value:Object(m["isEmpty"])(v.value)?void 0:v.value[0],i.value="",w()},x=function(){j.value.disabled||(u.value=!0,j.value.error="")},C=function(){j.value.value={label:a.value,value:a.value}},V=function(t){e.multiple||(c.value=t,k()),j.value.value=e.multiple?v.value:Object(m["isEmpty"])(v.value)?void 0:v.value[0],i.value=""},I=function(t){return e.multiple?t.isChecked=!1:c.value=void 0},B=function(){i.value="",c.value=void 0,l.value.forEach((function(e){return e.isChecked=!1}))};return Object(r["watch"])(i,Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b.value++,e.next=3,g();case 3:case"end":return e.stop()}}),e)})))),Object(r["watch"])([function(){return e.options},function(){return e.asyncOptions}],Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",g());case 1:case"end":return e.stop()}}),e)})))),Object(r["watch"])((function(){return e.modelValue.value}),(function(e){return Object(m["isEmpty"])(e)&&h()})),Object(r["onMounted"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:h(),addEventListener("click",(function(e){var t=e.target.closest(".inner-input-box");!t&&u.value&&k()}));case 4:case"end":return e.stop()}}),e)})))),Object(r["onBeforeUnmount"])((function(){return removeEventListener("click",(function(e){return console.log(e)}))})),{validate:w,onSelect:V,onReset:B,onShowOptions:x,onCloseOptions:k,diselect:I,pushMoreOptions:y,onCustomValue:C,model:j,customOption:a,isCustom:o,chevronDown:f["chevronDown"],chevronUp:f["chevronUp"],close:f["close"],closeCircle:f["closeCircle"],selectedOption:c,showOptions:u,showPlaceholder:O,filteredOptions:l,filter:i,tags:v}}}),O=(n("44d7"),n("d959")),j=n.n(O);const h=j()(v,[["render",l],["__scopeId","data-v-66a24b01"]]);t["a"]=h},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,a=n("44d2"),c=n("ae40"),u="findIndex",i=!0,l=c(u);u in[]&&Array(1)[u]((function(){i=!1})),r({target:"Array",proto:!0,forced:i||!l},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(u)},da44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("1da1"),o=(n("96cf"),n("8a30")),a={show:function(e,t){var n=arguments;return Object(r["a"])(regeneratorRuntime.mark((function r(){var a,c,u,i,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=n.length>2&&void 0!==n[2]?n[2]:"custom-modal",c=!(n.length>3&&void 0!==n[3])||n[3],r.next=4,o["modalController"].create({component:e,cssClass:a,backdropDismiss:c,componentProps:t});case 4:return u=r.sent,u.present(),r.next=8,u.onWillDismiss();case 8:if(i=r.sent,l=i.data,!l){r.next=12;break}return r.abrupt("return",l);case 12:case"end":return r.stop()}}),r)})))()},hide:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["modalController"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()}}}}]);
//# sourceMappingURL=chunk-2f61767b.2ea67af4.js.map