{"version":3,"sources":["webpack:///./src/apps/EMC/views/Dashboard.vue?3ad5","webpack:///./src/apps/EMC/Components/DashboardCard.vue?7a01","webpack:///./src/apps/EMC/Components/DashboardCard.vue","webpack:///./src/apps/EMC/Components/DashboardCard.vue?fd80","webpack:///./src/apps/EMC/views/Dashboard.vue","webpack:///./src/apps/EMC/views/Dashboard.vue?895b","webpack:///./src/apps/EMC/Components/DashboardCard.vue?b717","webpack:///./src/apps/EMC/Components/charts/LineChart.vue?d549","webpack:///./src/apps/EMC/Components/charts/LineChart.vue","webpack:///./src/apps/EMC/Components/charts/LineChart.vue?eb27"],"names":["_hoisted_1","class","_hoisted_2","_createTextVNode","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_button","_resolveComponent","_component_dashboard_card","_component_ion_col","_component_ion_row","_component_line_chart","_component_ion_grid","_component_layout","_openBlock","_createBlock","default","_withCtx","_createVNode","onClick","loadData","_","value","missedAppointments","label","color","icon","calendar","appointmentsDue","alarm","dueForVL","time","defaulters","people","patientsOnDTG","txCurrent30","txCurrent60","options","chartOptions","series","chartSeries","_withId","_withScopeId","_component_ion_card_title","_component_ion_spinner","_component_ion_card_subtitle","_component_ion_icon","_component_ion_card_content","_component_ion_card","_toDisplayString","isLoading","key","name","loaderColor","canShowIcon","_createCommentVNode","defineComponent","props","type","Number","String","required","components","IonCard","IonCardContent","IonCardTitle","IonCardSubtitle","IonSpinner","IonIcon","setup","computed","length","__exports__","inheritAttrs","Layout","IonGrid","IonRow","IonCol","DashboardCard","LineChart","IonButton","today","HisDate","toStandardHisFormat","Date","quarter","getDateQuarter","tomorrow","add","format","STANDARD_DATE_FORMAT","ref","buildChartData","data","isEmpty","dates","Object","keys","complete","incomplete","categories","forEach","day","push","toStandardHisDisplayFormat","title","text","align","xaxis","tickAmount","labels","show","rotate","reload","Store","get","EmcStore","PATIENT_ON_DTG","PATIENT_VISITS","APPOINTMENTS_DUE","date","MISSED_APPOINTMENTS","TX_CURRENT_30","TX_CURRENT_60","DUE_FOR_VL","DEFAULTERS","end","onMounted","_component_apex_chart","style","width","height","e","c","config","$emit","Array","placeholder","ApexChart","emits","defaults","chart","id","tooltip","x","noData","verticalAlign","offsetX","offsetY","fontSize","fontFamily"],"mappings":"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","file":"js/chunk-fc65ab3e.06f3e571.js","sourcesContent":["import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \" his-lg-text ion-padding-start\" }\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Dashboard \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Refresh \")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_dashboard_card = _resolveComponent(\"dashboard-card\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_line_chart = _resolveComponent(\"line-chart\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_layout = _resolveComponent(\"layout\")\n\n  return (_openBlock(), _createBlock(_component_layout, null, {\n    default: _withCtx(() => [\n      _createVNode(\"h1\", _hoisted_1, [\n        _hoisted_2,\n        _createVNode(_component_ion_button, {\n          class: \"ion-margin-end ion-float-right\",\n          onClick: _cache[1] || (_cache[1] = () => _ctx.loadData(true))\n        }, {\n          default: _withCtx(() => [\n            _hoisted_3\n          ]),\n          _: 1\n        })\n      ]),\n      _createVNode(_component_ion_grid, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.missedAppointments,\n                    label: \"Missed Appointments\",\n                    color: \"primary\",\n                    icon: _ctx.calendar\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.appointmentsDue,\n                    label: \"Appointments Due\",\n                    color: \"success\",\n                    icon: _ctx.alarm\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.dueForVL,\n                    label: \"Due for Viral Load\",\n                    color: \"secondary\",\n                    icon: _ctx.time\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    value: _ctx.defaulters,\n                    label: \"Defaulters (this Quarter)\",\n                    color: \"danger\",\n                    icon: _ctx.people\n                  }, null, 8, [\"value\", \"icon\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_ion_row, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_col, { \"size-lg\": \"3\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_dashboard_card, {\n                    label: \"Patients on DTG\",\n                    value: _ctx.patientsOnDTG,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"]),\n                  _createVNode(_component_dashboard_card, {\n                    label: \"TX Current (30 Days)\",\n                    value: _ctx.txCurrent30,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"]),\n                  _createVNode(_component_dashboard_card, {\n                    label: \"TX Current (60 Days)\",\n                    value: _ctx.txCurrent60,\n                    class: \"his-card\"\n                  }, null, 8, [\"value\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_col, { \"size-lg\": \"9\" }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_line_chart, {\n                    options: _ctx.chartOptions,\n                    series: _ctx.chartSeries\n                  }, null, 8, [\"options\", \"series\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-4e012de6\")\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_card_title = _resolveComponent(\"ion-card-title\")\n  const _component_ion_spinner = _resolveComponent(\"ion-spinner\")\n  const _component_ion_card_subtitle = _resolveComponent(\"ion-card-subtitle\")\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\")\n  const _component_ion_card = _resolveComponent(\"ion-card\")\n\n  return (_openBlock(), _createBlock(_component_ion_card, { color: _ctx.color }, {\n    default: _withId(() => [\n      _createVNode(_component_ion_card_content, { class: \"ion-padding\" }, {\n        default: _withId(() => [\n          _createVNode(_component_ion_card_title, { class: \"ion-padding\" }, {\n            default: _withId(() => [\n              _createTextVNode(_toDisplayString(_ctx.label), 1 /* TEXT */)\n            ]),\n            _: 1\n          }),\n          (_ctx.isLoading)\n            ? (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 0,\n                class: \"ion-padding\"\n              }, {\n                default: _withId(() => [\n                  _createVNode(_component_ion_spinner, {\n                    name: \"bubbles\",\n                    color: _ctx.loaderColor\n                  }, null, 8, [\"color\"])\n                ]),\n                _: 1\n              }))\n            : (_openBlock(), _createBlock(_component_ion_card_subtitle, {\n                key: 1,\n                class: \"ion-padding\"\n              }, {\n                default: _withId(() => [\n                  _createTextVNode(_toDisplayString(_ctx.value), 1 /* TEXT */)\n                ]),\n                _: 1\n              })),\n          (_ctx.canShowIcon)\n            ? (_openBlock(), _createBlock(_component_ion_icon, {\n                key: 2,\n                icon: _ctx.icon,\n                class: \"ion-float-right\"\n              }, null, 8, [\"icon\"]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"color\"]))\n})","\nimport { IonCard, IonCardTitle, IonCardSubtitle, IonSpinner, IonCardContent, IonIcon } from \"@ionic/vue\";\nimport { computed, defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"DashboardCard\",\n  props: {\n    value: {\n      type: Number,\n      default: -1,\n    },\n    label: {\n      type: String,\n      required: true,\n    },\n    icon: {\n      type: String,\n    },\n    color: {\n      type: String,\n      default: 'light'\n    }\n  },\n  components: {\n    IonCard,\n    IonCardContent,\n    IonCardTitle,\n    IonCardSubtitle,\n    IonSpinner,\n    IonIcon,\n  },\n  setup(props) {\n    const isLoading = computed(() => props.value === -1);\n    const canShowIcon = computed(() => !!props.icon?.length)\n    const loaderColor = computed(() => props.color === 'light' ? 'primary' : 'light')\n    return {\n      isLoading,\n      canShowIcon,\n      loaderColor\n    };\n  },\n});\n","import { render } from \"./DashboardCard.vue?vue&type=template&id=4e012de6&scoped=true&ts=true\"\nimport script from \"./DashboardCard.vue?vue&type=script&lang=ts\"\nexport * from \"./DashboardCard.vue?vue&type=script&lang=ts\"\n\nimport \"./DashboardCard.vue?vue&type=style&index=0&id=4e012de6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e012de6\"]])\n\nexport default __exports__","\nimport { defineComponent, onMounted, ref } from \"vue\";\nimport Layout from \"@/apps/EMC/Components/Layout.vue\";\nimport { IonGrid, IonRow, IonCol, IonButton } from \"@ionic/vue\";\nimport DashboardCard from \"../Components/DashboardCard.vue\";\nimport { people, calendar, alarm, time } from \"ionicons/icons\";\nimport HisDate, { STANDARD_DATE_FORMAT } from \"@/utils/Date\";\nimport Store from \"@/composables/ApiStore\";\nimport { EmcStore } from \"../Config/emcStore\";\nimport LineChart from \"../Components/charts/LineChart.vue\";\nimport { isEmpty } from \"lodash\";\n\nexport default defineComponent({\n  name: \"Dashboard\",\n  inheritAttrs: false,\n  components: {\n    Layout,\n    IonGrid,\n    IonRow,\n    IonCol,\n    DashboardCard,\n    LineChart,\n    IonButton,\n  },\n  setup() {\n    const today = HisDate.toStandardHisFormat(new Date());\n    const quarter = HisDate.getDateQuarter(today);\n    const tomorrow = HisDate.add(today, \"day\", 1).format(STANDARD_DATE_FORMAT);\n    const missedAppointments = ref<number>()\n    const appointmentsDue = ref<number>()\n    const dueForVL = ref<number>()\n    const defaulters = ref<number>()\n    const patientsOnDTG = ref<number>()\n    const txCurrent30 = ref<number>()\n    const txCurrent60 = ref<number>()\n    const chartSeries = ref<any[]>([]);\n    const chartOptions = ref<Record<string, any>>({})\n\n    const buildChartData = (data: Record<string, any>) => {\n      if(isEmpty(data)) return\n      const dates = Object.keys(data)\n      const complete: number[] = []\n      const incomplete: number[] = []\n      const categories: string[] = []\n      dates.forEach(day => {\n        categories.push(HisDate.toStandardHisDisplayFormat(day))\n        complete.push(data[day].complete)\n        incomplete.push(data[day].incomplete)\n      })\n      chartOptions.value = {\n        title: {\n          text: \"Complete / incomplete visits\",\n          align: \"left\",\n        },\n        xaxis: {\n          categories,\n          tickAmount: 30,\n          labels: {\n            show: true,\n            rotate: -75,\n          }\n        },\n      }\n      chartSeries.value = [\n        {\n          name: \"Complete Visits\",\n          data: complete,\n        },\n        {\n          name: \"Incomplete Visits\",\n          data: incomplete,\n        },\n      ]\n    }\n\n    const loadData = async (reload = false) => {\n      patientsOnDTG.value = (await Store.get(EmcStore.PATIENT_ON_DTG, { quarter, reload })).length\n      buildChartData(await Store.get(EmcStore.PATIENT_VISITS, { quarter, reload }))\n      appointmentsDue.value = (await Store.get(EmcStore.APPOINTMENTS_DUE, { date: tomorrow, reload })).length\n      missedAppointments.value = (await Store.get(EmcStore.MISSED_APPOINTMENTS, { date: today, quarter, reload })).length\n      txCurrent30.value = (await Store.get(EmcStore.TX_CURRENT_30, { quarter, reload })).length\n      txCurrent60.value = (await Store.get(EmcStore.TX_CURRENT_60, { quarter, reload })).length\n      dueForVL.value = (await Store.get(EmcStore.DUE_FOR_VL, { quarter, reload })).length\n      defaulters.value = (await Store.get(EmcStore.DEFAULTERS, {date: today, quarter: {...quarter, end: today}, reload })).length\n    }\n\n    onMounted(async () => loadData())\n\n    return {\n      people,\n      calendar,\n      alarm,\n      time,\n      missedAppointments,\n      appointmentsDue,\n      dueForVL,\n      defaulters,\n      patientsOnDTG,\n      txCurrent30,\n      txCurrent60,\n      chartOptions,\n      chartSeries,\n      loadData,\n    };\n  },\n});\n","import { render } from \"./Dashboard.vue?vue&type=template&id=7204d206&ts=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=ts\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./DashboardCard.vue?vue&type=style&index=0&id=4e012de6&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_apex_chart = _resolveComponent(\"apex-chart\")\n  const _component_ion_card_content = _resolveComponent(\"ion-card-content\")\n  const _component_ion_card = _resolveComponent(\"ion-card\")\n\n  return (_openBlock(), _createBlock(_component_ion_card, {\n    class: \"his-card\",\n    style: {\"height\":\"100%\"}\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_card_content, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_apex_chart, {\n            width: \"100%\",\n            height: _ctx.height,\n            type: \"line\",\n            options: _ctx.chartOptions,\n            series: _ctx.series,\n            onClick: _cache[1] || (_cache[1] = (e, c, config) => _ctx.$emit('pointSelection', config))\n          }, null, 8, [\"height\", \"options\", \"series\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","\nimport { computed, defineComponent, PropType } from \"vue\";\nimport { IonCard, IonCardContent } from \"@ionic/vue\";\nimport ApexChart from \"vue3-apexcharts\"\n\nexport default defineComponent({\n  name: \"LineChart\",\n  props: {\n    series: {\n      type: Array as PropType<any[]>,\n      default: () => []\n    },\n    options: {\n      type: Object as PropType<Record<string, any>>,\n      default: () => []\n    },\n    height: {\n      type: [String, Number],\n      default: 560\n    },\n    placeholder: {\n      type: String,\n      default: \"Loading data...\"\n    }\n  },\n  components: { IonCard, IonCardContent, ApexChart },\n  emits: [\"pointSelection\"],\n  setup(props) {\n    const chartOptions = computed(() => {\n      const defaults: Record<string, any> = {\n        chart: {\n          id: \"line-chart\",\n          type: 'line',\n        },\n        xaxis: {\n          type: 'datetime',\n          tickAmount: 2,\n          labels: {\n            show: true,\n            rotate: -75,\n          }\n        },\n        tooltip: {\n          x: {\n            format: 'dd/MMM/yyyy'\n          }\n        },\n        title: {\n          text: 'Line Chart',\n          align: 'left'\n        },\n        noData: {\n          text: props.placeholder,\n          align: \"center\",\n          verticalAlign: \"middle\",\n          offsetX: 0,\n          offsetY: 0,\n          style: {\n            color: \"#a7a7a7\",\n            fontSize: \"25px\",\n            fontFamily: \"Helvetica\",\n          },\n        },\n      }\n\n      for (const key in props.options) {\n        defaults[key] = { ...defaults[key], ...props.options[key] };\n      }\n      \n      return defaults;\n    });\n\n    return {\n      chartOptions,\n    };\n  },\n});\n","import { render } from \"./LineChart.vue?vue&type=template&id=fc74bae8&ts=true\"\nimport script from \"./LineChart.vue?vue&type=script&lang=ts\"\nexport * from \"./LineChart.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}