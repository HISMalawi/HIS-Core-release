(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd6ae"],{"80ff":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function i(e,t,n,i,a,o){var c=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}var a=n("5530"),o=n("1da1"),c=(n("96cf"),n("9441")),u=n("7365"),s=n("2706"),l=n("d95e"),d=n("e86e"),f=n("bee2"),v=n("d4ec"),b=n("262e"),p=n("2caf"),m=n("cc6f"),h=function(e){Object(b["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){return Object(v["a"])(this,n),t.call(this,e,114,r)}return Object(f["a"])(n)}(m["a"]),O=function(e){Object(b["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){return Object(v["a"])(this,n),t.call(this,e,42,r)}return Object(f["a"])(n)}(m["a"]),S=Object(r["defineComponent"])({components:{HisStandardForm:c["a"]},mixins:[u["a"]],data:function(){return{referralService:{},admissionService:{}}},watch:{ready:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e&&(t.referralService=new h(t.patientID,t.providerID),t.admissionService=new O(t.patientID,t.providerID),t.fields=t.getFields());case 1:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{onSubmit:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("Admission"!==e.opd_outcome.value){r.next=10;break}return r.next=3,n.admissionService.createEncounter();case 3:return r.next=5,n.resolveObs(Object(a["a"])({},t),"admission");case 5:return i=r.sent,r.next=8,n.admissionService.saveObservationList(i);case 8:r.next=17;break;case 10:return r.next=12,n.referralService.createEncounter();case 12:return r.next=14,n.resolveObs(Object(a["a"])({},t),"referral");case 14:return o=r.sent,r.next=17,n.referralService.saveObservationList(o);case 17:n.nextTask();case 18:case"end":return r.stop()}}),r)})))()},getFields:function(){var e=this;return[{id:"opd_outcome",helpText:"Select outcome",type:l["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},options:function(){return[{label:"Admit",value:"Admission"},{label:"Internal referral",value:"Internal referral"},{label:"Refer to another hospital/clinic",value:"External referral"}]}},{id:"facility_name",helpText:"Select Facility name",type:l["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"referral",obs:e.referralService.buildValueText("Referred",n)}},condition:function(e){return"External referral"===e.opd_outcome.value},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(d["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}},{id:"specialist_clinic",helpText:"Select clinic",type:l["b"].TT_SELECT,validation:function(e){return s["a"].required(e)},computedValue:function(t){var n=t.other;return{tag:"referral",obs:e.referralService.buildValueCodedFromConceptId("Specialist clinic",n.concept_id)}},condition:function(e){return"Internal referral"===e.opd_outcome.value},options:function(){return Object(d["e"])()},config:{showKeyboard:!0}},{id:"wards",helpText:"Select ward",type:l["b"].TT_SELECT,condition:function(e){return"Admission"===e.opd_outcome.value},validation:function(e){return s["a"].required(e)},computedValue:function(t){var n=t.value;return{tag:"admission",obs:e.admissionService.buildValueText("Admit to ward",n)}},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(d["c"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}]}}}),w=n("d959"),x=n.n(w);const j=x()(S,[["render",i]]);t["default"]=j}}]);
//# sourceMappingURL=chunk-2d0dd6ae.0ec5ef54.js.map