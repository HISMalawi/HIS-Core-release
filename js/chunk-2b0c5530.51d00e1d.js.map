{"version":3,"sources":["webpack:///./src/utils/ReportDateSelectionPrompt.ts","webpack:///./src/components/DataViews/tables/v2PocDatatable/TableView.vue?8c9c","webpack:///./src/components/DataViews/tables/v2PocDatatable/TableView.vue","webpack:///./src/components/DataViews/tables/v2PocDatatable/TableView.vue?0ff4","webpack:///./src/components/DataViews/tables/v2PocDatatable/TableView.vue?32bd","webpack:///./src/apps/ART/services/reports/viral_load_report.ts","webpack:///./src/apps/ART/views/reports/clinic/ClinicVlCollection.vue?12a2","webpack:///./src/apps/ART/views/reports/clinic/ClinicVlCollection.vue","webpack:///./src/apps/ART/views/reports/clinic/ClinicVlCollection.vue?438c"],"names":["DatePeriodInputType","HtsReportPreference","ReportPreferences","reactive","datePeriodInputType","localStorage","getItem","PERIOD_INPUT_TYPE","MULTI_FIELD_DATE","DateSelection","params","MultiStepPopupForm","generateDateFields","id","helpText","required","minDate","maxDate","Service","getSessionDate","condition","estimation","allowUnknown","computeValue","date","_","c","start_date","proxyID","type","FieldType","TT_FULL_DATE","validation","v","Date","value","toDate","computedValue","SINGLE_DATE_INPUT_FIELD","defaultValue","f","label","TT_DATE_PICKER","CALENDAR_FIELD","StandardValidations","config","infoItems","end_date","persistInfoItems","onFinish","async","modalController","dismiss","period","e","toastDanger","_hoisted_1","key","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_title","_resolveComponent","_component_ion_icon","_component_ion_button","_component_ion_label","_component_ion_chip","_component_ion_buttons","_component_ion_toolbar","_component_ion_header","_component_ion_item","_component_ion_content","_component_ion_footer","_openBlock","_createElementBlock","_Fragment","_createVNode","default","_withCtx","_createTextVNode","_toDisplayString","title","subtitle","_createCommentVNode","_createElementVNode","slot","onConfigure","_createBlock","onClick","size","icon","document","searchTerm","$event","color","close","searchTable","search","onRefresh","sync","_renderList","columns","column","index","item","i","_item$span","_item$span2","colspan","span","thColspan","rowspan","thRowspan","sortColumn","ref","lines","columnSorted","sortOrder","arrowUp","arrowDown","page","data","row","info","k","_info$column","onClickTablecell","_normalizeClass","tdClick","toCSV","toPDF","totalPages","first","disabled","currentPage","prev","canPrev","selectPage","next","canNext","last","finish","defineComponent","components","IonImg","IonThumbnail","IonToolbar","IonItem","IonIcon","IonLabel","IonTitle","IonHeader","IonButton","IonFooter","IonContent","IonButtons","IonChip","props","String","Object","columnData","Array","enablePagination","Boolean","rowsPerPage","Number","Function","csvQuarter","setup","route","useRouter","reportData","logo","computed","Img","pageComputedReportData","tableData","sort","d","fuse","Fuse","threshold","keys","useExtendedSearch","limit","map","chunk","length","paginated","numericKeypad","num","parseInt","keyboard","TT_TEXT","setTimeout","push","cell","_cell$column","_cell$column2","console","error","getExpandedColumns","reduce","a","concat","filter","col","prepExportObj","format","exportableColumns","canExport","exportable","every","headers","exportedValue","secondaryLabel","columnRefs","rows","allRows","includes","dataValue","filename","getLocationName","toTablePDF","toCsv","dayjs","getCoreVersion","getApiVersion","getSiteUUID","getUserName","mapcolumnValues","forEach","record","isEmpty","searchIndex","join","watch","isArray","from","immediate","deep","__exports__","ViralLoadReportService","ArtReportService","constructor","super","getVlCollection","this","getReport","programID","getVLCoverage","getMaternalStatus","patientIds","Url","parameterizeObjToString","startDate","endDate","postJson","_component_ion_loading","_component_v2Datatable","_component_ion_page","isLoading","message","configure","generate","IonPage","IonLoading","v2Datatable","router","report","birthdate","order_date","path","patient_id","toastWarning","sDate","eDate","periodstr","onMounted"],"mappings":"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","file":"js/chunk-2b0c5530.51d00e1d.js","sourcesContent":["import { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { Service } from \"@/services/service\"\nimport { generateDateFields } from \"@/utils/HisFormHelpers/MultiFieldDateHelper\"\nimport { Option } from '@/components/Forms/FieldInterface'\nimport { toDate } from \"@/utils/Strs\"\nimport { MultiStepPopupForm } from \"@/utils/PopupKeyboard\"\nimport { toastDanger } from \"@/utils/Alerts\"\nimport { modalController } from \"@ionic/vue\"\nimport { reactive } from \"vue\"\nimport StandardValidations from \"@/components/Forms/validations/StandardValidations\"\n\nexport enum DatePeriodInputType {\n    MULTI_FIELD_DATE = 'Multipage date fields',\n    CALENDAR_FIELD = 'Calendar',\n    SINGLE_DATE_INPUT_FIELD = 'Single page date'\n}\n\nexport enum HtsReportPreference {\n    PERIOD_INPUT_TYPE = 'hts_report_date_period_type'\n}\n\nexport const ReportPreferences = reactive({\n    datePeriodInputType: localStorage.getItem(HtsReportPreference.PERIOD_INPUT_TYPE) || DatePeriodInputType.MULTI_FIELD_DATE\n} as any)\n\nexport function DateSelectionPreference() {\n    MultiStepPopupForm([\n        {\n            id: 'date_field_type',\n            helpText: 'Date input preference',\n            type: FieldType.TT_SELECT,\n            defaultValue: () => ReportPreferences.datePeriodInputType,\n            options: () => {\n                return [\n                    { label: 'Calendar', value: DatePeriodInputType.CALENDAR_FIELD },\n                    { label: 'Single page date', value: DatePeriodInputType.SINGLE_DATE_INPUT_FIELD},\n                    { label: 'Multipage date fields', value: DatePeriodInputType.MULTI_FIELD_DATE },\n                ]\n            }\n        }\n    ],\n    {\n        onFinish: (f: any) => {\n            ReportPreferences.datePeriodInputType = f.date_field_type.value\n            localStorage.setItem(HtsReportPreference.PERIOD_INPUT_TYPE, ReportPreferences.datePeriodInputType)\n            modalController.dismiss()\n        }\n    })\n}\n\nexport function DateSelection(params: any) {\n    MultiStepPopupForm([\n        ...generateDateFields({\n            id: 'start_date',\n            helpText: 'Start',\n            required: true,\n            minDate: () => params?.minDate || '',\n            maxDate: () => params?.maxDate || Service.getSessionDate(),\n            condition: () => (ReportPreferences.datePeriodInputType === DatePeriodInputType.MULTI_FIELD_DATE) as boolean,\n            estimation: {\n                allowUnknown: false\n            },\n            computeValue: (date: string) => date \n        }),\n        ...generateDateFields({\n            id: 'end_date',\n            helpText: 'End',\n            required: true,\n            minDate: (_: any, c: any) => c.start_date,\n            maxDate: () => params?.maxDate || Service.getSessionDate(),\n            condition: () => (ReportPreferences.datePeriodInputType === DatePeriodInputType.MULTI_FIELD_DATE) as boolean,\n            estimation: {\n                allowUnknown: false\n            },\n            computeValue: (date: string) => date\n        }),\n        {\n            id: 'alt_start_date',\n            proxyID: 'start_date',\n            helpText: 'Start Date',\n            type: FieldType.TT_FULL_DATE,\n            validation: (v: Option) => {\n                if (!v) return ['Date is required']\n\n                const maxDate = params.maxDate || Service.getSessionDate()\n                if (params.minDate && new Date(v.value) < new Date(params.minDate)) {\n                    return [`${toDate(`${v.value}`)} is less than minimum date of ${toDate(params.minDate)}`]\n                }\n                if (maxDate && new Date(v.value) > new Date(maxDate)) {\n                    return [`${toDate(`${v.value}`)} is greater than max date of ${toDate(maxDate)}`]\n                }\n                return null\n            },\n            computedValue: (v: Option) => v.value,\n            condition: () => ReportPreferences.datePeriodInputType === DatePeriodInputType.SINGLE_DATE_INPUT_FIELD\n        },\n        {\n            id: 'alt_end_date',\n            proxyID: 'end_date',\n            helpText: 'End Date',\n            type: FieldType.TT_FULL_DATE,\n            defaultValue: (f: any) => f.start_date.value,\n            validation: (v: Option, f: any) => {\n                if (!v) return ['Date is required']\n\n                const maxDate = params.maxDate || Service.getSessionDate()\n                if (f.start_date.value && new Date(v.value) < new Date(f.start_date.value)) {\n                    return [`${toDate(`${v.value}`)} is less than minimum date of ${toDate(f.start_date.value)}`]\n                }\n                if (maxDate && new Date(v.value) > new Date(maxDate)) {\n                    return [`${toDate(`${v.value}`)} is greater than max date of ${toDate(maxDate)}`]\n                }\n                return null\n            },\n            computedValue: (v: Option) => v.label,\n            condition: () => ReportPreferences.datePeriodInputType === DatePeriodInputType.SINGLE_DATE_INPUT_FIELD\n        },\n        {\n            id: 'calendar_start_date',\n            proxyID: 'start_date',\n            helpText: 'Start Date',\n            type: FieldType.TT_DATE_PICKER,\n            computedValue: (v: Option) => v,\n            condition: () => ReportPreferences.datePeriodInputType === DatePeriodInputType.CALENDAR_FIELD,\n            validation: (v: Option) => StandardValidations.required(v),\n            config: {\n                minDate: () => params.minDate || null,\n                maxDate: () => params.maxDate || Service.getSessionDate(),\n                infoItems: (date: string, f: any) => {\n                    return [\n                        { label: 'Start Date', value: toDate(date) || '-' },\n                        { label: 'End Date', value: toDate(f.end_date) || '-'}\n                    ]\n                },\n                persistInfoItems: false\n            }\n        },\n        {\n            id: 'calendar_end_date',\n            proxyID: 'end_date',\n            helpText: 'End Date',\n            type: FieldType.TT_DATE_PICKER,\n            validation: (v: Option) => StandardValidations.required(v),\n            defaultValue: (f: any) => f.start_date.value,\n            computedValue: (v: Option) => v,\n            condition: () => ReportPreferences.datePeriodInputType === DatePeriodInputType.CALENDAR_FIELD,\n            config: {\n                minDate: (f: any) => f.start_date.value,\n                maxDate: () => params.maxDate || Service.getSessionDate(),\n                infoItems: (date: string, f: any) => {\n                    return [\n                        { label: 'Start Date', value: toDate(f.start_date) || '-' },\n                        { label: 'End Date', value: toDate(date)}\n                    ]\n                },\n                persistInfoItems: false\n            }\n        }\n    ], \n    {\n        onFinish: async (f: any, c: any) => {\n            modalController.dismiss()\n            try {\n                const period = `${toDate(c.start_date)} to ${toDate(c.end_date)}`\n                params.onFinish(c.start_date, c.end_date, period)\n            } catch (e) {\n                toastDanger(\"An error has occurred\")\n            }\n        }\n    })\n}","import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6bdc361e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { key: 0 }\nconst _hoisted_2 = { class: \"his-sm-text\" }\nconst _hoisted_3 = { class: \"art-report-theme\" }\nconst _hoisted_4 = { class: \"stick-report-header\" }\nconst _hoisted_5 = [\"colspan\", \"rowspan\", \"onClick\"]\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = { class: \"his-sm-text\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_chip = _resolveComponent(\"ion-chip\")!\n  const _component_ion_buttons = _resolveComponent(\"ion-buttons\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, { class: \"his-md-text\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.title) + \" \", 1),\n                (_ctx.subtitle)\n                  ? (_openBlock(), _createElementBlock(\"br\", _hoisted_1))\n                  : _createCommentVNode(\"\", true),\n                _createElementVNode(\"span\", _hoisted_2, _toDisplayString(_ctx.subtitle), 1)\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_buttons, { slot: \"end\" }, {\n              default: _withCtx(() => [\n                (typeof _ctx.onConfigure === 'function')\n                  ? (_openBlock(), _createBlock(_component_ion_button, {\n                      key: 0,\n                      onClick: _ctx.onConfigure\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_ion_icon, {\n                          size: \"large\",\n                          icon: _ctx.document\n                        }, null, 8, [\"icon\"])\n                      ]),\n                      _: 1\n                    }, 8, [\"onClick\"]))\n                  : _createCommentVNode(\"\", true),\n                (_ctx.searchTerm)\n                  ? (_openBlock(), _createBlock(_component_ion_chip, {\n                      key: 1,\n                      onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.searchTerm = '')),\n                      class: \"his-md-text\",\n                      color: \"primary\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_ion_label, null, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(_ctx.searchTerm), 1)\n                          ]),\n                          _: 1\n                        }),\n                        _createVNode(_component_ion_icon, { icon: _ctx.close }, null, 8, [\"icon\"])\n                      ]),\n                      _: 1\n                    }))\n                  : _createCommentVNode(\"\", true),\n                _createVNode(_component_ion_button, {\n                  onClick: _ctx.searchTable,\n                  size: \"large\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_ion_icon, {\n                      size: \"large\",\n                      icon: _ctx.search\n                    }, null, 8, [\"icon\"])\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"]),\n                (typeof _ctx.onRefresh === 'function')\n                  ? (_openBlock(), _createBlock(_component_ion_button, {\n                      key: 2,\n                      onClick: _ctx.onRefresh,\n                      color: \"success\",\n                      size: \"large\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_ion_icon, {\n                          size: \"large\",\n                          icon: _ctx.sync\n                        }, null, 8, [\"icon\"])\n                      ]),\n                      _: 1\n                    }, 8, [\"onClick\"]))\n                  : _createCommentVNode(\"\", true)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, {\n      \"scroll-y\": \"\",\n      \"scroll-x\": \"\"\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"table\", _hoisted_3, [\n          _createElementVNode(\"thead\", _hoisted_4, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.columns, (column, index) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: index }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(column, (item, i) => {\n                  return (_openBlock(), _createElementBlock(\"th\", {\n                    key: i,\n                    colspan: item?.span?.thColspan || 1,\n                    rowspan: item?.span?.thRowspan || 1,\n                    onClick: ($event: any) => (_ctx.sortColumn(item.ref))\n                  }, [\n                    _createVNode(_component_ion_item, { lines: \"none\" }, {\n                      default: _withCtx(() => [\n                        (_ctx.columnSorted && _ctx.columnSorted === item.ref)\n                          ? (_openBlock(), _createBlock(_component_ion_icon, {\n                              key: 0,\n                              icon: _ctx.sortOrder === 'asc' ? _ctx.arrowUp : _ctx.arrowDown\n                            }, null, 8, [\"icon\"]))\n                          : _createCommentVNode(\"\", true),\n                        _createVNode(_component_ion_label, { class: \"ion-text-center\" }, {\n                          default: _withCtx(() => [\n                            _createElementVNode(\"b\", null, _toDisplayString(item.label), 1)\n                          ]),\n                          _: 2\n                        }, 1024)\n                      ]),\n                      _: 2\n                    }, 1024)\n                  ], 8, _hoisted_5))\n                }), 128))\n              ]))\n            }), 128))\n          ]),\n          _createElementVNode(\"tbody\", null, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.page, (data, i) => {\n              return (_openBlock(), _createElementBlock(\"tr\", { key: i }, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(data.row, (info, k) => {\n                  return (_openBlock(), _createElementBlock(\"td\", {\n                    key: k,\n                    onClick: () => _ctx.onClickTablecell(info),\n                    class: _normalizeClass({\n                            'clickable-cell': info?.column?.tdClick\n                        })\n                  }, [\n                    _createElementVNode(\"span\", _hoisted_7, _toDisplayString(info.value), 1)\n                  ], 10, _hoisted_6))\n                }), 128))\n              ]))\n            }), 128))\n          ])\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.toCSV())),\n              size: \"large\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" CSV \")\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_ion_button, {\n              onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.toPDF())),\n              size: \"large\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" PDF \")\n              ]),\n              _: 1\n            }),\n            (_ctx.totalPages > 1)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 0,\n                  onClick: _ctx.first,\n                  disabled: _ctx.currentPage === 0 || _ctx.totalPages <= 2,\n                  size: \"large\",\n                  slot: \"end\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" First \")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            (_ctx.totalPages > 1)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 1,\n                  onClick: _ctx.prev,\n                  disabled: !_ctx.canPrev,\n                  color: \"light\",\n                  size: \"large\",\n                  slot: \"end\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Prev \")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            (_ctx.totalPages > 1)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 2,\n                  onClick: _ctx.selectPage,\n                  size: \"large\",\n                  slot: \"end\",\n                  color: \"light\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_ctx.currentPage) + \" / \" + _toDisplayString(_ctx.totalPages - 1), 1)\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"]))\n              : _createCommentVNode(\"\", true),\n            (_ctx.totalPages > 1)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 3,\n                  onClick: _ctx.next,\n                  disabled: !_ctx.canNext,\n                  color: \"light\",\n                  size: \"large\",\n                  slot: \"end\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Next \")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            (_ctx.totalPages > 1)\n              ? (_openBlock(), _createBlock(_component_ion_button, {\n                  key: 4,\n                  onClick: _ctx.last,\n                  disabled: _ctx.currentPage+1 >= _ctx.totalPages || _ctx.totalPages <= 2,\n                  size: \"large\",\n                  slot: \"end\"\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Last \")\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\", \"disabled\"]))\n              : _createCommentVNode(\"\", true),\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.finish,\n              color: \"success\",\n              size: \"large\",\n              slot: \"end\"\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Finish \")\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64))\n}","\nimport {\n\tIonImg,\n\tIonThumbnail,\n\tIonLabel,\n\tIonIcon,\n\tIonItem,\n\tIonTitle,\n\tIonChip,\n\tIonToolbar,\n\tIonHeader,\n\tIonButton,\n\tIonFooter,\n\tIonContent,\n\tIonButtons\n} from \"@ionic/vue\"\nimport {\n\tsync,\n\tsearch,\n\tclose,\n\tarrowUp,\n\tarrowDown,\n\tdocument\n} from \"ionicons/icons\"\nimport { Option } from \"@/components/Forms/FieldInterface\"\nimport { computed, defineComponent, PropType, ref, watch } from \"vue\";\nimport keyboard from \"@/utils/PopupKeyboard\"\nimport { chunk, isEmpty } from \"lodash\";\nimport { sort } from \"fast-sort\";\nimport { numericKeypad } from \"@/utils/PopupKeyboard\";\nimport { FieldType } from \"@/components/Forms/BaseFormElements\";\nimport Fuse from \"fuse.js\"\nimport { v2ColumnDataInterface, v2ColumnInterface } from \"./types\";\nimport { toCsv, toTablePDF } from \"@/utils/Export\"\nimport { Service } from \"@/services/service\";\nimport { useRouter } from \"vue-router\";\nimport dayjs from \"dayjs\";\nimport Img from \"@/utils/Img\"\n\nexport default defineComponent({\n\tcomponents: {\n\t\tIonImg,\n\t\tIonThumbnail,\n\t\tIonToolbar,\n\t\tIonItem,\n\t\tIonIcon,\n\t\tIonLabel,\n\t\tIonTitle,\n\t\tIonHeader,\n\t\tIonButton,\n\t\tIonFooter,\n\t\tIonContent,\n\t\tIonButtons,\n\t\tIonChip\n\t},\n\tprops: {\n\t\ticon: {\n\t\t\ttype: String\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: 'Report'\n\t\t},\n\t\tsubtitle: {\n\t\t\ttype: String,\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Object as PropType<Array<v2ColumnInterface[]>>,\n\t\t\trequired: true\n\t\t},\n\t\tcolumnData: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => []\n\t\t},\n\t\tenablePagination: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\trowsPerPage: {\n\t\t\ttype: Number,\n\t\t\tdefault: 10\n\t\t},\n\t\tonFinish: {\n\t\t\ttype: Function\n\t\t},\n\t\tonRefresh: {\n\t\t\ttype: Function\n\t\t},\n\t\tonConfigure: {\n\t\t\ttype: Function\n\t\t},\n\t\tcsvQuarter: {\n\t\t\ttype: String\n\t\t}\n\t},\n\tsetup(props) {\n\t\tconst route = useRouter()\n\t\tconst reportData = ref<any>([])\n\t\tconst currentPage = ref<number>(0)\n\t\tconst searchTerm = ref<string>('')\n\t\tconst columnSorted = ref<string>('')\n\t\tconst sortOrder = ref<'asc' | 'desc'>('desc')\n\n\t\tconst logo = computed(() => props.icon ? Img(props.icon) : '')\n\n\t\t/**\n\t\t * This computed object exist to allow for transformation\n\t\t * of \"reportData\" without mutations when doing\n\t\t * things like search or sorting... \n\t\t */\n\t\tconst pageComputedReportData = computed(() => {\n\t\t\t/**\n\t\t\t * Data transformations for table happen here. i.e. searching or sorting\n\t\t\t*/\n\t\t\tconst tableData = sort(reportData.value)[sortOrder.value]((d: any) => d.data[columnSorted.value])\n\t\t\tif (searchTerm.value) {\n\t\t\t\tconst fuse = new Fuse(tableData, {\n\t\t\t\t\tthreshold: 0.3,\n\t\t\t\t\tkeys: ['searchIndex'],\n\t\t\t\t\tuseExtendedSearch: true\n\t\t\t\t})\n\t\t\t\treturn fuse.search(searchTerm.value, { limit: props.rowsPerPage }).map((i: any) => i.item)\n\t\t\t}\n\t\t\treturn tableData\n\t\t})\n\n\t\tconst totalPages = computed(() => chunk(pageComputedReportData.value, props.rowsPerPage).length)\n\n\t\tconst canNext = computed(() => currentPage.value + 2 <= totalPages.value)\n\n\t\tconst canPrev = computed(() => currentPage.value > 0)\n\t\t/**\n\t\t * returns current page data based on page index\n\t\t */\n\t\tconst page = computed(() => {\n\t\t\t/**\n\t\t\t * Paginated data that ends up on the template.\n\t\t\t */\n\t\t\tconst paginated = chunk(pageComputedReportData.value, props.rowsPerPage)\n\t\t\treturn paginated[currentPage.value] as any\n\t\t})\n\n\t\tconst sortColumn = (column: string) => {\n\t\t\tcolumnSorted.value = column\n\t\t\tsortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n\t\t}\n\t\t/**\n\t\t * Launches numeric input to allow the user to skip to any page\n\t\t */\n\t\tconst selectPage = () => numericKeypad((v: string) => {\n\t\t\tconst num = parseInt(v)\n\t\t\tif (parseInt(v) <= totalPages.value) currentPage.value = num\n\t\t}, { title: 'Select page' })\n\t\t/**\n\t\t * Launches search input to filter page\n\t\t */\n\t\tconst searchTable = () => {\n\t\t\tkeyboard({\n\t\t\t\tid: \"search\",\n\t\t\t\thelpText: \"Find\",\n\t\t\t\ttype: FieldType.TT_TEXT,\n\t\t\t},\n\t\t\t\t(v: Option) => {\n\t\t\t\t\t// This has been wrapped in a slight delay to improve responsiveness of the page\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsearchTerm.value = v ? v.value as string : ''\n\t\t\t\t\t\tcurrentPage.value = 0\n\t\t\t\t\t}, 3)\n\t\t\t\t})\n\t\t}\n\t\t/**\n\t\t * Reset current page to initial\n\t\t */\n\t\tconst first = () => currentPage.value = 0\n\t\t/**\n\t\t * Goes to the last page\n\t\t */\n\t\tconst last = () => currentPage.value = (totalPages.value - 1) || 0\n\t\t/**\n\t\t * Go to next page relative to the current page\n\t\t */\n\t\tconst next = () => currentPage.value += 1\n\t\t/**\n\t\t * Go to previous page relateive to the current page\n\t\t */\n\t\tconst prev = () => currentPage.value -= 1\n\n\t\tconst finish = () => {\n\t\t\tif (typeof props.onFinish === 'function') {\n\t\t\t\tprops.onFinish()\n\t\t\t} else {\n\t\t\t\troute.push('/')\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Event handler when TD on HTML report is clicked\n\t\t * @param cell \n\t\t */\n\t\tconst onClickTablecell = (cell: v2ColumnDataInterface) => {\n\t\t\ttry {\n\t\t\t\tif (typeof cell.column?.tdClick === 'function') {\n\t\t\t\t\tcell.column?.tdClick(cell)\n\t\t\t\t}\n\t\t\t\treturn\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e)\n\t\t\t}\n\t\t}\n\n\t\tconst getExpandedColumns = () => props.columns.reduce((a: any, c: v2ColumnInterface[]) => a.concat(c), [])\n\t\t\t.filter((col: v2ColumnInterface) => col.value || col.ref)\n\n\t\t/**\n\t\t * Defines export object\n\t\t */\n\t\tconst prepExportObj = (format: 'pdf' | 'csv') => {\n\t\t\tconst exportableColumns = getExpandedColumns().filter((column: v2ColumnInterface) => {\n\t\t\t\treturn [\n\t\t\t\t\tcolumn.canExport ? column?.canExport[format] : true,\n\t\t\t\t\ttypeof column.exportable === 'boolean' ? column.exportable : true\n\t\t\t\t].every(Boolean)\n\t\t\t})\n\t\t\t// Generates string headers. The final value will be determined by configuration of column\n\t\t\tconst headers = exportableColumns.map((column: v2ColumnInterface) => {\n\t\t\t\treturn column.exportedValue && column.exportedValue.column\n\t\t\t\t\t? column.exportedValue.column(column)\n\t\t\t\t\t: column.secondaryLabel || column.label\n\t\t\t})\n\n\t\t\t/**\n\t\t\t * Exported rows are based on exportable columns\n\t\t\t */\n\t\t\tconst columnRefs = exportableColumns.map((column: v2ColumnInterface) => column.ref)\n\t\t\tconst rows = reportData.value.reduce((allRows: any, data: any) => {\n\t\t\t\tconst row = data.row.filter(({ column }: v2ColumnDataInterface) => {\n\t\t\t\t\treturn columnRefs.includes(column.ref)\n\t\t\t\t}).map((data: v2ColumnDataInterface) => {\n\t\t\t\t\t// Final value will be determined by optional configuration or static value\n\t\t\t\t\treturn data.column.exportedValue && data.column.exportedValue.dataValue\n\t\t\t\t\t\t? data.column.exportedValue.dataValue(data)\n\t\t\t\t\t\t: data.value\n\t\t\t\t})\n\t\t\t\treturn [...allRows, row]\n\t\t\t}, [])\n\n\t\t\tconst filename = `${Service.getLocationName() || 'Unknown site'}-${props.title}-${props.subtitle}-${Service.getSessionDate()}`\n\t\t\treturn {\n\t\t\t\theaders,\n\t\t\t\trows,\n\t\t\t\tfilename\n\t\t\t}\n\t\t}\n\n\t\tconst toPDF = () => {\n\t\t\tconst { headers, rows, filename } = prepExportObj('pdf')\n\t\t\ttoTablePDF([headers], rows, filename, true)\n\t\t}\n\n\t\tconst toCSV = () => {\n\t\t\tconst { headers, rows, filename } = prepExportObj('csv')\n\t\t\ttoCsv(\n\t\t\t\t[headers],\n\t\t\t\t[\n\t\t\t\t\t...rows,\n\t\t\t\t\t[`Date Created: ${dayjs().format('DD/MMM/YYYY HH:MM:ss')}`],\n\t\t\t\t\t[`Quarter: ${props.csvQuarter || props.subtitle}`],\n\t\t\t\t\t[`HIS-Core Version: ${Service.getCoreVersion()}`],\n\t\t\t\t\t[`API Version: ${Service.getApiVersion()}`],\n\t\t\t\t\t[`Site UUID: ${Service.getSiteUUID()}`],\n\t\t\t\t\t[`Generated by: ${Service.getUserName()}`]\n\t\t\t\t],\n\t\t\t\tfilename\n\t\t\t)\n\t\t}\n\n\t\t/**\n\t\t * Create a table header and cell mapping\n\t\t * @param data \n\t\t */\n\t\tconst mapcolumnValues = (data: any) => {\n\t\t\tdata.forEach((record: any) => {\n\t\t\t\tconst row = getExpandedColumns().map((column: v2ColumnInterface) => {\n\t\t\t\t\tlet value = ''\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (isEmpty(record)) {\n\t\t\t\t\t\t\tvalue = \"...\"\n\t\t\t\t\t\t} else if (typeof column.value === 'function') {\n\t\t\t\t\t\t\tvalue = column.value(record) as string\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use the ref to map to a value inside the record\n\t\t\t\t\t\t\tvalue = record[column.ref] || ''\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tvalue = '_ERROR_'\n\t\t\t\t\t\tconsole.error(e)\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcolumn,\n\t\t\t\t\t\tdata: record,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t[column.ref || 'nada']: value\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treportData.value.push({\n\t\t\t\t\trow,\n\t\t\t\t\tdata: record,\n\t\t\t\t\tsearchIndex: [...row, row.map((d: any) => d.value).join(' ')]\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t\t/**\n\t\t * Initiates generation of table data through column data prop\n\t\t */\n\t\twatch(() => props.columnData, (data) => {\n\t\t\treportData.value = [];\n\t\t\tif (!Array.isArray(data) || !data.length) {\n\t\t\t\tcurrentPage.value = 0\n\t\t\t\tsearchTerm.value = ''\n\t\t\t\tcolumnSorted.value = ''\n\t\t\t\tmapcolumnValues(Array.from({ length: props.rowsPerPage }).map(() => ({})))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tmapcolumnValues(data)\n\t\t}, { immediate: true, deep: true })\n\n\t\treturn {\n\t\t\tfirst,\n\t\t\tlast,\n\t\t\tnext,\n\t\t\tprev,\n\t\t\tselectPage,\n\t\t\tsortColumn,\n\t\t\tsearchTable,\n\t\t\tonClickTablecell,\n\t\t\ttoPDF,\n\t\t\ttoCSV,\n\t\t\tfinish,\n\t\t\tlogo,\n\t\t\tsync,\n\t\t\tsearch,\n\t\t\tclose,\n\t\t\tarrowUp,\n\t\t\tarrowDown,\n\t\t\tdocument,\n\t\t\tpage,\n\t\t\tcanNext,\n\t\t\tsearchTerm,\n\t\t\ttotalPages,\n\t\t\tsortOrder,\n\t\t\tcanPrev,\n\t\t\tcurrentPage,\n\t\t\tcolumnSorted\n\t\t}\n\t}\n})\n","import { render } from \"./TableView.vue?vue&type=template&id=6bdc361e&scoped=true&ts=true\"\nimport script from \"./TableView.vue?vue&type=script&lang=ts\"\nexport * from \"./TableView.vue?vue&type=script&lang=ts\"\n\nimport \"./TableView.vue?vue&type=style&index=0&id=6bdc361e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bdc361e\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TableView.vue?vue&type=style&index=0&id=6bdc361e&scoped=true&lang=css\"","import Url from \"@/utils/Url\";\nimport { ArtReportService } from \"./art_report_service\";\n\nexport class ViralLoadReportService extends ArtReportService {\n    constructor() {\n        super()\n    }\n    \n    getVlCollection() {\n        return this.getReport(`programs/${this.programID}/reports/vl_collection`)\n    }\n\n    getVLCoverage() {\n        return this.getReport(`programs/${this.programID}/reports/viral_load_coverage`, {\n            'rebuild_outcomes': true\n        })\n    }\n\n    getMaternalStatus(patientIds: number[]) {\n        const params = Url.parameterizeObjToString({\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            'date': this.date,\n            'program_id': this.programID,\n            'report_definition': 'pepfar'\n        })\n        return ArtReportService.postJson(`vl_maternal_status?${params}`, {\n            'patient_ids': patientIds\n        })\n    }\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_loading = _resolveComponent(\"ion-loading\")!\n  const _component_v2Datatable = _resolveComponent(\"v2Datatable\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_loading, {\n        \"is-open\": _ctx.isLoading,\n        message: \"Please wait...\"\n      }, null, 8, [\"is-open\"]),\n      _createVNode(_component_v2Datatable, {\n        title: \"VL Collection\",\n        subtitle: _ctx.period,\n        columns: _ctx.columns,\n        columnData: _ctx.reportData,\n        rowsPerPage: 20,\n        onConfigure: _ctx.configure,\n        onRefresh: () => _ctx.generate()\n      }, null, 8, [\"subtitle\", \"columns\", \"columnData\", \"onConfigure\", \"onRefresh\"])\n    ]),\n    _: 1\n  }))\n}","\nimport { IonPage, IonLoading } from \"@ionic/vue\"\nimport { defineComponent, onMounted, ref } from 'vue'\nimport  v2Datatable from \"@/components/DataViews/tables/v2PocDatatable/TableView.vue\"\nimport { ViralLoadReportService } from \"@/apps/ART/services/reports/viral_load_report\";\nimport { v2ColumnDataInterface, v2ColumnInterface } from '@/components/DataViews/tables/v2PocDatatable/types';\nimport { useRouter } from 'vue-router';\nimport { DateSelection } from '@/utils/ReportDateSelectionPrompt';\nimport { toastDanger, toastWarning } from '@/utils/Alerts';\nimport { toDate } from \"@/utils/Strs\";\n\nexport default defineComponent({\n    components: { \n        IonPage,\n        IonLoading,\n        v2Datatable\n    },\n    setup() {\n        const router = useRouter()\n        const reportData = ref([])\n        const period = ref('')\n        const isLoading = ref(false)\n        const report = new ViralLoadReportService()\n        const columns: Array<v2ColumnInterface[]> = [\n            [\n                {\n                    label: \"ARV#\",\n                    ref: 'identifier',\n                },\n                {\n                    label: \"First name\",\n                    ref: 'given_name',\n                    exportable: false\n                },\n                {\n                    label: \"Last name\",\n                    ref: 'family_name',\n                    exportable: false\n                },\n                {\n                    label: \"Gender\",\n                    ref: 'gender'\n                },\n                {\n                    label: \"DOB\",\n                    ref: 'birthdate',\n                    value: (data) => toDate(data.birthdate)\n                },\n                {\n                    label: \"Date of VL Order\",\n                    ref: 'order_date',\n                    value: (data) => toDate(data.order_date)\n                },\n                {\n                    label: 'Action',\n                    ref: 'patient_id',\n                    exportable: false,\n                    tdClick: ({data}: v2ColumnDataInterface) => router.push({ path: `/patient/dashboard/${data.patient_id}`}) ,\n                    value: () => 'View client'\n                }\n            ]\n        ]\n        \n        /**\n         * Generates report by start date and end date\n         */\n         const generate = async () => {\n            if (!(report.startDate && report.endDate))  {\n                return toastWarning('Start date and end date required!')\n            }\n            isLoading.value = true\n            reportData.value = []\n            try {\n                reportData.value = await report.getVlCollection()\n            } catch (e) {\n                toastDanger(\"Unable to generate report!\")\n            }\n            isLoading.value = false\n        }\n\n        /**\n         * Loads a dialogue to allow users to configure start and end date\n         */\n         const configure = () => DateSelection({\n            onFinish: (sDate: string, eDate: string, periodstr: string) => {\n                period.value = `Period (${periodstr})`\n                report.startDate = sDate\n                report.endDate = eDate\n                generate()\n            }\n        })\n\n        /**\n         * Initialization code when the report is empty!\n        */\n        onMounted(() => !reportData.value.length && configure())\n\n        return {\n            reportData,\n            isLoading,\n            configure,\n            generate,\n            columns,\n            period\n        }\n    }\n})\n","import { render } from \"./ClinicVlCollection.vue?vue&type=template&id=4ea6d614&ts=true\"\nimport script from \"./ClinicVlCollection.vue?vue&type=script&lang=ts\"\nexport * from \"./ClinicVlCollection.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}