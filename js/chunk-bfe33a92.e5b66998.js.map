{"version":3,"sources":["webpack:///./src/apps/ART/views/encounters/BpAlert.vue?7dcc","webpack:///./src/apps/ART/views/encounters/BpAlert.vue","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?67e7","webpack:///./src/apps/ART/views/encounters/BpAlert.vue?4045"],"names":["_withId","_withScopeId","_pushScopeId","_hoisted_1","_createVNode","class","_hoisted_2","key","_hoisted_3","style","_hoisted_4","_hoisted_5","_createTextVNode","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_content","_resolveComponent","_component_ion_button","_component_ion_toolbar","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","hasPressureReading","_withDirectives","_vShow","patientOnBpDrugs","_toDisplayString","patientName","highBP","sysBp","dsBP","_createCommentVNode","_","color","onClick","showRiskFactors","nextTask","size","slot","recaptureBp","defineComponent","mixins","EncounterMixinVue","components","IonFooter","IonContent","IonPage","IonButton","IonToolbar","data","riskFactors","isPregnant","systolicThreshold","diastolicTheshold","methods","modalController","create","component","RiskFactorModal","backdropDismiss","cssClass","componentProps","factors","modal","present","onDidDismiss","isEmpty","getRiskFactors","concepts","ConceptService","getConceptsByCategory","j","map","concept","ObservationService","getFirstValueCoded","patientID","name","val","value","Promise","all","this","$router","push","watch","ready","handler","r","loadingController","message","loading","htn","BPManagementService","providerID","ART_PROP","diastolicThreshold","getDiastolicBp","getSystolicBp","onBpDrugs","patient","isChildBearing","dismiss","immediate","computed","getFullName","__exports__"],"mappings":"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","file":"js/chunk-bfe33a92.e5b66998.js","sourcesContent":["import { createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-146a0e6b\")\n\n_pushScopeId(\"data-v-146a0e6b\")\nconst _hoisted_1 = /*#__PURE__*/_createVNode(\"h1\", { class: \"ion-text-center\" }, \" High BP Alert \", -1)\nconst _hoisted_2 = {\n  key: 0,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_3 = { style: {\"font-weight\":\"bold\"} }\nconst _hoisted_4 = { class: \"name\" }\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\" has \")\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" blood pressure of \")\nconst _hoisted_7 = { class: \"bp\" }\nconst _hoisted_8 = /*#__PURE__*/_createVNode(\"br\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createVNode(\"span\", null, [\n  /*#__PURE__*/_createTextVNode(\" Retesting BP is \"),\n  /*#__PURE__*/_createVNode(\"span\", { style: {\"font-weight\":\"bold\",\"color\":\"#000000\",\"text-decoration\":\"underline\"} }, \"optional\"),\n  /*#__PURE__*/_createTextVNode(\". \"),\n  /*#__PURE__*/_createVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\" Do you want to test BP? \")\n], -1)\nconst _hoisted_10 = {\n  key: 1,\n  class: \"vertically-align ion-text-center\"\n}\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\" No BP Reading found \")\nconst _hoisted_12 = /*#__PURE__*/_createVNode(\"br\", null, null, -1)\nconst _hoisted_13 = /*#__PURE__*/_createVNode(\"h1\", null, \" Do you want to test BP? \", -1)\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\" No \")\nconst _hoisted_15 = /*#__PURE__*/_createTextVNode(\" Yes \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withId(() => [\n      _createVNode(_component_ion_content, null, {\n        default: _withId(() => [\n          _hoisted_1,\n          (_ctx.hasPressureReading)\n            ? (_openBlock(), _createBlock(\"div\", _hoisted_2, [\n                _withDirectives(_createVNode(\"h2\", _hoisted_3, \" (Patient already on BP drugs) \", 512), [\n                  [_vShow, _ctx.patientOnBpDrugs]\n                ]),\n                _createVNode(\"h2\", null, [\n                  _createVNode(\"span\", _hoisted_4, _toDisplayString(_ctx.patientName), 1),\n                  _hoisted_5,\n                  _withDirectives(_createVNode(\"span\", null, \" a high \", 512), [\n                    [_vShow, _ctx.highBP]\n                  ]),\n                  _hoisted_6,\n                  _createVNode(\"span\", _hoisted_7, _toDisplayString(_ctx.sysBp) + \" / \" + _toDisplayString(_ctx.dsBP), 1),\n                  _hoisted_8,\n                  _hoisted_9\n                ])\n              ]))\n            : _createCommentVNode(\"\", true),\n          (!_ctx.hasPressureReading)\n            ? (_openBlock(), _createBlock(\"div\", _hoisted_10, [\n                _hoisted_11,\n                _hoisted_12,\n                _hoisted_13\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withId(() => [\n          _createVNode(_component_ion_toolbar, { color: \"dark\" }, {\n            default: _withId(() => [\n              _createVNode(_component_ion_button, {\n                onClick: _cache[1] || (_cache[1] = () => _ctx.hasPressureReading ? _ctx.showRiskFactors() : _ctx.nextTask()),\n                size: \"large\",\n                color: \"danger\",\n                slot: \"start\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_14\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_button, {\n                onClick: _ctx.recaptureBp,\n                size: \"large\",\n                color: \"success\",\n                slot: \"end\"\n              }, {\n                default: _withId(() => [\n                  _hoisted_15\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n})","\nimport { defineComponent } from 'vue'\nimport EncounterMixinVue from '../../../../views/EncounterMixin.vue'\nimport {\n    IonFooter,\n    IonContent,\n    IonPage,\n    IonButton,\n    IonToolbar,\n    loadingController,\n    modalController\n} from \"@ionic/vue\"\nimport ART_PROP from \"@/apps/ART/art_global_props\"\nimport { BPManagementService } from '../../services/htn_service'\nimport { ConceptService } from \"@/services/concept_service\";\nimport RiskFactorModal from \"@/components/DataViews/RiskFactorModal.vue\";\nimport { ObservationService } from \"@/services/observation_service\";\nimport { isEmpty } from \"lodash\";\n\nexport default defineComponent({\n    mixins: [EncounterMixinVue],\n    components: { \n        IonFooter,\n        IonContent,\n        IonPage,\n        IonButton,\n        IonToolbar\n    },\n    data: () => ({\n        sysBp: 0 as number,\n        dsBP: 0 as number,\n        riskFactors: [] as any,\n        patientOnBpDrugs: false as boolean,\n        isPregnant: false as boolean,\n        systolicThreshold: 145,\n        diastolicTheshold: 94\n    }),\n    methods: {\n        async showRiskFactors() {\n            const modal = await modalController.create({\n                component: RiskFactorModal,\n                backdropDismiss: false,\n                cssClass: \"large-modal\",\n                componentProps: {\n                    factors: this.riskFactors\n                }\n            })\n            modal.present()\n            const { data } = await modal.onDidDismiss();\n            if (!isEmpty(data)) this.nextTask()\n        },\n        async getRiskFactors() {\n            const concepts = ConceptService.getConceptsByCategory(\"risk factors\");\n            const j = concepts.map(async (concept) => {\n            const val = await ObservationService.getFirstValueCoded(this.patientID, concept.name)\n                return {\n                    concept: concept.name, value: val\n                }\n            })\n            return Promise.all(j);\n        },\n        recaptureBp() {\n            this.$router.push(`/art/encounters/vitals/${this.patientID}?vital_options=BP`)\n        }\n    },\n    watch: {\n        ready: {\n            async handler(r: boolean) {\n                if (!r) return\n                const loading = await loadingController.create({\n                    message: 'Verifying Blood Pressure...',\n                    backdropDismiss: false\n                })\n                await loading.present()\n                const htn = new BPManagementService(this.patientID, this.providerID)\n                this.riskFactors = await this.getRiskFactors();\n                this.systolicThreshold = (await ART_PROP.systolicThreshold()) || 145\n                this.diastolicTheshold = (await ART_PROP.diastolicThreshold()) || 94\n                this.dsBP = (await htn.getDiastolicBp()) || 0\n                this.sysBp = (await htn.getSystolicBp()) || 0\n                this.patientOnBpDrugs = (await htn.onBpDrugs()) || false\n                this.isPregnant = this.patient.isChildBearing()\n                    ? (await this.patient.isPregnant()) || false\n                    : false\n                loadingController.dismiss()\n            },\n            immediate: true\n        }\n    },\n    computed: {\n        patientName(): string {\n            return this.ready ? this.patient.getFullName() : 'Patient'\n        },\n        hasPressureReading(): boolean {\n            return this.sysBp > 0 && this.dsBP > 0\n        },\n        highBP(): boolean {\n            return (this.sysBp >= this.systolicThreshold\n                && this.dsBP >= this.diastolicTheshold || this.dsBP >= this.diastolicTheshold)\n                && !this.isPregnant\n        }\n    }\n})\n","import { render } from \"./BpAlert.vue?vue&type=template&id=146a0e6b&scoped=true&ts=true\"\nimport script from \"./BpAlert.vue?vue&type=script&lang=ts\"\nexport * from \"./BpAlert.vue?vue&type=script&lang=ts\"\n\nimport \"./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/daniel/local-repos/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-146a0e6b\"]])\n\nexport default __exports__","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BpAlert.vue?vue&type=style&index=0&id=146a0e6b&scoped=true&lang=css\""],"sourceRoot":""}