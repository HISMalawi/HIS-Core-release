{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ANC/Views/Encounters/TTV.vue"],"names":["DRUG_FREQUENCIES","AncTreatmentService","AppEncounterService","constructor","patientID","providerID","ttvDrugObj","date","dispensed","dispenseTTV","isEmpty","orderID","order_id","DrugOrderService","updateDispensationOrders","createOrders","orders","create","getEncounterID","drugs","createEncounter","map","o","buildDrugOrderObj","dispensation","forEach","quantity","frequency","duration","order","drug_inventory_id","id","drug","startDate","Date","expiryDate","setDate","getDate","parseInt","dose","dailyEquivalentDose","parseFloat","HisDate","toStandardHisFormat","drug_name","units","render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","fields","formFields","skipSummary","onFinishAction","onFinish","cancelDestinationPath","cancelDestination","_","AncDispensationService","super","saveNoDispensationObs","this","saveValueTextObs","defineComponent","components","IonPage","mixins","EncounterMixinVue","data","service","watch","ready","handler","getFields","immediate","methods","f","computedData","action","nextTask","helpText","type","FieldType","TT_YES_NO","validation","v","computedValue","match","async","updateTTvOrder","options","label","values","value","__exports__"],"mappings":"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","file":"js/chunk-033a882d.59378ef6.js","sourcesContent":["import { AppEncounterService } from \"@/services/app_encounter_service\";\n\n\nexport class AncDispensationService extends AppEncounterService {\n    constructor(patientID: number, providerID: number){\n        super(patientID, 54, providerID)\n    }\n\n    saveNoDispensationObs() {\n        return this.saveValueTextObs(\n            'Tetanus toxoid vaccine', 'Not dispensed'\n        )\n    }\n\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_his_standard_form, {\n        fields: _ctx.formFields,\n        skipSummary: true,\n        onFinishAction: _ctx.onFinish,\n        cancelDestinationPath: _ctx.cancelDestination\n      }, null, 8, [\"fields\", \"onFinishAction\", \"cancelDestinationPath\"])\n    ]),\n    _: 1\n  }))\n}","\nimport EncounterMixinVue from '@/views/EncounterMixin.vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { defineComponent } from 'vue'\nimport { AncDispensationService} from \"@/apps/ANC/Services/anc_dispensing_service\"\nimport { AncTreatmentService } from \"@/apps/ANC/Services/anc_treatment_service\"\nimport { Option } from '@/components/Forms/FieldInterface'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport { IonPage } from \"@ionic/vue\"\n\nexport default defineComponent({\n  components: { IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    formFields: [] as any,\n    service: {} as any\n  }),\n  watch: {\n    ready: {\n      handler(ready: boolean) {\n        if (ready) {\n          this.formFields = this.getFields()\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async onFinish(f: any, computedData: any) {\n      await computedData['prescription'].action()\n      this.nextTask()\n    },\n    getFields() {\n      return [\n        {\n          id: 'prescription',\n          helpText: 'Prescription',\n          type: FieldType.TT_YES_NO,\n          validation: (v: string) => !v ?  ['Value is required'] : null,\n          computedValue: (v: string) => {\n            if (v.match(/true/i)) {\n              return {\n                action: async () => {\n                  const service = new AncTreatmentService(this.patientID, this.providerID)\n                  await service.createEncounter()\n                  await service.updateTTvOrder()\n                }\n              }\n            }\n            return {\n              action: async () => {\n                const service = new AncDispensationService(this.patientID, this.providerID)\n                await service.createEncounter()\n                await service.saveNoDispensationObs()\n              }\n            }\n          },\n          options: () => ([\n            {\n              label: 'TTV has been given today',\n              values: [\n                {\n                  label: \"yes\",\n                  value: \"true\"\n                },\n                {\n                  label: \"no\",\n                  value: \"false\"\n                }\n              ]\n            }\n          ])\n        }\n      ]\n    }\n  }\n})\n","import { render } from \"./TTV.vue?vue&type=template&id=4420df94&ts=true\"\nimport script from \"./TTV.vue?vue&type=script&lang=ts\"\nexport * from \"./TTV.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}