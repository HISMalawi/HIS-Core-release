(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf669"],{"640e":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,i,o){var c=Object(r["resolveComponent"])("his-standard-form"),s=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])]})),_:1})}var i=n("5530"),o=n("1da1"),c=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("96cf"),n("9441")),s=n("7365"),u=n("97ed"),d=n("2706"),l=n("d95e"),p=n("66fd"),b=n("5a0c"),f=n.n(b),h=Object(r["defineComponent"])({components:{HisStandardForm:c["a"]},mixins:[s["a"]],data:function(){return{radiologyService:{},isPacsEnabled:!1}},watch:{ready:{handler:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=6;break}return t.radiologyService=new u["a"](t.patientID,t.providerID),n.next=4,p["b"].isPACsEnabled();case 4:t.isPacsEnabled=n.sent,t.fields=t.getFields();case 6:case"end":return n.stop()}}),n)})))()},immediate:!0,deep:!0}},methods:{onSubmit:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.radiology);case 2:return r=e.sent,e.next=5,n.radiologyService.createEncounter();case 5:return e.next=7,n.radiologyService.obsObj(r);case 7:return a=e.sent,e.next=10,n.radiologyService.saveObservationList(a);case 10:return i=e.sent,e.next=13,n.radiologyService.printOrders(r,n.patient);case 13:if(!n.isPacsEnabled){e.next=22;break}return e.prev=14,e.next=17,n.radiologyService.submitToPacs(i,n.patient);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](14),console.log(e.t0);case 22:n.gotoPatientDashboard();case 23:case"end":return e.stop()}}),e,null,[[14,19]])})))()},getTableData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.radiologyService.getPreviousRadiologyExaminations(e.patient);case 2:for(c in n=t.sent,r=n.data,a=n.url,i=["Accession#","Body Part","Order Type","Ordered","Result"],o=[],r)s=[r[c].children[0].accession_number,r[c].value_text,r[c].children[0].value_text,f()(r[c].obs_datetime).format("DD/MMM/YYYY"),'<ion-button slot="end" size="large" href="'.concat(a,'" color="success">\n            View\n          </ion-button>')],o.push(s);return t.abrupt("return",[{label:"",value:"",other:{columns:i,rows:o}}]);case 9:case"end":return t.stop()}}),t)})))()},getFields:function(){var e=this;return[{id:"radiology_results",helpText:"Previous Radiology Examinations",condition:function(){return e.radiologyService.showPreviousRadiolgy(e.patient)},type:l["b"].TT_TABLE_VIEWER,options:function(t){return e.getTableData()},config:{hiddenFooterBtns:["Clear"]}},{id:"radiology",helpText:"Radiology Examination",type:l["b"].TT_RADIOLOGY_PICKER,validation:function(e){return d["a"].required(e)},computedValue:function(t){return t.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=5,e.radiologyService.buildValueCoded("Radiology Orders",n.other.parent);case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=10,e.radiologyService.buildValueCodedFromConceptId(n.other.parent,n.other.concept_id);case 10:return t.t6=t.sent,t.t7={child:t.t6},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t7));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]}}}),v=n("d959"),g=n.n(v);const m=g()(h,[["render",a]]);t["default"]=m}}]);
//# sourceMappingURL=chunk-2d0cf669.593c52df.js.map