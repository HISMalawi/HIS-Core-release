{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/ANC/Views/DataManagement/AncDrugSet.vue","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/components/Forms/HisStandardForm.vue"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","key","hisFormKey","activeField","fieldComponent","skipSummary","fields","onOnIndex","$event","onOnFinish","onFinish","_","defineComponent","components","HisStandardForm","IonPage","data","allDrugs","service","created","getFields","methods","computedData","AncDrugSetService","saveDrugSet","toastSuccess","$router","back","toastWarning","e","id","helpText","type","FieldType","TT_TEXT","computedValue","v","value","validation","Validation","validateSeries","required","match","TT_MULTIPLE_SELECT","config","showKeyboard","options","isEmpty","DrugService","getDrugs","map","d","label","name","other","TT_ANC_DRUGSET_INPUT","quantity","frequency","every","Boolean","fdata","drug_selection","drugFrequencies","Object","keys","DRUG_FREQUENCIES","k","__exports__","DrugOrderService","Service","constructor","orders","postJson","getProgramID","dispensations","order","getSessionDate","patientID","getJson","pageSize","drugID","date","params","patientId","_resolveDynamicComponent","formType","cancelDestinationPath","onFinishAction","onIndex","TouchScreenForm","emits","props","Function","String","formData","this","$emit","i","AncTreatmentService","AppEncounterService","providerID","ttvDrugObj","dispensed","dispenseTTV","orderID","order_id","updateDispensationOrders","createOrders","create","getEncounterID","drugs","createEncounter","o","buildDrugOrderObj","dispensation","forEach","duration","drug_inventory_id","drug","startDate","Date","expiryDate","setDate","getDate","parseInt","dose","dailyEquivalentDose","parseFloat","HisDate","toStandardHisFormat","drug_name","units","drugSet","setID","void","reduce","sets","setKey","description","push","a"],"mappings":"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","file":"js/chunk-56873b06.b0ad69a7.js","sourcesContent":["import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createBlock(_resolveDynamicComponent(_ctx.formType), {\n    fields: _ctx.fields,\n    skipSummary: _ctx.skipSummary,\n    activeField: _ctx.activeField,\n    cancelDestinationPath: _ctx.cancelDestinationPath,\n    onOnFinish: _ctx.onFinish,\n    onFinish: _ctx.onFinishAction,\n    onOnIndex: _ctx.onIndex\n  }, null, 8, [\"fields\", \"skipSummary\", \"activeField\", \"cancelDestinationPath\", \"onOnFinish\", \"onFinish\", \"onOnIndex\"]))\n}","\nimport TouchScreenForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport { defineComponent, PropType } from \"vue\";\nimport { Field } from \"./FieldInterface\";\n\nexport default defineComponent({\n    name: \"HisStandardForm\",\n    components: { TouchScreenForm },\n    emits: [\n        'onFinish',\n        'onIndex'\n    ],\n    data: () => ({\n        formType: 'touch-screen-form' as string\n    }),\n    props: {\n        onFinishAction: {\n            type: Function\n        },\n        skipSummary: {\n            type: Boolean,\n            default: false\n        },\n        activeField: {\n            type: String\n        },\n        fields: {\n            type: Object as PropType<Field[]>,\n            required: true\n        },\n        cancelDestinationPath: {\n            type: String,\n            required: false,\n        }\n    },\n    methods: {\n        onFinish(formData: any, computedData: any) {\n            this.$emit('onFinish', formData, computedData)\n        },\n        onIndex(i: number) {\n            this.$emit('onIndex', i)\n        }\n    }\n})\n","import { render } from \"./AncDrugSet.vue?vue&type=template&id=a2705bc2&ts=true\"\nimport script from \"./AncDrugSet.vue?vue&type=script&lang=ts\"\nexport * from \"./AncDrugSet.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { Service } from \"@/services/service\";\n\nexport interface AncDrugSetDrugs {\n    drug: number;\n    drug_name?: string;\n    quantity: number;\n    duration?: number;\n    frequency: string;\n}\n\nexport interface NewDrugSet {\n    id?: number;\n    datetime?: string;\n    name: string;\n    description: string;\n    drugs: AncDrugSetDrugs[];\n}\n\nexport class AncDrugSetService extends Service {\n    static saveDrugSet(drugSet: NewDrugSet) {\n        const data  = {...drugSet}\n        data['datetime'] = Service.getSessionDate()\n        return this.postJson('/drug_sets', drugSet)\n    }\n\n    static voidDrugSet(setID: number) {\n        return this.void(`/drug_sets/${setID}`, { date: this.getSessionDate()})\n    }\n\n    static async getDrugSets() {\n        const data = await this.getJson('drug_sets')\n        if (data) {\n            return Object.keys(data['set_names'])\n                .reduce((sets: Array<any>, setKey: string) => {\n                    const name = data['set_names'][setKey]\n                    const description = data['set_descriptions'][setKey]\n                    const drugs = data['drug_sets'][setKey]\n                    sets.push({\n                        id: parseInt(setKey),\n                        name,\n                        description,\n                        drugs: Object.keys(drugs).reduce(\n                            (a: any, k: string) => [\n                                ...a, { \n                                    'id': parseInt(k), ...drugs[k],\n                                    'drug_name': drugs[k].drug_name,\n                                    'duration': parseInt(drugs[k].duration),\n                                    'frequency': drugs[k].frequency,\n                                    'units': drugs[k].units,\n                                }], []\n                        )\n                    })\n                    return sets\n                }, [])\n        }\n        return []\n    }\n}","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}