(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e5e7c5f"],{3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return b}));var r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],a=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],i=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],o=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],u=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],s=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],l=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],p=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],f=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],b=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"3b8c":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),u=n("2caf"),c=(n("ac1f"),n("466d"),n("99af"),n("d3b7"),n("159b"),n("d81d"),n("96cf"),n("cc6f")),s=n("7957"),l=n("5a0c"),d=n.n(l),p=n("2ef0"),f=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(e,r){return Object(a["a"])(this,n),t.call(this,e,53,r)}return Object(i["a"])(n,[{key:"getFamilyPlanningMethods",value:function(){return["ORAL CONTRACEPTIVE PILLS","DEPO-PROVERA","INTRAUTERINE CONTRACEPTION","CONTRACEPTIVE IMPLANT","MALE CONDOMS","FEMALE CONDOMS","TUBAL LIGATION","NONE"]}},{key:"getTptTreatmentStatus",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].getJson("/patients/".concat(this.patientID,"/tpt_status")));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"patientHitMenopause",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getFirstObs(this.patientID,"Why does the woman not use birth control");case 2:return t=e.sent,e.abrupt("return",!(!t||"string"!==typeof(null===t||void 0===t?void 0:t.value_text))&&(!!t.value_text.match(/menopause/i)&&c["a"].obsInValidPeriod(t)));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasTreatmentHistoryObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getFirstObs(this.patientID,"Previous TB treatment history");case 2:return t=e.sent,e.abrupt("return",t&&c["a"].obsInValidPeriod(t));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDrugSideEffects",value:function(){return c["a"].getJson("programs/".concat(c["a"].getProgramID(),"/patients/").concat(this.patientID,"/medication_side_effects"),{date:this.date})}},{key:"getClient",value:function(){return c["a"].getFirstValueCoded(this.patientID,"Patient present")}},{key:"clientDueForCxCa",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getJson("last_cxca_screening_details",{id:this.patientID,date:this.date});case 2:if(t=e.sent,Object(p["isEmpty"])(t)){e.next=7;break}return n=t["date_screened"],r=d()(this.date).diff(n,"years"),e.abrupt("return",r>=1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clientHasHadAHysterectomy",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getFirstValueCoded(this.patientID,"Reason for NOT offering CxCa");case 2:if(t=e.sent,"Hysterectomy"!==t){e.next=5;break}return e.abrupt("return",!0);case 5:return e.next=7,c["a"].getFirstValueText(this.patientID,"Treatment");case 7:if(n=e.sent,"Hysterectomy"!==n){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTLObs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=function(e){return e&&"Tubal ligation"===e.value_coded&&c["a"].obsInValidPeriod(e)},e.next=3,c["a"].getFirstObs(this.patientID,"Family planning");case 3:if(n=e.sent,!t(n)){e.next=8;break}return e.abrupt("return",t(n));case 8:return e.next=10,c["a"].getFirstObs(this.patientID,"Method of family planning");case 10:return r=e.sent,e.abrupt("return",t(r));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPreviousDrugs",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].getJson("patients/".concat(this.patientID,"/drugs_received"));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return n={},t.forEach((function(e){n[e.drug_inventory_id]=e})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"familyPlanningMethods",value:function(e,t){var n={"ORAL CONTRACEPTIVE PILLS":{"DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"DEPO-PROVERA":{"ORAL CONTRACEPTIVE PILLS":"N","INTRAUTERINE CONTRACEPTION":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"INTRAUTERINE CONTRACEPTION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","CONTRACEPTIVE IMPLANT":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"CONTRACEPTIVE IMPLANT":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"MALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","FEMALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"FEMALE CONDOMS":{"ORAL CONTRACEPTIVE PILLS":"Y","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"Y","CONTRACEPTIVE IMPLANT":"Y","MALE CONDOMS":"Y","RYTHM METHOD":"Y","TUBAL LIGATION":"N",VASECTOMY:"Y"},"RYTHM METHOD":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"Y","CONTRACEPTIVE IMPLANT":"N","TUBAL LIGATION":"N",VASECTOMY:"N"},"TUBAL LIGATION":{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N",VASECTOMY:"N"},VASECTOMY:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"Y","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"Y","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"Y","RYTHM METHOD":"N","TUBAL LIGATION":"N"},NONE:{"ORAL CONTRACEPTIVE PILLS":"N","DEPO-PROVERA":"N","INTRAUTERINE CONTRACEPTION":"N","MALE CONDOMS":"N","FEMALE CONDOMS":"N","CONTRACEPTIVE IMPLANT":"N","RYTHM METHOD":"N","TUBAL LIGATION":"N"}},r=n[e];return t.map((function(e){return"N"===r[e.label]?{label:e.label,value:e.value,isChecked:!1,disabled:!0}:{label:e.label,value:e.value,isChecked:e.isChecked,disabled:!1}}))}}]),n}(c["a"])},"5f2c":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),u=n("2caf"),c=(n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("4e82"),n("96cf"),n("cc6f")),s=n("71c3"),l=n("1c74"),d=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(a["a"])(this,n),t.call(this)}return Object(i["a"])(n,null,[{key:"fetchAvailableDrugStock",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("pharmacy/items",{drug_id:t});case 2:if(n=e.sent,!(n&&n.length>0)){e.next=5;break}return e.abrupt("return",n.reduce((function(e,t){return e+t.current_quantity}),0));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(l["e"]),p=n("d1ca"),f={11:[30],21:[25],22:[60],24:[30,60,90,100],30:[90],39:[60],73:[120],74:[60],76:[1e3],297:[30,60,90],576:[30,60,90],613:[60],731:[60],732:[60],733:[60],734:[30],735:[30],736:[60],738:[60],931:[12,30,60],932:[30],954:[60],963:[30,60,90],968:[60],969:[30],971:[30,60,90],976:[60],977:[30],982:[30],983:[30,90],1039:[30,60,90],1043:[60],1044:[30],1056:[24],1216:[3,6,12]},b=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(e,r){var i;return Object(a["a"])(this,n),i=t.call(this,e,54,r),i.drugHistory=[],i.currentDrugOrder=[],i.useDrugManagement=!1,i}return Object(i["a"])(n,[{key:"setIsDrugManagementEnabled",value:function(e){this.useDrugManagement=e}},{key:"loadDrugManagementEnabled",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["b"].drugManagementEnabled();case 2:this.useDrugManagement=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDrugHistory",value:function(){return this.drugHistory}},{key:"getCurrentOrder",value:function(){return this.currentDrugOrder}},{key:"buildDispensations",value:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push({drug_order_id:e,date:this.date,quantity:t/n});return r}},{key:"saveDispensations",value:function(e){return c["a"].postJson("/dispensations",{dispensations:e,program_id:c["a"].getProgramID()})}},{key:"voidOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].void("/dispensations/".concat(t),{}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadDrugHistory",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s["a"].getDrugOrderHistory(this.patientID);case 3:t=e.sent,t&&(this.drugHistory=t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadCurrentDrugOrder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].getDrugOrders(this.patientID);case 2:if(t=e.sent,!t){e.next=11;break}if(!this.useDrugManagement){e.next=10;break}return n=t.map(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.fetchAvailableDrugStock(t.drug.drug_id);case 2:return t["available_stock"]=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8,Promise.all(n);case 8:return this.currentDrugOrder=e.sent,e.abrupt("return");case 10:this.currentDrugOrder=t;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDrugPackSizes",value:function(e){return e in f?f[e]:[30,60,90]}},{key:"calcCompletePack",value:function(e,t){var n=e.barcodes.sort((function(e,t){return e.tabs-t.tabs}));if(0==n.length||0==t)return t;for(var r in n){var a=n[r].tabs;if(parseInt(a)>=t)return a}var i=parseInt(n[n.length-1].tabs);return i}}]),n}(c["a"])},"68ed":function(e,t,n){},"6be2":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return f}));var r=n("3800"),a=[r["k"],[["","Delete"]]],i=[r["i"],[["Delete"]]],o=[r["i"],[["Delete","Unknown"]]],u=[r["i"],[["N/A"],["Delete","Unknown"]]],c=[r["i"],[["Delete"]]],s=[r["i"],[["Unknown","Delete"],["Qwerty","A-Z"]]],l=[r["g"],[["Unknown"]]],d=[r["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],p=[r["j"],[["","Delete"],["?123","0-9"],["Space","Unknown"]]],f=[{btn:"0-9",keyboard:s},{btn:"?123",keyboard:a},{btn:"A-Z",keyboard:d},{btn:"Qwerty",keyboard:p}]},"6c3f":function(e,t,n){"use strict";n.r(t);var r=n("7a23");function a(e,t,n,a,i,o){var u=Object(r["resolveComponent"])("his-standard-form");return Object(r["openBlock"])(),Object(r["createBlock"])(u,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}var i=n("5530"),o=n("53ca"),u=n("2909"),c=n("1da1"),s=(n("96cf"),n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("ac1f"),n("466d"),n("caad"),n("2532"),n("d81d"),n("b0c0"),n("a9e3"),n("b64b"),n("07ac"),n("00b4"),n("d95e")),l=n("7920"),d=n("2706"),p=n("b5e4"),f=n("9283"),b=n("2ef0"),m=n("3b8c"),h=n("c1e4"),v=n("9b7c"),g=n("8158"),O=n("fe96"),T=n("8a30"),y=Object(r["withScopeId"])("data-v-10a26cd2");Object(r["pushScopeId"])("data-v-10a26cd2");var C=Object(r["createTextVNode"])("VL milestone has been reached"),x=Object(r["createTextVNode"])(" Order VL"),N=Object(r["createTextVNode"])(" Wait till next milestone"),E=Object(r["createTextVNode"])(" Remind me later ");Object(r["popScopeId"])();var R=y((function(e,t,n,a,i,o){var u=Object(r["resolveComponent"])("ion-title"),c=Object(r["resolveComponent"])("ion-toolbar"),s=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-content"),d=Object(r["resolveComponent"])("ion-button"),p=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:y((function(){return[Object(r["createVNode"])(c,null,{default:y((function(){return[Object(r["createVNode"])(u,null,{default:y((function(){return[C]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{style:{overflowY:"hidden",background:"grey"}},{default:y((function(){return[Object(r["createVNode"])("p",null,"ART start date : "+Object(r["toDisplayString"])(e.artStartDate),1),Object(r["createVNode"])("p",null,"Months on ART: "+Object(r["toDisplayString"])(e.monthsOnART),1),Object(r["createVNode"])("p",null,"Last VL order date "+Object(r["toDisplayString"])(e.lastOrder),1),Object(r["createVNode"])("p",null,"Current regimen / start date: "+Object(r["toDisplayString"])(e.currentRegimen)+" - "+Object(r["toDisplayString"])(e.regimenStartDate),1)]})),_:1}),Object(r["createVNode"])(p,null,{default:y((function(){return[Object(r["createVNode"])(c,null,{default:y((function(){return[Object(r["createVNode"])(d,{slot:"end",color:"success",size:"large",onClick:t[1]||(t[1]=function(t){return e.closeModal("order")})},{default:y((function(){return[x]})),_:1}),Object(r["createVNode"])(d,{slot:"end",size:"large",onClick:t[2]||(t[2]=function(t){return e.closeModal("wait")})},{default:y((function(){return[N]})),_:1}),Object(r["createVNode"])(d,{slot:"start",color:"danger",size:"large",onClick:t[3]||(t[3]=function(t){return e.closeModal("later")})},{default:y((function(){return[E]})),_:1})]})),_:1})]})),_:1})],64)})),w=Object(r["defineComponent"])({name:"Modal",props:{VLData:{type:Object,required:!0}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.artStartDate=f["c"].toStandardHisDisplayFormat(e.VLData.earliest_start_date),e.monthsOnART=e.VLData.period_on_art,e.lastOrder=e.VLData.last_order_date?f["c"].toStandardHisDisplayFormat(e.VLData.last_order_date):"N/A",e.currentRegimen=e.VLData.current_regimen.name?e.VLData.current_regimen.name:"Other",e.regimenStartDate=f["c"].toStandardHisDisplayFormat(e.VLData.current_regimen.date_started);case 5:case"end":return t.stop()}}),t)})))()},methods:{closeModal:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["modalController"].dismiss(e);case 2:case"end":return t.stop()}}),t)})))()}},data:function(){return{content:"Content",artStartDate:"",monthsOnART:"",lastOrder:"",currentRegimen:"",regimenStartDate:""}},components:{IonHeader:T["IonHeader"],IonToolbar:T["IonToolbar"],IonTitle:T["IonTitle"],IonContent:T["IonContent"],IonFooter:T["IonFooter"],IonButton:T["IonButton"]}}),_=(n("d42f"),n("d959")),I=n.n(_);const P=I()(w,[["render",R],["__scopeId","data-v-10a26cd2"]]);var S=P,k=n("ad60"),D=n("d4ec"),j=n("bee2"),A=n("262e"),V=n("2caf"),L=n("cc6f"),M=function(e){Object(A["a"])(n,e);var t=Object(V["a"])(n);function n(e,r){return Object(D["a"])(this,n),t.call(this,e,13,r)}return Object(j["a"])(n,[{key:"buildDefferedOrder",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L["a"].getConceptID("HIV viral load");case 2:return n=e.sent,e.next=5,L["a"].getConceptID("Delayed milestones");case 5:return r=e.sent,e.abrupt("return",[{concept_id:n,value_text:"Wait till next milestone",value_coded:r,value_numeric:t}]);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(L["a"]),H=n("7f35"),F=Object(r["withScopeId"])("data-v-546674a2");Object(r["pushScopeId"])("data-v-546674a2");var B=Object(r["createTextVNode"])("Side effects suspected causes"),Y={style:{}},U=Object(r["createVNode"])("div",{class:"side-title"}," Select reason ",-1),q=Object(r["createVNode"])("p",null,"Current Medication",-1),W=Object(r["createVNode"])("p",null,"Previous Medication",-1),G=Object(r["createTextVNode"])("Other, not drug related"),z=Object(r["createTextVNode"])("Drug side effect"),J=Object(r["createVNode"])("p",null,null,-1),K=Object(r["createTextVNode"])(" Close "),Q=Object(r["createTextVNode"])(" Save ");Object(r["popScopeId"])();var X=F((function(e,t,n,a,i,o){var u=Object(r["resolveComponent"])("ion-title"),c=Object(r["resolveComponent"])("ion-toolbar"),s=Object(r["resolveComponent"])("ion-header"),l=Object(r["resolveComponent"])("ion-label"),d=Object(r["resolveComponent"])("ion-item"),p=Object(r["resolveComponent"])("ion-list"),f=Object(r["resolveComponent"])("ion-col"),b=Object(r["resolveComponent"])("ion-radio"),m=Object(r["resolveComponent"])("ion-radio-group"),h=Object(r["resolveComponent"])("ion-row"),v=Object(r["resolveComponent"])("ion-grid"),g=Object(r["resolveComponent"])("ion-content"),O=Object(r["resolveComponent"])("ion-button"),T=Object(r["resolveComponent"])("ion-footer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(s,null,{default:F((function(){return[Object(r["createVNode"])(c,null,{default:F((function(){return[Object(r["createVNode"])(u,null,{default:F((function(){return[B]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(g,{style:{overflowY:"hidden",background:"grey"}},{default:F((function(){return[Object(r["createVNode"])(v,null,{default:F((function(){return[Object(r["createVNode"])(h,null,{default:F((function(){return[Object(r["createVNode"])(f,{size:"4"},{default:F((function(){return[Object(r["createVNode"])(p,{style:{overflowY:"auto",height:"78vh"}},{default:F((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.sides,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:t,onClick:function(t){return e.selectSideEffect(n)},detail:!0,style:e.activeIndex===n?"color: green":"color: black"},{default:F((function(){return[Object(r["createVNode"])(l,null,{default:F((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.label),1)]})),_:2},1024)]})),_:2},1032,["onClick","style"])})),128))]})),_:1})]})),_:1}),Object(r["createVNode"])(f,{style:{overflowY:"auto",height:"78vh"}},{default:F((function(){return[Object(r["createVNode"])("div",Y,[Object(r["createVNode"])(p,null,{default:F((function(){return[null!==e.activeIndex?(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:0,modelValue:e.sides[e.activeIndex]["reason"],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.sides[e.activeIndex]["reason"]=t})},{default:F((function(){return[U,q,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.drugs,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:t},{default:F((function(){return[Object(r["createVNode"])(l,null,{default:F((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.drug.name),1)]})),_:2},1024),Object(r["createVNode"])(b,{slot:"start",value:e.drug_inventory_id},null,8,["value"])]})),_:2},1024)})),128)),W,Object(r["createVNode"])(d,null,{default:F((function(){return[Object(r["createVNode"])(l,null,{default:F((function(){return[G]})),_:1}),Object(r["createVNode"])(b,{slot:"start",value:"other"})]})),_:1}),Object(r["createVNode"])(d,null,{default:F((function(){return[Object(r["createVNode"])(l,null,{default:F((function(){return[z]})),_:1}),Object(r["createVNode"])(b,{slot:"start",value:"drug"})]})),_:1})]})),_:1},8,["modelValue"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]),J]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])(T,null,{default:F((function(){return[Object(r["createVNode"])(c,null,{default:F((function(){return[Object(r["createVNode"])(O,{onClick:e.closeModal,slot:"end",color:"danger"},{default:F((function(){return[K]})),_:1},8,["onClick"]),Object(r["createVNode"])(O,{onClick:e.postSideEffects,slot:"end",disabled:!e.allSelected},{default:F((function(){return[Q]})),_:1},8,["onClick","disabled"])]})),_:1})]})),_:1})],64)})),Z=Object(r["defineComponent"])({name:"Modal",props:{sideEffects:{type:Object,required:!0},drugs:{type:Array,default:[]}},methods:{closeModal:function(){T["modalController"].dismiss()},postSideEffects:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T["modalController"].dismiss(e.sides);case 2:case"end":return t.stop()}}),t)})))()},selectSideEffect:function(e){this.activeIndex=e}},computed:{allSelected:function(){return this.sides.filter((function(e){return e["reason"]})).length===this.sides.length}},mounted:function(){this.sides=this.sideEffects},data:function(){return{content:"Content",extendedLabsEnabled:!1,appActivities:[],sides:[],specimens:[],reasons:["Routine","Targeted","Confirmatory","Stat","Repeat / Missing"],activeIndex:null}},components:{IonButton:T["IonButton"],IonContent:T["IonContent"],IonHeader:T["IonHeader"],IonTitle:T["IonTitle"],IonToolbar:T["IonToolbar"],IonLabel:T["IonLabel"],IonList:T["IonList"],IonItem:T["IonItem"],IonRadioGroup:T["IonRadioGroup"],IonRow:T["IonRow"]}});n("e96c");const $=I()(Z,[["render",X],["__scopeId","data-v-546674a2"]]);var ee=$,te=n("d1ca"),ne=n("b446"),re=n("9ceb"),ae=n("8df6"),ie=n("dac2"),oe=n("5f2c"),ue=n("4db7"),ce=n("8e8b"),se=n("e86e"),le=n("6d32"),de=Object(r["defineComponent"])({mixins:[O["a"]],components:{HisStandardForm:l["a"]},data:function(){return{fields:[],currentWeight:-1,weightTrail:[],customRegimens:[],labOrders:[],weightLossPercentageNum:0,lostTenPercentBodyWeight:!1,CxCaEnabled:!1,CxCaStartAge:-1,CxCaMaxAge:-1,DueForCxCa:!1,currentlyPregnant:!1,patientHitMenopause:!1,hasPregnancyObsToday:!1,autoSelect3HP:!1,labOrderFieldContext:{},consultation:{},prescription:{},dispensation:{},completed3HP:!1,hasTbHistoryObs:!1,allergicToSulphur:!1,TBSuspected:!1,presentedTBSymptoms:!1,askAdherence:!1,lastDrugsReceived:[],sideEffectsHistory:{},onPermanentFPMethods:!1,reasonForDecliningTPTObs:{},malawiSideEffectReasonObs:[],otherSideEffectReasonObs:[],wasTransferredIn:!1,dateStartedArt:"",clientHadAHysterectomy:!1,isNoneClientPatient:!1,tptStatus:{},customDrugs:[]}},watch:{ready:{handler:function(e){e&&(this.consultation=new m["a"](this.patientID,this.providerID),this.prescription=new ie["a"](this.patientID,this.providerID),this.dispensation=new oe["a"](this.patientID,this.providerID),this.fields=this.getFields())},immediate:!0}},methods:{onFinish:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,i,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.consultation.createEncounter();case 2:if(a=r.sent,a){r.next=5;break}return r.abrupt("return",Object(p["e"])("Unable to create encounter"));case 5:return r.next=7,n.resolveObs(t,"consultation");case 7:return i=r.sent,r.next=10,Promise.all([].concat(Object(u["a"])(n.malawiSideEffectReasonObs),Object(u["a"])(n.otherSideEffectReasonObs),[n.reasonForDecliningTPTObs]));case 10:return o=r.sent.filter((function(e){return!Object(b["isEmpty"])(e)})),r.next=13,n.consultation.saveObservationList([].concat(Object(u["a"])(i),Object(u["a"])(o)));case 13:if(c=r.sent,Object(b["isEmpty"])(n.drugObs)||n.isNoneClientPatient){r.next=17;break}return r.next=17,n.saveAdherence();case 17:if(c){r.next=19;break}return r.abrupt("return",Object(p["e"])("Unable to save patient observations"));case 19:if(Object(p["d"])("Observations and encounter created!"),!e.refer_to_clinician||"Yes"!==e.refer_to_clinician.value){r.next=23;break}return n.gotoPatientDashboard(),r.abrupt("return");case 23:n.nextTask();case 24:case"end":return r.stop()}}),r)})))()},getTptDrugs:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=[],a=e.routine_tb_therapy.value,!Object(b["isEmpty"])(t.customDrugs)){n.next=6;break}return n.next=5,le["a"].getCustomIngridients();case 5:t.customDrugs=n.sent;case 6:return a.match(/ipt/i)?r.push("INH or H (Isoniazid 300mg tablet)"):a.includes("3HP (RFP + INH)")?(r.push("INH or H (Isoniazid 300mg tablet)"),r.push("Rifapentine (150mg)")):a.includes("INH 300 / RFP 300 (3HP)")&&r.push("INH 300 / RFP 300 (3HP)"),n.abrupt("return",Object(b["isEmpty"])(r)?[]:t.customDrugs.filter((function(e){return r.includes(e.name)})).map((function(e){return{label:e.name,value:"",other:e}})));case 8:case"end":return n.stop()}}),n)})))()},getTransferInStatus:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].getFirstValueCoded(e.patientID,"Ever received ART");case 2:return n=t.sent,t.next=5,m["a"].getFirstObs(e.patientID,"Has transfer letter");case 5:return r=t.sent,a=r?f["c"].toStandardHisFormat(r.obs_datetime):"",t.abrupt("return",n&&n.match(/yes/i)&&r&&"".concat(r.value_coded).match(/yes/i)&&a===e.consultation.getDate());case 8:case"end":return t.stop()}}),t)})))()},getDateStartedArt:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m["a"].getFirstValueDatetime(e.patientID,"Date ART started");case 2:return n=t.sent,t.abrupt("return",n?f["c"].toStandardHisFormat(n):"");case 4:case"end":return t.stop()}}),t)})))()},checkIfWeightLossIsControlled:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.lostTenPercentBodyWeight&&"".concat(e.label).match(/malnutrition/i)&&"".concat(e.value).match(/no/i))){n.next=5;break}return n.next=3,Object(H["a"])("Recommendation","Patient's weight has dropped by ".concat(t.weightLossPercentageNum,"% , is this controlled weight loss??"),"Please verify",[{name:"Confirm weight loss",slot:"start",color:"success"},{name:"Confirm controlled",slot:"end",color:"primary"}]);case 3:r=n.sent,e.value="Confirm weight loss"===r?"Yes":"No";case 5:case"end":return n.stop()}}),n)})))()},checkVLReminder:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k["a"].getPatientVLInfo(e.patientID);case 2:if(n=t.sent,!0!==n.eligibile){t.next=23;break}return t.next=6,T["modalController"].create({component:S,backdropDismiss:!1,cssClass:"large-modal",componentProps:{VLData:n}});case 6:return r=t.sent,r.present(),t.next=10,r.onDidDismiss();case 10:a=t.sent,i=a.data,t.t0=i,t.next="order"===t.t0?15:"wait"===t.t0?18:"later"===t.t0?21:22;break;case 15:return t.next=17,e.labOrderFieldContext.launchOrderSelection();case 17:return t.abrupt("break",23);case 18:return t.next=20,e.waitForVL();case 20:return t.abrupt("break",23);case 21:return t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}}),t)})))()},waitForVL:function(){var e=arguments,t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,a=new M(t.patientID,t.providerID),n.next=4,a.createEncounter();case 4:return i=n.sent,n.next=7,a.buildDefferedOrder(r);case 7:if(o=n.sent,i){n.next=10;break}return n.abrupt("return",Object(p["e"])("Unable to create encounter"));case 10:return n.next=12,a.saveObservationList(o);case 12:case"end":return n.stop()}}),n)})))()},canScreenCxCa:function(){var e=this.patient.getAge();return this.patient.isFemale()&&this.DueForCxCa&&this.CxCaEnabled&&e>=this.CxCaStartAge&&e<=this.CxCaMaxAge&&!this.clientHadAHysterectomy},pregnancyEligible:function(){return this.patient.isChildBearing()&&!this.onPermanentFPMethods},showCurrentContraceptionMethods:function(e){return this.pregnancyEligible()&&!this.patientHitMenopause&&!this.isPregnant(e)&&!this.isANCclient()},showNewContraceptionMethods:function(e){return this.pregnancyEligible()&&!this.patientHitMenopause&&!this.isPregnant(e)&&!this.isOnTubalLigation(e)&&!this.isANCclient()},isPregnant:function(e){return e.pregnant_breastfeeding?this.inArray(e.pregnant_breastfeeding,(function(e){return"Pregnant"===e.label&&"Yes"===e.value})):this.currentlyPregnant},isOnTubalLigation:function(e){return this.inArray(e.current_fp_methods,(function(e){return"TUBAL LIGATION"===e.value}))},disableFPMethods:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.isChecked||"NONE"!==t.label){r.next=4;break}return r.abrupt("return",e.map((function(e){return"NONE"!=e.label&&(e.isChecked=!1,e.disabled=!1),e})));case 4:if("NONE"==t.label||!t.isChecked){r.next=14;break}return t.label.match(/condom/gi)&&Object(p["b"])("Combine with other modern methods of family planning"),a=Object(b["findIndex"])(e,{label:"NONE"}),e[a].isChecked=!1,i=n.consultation.familyPlanningMethods(t.label,e),o=Object(b["findIndex"])(i,{label:t.label}),i[o].isChecked=!0,r.abrupt("return",i);case 14:return r.abrupt("return",e.map((function(e){return e.disabled=!1,e})));case 15:case"end":return r.stop()}}),r)})))()},disablePrescriptions:function(e,t){if(t.isChecked&&"NONE OF THE ABOVE"===t.label)return e.map((function(e){return"NONE OF THE ABOVE"!=e.label&&(e.isChecked=!1),e}));if("NONE OF THE ABOVE"!=t.label&&t.isChecked){var n=Object(b["findIndex"])(e,{label:"NONE OF THE ABOVE"});e[n].isChecked=!1}return e},buildMedicationOrders:function(e){var t=this;if(this.inArray(e,(function(e){return"NONE OF THE ABOVE"===e.label})))return this.consultation.buildValueCoded("Prescribe drugs","No");var n=this.consultation.buildValueCoded("Prescribe drugs","Yes"),r=e.map((function(e){return t.consultation.buildValueCoded("Medication orders",e.label)}));return[n].concat(Object(u["a"])(r))},declinedFPM:function(e){return this.inArray(e.fp_methods,(function(e){return"NONE"===e.value}))&&this.inArray(e.current_fp_methods,(function(e){return"NONE"===e.value}))},riskOfUnplannedPregnancy:function(e){return"At risk of unplanned pregnancy"===e.reason_for_no_fpm.value},showOtherSideEffects:function(e){return this.inArray(e.side_effects,(function(e){return"Other"===e.label&&"Yes"===e.value}))},hasTBSymptoms:function(e){return this.presentedTBSymptoms=this.inArray(e.tb_side_effects,(function(e){return"Yes"===e.value})),this.presentedTBSymptoms},buildSideEffectObs:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var a,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,n.getSideEffectsReasons(e);case 2:if(a=r.sent,n[t]=[],void 0!==a){r.next=6;break}return r.abrupt("return",!1);case 6:return-1!=a&&(i=g["a"].getCachedConceptID("Drug induced",!0),o=function(e){return!!"".concat(e).match(/other|drug/i)},n[t]=a.map((function(e){return{concept_id:i,value_coded:g["a"].getCachedConceptID(e.label,!0),value_text:o(e.reason)?"Past medication history":null,value_drug:o(e.reason)?null:e.reason}}))),r.abrupt("return",!0);case 8:case"end":return r.stop()}}),r)})))()},getSideEffectsReasons:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.filter((function(e){return!"".concat(e.label).match(/other/i)&&"Yes"===e.value})),!(r.length>0)){n.next=11;break}return n.next=4,T["modalController"].create({component:ee,backdropDismiss:!1,cssClass:"large-modal",componentProps:{sideEffects:r,drugs:t.lastDrugsReceived}});case 4:return a=n.sent,a.present(),n.next=8,a.onDidDismiss();case 8:return i=n.sent,o=i.data,n.abrupt("return",o);case 11:return n.abrupt("return",-1);case 12:case"end":return n.stop()}}),n)})))()},getFPMethods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.consultation.getFamilyPlanningMethods(),r=n.filter((function(t){return!e.includes(t)}));return r.map((function(e){return{label:e,value:e,isChecked:t.map((function(e){return e.label})).includes(e)}}))},getOptions:function(e,t){var n=this;return e.map((function(e){var r=Object(b["find"])(t,{label:e});return{label:e,value:r?r.value:"",other:{values:n.yesNoOptions()}}}))},getContraindications:function(e){var t=g["a"].getConceptsByCategory("contraindication",!0).map((function(e){return e.name}));return this.getOptions([].concat(Object(u["a"])(t),["Other"]),e)},getOtherContraindications:function(e){var t=g["a"].getConceptsByCategory("side_effect",!0).map((function(e){return e.name})),n=t.pop();return this.getOptions([].concat(Object(u["a"])(t),["Other (Specify)","".concat(n)]),e)},getTBSymptoms:function(e){var t=g["a"].getConceptsByCategory("tb_symptom",!0).map((function(e){return e.name}));return this.getOptions(Object(u["a"])(t),e)},getReasonsForNoCxcaOptions:function(){return g["a"].getConceptsByCategory("reason_for_no_cxca").map((function(e){return{label:e.name,value:e.name,other:{c:e}}}))},runAppendOptionParams:function(e,t){var n=t.filter((function(e){return e.isChecked})).map((function(e){return e.label}));return e.map((function(e){var t;if("function"===typeof(null===e||void 0===e||null===(t=e.other)||void 0===t?void 0:t.appendOptionParams)){var r,a=null===e||void 0===e||null===(r=e.other)||void 0===r?void 0:r.appendOptionParams();if("object"===Object(o["a"])(a)){var u={label:e.label,value:e.value,other:e.other};return a.isChecked?(u.isChecked=a.isChecked,delete a.isChecked):u.isChecked=n.includes(e.label),Object(i["a"])(Object(i["a"])({},u),a)}}return e}))},didCompleted3HP:function(e){return!!this.completed3HP||!(!e.routine_tb_therapy||!e.routine_tb_therapy.value.match(/complete/i))},tptAutoSelectionMode:function(e){return this.autoSelect3HP&&!this.didCompleted3HP(e)},on3HPValueUpdate:function(e,t,n){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i,o,u,c,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=function(e){return!!e.label.match(/IPT|3HP/i)},o=function(){var t=e.reduce((function(e,t){return i(t)&&!(t.label in e)&&t.isChecked&&e.push(t.label),e}),[]);return t.includes("IPT")&&(t.includes("3HP (RFP + INH)")||t.includes("INH 300 / RFP 300 (3HP)"))}(),u=i(t)&&e.filter((function(e){return i(e)})).map((function(e){return!e.isChecked})).every(Boolean),!u||!r.tptAutoSelectionMode(n)){a.next=10;break}return a.next=6,Object(H["c"])("Reasons for declining TPT","",["Patient declined","Side-effects (previous or current)","Stock-out","Starting TB treatment","Other"],[{name:"Done",slot:"start",role:"action"}]);case 6:c=a.sent,r.reasonForDecliningTPTObs=r.consultation.buildValueText("Other reason for not seeking services",c.selection),a.next=11;break;case 10:r.reasonForDecliningTPTObs={};case 11:if(!o){a.next=16;break}return a.next=14,Object(H["a"])("IPT / 3HP conflict","IPT and 3HP can NOT be prescribed together","Please pick either one",[{name:"Prescribe 3HP",slot:"start",color:"primary"},{name:"Prescribe IPT",slot:"end",color:"primary"}]);case 14:return s=a.sent,a.abrupt("return",e.map((function(e){return i(e)&&(e.isChecked="Prescribe IPT"===s&&"IPT"===e.label||"Prescribe 3HP"===s&&"INH 300 / RFP 300 (3HP)"===e.label),e})));case 16:return a.abrupt("return",e.map((function(e){return("3HP (RFP + INH)"===t.label&&"INH 300 / RFP 300 (3HP)"===e.label&&t.isChecked||"INH 300 / RFP 300 (3HP)"===t.label&&"3HP (RFP + INH)"===e.label&&t.isChecked)&&(e.isChecked=!1),e})));case 17:case"end":return a.stop()}}),a)})))()},medicationOrderOptions:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.didCompleted3HP(e),a=null!==this.tptStatus.tpt,i=this.tptAutoSelectionMode(e),o=function(e){return{disabled:!0,isChecked:!1,description:{color:"danger",show:"always",text:e}}};return this.runAppendOptionParams([this.toOption("ARVs",{appendOptionParams:function(){return{isChecked:i&&!t.TBSuspected}}}),this.toOption("CPT",{appendOptionParams:function(){return!i||t.TBSuspected||t.allergicToSulphur?t.allergicToSulphur?o("Allergic to CPT"):{disabled:!1}:{isChecked:!0}}}),this.toOption("3HP (RFP + INH)",{appendOptionParams:function(){return r?o("Completed TPT treatment"):t.tptStatus.tb_treatment?o("Completed/on TB treatment"):t.TBSuspected?o("TB Suspect"):t.currentWeight<20?o("Weight below regulation"):a&&"3HP (RFP + INH)"!==t.tptStatus.tpt&&!t.tptStatus.completed?o("On ".concat(t.tptStatus.tpt," treatment")):"3HP (RFP + INH)"!==t.tptStatus.tpt||t.tptStatus.completed?void 0:{isChecked:!0}}}),this.toOption("INH 300 / RFP 300 (3HP)",{appendOptionParams:function(){return r?o("Completed TPT treatment"):t.tptStatus.tb_treatment?o("Completed/on TB treatment"):t.TBSuspected?o("TB Suspect"):t.currentWeight<30?o("Weight below regulation"):a&&"INH 300 / RFP 300 (3HP)"!==t.tptStatus.tpt&&!t.tptStatus.completed?o("On ".concat(t.tptStatus.tpt," treatment")):"INH 300 / RFP 300 (3HP)"!==t.tptStatus.tpt||t.tptStatus.completed?{isChecked:i}:{isChecked:!0}}}),this.toOption("IPT",{appendOptionParams:function(){return r?o("Completed TPT treatment"):t.tptStatus.tb_treatment?o("Completed/on TB treatment"):t.TBSuspected?o("TB Suspect"):a&&"IPT"!==t.tptStatus.tpt&&!t.tptStatus.completed?o("On ".concat(t.tptStatus.tpt," treatment")):"IPT"!==t.tptStatus.tpt||t.tptStatus.completed?void 0:{isChecked:!0}}}),this.toOption("NONE OF THE ABOVE")],n)},getVlLabData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=v["a"],t.next=3,ce["a"].get("GET_LAB_ORDERS_WITH_GIVEN_RESULT_STATUS",{patientID:e.patientID});case 3:return t.t1=t.sent,t.abrupt("return",t.t0.formatLabs.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t)})))()},isANCclient:function(){return"ANC"===k["a"].getSuspendedProgram()},getFields:function(){var e=this;return[{id:"other_patient_prescription",proxyID:"prescription",helpText:"Medication to prescribe during this visit",type:s["b"].TT_MULTIPLE_SELECT,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.getClient();case 2:if(t.t0=t.sent,n="No"===t.t0,!n){t.next=8;break}e.isNoneClientPatient=!0,t.next=16;break;case 8:return t.next=10,ae["a"].isDrugRefillPatient(e.patientID);case 10:if(!t.sent){t.next=14;break}t.t1=!0,t.next=15;break;case 14:t.t1=!1;case 15:e.isNoneClientPatient=t.t1;case 16:if(!e.isNoneClientPatient){t.next=29;break}return t.t2=Number,t.next=20,e.patient.getRecentWeight();case 20:return t.t3=t.sent,e.currentWeight=(0,t.t2)(t.t3),t.next=24,ce["a"].get("ART_AUTO_3HP_SELECTION");case 24:return e.autoSelect3HP=t.sent,t.next=27,e.consultation.getTptTreatmentStatus();case 27:e.tptStatus=t.sent,e.completed3HP=null!==e.tptStatus.tpt&&e.tptStatus.completed;case 29:return t.abrupt("return",!0);case 30:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(e){return d["a"].required(e)},computedValue:function(t){return{tag:"consultation",obs:e.buildMedicationOrders(t)}},onValueUpdate:function(t,n,r){var a=e.disablePrescriptions(t,n);return e.on3HPValueUpdate(a,n,r)},options:function(t,n,r,a){return Object(b["isEmpty"])(a)?e.medicationOrderOptions(t):a},condition:function(){return e.isNoneClientPatient},exitsForm:function(){return!0}}].concat(Object(u["a"])(Object(ne["b"])({id:"date_last_received_arvs",helpText:"Last ARV Dispensation",required:!0,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTransferInStatus();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=!1;case 5:return e.wasTransferredIn=t.t0,t.next=8,e.getDateStartedArt();case 8:return e.dateStartedArt=t.sent,t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),condition:function(){return e.wasTransferredIn},minDate:function(){return e.dateStartedArt},maxDate:function(){return e.consultation.getDate()},computeValue:function(t){return e.prescription.setDate(t),{tag:"consultation",date:t,obs:e.consultation.buildValueDate("Date drug received from previous facility",t)}},estimation:{allowUnknown:!1}},this.consultation.getDate())),[{id:"previous_arvs_received",helpText:"Last ARV drugs dispensed",type:s["b"].TT_MULTIPLE_SELECT,computedValue:function(e){return e.map((function(e){return e.other}))},validation:function(e){return d["a"].required(e)},options:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object(b["isEmpty"])(e.customRegimens)){t.next=2;break}return t.abrupt("return",e.customRegimens);case 2:return n=new ie["a"](e.patientID,e.providerID),t.next=5,n.getARVs();case 5:return e.customRegimens=t.sent.map((function(e){return{label:e.name,value:e.drug_id,other:Object(i["a"])({},e)}})),t.abrupt("return",e.customRegimens);case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{showKeyboard:!0},condition:function(){return e.wasTransferredIn}},{id:"drug_interval",helpText:"Duration period for last received ARVs",type:s["b"].TT_NEXT_VISIT_INTERVAL_SELECTION,condition:function(){return e.wasTransferredIn},validation:function(e){return d["a"].required(e)},computedValue:function(e){return e.other.nextAppointment},options:function(){var t=[{label:"2 weeks",value:14},{label:"1 month",value:28},{label:"2 months",value:56},{label:"3 months",value:84},{label:"4 months",value:112},{label:"5 months",value:140},{label:"6 months",value:168},{label:"7 months",value:196},{label:"8 months",value:224},{label:"9 months",value:252},{label:"10 months",value:280},{label:"11 months",value:308},{label:"12 months",value:336}];return t.map((function(t){var n=t.label,r=t.value;e.prescription.setNextVisitInterval(r);var a=e.prescription.calculateDateFromInterval();return{label:n,value:r,other:{label:"Medication run-out date:",value:f["c"].toStandardHisDisplayFormat(a),nextAppointment:a,other:{label:"",value:[]}}}}))}},{id:"arv_quantities",helpText:"Amount of drugs dispensed (From last ART Facility)",type:s["b"].TT_DRUG_TRANSFER_IN,validation:function(t){return e.validateSeries([function(){return d["a"].required(t)},function(){return t.map((function(e){var t;return""===e.value||""===(null===e||void 0===e||null===(t=e.other)||void 0===t?void 0:t.pillsBrought)})).some(Boolean)?["Some Drugs are missing values"]:null}])},computedValue:function(t,n,r){return{tag:"consultation",obs:t.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var a,o,u,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=(null===n||void 0===n||null===(a=n.other)||void 0===a||null===(o=a.drug)||void 0===o?void 0:o.drug_id)||0,t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=6,e.consultation.buildObs("Drug received from previous facility",{value_drug:s,value_datetime:(null===r||void 0===r?void 0:r.drug_interval)||null,value_numeric:(null===n||void 0===n?void 0:n.value)||0});case 6:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=11,e.consultation.buildObs("Number of tablets brought to clinic",{value_drug:s,value_numeric:(null===n||void 0===n||null===(u=n.other)||void 0===u?void 0:u.pillsBrought)||-1,value_datetime:(null===r||void 0===r||null===(c=r.date_last_received_arvs)||void 0===c?void 0:c.date)||null});case 11:return t.t6=t.sent,t.t7={child:t.t6},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t7));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},options:function(e,t,n){return t.previous_arvs_received.map((function(e){var t,r=e["alternative_drug_name"]||e["drug_name"]||e["name"],a=Object(b["find"])(n,{label:r}),i="",o="";a&&(i=null===a||void 0===a?void 0:a.value,o=null===a||void 0===a||null===(t=a.other)||void 0===t?void 0:t.pillsBrought);return{label:r,value:i,other:{drug:e,pillsBrought:o}}}))},condition:function(){return e.wasTransferredIn}},{id:"patient_lab_orders",helpText:"Lab orders",type:s["b"].TT_LAB_ORDERS,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getVlLabData();case 2:return e.labOrders=t.sent,t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),unload:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkVLReminder();case 2:if(n=e.labOrders.filter((function(e){return"No"===e.result_given})),t.t0=n.length,!t.t0){t.next=8;break}return t.next=7,Object(p["a"])("Result(s) Given to Client?");case 7:t.t0=t.sent;case 8:if(!t.t0){t.next=13;break}return r=new L["a"](e.patientID,-1,e.providerID),a=n.reduce((function(e,t){return[].concat(Object(u["a"])(e),Object(u["a"])(t.resultIds.map(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.encounterID=t.encounter_id,e.t0=r,e.next=4,r.buildObs("Result Given to Client",{value_coded:"Yes",obs_group_id:n});case 4:return e.t1=e.sent,e.abrupt("return",e.t0.saveObs.call(e.t0,e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}),[]),t.next=13,Promise.all(a);case 13:return t.next=15,e.getVlLabData();case 15:e.labOrders=t.sent;case 16:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),onload:function(t){return e.labOrderFieldContext=t},options:function(){return[{label:"Lab orders",value:"order trail",other:{values:e.labOrders}}]},config:{printOrder:function(t){return new ue["a"](e.patientID).printLabOrderLbl(t)},hiddenFooterBtns:["Clear"],footerBtns:[{name:"Order",size:"large",slot:"end",color:"primary",visible:!0,onClick:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(Object(b["isEmpty"])(e.labOrderFieldContext)){t.next=3;break}return t.next=3,e.labOrderFieldContext.launchOrderSelection();case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]}},{id:"pregnant_breastfeeding",helpText:"Patient Pregnant or breastfeeding?",init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.patient.isFemale()){t.next=11;break}if(!e.patient.isChildBearing()){t.next=8;break}return t.next=4,e.patient.hasPregnancyObsToday();case 4:return e.hasPregnancyObsToday=t.sent,t.next=7,e.patient.isPregnant();case 7:e.currentlyPregnant=t.sent;case 8:return t.next=10,e.consultation.getTLObs();case 10:e.onPermanentFPMethods=t.sent;case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),condition:function(){return!e.hasPregnancyObsToday&&e.pregnancyEligible()},type:s["b"].TT_MULTIPLE_YES_NO,validation:function(t){return e.validateSeries([function(){return d["a"].required(t)},function(){return d["a"].anyEmpty(t)}])},computedValue:function(t){var n=[];return e.isANCclient()&&n.push(e.consultation.buildValueCoded("Is patient pregnant","Yes")),n=n.concat(t.map((function(t){return e.consultation.buildValueCoded(t.other.concept,t.value)}))),{obs:n,tag:"consultation"}},options:function(t){var n=[];return e.isANCclient()||n.push({label:"Pregnant",value:"",other:{values:e.yesNoOptions(),concept:"Is patient pregnant"}}),n.push({label:"Breastfeeding",value:"",other:{values:e.yesNoOptions(),concept:"Is patient breast feeding"}}),t.pregnant_breastfeeding||n}},{id:"patient_weight_chart",helpText:"Patient weight chart",type:s["b"].TT_WEIGHT_CHART,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patient.getWeightHistory();case 2:return e.weightTrail=t.sent,e.weightLossPercentageNum=e.patient.getWeightLossPercentageFromTrail(e.weightTrail),e.lostTenPercentBodyWeight=e.weightLossPercentageNum>=10,t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),options:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.patient.getBMI();case 2:return n=t.sent,r=e.weightTrail,t.abrupt("return",[{label:"Weight for patient",value:"Weight trail",other:{bmi:n,values:r.map((function(e){return{x:f["c"].toStandardHisDisplayFormat(e.date),y:e.weight}})),age:e.patient.getAge()}}]);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{hiddenFooterBtns:["Clear"]}},{id:"has_fp_methods",helpText:"",type:s["b"].TT_TEXT_BANNER,condition:function(){return e.onPermanentFPMethods},options:function(){return e.mapStrToOptions(["Patient is on Tubal ligation method"])}},{id:"current_fp_methods",helpText:"What method are you currently on?",type:s["b"].TT_MULTIPLE_SELECT,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.patient.isFemale()){t.next=4;break}return t.next=3,e.consultation.patientHitMenopause();case 3:e.patientHitMenopause=t.sent;case 4:return t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(e){return d["a"].required(e)},onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},computedValue:function(t){return{tag:"consultation",obs:t.map((function(t){return e.consultation.buildValueCoded("Family planning method",t.value)}))}},condition:function(t){return e.showCurrentContraceptionMethods(t)},options:function(t,n){return e.getFPMethods([],n)}},{id:"fp_methods",helpText:"What method are you providing today?",type:s["b"].TT_MULTIPLE_SELECT,condition:function(t){return e.showNewContraceptionMethods(t)},validation:function(e){return d["a"].required(e)},onValueUpdate:function(t,n){return e.disableFPMethods(t,n)},computedValue:function(t){return{tag:"consultation",obs:t.map((function(t){return e.consultation.buildValueCoded("Family planning, action to take",t.value)}))}},options:function(t,n){return e.getFPMethods([],n)}},{id:"reason_for_no_fpm",helpText:"Main reason for not using family planning methods",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},condition:function(t){return e.declinedFPM(t)},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueText("Why does the woman not use birth control",t.value)}},options:function(){return e.mapStrToOptions(["Not Sexually active","Patient want to get pregnant","Not needed for medical reasons","At risk of unplanned pregnancy","Menopause"])}},{id:"specific_reason_for_no_fpm",helpText:"Specific reason for not using family planning methods",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueText("Reason for not using contraceptives",t.value)}},condition:function(t){return e.riskOfUnplannedPregnancy(t)},options:function(){return e.mapStrToOptions(["Following wishes of spouse","Religious reasons","Afraid of side effects","Never though about it","Indifferent (does not mind getting pregnant)"])}},{id:"offer_contraceptives",helpText:"Offer contraceptives",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},condition:function(t){return e.riskOfUnplannedPregnancy(t)},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueCoded("Family planning, action to take",t.value)}},options:function(){return[{label:"Accepted",value:"Yes"},{label:"Declined",value:"No"},{label:"Discuss with spouse",value:"Discuss with spouse"}]}},{id:"offered_intervention",helpText:"Offered intervention",type:s["b"].TT_MULTIPLE_SELECT,validation:function(e){return d["a"].required(e)},condition:function(e){return"Accepted"===e.offer_contraceptives.value},computedValue:function(t){return{tag:"consultation",obs:t.map((function(t){return e.consultation.buildValueCoded(t.label,t.value)}))}},options:function(t,n){return e.getFPMethods(["NONE"],n)}},{id:"offer_cxca",helpText:"Refer client for CxCa screening",type:s["b"].TT_SELECT,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.patient.isFemale()){t.next=18;break}return t.next=3,te["b"].cervicalCancerScreeningEnabled();case 3:if(e.CxCaEnabled=t.sent,!e.CxCaEnabled){t.next=18;break}return t.next=7,te["b"].cervicalCancerScreeningAgeBounds();case 7:return n=t.sent,r=n.start,a=n.end,e.CxCaMaxAge=a,e.CxCaStartAge=r,t.next=14,e.consultation.clientDueForCxCa();case 14:return e.DueForCxCa=t.sent,t.next=17,e.consultation.clientHasHadAHysterectomy();case 17:e.clientHadAHysterectomy=t.sent;case 18:return t.abrupt("return",!0);case 19:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(e){return d["a"].required(e)},condition:function(t){return e.canScreenCxCa()&&!e.isPregnant(t)},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueCoded("Offer CxCa",t.value)}},options:function(){return e.yesNoOptions()}},{id:"reason_for_no_cxca",helpText:"Reason for NOT offering CxCa",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},condition:function(e){return"No"===e.offer_cxca.value},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueCoded("Reason for NOT offering CxCa",t.value)}},options:function(){return e.getReasonsForNoCxcaOptions()}}],Object(u["a"])(Object(ne["b"])({id:"previous_cxca_test_date",helpText:"Previous CxCa test",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return m["a"].getSessionDate()},condition:function(e){return"Not due for screening"===e.reason_for_no_cxca.value},computeValue:function(t,n){return n?{tag:"consultation",obs:e.consultation.buildValueDateEstimated("CxCa test date",t)}:{tag:"consultation",obs:e.consultation.buildValueDate("CxCa test date",t)}},estimation:{allowUnknown:!0,estimationFieldType:ne["a"].MONTH_ESTIMATE_FIELD}})),[{id:"previous_side_effects",helpText:"Side effects / Contraindications history",type:s["b"].TT_DATA_TABLE,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.getDrugSideEffects();case 2:return e.sideEffectsHistory=t.sent,t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),config:{columns:function(){return[[re["a"].thTxt("Date"),re["a"].thTxt("Condition"),re["a"].thTxt("Drug induced"),re["a"].thTxt("Drug")]]},rows:function(){return Object.keys(e.sideEffectsHistory).map((function(t){return Object.values(e.sideEffectsHistory[t]).filter((function(e){return!Object(b["isEmpty"])(e.name)})).map((function(e){return[re["a"].tdDate(t),re["a"].td(e.name),re["a"].td(e.drug_induced?"Yes":"No"),re["a"].td(e.drug)]}))})).reduce((function(e,t){return e.concat(t)}),[])}}},{id:"side_effects",helpText:"Contraindications / Side effects (select either 'Yes' or 'No')",type:s["b"].TT_MULTIPLE_YES_NO,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.getPreviousDrugs();case 2:return e.lastDrugsReceived=t.sent,t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(t){return e.validateSeries([function(){return d["a"].required(t)},function(){return d["a"].anyEmpty(t)}])},computedValue:function(t){return{tag:"consultation",obs:t.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=5,e.consultation.buildValueCoded("Malawi ART side effects",n.label);case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=10,e.consultation.buildValueCoded(n.label,n.value);case 10:return t.t6=t.sent,t.t7={child:t.t6},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t7));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},beforeNext:function(t){return e.buildSideEffectObs(t,"malawiSideEffectReasonObs")},options:function(t,n){return e.getContraindications(n)}},{id:"other_side_effects",helpText:"Other Contraindications / Side effects (select either 'Yes' or 'No')",type:s["b"].TT_MULTIPLE_YES_NO,onValue:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkIfWeightLossIsControlled(n);case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),condition:function(t){return e.showOtherSideEffects(t)},onConditionFalse:function(){return e.otherSideEffectReasonObs=[]},validation:function(t){return e.validateSeries([function(){return d["a"].required(t)},function(){return d["a"].anyEmpty(t)}])},computedValue:function(t){return{tag:"consultation",obs:t.filter((function(e){return"Other (Specify)"!=e.label})).map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=5,e.consultation.buildValueCoded("Other side effect",n.label);case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=10,e.consultation.buildValueCoded(n.label,n.value);case 10:return t.t6=t.sent,t.t7={child:t.t6},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t7));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},beforeNext:function(t){return e.buildSideEffectObs(t,"otherSideEffectReasonObs")},options:function(t,n){return e.getOtherContraindications(n)}},{id:"other_side_effect_specify",helpText:"Other Contraindications / Side effects (specify)",type:s["b"].TT_NOTE,computedValue:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=5,e.consultation.buildValueCoded("Other side effect","Other (Specify)");case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=10,e.consultation.buildValueText("Other (Specify)",n.value);case 10:return t.t6=t.sent,t.t7={child:t.t6},t.t8=(0,t.t0)(t.t4,t.t5,t.t7),t.abrupt("return",{tag:"consultation",obs:t.t8});case 14:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),condition:function(t){return e.inArray(t.other_side_effects,(function(e){return"Other (Specify)"===e.label&&"Yes"===e.value}))},validation:function(e){return d["a"].required(e)}},{id:"on_tb_treatment",helpText:"On TB Treatment?",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},computedValue:function(t){e.TBSuspected="Yes"===t.value;var n=[e.consultation.buildValueCoded("TB treatment",t.value)];return e.TBSuspected&&n.push(e.consultation.buildValueCoded("TB Status","Confirmed TB on treatment")),{tag:"consultation",obs:n}},options:function(){return e.yesNoOptions()}},{id:"tb_side_effects",helpText:"TB Associated symptoms",type:s["b"].TT_MULTIPLE_YES_NO,onValue:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.checkIfWeightLossIsControlled(n);case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),validation:function(t){return e.validateSeries([function(){return d["a"].required(t)},function(){return d["a"].anyEmpty(t)}])},condition:function(e){return e.on_tb_treatment.value.match(/no/i)},options:function(t,n){return e.getTBSymptoms(n)},computedValue:function(t){return e.presentedTBSymptoms=e.inArray(t,(function(e){return"Yes"===e.value})),{tag:"consultation",obs:t.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=i["a"],t.t1=i["a"],t.t2={},t.next=5,e.consultation.buildValueCoded("Routine TB Screening",n.label);case 5:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.t5={},t.next=10,e.consultation.buildValueCoded(n.label,n.value);case 10:return t.t6=t.sent,t.t7={child:t.t6},t.abrupt("return",(0,t.t0)(t.t4,t.t5,t.t7));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},{id:"tb_status",helpText:"TB Status",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},condition:function(t){return e.hasTBSymptoms(t)},onConditionFalse:function(){return e.TBSuspected=!1},defaultValue:function(){return"TB Suspected"},computedValue:function(t){return e.TBSuspected="TB Suspected"===t.value,{tag:"consultation",obs:e.consultation.buildValueCoded("TB Status",t.value)}},beforeNext:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("TB Suspected"!==n.value){t.next=5;break}return t.next=3,Object(H["a"])("Lab Order","The patient is a TB suspect. Do you want to take lab orders?","",[{name:"Order now",slot:"start",color:"success"},{name:"NOT now",slot:"end",color:"danger"}]);case 3:r=t.sent,"Order now"===r&&e.labOrderFieldContext.launchOrderSelection(["TB Microscopic Exam","GeneXpert","Culture & Sensitivity","TB Tests"]);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}(),options:function(){return e.mapStrToOptions(["TB NOT suspected","TB Suspected","Confirmed TB Not on treatment"])}},{id:"routine_tb_therapy",helpText:"TB preventive therapy (TPT) history",type:s["b"].TT_SELECT,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.consultation.hasTreatmentHistoryObs();case 2:return e.hasTbHistoryObs=t.sent,t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),validation:function(e){return d["a"].required(e)},condition:function(){return!e.hasTbHistoryObs},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueText("Previous TB treatment history",t.value)}},options:function(t){var n=[];return/no/i.test(t.on_tb_treatment.value)&&(n=["Currently on IPT","Currently on 3HP (RFP + INH)","Currently on INH 300 / RFP 300 (3HP)"]),n=n.concat(["Complete course of 3HP in the past (3 months RFP+INH)","Complete course of IPT in the past (min. 6 months of INH)","Aborted course of 3HP (RFP + INH) in the past","Aborted course of INH 300 / RFP 300 (3HP) in the past","Aborted course of IPT in the past","Never taken IPT or 3HP"]),e.mapStrToOptions(n)}}],Object(u["a"])(Object(ne["b"])({id:"date_started_tpt",helpText:"Started TPT Treatment",required:!0,minDate:function(){return e.patient.getBirthdate()},maxDate:function(){return m["a"].getSessionDate()},condition:function(e){return e.routine_tb_therapy.value.match(/currently/i)},computeValue:function(e){return e},estimation:{allowUnknown:!0,estimationFieldType:ne["a"].MONTH_ESTIMATE_FIELD}})),[{id:"tpt_drugs_received",helpText:"TPT Drugs Received",required:!0,condition:function(e){return e.routine_tb_therapy.value.match(/currently/i)},type:s["b"].TT_ADHERENCE_INPUT,options:function(t){return e.getTptDrugs(t)},computedValue:function(t,n,r){return{tag:"consultation",obs:t.map(function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.consultation.buildObs("TPT Drugs Received",{value_drug:(null===n||void 0===n||null===(a=n.other)||void 0===a?void 0:a.drug_id)||0,value_datetime:(null===r||void 0===r?void 0:r.date_started_tpt)||null,value_numeric:(null===n||void 0===n?void 0:n.value)||0}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},config:{titles:{label:"Drug name",value:"Tablets received"}}},{id:"tpt_tranfer_from",helpText:"Facility client is transferring in from",type:s["b"].TT_SELECT,computedValue:function(t){var n=t.label;return{tag:"consultation",obs:e.consultation.buildValueText("Location TPT last received",n)}},validation:function(e){return d["a"].required(e)},condition:function(e){return e.routine_tb_therapy.value.match(/currently/i)},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(se["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}},{id:"allergic_to_sulphur",helpText:"Allergic to Cotrimoxazole",type:s["b"].TT_SELECT,validation:function(e){return d["a"].required(e)},computedValue:function(t){return e.allergicToSulphur=t.value.match(/unknown/i)?null:!!t.value.match(/yes/i),{tag:"consultation",obs:function(){return e.consultation.buildValueCoded("Allergic to sulphur",null===e.allergicToSulphur?t.value:e.allergicToSulphur?"Yes":"No")}}},options:function(){return e.yesNoUnknownOptions()}}],Object(u["a"])(this.getAdherenceFields(!0)),[{id:"refer_to_clinician",helpText:"Refer to clinician",type:s["b"].TT_SELECT,condition:function(){return h["a"].isNurse()},validation:function(e){return d["a"].required(e)},computedValue:function(t){return{tag:"consultation",obs:e.consultation.buildValueCoded("Refer to clinician",t.value)}},options:function(){return e.yesNoOptions()}},{id:"medication_to_prescribe",proxyID:"prescription",helpText:"Medication to prescribe during this visit",type:s["b"].TT_MULTIPLE_SELECT,init:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isNoneClientPatient){t.next=13;break}return t.t0=Number,t.next=4,e.patient.getRecentWeight();case 4:return t.t1=t.sent,e.currentWeight=(0,t.t0)(t.t1),t.next=8,ce["a"].get("ART_AUTO_3HP_SELECTION");case 8:return e.autoSelect3HP=t.sent,t.next=11,e.consultation.getTptTreatmentStatus();case 11:e.tptStatus=t.sent,e.completed3HP=null!==e.tptStatus.tpt&&e.tptStatus.completed;case 13:return t.abrupt("return",!0);case 14:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}(),condition:function(e){return!e.refer_to_clinician||"".concat(e.refer_to_clinician.value).match(/no/i)},validation:function(e){return d["a"].required(e)},computedValue:function(t){return{tag:"consultation",obs:e.buildMedicationOrders(t)}},onValueUpdate:function(t,n,r){var a=e.disablePrescriptions(t,n);return e.on3HPValueUpdate(a,n,r)},options:function(t,n,r,a){return e.medicationOrderOptions(t,a)},config:{footerBtns:[{name:"Update allergic to CPT",onClickComponentEvents:{refreshOptions:function(t,n,r){return e.allergicToSulphur="Allergic"===t.btnOutput,e.medicationOrderOptions(r,n)}},onClick:function(){return Object(H["a"])("Allergic to Cotrimoxazole update","Is the patient allergic to cotrimoxazole.","",[{name:"Allergic",slot:"start",color:"success"},{name:"NOT Allergic",slot:"end"}])}}]}}])}}});const pe=I()(de,[["render",a]]);t["default"]=pe},b446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return w}));var r,a=n("2909"),i=n("3835"),o=n("5530"),u=n("1da1"),c=(n("96cf"),n("99af"),n("caad"),n("a15b"),n("d3b7"),n("25f0"),n("ac1f"),n("466d"),n("1276"),n("d95e")),s=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],l=n("9283"),d=n("2706"),p=n("3800"),f=n("6be2"),b=n("5a0c"),m=n.n(b),h=n("1c74");function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return n&&r.push("UNKNOWN"),{id:e,helpText:"".concat(t," Year"),appearInSummary:function(){return!1},type:c["b"].TT_TEXT,config:{customKeyboard:[p["i"],[r,["DELETE"]]]}}}function g(e,t){return{id:e,helpText:"".concat(t," Month"),appearInSummary:function(){return!1},type:c["b"].TT_SELECT,options:function(){return s}}}function O(e,t){return{id:e,helpText:"".concat(t," Day"),type:c["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function T(e,t){return{id:e,helpText:"".concat(t," Estimated period"),type:c["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function y(e,t){return{id:e,helpText:"".concat(t," Age Estimate"),type:c["b"].TT_NUMBER,appearInSummary:function(){return!1},config:{keypad:f["e"]}}}function C(e){return parseInt(e)<10?"0".concat(e):e}function x(e,t,n){return N.apply(this,arguments)}function N(){return N=Object(u["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,u,c,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.defaultValue){e.next=12;break}return e.next=3,n.defaultValue(t);case 3:if(a=e.sent,!a){e.next=12;break}o=a.split("-"),u=Object(i["a"])(o,3),c=u[0],s=u[1],l=u[2],e.t0=r,e.next="Year"===e.t0?9:"Month"===e.t0?10:"Day"===e.t0?11:12;break;case 9:return e.abrupt("return",c||"");case 10:return e.abrupt("return",parseInt(s)||"");case 11:return e.abrupt("return",parseInt(l)||"");case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function E(e){return l["c"].toStandardHisDisplayFormat(e)}function R(e,t,n,r){if(t.minDate){var a=t.minDate(n,r);if(new Date(e)<new Date(a))return["".concat(E(e)," is less than minimum date of ").concat(E(a))]}if(t.maxDate){var i=t.maxDate(n,r);if(i&&new Date(e)>new Date(i))return["".concat(E(e)," is greater than max date of  ").concat(E(i))]}}function w(e){var t="",n="",u="",c="",p=!1,f="year_".concat(e.id),b="month_".concat(e.id),N="day_".concat(e.id),w="age_estimate_".concat(e.id),_="duration_estimate_".concat(e.id),I=v(f,e.helpText,e.estimation.allowUnknown),P=g(b,e.helpText),S=O(N,e.helpText),k=y(w,e.helpText),D=T(_,e.helpText),j="boolean"===typeof e.estimation.allowUnknownMonthDay&&e.estimation.allowUnknownMonthDay,A=function(t){return!(t[f]&&t[f].value&&["Unknown"].includes(t[f].value))&&(!e.condition||e.condition(t))},V=function(e,t){var r=[{type:"year",value:n,default:"YYYY"},{type:"month",value:u,default:"MM"},{type:"day",value:c,default:"DD"}];return r.reduce((function(n,r){var a=[null,void 0,"Unknown",""];return t===r.type?a.includes(e)?n.push(r.default):n.push(e):a.includes(r.value)?n.push(r.default):n.push(r.value),n}),[]).join("-")};"function"===typeof e.init&&(I.init=e.init),I.updateHelpTextOnValue=function(e){return"".concat(I.helpText," (").concat(V(null===e||void 0===e?void 0:e.label,"year"),")")},I.proxyID=e.id,I.unload=function(e){return n=e.value.toString()},I.config=Object(o["a"])(Object(o["a"])({},I.config),e.config),I.defaultValue=function(t){return x(t,e,"Year")},I.condition=function(t){return!e.condition||e.condition(t)},I.validation=function(t,n,r){if(e.required&&d["a"].required(t))return["Year cannot be empty"];var a=t?t.value:"";if(!e.estimation.allowUnknown&&a.toString().match(/unknown/i))return["Value unknown is not permitted"];if(a&&!["Unknown"].includes(a)&&isNaN(a)||a<1900)return["Invalid Year"];if(a&&"function"===typeof e.minDate){var i=l["c"].getYear(e.minDate(n,r));if(parseInt(a)<i)return["Year of ".concat(a," is less than Minimum year of ").concat(i)]}if(a&&"function"===typeof e.maxDate){var o=e.maxDate(n,r);if(o&&a>l["c"].getYear(o))return["Year of ".concat(a," exceeds Maximum year of ").concat(l["c"].getYear(o))]}return null},I.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:t?E(t):"Unknown"}},I.appearInSummary=function(t,n){return n===e.id},I.computedValue=function(n){if(t){var r=t.split("-"),a=Object(i["a"])(r,3),o=(a[0],a[1]),u=a[2];return t="".concat(n.value,"-").concat(o,"-").concat(u),e.computeValue(t,!1)}if(n&&"Unknown"===n.value)return t="",e.computeValue("Unknown",!1)},P.updateHelpTextOnValue=function(e){return"".concat(P.helpText," (").concat(V(null===e||void 0===e?void 0:e.label,"month"),")")},P.proxyID=e.id,P.unload=function(e){return u=C(e.value.toString())},P.condition=function(e){return A(e)},P.validation=function(e){return d["a"].required(e)},P.defaultValue=function(t){return x(t,e,"Month")},j&&(P.options=function(){return[].concat(Object(a["a"])(s),[{label:"Unknown",value:"Unknown"}])}),P.computedValue=function(n,r){if("".concat(n.value).match(/unknown/i))return t="".concat(r[f].value,"-07-15"),e.computeValue(t,!0);if(t){var a=t.split("-"),o=Object(i["a"])(a,3),u=o[0],c=(o[1],o[2]),s=C("".concat(n.value));return t="".concat(u,"-").concat(s,"-").concat(c),e.computeValue(t,!1)}},S.proxyID=e.id,S.updateHelpTextOnValue=function(e){return"".concat(S.helpText," (").concat(V(null===e||void 0===e?void 0:e.label,"day"),")")},S.condition=function(e){return!"".concat(e[b].value).match(/unknown/i)&&A(e)},S.validation=function(r,a,i){return d["a"].required(r)?["Day is required for date"]:(p=!!"".concat(r.value).match(/unknown/i),c=p?"15":C("".concat(r.value)),t="".concat(n,"-").concat(u,"-").concat(c),R(t,e,a,i))},S.defaultValue=function(t){return x(t,e,"Day")},S.computedValue=function(){return e.computeValue(t,p)},S.unload=function(t,n,r,a){e.unload&&e.unload(t,n,r,a)},S.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},S.config={year:function(e){return e[f].value},month:function(e){return e[b].value}},j||(S.config.keyboardActions=[]);var L=function(t,n){var r=["Unknown"===t[f].value,!e.condition||e.condition(t),e.estimation.estimationFieldType===n];return r.every(Boolean)};return k.proxyID=e.id,k.validation=function(n,r,a){if(n&&n.value>300)return["Age estimate is too high and exceeding hard limit of 300"];if(isNaN(parseInt(n.value.toString())))return["Please enter a valid number"];var i=/^(12[0-7]|1[01][0-9]|[1-9]?[0-9])$/;if(!n.value.toString().match(i))return["Not a valid age estimate"];var o=m()(h["e"].getSessionDate()).subtract(n.value,"years").year();return t="".concat(o,"-07-15"),R(t,e,r,a)},k.condition=function(e){return L(e,r.AGE_ESTIMATE_FIELD)},k.computedValue=function(){return e.computeValue(t,!0)},k.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},D.proxyID=e.id,D.validation=function(n,r,a){return d["a"].required(n)?["Please select an estimate"]:(t=m()(h["e"].getSessionDate()).subtract(n.value,"day").format(l["b"]),R(t,e,r,a))},D.condition=function(e){return L(e,r.MONTH_ESTIMATE_FIELD)},D.computedValue=function(){return e.computeValue(t,!0)},D.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},[I,P,S,k,D]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(r||(r={}))},d42f:function(e,t,n){"use strict";n("68ed")},e86e:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return T})),n.d(t,"j",(function(){return C})),n.d(t,"e",(function(){return N}));var r=n("1da1"),a=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("498a"),n("b0c0"),n("5713")),i=n("2ef0");function o(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t});case 3:return n=e.sent,e.abrupt("return",n.filter((function(e){return!Object(i["isEmpty"])(e)&&""!=e.name.trim()})).map((function(e){return{label:e.name,value:e.location_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function c(){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getLabs({search_name:t});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e,value:e}})));case 5:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t,tag:"Facility adult sections"});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.name,other:e}})));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getSpecialistClinics();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.name,other:e}})));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function b(){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getRegions();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.region_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getDistricts(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.district_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e){return O.apply(this,arguments)}function O(){return O=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,a["a"].getTraditionalAuthorities(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.traditional_authority_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function T(e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,a["a"].getVillages(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function C(){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"a",n=i.length>1&&void 0!==i[1]?i[1]:1,e.next=4,a["a"].getVillagesByName(t,n);case 4:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 6:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function N(){var e=["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"];return e.map((function(e){return{label:e,value:e,other:{code:e}}}))}},e96c:function(e,t,n){"use strict";n("ecfc")},ecfc:function(e,t,n){}}]);
//# sourceMappingURL=chunk-6e5e7c5f.6ffafd90.js.map