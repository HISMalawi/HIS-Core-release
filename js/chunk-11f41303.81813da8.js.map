{"version":3,"sources":["webpack:///./src/apps/OPD/services/hmis_report_service.ts","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISDummy.vue?5ffa","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue?6eb0","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISHeader.vue?6f54","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMIS17.vue?d9b9","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMIS17.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMIS17.vue?4d14","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue?887d","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISDummy.vue?7b8f","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISDummy.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISDummy.vue?2bb2","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue?2806","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISHeader.vue?c2f9","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISHeader.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISHeader.vue?7c45"],"names":["HMISReportService","regenerate","this","getReport","request","params","all","count","Object","entries","key","value","temp","condition","item","id","name","total","totalPatientIds","value1","conditionDetails","length","push","IDSRConditionsObj","CSVString","row","OpdReportService","_hoisted_1","_hoisted_2","_createVNode","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_loading","_resolveComponent","_component_his_standard_form","_component_hmis_header","_component_hmis_template","_component_ion_content","_component_his_footer","_component_ion_page","_openBlock","_createBlock","_Fragment","isLoading","message","reportReady","_createCommentVNode","onOnFinish","onPeriod","skipSummary","fields","default","_withCtx","componentKey","reportName","ref","periodLabel","periodDates","clinicName","totalOPDVisits","TotalOPDVisits","onDrillDown","hmis15Data","_","btns","defineComponent","mixins","ReportMixinVue","components","IonLoading","HmisHeader","HmisTemplate","HisStandardForm","HisFooter","IonPage","IonContent","data","formData","computedFormData","reportID","getLocationName","created","getBtns","getDateDurationFields","methods","form","config","report","setRegenerate","setStartDate","HisDate","toStandardHisFormat","start_date","setEndDate","end_date","getReportPeriod","requestHMIS17","hmis","getClinicRegistrations","visits","console","log","size","slot","color","visible","onClick","rep","$refs","onDownload","exportToCustomPDF","$router","path","__exports__","_withId","_withScopeId","_pushScopeId","class","style","colspan","_hoisted_3","_hoisted_4","_hoisted_5","_popScopeId","_component_hmis_dummy","show","_renderList","conditions","index","_toDisplayString","$event","HmisDummy","props","renderResults","Conditions","getCSVString","dayjs","format","Service","getCoreVersion","getApiVersion","getSiteUUID","csvData","Blob","type","reportTitle","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","watch","immediate","handler","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","String","reportparams","required","Number"],"mappings":"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","file":"js/chunk-11f41303.81813da8.js","sourcesContent":["import { OpdReportService } from \"./opd_report_service\";\n\nexport class HMISReportService extends OpdReportService {\n    regenerate: boolean;\n    constructor() {\n        super()\n        this.regenerate = false\n    }\n\n    setRegenerate(regenerate: boolean) {\n        this.regenerate = regenerate\n    }\n\n    requestHMIS15() {\n        return this.getReport('generate_hmis_15_report', {\n            request: 'true'\n        })\n    }\n\n    requestHMIS17() {\n        return this.getReport('generate_hmis_17_report', {\n            request: 'true',\n        })\n    }\n\n    renderResults(params: any) {\n        const all = []\n        let count = 1\n        for (const [key, value] of Object.entries(params)) {\n            const temp: any = []\n            const condition: any = value\n            const item = {\n                id: 0,\n                name: '',\n                total: 0,\n                totalPatientIds: ''\n            }\n            item.name = key\n            let total = 0\n            item.id = count\n            count += 1 \n            for (const [key1, value1] of Object.entries(condition)) {\n                key1\n                const conditionDetails: any = value1\n                if (conditionDetails != null) {\n                    total +=conditionDetails.length;\n                    item.total = total\n                    if(conditionDetails.length) {\n                        temp.push(...conditionDetails)\n                        item.totalPatientIds = temp\n                    }\n            }\n          }\n          all.push(item)\n        }\n        return all\n    }\n\n    getCSVString(IDSRConditionsObj: any) {\n        let CSVString = `Diseases/Events/Conditions, #,\\n`\n        for(const condition of IDSRConditionsObj) {\n          const row = `${condition.name},${condition.total},\\n`\n          CSVString+=row\n        }\n        return {CSVString}\n    }\n}\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HMISDummy.vue?vue&type=style&index=0&id=783c8a37&scoped=true&lang=css\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HMISTemplate.vue?vue&type=style&index=0&id=33698d3c&scoped=true&lang=css\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./HMISHeader.vue?vue&type=style&index=0&id=3f7e6ba6&scoped=true&lang=css\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = { id: \"report-content\" }\nconst _hoisted_2 = /*#__PURE__*/_createVNode(\"div\", { id: \"print\" }, null, -1)\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_loading = _resolveComponent(\"ion-loading\")\n  const _component_his_standard_form = _resolveComponent(\"his-standard-form\")\n  const _component_hmis_header = _resolveComponent(\"hmis-header\")\n  const _component_hmis_template = _resolveComponent(\"hmis-template\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_his_footer = _resolveComponent(\"his-footer\")\n  const _component_ion_page = _resolveComponent(\"ion-page\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_loading, {\n      \"is-open\": _ctx.isLoading,\n      message: \"Please wait...\"\n    }, null, 8, [\"is-open\"]),\n    (!_ctx.reportReady)\n      ? (_openBlock(), _createBlock(_component_his_standard_form, {\n          key: 0,\n          onOnFinish: _ctx.onPeriod,\n          skipSummary: true,\n          fields: _ctx.fields\n        }, null, 8, [\"onOnFinish\", \"fields\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.reportReady)\n      ? (_openBlock(), _createBlock(_component_ion_page, { key: 1 }, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_content, null, {\n              default: _withCtx(() => [\n                _createVNode(\"div\", _hoisted_1, [\n                  _createVNode(_component_hmis_header, {\n                    key: _ctx.componentKey,\n                    reportName: _ctx.reportName,\n                    ref: \"header\",\n                    periodLabel: _ctx.periodLabel,\n                    periodDates: _ctx.periodDates,\n                    clinicName: _ctx.clinicName,\n                    totalOPDVisits: _ctx.TotalOPDVisits\n                  }, null, 8, [\"reportName\", \"periodLabel\", \"periodDates\", \"clinicName\", \"totalOPDVisits\"]),\n                  _createVNode(_component_hmis_template, {\n                    key: _ctx.componentKey,\n                    reportName: _ctx.reportName,\n                    onDrillDown: _ctx.onDrillDown,\n                    params: _ctx.hmis15Data,\n                    periodDates: _ctx.periodDates,\n                    ref: \"rep\"\n                  }, null, 8, [\"reportName\", \"onDrillDown\", \"params\", \"periodDates\"])\n                ])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_his_footer, { btns: _ctx.btns }, null, 8, [\"btns\"])\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _hoisted_2\n  ], 64 /* STABLE_FRAGMENT */))\n}","\nimport { defineComponent } from \"vue\";\nimport HisFooter from \"@/components/HisDynamicNavFooter.vue\";\nimport { IonPage, IonContent, IonLoading } from \"@ionic/vue\"\nimport { Field } from '@/components/Forms/FieldInterface'\nimport HisStandardForm from \"@/components/Forms/HisStandardForm.vue\";\nimport ReportMixinVue from \"../../ReportMixin.vue\";\nimport { HMISReportService } from \"@/apps/OPD/services/hmis_report_service\"\nimport HmisHeader from \"@/apps/OPD/views/reports/moh/HMIS/HMISHeader.vue\"\nimport HmisTemplate from \"@/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue\"\nimport HisDate from \"@/utils/Date\"\n\nexport default defineComponent({\n  mixins: [ReportMixinVue],\n  components: { IonLoading, HmisHeader, HmisTemplate, HisStandardForm, HisFooter, IonPage, IonContent },\n  data: () => ({\n    formData: {} as any,\n    componentKey: 0 as number,\n    computedFormData: {} as any,\n    hmis15Data: {} as any,\n    btns: [] as Array<any>,\n    isLoading: false as boolean,\n    fields: [] as Array<Field>,\n    reportID: -1 as any,\n    periodLabel: 'Period',\n    periodDates: '' as string,\n    reportName: 'HMIS 17',\n    TotalOPDVisits: 0 as number,\n    clinicName: HMISReportService.getLocationName(),\n    reportReady: false as boolean,\n  }),\n  created() {\n    this.btns = this.getBtns()\n    this.fields = this.getDateDurationFields()\n  },\n  methods: {\n    async onPeriod(form: any, config: any, regenerate=false) {\n      this.componentKey += 1\n      this.formData = form\n      this.computedFormData = config\n      this.reportReady = true \n      this.isLoading = true\n      this.report = new HMISReportService()\n      this.report.setRegenerate(regenerate)\n      this.report.setStartDate(HisDate.toStandardHisFormat(config.start_date))\n      this.report.setEndDate(HisDate.toStandardHisFormat(config.end_date))\n      this.periodDates = this.report.getReportPeriod()\n      try {\n        const hmis = await this.report.requestHMIS17()\n        const visits = await this.report.getClinicRegistrations()\n        if(hmis && visits) {\n          this.reportID = \"data\"\n          this.TotalOPDVisits = visits.length\n          this.hmis15Data = hmis\n        }\n      } catch (error) {\n        console.log(error)\n      } finally {\n        this.isLoading = false\n      }\n    },\n    getBtns() {\n      return  [\n        {\n          name: \"CSV\",\n          size: \"large\",\n          slot: \"start\",\n          color: \"primary\",\n          visible: true,\n          onClick: async () => {\n            const rep = this.$refs.rep as any\n            rep.onDownload()\n          }\n        },\n        {\n          name: \"PDF\",\n          size: \"large\",\n          slot: \"start\",\n          color: \"primary\",\n          visible: true,\n          onClick: () => this.exportToCustomPDF(this.reportName)\n        },\n        {\n          name: \"Back\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"warning\",\n          visible: true,\n          onClick: () => this.reportReady = false\n        },\n        {\n          name: \"Refresh\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"warning\",\n          visible: true,\n          onClick: async () => await this.onPeriod(this.formData, this.computedFormData, true)\n        },\n        {\n          name: \"Finish\",\n          size: \"large\",\n          slot: \"end\",\n          color: \"success\",\n          visible: true,\n          onClick: () => this.$router.push({ path:'/' })\n        }\n      ]   \n    }\n  }\n})\n","import { render } from \"./HMIS17.vue?vue&type=template&id=09a54a77&ts=true\"\nimport script from \"./HMIS17.vue?vue&type=script&lang=ts\"\nexport * from \"./HMIS17.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createVNode as _createVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-33698d3c\")\n\n_pushScopeId(\"data-v-33698d3c\")\nconst _hoisted_1 = {\n  class: \"my-table\",\n  style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"3%\",\"margin-bottom\":\"3%\"}\n}\nconst _hoisted_2 = /*#__PURE__*/_createVNode(\"tr\", null, [\n  /*#__PURE__*/_createVNode(\"td\", {\n    colspan: \"2\",\n    class: \"td-text-align-left\",\n    style: {\"width\":\"min-content\",\"padding\":\"1.5%\"}\n  }, \"Diseases/Events/Conditions\"),\n  /*#__PURE__*/_createVNode(\"td\", {\n    class: \"td-text-align-left\",\n    style: {\"text-align\":\"center\"}\n  }, \"UNVERIFIED\"),\n  /*#__PURE__*/_createVNode(\"td\", {\n    class: \"td-text-align-left\",\n    style: {\"text-align\":\"center\"}\n  }, \"VERIFIED\")\n], -1)\nconst _hoisted_3 = { class: \"td-wd\" }\nconst _hoisted_4 = {\n  class: \"td-text-align-left\",\n  style: {\"width\":\"60.3%\",\"padding\":\"1.5%\"}\n}\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"td\", null, null, -1)\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_hmis_dummy = _resolveComponent(\"hmis-dummy\")\n\n  return (_openBlock(), _createBlock(\"table\", _hoisted_1, [\n    _hoisted_2,\n    (_ctx.show)\n      ? (_openBlock(), _createBlock(_component_hmis_dummy, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.conditions, (condition, index) => {\n      return (_openBlock(), _createBlock(\"tr\", { key: index }, [\n        _createVNode(\"td\", _hoisted_3, _toDisplayString(condition.id), 1),\n        _createVNode(\"td\", _hoisted_4, _toDisplayString(condition.name), 1),\n        _createVNode(\"td\", {\n          id: \"total\",\n          onClick: $event => {_ctx.onDrillDown(condition.name, condition.totalPatientIds);}\n        }, [\n          _createVNode(\"a\", null, _toDisplayString(condition.total), 1)\n        ], 8, [\"onClick\"]),\n        _hoisted_5\n      ]))\n    }), 128 /* KEYED_FRAGMENT */))\n  ]))\n})","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createVNode as _createVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-783c8a37\")\n\n_pushScopeId(\"data-v-783c8a37\")\nconst _hoisted_1 = {\n  class: \"td-text-align-left\",\n  style: {\"width\":\"60.3%\",\"padding\":\"1.5%\"}\n}\nconst _hoisted_2 = /*#__PURE__*/_createVNode(\"td\", null, \"0\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createVNode(\"td\", null, null, -1)\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.conditions, (condition, index) => {\n    return (_openBlock(), _createBlock(\"tr\", { key: index }, [\n      _createVNode(\"td\", null, _toDisplayString(index), 1),\n      _createVNode(\"td\", _hoisted_1, _toDisplayString(condition), 1),\n      _hoisted_2,\n      _hoisted_3\n    ]))\n  }), 128 /* KEYED_FRAGMENT */))\n})","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  data: function() {\n    return {\n      conditions: [\n        'Sexually transmitted infections-new cases',\n        'Syphilis in pregnancy',\n        'Opportunistic infection - new cases',\n        'Acute respiratory infections - new cases (U5)',\n        'Diarrhoea non - bloody -new cases (under5)',\n        'Malnutrition - new case (under 5)',\n        'Cholera - confirmed new cases',\n        'Malnutrition  U/5',\n        'Measles - confirmed new cases',\n        'Acute Flaccid paralysis -confirmed new cases',\n        'Ebola - confirmed new cases',\n        'Meningococal meningitis - confimed new cases',\n        'Plague - confirmed new cases',\n        'Rabies - confirmed new cases',\n        'Yellow fever - confirmed new cases',\n        'Dysentery - new cases',\n        'Eye infections - new cases',\n        'Ear infections - new cases',\n        'Skin infections - new cases',\n        'Oral conditions',\n        'Schistosomiasis - new cases',\n        'Leprosy - new cases',\n        'Common injuries and woulds (except RTA)',\n        'Number of road traffic accidents'\n      ]\n    }\n  }\n})\n","import { render } from \"./HMISDummy.vue?vue&type=template&id=783c8a37&scoped=true&ts=true\"\nimport script from \"./HMISDummy.vue?vue&type=script&lang=ts\"\nexport * from \"./HMISDummy.vue?vue&type=script&lang=ts\"\n\nimport \"./HMISDummy.vue?vue&type=style&index=0&id=783c8a37&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-783c8a37\"]])\n\nexport default __exports__","\n/* eslint-disable @typescript-eslint/camelcase */\nimport { defineComponent } from 'vue'\nimport HmisDummy from '@/apps/OPD/views/reports/moh/HMIS/HMISDummy.vue'\nimport { HMISReportService } from \"@/apps/OPD/services/hmis_report_service\"\nimport { Service } from \"@/services/service\"\nimport dayjs from 'dayjs';\n\nexport default defineComponent({\n  components: { HmisDummy },\n  data: function(){\n    return {\n      show: true,\n      conditions: [] as any\n    }\n  },\n  props: ['params', 'periodDates', 'quarter', 'onDrillDown', 'reportName'],\n  methods: {\n   renderResults() {\n     const report = new HMISReportService()\n     const Conditions = report.renderResults(this.params)\n     if(Conditions.length) {\n       this.conditions = Conditions\n       this.show = false\n     } \n   },\n   onDownload() {\n     const report = new HMISReportService()\n     let {CSVString} = report.getCSVString(this.conditions)\n     CSVString += `\n          Date Created: ${dayjs().format('DD/MMM/YYYY HH:MM:ss')}\n          His-Core Version: ${Service.getCoreVersion()}\n          API Version: ${Service.getApiVersion()}\n          Report Period: ${this.periodDates}\n          Site: ${Service.getLocationName()}\n          Site UUID: ${Service.getSiteUUID()}`\n          ;\n      // }\n      const csvData = new Blob([CSVString], { type: \"text/csv;charset=utf-8;\" });\n      //IE11 & Edge\n      const reportTitle = `${Service.getLocationName()} ${this.reportName} ${this.quarter}`;\n      \n      if (navigator.msSaveBlob) {\n        navigator.msSaveBlob(csvData, 'exportFilename');\n      } else {\n        //In FF link must be added to DOM to be clicked\n        const link = document.createElement(\"a\");\n        link.href = window.URL.createObjectURL(csvData);\n        link.setAttribute(\"download\", `${reportTitle}.csv`);\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n   },\n  },\n  watch: {\n    params: {\n      immediate: true,\n      handler() {\n        this.renderResults();\n      }\n    }\n  }\n})\n","import { render } from \"./HMISTemplate.vue?vue&type=template&id=33698d3c&scoped=true&ts=true\"\nimport script from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\n\nimport \"./HMISTemplate.vue?vue&type=style&index=0&id=33698d3c&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-33698d3c\"]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-3f7e6ba6\")\n\n_pushScopeId(\"data-v-3f7e6ba6\")\nconst _hoisted_1 = { style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"1%\"} }\nconst _hoisted_2 = { id: \"\" }\nconst _hoisted_3 = {\n  colspan: \"5\",\n  id: \"\",\n  style: {\"border-right-style\":\"solid\",\"font-weight\":\"bold\",\"text-align\":\"center\"}\n}\nconst _hoisted_4 = /*#__PURE__*/_createVNode(\"tr\", null, [\n  /*#__PURE__*/_createVNode(\"td\", { class: \"td-text-align-left\" }, \"Country:\"),\n  /*#__PURE__*/_createVNode(\"td\", { class: \"td-text-align-left\" }, \"Malawi\")\n], -1)\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"td\", { class: \"td-text-align-left\" }, \"Reporting Facility Name:\", -1)\nconst _hoisted_6 = { class: \"td-text-align-left\" }\nconst _hoisted_7 = { class: \"td-text-align-left\" }\nconst _hoisted_8 = { class: \"td-text-align-left\" }\nconst _hoisted_9 = /*#__PURE__*/_createVNode(\"td\", { class: \"td-text-align-left\" }, \"Total OPD Visits: \", -1)\nconst _hoisted_10 = { class: \"td-text-align-left\" }\nconst _hoisted_11 = { id: \"total_visits\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return (_openBlock(), _createBlock(\"table\", _hoisted_1, [\n    _createVNode(\"tr\", _hoisted_2, [\n      _createVNode(\"td\", _hoisted_3, _toDisplayString($props.reportName), 1)\n    ]),\n    _hoisted_4,\n    _createVNode(\"tr\", null, [\n      _hoisted_5,\n      _createVNode(\"td\", _hoisted_6, _toDisplayString($props.clinicName), 1)\n    ]),\n    _createVNode(\"tr\", null, [\n      _createVNode(\"td\", _hoisted_7, _toDisplayString($props.periodLabel), 1),\n      _createVNode(\"td\", _hoisted_8, _toDisplayString($props.periodDates), 1)\n    ]),\n    _createVNode(\"tr\", null, [\n      _hoisted_9,\n      _createVNode(\"td\", _hoisted_10, [\n        _createVNode(\"span\", _hoisted_11, _toDisplayString($props.totalOPDVisits), 1)\n      ])\n    ])\n  ]))\n})","\n  export default {\n    props: {\n      clinicName: {\n        type: String,\n        default: ''\n      },\n      reportparams: {\n        type: Object,\n        required: true\n      },\n      totalOPDVisits: {\n        type: Number,\n        required: true\n      },\n      reportName: {\n        type: String,\n        required: true\n      },\n      periodLabel: {\n        type: String,\n        required: true\n      },\n      periodDates: {\n        type: String,\n        required: true\n      },\n    },\n  }\n  ","import { render } from \"./HMISHeader.vue?vue&type=template&id=3f7e6ba6&scoped=true&ts=true\"\nimport script from \"./HMISHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./HMISHeader.vue?vue&type=script&lang=ts\"\n\nimport \"./HMISHeader.vue?vue&type=style&index=0&id=3f7e6ba6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f7e6ba6\"]])\n\nexport default __exports__"],"sourceRoot":""}