(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TouchFormElement2","TouchFormElement8"],{"51c8":function(e,t,l){"use strict";l.r(t);var o=l("7a23"),n=Object(o["defineComponent"])({emits:["onValue","onFieldActivated"],props:{config:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({label:"",value:""})},defaultValue:{type:Function},fdata:{type:Object,required:!0},cdata:{type:Object,required:!0},options:{type:Function,default:()=>[]},activationState:{type:String,default:""},onValue:{type:Function},onValueUpdate:{type:Function},footerButtonEvent:{type:Object}}});const c=n;t["default"]=c},"804f":function(e,t,l){},"856e":function(e,t,l){"use strict";l("804f")},b043:function(e,t,l){"use strict";l.r(t);var o=l("7a23");const n=e=>(Object(o["pushScopeId"])("data-v-b37011c8"),e=e(),Object(o["popScopeId"])(),e),c={key:0},a=n(()=>Object(o["createElementVNode"])("p",null,null,-1));function i(e,t,l,n,i,d){const r=Object(o["resolveComponent"])("ion-radio"),u=Object(o["resolveComponent"])("ion-label"),s=Object(o["resolveComponent"])("ion-item"),b=Object(o["resolveComponent"])("ion-radio-group"),O=Object(o["resolveComponent"])("ion-list"),j=Object(o["resolveComponent"])("ion-col"),p=Object(o["resolveComponent"])("ion-title"),m=Object(o["resolveComponent"])("ion-row"),v=Object(o["resolveComponent"])("ion-input"),h=Object(o["resolveComponent"])("ion-grid"),f=Object(o["resolveComponent"])("view-port");return Object(o["openBlock"])(),Object(o["createBlock"])(f,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(h,{class:"view-port-content"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{size:"4"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(O,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(b,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected=t)},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.listData,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(s,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:t},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(r,{slot:"start",value:e.label},null,8,["value"]),Object(o["createVNode"])(u,{innerHTML:e.label},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.listData,(t,l)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:l},[e.selected===t.label?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.other.data,(n,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])(h,{style:{"margin-bottom":"10px"},class:"his-card",key:c},{default:Object(o["withCtx"])(()=>{var i;return[null!==t&&void 0!==t&&null!==(i=t.other)&&void 0!==i&&i.rowTitles?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,style:{background:"#F8F8F8"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,{class:"ion-text-center"},{default:Object(o["withCtx"])(()=>{var e,l;return[Object(o["createVNode"])(p,{class:"his-md-text",innerHTML:null!==t&&void 0!==t&&null!==(e=t.other)&&void 0!==e&&e.rowTitles&&(null===t||void 0===t||null===(l=t.other)||void 0===l?void 0:l.rowTitles[c])||""},null,8,["innerHTML"])]}),_:2},1024)]),_:2},1024)):Object(o["createCommentVNode"])("",!0),a,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n,(t,n)=>(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:n},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(j,null,{default:Object(o["withCtx"])(()=>[t.disabled?(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:0,onClick:l=>e.warn("Cannot edit "+t.label),class:"his-sm-text"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,null,{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.label),1)]),_:2},1024),Object(o["createVNode"])(v,{placeholder:"N/A",slot:"end"})]),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0),t.disabled?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:1,class:"his-sm-text",onClick:o=>e.editField(t,e.listData[l].other.data[c])},{default:Object(o["withCtx"])(()=>{var e,l;return[Object(o["createVNode"])(u,{color:null!==t&&void 0!==t&&null!==(e=t.value)&&void 0!==e&&e.label?"":"danger"},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("b",null,Object(o["toDisplayString"])(t.label),1)]),_:2},1032,["color"]),Object(o["createVNode"])(v,{class:"his-md-text",slot:"end",readonly:!0,value:null===t||void 0===t||null===(l=t.value)||void 0===l?void 0:l.label,placeholder:"Click to edit"},null,8,["value"])]}),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]}),_:2},1024))),128))])):Object(o["createCommentVNode"])("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}l("13d5"),l("14d9");var d=l("51c8"),r=l("0a79"),u=l("d867"),s=l("ff79"),b=l("b5e4"),O=l("e6e9"),j=l("2ef0"),p=Object(o["defineComponent"])({name:"HisSelect",mixins:[d["default"]],components:{IonTitle:u["S"],IonInput:u["v"],IonRadioGroup:u["G"],IonRadio:u["F"],IonGrid:u["p"],IonCol:u["m"],IonRow:u["I"],ViewPort:r["a"]},setup(){return{arrowUp:s["h"],arrowDown:s["g"]}},data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){Object(b["e"])(e)},async launchModal(e,t){(await u["ab"].create({component:O["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})).present()},async editField(e,t){const l=l=>{var o,n,c;(e.value=l,"function"===typeof(null===e||void 0===e||null===(o=e.field)||void 0===o?void 0:o.computedValue))&&(e.computedValue=null===e||void 0===e||null===(c=e.field)||void 0===c?void 0:c.computedValue(l));"function"===typeof(null===e||void 0===e||null===(n=e.field)||void 0===n?void 0:n.onValueUpdate)&&e.field.onValueUpdate(l,t)};this.launchModal(e.field,t=>{var o;if(!Array.isArray(t)&&(t.label.match(/unknown/i)&&"function"===typeof(null===(o=e.field)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.onUnknownEstimateField)))return this.launchModal(e.field.config.onUnknownEstimateField(),e=>l(e));l(t)})}},watch:{listData:{handler(e){const t=[],l=e.map(e=>e.other.data).reduce((e,t)=>[...e,...t.reduce((e,t)=>[...e,...t],[])],[]).filter(e=>e.required&&""===e.value?(t.push(e.label),!1):!!e.required).map(e=>({label:e.label,value:e.value,other:{obs:e.computedValue}}));Object(j["isEmpty"])(t)?this.$emit("onValue",l):this.$emit("onValue",[{label:"_INCOMPLETE_RECORD_ERROR_",value:t.length,other:{incompleteLabels:t}}])},deep:!0}}}),m=(l("856e"),l("6b0d")),v=l.n(m);const h=v()(p,[["render",i],["__scopeId","data-v-b37011c8"]]);t["default"]=h}}]);
//# sourceMappingURL=TouchFormElement2.b4e15054.js.map