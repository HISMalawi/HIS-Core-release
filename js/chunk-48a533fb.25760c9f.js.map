{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/Forms/HisStandardForm.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue","webpack:///./src/apps/OPD/views/reports/ReportMixin.vue","webpack:///./src/apps/OPD/views/reports/moh/MOHReportHeader.vue"],"names":["HMISReportService","OpdReportService","constructor","regenerate","setRegenerate","requestHMIS15","getReport","request","requestHMIS17","renderResults","params","all","count","key","value","Object","entries","temp","condition","item","id","name","total","totalPatientIds","key1","value1","conditionDetails","length","push","getCSVString","IDSRConditionsObj","CSVString","row","IDSRReportService","requestIDSRWeekly","requestIDSRMonthly","lessThanFiveYears","lessThanFiveYearsPatientIds","greaterThanEqualFiveYears","greaterThanEqualFiveYearsPatientIds","epiWeeks","epiWeeksObj","Service","getJson","reverse","forEach","dates","split","startDate","endDate","txt","start","end","months","_payload","monthandyear","startandendmonths","trim","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createBlock","_resolveDynamicComponent","formType","fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onFinishAction","onOnIndex","onIndex","defineComponent","components","TouchScreenForm","emits","data","props","type","Function","Boolean","default","String","required","methods","formData","computedData","$emit","i","__exports__","_hoisted_1","class","style","_component_report_table","_resolveComponent","_createVNode","columns","rows","config","tableCssTheme","ReportTable","conditions","table","thTxt","report","Conditions","buildRows","onDownload","dayjs","format","getCoreVersion","getApiVersion","periodDates","getLocationName","getSiteUUID","csvData","Blob","reportTitle","reportName","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","td","textAlign","buildRow","patientIds","tdLink","onDrillDown","watch","immediate","handler","this","reportReady","period","customFileName","drillDownCache","toDate","date","HisDate","toStandardHisDisplayFormat","confirmPatient","patient","$router","title","printW","open","content","getElementById","write","innerHTML","setTimeout","print","close","conditionName","isEmpty","rowParser","Promise","ids","map","personDetails","Patientservice","findByID","getGivenName","getFamilyName","getGender","getAge","getPhoneNumber","getCurrentDistrict","getCurrentVillage","getClosestLandmark","tdBtn","modalController","dismiss","path","drilldownData","asyncRows","modal","create","component","DrilldownTable","cssClass","componentProps","showFilters","rowsPerPage","paginated","showReportStamp","footerColor","present","getDefaultDrillDownTable","tableRows","index","defaultRow","getArvNumber","tdDate","getBirthdate","toString","runTableDrill","drill","values","getEpiweeksFields","helpText","FieldType","TT_SELECT","validation","val","Validation","options","getReportEpiWeeks","items","q","label","moment","other","getMonthlyFields","getReportMonths","getDateDurationFields","useQuarter","setCustomQuarterPeriod","maxQuarter","minDate","maxDate","getSessionDate","quarters","getReportQuarters","generateDateFields","f","estimation","allowUnknown","computeValue","unload","d","s","c","end_date","_","start_date","clinicName","reportparams","totalOPDVisits","Number","periodLabel","rangeLabel","range","colspan","sortable","exportable","mounted","initTable","newValue","oldValue","tableHeaders","LA_TYPES","one","two","three","four","NCD_TYPES","MENTAL_HEALTH_DIAGNOSIS","super","epiweek","programID","getProgramID","getPatientsWithNIDs","getClinicRegistrations","getAttendance","getDrugsGivenWithoutPrescription","getDrugsGivenWithPrescription","getDiagnosis","url","getDiagnosisByAddress","getLaPrescriptions","printLaReport","printService","PrintoutService","keys","v","printLbl","Url","parameterizeObjToString","getDateIntervalPeriod","setStartDate","setEndDate","setEpiWeek","getReportPeriod","buildRequest","payload","minDuration","year","getCurrentYear"],"mappings":"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","file":"js/chunk-48a533fb.25760c9f.js","sourcesContent":["import { Service } from \"@/services/service\";\nimport HisDate from \"@/utils/Date\"\nimport { PrintoutService } from '@/services/printout_service';\nimport Url from \"@/utils/Url\";\n\nexport interface QuarterInterface {\n    name: string;\n    start: string;\n    end: string;\n}\n\nexport const AGE_GROUPS = [\n    '0-5 months', '6-11 months',\n    '12-23 months', '2-4 years', \n    '5-9 years', '10-14 years', \n    '15-17 years', '18-19 years', \n    '20-24 years', '25-29 years', \n    '30-34 years', '35-39 years', \n    '40-44 years', '45-49 years', \n    '50 plus years'\n]\n\nexport const OTHER_AGE_GROUPS = [\n    '<1 year', '1-4 years',\n    '5-9 years', '10-14 years',\n    '15-19 years', '20-24 years',\n    '25-29 years', '30-34 years',\n    '35-39 years', '40-44 years',\n    '45-49 years', '50 plus years'\n]\n\nexport const LA_TYPES: Record<string, string> = {\n    one: 'AL 1', \n    two: 'AL 2', \n    three: 'AL 3', \n    four: 'LA 4'\n}\n\nexport const NCD_TYPES = [\n    'Diabetes',\n    'Hypertension',\n    'Stroke',\n    'Suspected cancer',\n    'Confirmed cancer',\n    'Palliative cancer',\n    'Asthma',\n    'Depression',\n    'Acute psychosis',\n    'Chronic psychosis',\n    'Epilepsy'\n]\n\nexport const MENTAL_HEALTH_DIAGNOSIS = [\n    'Organic mental disorder (Chronic)',\n    'Organic mental disorder (acute)',\n    'Alcohol use mental disorder',\n    'Drug use mental disorder',\n    'Schizophrenia',\n    'Acute and transient psychotic disorder',\n    'Schizo-affective disorder',\n    'Mood-affective disorder (MANIC)',\n    'Mood-affective disorder (BIPOLAR)',\n    'Mood-affective disorder (DEPRESSION)',\n    'Anxiety disorder',\n    'Stress reaction adjustment disorder',\n    'Dissociative conversion disorder',\n    'Somatoform disorder',\n    'Puerperal mental disorder',\n    'Personality/Behaviour disorder',\n    'Mental retardation',\n    'Psychological mental disorder',\n    'Hyperkinetic conduct disorder',\n    'Epilepsy'\n]\n\nexport class OpdReportService extends Service {\n    programID: number;\n    startDate: string;\n    endDate: string;\n    date: string;\n    epiweek: string;\n    constructor() {\n        super()\n        this.endDate = ''\n        this.startDate = ''\n        this.epiweek = ''\n        this.date = Service.getSessionDate()\n        this.programID = Service.getProgramID()\n    }\n\n    getPatientsWithNIDs() {\n        return this.getReport('with_nids')\n    }\n\n    getClinicRegistrations(){\n        return this.getReport('registration');\n    }\n\n    getAttendance(){\n        return this.getReport(`programs/${this.programID}/reports/attendance`)\n    }\n\n    getDrugsGivenWithoutPrescription() {\n        return this.getReport('drugs_given_without_prescription')\n    }\n\n    getDrugsGivenWithPrescription() {\n        return this.getReport('drugs_given_with_prescription')\n    }\n\n    getDiagnosis(){\n        const url = `programs/${this.programID}/reports/diagnosis`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            'date': this.date\n        })\n    }\n\n    getDiagnosisByAddress(){\n        return this.getReport('diagnosis_by_address')\n    }\n\n    getLaPrescriptions(){\n        const url = `programs/${this.programID}/reports/la_prescriptions`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            \n        })\n    }\n\n    printLaReport(data: Record<string, any>){\n        const printService = new PrintoutService()\n        const url = `programs/${this.programID}/barcodes/la_report`\n        const params: Record<string, any> = {\n            \"date[start]\": this.startDate,\n            \"date[end]\": this.endDate\n        }\n        Object.keys(LA_TYPES).forEach((v, i) => {\n            i++\n            params[`${i}[prescription]`] = data[`total_la_${v}_prescribed_drugs`]\n            params[`${i}[dispensed]`] = data[`total_la_${v}_dispensed_drugs`]\n        })\n        return printService.printLbl(`${url}?${Url.parameterizeObjToString(params)}`)\n    }\n\n    getDateIntervalPeriod() {\n        return `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n    }\n\n    setStartDate(startDate: string) {\n        this.startDate = startDate\n    }  \n\n    setEndDate(endDate: string) {\n        this.endDate = endDate\n    }\n\n    setEpiWeek(epiweek: string) {\n        this.epiweek = epiweek\n    }\n\n    getReportPeriod() {\n        return this.startDate && this.endDate\n         ? `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n         : '-'\n    }\n\n    getReport(url: string, params={}) {\n        return Service.getJson(url, this.buildRequest(params))\n    }\n\n    buildRequest(config: Record<string, any> = {}) {\n        const payload: any = {'date': this.date, 'program_id': this.programID}\n        if (this.startDate && this.endDate) {\n            payload['start_date'] = this.startDate\n            payload['end_date'] = this.endDate\n        }\n        if (this.epiweek) {\n            payload['epiweek'] = this.epiweek\n        }\n        return { ...payload, ...config }\n    }\n\n    static getReportQuarters(minDuration= 4) {\n        const quarters: Array<QuarterInterface> = []\n        let year = HisDate.getCurrentYear()\n        for(let i=0; i < minDuration; ++i) {\n            quarters.push({ name: `Q4 ${year}`, start: `${year}-10-01`, end: `${year}-12-31` })\n            quarters.push({ name: `Q3 ${year}`, start: `${year}-07-01`, end: `${year}-09-30` })\n            quarters.push({ name: `Q2 ${year}`, start: `${year}-04-01`, end: `${year}-06-30` })\n            quarters.push({ name: `Q1 ${year}`, start: `${year}-01-01`, end: `${year}-03-31` })\n            --year\n        }\n        return quarters\n    }\n\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"1%\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_table = _resolveComponent(\"report-table\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_report_table, {\n      columns: _ctx.columns,\n      rows: _ctx.rows,\n      config: {tableCssTheme: _ctx.tableCssTheme}\n    }, null, 8, [\"columns\", \"rows\", \"config\"])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface, RowInterface } from \"@/components/DataViews/tables/ReportDataTable\"\n\nexport default defineComponent({\n    components: { ReportTable },\n    props: {\n      clinicName: {\n        type: String,\n        default: ''\n      },\n      reportparams: {\n        type: Object,\n        required: true\n      },\n      totalOPDVisits: {\n        type: Number,\n        required: true\n      },\n      reportName: {\n        type: String,\n        required: true\n      },\n      periodLabel: {\n        type: String,\n        required: true\n      },\n      periodDates: {\n        type: String,\n        required: true\n      },\n      rangeLabel: {\n        type: String,\n        required: true\n      },\n      range: {\n        type: String,\n        required: true\n      },\n    },\n    data: function() {\n      return {\n        tableCssTheme: 'opd-report-theme',\n        rows: [] as RowInterface[][],\n        columns: [\n            [\n              table.thTxt(this.reportName, {\n                colspan: 2,\n                sortable: false,\n                exportable: false \n              })\n            ]\n        ] as ColumnInterface[][],\n      }\n    },\n    mounted() {\n      this.initTable()\n    },\n    watch: {\n       totalOPDVisits(newValue, oldValue) {\n         this.initTable()\n       }\n    },\n    methods: {\n      initTable() {\n        const rows: RowInterface[][] = []\n        const tableHeaders = [\n          {\n            name: 'Country:',\n            value: 'Malawi',\n          },\n          {\n            name: 'Reporting Facility Name:',\n            value: this.clinicName\n          },\n          {\n            name: this.rangeLabel+':',\n            value: this.range\n          },\n          {\n            name: this.periodLabel+':',\n            value: this.periodDates\n          },\n          {\n            name: 'Total OPD Visits:',\n            value: this.totalOPDVisits\n          }\n\n        ]\n        tableHeaders.forEach(item => {\n          if(item.name !== 'undefined:') {\n                rows.push([\n                    table.td(item.name, {style: {textAlign: 'left'}}),\n                    table.td(item.value, {style: {textAlign: 'left'}}),\n                ])\n          }\n        })\n        this.rows = rows\n      }\n    }\n  })\n  ","import { render } from \"./HisStandardForm.vue?vue&type=template&id=6daa0375&ts=true\"\nimport script from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\nexport * from \"./HisStandardForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HMISTemplate.vue?vue&type=template&id=0bcecae1&ts=true\"\nimport script from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./ReportMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./ReportMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./MOHReportHeader.vue?vue&type=template&id=3d81af96&ts=true\"\nimport script from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}