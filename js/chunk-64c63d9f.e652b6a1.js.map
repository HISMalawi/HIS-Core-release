{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/DataViews/VLReminderModal.vue","webpack:///./src/components/DataViews/SideEffectsModal.vue","webpack:///./src/apps/ART/views/encounters/Consultation.vue","webpack:///./src/components/DataViews/VLReminderModal.vue?d9fa","webpack:///./src/components/DataViews/SideEffectsModal.vue?2579","webpack:///./src/apps/ART/views/encounters/AdherenceMixin.vue"],"names":["HTN_SESSION_KEY","BPManagementService","AppEncounterService","constructor","patientID","providerID","sbp","dbp","bpTrail","firstRecentGrade","secondRecentGrade","Object","values","sort","a","b","date","map","bp","getBpGrade","getSystolicBp","ObservationService","getFirstValueNumber","getDiastolicBp","query","getFirstValueCoded","getJson","drugID","pills","postJson","state","getDrugs","HCZ","drugs","drugName","amount","current","selected","isChecked","dispensed","expectedRemaining","adherence","notes","Enalapril","remaining","Amlodipine","Atenolol","DEFAULT_KEYPAD","VITALS_KEYPAD","DRUG_DISPENSER_KEYPAD","CD4_COUNT_PAD_LO","SYMBOLS","NUMBER_PAD_LO","MONTHLY_DAYS_LO","ALPHABETICAL_LO","QWERTY_LO","CHARACTERS_AND_NUMBERS_LO","NOTE_PAD_KEYBOARD","LOGIN_KEYBOARD","ConsultationService","getFamilyPlanningMethods","orders","DrugOrderService","getAllDrugOrders","rifapentine","isoniazid","reduce","quantities","order","name","drug","match","quantity","e","console","error","obs","getFirstObs","value_text","obsInValidPeriod","getDrugSideEffects","getProgramID","getClient","req","id","isEmpty","lastScreened","duration","dayjs","diff","secondCheck","getFirstValueText","isTL","value_coded","tlObs","fpObs","uniqueDrugs","forEach","drug_inventory_id","familyPlanningMethods","label","familyPlanningLogic","data","value","disabled","StockService","Service","drugId","stock","length","accum","pharm","current_quantity","DRUG_PACK_SIZES","DispensationService","drugHistory","currentDrugOrder","useDrugManagement","setIsDrugManagementEnabled","isEnabled","ART_PROP","drugManagementEnabled","getDrugHistory","getCurrentOrder","buildDispensations","orderId","tabs","totalPacks","dispensations","i","push","saveDispensations","void","res","getDrugOrderHistory","warn","getDrugOrders","d","fetchAvailableDrugStock","drug_id","Promise","all","getDrugPackSizes","calcCompletePack","units","drugOrderBarcodes","barcodes","parseInt","completePack","SYMBOLS_CONFIG","NUMBERS_ONLY","NUMBERS_WITH_UNKNOWN","NUMBERS_WITH_ESTIMATE","NUMBERS_WITHOUT_NA_UNKNOWN","NUMBERS","MONTHLY_DAYS","A_TO_Z","QWERTY","KEY_BTN_NAV","btn","keyboard","render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_openBlock","_createBlock","fields","onFinishAction","onFinish","skipSummary","cancelDestinationPath","cancelDestination","_withId","_withScopeId","_pushScopeId","_hoisted_1","_createTextVNode","_hoisted_2","_hoisted_3","_hoisted_4","_popScopeId","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_content","_component_ion_button","_component_ion_footer","_Fragment","_createVNode","default","_","style","overflowY","background","_toDisplayString","artStartDate","monthsOnART","lastOrder","currentRegimen","regimenStartDate","slot","color","size","onClick","$event","closeModal","defineComponent","props","VLData","type","required","HisDate","toStandardHisDisplayFormat","earliest_start_date","period_on_art","last_order_date","current_regimen","date_started","methods","val","modalController","dismiss","content","components","IonHeader","IonToolbar","IonTitle","IonContent","IonFooter","IonButton","__exports__","ARTLabService","milestone","concept","getConceptID","coded","class","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_radio","_component_ion_radio_group","_component_ion_row","_component_ion_grid","height","_renderList","sides","index","key","selectSideEffect","detail","activeIndex","modelValue","_createCommentVNode","postSideEffects","allSelected","sideEffects","Array","computed","filter","side","mounted","extendedLabsEnabled","appActivities","specimens","reasons","IonLabel","IonList","IonItem","IonRadioGroup","IonRow","mixins","AdherenceMixinVue","HisStandardForm","currentWeight","weightTrail","customRegimens","labOrders","weightLossPercentageNum","lostTenPercentBodyWeight","CxCaEnabled","CxCaStartAge","CxCaMaxAge","DueForCxCa","currentlyPregnant","patientHitMenopause","hasPregnancyObsToday","autoSelect3HP","labOrderFieldContext","consultation","prescription","dispensation","completed3HP","hasTbHistoryObs","allergicToSulphur","TBSuspected","presentedTBSymptoms","askAdherence","lastDrugsReceived","sideEffectsHistory","onPermanentFPMethods","reasonForDecliningTPTObs","malawiSideEffectReasonObs","otherSideEffectReasonObs","wasTransferredIn","dateStartedArt","clientHadAHysterectomy","isNoneClientPatient","watch","ready","handler","PrescriptionService","getFields","immediate","f","computedData","encounter","createEncounter","toastWarning","computedObs","resolveObs","secondaryObs","savedObs","saveObservationList","drugObs","saveAdherence","toastSuccess","refer_to_clinician","gotoPatientDashboard","nextTask","receivedArvs","transferLetterObs","toStandardHisFormat","obs_datetime","getDate","dateStarted","getFirstValueDatetime","action","infoActionSheet","vals","ProgramService","getPatientVLInfo","eligibile","modal","create","component","VLReminderModal","backdropDismiss","cssClass","componentProps","present","onDidDismiss","launchOrderSelection","waitForVL","orderService","observations","buildDefferedOrder","canScreenCxCa","age","patient","getAge","isFemale","pregnancyEligible","isChildBearing","showCurrentContraceptionMethods","formData","isPregnant","isANCclient","showNewContraceptionMethods","isOnTubalLigation","pregnant_breastfeeding","inArray","p","current_fp_methods","listData","infoAlert","noneIndex","findIndex","currentIndex","disablePrescriptions","buildMedicationOrders","options","o","buildValueCoded","priscribed","medications","declinedFPM","fp_methods","riskOfUnplannedPregnancy","reason_for_no_fpm","showOtherSideEffects","side_effects","hasTBSymptoms","tb_side_effects","attr","sideEffectReasons","getSideEffectsReasons","undefined","drugInducedConcept","ConceptService","getCachedConceptID","isOtherReason","reason","r","allYes","s","SideEffectsModalVue","getFPMethods","exclusionList","preChecked","filtered","includes","method","getOptions","preValues","preValue","find","other","yesNoOptions","getContraindications","contraIndications","getConceptsByCategory","getOtherContraindications","lastElement","pop","getTBSymptoms","getReasonsForNoCxcaOptions","c","runAppendOptionParams","prechecked","checkedOptions","appendOptionParams","appendedOptions","option","didCompleted3HP","routine_tb_therapy","tptAutoSelectionMode","curOption","is3HPorTPT","ipt3HPConflict","checkedDrugs","item","noTpTPresent","every","Boolean","optionsActionSheet","role","buildValueText","selection","medicationOrderOptions","disableOption","text","description","show","toOption","OrderService","formatLabs","Store","get","getSuspendedProgram","proxyID","helpText","FieldType","TT_MULTIPLE_SELECT","init","isGuardian","PatientTypeService","isDrugRefillPatient","Number","getRecentWeight","validation","Validation","computedValue","v","tag","onValueUpdate","list","on3HPValueUpdate","cd","l","condition","exitsForm","generateDateFields","getTransferInStatus","getDateStartedArt","minDate","maxDate","computeValue","setDate","buildValueDate","estimation","allowUnknown","getCustomIngridients","config","showKeyboard","TT_NEXT_VISIT_INTERVAL_SELECTION","nextAppointment","intervals","setNextVisitInterval","calculateDateFromInterval","TT_DRUG_TRANSFER_IN","validateSeries","pillsBrought","some","buildObs","drug_interval","child","date_last_received_arvs","previous_arvs_received","prevValue","qty","rmndr","TT_LAB_ORDERS","getVlLabData","unload","checkVLReminder","noGivenResults","result_given","alertConfirmation","enc","result","resultIds","encounterID","encounter_id","saveObs","resultID","onload","fieldContext","printOrder","orderID","PatientPrintoutService","printLabOrderLbl","hiddenFooterBtns","footerBtns","visible","getTLObs","TT_MULTIPLE_YES_NO","anyEmpty","concat","TT_WEIGHT_CHART","getWeightHistory","getWeightLossPercentageFromTrail","bmi","getBMI","x","y","weight","TT_TEXT_BANNER","mapStrToOptions","disableFPMethods","checked","TT_SELECT","offer_contraceptives","cervicalCancerScreeningEnabled","start","end","cervicalCancerScreeningAgeBounds","clientDueForCxCa","clientHasHadAHysterectomy","offer_cxca","getBirthdate","getSessionDate","reason_for_no_cxca","isEstimate","buildValueDateEstimated","estimationFieldType","EstimationFieldType","MONTH_ESTIMATE_FIELD","TT_DATA_TABLE","columns","table","thTxt","rows","keys","k","tdDate","td","drug_induced","cur","getPreviousDrugs","beforeNext","buildSideEffectObs","onValue","checkIfWeightLossIsControlled","onConditionFalse","TT_NOTE","other_side_effects","on_tb_treatment","defaultValue","hasTreatmentHistoryObs","patientCompleted3HP","hasCompleteTptDispensations","yesNoUnknownOptions","getAdherenceFields","UserService","isNurse","currentOptions","onClickComponentEvents","refreshOptions","btnEvent","btnOutput","pageSize","params","patientId","getYearField","showUnknown","primaryFunctions","appearInSummary","TT_TEXT","customKeyboard","getMonthField","MonthOptions","getDayField","TT_MONTHLY_DAYS","getMonthDurationEstimateField","getAgeEstimateField","TT_NUMBER","keypad","appendLeadingZero","getDefaultDate","form","field","datePart","year","month","day","split","validateMinMax","min","Date","max","refDate","fullDate","yearValue","monthValue","dayValue","yearID","monthID","dayID","ageEstimateID","durationEstimateID","ageEstimate","durationEstimate","estimateMonthOrDay","allowUnknownMonthDay","datePartCondition","buildHelpTextDate","part","parts","partValues","dpart","wl","join","updateHelpTextOnValue","toString","StandardValidations","isNaN","minYear","getYear","summaryMapValue","summaryLabel","ref","keyboardActions","valueEstimateCondition","estimateType","conditions","ageEstimateRegex","AGE_ESTIMATE_FIELD","subtract","format","STANDARD_DATE_FORMAT","RegimenService","AdverseEffectsCategories","nextVisitInterval","fastTrack","regimenExtras","fastTrackMedications","hangingPills","medicationOrders","treatmentState","contraindications","tptPrescriptionCount","lastSideEffectDate","getHangingPills","getMedicationOrders","getCachedConceptName","getTptPrescriptionCount","getLastSideEffectDate","getSideEffects","getRegimenExtras","getPatientRegimens","getRegimens","getFastTrackMedications","getTreatmentState","isFastTrack","medicationOrdersAvailable","shouldPrescribeArvs","arvs","shouldPrescribeExtras","extras","extrasAvailable","concept_id","getRegimenStarterpack","regimenCode","patientWeight","regimen","contraindication","getObs","drugInduced","value_drug","count","yes","meds","getAll","value_numeric","drug_order","getLastDrugsReceived","withDosages","dosage","getDrugDosages","am","noon","pm","frequency","findAndGroupDrugSideEffects","allSideEffects","calculatePillsPerDay","parseFloat","estimatePackSize","pillsPerDay","packSize","packs","roundedPacks","Math","round","calculateDosage","morningTabs","eveningTabs","dose","calculateEquivalentDosage","dateObj","getDrugPackSize","pack_size","getInstructions","toOrderObj","drugOrders","response","saveValueTextObs","reasonForSwitch","AdherenceService","super","this","lastDrugs","lastReceiptDate","receiptDate","start_date","htnDrugs","htnDrugReferences","getReceiptDate","getLastDrugs","receivedDrugsBefore","buildPillCountObs","pillCount","buildValueNumber","isAdherenceGood","calculateAdherence","given","expected","calculateExpected","equivalentDailyDose","startDate","timeUnit","daysGone","calcTimeElapsed","date1","calculateUnaccountedOrMissed","actual","exp","EncounterMixinVue","askReasonForPoorAdherence","calculationAgreementObs","buildAdherenceReport","lastVisit","daysElapsed","timeElapse","rowColors","indexes","cellColors","formatFrequency","expectedPills","calcPillsExpected","adherenceStatus","unAccountedDoses","equivalent_daily_dose","row","checkDrugsBefore","TT_ADHERENCE_INPUT","async","loadPreviousDrugs","empty","buildAdherenceObs","order_id","fdata","pills_brought","TT_TABLE_VIEWER"],"mappings":"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","file":"js/chunk-64c63d9f.e652b6a1.js","sourcesContent":["import { AppEncounterService } from \"@/services/app_encounter_service\"\nimport { DrugInterface } from \"@/interfaces/Drug\"\nimport HisDate from \"@/utils/Date\"\nimport { isEmpty } from \"lodash\"\nimport { BPManagementService } from \"./htn_service\"\nimport dayjs from \"dayjs\"\n\nexport class AdherenceService extends AppEncounterService {\n    lastDrugs: Array<DrugInterface>\n    lastReceiptDate: string\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 68, providerID) //TODO: Use encounter type reference name\n        this.lastDrugs = []\n        this.lastReceiptDate = ''\n    }\n\n    async loadPreviousDrugs() {\n        const date = new Date(this.date)\n        date.setDate(date.getDate() - 1) // we don't want current date to count\n        const d = (date: string | Date) => HisDate.toStandardHisFormat(date)\n        const drugs = await AppEncounterService.getJson(\n            `patients/${this.patientID}/drugs_received`, { date: d(date) }\n        )      \n        if (drugs) {\n            this.lastReceiptDate = drugs.reduce((receiptDate: string | null,  drug: any) => {\n                return !receiptDate || (new Date(d(drug.order.start_date)) > new Date(receiptDate))\n                    ?  d(drug.order.start_date)\n                    : receiptDate\n            }, null)\n            const htnDrugs = BPManagementService.htnDrugReferences().map((d: any) => d.drug_id)\n            this.lastDrugs = drugs.filter((drug: DrugInterface) => \n               !htnDrugs.includes(drug.drug['drug_id']) && d(drug.order.start_date) === this.lastReceiptDate\n            )\n        }\n    }\n\n    getReceiptDate() { return this.lastReceiptDate }\n\n    getLastDrugs() { return this.lastDrugs }\n\n    receivedDrugsBefore() { return !isEmpty(this.lastDrugs) }\n\n    buildPillCountObs(orderId: number, pillCount: number) {\n        return this.buildValueNumber('Number of tablets brought to clinic', pillCount, null, orderId)\n    }\n\n    async buildAdherenceObs(orderId: number, drugId: number, adherence: number) {\n        const concept = await AppEncounterService.getConceptID('Drug adherence', true)\n        return {\n            'concept_id': concept,\n            'value_numeric': adherence,\n            'value_drug': drugId,\n            'value_modifier': '%',\n            'order_id': orderId,\n            'person_id': this.patientID,\n            'obs_datetime': AppEncounterService.getSessionDate()\n        }\n    }\n\n    isAdherenceGood(adherence: number) {\n        return adherence >= 95 && adherence <= 105\n    }\n\n    calculateAdherence(given: number, pills: number, expected: number) {\n        return Math.round(100 * (given - pills) / (given - expected));\n    }\n\n    calculateExpected(\n        given: number, \n        equivalentDailyDose: number, \n        startDate: string, \n        frequency: 'QOD' | 'QW'\n    ) {\n        const timeUnit = frequency === 'QW' ? 'week' : 'day'\n        const daysGone = this.calcTimeElapsed(startDate, timeUnit);\n        return (given - (daysGone * parseFloat(equivalentDailyDose.toString())));\n    }\n\n    calcTimeElapsed(date1: string, timeUnit: 'week' | 'day') {\n        return dayjs(this.date).diff(date1, timeUnit)\n    }\n\n    calculateUnaccountedOrMissed(expected: string, actual: string) {\n        const exp = (parseFloat(expected) - parseFloat(actual));\n        return (exp < 0 ? ((exp * -1) + ' missed') : (exp + ' unacc'));\n    }\n}\n","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-546674a2\")\n\n_pushScopeId(\"data-v-546674a2\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Side effects suspected causes\")\nconst _hoisted_2 = { style: {} }\nconst _hoisted_3 = /*#__PURE__*/_createVNode(\"div\", { class: \"side-title\" }, \" Select reason \", -1)\nconst _hoisted_4 = /*#__PURE__*/_createVNode(\"p\", null, \"Current Medication\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"p\", null, \"Previous Medication\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Other, not drug related\")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Drug side effect\")\nconst _hoisted_8 = /*#__PURE__*/_createVNode(\"p\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Close \")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" Save \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_label = _resolveComponent(\"ion-label\")\n  const _component_ion_item = _resolveComponent(\"ion-item\")\n  const _component_ion_list = _resolveComponent(\"ion-list\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_radio = _resolveComponent(\"ion-radio\")\n  const _component_ion_radio_group = _resolveComponent(\"ion-radio-group\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_title, null, {\n              default: _withId(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: { overflowY: 'hidden', background: 'grey' } }, {\n      default: _withId(() => [\n        _createVNode(_component_ion_grid, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_row, null, {\n              default: _withId(() => [\n                _createVNode(_component_ion_col, { size: \"4\" }, {\n                  default: _withId(() => [\n                    _createVNode(_component_ion_list, { style: {overflowY: 'auto', height:'78vh'} }, {\n                      default: _withId(() => [\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.sides, (data, index) => {\n                          return (_openBlock(), _createBlock(_component_ion_item, {\n                            key: data,\n                            onClick: $event => (_ctx.selectSideEffect(index)),\n                            detail: true,\n                            style: _ctx.activeIndex === index ? 'color: green': 'color: black'\n                          }, {\n                            default: _withId(() => [\n                              _createVNode(_component_ion_label, null, {\n                                default: _withId(() => [\n                                  _createTextVNode(_toDisplayString(data.label), 1 /* TEXT */)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1032, [\"onClick\", \"style\"]))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_ion_col, { style: {overflowY: 'auto', height:'78vh'} }, {\n                  default: _withId(() => [\n                    _createVNode(\"div\", _hoisted_2, [\n                      _createVNode(_component_ion_list, null, {\n                        default: _withId(() => [\n                          (_ctx.activeIndex !== null)\n                            ? (_openBlock(), _createBlock(_component_ion_radio_group, {\n                                key: 0,\n                                modelValue: _ctx.sides[_ctx.activeIndex]['reason'],\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => (_ctx.sides[_ctx.activeIndex]['reason'] = $event))\n                              }, {\n                                default: _withId(() => [\n                                  _hoisted_3,\n                                  _hoisted_4,\n                                  (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugs, (drug, i) => {\n                                    return (_openBlock(), _createBlock(_component_ion_item, { key: i }, {\n                                      default: _withId(() => [\n                                        _createVNode(_component_ion_label, null, {\n                                          default: _withId(() => [\n                                            _createTextVNode(_toDisplayString(drug.drug.name), 1 /* TEXT */)\n                                          ]),\n                                          _: 2\n                                        }, 1024),\n                                        _createVNode(_component_ion_radio, {\n                                          slot: \"start\",\n                                          value: drug.drug_inventory_id\n                                        }, null, 8, [\"value\"])\n                                      ]),\n                                      _: 2\n                                    }, 1024))\n                                  }), 128 /* KEYED_FRAGMENT */)),\n                                  _hoisted_5,\n                                  _createVNode(_component_ion_item, null, {\n                                    default: _withId(() => [\n                                      _createVNode(_component_ion_label, null, {\n                                        default: _withId(() => [\n                                          _hoisted_6\n                                        ]),\n                                        _: 1\n                                      }),\n                                      _createVNode(_component_ion_radio, {\n                                        slot: \"start\",\n                                        value: \"other\"\n                                      })\n                                    ]),\n                                    _: 1\n                                  }),\n                                  _createVNode(_component_ion_item, null, {\n                                    default: _withId(() => [\n                                      _createVNode(_component_ion_label, null, {\n                                        default: _withId(() => [\n                                          _hoisted_7\n                                        ]),\n                                        _: 1\n                                      }),\n                                      _createVNode(_component_ion_radio, {\n                                        slot: \"start\",\n                                        value: \"drug\"\n                                      })\n                                    ]),\n                                    _: 1\n                                  })\n                                ]),\n                                _: 1\n                              }, 8, [\"modelValue\"]))\n                            : _createCommentVNode(\"\", true)\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _hoisted_8\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.closeModal,\n              slot: \"end\",\n              color: \"danger\"\n            }, {\n              default: _withId(() => [\n                _hoisted_9\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.postSideEffects,\n              slot: \"end\",\n              disabled: !_ctx.allSelected\n            }, {\n              default: _withId(() => [\n                _hoisted_10\n              ]),\n              _: 1\n            }, 8, [\"onClick\", \"disabled\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64 /* STABLE_FRAGMENT */))\n})","\nimport { defineComponent } from 'vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { Field, Option } from \"@/components/Forms/FieldInterface\"\nimport { toastWarning } from \"@/utils/Alerts\"\nimport { AdherenceService } from \"@/apps/ART/services/adherence_service\"\nimport EncounterMixinVue from '../../../../views/EncounterMixin.vue'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport HisDate from \"@/utils/Date\"\nimport { isEmpty } from 'lodash'\nexport default defineComponent({\n    mixins: [EncounterMixinVue],\n    data: () => ({\n        adherence: {} as any,\n        drugObs: [] as any,\n        askReasonForPoorAdherence: false,\n        calculationAgreementObs: [] as any,\n    }),\n    methods: {\n        async saveAdherence() {\n            await this.adherence.createEncounter()\n            const data = await Promise.all([...this.drugObs, ...this.calculationAgreementObs])\n            const obs = await this.adherence.saveObservationList(data)\n\n            if (!obs) return toastWarning('Unable to save patient observations')\n        },\n        buildAdherenceReport(data: any) {\n            const lastVisit = this.adherence.getReceiptDate()\n            const daysElapsed = this.adherence.calcTimeElapsed(lastVisit, 'day')\n            const timeElapse = ` Last visit: ${HisDate.toStandardHisDisplayFormat(lastVisit)} \n                (${daysElapsed} Days Elapsed)`\n            const rowColors = [{ indexes: [0, 3, 6], class: 'adherence-col-bg' }]\n            const cellColors: any = []\n            const columns = [timeElapse]\n            const rows = [\n                ['Prescription'],\n                ['Tabs given'],\n                ['Tabs per'],\n                ['Tabs remaining'],\n                ['Expected'],\n                ['Actual (counted)'],\n                ['Adherence'],\n                ['Doses missed/ Unaccounted for'],\n                ['Doses consumed'],\n                ['Art Adherence']\n            ]        \n            data.forEach((order: any, index: number) => {\n                const frequency = this.formatFrequency(order.frequency)\n                const expectedPills = this.calcPillsExpected(order)\n                const adherence = this.adherence.calculateAdherence(\n                    order.quantity, order.pillsBrought, expectedPills\n                )\n                const adherenceStatus = this.adherence.isAdherenceGood(adherence) \n                    ? 'Good adherence' \n                    : 'Explore problem'\n                const unAccountedDoses = this.adherence.calculateUnaccountedOrMissed(\n                    expectedPills, order.pillsBrought\n                )\n                columns.push(order.drug.name)\n                rows[0].push('')\n                rows[1].push(order.quantity)\n                rows[2].push(`${order.equivalent_daily_dose} <b>${frequency}</b>`)\n                rows[3].push('')\n                rows[4].push(expectedPills < 0 ? 0 : expectedPills)\n                rows[5].push(order.pillsBrought)\n                rows[6].push('')\n                rows[7].push(unAccountedDoses)\n                rows[8].push(`${adherence}%`)\n                rows[9].push(adherenceStatus)\n\n                cellColors.push({ \n                    index: index+1,\n                    row: 9, \n                    class: adherenceStatus.match(/good/i) ? 'adherence-txt-good' : 'adherence-txt-bad' \n                })\n            })\n            return [\n                { \n                    label: 'Selected Medication', \n                    value:'Table', \n                    other: { columns, rows, rowColors, cellColors }\n                }      \n            ]\n        },\n        formatFrequency(frequency: string) {\n            return `${frequency}`.match(/qod/i) \n                    ? 'QOD'\n                    : `${frequency}`.match(/weekly/i) \n                    ? 'QW'\n                    : frequency\n        },\n        calcPillsExpected(d: any) {\n            return this.adherence.calculateExpected(\n                d.quantity, \n                d.equivalent_daily_dose, \n                d.order.start_date,\n                this.formatFrequency(d.frequency) as 'QOD' | 'QW'\n            )\n        },\n        getAdherenceFields(checkDrugsBefore=false): Array<Field> {\n            return [\n                {\n                    id: 'pills_brought',\n                    helpText: 'Pills remaining (brought to clinic)',\n                    type: FieldType.TT_ADHERENCE_INPUT,\n                    init: async () => {\n                        this.adherence = new AdherenceService(this.patientID, this.providerID)\n                        await this.adherence.loadPreviousDrugs()\n                        return true\n                    },\n                    condition: () => checkDrugsBefore ? this.adherence.receivedDrugsBefore() : true,\n                    validation: (val: any) => {\n                        if (Validation.required(val)) return ['No drugs available']\n\n                        const empty = val.map((i: Option) => i.value === '')\n                        \n                        return  empty.some(Boolean) ? ['Some values are missing'] : null\n                    },\n                    unload: async (data: any) => {\n                        this.drugObs = []\n                        data.forEach(async(val: Option) => {\n                            const {drug, order } = val.other\n                            const data = { ...val.other, pillsBrought: val.value }\n                            const adherence = this.adherence.calculateAdherence(\n                                data.quantity, data.pillsBrought, this.calcPillsExpected(data)\n                            )\n                            this.drugObs.push(\n                                this.adherence.buildAdherenceObs(order.order_id, drug.drug_id, adherence)\n                            )\n                            this.drugObs.push(\n                                this.adherence.buildPillCountObs(order.order_id, val.value)\n                            )\n\n                            if (!this.askReasonForPoorAdherence) {\n                                this.askReasonForPoorAdherence = !this.adherence.isAdherenceGood(data)\n                            }\n                        })\n                    },\n                    options: (fdata: any) => {\n                        if (!isEmpty(fdata.pills_brought)) {\n                            return fdata.pills_brought\n                        }\n                        return this.adherence.getLastDrugs().map((data: any) => ({\n                            label: data.drug.name,\n                            value: '',\n                            other: {\n                                ...data\n                            }\n                        }))\n                    }\n                },\n                {\n                    id: \"adherence_report\",\n                    helpText: \"ART adherence\",\n                    type: FieldType.TT_TABLE_VIEWER,\n                    condition: () => checkDrugsBefore ? this.adherence.receivedDrugsBefore() : true,\n                    options: (d: any) => this.buildAdherenceReport(\n                        d.pills_brought.map((i: Option) => ({ \n                            ...i.other, pillsBrought: i.value\n                        }))\n                    ),\n                    config: {\n                        hiddenFooterBtns: [\n                            'Clear'\n                        ]\n                    }\n                },\n                {\n                    id: \"agree_with_calculation\",\n                    helpText: \"Agree with adherence calculation\",\n                    type: FieldType.TT_SELECT,\n                    condition: () => this.askReasonForPoorAdherence,\n                    validation: (val: Option) => Validation.required(val),\n                    unload: ({ value }: Option) => {\n                        this.calculationAgreementObs = [ this.adherence.buildValueCoded(\n                            'Reason for poor treatment adherence', value\n                        )]\n                    },\n                    options: () => [\n                        { label: 'Yes', value: 'Yes' },\n                        { label: 'No', value: 'No' }\n                    ]\n                }\n            ]\n        }\n    }\n})\n","import { render } from \"./VLReminderModal.vue?vue&type=template&id=10a26cd2&scoped=true&ts=true\"\nimport script from \"./VLReminderModal.vue?vue&type=script&lang=ts\"\nexport * from \"./VLReminderModal.vue?vue&type=script&lang=ts\"\n\nimport \"./VLReminderModal.vue?vue&type=style&index=0&id=10a26cd2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10a26cd2\"]])\n\nexport default __exports__","import { render } from \"./SideEffectsModal.vue?vue&type=template&id=546674a2&scoped=true&ts=true\"\nimport script from \"./SideEffectsModal.vue?vue&type=script&lang=ts\"\nexport * from \"./SideEffectsModal.vue?vue&type=script&lang=ts\"\n\nimport \"./SideEffectsModal.vue?vue&type=style&index=0&id=546674a2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-546674a2\"]])\n\nexport default __exports__","import { render } from \"./Consultation.vue?vue&type=template&id=553604d7&ts=true\"\nimport script from \"./Consultation.vue?vue&type=script&lang=ts\"\nexport * from \"./Consultation.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VLReminderModal.vue?vue&type=style&index=0&id=10a26cd2&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SideEffectsModal.vue?vue&type=style&index=0&id=546674a2&scoped=true&lang=css\"","import script from \"./AdherenceMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./AdherenceMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}