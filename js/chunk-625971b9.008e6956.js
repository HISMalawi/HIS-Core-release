(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-625971b9"],{3800:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return m}));var r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],a=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],i=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],u=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],o=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],l=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],s=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],f=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],p=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],m=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"6be2":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n("3800"),a=[r["k"],[["","Delete"]]],i=[r["i"],[["Delete"]]],u=[r["i"],[["Delete","Unknown"]]],o=[r["i"],[["N/A"],["Delete","Unknown"]]],c=[r["i"],[["Delete"]]],l=[r["i"],[["Unknown","Delete"],["Qwerty","A-Z"]]],s=[r["g"],[["Unknown"]]],d=[r["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],f=[r["j"],[["","Delete"],["?123","0-9"],["Space","Unknown"]]],p=[{btn:"0-9",keyboard:l},{btn:"?123",keyboard:a},{btn:"A-Z",keyboard:d},{btn:"Qwerty",keyboard:f}]},7920:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,i,u){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var i=n("9441"),u=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:i["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),o=n("d959"),c=n.n(o);const l=c()(u,[["render",a]]);t["a"]=l},"80b5":function(e,t,n){"use strict";var r=n("b85c"),a=n("1da1"),i=n("5530"),u=(n("96cf"),n("d81d"),n("ac1f"),n("466d"),n("4de4"),n("d3b7"),n("99af"),n("1276"),n("b0c0"),n("e86e")),o=n("d95e"),c=n("2706"),l=n("d10e"),s=n("b446"),d=n("9283"),f=n("23e6"),p=n("2ef0"),m=n("b5e4"),h=n("5713"),b=n("1c74");function v(e){return e.map((function(e){return{label:e,value:e}}))}t["a"]={resolvePerson:function(e){var t={};for(var n in e){var r=e[n];Object(p["isPlainObject"])(r)&&"person"in r&&(Object(p["isPlainObject"])(r.person)?t=Object(i["a"])(Object(i["a"])({},t),r.person):t[n]=r["person"])}return t},getGivenNameField:function(){return{id:"given_name",helpText:"First name",type:o["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].isName(e)},options:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.given_name){e.next=5;break}return e.next=3,l["a"].searchGivenName(t.given_name.value);case 3:return n=e.sent,e.abrupt("return",v(n));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},getFamilyNameField:function(){return{id:"family_name",helpText:"Last name",type:o["b"].TT_TEXT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].isName(e)},options:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.family_name){e.next=5;break}return e.next=3,l["a"].searchFamilyName(t.family_name.value);case 3:return n=e.sent,e.abrupt("return",v(n));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},getGenderField:function(){return{id:"gender",helpText:"Gender",type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].required(e)},options:function(){return[{label:"Female",value:"F"},{label:"Male",value:"M"}]}}},getDobConfig:function(){return{id:"birth_date",summaryLabel:"Date of Birth",helpText:"Birth",required:!0,minDate:function(){return d["c"].estimateDateFromAge(100)},maxDate:function(){return l["a"].getSessionDate()},estimation:{allowUnknown:!0,allowUnknownMonthDay:!0,estimationFieldType:s["a"].AGE_ESTIMATE_FIELD},computeValue:function(e,t){return{date:e,isEstimate:t,person:{birthdate:e,birthdate_estimated:t}}}}},getHomeRegionField:function(){return{id:"home_region",helpText:"Region of origin",type:o["b"].TT_SELECT,group:"person",requireNext:!1,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(){return Object(u["f"])()}}},getHomeDistrictField:function(){return{id:"home_district",helpText:"Home District",type:o["b"].TT_SELECT,requireNext:!1,dynamicHelpText:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?"Home Country":"Home District"},computedValue:function(e){return{person:e.label}},options:function(e){return Object(u["a"])(e.home_region.value)}}},addCustomLocationBtnForTAorVillage:function(e,t){return{name:"Add ".concat(e),slot:"end",color:"success",onClick:function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(r,a,i){var u,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!("string"!=typeof i.filter||i.filter.length<3)){n.next=2;break}return n.abrupt("return",Object(m["e"])("Please enter a valid ".concat(e)));case 2:if(Object(p["isEmpty"])(i.filtered)){n.next=4;break}return n.abrupt("return",Object(m["e"])("Can't add existing ".concat(e)));case 4:return n.next=6,Object(m["a"])("Do you want to add ".concat(e," ").concat(i.filter,"?"));case 6:if(u=n.sent,u){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,h["a"].createAddress(e,i.filter,r[t].value);case 11:if(o=n.sent,!o){n.next=16;break}i.filter=i.filter.toUpperCase(),n.next=17;break;case 16:return n.abrupt("return",Object(m["e"])("Unable to add ".concat(e)));case 17:case"end":return n.stop()}}),n)})));function r(e,t,r){return n.apply(this,arguments)}return r}()}},getHomeTaField:function(){return{id:"home_traditional_authority",helpText:"Home TA",type:o["b"].TT_SELECT,requireNext:!1,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("TA","home_district")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e,t){return Object(u["h"])(e.home_district.value,t)}}},getHomeVillageField:function(){return{id:"home_village",helpText:"Home Village",type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("Village","home_traditional_authority")]},requireNext:!1,defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.home_region&&e.home_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e,t){return Object(u["i"])(e.home_traditional_authority.value,t)}}},getCurrentRegionField:function(){return{id:"current_region",helpText:"Current Region",requireNext:!1,type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(){return Object(u["f"])()}}},getCurrentDistrictField:function(){return{id:"current_district",helpText:"District",requireNext:!1,type:o["b"].TT_SELECT,dynamicHelpText:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?"Current Country":"Current District"},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){return Object(u["a"])(e.current_region.value)}}},getCurrentTAfield:function(){return{id:"current_traditional_authority",helpText:"Current TA",requireNext:!1,type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("TA","current_district")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e,t){return Object(u["h"])(e.current_district.value,t)}}},getCurrentVillageField:function(){return{id:"current_village",helpText:"Current Village",requireNext:!1,type:o["b"].TT_SELECT,config:{showKeyboard:!0,isFilterDataViaApi:!0,footerBtns:[this.addCustomLocationBtnForTAorVillage("Village","current_traditional_authority")]},defaultOutput:function(){return{label:"N/A",value:"N/A"}},defaultComputedOutput:function(e){return e.current_region&&e.current_region.label.match(/foreign/i)?{person:"Unknown"}:null},computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e,t){return Object(u["i"])(e.current_traditional_authority.value,t)}}},getCellNumberField:function(){return{id:"cell_phone_number",helpText:"Cell phone number",group:"person",type:o["b"].TT_TEXT,computedValue:function(e){return{person:e.label}},validation:function(e){if(e){if(e.value.match(/Unknown|n\/a/i))return null;var t,n=Object(r["a"])("".concat(e.value).split("/"));try{for(n.s();!(t=n.n()).done;){var a=t.value;if(c["a"].isMWPhoneNumber({label:a,value:a}))return['"'.concat(a,'" is not a valid phone number')]}}catch(i){n.e(i)}finally{n.f()}return null}return["Phone number cannot be empty"]},config:{customKeyboard:[[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],[["+265","/"],["Unknown","N/A"],["Delete"]]]}}},getLandmarkFields:function(){return[{id:"default_landmarks",proxyID:"landmark",helpText:"Closest Landmark or Plot Number",type:o["b"].TT_SELECT,appearInSummary:function(e){return"Other"!=e.default_landmarks.value},computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].required(e)},options:function(){return v(["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"])}},{id:"other_landmark",proxyID:"landmark",helpText:"Closest Landmark or Plot Number",type:o["b"].TT_NOTE,condition:function(e){return"Other"===e.default_landmarks.value},computedValue:function(e){return{person:e.value}},validation:function(e){return c["a"].required(e)}}]},getFacilityLocationField:function(){return{id:"location",helpText:"Please select facility name",type:o["b"].TT_SELECT,computedValue:function(e){return{person:e.label}},validation:function(e){return c["a"].required(e)},options:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(u["b"])(t)},config:{showKeyboard:!0,isFilterDataViaApi:!0}}},getPersonNameFromPersonObj:function(e,t){return e.names.length?e.names[0][t]:""},getAttrFromPersonObj:function(e,t){return Array.isArray(e.person_attributes)&&e.person_attributes.length?e.person_attributes.reduce((function(e,n){return n.type.name===t?n.value:e}),""):""},getAddressFromPersonObj:function(e,t){if(Array.isArray(e.addresses)&&e.addresses.length){var n=e.addresses[0],r={home_district:"address2",home_village:"neighborhood_cell",home_traditional_authority:"county_district",current_village:"city_village",current_traditional_authority:"township_division",current_district:"state_province"};return n[r[t]]}return""},mapPersonData:function(e){var t=this.getPersonNameFromPersonObj(e,"given_name"),n=this.getPersonNameFromPersonObj(e,"family_name"),r=this.getAddressFromPersonObj(e,"home_district"),a=this.getAddressFromPersonObj(e,"home_village"),i=this.getAddressFromPersonObj(e,"home_traditional_authority");return{id:e.person_id,name:"".concat(t," ").concat(n),given_name:t,family_name:n,gender:e.gender,birth_date:e.birthdate,birthdate_estimated:e.birthdate_estimated,home_district:r,home_village:a,home_traditional_authority:i,home_address:"".concat(r," ").concat(a),current_district:this.getAddressFromPersonObj(e,"current_district"),current_traditional_authority:this.getAddressFromPersonObj(e,"current_traditional_authority"),cell_phone_number:this.getAttrFromPersonObj(e,"Cell Phone Number"),landmark:this.getAttrFromPersonObj(e,"Landmark Or Plot Number")}},getPersonAttributeOptions:function(e){var t=new f["a"](e),n=function(e,t){return t in e?e[t]():"-"};return{label:t.getPatientInfoString(),value:t.getID()||t.getNationalID(),other:{npid:t.getNationalID(),person:e,options:[{label:"National ID",value:n(t,"getNationalID")},{label:"ARV Number",value:n(t,"getArvNumber"),other:{show:function(){return"ART"===b["e"].getProgramName()}}},{label:"Name",value:n(t,"getFullName")},{label:"Gender",value:n(t,"getGender")},{label:"Birthdate",value:n(t,"getBirthdate")},{label:"Home District",value:n(t,"getHomeDistrict")},{label:"Home Village",value:n(t,"getHomeVillage")},{label:"Current District",value:n(t,"getCurrentDistrict")},{label:"Current T/A",value:n(t,"getCurrentTA")},{label:"Cellphone",value:n(t,"getPhoneNumber")}]}}}}},b446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return j}));var r,a=n("2909"),i=n("3835"),u=n("5530"),o=n("1da1"),c=(n("96cf"),n("99af"),n("caad"),n("a15b"),n("d3b7"),n("25f0"),n("ac1f"),n("466d"),n("1276"),n("d95e")),l=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],s=n("9283"),d=n("2706"),f=n("3800"),p=n("6be2"),m=n("5a0c"),h=n.n(m),b=n("1c74");function v(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];return n&&r.push("UNKNOWN"),{id:e,helpText:"".concat(t," Year"),appearInSummary:function(){return!1},type:c["b"].TT_TEXT,config:{customKeyboard:[f["i"],[r,["DELETE"]]]}}}function g(e,t){return{id:e,helpText:"".concat(t," Month"),appearInSummary:function(){return!1},type:c["b"].TT_SELECT,options:function(){return l}}}function y(e,t){return{id:e,helpText:"".concat(t," Day"),type:c["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function _(e,t){return{id:e,helpText:"".concat(t," Estimated period"),type:c["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function T(e,t){return{id:e,helpText:"".concat(t," Age Estimate"),type:c["b"].TT_NUMBER,appearInSummary:function(){return!1},config:{keypad:p["e"]}}}function x(e){return parseInt(e)<10?"0".concat(e):e}function w(e,t,n){return O.apply(this,arguments)}function O(){return O=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,u,o,c,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.defaultValue){e.next=12;break}return e.next=3,n.defaultValue(t);case 3:if(a=e.sent,!a){e.next=12;break}u=a.split("-"),o=Object(i["a"])(u,3),c=o[0],l=o[1],s=o[2],e.t0=r,e.next="Year"===e.t0?9:"Month"===e.t0?10:"Day"===e.t0?11:12;break;case 9:return e.abrupt("return",c||"");case 10:return e.abrupt("return",parseInt(l)||"");case 11:return e.abrupt("return",parseInt(s)||"");case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function k(e){return s["c"].toStandardHisDisplayFormat(e)}function D(e,t,n,r){if(t.minDate){var a=t.minDate(n,r);if(new Date(e)<new Date(a))return["".concat(k(e)," is less than minimum date of ").concat(k(a))]}if(t.maxDate){var i=t.maxDate(n,r);if(i&&new Date(e)>new Date(i))return["".concat(k(e)," is greater than max date of  ").concat(k(i))]}}function j(e){var t="",n="",o="",c="",f=!1,p="year_".concat(e.id),m="month_".concat(e.id),O="day_".concat(e.id),j="age_estimate_".concat(e.id),F="duration_estimate_".concat(e.id),N=v(p,e.helpText,e.estimation.allowUnknown),A=g(m,e.helpText),C=y(O,e.helpText),E=T(j,e.helpText),V=_(F,e.helpText),S="boolean"===typeof e.estimation.allowUnknownMonthDay&&e.estimation.allowUnknownMonthDay,I=function(t){return!(t[p]&&t[p].value&&["Unknown"].includes(t[p].value))&&(!e.condition||e.condition(t))},P=function(e,t){var r=[{type:"year",value:n,default:"YYYY"},{type:"month",value:o,default:"MM"},{type:"day",value:c,default:"DD"}];return r.reduce((function(n,r){var a=[null,void 0,"Unknown",""];return t===r.type?a.includes(e)?n.push(r.default):n.push(e):a.includes(r.value)?n.push(r.default):n.push(r.value),n}),[]).join("-")};"function"===typeof e.init&&(N.init=e.init),N.updateHelpTextOnValue=function(e){return"".concat(N.helpText," (").concat(P(null===e||void 0===e?void 0:e.label,"year"),")")},N.proxyID=e.id,N.unload=function(e){return n=e.value.toString()},N.config=Object(u["a"])(Object(u["a"])({},N.config),e.config),N.defaultValue=function(t){return w(t,e,"Year")},N.condition=function(t){return!e.condition||e.condition(t)},N.validation=function(t,n,r){if(e.required&&d["a"].required(t))return["Year cannot be empty"];var a=t?t.value:"";if(!e.estimation.allowUnknown&&a.toString().match(/unknown/i))return["Value unknown is not permitted"];if(a&&!["Unknown"].includes(a)&&isNaN(a)||a<1900)return["Invalid Year"];if(a&&"function"===typeof e.minDate){var i=s["c"].getYear(e.minDate(n,r));if(parseInt(a)<i)return["Year of ".concat(a," is less than Minimum year of ").concat(i)]}if(a&&"function"===typeof e.maxDate){var u=e.maxDate(n,r);if(u&&a>s["c"].getYear(u))return["Year of ".concat(a," exceeds Maximum year of ").concat(s["c"].getYear(u))]}return null},N.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:t?k(t):"Unknown"}},N.appearInSummary=function(t,n){return n===e.id},N.computedValue=function(n){if(t){var r=t.split("-"),a=Object(i["a"])(r,3),u=(a[0],a[1]),o=a[2];return t="".concat(n.value,"-").concat(u,"-").concat(o),e.computeValue(t,!1)}if(n&&"Unknown"===n.value)return t="",e.computeValue("Unknown",!1)},A.updateHelpTextOnValue=function(e){return"".concat(A.helpText," (").concat(P(null===e||void 0===e?void 0:e.label,"month"),")")},A.proxyID=e.id,A.unload=function(e){return o=x(e.value.toString())},A.condition=function(e){return I(e)},A.validation=function(e){return d["a"].required(e)},A.defaultValue=function(t){return w(t,e,"Month")},S&&(A.options=function(){return[].concat(Object(a["a"])(l),[{label:"Unknown",value:"Unknown"}])}),A.computedValue=function(n,r){if("".concat(n.value).match(/unknown/i))return t="".concat(r[p].value,"-07-15"),e.computeValue(t,!0);if(t){var a=t.split("-"),u=Object(i["a"])(a,3),o=u[0],c=(u[1],u[2]),l=x("".concat(n.value));return t="".concat(o,"-").concat(l,"-").concat(c),e.computeValue(t,!1)}},C.proxyID=e.id,C.updateHelpTextOnValue=function(e){return"".concat(C.helpText," (").concat(P(null===e||void 0===e?void 0:e.label,"day"),")")},C.condition=function(e){return!"".concat(e[m].value).match(/unknown/i)&&I(e)},C.validation=function(r,a,i){return d["a"].required(r)?["Day is required for date"]:(f=!!"".concat(r.value).match(/unknown/i),c=f?"15":x("".concat(r.value)),t="".concat(n,"-").concat(o,"-").concat(c),D(t,e,a,i))},C.defaultValue=function(t){return w(t,e,"Day")},C.computedValue=function(){return e.computeValue(t,f)},C.unload=function(t,n,r,a){e.unload&&e.unload(t,n,r,a)},C.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},C.config={year:function(e){return e[p].value},month:function(e){return e[m].value}},S||(C.config.keyboardActions=[]);var R=function(t,n){var r=["Unknown"===t[p].value,!e.condition||e.condition(t),e.estimation.estimationFieldType===n];return r.every(Boolean)};return E.proxyID=e.id,E.validation=function(n,r,a){if(n&&n.value>300)return["Age estimate is too high and exceeding hard limit of 300"];if(isNaN(parseInt(n.value.toString())))return["Please enter a valid number"];var i=/^(12[0-7]|1[01][0-9]|[1-9]?[0-9])$/;if(!n.value.toString().match(i))return["Not a valid age estimate"];var u=h()(b["e"].getSessionDate()).subtract(n.value,"years").year();return t="".concat(u,"-07-15"),D(t,e,r,a)},E.condition=function(e){return R(e,r.AGE_ESTIMATE_FIELD)},E.computedValue=function(){return e.computeValue(t,!0)},E.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},V.proxyID=e.id,V.validation=function(n,r,a){return d["a"].required(n)?["Please select an estimate"]:(t=h()(b["e"].getSessionDate()).subtract(n.value,"day").format(s["b"]),D(t,e,r,a))},V.condition=function(e){return R(e,r.MONTH_ESTIMATE_FIELD)},V.computedValue=function(){return e.computeValue(t,!0)},V.beforeNext=function(n,r){return!e.beforeNext||e.beforeNext(t,r)},[N,A,C,E,V]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(r||(r={}))},d10e:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("1da1"),a=n("5530"),i=n("d4ec"),u=n("bee2"),o=n("45eb"),c=n("7e84"),l=n("262e"),s=n("2caf"),d=(n("96cf"),n("1c74")),f=function(e){Object(l["a"])(n,e);var t=Object(s["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this),r.person=e,r}return Object(u["a"])(n,[{key:"create",value:function(){return d["e"].postJson("/people",this.person)}},{key:"update",value:function(e){return d["e"].putJson("people/".concat(e),Object(a["a"])(Object(a["a"])({},this.person),{},{program_id:d["e"].getProgramID()}))}}],[{key:"searchFamilyName",value:function(e){return Object(o["a"])(Object(c["a"])(n),"getJson",this).call(this,"/search/family_name",{search_string:e})}},{key:"searchGivenName",value:function(e){return Object(o["a"])(Object(c["a"])(n),"getJson",this).call(this,"/search/given_name",{search_string:e})}},{key:"getPersonFullName",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(Object(c["a"])(n),"getJson",this).call(this,"/people/".concat(t,"/names"));case 2:return r=e.sent,e.abrupt("return",r&&r.length?r[0].given_name+" "+r[0].family_name:"");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(d["e"])},e86e:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return _})),n.d(t,"j",(function(){return x})),n.d(t,"e",(function(){return O}));var r=n("1da1"),a=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("498a"),n("b0c0"),n("5713")),i=n("2ef0");function u(){return o.apply(this,arguments)}function o(){return o=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t});case 3:return n=e.sent,e.abrupt("return",n.filter((function(e){return!Object(i["isEmpty"])(e)&&""!=e.name.trim()})).map((function(e){return{label:e.name,value:e.location_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getLabs({search_name:t});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e,value:e}})));case 5:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function s(){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",e.next=3,a["a"].getFacilities({name:t,tag:"Facility adult sections"});case 3:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.name,other:e}})));case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getSpecialistClinics();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.name,other:e}})));case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getRegions();case 2:return t=e.sent,e.abrupt("return",t.map((function(e){return{label:e.name,value:e.region_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].getDistricts(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return{label:e.name,value:e.district_id,other:e}})));case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,a["a"].getTraditionalAuthorities(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.traditional_authority_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function _(e){return T.apply(this,arguments)}function T(){return T=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",e.next=3,a["a"].getVillages(t,n);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 5:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function x(){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"a",n=i.length>1&&void 0!==i[1]?i[1]:1,e.next=4,a["a"].getVillagesByName(t,n);case 4:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.village_id,other:e}})));case 6:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function O(){var e=["Catholic Church","CCAP","Seventh Day","Mosque","Primary School","Borehole","Secondary School","College","Market","Football Ground","Other"];return e.map((function(e){return{label:e,value:e,other:{code:e}}}))}}}]);
//# sourceMappingURL=chunk-625971b9.008e6956.js.map