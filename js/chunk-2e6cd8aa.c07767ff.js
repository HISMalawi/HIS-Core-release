(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e6cd8aa"],{3800:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"l",(function(){return r})),t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return i})),t.d(n,"k",(function(){return u})),t.d(n,"i",(function(){return c})),t.d(n,"g",(function(){return l})),t.d(n,"a",(function(){return s})),t.d(n,"j",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"h",(function(){return p})),t.d(n,"f",(function(){return m}));var a=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],r=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["Clear","%","/"]],o=[["1","2","3"],["4","5","6"],["7","8","9"],["Del.","0","Clear"]],i=[["1","2","3","<"],["4","5","6",">"],["7","8","9","="],["","0",""]],u=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],c=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],l=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],s=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],d=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],f=[["1","2","3","4","5","6","7","8","9","0"],["a","b","c","d","e","f","g","h","-","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],p=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]],m=[["1","2","3","4","5","6","7","8","9","0"],["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","Del."],["z","x","c","v","b","n","m","Caps","Login"]]},"6be2":function(e,n,t){"use strict";t.d(n,"d",(function(){return o})),t.d(n,"g",(function(){return i})),t.d(n,"f",(function(){return u})),t.d(n,"e",(function(){return c})),t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return s})),t.d(n,"h",(function(){return f})),t.d(n,"a",(function(){return p}));var a=t("3800"),r=[a["k"],[["","Delete"]]],o=[a["i"],[["Delete"]]],i=[a["i"],[["Delete","Unknown"]]],u=[a["i"],[["N/A"],["Delete","Unknown"]]],c=[a["i"],[["Delete"]]],l=[a["i"],[["Unknown","Delete"],["Qwerty","A-Z"]]],s=[a["g"],[["Unknown"]]],d=[a["a"],[["0-9","Delete"],["Qwerty","Unknown"],["","Space"]]],f=[a["j"],[["","Delete"],["?123","0-9"],["Space","Unknown"]]],p=[{btn:"0-9",keyboard:l},{btn:"?123",keyboard:r},{btn:"A-Z",keyboard:d},{btn:"Qwerty",keyboard:f}]},7920:function(e,n,t){"use strict";var a=t("7a23");function r(e,n,t,r,o,i){return Object(a["openBlock"])(),Object(a["createBlock"])(Object(a["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var o=t("9441"),i=Object(a["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:o["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,n){this.$emit("onFinish",e,n)},onIndex:function(e){this.$emit("onIndex",e)}}}),u=t("d959"),c=t.n(u);const l=c()(i,[["render",r]]);n["a"]=l},b446:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return j}));var a,r=t("2909"),o=t("3835"),i=t("5530"),u=t("1da1"),c=(t("96cf"),t("99af"),t("caad"),t("a15b"),t("d3b7"),t("25f0"),t("ac1f"),t("466d"),t("1276"),t("d95e")),l=[{label:"Jan",value:1},{label:"Feb",value:2},{label:"Mar",value:3},{label:"Apr",value:4},{label:"May",value:5},{label:"Jun",value:6},{label:"Jul",value:7},{label:"Aug",value:8},{label:"Sep",value:9},{label:"Oct",value:10},{label:"Nov",value:11},{label:"Dec",value:12}],s=t("9283"),d=t("2706"),f=t("3800"),p=t("6be2"),m=t("5a0c"),v=t.n(m),b=t("1c74");function h(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=[];return t&&a.push("UNKNOWN"),{id:e,helpText:"".concat(n," Year"),appearInSummary:function(){return!1},type:c["b"].TT_TEXT,config:{customKeyboard:[f["i"],[a,["DELETE"]]]}}}function y(e,n){return{id:e,helpText:"".concat(n," Month"),appearInSummary:function(){return!1},type:c["b"].TT_SELECT,options:function(){return l}}}function D(e,n){return{id:e,helpText:"".concat(n," Day"),type:c["b"].TT_MONTHLY_DAYS,appearInSummary:function(){return!1}}}function w(e,n){return{id:e,helpText:"".concat(n," Estimated period"),type:c["b"].TT_SELECT,appearInSummary:function(){return!1},options:function(){return[{label:"6 months ago",value:180},{label:"12 months ago",value:365},{label:"18 months ago",value:540},{label:"24 months ago",value:730},{label:"Over 2 years ago",value:730}]}}}function x(e,n){return{id:e,helpText:"".concat(n," Age Estimate"),type:c["b"].TT_NUMBER,appearInSummary:function(){return!1},config:{keypad:p["e"]}}}function k(e){return parseInt(e)<10?"0".concat(e):e}function g(e,n,t){return S.apply(this,arguments)}function S(){return S=Object(u["a"])(regeneratorRuntime.mark((function e(n,t,a){var r,i,u,c,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.defaultValue){e.next=12;break}return e.next=3,t.defaultValue(n);case 3:if(r=e.sent,!r){e.next=12;break}i=r.split("-"),u=Object(o["a"])(i,3),c=u[0],l=u[1],s=u[2],e.t0=a,e.next="Year"===e.t0?9:"Month"===e.t0?10:"Day"===e.t0?11:12;break;case 9:return e.abrupt("return",c||"");case 10:return e.abrupt("return",parseInt(l)||"");case 11:return e.abrupt("return",parseInt(s)||"");case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function T(e){return s["c"].toStandardHisDisplayFormat(e)}function O(e,n,t,a){if(n.minDate){var r=n.minDate(t,a);if(new Date(e)<new Date(r))return["".concat(T(e)," is less than minimum date of ").concat(T(r))]}if(n.maxDate){var o=n.maxDate(t,a);if(o&&new Date(e)>new Date(o))return["".concat(T(e)," is greater than max date of  ").concat(T(o))]}}function j(e){var n="",t="",u="",c="",f=!1,p="year_".concat(e.id),m="month_".concat(e.id),S="day_".concat(e.id),j="age_estimate_".concat(e.id),E="duration_estimate_".concat(e.id),I=h(p,e.helpText,e.estimation.allowUnknown),F=y(m,e.helpText),N=D(S,e.helpText),_=x(j,e.helpText),V=w(E,e.helpText),U="boolean"===typeof e.estimation.allowUnknownMonthDay&&e.estimation.allowUnknownMonthDay,M=function(n){return!(n[p]&&n[p].value&&["Unknown"].includes(n[p].value))&&(!e.condition||e.condition(n))},A=function(e,n){var a=[{type:"year",value:t,default:"YYYY"},{type:"month",value:u,default:"MM"},{type:"day",value:c,default:"DD"}];return a.reduce((function(t,a){var r=[null,void 0,"Unknown",""];return n===a.type?r.includes(e)?t.push(a.default):t.push(e):r.includes(a.value)?t.push(a.default):t.push(a.value),t}),[]).join("-")};"function"===typeof e.init&&(I.init=e.init),I.updateHelpTextOnValue=function(e){return"".concat(I.helpText," (").concat(A(null===e||void 0===e?void 0:e.label,"year"),")")},I.proxyID=e.id,I.unload=function(e){return t=e.value.toString()},I.config=Object(i["a"])(Object(i["a"])({},I.config),e.config),I.defaultValue=function(n){return g(n,e,"Year")},I.condition=function(n){return!e.condition||e.condition(n)},I.validation=function(n,t,a){if(e.required&&d["a"].required(n))return["Year cannot be empty"];var r=n?n.value:"";if(!e.estimation.allowUnknown&&r.toString().match(/unknown/i))return["Value unknown is not permitted"];if(r&&!["Unknown"].includes(r)&&isNaN(r)||r<1900)return["Invalid Year"];if(r&&"function"===typeof e.minDate){var o=s["c"].getYear(e.minDate(t,a));if(parseInt(r)<o)return["Year of ".concat(r," is less than Minimum year of ").concat(o)]}if(r&&"function"===typeof e.maxDate){var i=e.maxDate(t,a);if(i&&r>s["c"].getYear(i))return["Year of ".concat(r," exceeds Maximum year of ").concat(s["c"].getYear(i))]}return null},I.summaryMapValue=function(){return{label:e.summaryLabel||e.helpText,value:n?T(n):"Unknown"}},I.appearInSummary=function(n,t){return t===e.id},I.computedValue=function(t){if(n){var a=n.split("-"),r=Object(o["a"])(a,3),i=(r[0],r[1]),u=r[2];return n="".concat(t.value,"-").concat(i,"-").concat(u),e.computeValue(n,!1)}if(t&&"Unknown"===t.value)return n="",e.computeValue("Unknown",!1)},F.updateHelpTextOnValue=function(e){return"".concat(F.helpText," (").concat(A(null===e||void 0===e?void 0:e.label,"month"),")")},F.proxyID=e.id,F.unload=function(e){return u=k(e.value.toString())},F.condition=function(e){return M(e)},F.validation=function(e){return d["a"].required(e)},F.defaultValue=function(n){return g(n,e,"Month")},U&&(F.options=function(){return[].concat(Object(r["a"])(l),[{label:"Unknown",value:"Unknown"}])}),F.computedValue=function(t,a){if("".concat(t.value).match(/unknown/i))return n="".concat(a[p].value,"-07-15"),e.computeValue(n,!0);if(n){var r=n.split("-"),i=Object(o["a"])(r,3),u=i[0],c=(i[1],i[2]),l=k("".concat(t.value));return n="".concat(u,"-").concat(l,"-").concat(c),e.computeValue(n,!1)}},N.proxyID=e.id,N.updateHelpTextOnValue=function(e){return"".concat(N.helpText," (").concat(A(null===e||void 0===e?void 0:e.label,"day"),")")},N.condition=function(e){return!"".concat(e[m].value).match(/unknown/i)&&M(e)},N.validation=function(a,r,o){return d["a"].required(a)?["Day is required for date"]:(f=!!"".concat(a.value).match(/unknown/i),c=f?"15":k("".concat(a.value)),n="".concat(t,"-").concat(u,"-").concat(c),O(n,e,r,o))},N.defaultValue=function(n){return g(n,e,"Day")},N.computedValue=function(){return e.computeValue(n,f)},N.unload=function(n,t,a,r){e.unload&&e.unload(n,t,a,r)},N.beforeNext=function(t,a){return!e.beforeNext||e.beforeNext(n,a)},N.config={year:function(e){return e[p].value},month:function(e){return e[m].value}},U||(N.config.keyboardActions=[]);var R=function(n,t){var a=["Unknown"===n[p].value,!e.condition||e.condition(n),e.estimation.estimationFieldType===t];return a.every(Boolean)};return _.proxyID=e.id,_.validation=function(t,a,r){if(t&&t.value>300)return["Age estimate is too high and exceeding hard limit of 300"];if(isNaN(parseInt(t.value.toString())))return["Please enter a valid number"];var o=/^(12[0-7]|1[01][0-9]|[1-9]?[0-9])$/;if(!t.value.toString().match(o))return["Not a valid age estimate"];var i=v()(b["e"].getSessionDate()).subtract(t.value,"years").year();return n="".concat(i,"-07-15"),O(n,e,a,r)},_.condition=function(e){return R(e,a.AGE_ESTIMATE_FIELD)},_.computedValue=function(){return e.computeValue(n,!0)},_.beforeNext=function(t,a){return!e.beforeNext||e.beforeNext(n,a)},V.proxyID=e.id,V.validation=function(t,a,r){return d["a"].required(t)?["Please select an estimate"]:(n=v()(b["e"].getSessionDate()).subtract(t.value,"day").format(s["b"]),O(n,e,a,r))},V.condition=function(e){return R(e,a.MONTH_ESTIMATE_FIELD)},V.computedValue=function(){return e.computeValue(n,!0)},V.beforeNext=function(t,a){return!e.beforeNext||e.beforeNext(n,a)},[I,F,N,_,V]}(function(e){e["AGE_ESTIMATE_FIELD"]="age-estimate-field",e["MONTH_ESTIMATE_FIELD"]="month-period-estimate-field"})(a||(a={}))},e8ff:function(e,n,t){"use strict";t.r(n);var a=t("7a23");function r(e,n,t,r,o,i){var u=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(u,{skipSummary:!0,fields:e.fields,onOnFinish:e.onSubmit},null,8,["fields","onOnFinish"])}var o=t("1da1"),i=(t("96cf"),t("1c74")),u=t("b5e4"),c=t("b446"),l=t("9283"),s=t("7920"),d=t("7f35"),f=t("0fa1"),p=t("8e8b"),m=Object(a["defineComponent"])({components:{HisStandardForm:s["a"]},data:function(){return{apiDate:"",fields:[]}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["e"].getApiDate();case 2:e.apiDate=n.sent,e.fields=Object(c["b"])({id:"session_date",helpText:"Session Date",required:!0,minDate:function(){return"2000-01-01"},maxDate:function(){return e.apiDate},estimation:{allowUnknown:!1},computeValue:function(e){return e},config:{footerBtns:[{name:"Reset",slot:"end",color:"success",state:{visible:{default:function(){return i["e"].isBDE()}}},onClick:function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.resetSessionDate();case 2:case"end":return n.stop()}}),n)})));function t(){return n.apply(this,arguments)}return t}()}]}},"");case 4:case"end":return n.stop()}}),n)})))()},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.showBdeNotice();case 2:case"end":return n.stop()}}),n)})))()},methods:{showBdeNotice:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var t,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i["e"].isBDE()){n.next=2;break}return n.abrupt("return");case 2:return t=l["c"].toStandardHisDisplayFormat(i["e"].getCachedApiDate()||""),a=l["c"].toStandardHisDisplayFormat(i["e"].getSessionDate()),n.next=6,Object(d["a"])("BDE Notice","The system is currently in Back Data Entry Mode(BDE).                 Do you wish to reset the date to ".concat(t,"?"),"BDE Date: ".concat(a),[{name:"Reset Date",slot:"start",color:"success"},{name:"Keep BDE Date",slot:"end",color:"danger"},{name:"New date",slot:"end"}]);case 6:if(r=n.sent,"Reset Date"!==r){n.next=11;break}return n.next=10,e.resetSessionDate();case 10:return n.abrupt("return",n.sent);case 11:"Keep BDE Date"===r&&e.redirect();case 12:case"end":return n.stop()}}),n)})))()},resetSessionDate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["e"].resetSessionDate();case 3:p["a"].invalidate("PROVIDERS"),Object(u["d"])("Session date has been reset to ".concat(e.formatDate(e.apiDate))),e.redirect(),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),Object(u["e"])("".concat(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()},redirect:function(){var e=this.$route.query.patient_dashboard_redirection_id;e?this.$router.push("/patient/dashboard/".concat(e)):this.$router.back()},onSubmit:function(e,n){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.session_date,e.prev=1,e.next=4,i["e"].setSessionDate(a);case 4:Object(u["d"])("Successfully Back dated to ".concat(t.formatDate(a))),c=null===(r=t.$route)||void 0===r||null===(o=r.query)||void 0===o?void 0:o.patient_id,c?Object(f["b"])(c,t.$router):t.redirect(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object(u["e"])("".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},formatDate:function(e){return l["c"].toStandardHisDisplayFormat(e)}}}),v=t("d959"),b=t.n(v);const h=b()(m,[["render",r]]);n["default"]=h}}]);
//# sourceMappingURL=chunk-2e6cd8aa.c07767ff.js.map