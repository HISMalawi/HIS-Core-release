{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/apps/OPD/views/encounters/Complaints.vue?d358","webpack:///./src/components/DataViews/LabOrderModal.vue?e560","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/DataViews/LabOrderModal.vue","webpack:///./src/apps/OPD/views/encounters/modals/radiology.vue","webpack:///./src/apps/OPD/views/encounters/Complaints.vue"],"names":["PatientComplaintsService","AppEncounterService","constructor","patientID","providerID","complaintType","filter","ConceptService","getConceptSet","getObs","getConceptID","date","_withId","_withScopeId","_pushScopeId","_hoisted_1","_createTextVNode","_hoisted_2","class","_hoisted_3","_createVNode","_hoisted_4","_hoisted_5","style","background","height","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_popScopeId","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_title","_resolveComponent","_component_ion_toolbar","_component_ion_header","_component_ion_label","_component_ion_checkbox","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_radio","_component_ion_radio_group","_component_ion_button","_component_ion_row","_component_ion_grid","_component_ion_content","_component_ion_footer","_openBlock","_createBlock","_Fragment","default","_","size","overflowY","_renderList","testTypes","data","index","key","disabled","activeIndex","isOrderComplete","detail","_toDisplayString","name","modelValue","isChecked","$event","slot","onIonChange","e","onSelectTest","selectedOrders","length","extendedLabsEnabled","_createCommentVNode","specimens","value","onClick","addSpecimen","reasons","finalOrders","specimen","reason","removeOrder","currentIndex","color","postActivities","closeModal","LabOrderService","super","defineComponent","props","activities","type","Object","required","testFilters","Array","title","String","watch","handler","appActivities","getActivities","immediate","ART_GLOBAL_PROP","extendedLabEnabled","methods","testName","event","$nextTick","target","checked","OrderService","getSpecimens","tests","getTestTypes","map","t","i","sort","a","b","isArray","includes","this","concept_id","$route","params","patient_id","orders","parseInt","encounter","createEncounter","formattedOrders","buildLabOrders","d","saveOrdersArray","encounter_id","toastWarning","Store","invalidate","canPrintOrders","alertConfirmation","confirmBtnLabel","cancelBtnLabel","printOrders","modalController","dismiss","p","PrintoutService","forEach","url","element","order_id","printLbl","computed","mounted","content","components","IonButton","IonContent","IonHeader","IonTitle","IonToolbar","IonLabel","IonList","IonItem","IonCheckbox","IonRadioGroup","IonRow","__exports__","_component_his_standard_form","_component_ion_page","_withCtx","cancelDestinationPath","cancelDestination","fields","onFinishAction","onSubmit","skipSummary","_component_his_radiology_picker","onOnValue","onValue","emitedSelectedOptions","IonFooter","HisRadiologyPicker","mixins","EncounterMixinVue","radiologyService","isPacsEnabled","ready","isReady","PatientRadiologyService","OPD_GLOBAL_PROP","isPACsEnabled","deep","selected","buildValueCoded","option","other","parent","child","buildValueCodedFromConceptId","isEmpty","getSelected","Promise","all","obsObj","savedObsData","saveObservationList","patient","submitToPacs","error","console","log","HisStandardForm","IonPage","complaintsService","todaysDate","ObservationService","getSessionDate","presentingComplaints","radiologyBtnName","hasTriageComplaints","getTriagePresentingComplaints","getFields","computedData","complaints","nextTask","modal","create","component","LabOrderModal","backdropDismiss","cssClass","present","onDidDismiss","radiology","fetchLatestTriageEncounter","encounters","EncounterService","getEncounters","todayPresentingComplaints","el","HisDate","toStandardHisFormat","encounter_datetime","observations","buildResults","columns","group","rows","item","obs_group_id","value_text","undefined","label","id","helpText","condition","FieldType","TT_TABLE_VIEWER","options","config","hiddenFooterBtns","TT_COMPLAINTS_PICKER","validation","Validation","computedValue","async","showRadiologyOdersBtn","disableBackBtn","footerBtns","visible","launchOrderSelection","visibleOnStateChange","state","launchRadiologyOrderSelection","TT_SUMMARY","buildSummaryResults","OPDComplaint","triageComplaint","concat"],"mappings":"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","file":"js/chunk-7030f14a.4e1edaa5.js","sourcesContent":["import { AppEncounterService } from \"@/services/app_encounter_service\";\nexport class LabOrderService extends AppEncounterService {\n  constructor(patientID: number, providerID: number) {\n    super(patientID, 57, providerID);\n  }\n}","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Complaints.vue?vue&type=style&index=0&id=ac007cae&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LabOrderModal.vue?vue&type=style&index=0&id=9adaf5e2&scoped=true&lang=css\"","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Radiology Examination\")\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Place orders \")\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\" Close \")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_his_radiology_picker = _resolveComponent(\"his-radiology-picker\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, { class: \"his-lg-text\" }, {\n              default: _withCtx(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: {\"overflow\":\"hidden\",\"background\":\"grey\",\"height\":\"70vh\"} }, {\n      default: _withCtx(() => [\n        _createVNode(_component_his_radiology_picker, { onOnValue: _ctx.onValue }, null, 8, [\"onOnValue\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _cache[1] || (_cache[1] = $event => (_ctx.onSubmit())),\n              size: \"large\",\n              slot: \"end\",\n              disabled: _ctx.emitedSelectedOptions.length === 0\n            }, {\n              default: _withCtx(() => [\n                _hoisted_2\n              ]),\n              _: 1\n            }, 8, [\"disabled\"]),\n            _createVNode(_component_ion_button, {\n              onClick: _cache[2] || (_cache[2] = $event => (_ctx.closeModal())),\n              size: \"large\",\n              slot: \"start\",\n              color: \"danger\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_3\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64 /* STABLE_FRAGMENT */))\n}","\nimport { defineComponent } from 'vue'\nimport HisStandardForm from \"@/components/Forms/TouchScreenForm.vue\";\nimport EncounterMixinVue from '@/views/EncounterMixin.vue';\nimport { PatientComplaintsService } from \"@/apps/OPD/services/patient_complaints_service\";\nimport LabOrderModal from \"@/components/DataViews/LabOrderModal.vue\"\nimport radiology from \"@/apps/OPD/views/encounters/modals/radiology.vue\"\nimport Validation from '@/components/Forms/validations/StandardValidations';\nimport { Field, Option } from '@/components/Forms/FieldInterface';\nimport { FieldType } from '@/components/Forms/BaseFormElements';\nimport { modalController, IonPage } from '@ionic/vue';\nimport { ObservationService } from \"@/services/observation_service\"\nimport { EncounterService } from '@/services/encounter_service'\nimport HisDate from \"@/utils/Date\"\nimport OPD_GLOBAL_PROP from \"@/apps/OPD/opd_global_props\";\n\nexport default defineComponent({\n  components: { HisStandardForm, IonPage },\n  mixins: [EncounterMixinVue],\n  data: () => ({\n    complaintsService: {} as any,\n    todaysDate: ObservationService.getSessionDate(),\n    presentingComplaints: \"\" as any,\n    isPacsEnabled: false,\n    radiologyBtnName: 'Radiology Order',\n    hasTriageComplaints: false,\n  }),\n  watch: {\n    ready: {\n      async handler(isReady: boolean) {\n        if(isReady){\n          this.complaintsService = new PatientComplaintsService(this.patientID, this.providerID)\n          this.isPacsEnabled = (await OPD_GLOBAL_PROP.isPACsEnabled())\n          this.hasTriageComplaints = await this.getTriagePresentingComplaints()\n          this.fields = this.getFields()\n        }\n      },\n      immediate: true,\n      deep: true\n    }\n  },\n  methods: {\n    async onSubmit(_: any, computedData: any){     \n      const data = await Promise.all(computedData.complaints)   \n      await this.complaintsService.createEncounter()    \n      await this.complaintsService.saveObservationList(data)\n      this.nextTask()        \n    },\n    async launchOrderSelection() {\n      const modal = await modalController.create({\n        component: LabOrderModal,\n        backdropDismiss: false,\n        cssClass: 'large-modal'\n      })\n      modal.present()\n      await modal.onDidDismiss()\n    },\n    async launchRadiologyOrderSelection() {\n      const modal = await modalController.create({\n        component: radiology,\n        backdropDismiss: false,\n        cssClass: 'large-modal'\n      })\n      modal.present()\n      await modal.onDidDismiss()\n    },\n    async getTriagePresentingComplaints(){\n      const data =  await this.complaintsService.fetchLatestTriageEncounter();\n      if(!(data.length > 0)){ return false;}\n\n      const encounters = await EncounterService.getEncounters(this.patientID, this.todaysDate)\n      const todayPresentingComplaints = encounters.filter(function (el: any){\n        return el.type.name == \"TRIAGE PRESENTING COMPLAINTS\" &&\n        HisDate.toStandardHisFormat(el.encounter_datetime) == ObservationService.getSessionDate() \n      });\n      if(!(todayPresentingComplaints.length > 0)) {return false;}\n\n      this.presentingComplaints =   todayPresentingComplaints[0].observations;\n      return true;\n    },\n    buildResults() {\n      const columns = [ 'Group','Presenting complaints'];\n      let group = \"\";\n      let rows =this.presentingComplaints.map((item: any) =>{\n        if(item.obs_group_id != null)\n          return [group,item.value_text]\n\n        group = item.value_text;\n      });\n      rows = rows.filter((el: any) =>{\n        return el != undefined\n      })\n      this.presentingComplaints = rows;\n      return [\n        {\n          label: '',\n          value: '',\n          other: { columns, rows},\n        },\n      ];\n    },\n\n    getFields(): Array<Field>{\n      return [\n        {\n          id: \"triage_complaints\",\n          helpText: \"Triaging Complaints\",\n          condition: () => this.hasTriageComplaints,\n          type: FieldType.TT_TABLE_VIEWER,\n          options: (d: any) => this.buildResults(),\n          config: {\n            hiddenFooterBtns: [\"Clear\"],\n          },\n        },\n        {\n          id: 'complaints',\n          helpText: 'Presenting Complaints',\n          type: FieldType.TT_COMPLAINTS_PICKER,\n          validation: (data: any) => Validation.required(data),\n          computedValue: (options: Option[]) => {\n            return options.map(async (option)=> ({\n              ...(await this.complaintsService.buildValueCoded('Presenting complaint', option.other.parent)),\n              child: (await this.complaintsService.buildValueCodedFromConceptId(option.other.parent, option.other.concept_id))\n            }))\n          },\n          config: {\n            hiddenFooterBtns: [ this.showRadiologyOdersBtn(), this.disableBackBtn()],\n            footerBtns: [\n              {\n                name: \"Lab Order\",\n                size: \"large\",\n                slot: \"end\",\n                color: \"primary\",\n                visible: true,\n                onClick: async () => await this.launchOrderSelection(),\n                visibleOnStateChange: (state: Record<string, any>) => {\n                  return state.index === 1;\n                },\n              },\n              {\n                name: this.radiologyBtnName,\n                size: \"large\",\n                slot: \"end\",\n                color: \"primary\",\n                visible: true,\n                onClick: async () => await this.launchRadiologyOrderSelection(),\n                visibleOnStateChange: (state: Record<string, any>) => {\n                  return state.index === 1;\n                },\n              }\n            ],\n          }\n        },\n        {\n          id: \"all_presenting_complaints\",\n          helpText: \"Summary\",\n          condition: () => this.presentingComplaints.length > 0,\n          type: FieldType.TT_SUMMARY,\n          options: (d: any, b: any) => this.buildSummaryResults(d),\n          config: {\n            hiddenFooterBtns: [\"Clear\"],\n          },\n        },\n      ]\n    },\n    showRadiologyOdersBtn() {\n      if(this.isPacsEnabled) {\n        return ''\n      } else return this.radiologyBtnName\n    },\n    buildSummaryResults(data: any) {\n      const OPDComplaint = data.complaints.map((value: any)=>{\n        return {\n          'label': \"OPD Complaints\",\n          'value': value.label,\n        };\n      })\n      const triageComplaint = this.presentingComplaints.map((value: any)=>{\n        return {\n          'label': 'Triaging Complaints',\n          'value': value[1],\n        };\n      })\n      return OPDComplaint.concat(triageComplaint);\n    },\n    disableBackBtn() {\n      if(this.hasTriageComplaints) {\n        return ''\n      } else return 'Back'\n    }\n  }\n})\n","import { render } from \"./LabOrderModal.vue?vue&type=template&id=9adaf5e2&scoped=true&ts=true\"\nimport script from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\nexport * from \"./LabOrderModal.vue?vue&type=script&lang=ts\"\n\nimport \"./LabOrderModal.vue?vue&type=style&index=0&id=9adaf5e2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9adaf5e2\"]])\n\nexport default __exports__","import { render } from \"./radiology.vue?vue&type=template&id=426e5eb9&ts=true\"\nimport script from \"./radiology.vue?vue&type=script&lang=ts\"\nexport * from \"./radiology.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Complaints.vue?vue&type=template&id=ac007cae&ts=true\"\nimport script from \"./Complaints.vue?vue&type=script&lang=ts\"\nexport * from \"./Complaints.vue?vue&type=script&lang=ts\"\n\nimport \"./Complaints.vue?vue&type=style&index=0&id=ac007cae&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}