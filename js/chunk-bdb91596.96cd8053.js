(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bdb91596","TouchFormElement38","TouchFormElement51"],{"04a0":function(e,t,n){},"0a79":function(e,t,n){"use strict";var o=n("7a23"),r=Object(o["withScopeId"])("data-v-7c293cad"),c=r((function(e,t,n,r,c,u){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{id:"view-port",class:e.showFull?"":"half"},[Object(o["renderSlot"])(e.$slots,"default")],2)})),u=Object(o["defineComponent"])({name:"ViewPort",props:{showFull:{type:Boolean,default:function(){return!0}}}}),a=(n("a4d3f"),n("d959")),i=n.n(a);const l=i()(u,[["render",c],["__scopeId","data-v-7c293cad"]]);t["a"]=l},3286:function(e,t,n){"use strict";n.r(t);n("b0c0");var o=n("7a23"),r=Object(o["withScopeId"])("data-v-31e11cd2");Object(o["pushScopeId"])("data-v-31e11cd2");var c=Object(o["createTextVNode"])(" Drug Set "),u=Object(o["createTextVNode"])(" Cancel "),a=Object(o["createTextVNode"])(" Void Drug Set "),i=Object(o["createTextVNode"])(" Add Drug Set ");Object(o["popScopeId"])();var l=r((function(e,t,n,l,s,d){var b=Object(o["resolveComponent"])("ion-title"),f=Object(o["resolveComponent"])("ion-toolbar"),p=Object(o["resolveComponent"])("ion-header"),j=Object(o["resolveComponent"])("ion-label"),O=Object(o["resolveComponent"])("ion-item"),v=Object(o["resolveComponent"])("ion-list"),g=Object(o["resolveComponent"])("ion-col"),m=Object(o["resolveComponent"])("report-data-table"),h=Object(o["resolveComponent"])("ion-row"),k=Object(o["resolveComponent"])("ion-grid"),I=Object(o["resolveComponent"])("view-port"),C=Object(o["resolveComponent"])("ion-content"),w=Object(o["resolveComponent"])("ion-button"),_=Object(o["resolveComponent"])("ion-footer"),S=Object(o["resolveComponent"])("ion-page");return Object(o["openBlock"])(),Object(o["createBlock"])(S,null,{default:r((function(){return[Object(o["createVNode"])(p,null,{default:r((function(){return[Object(o["createVNode"])(f,null,{default:r((function(){return[Object(o["createVNode"])(b,{class:"his-lg-text"},{default:r((function(){return[c]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(C,null,{default:r((function(){return[Object(o["createVNode"])(I,null,{default:r((function(){return[Object(o["createVNode"])(k,{style:{"background-color":"white"},class:"view-port-content"},{default:r((function(){return[Object(o["createVNode"])(h,null,{default:r((function(){return[Object(o["createVNode"])(g,{size:"4"},{default:r((function(){return[Object(o["createVNode"])(v,null,{default:r((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.drugSets,(function(t,n){return Object(o["openBlock"])(),Object(o["createBlock"])(O,{class:"his-sm-text",button:"",detail:"",color:e.selectedDrugSet.id===t.id?"lightblue":"",onClick:function(n){return e.selectedDrugSet=t},key:n},{default:r((function(){return[Object(o["createVNode"])(j,null,{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.name),1)]})),_:2},1024)]})),_:2},1032,["color","onClick"])})),128))]})),_:1})]})),_:1}),Object(o["createVNode"])(g,{size:"8"},{default:r((function(){return[Object(o["createVNode"])(m,{columns:e.drugSetColumns,rows:e.drugSetRows,config:{tableCssTheme:"art-report-theme"}},null,8,["columns","rows"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(o["createVNode"])(_,null,{default:r((function(){return[Object(o["createVNode"])(f,{color:"dark"},{default:r((function(){return[Object(o["createVNode"])(w,{onClick:e.cancel,slot:"start",color:"danger",size:"large"},{default:r((function(){return[u]})),_:1},8,["onClick"]),e.hasSelectedDrugSet?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:0,onClick:e.voidDrugset,slot:"end",color:"danger",size:"large"},{default:r((function(){return[a]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(w,{onClick:e.addDrugset,slot:"end",color:"success",size:"large"},{default:r((function(){return[i]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]})),_:1})})),s=n("1da1"),d=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("0a79")),b=n("80e3"),f=n("9ceb"),p=n("8a30"),j=n("c84b"),O=n("2ef0"),v=n("6c02"),g=n("b5e4"),m=Object(o["defineComponent"])({components:{IonPage:p["IonPage"],ReportDataTable:b["a"],IonList:p["IonList"],IonItem:p["IonItem"],IonLabel:p["IonLabel"],ViewPort:d["a"],IonButton:p["IonButton"],IonContent:p["IonContent"],IonHeader:p["IonHeader"],IonGrid:p["IonGrid"],IonRow:p["IonRow"],IonCol:p["IonCol"],IonTitle:p["IonTitle"],IonFooter:p["IonFooter"],IonToolbar:p["IonToolbar"]},setup:function(){var e=Object(v["f"])(),t=Object(o["ref"])({}),n=Object(o["ref"])([]),r=[[f["a"].thTxt("Drug"),f["a"].thTxt("Duration in days"),f["a"].thTxt("Frequency")]],c=Object(o["computed"])((function(){return!Object(O["isEmpty"])(n.value)})),u=Object(o["computed"])((function(){var e,n;return(null===(e=t.value)||void 0===e||null===(n=e.drugs)||void 0===n?void 0:n.map((function(e){return[f["a"].td(e["drug_name"]||"N/A"),f["a"].td(e.duration||"N/A"),f["a"].td(e.frequency)]})))||[]}));function a(){e.back()}function i(){e.push({name:"add anc drugset"})}function l(){return d.apply(this,arguments)}function d(){return d=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["a"])("Are you sure you want to void this drug set?");case 2:if(!e.sent){e.next=13;break}return e.prev=3,e.next=6,j["a"].voidDrugSet(t.value.id||-1);case 6:n.value=n.value.filter((function(e){return e.id!=t.value.id})),Object(O["isEmpty"])(n.value)?t.value={}:t.value=n.value[0],e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Object(g["e"])("e");case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),d.apply(this,arguments)}return Object(o["onMounted"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].getDrugSets();case 2:n.value=e.sent,Object(O["isEmpty"])(n.value)||(t.value=n.value[0]);case 4:case"end":return e.stop()}}),e)})))),{cancel:a,addDrugset:i,voidDrugset:l,drugSets:n,hasSelectedDrugSet:c,selectedDrugSet:t,drugSetColumns:r,drugSetRows:u}}}),h=(n("5271"),n("d959")),k=n.n(h);const I=k()(m,[["render",l],["__scopeId","data-v-31e11cd2"]]);t["default"]=I},5271:function(e,t,n){"use strict";n("9b6e")},"9b6e":function(e,t,n){},a4d3f:function(e,t,n){"use strict";n("04a0")},c84b:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("2909"),r=n("1da1"),c=n("5530"),u=n("d4ec"),a=n("bee2"),i=n("262e"),l=n("2caf"),s=(n("96cf"),n("d3b7"),n("b64b"),n("99af"),n("1c74")),d=function(e){Object(i["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,null,[{key:"saveDrugSet",value:function(e){var t=Object(c["a"])({},e);return t["datetime"]=s["e"].getSessionDate(),this.postJson("/drug_sets",e)}},{key:"voidDrugSet",value:function(e){return this.void("/drug_sets/".concat(e),{date:this.getSessionDate()})}},{key:"getDrugSets",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getJson("drug_sets");case 2:if(t=e.sent,!t){e.next=5;break}return e.abrupt("return",Object.keys(t["set_names"]).reduce((function(e,n){var r=t["set_names"][n],u=t["set_descriptions"][n],a=t["drug_sets"][n];return e.push({id:parseInt(n),name:r,description:u,drugs:Object.keys(a).reduce((function(e,t){return[].concat(Object(o["a"])(e),[Object(c["a"])(Object(c["a"])({id:parseInt(t)},a[t]),{},{drug_name:a[t].drug_name,duration:parseInt(a[t].duration),frequency:a[t].frequency,units:a[t].units})])}),[])}),e}),[]));case 5:return e.abrupt("return",[]);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(s["e"])}}]);
//# sourceMappingURL=chunk-bdb91596.96cd8053.js.map