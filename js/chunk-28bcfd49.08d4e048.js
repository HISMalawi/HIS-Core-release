(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28bcfd49"],{"05e1":function(e,t,n){"use strict";var r=n("7a23"),a={class:"my-table",style:{margin:"auto",width:"95%","margin-top":"3%","margin-bottom":"3%"}};function o(e,t,n,o,i,s){var c=Object(r["resolveComponent"])("report-table");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])(c,{columns:e.columns,rows:e.rows,config:{tableCssTheme:e.tableCssTheme}},null,8,["columns","rows","config"])])}var i=n("1da1"),s=(n("96cf"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("159b"),n("b0c0"),n("6d14")),c=n("1c74"),u=n("5a0c"),l=n.n(u),d=n("80e3"),p=n("9ceb"),h=Object(r["defineComponent"])({components:{ReportTable:d["a"]},data:function(){return{conditions:[],lessThanFiveYears:" < 5 yrs ",greaterAndEqualFiveYears:" >= 5 yrs ",total:" Total ",tableCssTheme:"opd-report-theme",rows:[],columns:[[p["a"].thTxt("",{colspan:2,sortable:!1,exportable:!1}),p["a"].thTxt("Out-patient Cases",{colspan:3,sortable:!1,exportable:!1})],[p["a"].thTxt(""),p["a"].thTxt("Diseases/Events/Conditions"),p["a"].thTxt("< 5 yrs"),p["a"].thTxt(">= 5 yrs"),p["a"].thTxt("Total")]]}},props:["params","epiweek","quarter","onDrillDown"],methods:{renderResults:function(){var e=new s["a"],t=e.renderResults(this.params);t.length&&(this.conditions=t,this.rows=this.buildRows(t))},onDownload:function(){var e=new s["a"],t=e.getCSVString(this.conditions),n=t.CSVString;n+="\n          Date Created: ".concat(l()().format("DD/MMM/YYYY HH:MM:ss"),"\n          His-Core Version: ").concat(c["e"].getCoreVersion(),"\n          API Version: ").concat(c["e"].getApiVersion(),"\n          Report Period: ").concat(this.epiweek,"\n          Site: ").concat(c["e"].getLocationName(),"\n          Site UUID: ").concat(c["e"].getSiteUUID());var r=new Blob([n],{type:"text/csv;charset=utf-8;"}),a="".concat(c["e"].getLocationName()," Weekly IDSR report ").concat(this.quarter);if(navigator.msSaveBlob)navigator.msSaveBlob(r,"exportFilename");else{var o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.setAttribute("download","".concat(a,".csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o)}},buildRows:function(e){var t=this,n=[];return e.forEach((function(e){n.push([p["a"].td(e.id,{style:{textAlign:"left"}}),p["a"].td(e.name,{style:{textAlign:"left"}}),t.buildRow(t.lessThanFiveYears+"("+e.name+")",e.lessThanFiveYears,e.lessThanFiveYearsPatientIds),t.buildRow(t.greaterAndEqualFiveYears+"("+e.name+")",e.greaterThanEqualFiveYears,e.greaterThanEqualFiveYearsPatientIds),t.buildRow(t.total+"("+e.name+")",e.total,e.totalPatientIds)])})),n},buildRow:function(e,t,n){var r=this;return"string"==typeof t?p["a"].td(""):t>0?p["a"].tdLink(t,Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",r.onDrillDown(e,n));case 1:case"end":return t.stop()}}),t)})))):p["a"].td(0)}},watch:{params:{immediate:!0,handler:function(){this.renderResults()}}}}),m=n("d959"),f=n.n(m);const g=f()(h,[["render",o]]);t["a"]=g},"6d14":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("1da1"),a=n("b85c"),o=n("2909"),i=n("3835"),s=n("d4ec"),c=n("bee2"),u=n("262e"),l=n("2caf"),d=(n("96cf"),n("4fad"),n("99af"),n("b0c0"),n("d3b7"),n("159b"),n("ac1f"),n("1276"),n("498a"),n("fcd5")),p=n("1c74"),h=function(e){Object(u["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.call(this),e.regenerate=!1,e}return Object(c["a"])(n,[{key:"setRegenerate",value:function(e){this.regenerate=e}},{key:"requestIDSRWeekly",value:function(){return this.getReport("generate_weekly_idsr_report",{request:"true"})}},{key:"requestIDSRMonthly",value:function(){return this.getReport("generate_monthly_idsr_report",{request:"true"})}},{key:"renderResults",value:function(e){for(var t=[],n=1,r=0,a=Object.entries(e);r<a.length;r++){var s=Object(i["a"])(a[r],2),c=s[0],u=s[1],l=[],d=u,p={id:0,name:"",lessThanFiveYears:"",lessThanFiveYearsPatientIds:"",greaterThanEqualFiveYears:"",greaterThanEqualFiveYearsPatientIds:"",total:0,totalPatientIds:""};p.name=c;var h=0;p.id=n,n+=1;for(var m=0,f=Object.entries(d);m<f.length;m++){var g=Object(i["a"])(f[m],2),b=g[0],v=g[1],D=v;null!=D&&(h+=D.length,p.total=h,D.length&&(l.push.apply(l,Object(o["a"])(D)),p.totalPatientIds=l),"<5yrs"==b&&(p.lessThanFiveYears=D.length,p.lessThanFiveYearsPatientIds=D),">=5yrs"==b&&(p.greaterThanEqualFiveYears=D.length,p.greaterThanEqualFiveYearsPatientIds=D))}t.push(p)}return t}},{key:"getCSVString",value:function(e){var t,n="Diseases/Events/Conditions, <5 yrs, >=5 yrs, Total,\n",r=Object(a["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n+="".concat(o.name,",").concat(o.lessThanFiveYears,",").concat(o.greaterThanEqualFiveYears,",").concat(o.total,",\n")}}catch(i){r.e(i)}finally{r.f()}return{CSVString:n}}}],[{key:"getReportEpiWeeks",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,p["e"].getJson("get_weeks");case 3:return n=e.sent,n.reverse().forEach((function(e){var n=e[1].split(" "),r=n[0],a=n[2],o=e[0].split("W"),i=o[0]+"/W"+o[1];t.push({name:i,start:r,end:a})})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getReportMonths",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],e.next=3,p["e"].getJson("get_months");case 3:return n=e.sent,n.forEach((function(e){var n=e[1],r=n[0],a=n[1],o=a.split("to");t.push({name:r,start:o[0],end:o[1].trim()})})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(d["d"])},7920:function(e,t,n){"use strict";var r=n("7a23");function a(e,t,n,a,o,i){return Object(r["openBlock"])(),Object(r["createBlock"])(Object(r["resolveDynamicComponent"])(e.formType),{fields:e.fields,skipSummary:e.skipSummary,activeField:e.activeField,cancelDestinationPath:e.cancelDestinationPath,onOnFinish:e.onFinish,onFinish:e.onFinishAction,onOnIndex:e.onIndex},null,8,["fields","skipSummary","activeField","cancelDestinationPath","onOnFinish","onFinish","onOnIndex"])}var o=n("9441"),i=Object(r["defineComponent"])({name:"HisStandardForm",components:{TouchScreenForm:o["a"]},emits:["onFinish","onIndex"],data:function(){return{formType:"touch-screen-form"}},props:{onFinishAction:{type:Function},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String,required:!1}},methods:{onFinish:function(e,t){this.$emit("onFinish",e,t)},onIndex:function(e){this.$emit("onIndex",e)}}}),s=n("d959"),c=n.n(s);const u=c()(i,[["render",a]]);t["a"]=u},"9ad4":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={id:"report-content"},o=Object(r["createVNode"])("div",{id:"print"},null,-1);function i(e,t,n,i,s,c){var u=Object(r["resolveComponent"])("ion-loading"),l=Object(r["resolveComponent"])("his-standard-form"),d=Object(r["resolveComponent"])("idsr-h"),p=Object(r["resolveComponent"])("monthly"),h=Object(r["resolveComponent"])("ion-content"),m=Object(r["resolveComponent"])("his-footer"),f=Object(r["resolveComponent"])("ion-page");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(u,{"is-open":e.isLoading,message:"Please wait..."},null,8,["is-open"]),e.reportReady?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(l,{key:0,onOnFinish:e.onPeriod,skipSummary:!0,fields:e.fields},null,8,["onOnFinish","fields"])),e.reportReady?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",a,[Object(r["createVNode"])(d,{key:e.componentKey,reportName:e.reportName,rangeLabel:e.rangeLabel,range:e.range,ref:"header",periodLabel:e.periodLabel,periodDates:e.periodDates,clinicName:e.clinicName,totalOPDVisits:e.TotalOPDVisits},null,8,["reportName","rangeLabel","range","periodLabel","periodDates","clinicName","totalOPDVisits"]),Object(r["createVNode"])(p,{key:e.componentKey,onDrillDown:e.onDrillDown,params:e.idsr,month:e.range,ref:"rep"},null,8,["onDrillDown","params","month"])])]})),_:1}),Object(r["createVNode"])(m,{btns:e.btns},null,8,["btns"])]})),_:1})):Object(r["createCommentVNode"])("",!0),o],64)}var s=n("1da1"),c=(n("96cf"),n("ac1f"),n("1276"),n("0f25")),u=n("8a30"),l=n("7920"),d=n("c2b0"),p=n("6d14"),h=n("cb01"),m=n("05e1"),f=n("9283"),g=Object(r["defineComponent"])({mixins:[d["a"]],components:{IonLoading:u["IonLoading"],IdsrH:h["a"],Monthly:m["a"],HisStandardForm:l["a"],HisFooter:c["a"],IonPage:u["IonPage"],IonContent:u["IonContent"]},data:function(){return{formData:{},componentKey:0,computedFormData:{},idsr:{},btns:[],isLoading:!1,fields:[],reportID:-1,periodLabel:"Month Dates",periodDates:"",reportName:"MONTHLY DISEASE SURVEILLANCE REPORT",rangeLabel:"Month",range:"",TotalOPDVisits:0,clinicName:p["a"].getLocationName(),reportReady:!1}},created:function(){this.btns=this.getBtns(),this.fields=this.getMonthlyFields()},methods:{onPeriod:function(e,t){var n=arguments,r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var o,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=n.length>2&&void 0!==n[2]&&n[2],r.componentKey+=1,r.formData=e,r.computedFormData=t,r.reportReady=!0,r.isLoading=!0,r.report=new p["a"],r.report.setRegenerate(o),r.report.setEpiWeek(e.idsrmonth.label),r.report.setStartDate(f["c"].toStandardHisFormat(e.idsrmonth.other.start)),r.report.setEndDate(f["c"].toStandardHisFormat(e.idsrmonth.other.end)),r.periodDates=r.report.getReportPeriod(),r.range=e.idsrmonth.label.split(" ")[0],a.prev=13,a.next=16,r.report.requestIDSRMonthly();case 16:return i=a.sent,a.next=19,r.report.getAttendance();case 19:s=a.sent,i&&s&&(r.reportID="data",r.TotalOPDVisits=s.length,r.idsr=i),a.next=26;break;case 23:a.prev=23,a.t0=a["catch"](13),console.log(a.t0);case 26:return a.prev=26,r.isLoading=!1,a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[13,23,26,29]])})))()},getBtns:function(){var e=this;return[{name:"CSV",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$refs.rep,n.onDownload();case 2:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"PDF",size:"large",slot:"start",color:"primary",visible:!0,onClick:function(){return e.exportToCustomPDF("Print IDSR Monthly Report")}},{name:"Back",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){return e.reportReady=!1}},{name:"Refresh",size:"large",slot:"end",color:"warning",visible:!0,onClick:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onPeriod(e.formData,e.computedFormData,!0);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()},{name:"Finish",size:"large",slot:"end",color:"success",visible:!0,onClick:function(){return e.$router.push({path:"/"})}}]}}}),b=n("d959"),v=n.n(b);const D=v()(g,[["render",i]]);t["default"]=D},c2b0:function(e,t,n){"use strict";var r=n("2909"),a=n("3835"),o=n("1da1"),i=(n("96cf"),n("99af"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("25f0"),n("b0c0"),n("7a23")),s=n("b446"),c=n("23e6"),u=n("9283"),l=n("8a30"),d=n("d6aa"),p=n("fcd5"),h=n("6d14"),m=n("d95e"),f=n("2706"),g=n("9ceb"),b=n("5a0c"),v=n.n(b),D=n("1c74"),w=n("2ef0"),y=Object(i["defineComponent"])({data:function(){return{fields:[],report:{},reportReady:!1,period:"",startDate:"",endDate:"",customFileName:"",drillDownCache:{}}},methods:{toDate:function(e){return u["c"].toStandardHisDisplayFormat(e)},confirmPatient:function(e){return this.$router.push("/patients/confirm?person_id=".concat(e))},exportToCustomPDF:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=open("","","width:1024px, height:768px"),r=document.getElementById("report-content"),r&&n&&(n.document.write("\n                    <html>\n                    <head>\n                        <title>".concat(e,'</title>\n                        <link rel="stylesheet" media="print" href="/assets/css/cohort.css" />\n                    </head>\n                    <body>\n                        ').concat(r.innerHTML,"\n                    </body>\n                    </html>\n                ")),setTimeout((function(){n.print(),n.close()}),3500));case 3:case"end":return t.stop()}}),t)})))()},onDrillDown:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!Object(w["isEmpty"])(t)){r.next=2;break}return r.abrupt("return");case 2:return a=[[g["a"].thTxt("First name"),g["a"].thTxt("Last name"),g["a"].thTxt("Gender"),g["a"].thTxt("Age"),g["a"].thTxt("Phone"),g["a"].thTxt("Address"),g["a"].thTxt("Action")]],i=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].findByID(t);case 2:return r=e.sent,a=new c["a"](r),e.abrupt("return",[g["a"].td(a.getGivenName()),g["a"].td(a.getFamilyName()),g["a"].td(a.getGender()),g["a"].td(a.getAge()),g["a"].td(a.getPhoneNumber()),g["a"].td("".concat(a.getCurrentDistrict(),", ").concat(a.getCurrentVillage(),", ").concat(a.getClosestLandmark())),g["a"].tdBtn("Select",Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["modalController"].dismiss({});case 2:n.$router.push({path:"/patient/dashboard/".concat(t)});case 3:case"end":return e.stop()}}),e)}))))]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.abrupt("return",n.drilldownData(e,a,t,i));case 5:case"end":return r.stop()}}),r)})))()},drilldownAsyncRows:function(e,t,n){return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,l["modalController"].create({component:d["a"],cssClass:"large-modal",componentProps:{title:e,columns:t,asyncRows:n,showFilters:!0,rowsPerPage:50,paginated:!0,showReportStamp:!1,footerColor:"light",onFinish:function(){return l["modalController"].dismiss()}}});case 2:a=r.sent,a.present();case 4:case"end":return r.stop()}}),r)})))()},drilldownData:function(e,t,n,r){return Object(o["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,l["modalController"].create({component:d["a"],cssClass:"large-modal",componentProps:{title:e,columns:t,rows:n,rowParser:r,rowsPerPage:50,showFilters:!0,paginated:!0,showReportStamp:!1,footerColor:"light",onFinish:function(){return l["modalController"].dismiss()}}});case 2:o=a.sent,o.present();case 4:case"end":return a.stop()}}),a)})))()},getDefaultDrillDownTable:function(){var e=this,t=[[g["a"].thTxt("ARV number"),g["a"].thTxt("Gender"),g["a"].thTxt("Birth Date"),g["a"].thTxt("Actions")]],n=function(t){return t.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(n){var r,i,s,u,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=Object(a["a"])(n,2),i=r[0],s=r[1],!(s in e.drillDownCache)){t.next=3;break}return t.abrupt("return",[i]);case 3:return t.next=5,c["a"].findByID(s);case 5:return u=t.sent,d=new c["a"](u),p=[i,g["a"].td(d.getArvNumber()),g["a"].td(d.getGender()),g["a"].tdDate(d.getBirthdate().toString()),g["a"].tdBtn("Show",Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["modalController"].dismiss({});case 2:e.$router.push({path:"/patient/dashboard/".concat(s)});case 3:case"end":return t.stop()}}),t)}))))],e.drillDownCache[s]=p,t.abrupt("return",p);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return{rowParser:n,columns:t}},runTableDrill:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Drilldown patients",n=this.getDefaultDrillDownTable(),r=n.columns,a=n.rowParser;this.drilldownData(t,r,e,a)},drill:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Drill table";return e&&e.length>0?g["a"].tdLink(e.length,(function(){return t.runTableDrill(e,n)})):g["a"].td(0)},getEpiweeksFields:function(){return[{id:"epiweek",helpText:"Select EPI week",type:m["b"].TT_SELECT,validation:function(e){return f["a"].required(e)},options:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getReportEpiWeeks();case 2:return t=e.sent,n=t.map((function(e){return{label:e.name+" - ("+v()(e.start).format("DD/MMM/YYYY")+" - "+v()(e.end).format("DD/MMM/YYYY")+")",value:e.start,other:e}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]},getMonthlyFields:function(){return[{id:"idsrmonth",helpText:"Select Month",type:m["b"].TT_SELECT,validation:function(e){return f["a"].required(e)},options:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h["a"].getReportMonths();case 2:return t=e.sent,n=t.map((function(e){return{label:e.name+" - ("+v()(e.start).format("DD/MMM/YYYY")+" - "+v()(e.end).format("DD/MMM/YYYY")+")",value:e.start,other:e}})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]},getDateDurationFields:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o="2001-01-01",i=D["e"].getSessionDate();return[{id:"quarter",helpText:"Select Quarter",type:m["b"].TT_SELECT,condition:function(){return t},validation:function(e){return f["a"].required(e)},options:function(){var e=p["d"].getReportQuarters(a),t=e.map((function(e){return{label:e.name,value:e.start,other:e}}));return n&&(t=[{label:"Set custom period",value:"custom_period",other:{}}].concat(Object(r["a"])(t))),t}}].concat(Object(r["a"])(Object(s["b"])({id:"start_date",helpText:"Start",required:!0,condition:function(e){return e.quarter&&"custom_period"===e.quarter.value||!t},minDate:function(){return o},maxDate:function(){return i},estimation:{allowUnknown:!1},computeValue:function(e){return e}})),Object(r["a"])(Object(s["b"])({id:"end_date",helpText:"End",required:!0,condition:function(e){return e.quarter&&"custom_period"===e.quarter.value||!t},unload:function(t,n,r,a){"next"===n&&(e.endDate=a.end_date)},minDate:function(e,t){return t.start_date},maxDate:function(){return i},estimation:{allowUnknown:!1},computeValue:function(e){return e}})))}}});const O=y;t["a"]=O},cb01:function(e,t,n){"use strict";var r=n("7a23"),a={style:{margin:"auto",width:"95%","margin-top":"1%"}};function o(e,t,n,o,i,s){var c=Object(r["resolveComponent"])("report-table");return Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])(c,{columns:e.columns,rows:e.rows,config:{tableCssTheme:e.tableCssTheme}},null,8,["columns","rows","config"])])}n("a9e3"),n("d3b7"),n("159b"),n("b0c0");var i=n("80e3"),s=n("9ceb"),c=Object(r["defineComponent"])({components:{ReportTable:i["a"]},props:{clinicName:{type:String,default:""},reportparams:{type:Object,required:!0},totalOPDVisits:{type:Number,required:!0},reportName:{type:String,required:!0},periodLabel:{type:String,required:!0},periodDates:{type:String,required:!0},rangeLabel:{type:String,required:!0},range:{type:String,required:!0}},data:function(){return{tableCssTheme:"opd-report-theme",rows:[],columns:[[s["a"].thTxt(this.reportName,{colspan:2,sortable:!1,exportable:!1})]]}},mounted:function(){this.initTable()},watch:{totalOPDVisits:function(e,t){this.initTable()}},methods:{initTable:function(){var e=[],t=[{name:"Country:",value:"Malawi"},{name:"Reporting Facility Name:",value:this.clinicName},{name:this.rangeLabel+":",value:this.range},{name:this.periodLabel+":",value:this.periodDates},{name:"Total OPD Visits:",value:this.totalOPDVisits}];t.forEach((function(t){"undefined:"!==t.name&&e.push([s["a"].td(t.name,{style:{textAlign:"left"}}),s["a"].td(t.value,{style:{textAlign:"left"}})])})),this.rows=e}}}),u=n("d959"),l=n.n(u);const d=l()(c,[["render",o]]);t["a"]=d},fcd5:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f}));var r=n("5530"),a=n("d4ec"),o=n("bee2"),i=n("262e"),s=n("2caf"),c=(n("d3b7"),n("159b"),n("b64b"),n("99af"),n("1c74")),u=n("9283"),l=n("b89f"),d=n("bef6"),p={one:"AL 1",two:"AL 2",three:"AL 3",four:"LA 4"},h=["Diabetes","Hypertension","Stroke","Suspected cancer","Confirmed cancer","Palliative cancer","Asthma","Depression","Acute psychosis","Chronic psychosis","Epilepsy"],m=["Organic mental disorder (Chronic)","Organic mental disorder (acute)","Alcohol use mental disorder","Drug use mental disorder","Schizophrenia","Acute and transient psychotic disorder","Schizo-affective disorder","Mood-affective disorder (MANIC)","Mood-affective disorder (BIPOLAR)","Mood-affective disorder (DEPRESSION)","Anxiety disorder","Stress reaction adjustment disorder","Dissociative conversion disorder","Somatoform disorder","Puerperal mental disorder","Personality/Behaviour disorder","Mental retardation","Psychological mental disorder","Hyperkinetic conduct disorder","Epilepsy"],f=function(e){Object(i["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.endDate="",e.startDate="",e.epiweek="",e.date=c["e"].getSessionDate(),e.programID=c["e"].getProgramID(),e}return Object(o["a"])(n,[{key:"getPatientsWithNIDs",value:function(){return this.getReport("with_nids")}},{key:"getClinicRegistrations",value:function(){return this.getReport("registration")}},{key:"getAttendance",value:function(){return this.getReport("programs/".concat(this.programID,"/reports/attendance"))}},{key:"getDrugsGivenWithoutPrescription",value:function(){return this.getReport("drugs_given_without_prescription")}},{key:"getDrugsGivenWithPrescription",value:function(){return this.getReport("drugs_given_with_prescription")}},{key:"getDiagnosis",value:function(){var e="programs/".concat(this.programID,"/reports/diagnosis");return c["e"].getJson(e,{start_date:this.startDate,end_date:this.endDate,date:this.date})}},{key:"getDiagnosisByAddress",value:function(){return this.getReport("diagnosis_by_address")}},{key:"getLaPrescriptions",value:function(){var e="programs/".concat(this.programID,"/reports/la_prescriptions");return c["e"].getJson(e,{start_date:this.startDate,end_date:this.endDate})}},{key:"printLaReport",value:function(e){var t=new l["a"],n="programs/".concat(this.programID,"/barcodes/la_report"),r={"date[start]":this.startDate,"date[end]":this.endDate};return Object.keys(p).forEach((function(t,n){n++,r["".concat(n,"[prescription]")]=e["total_la_".concat(t,"_prescribed_drugs")],r["".concat(n,"[dispensed]")]=e["total_la_".concat(t,"_dispensed_drugs")]})),t.printLbl("".concat(n,"?").concat(d["a"].parameterizeObjToString(r)))}},{key:"getDateIntervalPeriod",value:function(){return"".concat(u["c"].toStandardHisDisplayFormat(this.startDate)," - ").concat(u["c"].toStandardHisDisplayFormat(this.endDate))}},{key:"setStartDate",value:function(e){this.startDate=e}},{key:"setEndDate",value:function(e){this.endDate=e}},{key:"setEpiWeek",value:function(e){this.epiweek=e}},{key:"getReportPeriod",value:function(){return this.startDate&&this.endDate?"".concat(u["c"].toStandardHisDisplayFormat(this.startDate)," - ").concat(u["c"].toStandardHisDisplayFormat(this.endDate)):"-"}},{key:"getReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c["e"].getJson(e,this.buildRequest(t))}},{key:"buildRequest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={date:this.date,program_id:this.programID};return this.startDate&&this.endDate&&(t["start_date"]=this.startDate,t["end_date"]=this.endDate),this.epiweek&&(t["epiweek"]=this.epiweek),Object(r["a"])(Object(r["a"])({},t),e)}}],[{key:"getReportQuarters",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=[],n=u["c"].getCurrentYear(),r=0;r<e;++r)t.push({name:"Q4 ".concat(n),start:"".concat(n,"-10-01"),end:"".concat(n,"-12-31")}),t.push({name:"Q3 ".concat(n),start:"".concat(n,"-07-01"),end:"".concat(n,"-09-30")}),t.push({name:"Q2 ".concat(n),start:"".concat(n,"-04-01"),end:"".concat(n,"-06-30")}),t.push({name:"Q1 ".concat(n),start:"".concat(n,"-01-01"),end:"".concat(n,"-03-31")}),--n;return t}}]),n}(c["e"])}}]);
//# sourceMappingURL=chunk-28bcfd49.08d4e048.js.map