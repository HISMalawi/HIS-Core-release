(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a36f9"],{"01bd":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function r(e,t,n,r,c,o){var i=Object(a["resolveComponent"])("his-standard-form");return Object(a["openBlock"])(),Object(a["createBlock"])(i,{fields:e.fields,onFinishAction:e.onFinish,skipSummary:!0,cancelDestinationPath:e.cancelDestination},null,8,["fields","onFinishAction","cancelDestinationPath"])}n("4160"),n("b0c0"),n("ac1f"),n("466d"),n("159b"),n("96cf");var c=n("1da1"),o=n("d95e"),i=n("7920"),u=n("2706"),s=n("7365"),l=n("b5e4"),d=n("ad60"),f=n("d4ec"),m=n("262e"),b=n("2caf"),p=n("cc6f"),h=function(e){Object(m["a"])(n,e);var t=Object(b["a"])(n);function n(e,a){return Object(f["a"])(this,n),t.call(this,e,184,a)}return n}(p["a"]),v=Object(a["defineComponent"])({mixins:[s["a"]],components:{HisStandardForm:i["a"]},data:function(){return{outcome:{}}},watch:{patient:{handler:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.outcome=new h(e.patientID,e.providerID),e.fields=e.getFields();case 2:case"end":return t.stop()}}),t)})))()},deep:!0}},methods:{onFinish:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,r,c,o,i,u,s,f,m,b,p,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.outcome.createEncounter();case 2:if(a=n.sent,a){n.next=5;break}return n.abrupt("return",Object(l["e"])("Unable to create encounter"));case 5:return r=d["a"].getProgramID(),n.next=8,d["a"].getProgramWorkflows(d["a"].getProgramID());case 8:return c=n.sent,o=e.select_referral_outcome.value,i={},c.forEach((function(e){e.states.forEach((function(e){var t=e.program_workflow_state_id,n=e.concept.concept_names[0].name;i[n]=t}))})),u={location_id:d["a"].getLocationName(),state:i[o],date:d["a"].getSessionDate()},n.next=15,d["a"].createState(t.patientID,r,u);case 15:if(s=n.sent,s){n.next=18;break}return n.abrupt("return",Object(l["e"])("Unable to update state"));case 18:return f=e.select_referral_outcome.value,m=e.select_cancer_treatment.value,n.next=22,t.outcome.buildValueCoded("Outcome",f);case 22:if(b=n.sent,p=[b],!m.match(/cancer/)){n.next=29;break}return n.next=27,t.outcome.buildValueCoded("Cancer treatment",m);case 27:h=n.sent,p.push(h);case 29:return n.next=31,t.outcome.saveObservationList(p);case 31:n.sent,Object(l["d"])("Observations and encounter created!"),t.nextTask();case 34:case"end":return n.stop()}}),n)})))()},getFields:function(){return[{id:"select_referral_outcome",helpText:"Referral outcome",type:o["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Cancer of cervix",value:"Cancer of cervix"},{label:"Continue follow-up",value:"Continue follow-up"},{label:"Discharged uninfected",value:"Discharged uninfected"},{label:"Treatment complete",value:"Treatment complete"}]}},{id:"select_cancer_treatment",helpText:"Select cancer treatment",type:o["b"].TT_SELECT,validation:function(e){return u["a"].required(e)},options:function(){return[{label:"Surgery",value:"Surgery"},{label:"Palliative Care",value:"Palliative Care"},{label:"Discharged",value:"Discharged"},{label:"Other",value:"Other"}]}}]}}}),g=n("d959"),w=n.n(g);const x=w()(v,[["render",r]]);t["default"]=x}}]);
//# sourceMappingURL=chunk-2d0a36f9.405e9bd4.js.map