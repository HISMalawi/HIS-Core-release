(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TouchFormElement2","TouchFormElement8"],{"36c4":function(e,t,o){},"51c8":function(e,t,o){"use strict";o.r(t);var l=o("7a23"),n=Object(l["defineComponent"])({emits:["onValue","onFieldActivated"],props:{config:{type:Object,default:()=>({})},preset:{type:Object,default:()=>({label:"",value:""})},defaultValue:{type:Function},fdata:{type:Object,required:!0},cdata:{type:Object,required:!0},clear:{type:Number,required:!0},options:{type:Function,default:()=>[]},activationState:{type:String,default:""},onValue:{type:Function},onValueUpdate:{type:Function},footerButtonEvent:{type:Object}}});const c=n;t["default"]=c},"856e":function(e,t,o){"use strict";o("36c4")},b043:function(e,t,o){"use strict";o.r(t);var l=o("7a23");const n=Object(l["withScopeId"])("data-v-b37011c8");Object(l["pushScopeId"])("data-v-b37011c8");const c={key:0},a=Object(l["createVNode"])("p",null,null,-1);Object(l["popScopeId"])();const i=n((function(e,t,o,i,d,r){const u=Object(l["resolveComponent"])("ion-radio"),s=Object(l["resolveComponent"])("ion-label"),b=Object(l["resolveComponent"])("ion-item"),p=Object(l["resolveComponent"])("ion-radio-group"),O=Object(l["resolveComponent"])("ion-list"),j=Object(l["resolveComponent"])("ion-col"),m=Object(l["resolveComponent"])("ion-title"),v=Object(l["resolveComponent"])("ion-row"),f=Object(l["resolveComponent"])("ion-input"),h=Object(l["resolveComponent"])("ion-grid"),k=Object(l["resolveComponent"])("view-port");return Object(l["openBlock"])(),Object(l["createBlock"])(k,null,{default:n(()=>[Object(l["createVNode"])(h,{class:"view-port-content"},{default:n(()=>[Object(l["createVNode"])(v,null,{default:n(()=>[Object(l["createVNode"])(j,{size:"4"},{default:n(()=>[Object(l["createVNode"])(O,null,{default:n(()=>[Object(l["createVNode"])(p,{modelValue:e.selected,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selected=t)},{default:n(()=>[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(e.listData,(e,t)=>(Object(l["openBlock"])(),Object(l["createBlock"])(b,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:t},{default:n(()=>[Object(l["createVNode"])(u,{slot:"start",value:e.label},null,8,["value"]),Object(l["createVNode"])(s,{innerHTML:e.label},null,8,["innerHTML"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),Object(l["createVNode"])(j,null,{default:n(()=>[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(e.listData,(t,o)=>(Object(l["openBlock"])(),Object(l["createBlock"])("div",{key:o},[e.selected===t.label?(Object(l["openBlock"])(),Object(l["createBlock"])("div",c,[(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(t.other.data,(c,i)=>(Object(l["openBlock"])(),Object(l["createBlock"])(h,{style:{"margin-bottom":"10px"},class:"his-card",key:i},{default:n(()=>{var d;return[null!==t&&void 0!==t&&null!==(d=t.other)&&void 0!==d&&d.rowTitles?(Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:0,style:{background:"#F8F8F8"}},{default:n(()=>[Object(l["createVNode"])(j,{class:"ion-text-center"},{default:n(()=>{var e,o;return[Object(l["createVNode"])(m,{class:"his-md-text",innerHTML:null!==t&&void 0!==t&&null!==(e=t.other)&&void 0!==e&&e.rowTitles&&(null===t||void 0===t||null===(o=t.other)||void 0===o?void 0:o.rowTitles[i])||""},null,8,["innerHTML"])]}),_:2},1024)]),_:2},1024)):Object(l["createCommentVNode"])("",!0),a,(Object(l["openBlock"])(!0),Object(l["createBlock"])(l["Fragment"],null,Object(l["renderList"])(c,(t,c)=>(Object(l["openBlock"])(),Object(l["createBlock"])(v,{key:c},{default:n(()=>[Object(l["createVNode"])(j,null,{default:n(()=>[t.disabled?(Object(l["openBlock"])(),Object(l["createBlock"])(b,{key:0,onClick:o=>e.warn("Cannot edit "+t.label),class:"his-sm-text"},{default:n(()=>[Object(l["createVNode"])(s,null,{default:n(()=>[Object(l["createTextVNode"])(Object(l["toDisplayString"])(t.label),1)]),_:2},1024),Object(l["createVNode"])(f,{placeholder:"N/A",slot:"end"})]),_:2},1032,["onClick"])):Object(l["createCommentVNode"])("",!0),t.disabled?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createBlock"])(b,{key:1,class:"his-sm-text",onClick:l=>e.editField(t,e.listData[o].other.data[i])},{default:n(()=>{var e,o;return[Object(l["createVNode"])(s,{color:null!==t&&void 0!==t&&null!==(e=t.value)&&void 0!==e&&e.label?"":"danger"},{default:n(()=>[Object(l["createVNode"])("b",null,Object(l["toDisplayString"])(t.label),1)]),_:2},1032,["color"]),Object(l["createVNode"])(f,{class:"his-md-text",slot:"end",readonly:!0,value:null===t||void 0===t||null===(o=t.value)||void 0===o?void 0:o.label,placeholder:"Click to edit"},null,8,["value"])]}),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))),128))]}),_:2},1024))),128))])):Object(l["createCommentVNode"])("",!0)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}));o("13d5");var d=o("51c8"),r=o("0a79"),u=o("8a30"),s=o("ff79"),b=o("b5e4"),p=o("e6e9"),O=o("2ef0"),j=Object(l["defineComponent"])({name:"HisSelect",mixins:[d["default"]],components:{IonTitle:u["R"],IonInput:u["v"],IonRadioGroup:u["F"],IonRadio:u["E"],IonGrid:u["p"],IonCol:u["m"],IonRow:u["H"],ViewPort:r["a"]},setup(){return{arrowUp:s["h"],arrowDown:s["g"]}},data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){Object(b["e"])(e)},async launchModal(e,t){(await u["Z"].create({component:p["a"],backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})).present()},async editField(e,t){const o=o=>{var l,n,c;(e.value=o,"function"===typeof(null===e||void 0===e||null===(l=e.field)||void 0===l?void 0:l.computedValue))&&(e.computedValue=null===e||void 0===e||null===(c=e.field)||void 0===c?void 0:c.computedValue(o));"function"===typeof(null===e||void 0===e||null===(n=e.field)||void 0===n?void 0:n.onValueUpdate)&&e.field.onValueUpdate(o,t)};this.launchModal(e.field,t=>{var l,n;if(!Array.isArray(t)&&(t.label.match(/unknown/i)&&"function"===typeof(null===(l=e.field)||void 0===l||null===(n=l.config)||void 0===n?void 0:n.onUnknownEstimateField)))return this.launchModal(e.field.config.onUnknownEstimateField(),e=>o(e));o(t)})}},watch:{listData:{handler(e){const t=[],o=e.map(e=>e.other.data).reduce((e,t)=>[...e,...t.reduce((e,t)=>[...e,...t],[])],[]).filter(e=>e.required&&""===e.value?(t.push(e.label),!1):!!e.required).map(e=>({label:e.label,value:e.value,other:{obs:e.computedValue}}));Object(O["isEmpty"])(t)?this.$emit("onValue",o):this.$emit("onValue",[{label:"_INCOMPLETE_RECORD_ERROR_",value:t.length,other:{incompleteLabels:t}}])},deep:!0}}}),m=(o("856e"),o("d959")),v=o.n(m);const f=v()(j,[["render",i],["__scopeId","data-v-b37011c8"]]);t["default"]=f}}]);
//# sourceMappingURL=TouchFormElement2.cd5e8e06.js.map