{"version":3,"sources":["webpack:///./src/views/Login/Login.vue?0617","webpack:///./src/views/Login/LoginCustomPage.vue?849c","webpack:///./src/composables/offline_metadata.ts","webpack:///./src/views/Login/LoginCustomPage.vue","webpack:///./src/views/Login/LoginCustomPage.vue?df92","webpack:///./src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?f407","webpack:///./src/views/Login/LoginCustomPage.vue?3039","webpack:///./src/composables/storage.ts","webpack:///./src/views/Login/Login.vue?c8f1"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","style","_hoisted_2","_hoisted_3","slot","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_label","_resolveComponent","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_inputs","_component_ion_content","_component_ion_select_option","_component_ion_select","_component_ion_button","_component_ion_item","_component_ion_footer","_component_ion_page","_openBlock","_createBlock","default","_withCtx","_createVNode","fontWeight","fontSize","_","class","_createTextVNode","_toDisplayString","version","fullscreen","useVirtualInput","useVirtualInputOnly","id","src","coatImg","alt","pepfarImg","modelValue","profile","$event","value","_createElementBlock","_Fragment","_renderList","deviceProfiles","p","index","key","label","color","fill","size","otherApps","length","onClick","openSelect","_createCommentVNode","ref","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_withDirectives","type","name","autocomplete","placeholder","userInput","username","renderKeyBoard","readonly","_vModelText","password","_normalizeStyle","btnStyles","LOGIN_KEYBOARD","k","i","r","btnCaption","keyPress","Caps","on","toUpperCase","toLowerCase","storage","storageFactory","OFFLINE_METADATA","endpoint","async","syncOfflineMetadata","meta","existsinStorage","data","Service","getJson","paginate","saveToStorage","e","console","warn","defineComponent","props","Boolean","auth","String","focusInput","Object","display","keyboardTop","created","this","AuthService","methods","currentTarget","inputPos","getBoundingClientRect","top","parseInt","window","scrollTo","elem","match","substring","$refs","click","doLogin","x","setUsername","versionLockingIsEnabled","validateIfCorrectAPIVersion","checkTimeIntegrity","login","startSession","isOfflineMode","loadingController","create","message","backdropDismiss","present","getTop","then","l","dismiss","$router","push","InvalidCredentialsError","toastWarning","toastDanger","computed","__exports__","components","IonItem","Inputs","IonButton","IonTitle","IonLabel","IonPage","IonHeader","IonToolbar","IonContent","IonFooter","IonSelect","IonSelectOption","setup","modal","optionsActionSheet","map","app","role","selection","action","find","open","protocol","IP","port","activePlatformProfile","platformProfiles","usePlatform","keyboard","KeyboardType","HIS_KEYBOARD_ONLY","keys","profileName","watch","v","onMounted","_await$auth$loadConfi","_activePlatformProfil","loadConfig","appV","getHeadVersion","setActiveVersion","apiV","getApiVersion","img","showConfig","localStorage","getItem","INDEX_STORE","DB_NAME","storageName","eval","LocalStorage","Promise","resolve","getFromStorage","reject","JSON","parse","deleteFromStorage","removeItem","setItem","stringify","IndexedDBStorage","constructor","_defineProperty","openRequest","indexedDB","onupgradeneeded","result","createObjectStore","onsuccess","db","request","transaction","objectStore","get","onerror","error","filters","openCursor","cursor","filteredData","continue","put","delete","filter","item","entries","every","isInteger","toLower","includes"],"mappings":"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","file":"js/chunk-34427683.1e15fae0.js","sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-24215c3e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", { style: {\"color\":\"#8b4513\"} }, \"National \", -1))\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"b\", { style: {\"color\":\"#cd853f\"} }, \"EMR\", -1))\nconst _hoisted_3 = { slot: \"start\" }\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_title = _resolveComponent(\"ion-title\")!\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")!\n  const _component_ion_header = _resolveComponent(\"ion-header\")!\n  const _component_inputs = _resolveComponent(\"inputs\")!\n  const _component_ion_content = _resolveComponent(\"ion-content\")!\n  const _component_ion_select_option = _resolveComponent(\"ion-select-option\")!\n  const _component_ion_select = _resolveComponent(\"ion-select\")!\n  const _component_ion_button = _resolveComponent(\"ion-button\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")!\n  const _component_ion_page = _resolveComponent(\"ion-page\")!\n\n  return (_openBlock(), _createBlock(_component_ion_page, null, {\n    default: _withCtx(() => [\n      _createVNode(_component_ion_header, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_ion_title, null, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_label, { style: {fontWeight: 'bolder', fontSize: '1.9em'} }, {\n                    default: _withCtx(() => [\n                      _hoisted_1,\n                      _hoisted_2\n                    ]),\n                    _: 1\n                  })\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_ion_label, {\n                class: \"ion-padding\",\n                slot: \"end\"\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Version: \"),\n                  _createElementVNode(\"b\", null, _toDisplayString(_ctx.version), 1)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_content, {\n        fullscreen: \"false\",\n        style: {}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_inputs, { useVirtualInput: _ctx.useVirtualInputOnly }, null, 8, [\"useVirtualInput\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_ion_footer, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_ion_toolbar, null, {\n            default: _withCtx(() => [\n              _createElementVNode(\"span\", _hoisted_3, [\n                _createElementVNode(\"img\", {\n                  id: \"coat\",\n                  src: _ctx.coatImg,\n                  alt: \"Malawi Coat of Arms logo\"\n                }, null, 8, _hoisted_4),\n                _createElementVNode(\"img\", {\n                  id: \"pepfar\",\n                  src: _ctx.pepfarImg,\n                  alt: \"PEPFAR logo\"\n                }, null, 8, _hoisted_5)\n              ]),\n              _createVNode(_component_ion_item, {\n                class: \"his-sm-text\",\n                style: {\"width\":\"75%\"},\n                slot: \"end\"\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_label, null, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\"Device Profile\")\n                    ]),\n                    _: 1\n                  }),\n                  _createVNode(_component_ion_select, {\n                    modelValue: _ctx.profile,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.profile) = $event)),\n                    value: _ctx.profile\n                  }, {\n                    default: _withCtx(() => [\n                      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.deviceProfiles, (p, index) => {\n                        return (_openBlock(), _createBlock(_component_ion_select_option, {\n                          key: index,\n                          value: p.label\n                        }, {\n                          default: _withCtx(() => [\n                            _createTextVNode(_toDisplayString(p.label), 1)\n                          ]),\n                          _: 2\n                        }, 1032, [\"value\"]))\n                      }), 128))\n                    ]),\n                    _: 1\n                  }, 8, [\"modelValue\", \"value\"]),\n                  _createVNode(_component_ion_button, {\n                    color: \"dark\",\n                    fill: \"outline\",\n                    size: \"large\",\n                    slot: \"end\",\n                    \"router-link\": \"/settings/host\"\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Network \")\n                    ]),\n                    _: 1\n                  }),\n                  (_ctx.otherApps.length)\n                    ? (_openBlock(), _createBlock(_component_ion_button, {\n                        key: 0,\n                        color: \"dark\",\n                        fill: \"outline\",\n                        size: \"large\",\n                        slot: \"end\",\n                        onClick: _ctx.openSelect\n                      }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(\" Other Applications \")\n                        ]),\n                        _: 1\n                      }, 8, [\"onClick\"]))\n                    : _createCommentVNode(\"\", true)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }))\n}","import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7d6519b2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"main\",\n  ref: \"main\"\n}\nconst _hoisted_2 = { class: \"rows\" }\nconst _hoisted_3 = { class: \"cells\" }\nconst _hoisted_4 = [\"readonly\"]\nconst _hoisted_5 = { class: \"rows input-rows\" }\nconst _hoisted_6 = { class: \"cells\" }\nconst _hoisted_7 = [\"readonly\"]\nconst _hoisted_8 = { class: \"rows\" }\nconst _hoisted_9 = [\"id\"]\nconst _hoisted_10 = [\"id\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createElementVNode(\"div\", _hoisted_3, [\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            name: \"usename\",\n            autocomplete: \"off\",\n            placeholder: \"Username\",\n            id: \"username\",\n            ref: \"username\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.userInput.username) = $event)),\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.renderKeyBoard($event))),\n            class: \"input-boxes\",\n            readonly: _ctx.useVirtualInput\n          }, null, 8, _hoisted_4), [\n            [_vModelText, _ctx.userInput.username]\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createElementVNode(\"div\", _hoisted_6, [\n          _withDirectives(_createElementVNode(\"input\", {\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.userInput.password) = $event)),\n            type: \"password\",\n            name: \"password\",\n            ref: \"password\",\n            id: \"password\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.renderKeyBoard($event))),\n            class: \"input-boxes\",\n            placeholder: \"Password\",\n            readonly: _ctx.useVirtualInput\n          }, null, 8, _hoisted_7), [\n            [_vModelText, _ctx.userInput.password]\n          ])\n        ])\n      ])\n    ], 512),\n    _createElementVNode(\"div\", {\n      id: \"keyboard\",\n      style: _normalizeStyle(_ctx.btnStyles),\n      class: \"keyboard\"\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.LOGIN_KEYBOARD, (k, i) => {\n        return (_openBlock(), _createElementBlock(\"span\", { key: i }, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(k, (r) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"cells\",\n                key: r\n              }, [\n                (r === 'Next' || r === 'Login')\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 0,\n                      id: _ctx.btnCaption,\n                      class: \"keyboard-btn login-btn\",\n                      onClick: _cache[4] || (_cache[4] = ($event: any) => (_ctx.keyPress($event)))\n                    }, _toDisplayString(_ctx.btnCaption), 9, _hoisted_9))\n                  : _createCommentVNode(\"\", true),\n                (r != 'Login' && r != 'Next')\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 1,\n                      id: _ctx.Caps.on ? r.toUpperCase() : r.toLowerCase(),\n                      class: \"keyboard-btn\",\n                      onClick: _cache[5] || (_cache[5] = ($event: any) => (_ctx.keyPress($event)))\n                    }, _toDisplayString(r === \"Del.\" || r === \"Caps\"\n                ? r\n                : _ctx.Caps.on\n                ? r.toUpperCase()\n                : r.toLowerCase()), 9, _hoisted_10))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            }), 128))\n          ])\n        ]))\n      }), 128))\n    ], 4)\n  ], 64))\n}","import { Service } from \"@/services/service\";\nimport { storageFactory } from \"./storage\";\n\ntype MetadataStruct = { key: string; endpoint: string };\n\nconst storage = storageFactory(\"IndexedDBStorage\");\n\nconst OFFLINE_METADATA: MetadataStruct[] = [\n  {\n    key: \"villages\",\n    endpoint: \"villages\",\n  },\n  {\n    key: \"traditional_authorities\",\n    endpoint: \"traditional_authorities\",\n  },\n  {\n    key: \"districts\",\n    endpoint: \"districts\",\n  },\n  {\n    key: \"regions\",\n    endpoint: \"regions\",\n  },\n  {\n    key: \"locations\",\n    endpoint: \"locations\",\n  },\n];\n\n/** fetch data from the API necessay for offline functionality\n * @returns void\n */\nexport async function syncOfflineMetadata() {\n  for (const meta of OFFLINE_METADATA) {\n    if (!(await storage.existsinStorage(meta.key))) {\n      try {\n        const data = await Service.getJson(meta.endpoint, { paginate: false });\n        storage.saveToStorage(meta.key, data);\n      } catch (e) {\n        console.warn(`Issue loading/saving metadata ${meta}: ${e}`)\n      }\n    }\n  }\n}\n","\nimport { toastWarning, toastDanger } from \"@/utils/Alerts\";\nimport { defineComponent } from 'vue';\nimport { AuthService, InvalidCredentialsError } from \"@/services/auth_service\"\nimport { LOGIN_KEYBOARD } from \"@/components/Keyboard/KbLayouts\"\nimport { isOfflineMode } from \"@/composables/offline\"\nimport { syncOfflineMetadata } from \"@/composables/offline_metadata\";\nimport { loadingController } from \"@ionic/vue\";\n\nexport default defineComponent({\n  props: {\n    useVirtualInput: {\n      type: Boolean\n    }\n  },\n  data: function () {\n    return {\n      LOGIN_KEYBOARD: LOGIN_KEYBOARD,\n      auth: {} as any,\n      userInput: {\n        type: String,\n        username: \"\",\n        password: \"\",\n      },\n      focusInput: {\n        type: Object,\n        value: \"\",\n        id: \"\",\n      },\n      display: \"none\",\n      keyboardTop: \"\",\n      btnCaption: \"\",\n      Caps: {\n        type: Boolean,\n        on: false,\n      },\n    };\n  }, \n  created() {\n    this.auth = new AuthService()\n  },\n  methods: {\n    renderKeyBoard(e: any) {\n      this.focusInput = e.currentTarget;\n      this.focusInput.id == \"password\"\n        ? (this.btnCaption = \"Login\")\n        : (this.btnCaption = \"Next\");\n\n      let inputPos = e.currentTarget.getBoundingClientRect().top;\n      inputPos = parseInt(inputPos);\n\n      this.keyboardTop = inputPos + 20 + \"px;\";\n      this.display = \"table\";\n      window.scrollTo(0,9999);\n    },\n    keyPress(e: any) {\n      const key = e.currentTarget.id;\n      let elem: any;\n\n      try {\n        if (key.match(/Del./i)) {\n          this.focusInput.value = this.focusInput.value.substring(\n            0,\n            this.focusInput.value.length - 1\n          );\n        } else if (key.match(/Next/i)) {\n          this.display = \"none\";\n          elem = this.$refs.password;\n          elem.click();\n        } else if (key.match(/Login/i)) {\n          this.display = \"none\";\n          this.doLogin();\n        } else if (key.match(/Caps/i)) {\n          this.Caps.on = this.Caps.on ? false : true;\n          this.display = \"none\";\n          if (this.focusInput.id === \"username\") {\n            elem = this.$refs.username;\n          } else {\n            elem = this.$refs.password;\n          }\n          elem.click();\n        } else if (key.match(/Hide/i)) {\n          this.display = \"none\";\n        } else {\n          this.focusInput.value += key;\n        }\n\n        this.focusInput.id == \"username\"\n          ? (this.userInput.username = this.focusInput.value)\n          : (this.userInput.password = this.focusInput.value);\n      } catch (x) {\n        console.warn('input error')\n      }\n    },\n    doLogin: async function () {\n      if (this.userInput.username && this.userInput.password) {\n        this.auth.setUsername(this.userInput.username)\n        try {\n          if (this.auth.versionLockingIsEnabled()) {\n            await this.auth.validateIfCorrectAPIVersion()\n          }\n          if (!(await this.auth.checkTimeIntegrity())) {\n            throw \"Local date does not match API date. Please Update your device's date\"\n          }\n          await this.auth.login(this.userInput.password)\n          this.auth.startSession()\n          isOfflineMode.value = false;\n          (await loadingController.create({\n            message: \"Loading metadata, this may take a while...\",\n            backdropDismiss: false\n          })).present()\n          // Cache meta data\n          await syncOfflineMetadata()\n          loadingController.getTop().then(l => l && loadingController.dismiss())\n          this.$router.push(\"/select_hc_location\");\n        } catch (e) {\n          if (e instanceof InvalidCredentialsError ) {\n            toastWarning(\"Invalid username or password\");\n          } else {\n            toastDanger(`Unable to login. Please contact your local administrator for assistance`, 50000)\n          }\n        }\n      } else {\n        toastWarning(\"Complete form to log in\");\n      }\n    }\n  },\n  computed: {\n    btnStyles(): string {\n      return `display: ${this.display}; top: ${this.keyboardTop};`;\n    },\n  },\n});\n","import { render } from \"./LoginCustomPage.vue?vue&type=template&id=7d6519b2&scoped=true&ts=true\"\nimport script from \"./LoginCustomPage.vue?vue&type=script&lang=ts\"\nexport * from \"./LoginCustomPage.vue?vue&type=script&lang=ts\"\n\nimport \"./LoginCustomPage.vue?vue&type=style&index=0&id=7d6519b2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7d6519b2\"]])\n\nexport default __exports__","\nimport Inputs from \"./LoginCustomPage.vue\";\nimport {\n  IonItem,\n  IonSelect,\n  IonSelectOption,\n  IonButton, \n  IonPage, \n  IonContent, \n  IonFooter,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonLabel,\n} from \"@ionic/vue\";\nimport img from '@/utils/Img';\nimport { onMounted, ref } from '@vue/runtime-core';\nimport { AuthService } from '@/services/auth_service';\nimport usePlatform from '@/composables/usePlatform';\nimport { computed, defineComponent, watch } from 'vue';\nimport { KeyboardType } from \"@/composables/usePlatform\"\nimport { find } from 'lodash';\nimport { optionsActionSheet } from \"@/utils/ActionSheets\";\n\nexport default defineComponent({\n  name: \"login\",\n  components: {\n    IonItem,\n    Inputs,\n    IonButton,\n    IonTitle,\n    IonLabel,\n    IonPage,\n    IonHeader,\n    IonToolbar,\n    IonContent,\n    IonFooter,\n    IonSelect,\n    IonSelectOption,\n  },\n  setup() {\n    const otherApps = ref<Array<any>>([]);\n\n    const openSelect = async () => {\n      const modal = await optionsActionSheet(\n        'Application Selection',\n        'Please specify the application you wish to use',\n        otherApps.value.map((app) => app.name),\n        [\n          { name: 'Cancel', color: 'danger',  slot:'start'},\n          { name: 'Confirm', color: 'primary', slot:'end', role: 'action'}\n        ]\n      )\n      if (modal.selection && modal.action != 'Cancel') {\n        const app = otherApps.value.find(app => app.name === modal.selection)\n        window.open(`${app.protocol || 'http'}://${app.IP}:${app.port || 80}`, '_blank');\n      }\n    };\n\n    const {\n      activePlatformProfile,\n      platformProfiles\n    } = usePlatform()\n    const version = ref('')\n    const profile = ref('' as string)\n    const useVirtualInputOnly = computed(\n      () => activePlatformProfile.value.keyboard === KeyboardType.HIS_KEYBOARD_ONLY\n    )\n    const deviceProfiles: any = Object.keys(platformProfiles.value).map(key => ({\n      label: key,\n      value: { profileName: key, ...platformProfiles.value[key] },\n    }))\n    watch(profile, (v: string) => {\n      activePlatformProfile.value = (find(deviceProfiles, { label: v }) || {}).value\n    })\n    onMounted(async () => {\n      const auth = new AuthService()\n      otherApps.value = (await auth.loadConfig())?.otherApps || []\n      const appV = auth.getHeadVersion()\n      auth.setActiveVersion(appV)\n      const apiV = await auth.getApiVersion()\n      version.value = `${appV} / ${apiV}`\n      profile.value = activePlatformProfile.value?.profileName || ''\n    })\n    return {\n      version,\n      profile,\n      otherApps,\n      deviceProfiles,\n      useVirtualInputOnly,\n      activePlatformProfile,\n      coatImg: img('login-logos/Malawi-Coat_of_arms_of_arms.png'),\n      pepfarImg: img('login-logos/PEPFAR.png'),\n      showConfig: localStorage.getItem(\"useLocalStorage\") === \"true\",\n      openSelect\n    }\n  }\n})\n","import { render } from \"./Login.vue?vue&type=template&id=24215c3e&scoped=true&ts=true\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=24215c3e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24215c3e\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./LoginCustomPage.vue?vue&type=style&index=0&id=7d6519b2&scoped=true&lang=css\"","import { StorageInterface } from '@/interfaces/storage';\nimport { filter, isInteger, toLower } from 'lodash';\n\nconst INDEX_STORE = 'openmrs'\nconst DB_NAME = 'offline_db'\n\ntype StorageName = \"LocalStorage\" | \"IndexedDBStorage\";\n\nexport const storageFactory = (storageName: StorageName='IndexedDBStorage'): StorageInterface => {\n  return eval(`new ${storageName}()`) as StorageInterface;\n};\n\nexport class LocalStorage implements StorageInterface {\n  existsinStorage(key: string): Promise<boolean> {\n    const data = localStorage.getItem(key);\n    if (data) {\n      return Promise.resolve(true);\n    }\n    return Promise.resolve(false);\n  }\n\n  getFromStorage(key: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const data = localStorage.getItem(key);\n      if (data) {\n        return resolve(JSON.parse(data));\n      }\n      resolve([]);\n    });\n  }\n\n  deleteFromStorage(key: string): boolean {\n    localStorage.removeItem(key);\n    return true;\n  }\n\n  saveToStorage(key: string, data: JSON): boolean {\n    localStorage.setItem(key, JSON.stringify(data));\n    return true;\n  }\n}\n\nexport class IndexedDBStorage implements StorageInterface {\n  db!: IDBDatabase;\n\n  constructor() {\n    const openRequest = indexedDB.open(DB_NAME, 1);\n    openRequest.onupgradeneeded = function () {\n      openRequest.result.createObjectStore(INDEX_STORE);\n    };\n    openRequest.onsuccess = () => {\n      this.db = openRequest.result;\n    };\n  }\n\n  existsinStorage(key: string): Promise<unknown> {\n    return new Promise((resolve, reject) => {\n      const request = this.db\n        .transaction(INDEX_STORE)\n        .objectStore(INDEX_STORE)\n        .get(key);\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  getFromStorage(key: string, filters: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      const request = this.db\n        .transaction(INDEX_STORE)\n        .objectStore(INDEX_STORE)\n        .openCursor();\n      request.onsuccess = () => {\n        const cursor = request.result;\n        if (cursor) {\n          if (cursor.key === key) {\n            if (filters) {\n              resolve(filteredData(cursor, filters));\n            } else {\n              resolve(cursor.value.data);\n            }\n          }\n          cursor.continue();\n        } else {\n          resolve([]);\n        }\n      };\n      request.onerror = () => {\n        reject(\"error\");\n      };\n    });\n  }\n\n  saveToStorage(key: string, data: any): boolean {\n    this.db\n      .transaction(INDEX_STORE, \"readwrite\")\n      .objectStore(INDEX_STORE)\n      .put(data, key);\n    return true;\n  }\n\n  deleteFromStorage(key: string): boolean {\n    this.db\n      .transaction(INDEX_STORE, \"readwrite\")\n      .objectStore(INDEX_STORE)\n      .delete(key);\n    return true;\n  }\n}\n\nfunction filteredData(cursor: IDBCursorWithValue, filters: any): any {\n  return filter(cursor.value, (item: any) => {\n    return Object.entries(filters).every(([key, value]: any) => {\n      if (isInteger(item[key])) {\n        return !value || item[key] === value;\n      } else {\n        return !value || toLower(item[key]).includes(toLower(value));\n      }\n    });\n  });\n}\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=24215c3e&scoped=true&lang=css\""],"sourceRoot":""}